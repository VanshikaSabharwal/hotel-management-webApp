/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sanity";
exports.ids = ["vendor-chunks/@sanity"];
exports.modules = {

/***/ "(ssr)/./node_modules/@sanity/asset-utils/dist/asset-utils.esm.js":
/*!******************************************************************!*\
  !*** ./node_modules/@sanity/asset-utils/dist/asset-utils.esm.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_CROP: () => (/* binding */ DEFAULT_CROP),\n/* harmony export */   DEFAULT_HOTSPOT: () => (/* binding */ DEFAULT_HOTSPOT),\n/* harmony export */   buildFilePath: () => (/* binding */ buildFilePath),\n/* harmony export */   buildFileUrl: () => (/* binding */ buildFileUrl),\n/* harmony export */   buildImagePath: () => (/* binding */ buildImagePath),\n/* harmony export */   buildImageUrl: () => (/* binding */ buildImageUrl),\n/* harmony export */   getAssetDocumentId: () => (/* binding */ getAssetDocumentId),\n/* harmony export */   getAssetUrlType: () => (/* binding */ getAssetUrlType),\n/* harmony export */   getDefaultCrop: () => (/* binding */ getDefaultCrop),\n/* harmony export */   getDefaultHotspot: () => (/* binding */ getDefaultHotspot),\n/* harmony export */   getExtension: () => (/* binding */ getExtension),\n/* harmony export */   getFile: () => (/* binding */ getFile),\n/* harmony export */   getFileAsset: () => (/* binding */ getFileAsset),\n/* harmony export */   getIdFromString: () => (/* binding */ getIdFromString),\n/* harmony export */   getImage: () => (/* binding */ getImage),\n/* harmony export */   getImageAsset: () => (/* binding */ getImageAsset),\n/* harmony export */   getImageDimensions: () => (/* binding */ getImageDimensions),\n/* harmony export */   getProject: () => (/* binding */ getProject),\n/* harmony export */   getUrlFilename: () => (/* binding */ getUrlFilename),\n/* harmony export */   getUrlPath: () => (/* binding */ getUrlPath),\n/* harmony export */   isAssetFilename: () => (/* binding */ isAssetFilename),\n/* harmony export */   isAssetId: () => (/* binding */ isAssetId),\n/* harmony export */   isAssetIdStub: () => (/* binding */ isAssetIdStub),\n/* harmony export */   isAssetObjectStub: () => (/* binding */ isAssetObjectStub),\n/* harmony export */   isAssetPathStub: () => (/* binding */ isAssetPathStub),\n/* harmony export */   isAssetUrlStub: () => (/* binding */ isAssetUrlStub),\n/* harmony export */   isDefaultCrop: () => (/* binding */ isDefaultCrop),\n/* harmony export */   isDefaultHotspot: () => (/* binding */ isDefaultHotspot),\n/* harmony export */   isFileAssetFilename: () => (/* binding */ isFileAssetFilename),\n/* harmony export */   isFileAssetId: () => (/* binding */ isFileAssetId),\n/* harmony export */   isFileSource: () => (/* binding */ isFileSource),\n/* harmony export */   isImageAssetFilename: () => (/* binding */ isImageAssetFilename),\n/* harmony export */   isImageAssetId: () => (/* binding */ isImageAssetId),\n/* harmony export */   isImageSource: () => (/* binding */ isImageSource),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isReference: () => (/* binding */ isReference),\n/* harmony export */   isSanityAssetUrl: () => (/* binding */ isSanityAssetUrl),\n/* harmony export */   isSanityFileAsset: () => (/* binding */ isSanityFileAsset),\n/* harmony export */   isSanityFileUrl: () => (/* binding */ isSanityFileUrl),\n/* harmony export */   isSanityImageAsset: () => (/* binding */ isSanityImageAsset),\n/* harmony export */   isSanityImageUrl: () => (/* binding */ isSanityImageUrl),\n/* harmony export */   isValidFilename: () => (/* binding */ isValidFilename),\n/* harmony export */   parseAssetFilename: () => (/* binding */ parseAssetFilename),\n/* harmony export */   parseAssetId: () => (/* binding */ parseAssetId),\n/* harmony export */   parseAssetUrl: () => (/* binding */ parseAssetUrl),\n/* harmony export */   parseFileAssetId: () => (/* binding */ parseFileAssetId),\n/* harmony export */   parseFileAssetUrl: () => (/* binding */ parseFileAssetUrl),\n/* harmony export */   parseImageAssetId: () => (/* binding */ parseImageAssetId),\n/* harmony export */   parseImageAssetUrl: () => (/* binding */ parseImageAssetUrl),\n/* harmony export */   tryGetAssetDocumentId: () => (/* binding */ tryGetAssetDocumentId),\n/* harmony export */   tryGetAssetPath: () => (/* binding */ tryGetAssetPath),\n/* harmony export */   tryGetExtension: () => (/* binding */ tryGetExtension),\n/* harmony export */   tryGetFile: () => (/* binding */ tryGetFile),\n/* harmony export */   tryGetFileAsset: () => (/* binding */ tryGetFileAsset),\n/* harmony export */   tryGetIdFromString: () => (/* binding */ tryGetIdFromString),\n/* harmony export */   tryGetImage: () => (/* binding */ tryGetImage),\n/* harmony export */   tryGetImageAsset: () => (/* binding */ tryGetImageAsset),\n/* harmony export */   tryGetImageDimensions: () => (/* binding */ tryGetImageDimensions),\n/* harmony export */   tryGetProject: () => (/* binding */ tryGetProject),\n/* harmony export */   tryGetUrlFilename: () => (/* binding */ tryGetUrlFilename),\n/* harmony export */   tryGetUrlPath: () => (/* binding */ tryGetUrlPath)\n/* harmony export */ });\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\n/**\r\n * Default crop (equals to \"whole image\")\r\n */\nvar DEFAULT_CROP = /*#__PURE__*/Object.freeze({\n  left: 0,\n  top: 0,\n  bottom: 0,\n  right: 0\n});\n/**\r\n * Default hotspot (equals to horizontal/vertical center, full size of image)\r\n */\n\nvar DEFAULT_HOTSPOT = /*#__PURE__*/Object.freeze({\n  x: 0.5,\n  y: 0.5,\n  height: 1,\n  width: 1\n});\n/**\r\n * Returns cloned version of the default crop (prevents accidental mutations)\r\n *\r\n * @returns Default image crop object\r\n */\n\nvar getDefaultCrop = function getDefaultCrop() {\n  return _extends({}, DEFAULT_CROP);\n};\n/**\r\n * Returns cloned version of the default hotspot (prevents accidental mutations)\r\n *\r\n * @returns Default image hotspot object\r\n */\n\nvar getDefaultHotspot = function getDefaultHotspot() {\n  return _extends({}, DEFAULT_HOTSPOT);\n};\n/**\r\n * Returns whether or not the passed crop has the default values for a crop region\r\n *\r\n * @param crop The crop to return whether or not is the default crop\r\n * @returns True if passed crop matches default, false otherwise\r\n */\n\nvar isDefaultCrop = function isDefaultCrop(crop) {\n  var top = crop.top,\n      bottom = crop.bottom,\n      left = crop.left,\n      right = crop.right;\n  var defaultTop = DEFAULT_CROP.top,\n      defaultBottom = DEFAULT_CROP.bottom,\n      defaultLeft = DEFAULT_CROP.left,\n      defaultRight = DEFAULT_CROP.right;\n  return top === defaultTop && bottom === defaultBottom && left === defaultLeft && right === defaultRight;\n};\n/**\r\n * Returns whether or not the passed hotspot has the default values for a hotspot region\r\n *\r\n * @param hotspot The hotspot to return whether or not is the default hotspot\r\n * @returns True if passed hotspot matches default, false otherwise\r\n */\n\nvar isDefaultHotspot = function isDefaultHotspot(hotspot) {\n  var x = hotspot.x,\n      y = hotspot.y,\n      width = hotspot.width,\n      height = hotspot.height;\n  var defaultX = DEFAULT_HOTSPOT.x,\n      defaultY = DEFAULT_HOTSPOT.y,\n      defaultWidth = DEFAULT_HOTSPOT.width,\n      defaultHeight = DEFAULT_HOTSPOT.height;\n  return x === defaultX && y === defaultY && width === defaultWidth && height === defaultHeight;\n};\n\n/**\r\n * Error type thrown when the library fails to resolve a value, such as an asset ID,\r\n * filename or project ID/dataset information.\r\n *\r\n * The `input` property holds the value passed as the input, which failed to be\r\n * resolved to something meaningful.\r\n */\nvar UnresolvableError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(UnresolvableError, _Error);\n\n  function UnresolvableError(inputSource, message) {\n    var _this;\n\n    if (message === void 0) {\n      message = 'Failed to resolve asset ID from source';\n    }\n\n    _this = _Error.call(this, message) || this;\n    _this.unresolvable = true;\n    _this.input = inputSource;\n    return _this;\n  }\n\n  return UnresolvableError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\r\n * Checks whether or not an error instance is of type UnresolvableError\r\n *\r\n * @param err - Error to check for unresolvable error type\r\n * @returns True if the passed error instance appears to be an unresolveable error\r\n */\n\nfunction isUnresolvableError(err) {\n  var error = err;\n  return Boolean(error.unresolvable && 'input' in error);\n}\n/**\r\n * Returns a getter which returns `undefined` instead of throwing,\r\n * if encountering an `UnresolvableError`\r\n *\r\n * @param method - Function to use as resolver\r\n * @returns Function that returns `undefined` if passed resolver throws UnresolvableError\r\n * @internal\r\n */\n\nfunction getForgivingResolver(method) {\n  return function () {\n    try {\n      return method.apply(void 0, arguments);\n    } catch (err) {\n      if (isUnresolvableError(err)) {\n        return undefined;\n      }\n\n      throw err;\n    }\n  };\n}\n\n/**\r\n * @internal\r\n */\nvar cdnUrl = 'https://cdn.sanity.io';\n/**\r\n * @internal\r\n */\n\nvar fileAssetFilenamePattern = /^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\\.[a-z0-9]+$/;\n/**\r\n * @internal\r\n */\n\nvar fileAssetIdPattern = /^file-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+$/;\n/**\r\n * @internal\r\n */\n\nvar imageAssetFilenamePattern = /^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\\d+x\\d+\\.[a-z0-9]+$/;\n/**\r\n * @internal\r\n */\n\nvar imageAssetIdPattern = /^image-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\\d+x\\d+-[a-z0-9]+$/;\n/**\r\n * @internal\r\n */\n\nvar pathPattern = /^(images|files)\\/([a-z0-9]+)\\/([a-z0-9][-\\w]*)\\//;\n/**\r\n * @internal\r\n */\n\nvar idPattern = /^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\\d+x\\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;\n/**\r\n * For use in cases where the project and dataset doesn't really matter\r\n *\r\n * @internal\r\n */\n\nvar dummyProject = {\n  projectId: 'a',\n  dataset: 'b'\n};\n\n/**\r\n * Checks whether or not the given source is a Sanity reference\r\n * (an object containing _ref string key)\r\n *\r\n * @param ref - Possible reference\r\n * @returns Whether or not the passed object is a reference\r\n */\n\nfunction isReference(ref) {\n  return isObject(ref) && typeof ref._ref === 'string';\n}\n/**\r\n * Checks whether or not the given source is an asset ID stub\r\n * (an object containing an `_id` property)\r\n *\r\n * @param stub - Possible asset id stub\r\n * @returns Whether or not the passed object is an object id stub\r\n */\n\nfunction isAssetIdStub(stub) {\n  return isObject(stub) && typeof stub._id === 'string';\n}\n/**\r\n * Checks whether or not the given source is an asset path stub\r\n * (an object containing a `path` property)\r\n *\r\n * @param stub - Possible asset path stub\r\n * @returns Whether or not the passed object is an object path stub\r\n */\n\nfunction isAssetPathStub(stub) {\n  return isObject(stub) && typeof stub.path === 'string';\n}\n/**\r\n * Checks whether or not the given source is an asset URL stub\r\n * (an object containing a `url` property)\r\n *\r\n * @param stub - Possible asset url stub\r\n * @returns Whether or not the passed object is an object url stub\r\n */\n\nfunction isAssetUrlStub(stub) {\n  return isObject(stub) && typeof stub.url === 'string';\n}\n/**\r\n * Checks whether or not the given source is a (partial) sanity file asset document.\r\n * Only checks the `_type` property, all other properties _may_ be missing\r\n *\r\n * @param src - Source to check\r\n * @returns Whether or not the given source is a file asset\r\n */\n\nfunction isSanityFileAsset(src) {\n  return isObject(src) && src._type === 'sanity.fileAsset';\n}\n/**\r\n * Checks whether or not the given source is a (partial) sanity image asset document.\r\n * Only checks the `_type` property, all other properties _may_ be missing\r\n *\r\n * @param src - Source to check\r\n * @returns Whether or not the given source is a file asset\r\n */\n\nfunction isSanityImageAsset(src) {\n  return isObject(src) && src._type === 'sanity.imageAsset';\n}\n/**\r\n * Checks whether or not the given document ID is a valid Sanity image asset document ID\r\n *\r\n * @param documentId - Document ID to check\r\n * @returns Whether or not the given document ID is a Sanity image asset document ID\r\n */\n\nfunction isImageAssetId(documentId) {\n  return imageAssetIdPattern.test(documentId);\n}\n/**\r\n * Checks whether or not the given document ID is a valid Sanity file asset document ID\r\n *\r\n * @param documentId - Document ID to check\r\n * @returns Whether or not the given document ID is a Sanity file asset document ID\r\n */\n\nfunction isFileAssetId(documentId) {\n  return fileAssetIdPattern.test(documentId);\n}\n/**\r\n * Checks whether or not the given document ID is a valid Sanity asset document ID (file or image)\r\n *\r\n * @param documentId - Document ID to check\r\n * @returns Whether or not the given document ID is a Sanity asset document ID (file or image)\r\n */\n\nfunction isAssetId(documentId) {\n  return isImageAssetId(documentId) || isFileAssetId(documentId);\n}\n/**\r\n * Checks whether or not the given source is an asset object stub\r\n *\r\n * @param stub - Possible asset object stub\r\n * @returns Whether or not the passed object is an object stub\r\n */\n\nfunction isAssetObjectStub(stub) {\n  var item = stub;\n  return isObject(item) && item.asset && typeof item.asset === 'object';\n}\n/**\r\n * Checks whether or not the passed object is an object (and not `null`)\r\n *\r\n * @param obj Item to check whether or not is an object\r\n * @returns Whether or not `obj` is an object\r\n * @internal\r\n */\n\nfunction isObject(obj) {\n  return obj !== null && !Array.isArray(obj) && typeof obj === 'object';\n}\n\n/**\r\n * Builds the base image path from the minimal set of parts required to assemble it\r\n *\r\n * @param asset - An asset-like shape defining ID, dimensions and extension\r\n * @param options - Project ID and dataset the image belongs to, along with other options\r\n * @return string\r\n */\n\nfunction buildImagePath(asset, options) {\n  var projectId = (options == null ? void 0 : options.projectId) || asset.projectId;\n  var dataset = (options == null ? void 0 : options.dataset) || asset.dataset;\n\n  if (!projectId || !dataset) {\n    throw new Error('Project details (projectId and dataset) required to resolve path for image');\n  }\n\n  var dimensions = 'metadata' in asset ? asset.metadata.dimensions : {\n    width: asset.width,\n    height: asset.height\n  };\n  var originalFilename = 'originalFilename' in asset ? asset.originalFilename : undefined;\n  var assetId = asset.assetId,\n      extension = asset.extension,\n      vanityFilename = asset.vanityFilename;\n  var width = dimensions.width,\n      height = dimensions.height;\n  var vanity = getVanityStub(originalFilename, vanityFilename, options);\n  return \"images/\" + projectId + \"/\" + dataset + \"/\" + assetId + \"-\" + width + \"x\" + height + \".\" + extension + vanity;\n}\n/**\r\n * Builds the base image URL from the minimal set of parts required to assemble it\r\n *\r\n * @param asset - An asset-like shape defining ID, dimensions and extension\r\n * @param options - Project ID and dataset the image belongs to\r\n * @return string\r\n */\n\nfunction buildImageUrl(asset, options) {\n  return cdnUrl + \"/\" + buildImagePath(asset, options);\n}\n/**\r\n * Builds the base file path from the minimal set of parts required to assemble it\r\n *\r\n * @param asset - An asset-like shape defining ID, dimensions and extension\r\n * @param options - Project ID and dataset the file belongs to, along with other options\r\n * @return string\r\n */\n\nfunction buildFilePath(asset, options) {\n  var projectId = (options == null ? void 0 : options.projectId) || asset.projectId;\n  var dataset = (options == null ? void 0 : options.dataset) || asset.dataset;\n\n  if (!projectId || !dataset) {\n    throw new Error('Project details (projectId and dataset) required to resolve path for file');\n  }\n\n  var originalFilename = 'originalFilename' in asset ? asset.originalFilename : undefined;\n  var assetId = asset.assetId,\n      extension = asset.extension,\n      vanityFilename = asset.vanityFilename;\n  var vanity = getVanityStub(originalFilename, vanityFilename, options);\n  return \"files/\" + projectId + \"/\" + dataset + \"/\" + assetId + \".\" + extension + vanity;\n}\n/**\r\n * Builds the base file URL from the minimal set of parts required to assemble it\r\n *\r\n * @param asset - An asset-like shape defining ID and extension\r\n * @param options - Project ID and dataset the file belongs to, along with other options\r\n * @return string\r\n */\n\nfunction buildFileUrl(asset, project) {\n  return cdnUrl + \"/\" + buildFilePath(asset, project);\n}\n/**\r\n * Checks whether or not the given URL contains an asset path\r\n *\r\n * @param url - URL or path name\r\n * @returns Whether or not it contained an asset path\r\n */\n\nfunction hasPath(urlOrPath) {\n  return pathPattern.test(tryGetUrlPath(urlOrPath) || '');\n}\n/**\r\n * Tries to get the asset path from a given asset source\r\n *\r\n * @param src - The source image to infer an asset path from\r\n * @returns A path if resolvable, undefined otherwise\r\n */\n\n\nfunction tryGetAssetPath(src) {\n  if (isAssetObjectStub(src)) {\n    return tryGetAssetPath(src.asset);\n  }\n\n  if (isReference(src)) {\n    return undefined;\n  }\n\n  if (typeof src === 'string') {\n    return hasPath(src) ? getUrlPath(src) : undefined;\n  }\n\n  if (isAssetPathStub(src)) {\n    return src.path;\n  }\n\n  if (isAssetUrlStub(src)) {\n    return getUrlPath(src.url);\n  }\n\n  return undefined;\n}\n/**\r\n * Strips the CDN URL and query params from a URL, eg:\r\n * `https://cdn.sanity.io/images/project/dataset/filename-200x200.jpg?foo=bar` =>\r\n * `images/project/dataset/filename-200x200.jpg`\r\n *\r\n * @param url - URL to get path name from\r\n * @returns The path of a CDN URL\r\n * @throws If URL is not a valid Sanity asset URL\r\n */\n\nfunction getUrlPath(url) {\n  if (pathPattern.test(url)) {\n    // Already just a path\n    return url;\n  }\n\n  if (!url.startsWith(cdnUrl + \"/\")) {\n    throw new UnresolvableError(\"Failed to resolve path from URL \\\"\" + url + \"\\\"\");\n  }\n\n  var qsPos = url.indexOf('?');\n  var toIndex = qsPos === -1 ? undefined : qsPos;\n  return url.slice(cdnUrl.length + 1, toIndex);\n}\n/**\r\n * See {@link getUrlPath}\r\n *\r\n * @inheritFrom {@link getUrlPath}\r\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\r\n */\n\nvar tryGetUrlPath = /*#__PURE__*/getForgivingResolver(getUrlPath);\n/**\r\n * Strips the CDN URL, path and query params from a URL, eg:\r\n * `https://cdn.sanity.io/images/project/dataset/filename-200x200.jpg?foo=bar` =>\r\n * `filename-200x200.jpg`\r\n *\r\n * @param url - URL to get filename from\r\n * @returns The filename of an URL, if URL matches the CDN URL\r\n * @throws If URL is not a valid Sanity asset URL\r\n */\n\nfunction getUrlFilename(url) {\n  var path = tryGetUrlPath(url) || url;\n  var filename = path.replace(/^(images|files)\\/[a-z0-9]+\\/[a-z0-9][-\\w]\\/*/, '');\n\n  if (!isValidFilename(filename)) {\n    throw new UnresolvableError(\"Failed to resolve filename from URL \\\"\" + url + \"\\\"\");\n  }\n\n  return filename;\n}\n/**\r\n * See {@link getUrlFilename}\r\n *\r\n * @inheritFrom {@link getUrlFilename}\r\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\r\n */\n\nvar tryGetUrlFilename = /*#__PURE__*/getForgivingResolver(getUrlFilename);\n/**\r\n * Checks whether or not a given filename matches the expected Sanity asset filename pattern\r\n *\r\n * @param filename - Filename to check for validity\r\n * @returns Whether or not the specified filename is valid\r\n */\n\nfunction isValidFilename(filename) {\n  return fileAssetFilenamePattern.test(filename) || imageAssetFilenamePattern.test(filename);\n}\n/**\r\n * Get the \"path stub\" at the end of the path, if the user hasn't explicitly opted out of this behavior\r\n */\n\nfunction getVanityStub(originalFilename, vanityFilename, options) {\n  var vanity = vanityFilename || originalFilename;\n  return (options == null ? void 0 : options.useVanityName) === false || !vanity ? '' : \"/\" + vanity;\n}\n\n/**\r\n * @internal\r\n */\n\nvar exampleFileId = 'file-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-pdf';\n/**\r\n * @internal\r\n */\n\nvar exampleImageId = 'image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg';\n/**\r\n * Parses a Sanity asset document ID into individual parts (type, id, extension, width/height etc)\r\n *\r\n * @param documentId - Document ID to parse into named parts\r\n * @returns Object of named properties\r\n * @throws If document ID is invalid\r\n */\n\nfunction parseAssetId(documentId) {\n  if (imageAssetIdPattern.test(documentId)) {\n    return parseImageAssetId(documentId);\n  }\n\n  if (fileAssetIdPattern.test(documentId)) {\n    return parseFileAssetId(documentId);\n  }\n\n  throw new Error(\"Invalid image/file asset ID: \" + documentId);\n}\n/**\r\n * Parses a Sanity file asset document ID into individual parts (type, id, extension)\r\n *\r\n * @param documentId - File asset document ID to parse into named parts\r\n * @returns Object of named properties\r\n * @throws If document ID invalid\r\n */\n\nfunction parseFileAssetId(documentId) {\n  if (!fileAssetIdPattern.test(documentId)) {\n    throw new Error(\"Malformed file asset ID '\" + documentId + \"'. Expected an id like \\\"\" + exampleFileId + \"\\\"\");\n  }\n\n  var _documentId$split = documentId.split('-'),\n      assetId = _documentId$split[1],\n      extension = _documentId$split[2];\n\n  return {\n    type: 'file',\n    assetId: assetId,\n    extension: extension\n  };\n}\n/**\r\n * Parses a Sanity image asset document ID into individual parts (type, id, extension, width, height)\r\n *\r\n * @param documentId - Image asset document ID to parse into named parts\r\n * @returns Object of named properties\r\n * @throws If document ID invalid\r\n */\n\nfunction parseImageAssetId(documentId) {\n  var _documentId$split2 = documentId.split('-'),\n      assetId = _documentId$split2[1],\n      dimensionString = _documentId$split2[2],\n      extension = _documentId$split2[3];\n\n  var _split$map = (dimensionString || '').split('x').map(Number),\n      width = _split$map[0],\n      height = _split$map[1];\n\n  if (!assetId || !dimensionString || !extension || !(width > 0) || !(height > 0)) {\n    throw new Error(\"Malformed asset ID '\" + documentId + \"'. Expected an id like \\\"\" + exampleImageId + \"\\\".\");\n  }\n\n  return {\n    type: 'image',\n    assetId: assetId,\n    width: width,\n    height: height,\n    extension: extension\n  };\n}\n/**\r\n * Parses a Sanity asset filename into individual parts (type, id, extension, width, height)\r\n *\r\n * @param filename - Filename to parse into named parts\r\n * @returns Object of named properties\r\n * @throws If image/filename is invalid\r\n */\n\nfunction parseAssetFilename(filename) {\n  var file = tryGetUrlFilename(filename) || '';\n\n  if (!isValidFilename(file)) {\n    throw new Error(\"Invalid image/file asset filename: \" + filename);\n  }\n\n  try {\n    var type = imageAssetFilenamePattern.test(file) ? 'image' : 'file';\n    var assetId = file.replace(/\\.([a-z0-9+]+)$/i, '-$1');\n    return parseAssetId(type + \"-\" + assetId);\n  } catch (err) {\n    throw new Error(\"Invalid image/file asset filename: \" + filename);\n  }\n}\n/**\r\n * Parses a full Sanity asset URL into individual parts\r\n * (type, project ID, dataset, id, extension, width, height)\r\n *\r\n * @param url - Full URL to parse into named parts\r\n * @returns Object of named properties\r\n * @throws If URL is invalid or not a Sanity asset URL\r\n */\n\nfunction parseAssetUrl(url) {\n  if (!url.startsWith(cdnUrl)) {\n    throw new Error(\"URL is not a valid Sanity asset URL: \" + url);\n  }\n\n  var path = url.slice(cdnUrl.length).replace(/^\\/+/, '');\n\n  var _ref = path.match(pathPattern) || [],\n      projectPath = _ref[0],\n      projectId = _ref[2],\n      dataset = _ref[3];\n\n  if (!projectId || !dataset) {\n    throw new Error(\"URL is not a valid Sanity asset URL: \" + url);\n  }\n\n  var _path$slice$split = path.slice(projectPath.length).split('/'),\n      filename = _path$slice$split[0],\n      vanityFilename = _path$slice$split[1];\n\n  var parsed = parseAssetFilename(filename);\n  return _extends({}, parsed, {\n    projectId: projectId,\n    dataset: dataset,\n    vanityFilename: vanityFilename\n  });\n}\n/**\r\n * Parses a full Sanity image asset URL into individual parts\r\n * (type, project ID, dataset, id, extension, width, height)\r\n *\r\n * @param url - Full URL to parse into named parts\r\n * @returns Object of named properties\r\n * @throws If URL is invalid or not a Sanity image asset URL\r\n */\n\nfunction parseImageAssetUrl(url) {\n  var parsed = parseAssetUrl(url);\n\n  if (parsed.type !== 'image') {\n    throw new Error(\"URL is not a valid Sanity image asset URL: \" + url);\n  }\n\n  return parsed;\n}\n/**\r\n * Parses a full Sanity file asset URL into individual parts\r\n * (type, project ID, dataset, id, extension, width, height)\r\n *\r\n * @param url - Full URL to parse into named parts\r\n * @returns Object of named properties\r\n * @throws If URL is invalid or not a Sanity file asset URL\r\n */\n\nfunction parseFileAssetUrl(url) {\n  var parsed = parseAssetUrl(url);\n\n  if (parsed.type !== 'file') {\n    throw new Error(\"URL is not a valid Sanity file asset URL: \" + url);\n  }\n\n  return parsed;\n}\n/**\r\n * Validates that a given URL is a Sanity asset URL, and returns the asset type if valid.\r\n *\r\n * @param url URL to extract asset type from\r\n * @returns Asset type if valid URL, false otherwise\r\n * @internal\r\n */\n\nfunction getAssetUrlType(url) {\n  try {\n    return parseAssetUrl(url).type;\n  } catch (err) {\n    return false;\n  }\n}\n\n/**\r\n * Returns the width, height and aspect ratio of a passed image asset, from any\r\n * inferrable structure (id, url, path, asset document, image object etc)\r\n *\r\n * @param src - Input source (image object, asset, reference, id, url, path)\r\n * @returns Object with width, height and aspect ratio properties\r\n *\r\n * @throws {@link UnresolvableError}\r\n * Throws if passed image source could not be resolved to an asset ID\r\n */\n\nfunction getImageDimensions(src) {\n  var imageId = getAssetDocumentId(src);\n\n  var _parseImageAssetId = parseImageAssetId(imageId),\n      width = _parseImageAssetId.width,\n      height = _parseImageAssetId.height;\n\n  var aspectRatio = width / height;\n  return {\n    width: width,\n    height: height,\n    aspectRatio: aspectRatio\n  };\n}\n/**\r\n * See {@link getImageDimensions}\r\n *\r\n * @inheritFrom {@link getImageDimensions}\r\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\r\n */\n\nvar tryGetImageDimensions = /*#__PURE__*/getForgivingResolver(getImageDimensions);\n/**\r\n * Returns the file extension for a given asset\r\n *\r\n * @param src - Input source (file/image object, asset, reference, id, url, path)\r\n * @returns The file extension, if resolvable (no `.` included)\r\n *\r\n * @throws {@link UnresolvableError}\r\n * Throws if passed asset source could not be resolved to an asset ID\r\n */\n\nfunction getExtension(src) {\n  return isFileSource(src) ? getFile(src, dummyProject).asset.extension : getImage(src, dummyProject).asset.extension;\n}\n/**\r\n * See {@link getExtension}\r\n *\r\n * @inheritFrom {@link getExtension}\r\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\r\n */\n\nvar tryGetExtension = /*#__PURE__*/getForgivingResolver(getExtension);\n/**\r\n * Tries to resolve an image object with as much information as possible,\r\n * from any inferrable structure (id, url, path, image object etc)\r\n *\r\n * @param src - Input source (image object, asset, reference, id, url, path)\r\n * @param project Project ID and dataset the image belongs to\r\n * @returns Image object\r\n *\r\n * @throws {@link UnresolvableError}\r\n * Throws if passed image source could not be resolved to an asset ID\r\n */\n\nfunction getImage(src, project) {\n  var projectDetails = project || tryGetProject(src);\n  var asset = getImageAsset(src, projectDetails);\n  var img = src;\n  return {\n    asset: asset,\n    crop: img.crop || getDefaultCrop(),\n    hotspot: img.hotspot || getDefaultHotspot()\n  };\n}\n/**\r\n * See {@link getImage}\r\n *\r\n * @inheritFrom {@link getImage}\r\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\r\n */\n\nvar tryGetImage = /*#__PURE__*/getForgivingResolver(getImage);\n/**\r\n * Tries to resolve a (partial) image asset document with as much information as possible,\r\n * from any inferrable structure (id, url, path, image object etc)\r\n *\r\n * @param src - Input source (image object, asset, reference, id, url, path)\r\n * @param project - Project ID and dataset the image belongs to\r\n * @returns Image asset document\r\n *\r\n * @throws {@link UnresolvableError}\r\n * Throws if passed image source could not be resolved to an asset ID\r\n */\n\nfunction getImageAsset(src, project) {\n  var projectDetails = project || getProject(src);\n\n  var pathOptions = _extends({}, projectDetails, {\n    useVanityName: false\n  });\n\n  var _id = getAssetDocumentId(src);\n\n  var sourceObj = src;\n  var source = sourceObj.asset || src;\n  var metadata = source.metadata || {};\n\n  var _parseImageAssetId2 = parseImageAssetId(_id),\n      assetId = _parseImageAssetId2.assetId,\n      width = _parseImageAssetId2.width,\n      height = _parseImageAssetId2.height,\n      extension = _parseImageAssetId2.extension;\n\n  var aspectRatio = width / height;\n\n  var baseAsset = _extends({}, isSanityImageAsset(src) ? src : {}, {\n    _id: _id,\n    _type: 'sanity.imageAsset',\n    assetId: assetId,\n    extension: extension,\n    metadata: _extends({}, metadata, {\n      dimensions: {\n        width: width,\n        height: height,\n        aspectRatio: aspectRatio\n      }\n    }),\n    // Placeholders, overwritten below\n    url: '',\n    path: ''\n  });\n\n  return _extends({}, baseAsset, {\n    path: buildImagePath(baseAsset, pathOptions),\n    url: buildImageUrl(baseAsset, pathOptions)\n  });\n}\n/**\r\n * See {@link getImageAsset}\r\n *\r\n * @inheritFrom {@link getImageAsset}\r\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\r\n */\n\nvar tryGetImageAsset = /*#__PURE__*/getForgivingResolver(getImageAsset);\n/**\r\n * Tries to resolve an file object with as much information as possible,\r\n * from any inferrable structure (id, url, path, file object etc)\r\n *\r\n * @param src - Input source (file object, asset, reference, id, url, path)\r\n * @param project Project ID and dataset the file belongs to\r\n * @returns File object\r\n *\r\n * @throws {@link UnresolvableError}\r\n * Throws if passed file source could not be resolved to an asset ID\r\n */\n\nfunction getFile(src, project) {\n  var projectDetails = project || tryGetProject(src);\n  var asset = getFileAsset(src, projectDetails);\n  return {\n    asset: asset\n  };\n}\n/**\r\n * See {@link getFile}\r\n *\r\n * @inheritFrom {@link getFile}\r\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\r\n */\n\nvar tryGetFile = /*#__PURE__*/getForgivingResolver(getFile);\n/**\r\n * Tries to resolve a (partial) file asset document with as much information as possible,\r\n * from any inferrable structure (id, url, path, file object etc)\r\n *\r\n * @param src - Input source (file object, asset, reference, id, url, path)\r\n * @param options - Project ID and dataset the file belongs to, along with other options\r\n * @returns File asset document\r\n *\r\n * @throws {@link UnresolvableError}\r\n * Throws if passed file source could not be resolved to an asset ID\r\n */\n\nfunction getFileAsset(src, options) {\n  var projectDetails = _extends({}, options || getProject(src), {\n    useVanityName: false\n  });\n\n  var _id = getAssetDocumentId(src);\n\n  var sourceObj = src;\n  var source = sourceObj.asset || src;\n\n  var _parseFileAssetId = parseFileAssetId(_id),\n      assetId = _parseFileAssetId.assetId,\n      extension = _parseFileAssetId.extension;\n\n  var baseAsset = _extends({}, isSanityFileAsset(src) ? src : {}, {\n    _id: _id,\n    _type: 'sanity.fileAsset',\n    assetId: assetId,\n    extension: extension,\n    metadata: source.metadata || {},\n    // Placeholders, overwritten below\n    url: '',\n    path: ''\n  });\n\n  return _extends({}, baseAsset, {\n    path: buildFilePath(baseAsset, projectDetails),\n    url: buildFileUrl(baseAsset, projectDetails)\n  });\n}\n/**\r\n * See {@link getFileAsset}\r\n *\r\n * @inheritFrom {@link getFileAsset}\r\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\r\n */\n\nvar tryGetFileAsset = /*#__PURE__*/getForgivingResolver(getFileAsset);\n/**\r\n * Tries to resolve the asset document ID from any inferrable structure\r\n *\r\n * @param src - Input source (image/file object, asset, reference, id, url, path)\r\n * @returns The asset document ID\r\n *\r\n * @throws {@link UnresolvableError}\r\n * Throws if passed asset source could not be resolved to an asset document ID\r\n */\n\nfunction getAssetDocumentId(src) {\n  var source = isAssetObjectStub(src) ? src.asset : src;\n  var id = '';\n\n  if (typeof source === 'string') {\n    id = getIdFromString(source);\n  } else if (isReference(source)) {\n    id = source._ref;\n  } else if (isAssetIdStub(source)) {\n    id = source._id;\n  } else if (isAssetPathStub(source)) {\n    id = idFromUrl(cdnUrl + \"/\" + source.path);\n  } else if (isAssetUrlStub(source)) {\n    id = idFromUrl(source.url);\n  }\n\n  var hasId = id && idPattern.test(id);\n\n  if (!hasId) {\n    throw new UnresolvableError(src);\n  }\n\n  return id;\n}\n/**\r\n * See {@link getAssetDocumentId}\r\n *\r\n * @inheritFrom {@link getAssetDocumentId}\r\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\r\n */\n\nvar tryGetAssetDocumentId = /*#__PURE__*/getForgivingResolver(getAssetDocumentId);\n/**\r\n * Tries to cooerce a string (ID, URL or path) to an image asset ID\r\n *\r\n * @param str - Input string (ID, URL or path)\r\n * @returns string\r\n *\r\n *\r\n * @throws {@link UnresolvableError}\r\n * Throws if passed image source could not be resolved to an asset ID\r\n */\n\nfunction getIdFromString(str) {\n  if (idPattern.test(str)) {\n    // Already an ID\n    return str;\n  }\n\n  if (str.indexOf(cdnUrl + \"/images\") === 0 || str.indexOf(cdnUrl + \"/files\") === 0) {\n    // Full URL\n    return idFromUrl(str);\n  }\n\n  if (pathPattern.test(str)) {\n    // Path\n    return idFromUrl(cdnUrl + \"/\" + str);\n  }\n\n  if (isFileAssetFilename(str)) {\n    // Just a filename (projectId/dataset irrelevant: just need asset ID)\n    return idFromUrl(cdnUrl + \"/files/a/b/\" + str);\n  }\n\n  if (isImageAssetFilename(str)) {\n    // Just a filename (projectId/dataset irrelevant: just need asset ID)\n    return idFromUrl(cdnUrl + \"/images/a/b/\" + str);\n  }\n\n  throw new UnresolvableError(str);\n}\n/**\r\n * See {@link getIdFromString}\r\n *\r\n * @inheritFrom {@link getIdFromString}\r\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\r\n */\n\nvar tryGetIdFromString = /*#__PURE__*/getForgivingResolver(getIdFromString);\n/**\r\n * Converts from a full asset URL to just the asset document ID\r\n *\r\n * @param url - A full asset URL to convert\r\n * @returns string\r\n */\n\nfunction idFromUrl(url) {\n  var path = getUrlPath(url);\n\n  var _path$split = path.split('/'),\n      type = _path$split[0],\n      fileName = _path$split[3];\n\n  var prefix = type.replace(/s$/, '');\n  return prefix + \"-\" + fileName.replace(/\\./g, '-');\n}\n/**\r\n * Resolves project ID and dataset the image belongs to, based on full URL or path\r\n * @param source - Image URL or path\r\n * @returns object | undefined\r\n *\r\n * @throws {@link UnresolvableError}\r\n * Throws if passed image source could not be resolved to an asset ID\r\n */\n\n\nfunction getProject(src) {\n  var path = tryGetAssetPath(src);\n\n  if (!path) {\n    throw new UnresolvableError(src, 'Failed to resolve project ID and dataset from source');\n  }\n\n  var _ref = path.match(pathPattern) || [],\n      projectId = _ref[2],\n      dataset = _ref[3];\n\n  if (!projectId || !dataset) {\n    throw new UnresolvableError(src, 'Failed to resolve project ID and dataset from source');\n  }\n\n  return {\n    projectId: projectId,\n    dataset: dataset\n  };\n}\n/**\r\n * See {@link getProject}\r\n *\r\n * @inheritFrom {@link getProject}\r\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\r\n */\n\nvar tryGetProject = /*#__PURE__*/getForgivingResolver(getProject);\n/**\r\n * Returns whether or not the passed filename is a valid image asset filename\r\n *\r\n * @param filename - Filename to validate\r\n * @returns Whether or not the filename is an image asset filename\r\n */\n\nfunction isImageAssetFilename(filename) {\n  return imageAssetFilenamePattern.test(filename);\n}\n/**\r\n * Returns whether or not the passed filename is a valid file asset filename\r\n *\r\n * @param filename - Filename to validate\r\n * @returns Whether or not the filename is a file asset filename\r\n */\n\nfunction isFileAssetFilename(filename) {\n  return fileAssetFilenamePattern.test(filename);\n}\n/**\r\n * Returns whether or not the passed filename is a valid file or image asset filename\r\n *\r\n * @param filename - Filename to validate\r\n * @returns Whether or not the filename is an asset filename\r\n */\n\nfunction isAssetFilename(filename) {\n  return isImageAssetFilename(filename) || isFileAssetFilename(filename);\n}\n/**\r\n * Return whether or not the passed source is a file source\r\n *\r\n * @param src - Source to check\r\n * @returns Whether or not the given source is a file source\r\n */\n\nfunction isFileSource(src) {\n  var assetId = tryGetAssetDocumentId(src);\n  return assetId ? assetId.startsWith('file-') : false;\n}\n/**\r\n * Return whether or not the passed source is an image source\r\n *\r\n * @param src - Source to check\r\n * @returns Whether or not the given source is an image source\r\n */\n\nfunction isImageSource(src) {\n  var assetId = tryGetAssetDocumentId(src);\n  return assetId ? assetId.startsWith('image-') : false;\n}\n\n/**\r\n * Checks whether or not a given URL is a valid Sanity asset URL\r\n *\r\n * @param url URL to test\r\n * @returns True if url is a valid Sanity asset URL, false otherwise\r\n */\n\nfunction isSanityAssetUrl(url) {\n  return getAssetUrlType(url) !== false;\n}\n/**\r\n * Checks whether or not a given URL is a valid Sanity image asset URL\r\n *\r\n * @param url URL to test\r\n * @returns True if url is a valid Sanity image asset URL, false otherwise\r\n */\n\nfunction isSanityImageUrl(url) {\n  return getAssetUrlType(url) === 'image';\n}\n/**\r\n * Checks whether or not a given URL is a valid Sanity file asset URL\r\n *\r\n * @param url URL to test\r\n * @returns True if url is a valid Sanity file asset URL, false otherwise\r\n */\n\nfunction isSanityFileUrl(url) {\n  return getAssetUrlType(url) === 'file';\n}\n\n\n//# sourceMappingURL=asset-utils.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9hc3NldC11dGlscy9kaXN0L2Fzc2V0LXV0aWxzLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtDQUErQyxNQUFNLFVBQVUsR0FBRztBQUNsRTtBQUNBO0FBQ0E7O0FBRUEsOENBQThDLE1BQU0sVUFBVSxHQUFHO0FBQ2pFO0FBQ0E7QUFDQTs7QUFFQSxnREFBZ0QsTUFBTSxVQUFVLEdBQUc7QUFDbkU7QUFDQTtBQUNBOztBQUVBLGdEQUFnRCxNQUFNLFVBQVUsR0FBRztBQUNuRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDLE1BQU0sVUFBVSxHQUFHLDBDQUEwQyxNQUFNLFVBQVUsR0FBRztBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FB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bWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2Fzc2V0LXV0aWxzL2Rpc3QvYXNzZXQtdXRpbHMuZXNtLmpzP2ZhODAiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG5cbiAgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG5cbiAgdHJ5IHtcbiAgICBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gIGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHtcbiAgICBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3QuYmluZCgpO1xuICB9IGVsc2Uge1xuICAgIF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgICAgIHZhciBhID0gW251bGxdO1xuICAgICAgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpO1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpO1xuICAgICAgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7XG4gICAgICBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHtcbiAgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkO1xuXG4gIF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzcztcblxuICAgIGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtcblxuICAgICAgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgIHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7XG4gICAgfVxuXG4gICAgV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IFdyYXBwZXIsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7XG4gIH07XG5cbiAgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpO1xufVxuXG4vKipcclxuICogRGVmYXVsdCBjcm9wIChlcXVhbHMgdG8gXCJ3aG9sZSBpbWFnZVwiKVxyXG4gKi9cbnZhciBERUZBVUxUX0NST1AgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIGxlZnQ6IDAsXG4gIHRvcDogMCxcbiAgYm90dG9tOiAwLFxuICByaWdodDogMFxufSk7XG4vKipcclxuICogRGVmYXVsdCBob3RzcG90IChlcXVhbHMgdG8gaG9yaXpvbnRhbC92ZXJ0aWNhbCBjZW50ZXIsIGZ1bGwgc2l6ZSBvZiBpbWFnZSlcclxuICovXG5cbnZhciBERUZBVUxUX0hPVFNQT1QgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIHg6IDAuNSxcbiAgeTogMC41LFxuICBoZWlnaHQ6IDEsXG4gIHdpZHRoOiAxXG59KTtcbi8qKlxyXG4gKiBSZXR1cm5zIGNsb25lZCB2ZXJzaW9uIG9mIHRoZSBkZWZhdWx0IGNyb3AgKHByZXZlbnRzIGFjY2lkZW50YWwgbXV0YXRpb25zKVxyXG4gKlxyXG4gKiBAcmV0dXJucyBEZWZhdWx0IGltYWdlIGNyb3Agb2JqZWN0XHJcbiAqL1xuXG52YXIgZ2V0RGVmYXVsdENyb3AgPSBmdW5jdGlvbiBnZXREZWZhdWx0Q3JvcCgpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBERUZBVUxUX0NST1ApO1xufTtcbi8qKlxyXG4gKiBSZXR1cm5zIGNsb25lZCB2ZXJzaW9uIG9mIHRoZSBkZWZhdWx0IGhvdHNwb3QgKHByZXZlbnRzIGFjY2lkZW50YWwgbXV0YXRpb25zKVxyXG4gKlxyXG4gKiBAcmV0dXJucyBEZWZhdWx0IGltYWdlIGhvdHNwb3Qgb2JqZWN0XHJcbiAqL1xuXG52YXIgZ2V0RGVmYXVsdEhvdHNwb3QgPSBmdW5jdGlvbiBnZXREZWZhdWx0SG90c3BvdCgpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBERUZBVUxUX0hPVFNQT1QpO1xufTtcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBwYXNzZWQgY3JvcCBoYXMgdGhlIGRlZmF1bHQgdmFsdWVzIGZvciBhIGNyb3AgcmVnaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSBjcm9wIFRoZSBjcm9wIHRvIHJldHVybiB3aGV0aGVyIG9yIG5vdCBpcyB0aGUgZGVmYXVsdCBjcm9wXHJcbiAqIEByZXR1cm5zIFRydWUgaWYgcGFzc2VkIGNyb3AgbWF0Y2hlcyBkZWZhdWx0LCBmYWxzZSBvdGhlcndpc2VcclxuICovXG5cbnZhciBpc0RlZmF1bHRDcm9wID0gZnVuY3Rpb24gaXNEZWZhdWx0Q3JvcChjcm9wKSB7XG4gIHZhciB0b3AgPSBjcm9wLnRvcCxcbiAgICAgIGJvdHRvbSA9IGNyb3AuYm90dG9tLFxuICAgICAgbGVmdCA9IGNyb3AubGVmdCxcbiAgICAgIHJpZ2h0ID0gY3JvcC5yaWdodDtcbiAgdmFyIGRlZmF1bHRUb3AgPSBERUZBVUxUX0NST1AudG9wLFxuICAgICAgZGVmYXVsdEJvdHRvbSA9IERFRkFVTFRfQ1JPUC5ib3R0b20sXG4gICAgICBkZWZhdWx0TGVmdCA9IERFRkFVTFRfQ1JPUC5sZWZ0LFxuICAgICAgZGVmYXVsdFJpZ2h0ID0gREVGQVVMVF9DUk9QLnJpZ2h0O1xuICByZXR1cm4gdG9wID09PSBkZWZhdWx0VG9wICYmIGJvdHRvbSA9PT0gZGVmYXVsdEJvdHRvbSAmJiBsZWZ0ID09PSBkZWZhdWx0TGVmdCAmJiByaWdodCA9PT0gZGVmYXVsdFJpZ2h0O1xufTtcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBwYXNzZWQgaG90c3BvdCBoYXMgdGhlIGRlZmF1bHQgdmFsdWVzIGZvciBhIGhvdHNwb3QgcmVnaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSBob3RzcG90IFRoZSBob3RzcG90IHRvIHJldHVybiB3aGV0aGVyIG9yIG5vdCBpcyB0aGUgZGVmYXVsdCBob3RzcG90XHJcbiAqIEByZXR1cm5zIFRydWUgaWYgcGFzc2VkIGhvdHNwb3QgbWF0Y2hlcyBkZWZhdWx0LCBmYWxzZSBvdGhlcndpc2VcclxuICovXG5cbnZhciBpc0RlZmF1bHRIb3RzcG90ID0gZnVuY3Rpb24gaXNEZWZhdWx0SG90c3BvdChob3RzcG90KSB7XG4gIHZhciB4ID0gaG90c3BvdC54LFxuICAgICAgeSA9IGhvdHNwb3QueSxcbiAgICAgIHdpZHRoID0gaG90c3BvdC53aWR0aCxcbiAgICAgIGhlaWdodCA9IGhvdHNwb3QuaGVpZ2h0O1xuICB2YXIgZGVmYXVsdFggPSBERUZBVUxUX0hPVFNQT1QueCxcbiAgICAgIGRlZmF1bHRZID0gREVGQVVMVF9IT1RTUE9ULnksXG4gICAgICBkZWZhdWx0V2lkdGggPSBERUZBVUxUX0hPVFNQT1Qud2lkdGgsXG4gICAgICBkZWZhdWx0SGVpZ2h0ID0gREVGQVVMVF9IT1RTUE9ULmhlaWdodDtcbiAgcmV0dXJuIHggPT09IGRlZmF1bHRYICYmIHkgPT09IGRlZmF1bHRZICYmIHdpZHRoID09PSBkZWZhdWx0V2lkdGggJiYgaGVpZ2h0ID09PSBkZWZhdWx0SGVpZ2h0O1xufTtcblxuLyoqXHJcbiAqIEVycm9yIHR5cGUgdGhyb3duIHdoZW4gdGhlIGxpYnJhcnkgZmFpbHMgdG8gcmVzb2x2ZSBhIHZhbHVlLCBzdWNoIGFzIGFuIGFzc2V0IElELFxyXG4gKiBmaWxlbmFtZSBvciBwcm9qZWN0IElEL2RhdGFzZXQgaW5mb3JtYXRpb24uXHJcbiAqXHJcbiAqIFRoZSBgaW5wdXRgIHByb3BlcnR5IGhvbGRzIHRoZSB2YWx1ZSBwYXNzZWQgYXMgdGhlIGlucHV0LCB3aGljaCBmYWlsZWQgdG8gYmVcclxuICogcmVzb2x2ZWQgdG8gc29tZXRoaW5nIG1lYW5pbmdmdWwuXHJcbiAqL1xudmFyIFVucmVzb2x2YWJsZUVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXJyb3IpIHtcbiAgX2luaGVyaXRzTG9vc2UoVW5yZXNvbHZhYmxlRXJyb3IsIF9FcnJvcik7XG5cbiAgZnVuY3Rpb24gVW5yZXNvbHZhYmxlRXJyb3IoaW5wdXRTb3VyY2UsIG1lc3NhZ2UpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBpZiAobWVzc2FnZSA9PT0gdm9pZCAwKSB7XG4gICAgICBtZXNzYWdlID0gJ0ZhaWxlZCB0byByZXNvbHZlIGFzc2V0IElEIGZyb20gc291cmNlJztcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9FcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7XG4gICAgX3RoaXMudW5yZXNvbHZhYmxlID0gdHJ1ZTtcbiAgICBfdGhpcy5pbnB1dCA9IGlucHV0U291cmNlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHJldHVybiBVbnJlc29sdmFibGVFcnJvcjtcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IGFuIGVycm9yIGluc3RhbmNlIGlzIG9mIHR5cGUgVW5yZXNvbHZhYmxlRXJyb3JcclxuICpcclxuICogQHBhcmFtIGVyciAtIEVycm9yIHRvIGNoZWNrIGZvciB1bnJlc29sdmFibGUgZXJyb3IgdHlwZVxyXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBwYXNzZWQgZXJyb3IgaW5zdGFuY2UgYXBwZWFycyB0byBiZSBhbiB1bnJlc29sdmVhYmxlIGVycm9yXHJcbiAqL1xuXG5mdW5jdGlvbiBpc1VucmVzb2x2YWJsZUVycm9yKGVycikge1xuICB2YXIgZXJyb3IgPSBlcnI7XG4gIHJldHVybiBCb29sZWFuKGVycm9yLnVucmVzb2x2YWJsZSAmJiAnaW5wdXQnIGluIGVycm9yKTtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIGEgZ2V0dGVyIHdoaWNoIHJldHVybnMgYHVuZGVmaW5lZGAgaW5zdGVhZCBvZiB0aHJvd2luZyxcclxuICogaWYgZW5jb3VudGVyaW5nIGFuIGBVbnJlc29sdmFibGVFcnJvcmBcclxuICpcclxuICogQHBhcmFtIG1ldGhvZCAtIEZ1bmN0aW9uIHRvIHVzZSBhcyByZXNvbHZlclxyXG4gKiBAcmV0dXJucyBGdW5jdGlvbiB0aGF0IHJldHVybnMgYHVuZGVmaW5lZGAgaWYgcGFzc2VkIHJlc29sdmVyIHRocm93cyBVbnJlc29sdmFibGVFcnJvclxyXG4gKiBAaW50ZXJuYWxcclxuICovXG5cbmZ1bmN0aW9uIGdldEZvcmdpdmluZ1Jlc29sdmVyKG1ldGhvZCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChpc1VucmVzb2x2YWJsZUVycm9yKGVycikpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cbnZhciBjZG5VcmwgPSAnaHR0cHM6Ly9jZG4uc2FuaXR5LmlvJztcbi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXG5cbnZhciBmaWxlQXNzZXRGaWxlbmFtZVBhdHRlcm4gPSAvXihbYS16QS1aMC05X117MjQsNDB9fFthLWYwLTldezQwfSkrXFwuW2EtejAtOV0rJC87XG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xuXG52YXIgZmlsZUFzc2V0SWRQYXR0ZXJuID0gL15maWxlLShbYS16QS1aMC05X117MjQsNDB9fFthLWYwLTldezQwfSkrLVthLXowLTldKyQvO1xuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cblxudmFyIGltYWdlQXNzZXRGaWxlbmFtZVBhdHRlcm4gPSAvXihbYS16QS1aMC05X117MjQsNDB9fFthLWYwLTldezQwfSktXFxkK3hcXGQrXFwuW2EtejAtOV0rJC87XG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xuXG52YXIgaW1hZ2VBc3NldElkUGF0dGVybiA9IC9eaW1hZ2UtKFthLXpBLVowLTlfXXsyNCw0MH18W2EtZjAtOV17NDB9KSstXFxkK3hcXGQrLVthLXowLTldKyQvO1xuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cblxudmFyIHBhdGhQYXR0ZXJuID0gL14oaW1hZ2VzfGZpbGVzKVxcLyhbYS16MC05XSspXFwvKFthLXowLTldWy1cXHddKilcXC8vO1xuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cblxudmFyIGlkUGF0dGVybiA9IC9eKD86aW1hZ2UtKD86W2EtekEtWjAtOV9dezI0LDQwfXxbYS1mMC05XXs0MH0pKy1cXGQreFxcZCstW2EtejAtOV0rfGZpbGUtKD86W2EtekEtWjAtOV9dezI0LDQwfXxbYS1mMC05XXs0MH0pKy1bYS16MC05XSspJC87XG4vKipcclxuICogRm9yIHVzZSBpbiBjYXNlcyB3aGVyZSB0aGUgcHJvamVjdCBhbmQgZGF0YXNldCBkb2Vzbid0IHJlYWxseSBtYXR0ZXJcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xuXG52YXIgZHVtbXlQcm9qZWN0ID0ge1xuICBwcm9qZWN0SWQ6ICdhJyxcbiAgZGF0YXNldDogJ2InXG59O1xuXG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBzb3VyY2UgaXMgYSBTYW5pdHkgcmVmZXJlbmNlXHJcbiAqIChhbiBvYmplY3QgY29udGFpbmluZyBfcmVmIHN0cmluZyBrZXkpXHJcbiAqXHJcbiAqIEBwYXJhbSByZWYgLSBQb3NzaWJsZSByZWZlcmVuY2VcclxuICogQHJldHVybnMgV2hldGhlciBvciBub3QgdGhlIHBhc3NlZCBvYmplY3QgaXMgYSByZWZlcmVuY2VcclxuICovXG5cbmZ1bmN0aW9uIGlzUmVmZXJlbmNlKHJlZikge1xuICByZXR1cm4gaXNPYmplY3QocmVmKSAmJiB0eXBlb2YgcmVmLl9yZWYgPT09ICdzdHJpbmcnO1xufVxuLyoqXHJcbiAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGUgZ2l2ZW4gc291cmNlIGlzIGFuIGFzc2V0IElEIHN0dWJcclxuICogKGFuIG9iamVjdCBjb250YWluaW5nIGFuIGBfaWRgIHByb3BlcnR5KVxyXG4gKlxyXG4gKiBAcGFyYW0gc3R1YiAtIFBvc3NpYmxlIGFzc2V0IGlkIHN0dWJcclxuICogQHJldHVybnMgV2hldGhlciBvciBub3QgdGhlIHBhc3NlZCBvYmplY3QgaXMgYW4gb2JqZWN0IGlkIHN0dWJcclxuICovXG5cbmZ1bmN0aW9uIGlzQXNzZXRJZFN0dWIoc3R1Yikge1xuICByZXR1cm4gaXNPYmplY3Qoc3R1YikgJiYgdHlwZW9mIHN0dWIuX2lkID09PSAnc3RyaW5nJztcbn1cbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhlIGdpdmVuIHNvdXJjZSBpcyBhbiBhc3NldCBwYXRoIHN0dWJcclxuICogKGFuIG9iamVjdCBjb250YWluaW5nIGEgYHBhdGhgIHByb3BlcnR5KVxyXG4gKlxyXG4gKiBAcGFyYW0gc3R1YiAtIFBvc3NpYmxlIGFzc2V0IHBhdGggc3R1YlxyXG4gKiBAcmV0dXJucyBXaGV0aGVyIG9yIG5vdCB0aGUgcGFzc2VkIG9iamVjdCBpcyBhbiBvYmplY3QgcGF0aCBzdHViXHJcbiAqL1xuXG5mdW5jdGlvbiBpc0Fzc2V0UGF0aFN0dWIoc3R1Yikge1xuICByZXR1cm4gaXNPYmplY3Qoc3R1YikgJiYgdHlwZW9mIHN0dWIucGF0aCA9PT0gJ3N0cmluZyc7XG59XG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBzb3VyY2UgaXMgYW4gYXNzZXQgVVJMIHN0dWJcclxuICogKGFuIG9iamVjdCBjb250YWluaW5nIGEgYHVybGAgcHJvcGVydHkpXHJcbiAqXHJcbiAqIEBwYXJhbSBzdHViIC0gUG9zc2libGUgYXNzZXQgdXJsIHN0dWJcclxuICogQHJldHVybnMgV2hldGhlciBvciBub3QgdGhlIHBhc3NlZCBvYmplY3QgaXMgYW4gb2JqZWN0IHVybCBzdHViXHJcbiAqL1xuXG5mdW5jdGlvbiBpc0Fzc2V0VXJsU3R1YihzdHViKSB7XG4gIHJldHVybiBpc09iamVjdChzdHViKSAmJiB0eXBlb2Ygc3R1Yi51cmwgPT09ICdzdHJpbmcnO1xufVxuLyoqXHJcbiAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGUgZ2l2ZW4gc291cmNlIGlzIGEgKHBhcnRpYWwpIHNhbml0eSBmaWxlIGFzc2V0IGRvY3VtZW50LlxyXG4gKiBPbmx5IGNoZWNrcyB0aGUgYF90eXBlYCBwcm9wZXJ0eSwgYWxsIG90aGVyIHByb3BlcnRpZXMgX21heV8gYmUgbWlzc2luZ1xyXG4gKlxyXG4gKiBAcGFyYW0gc3JjIC0gU291cmNlIHRvIGNoZWNrXHJcbiAqIEByZXR1cm5zIFdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBzb3VyY2UgaXMgYSBmaWxlIGFzc2V0XHJcbiAqL1xuXG5mdW5jdGlvbiBpc1Nhbml0eUZpbGVBc3NldChzcmMpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHNyYykgJiYgc3JjLl90eXBlID09PSAnc2FuaXR5LmZpbGVBc3NldCc7XG59XG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBzb3VyY2UgaXMgYSAocGFydGlhbCkgc2FuaXR5IGltYWdlIGFzc2V0IGRvY3VtZW50LlxyXG4gKiBPbmx5IGNoZWNrcyB0aGUgYF90eXBlYCBwcm9wZXJ0eSwgYWxsIG90aGVyIHByb3BlcnRpZXMgX21heV8gYmUgbWlzc2luZ1xyXG4gKlxyXG4gKiBAcGFyYW0gc3JjIC0gU291cmNlIHRvIGNoZWNrXHJcbiAqIEByZXR1cm5zIFdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBzb3VyY2UgaXMgYSBmaWxlIGFzc2V0XHJcbiAqL1xuXG5mdW5jdGlvbiBpc1Nhbml0eUltYWdlQXNzZXQoc3JjKSB7XG4gIHJldHVybiBpc09iamVjdChzcmMpICYmIHNyYy5fdHlwZSA9PT0gJ3Nhbml0eS5pbWFnZUFzc2V0Jztcbn1cbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhlIGdpdmVuIGRvY3VtZW50IElEIGlzIGEgdmFsaWQgU2FuaXR5IGltYWdlIGFzc2V0IGRvY3VtZW50IElEXHJcbiAqXHJcbiAqIEBwYXJhbSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSUQgdG8gY2hlY2tcclxuICogQHJldHVybnMgV2hldGhlciBvciBub3QgdGhlIGdpdmVuIGRvY3VtZW50IElEIGlzIGEgU2FuaXR5IGltYWdlIGFzc2V0IGRvY3VtZW50IElEXHJcbiAqL1xuXG5mdW5jdGlvbiBpc0ltYWdlQXNzZXRJZChkb2N1bWVudElkKSB7XG4gIHJldHVybiBpbWFnZUFzc2V0SWRQYXR0ZXJuLnRlc3QoZG9jdW1lbnRJZCk7XG59XG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBkb2N1bWVudCBJRCBpcyBhIHZhbGlkIFNhbml0eSBmaWxlIGFzc2V0IGRvY3VtZW50IElEXHJcbiAqXHJcbiAqIEBwYXJhbSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSUQgdG8gY2hlY2tcclxuICogQHJldHVybnMgV2hldGhlciBvciBub3QgdGhlIGdpdmVuIGRvY3VtZW50IElEIGlzIGEgU2FuaXR5IGZpbGUgYXNzZXQgZG9jdW1lbnQgSURcclxuICovXG5cbmZ1bmN0aW9uIGlzRmlsZUFzc2V0SWQoZG9jdW1lbnRJZCkge1xuICByZXR1cm4gZmlsZUFzc2V0SWRQYXR0ZXJuLnRlc3QoZG9jdW1lbnRJZCk7XG59XG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBkb2N1bWVudCBJRCBpcyBhIHZhbGlkIFNhbml0eSBhc3NldCBkb2N1bWVudCBJRCAoZmlsZSBvciBpbWFnZSlcclxuICpcclxuICogQHBhcmFtIGRvY3VtZW50SWQgLSBEb2N1bWVudCBJRCB0byBjaGVja1xyXG4gKiBAcmV0dXJucyBXaGV0aGVyIG9yIG5vdCB0aGUgZ2l2ZW4gZG9jdW1lbnQgSUQgaXMgYSBTYW5pdHkgYXNzZXQgZG9jdW1lbnQgSUQgKGZpbGUgb3IgaW1hZ2UpXHJcbiAqL1xuXG5mdW5jdGlvbiBpc0Fzc2V0SWQoZG9jdW1lbnRJZCkge1xuICByZXR1cm4gaXNJbWFnZUFzc2V0SWQoZG9jdW1lbnRJZCkgfHwgaXNGaWxlQXNzZXRJZChkb2N1bWVudElkKTtcbn1cbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhlIGdpdmVuIHNvdXJjZSBpcyBhbiBhc3NldCBvYmplY3Qgc3R1YlxyXG4gKlxyXG4gKiBAcGFyYW0gc3R1YiAtIFBvc3NpYmxlIGFzc2V0IG9iamVjdCBzdHViXHJcbiAqIEByZXR1cm5zIFdoZXRoZXIgb3Igbm90IHRoZSBwYXNzZWQgb2JqZWN0IGlzIGFuIG9iamVjdCBzdHViXHJcbiAqL1xuXG5mdW5jdGlvbiBpc0Fzc2V0T2JqZWN0U3R1YihzdHViKSB7XG4gIHZhciBpdGVtID0gc3R1YjtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0ZW0pICYmIGl0ZW0uYXNzZXQgJiYgdHlwZW9mIGl0ZW0uYXNzZXQgPT09ICdvYmplY3QnO1xufVxuLyoqXHJcbiAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGUgcGFzc2VkIG9iamVjdCBpcyBhbiBvYmplY3QgKGFuZCBub3QgYG51bGxgKVxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqIEl0ZW0gdG8gY2hlY2sgd2hldGhlciBvciBub3QgaXMgYW4gb2JqZWN0XHJcbiAqIEByZXR1cm5zIFdoZXRoZXIgb3Igbm90IGBvYmpgIGlzIGFuIG9iamVjdFxyXG4gKiBAaW50ZXJuYWxcclxuICovXG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG9iaikgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxyXG4gKiBCdWlsZHMgdGhlIGJhc2UgaW1hZ2UgcGF0aCBmcm9tIHRoZSBtaW5pbWFsIHNldCBvZiBwYXJ0cyByZXF1aXJlZCB0byBhc3NlbWJsZSBpdFxyXG4gKlxyXG4gKiBAcGFyYW0gYXNzZXQgLSBBbiBhc3NldC1saWtlIHNoYXBlIGRlZmluaW5nIElELCBkaW1lbnNpb25zIGFuZCBleHRlbnNpb25cclxuICogQHBhcmFtIG9wdGlvbnMgLSBQcm9qZWN0IElEIGFuZCBkYXRhc2V0IHRoZSBpbWFnZSBiZWxvbmdzIHRvLCBhbG9uZyB3aXRoIG90aGVyIG9wdGlvbnNcclxuICogQHJldHVybiBzdHJpbmdcclxuICovXG5cbmZ1bmN0aW9uIGJ1aWxkSW1hZ2VQYXRoKGFzc2V0LCBvcHRpb25zKSB7XG4gIHZhciBwcm9qZWN0SWQgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5wcm9qZWN0SWQpIHx8IGFzc2V0LnByb2plY3RJZDtcbiAgdmFyIGRhdGFzZXQgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5kYXRhc2V0KSB8fCBhc3NldC5kYXRhc2V0O1xuXG4gIGlmICghcHJvamVjdElkIHx8ICFkYXRhc2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQcm9qZWN0IGRldGFpbHMgKHByb2plY3RJZCBhbmQgZGF0YXNldCkgcmVxdWlyZWQgdG8gcmVzb2x2ZSBwYXRoIGZvciBpbWFnZScpO1xuICB9XG5cbiAgdmFyIGRpbWVuc2lvbnMgPSAnbWV0YWRhdGEnIGluIGFzc2V0ID8gYXNzZXQubWV0YWRhdGEuZGltZW5zaW9ucyA6IHtcbiAgICB3aWR0aDogYXNzZXQud2lkdGgsXG4gICAgaGVpZ2h0OiBhc3NldC5oZWlnaHRcbiAgfTtcbiAgdmFyIG9yaWdpbmFsRmlsZW5hbWUgPSAnb3JpZ2luYWxGaWxlbmFtZScgaW4gYXNzZXQgPyBhc3NldC5vcmlnaW5hbEZpbGVuYW1lIDogdW5kZWZpbmVkO1xuICB2YXIgYXNzZXRJZCA9IGFzc2V0LmFzc2V0SWQsXG4gICAgICBleHRlbnNpb24gPSBhc3NldC5leHRlbnNpb24sXG4gICAgICB2YW5pdHlGaWxlbmFtZSA9IGFzc2V0LnZhbml0eUZpbGVuYW1lO1xuICB2YXIgd2lkdGggPSBkaW1lbnNpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQ7XG4gIHZhciB2YW5pdHkgPSBnZXRWYW5pdHlTdHViKG9yaWdpbmFsRmlsZW5hbWUsIHZhbml0eUZpbGVuYW1lLCBvcHRpb25zKTtcbiAgcmV0dXJuIFwiaW1hZ2VzL1wiICsgcHJvamVjdElkICsgXCIvXCIgKyBkYXRhc2V0ICsgXCIvXCIgKyBhc3NldElkICsgXCItXCIgKyB3aWR0aCArIFwieFwiICsgaGVpZ2h0ICsgXCIuXCIgKyBleHRlbnNpb24gKyB2YW5pdHk7XG59XG4vKipcclxuICogQnVpbGRzIHRoZSBiYXNlIGltYWdlIFVSTCBmcm9tIHRoZSBtaW5pbWFsIHNldCBvZiBwYXJ0cyByZXF1aXJlZCB0byBhc3NlbWJsZSBpdFxyXG4gKlxyXG4gKiBAcGFyYW0gYXNzZXQgLSBBbiBhc3NldC1saWtlIHNoYXBlIGRlZmluaW5nIElELCBkaW1lbnNpb25zIGFuZCBleHRlbnNpb25cclxuICogQHBhcmFtIG9wdGlvbnMgLSBQcm9qZWN0IElEIGFuZCBkYXRhc2V0IHRoZSBpbWFnZSBiZWxvbmdzIHRvXHJcbiAqIEByZXR1cm4gc3RyaW5nXHJcbiAqL1xuXG5mdW5jdGlvbiBidWlsZEltYWdlVXJsKGFzc2V0LCBvcHRpb25zKSB7XG4gIHJldHVybiBjZG5VcmwgKyBcIi9cIiArIGJ1aWxkSW1hZ2VQYXRoKGFzc2V0LCBvcHRpb25zKTtcbn1cbi8qKlxyXG4gKiBCdWlsZHMgdGhlIGJhc2UgZmlsZSBwYXRoIGZyb20gdGhlIG1pbmltYWwgc2V0IG9mIHBhcnRzIHJlcXVpcmVkIHRvIGFzc2VtYmxlIGl0XHJcbiAqXHJcbiAqIEBwYXJhbSBhc3NldCAtIEFuIGFzc2V0LWxpa2Ugc2hhcGUgZGVmaW5pbmcgSUQsIGRpbWVuc2lvbnMgYW5kIGV4dGVuc2lvblxyXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFByb2plY3QgSUQgYW5kIGRhdGFzZXQgdGhlIGZpbGUgYmVsb25ncyB0bywgYWxvbmcgd2l0aCBvdGhlciBvcHRpb25zXHJcbiAqIEByZXR1cm4gc3RyaW5nXHJcbiAqL1xuXG5mdW5jdGlvbiBidWlsZEZpbGVQYXRoKGFzc2V0LCBvcHRpb25zKSB7XG4gIHZhciBwcm9qZWN0SWQgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5wcm9qZWN0SWQpIHx8IGFzc2V0LnByb2plY3RJZDtcbiAgdmFyIGRhdGFzZXQgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5kYXRhc2V0KSB8fCBhc3NldC5kYXRhc2V0O1xuXG4gIGlmICghcHJvamVjdElkIHx8ICFkYXRhc2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQcm9qZWN0IGRldGFpbHMgKHByb2plY3RJZCBhbmQgZGF0YXNldCkgcmVxdWlyZWQgdG8gcmVzb2x2ZSBwYXRoIGZvciBmaWxlJyk7XG4gIH1cblxuICB2YXIgb3JpZ2luYWxGaWxlbmFtZSA9ICdvcmlnaW5hbEZpbGVuYW1lJyBpbiBhc3NldCA/IGFzc2V0Lm9yaWdpbmFsRmlsZW5hbWUgOiB1bmRlZmluZWQ7XG4gIHZhciBhc3NldElkID0gYXNzZXQuYXNzZXRJZCxcbiAgICAgIGV4dGVuc2lvbiA9IGFzc2V0LmV4dGVuc2lvbixcbiAgICAgIHZhbml0eUZpbGVuYW1lID0gYXNzZXQudmFuaXR5RmlsZW5hbWU7XG4gIHZhciB2YW5pdHkgPSBnZXRWYW5pdHlTdHViKG9yaWdpbmFsRmlsZW5hbWUsIHZhbml0eUZpbGVuYW1lLCBvcHRpb25zKTtcbiAgcmV0dXJuIFwiZmlsZXMvXCIgKyBwcm9qZWN0SWQgKyBcIi9cIiArIGRhdGFzZXQgKyBcIi9cIiArIGFzc2V0SWQgKyBcIi5cIiArIGV4dGVuc2lvbiArIHZhbml0eTtcbn1cbi8qKlxyXG4gKiBCdWlsZHMgdGhlIGJhc2UgZmlsZSBVUkwgZnJvbSB0aGUgbWluaW1hbCBzZXQgb2YgcGFydHMgcmVxdWlyZWQgdG8gYXNzZW1ibGUgaXRcclxuICpcclxuICogQHBhcmFtIGFzc2V0IC0gQW4gYXNzZXQtbGlrZSBzaGFwZSBkZWZpbmluZyBJRCBhbmQgZXh0ZW5zaW9uXHJcbiAqIEBwYXJhbSBvcHRpb25zIC0gUHJvamVjdCBJRCBhbmQgZGF0YXNldCB0aGUgZmlsZSBiZWxvbmdzIHRvLCBhbG9uZyB3aXRoIG90aGVyIG9wdGlvbnNcclxuICogQHJldHVybiBzdHJpbmdcclxuICovXG5cbmZ1bmN0aW9uIGJ1aWxkRmlsZVVybChhc3NldCwgcHJvamVjdCkge1xuICByZXR1cm4gY2RuVXJsICsgXCIvXCIgKyBidWlsZEZpbGVQYXRoKGFzc2V0LCBwcm9qZWN0KTtcbn1cbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhlIGdpdmVuIFVSTCBjb250YWlucyBhbiBhc3NldCBwYXRoXHJcbiAqXHJcbiAqIEBwYXJhbSB1cmwgLSBVUkwgb3IgcGF0aCBuYW1lXHJcbiAqIEByZXR1cm5zIFdoZXRoZXIgb3Igbm90IGl0IGNvbnRhaW5lZCBhbiBhc3NldCBwYXRoXHJcbiAqL1xuXG5mdW5jdGlvbiBoYXNQYXRoKHVybE9yUGF0aCkge1xuICByZXR1cm4gcGF0aFBhdHRlcm4udGVzdCh0cnlHZXRVcmxQYXRoKHVybE9yUGF0aCkgfHwgJycpO1xufVxuLyoqXHJcbiAqIFRyaWVzIHRvIGdldCB0aGUgYXNzZXQgcGF0aCBmcm9tIGEgZ2l2ZW4gYXNzZXQgc291cmNlXHJcbiAqXHJcbiAqIEBwYXJhbSBzcmMgLSBUaGUgc291cmNlIGltYWdlIHRvIGluZmVyIGFuIGFzc2V0IHBhdGggZnJvbVxyXG4gKiBAcmV0dXJucyBBIHBhdGggaWYgcmVzb2x2YWJsZSwgdW5kZWZpbmVkIG90aGVyd2lzZVxyXG4gKi9cblxuXG5mdW5jdGlvbiB0cnlHZXRBc3NldFBhdGgoc3JjKSB7XG4gIGlmIChpc0Fzc2V0T2JqZWN0U3R1YihzcmMpKSB7XG4gICAgcmV0dXJuIHRyeUdldEFzc2V0UGF0aChzcmMuYXNzZXQpO1xuICB9XG5cbiAgaWYgKGlzUmVmZXJlbmNlKHNyYykpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzcmMgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGhhc1BhdGgoc3JjKSA/IGdldFVybFBhdGgoc3JjKSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmIChpc0Fzc2V0UGF0aFN0dWIoc3JjKSkge1xuICAgIHJldHVybiBzcmMucGF0aDtcbiAgfVxuXG4gIGlmIChpc0Fzc2V0VXJsU3R1YihzcmMpKSB7XG4gICAgcmV0dXJuIGdldFVybFBhdGgoc3JjLnVybCk7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXHJcbiAqIFN0cmlwcyB0aGUgQ0ROIFVSTCBhbmQgcXVlcnkgcGFyYW1zIGZyb20gYSBVUkwsIGVnOlxyXG4gKiBgaHR0cHM6Ly9jZG4uc2FuaXR5LmlvL2ltYWdlcy9wcm9qZWN0L2RhdGFzZXQvZmlsZW5hbWUtMjAweDIwMC5qcGc/Zm9vPWJhcmAgPT5cclxuICogYGltYWdlcy9wcm9qZWN0L2RhdGFzZXQvZmlsZW5hbWUtMjAweDIwMC5qcGdgXHJcbiAqXHJcbiAqIEBwYXJhbSB1cmwgLSBVUkwgdG8gZ2V0IHBhdGggbmFtZSBmcm9tXHJcbiAqIEByZXR1cm5zIFRoZSBwYXRoIG9mIGEgQ0ROIFVSTFxyXG4gKiBAdGhyb3dzIElmIFVSTCBpcyBub3QgYSB2YWxpZCBTYW5pdHkgYXNzZXQgVVJMXHJcbiAqL1xuXG5mdW5jdGlvbiBnZXRVcmxQYXRoKHVybCkge1xuICBpZiAocGF0aFBhdHRlcm4udGVzdCh1cmwpKSB7XG4gICAgLy8gQWxyZWFkeSBqdXN0IGEgcGF0aFxuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICBpZiAoIXVybC5zdGFydHNXaXRoKGNkblVybCArIFwiL1wiKSkge1xuICAgIHRocm93IG5ldyBVbnJlc29sdmFibGVFcnJvcihcIkZhaWxlZCB0byByZXNvbHZlIHBhdGggZnJvbSBVUkwgXFxcIlwiICsgdXJsICsgXCJcXFwiXCIpO1xuICB9XG5cbiAgdmFyIHFzUG9zID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgdmFyIHRvSW5kZXggPSBxc1BvcyA9PT0gLTEgPyB1bmRlZmluZWQgOiBxc1BvcztcbiAgcmV0dXJuIHVybC5zbGljZShjZG5VcmwubGVuZ3RoICsgMSwgdG9JbmRleCk7XG59XG4vKipcclxuICogU2VlIHtAbGluayBnZXRVcmxQYXRofVxyXG4gKlxyXG4gKiBAaW5oZXJpdEZyb20ge0BsaW5rIGdldFVybFBhdGh9XHJcbiAqIEByZXR1cm5zIFJldHVybnMgYHVuZGVmaW5lZGAgaW5zdGVhZCBvZiB0aHJvd2luZyBpZiBhIHZhbHVlIGNhbm5vdCBiZSByZXNvbHZlZFxyXG4gKi9cblxudmFyIHRyeUdldFVybFBhdGggPSAvKiNfX1BVUkVfXyovZ2V0Rm9yZ2l2aW5nUmVzb2x2ZXIoZ2V0VXJsUGF0aCk7XG4vKipcclxuICogU3RyaXBzIHRoZSBDRE4gVVJMLCBwYXRoIGFuZCBxdWVyeSBwYXJhbXMgZnJvbSBhIFVSTCwgZWc6XHJcbiAqIGBodHRwczovL2Nkbi5zYW5pdHkuaW8vaW1hZ2VzL3Byb2plY3QvZGF0YXNldC9maWxlbmFtZS0yMDB4MjAwLmpwZz9mb289YmFyYCA9PlxyXG4gKiBgZmlsZW5hbWUtMjAweDIwMC5qcGdgXHJcbiAqXHJcbiAqIEBwYXJhbSB1cmwgLSBVUkwgdG8gZ2V0IGZpbGVuYW1lIGZyb21cclxuICogQHJldHVybnMgVGhlIGZpbGVuYW1lIG9mIGFuIFVSTCwgaWYgVVJMIG1hdGNoZXMgdGhlIENETiBVUkxcclxuICogQHRocm93cyBJZiBVUkwgaXMgbm90IGEgdmFsaWQgU2FuaXR5IGFzc2V0IFVSTFxyXG4gKi9cblxuZnVuY3Rpb24gZ2V0VXJsRmlsZW5hbWUodXJsKSB7XG4gIHZhciBwYXRoID0gdHJ5R2V0VXJsUGF0aCh1cmwpIHx8IHVybDtcbiAgdmFyIGZpbGVuYW1lID0gcGF0aC5yZXBsYWNlKC9eKGltYWdlc3xmaWxlcylcXC9bYS16MC05XStcXC9bYS16MC05XVstXFx3XVxcLyovLCAnJyk7XG5cbiAgaWYgKCFpc1ZhbGlkRmlsZW5hbWUoZmlsZW5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IFVucmVzb2x2YWJsZUVycm9yKFwiRmFpbGVkIHRvIHJlc29sdmUgZmlsZW5hbWUgZnJvbSBVUkwgXFxcIlwiICsgdXJsICsgXCJcXFwiXCIpO1xuICB9XG5cbiAgcmV0dXJuIGZpbGVuYW1lO1xufVxuLyoqXHJcbiAqIFNlZSB7QGxpbmsgZ2V0VXJsRmlsZW5hbWV9XHJcbiAqXHJcbiAqIEBpbmhlcml0RnJvbSB7QGxpbmsgZ2V0VXJsRmlsZW5hbWV9XHJcbiAqIEByZXR1cm5zIFJldHVybnMgYHVuZGVmaW5lZGAgaW5zdGVhZCBvZiB0aHJvd2luZyBpZiBhIHZhbHVlIGNhbm5vdCBiZSByZXNvbHZlZFxyXG4gKi9cblxudmFyIHRyeUdldFVybEZpbGVuYW1lID0gLyojX19QVVJFX18qL2dldEZvcmdpdmluZ1Jlc29sdmVyKGdldFVybEZpbGVuYW1lKTtcbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBvciBub3QgYSBnaXZlbiBmaWxlbmFtZSBtYXRjaGVzIHRoZSBleHBlY3RlZCBTYW5pdHkgYXNzZXQgZmlsZW5hbWUgcGF0dGVyblxyXG4gKlxyXG4gKiBAcGFyYW0gZmlsZW5hbWUgLSBGaWxlbmFtZSB0byBjaGVjayBmb3IgdmFsaWRpdHlcclxuICogQHJldHVybnMgV2hldGhlciBvciBub3QgdGhlIHNwZWNpZmllZCBmaWxlbmFtZSBpcyB2YWxpZFxyXG4gKi9cblxuZnVuY3Rpb24gaXNWYWxpZEZpbGVuYW1lKGZpbGVuYW1lKSB7XG4gIHJldHVybiBmaWxlQXNzZXRGaWxlbmFtZVBhdHRlcm4udGVzdChmaWxlbmFtZSkgfHwgaW1hZ2VBc3NldEZpbGVuYW1lUGF0dGVybi50ZXN0KGZpbGVuYW1lKTtcbn1cbi8qKlxyXG4gKiBHZXQgdGhlIFwicGF0aCBzdHViXCIgYXQgdGhlIGVuZCBvZiB0aGUgcGF0aCwgaWYgdGhlIHVzZXIgaGFzbid0IGV4cGxpY2l0bHkgb3B0ZWQgb3V0IG9mIHRoaXMgYmVoYXZpb3JcclxuICovXG5cbmZ1bmN0aW9uIGdldFZhbml0eVN0dWIob3JpZ2luYWxGaWxlbmFtZSwgdmFuaXR5RmlsZW5hbWUsIG9wdGlvbnMpIHtcbiAgdmFyIHZhbml0eSA9IHZhbml0eUZpbGVuYW1lIHx8IG9yaWdpbmFsRmlsZW5hbWU7XG4gIHJldHVybiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy51c2VWYW5pdHlOYW1lKSA9PT0gZmFsc2UgfHwgIXZhbml0eSA/ICcnIDogXCIvXCIgKyB2YW5pdHk7XG59XG5cbi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXG5cbnZhciBleGFtcGxlRmlsZUlkID0gJ2ZpbGUtMDI3NDAxZjMxYzNhYzFlNmQ3OGM1ZDUzOWNjZDFiZWZmNzJiOWIxMS1wZGYnO1xuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cblxudmFyIGV4YW1wbGVJbWFnZUlkID0gJ2ltYWdlLTAyNzQwMWYzMWMzYWMxZTZkNzhjNWQ1MzljY2QxYmVmZjcyYjliMTEtMjAwMHgzMDAwLWpwZyc7XG4vKipcclxuICogUGFyc2VzIGEgU2FuaXR5IGFzc2V0IGRvY3VtZW50IElEIGludG8gaW5kaXZpZHVhbCBwYXJ0cyAodHlwZSwgaWQsIGV4dGVuc2lvbiwgd2lkdGgvaGVpZ2h0IGV0YylcclxuICpcclxuICogQHBhcmFtIGRvY3VtZW50SWQgLSBEb2N1bWVudCBJRCB0byBwYXJzZSBpbnRvIG5hbWVkIHBhcnRzXHJcbiAqIEByZXR1cm5zIE9iamVjdCBvZiBuYW1lZCBwcm9wZXJ0aWVzXHJcbiAqIEB0aHJvd3MgSWYgZG9jdW1lbnQgSUQgaXMgaW52YWxpZFxyXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VBc3NldElkKGRvY3VtZW50SWQpIHtcbiAgaWYgKGltYWdlQXNzZXRJZFBhdHRlcm4udGVzdChkb2N1bWVudElkKSkge1xuICAgIHJldHVybiBwYXJzZUltYWdlQXNzZXRJZChkb2N1bWVudElkKTtcbiAgfVxuXG4gIGlmIChmaWxlQXNzZXRJZFBhdHRlcm4udGVzdChkb2N1bWVudElkKSkge1xuICAgIHJldHVybiBwYXJzZUZpbGVBc3NldElkKGRvY3VtZW50SWQpO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbWFnZS9maWxlIGFzc2V0IElEOiBcIiArIGRvY3VtZW50SWQpO1xufVxuLyoqXHJcbiAqIFBhcnNlcyBhIFNhbml0eSBmaWxlIGFzc2V0IGRvY3VtZW50IElEIGludG8gaW5kaXZpZHVhbCBwYXJ0cyAodHlwZSwgaWQsIGV4dGVuc2lvbilcclxuICpcclxuICogQHBhcmFtIGRvY3VtZW50SWQgLSBGaWxlIGFzc2V0IGRvY3VtZW50IElEIHRvIHBhcnNlIGludG8gbmFtZWQgcGFydHNcclxuICogQHJldHVybnMgT2JqZWN0IG9mIG5hbWVkIHByb3BlcnRpZXNcclxuICogQHRocm93cyBJZiBkb2N1bWVudCBJRCBpbnZhbGlkXHJcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZUZpbGVBc3NldElkKGRvY3VtZW50SWQpIHtcbiAgaWYgKCFmaWxlQXNzZXRJZFBhdHRlcm4udGVzdChkb2N1bWVudElkKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBmaWxlIGFzc2V0IElEICdcIiArIGRvY3VtZW50SWQgKyBcIicuIEV4cGVjdGVkIGFuIGlkIGxpa2UgXFxcIlwiICsgZXhhbXBsZUZpbGVJZCArIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHZhciBfZG9jdW1lbnRJZCRzcGxpdCA9IGRvY3VtZW50SWQuc3BsaXQoJy0nKSxcbiAgICAgIGFzc2V0SWQgPSBfZG9jdW1lbnRJZCRzcGxpdFsxXSxcbiAgICAgIGV4dGVuc2lvbiA9IF9kb2N1bWVudElkJHNwbGl0WzJdO1xuXG4gIHJldHVybiB7XG4gICAgdHlwZTogJ2ZpbGUnLFxuICAgIGFzc2V0SWQ6IGFzc2V0SWQsXG4gICAgZXh0ZW5zaW9uOiBleHRlbnNpb25cbiAgfTtcbn1cbi8qKlxyXG4gKiBQYXJzZXMgYSBTYW5pdHkgaW1hZ2UgYXNzZXQgZG9jdW1lbnQgSUQgaW50byBpbmRpdmlkdWFsIHBhcnRzICh0eXBlLCBpZCwgZXh0ZW5zaW9uLCB3aWR0aCwgaGVpZ2h0KVxyXG4gKlxyXG4gKiBAcGFyYW0gZG9jdW1lbnRJZCAtIEltYWdlIGFzc2V0IGRvY3VtZW50IElEIHRvIHBhcnNlIGludG8gbmFtZWQgcGFydHNcclxuICogQHJldHVybnMgT2JqZWN0IG9mIG5hbWVkIHByb3BlcnRpZXNcclxuICogQHRocm93cyBJZiBkb2N1bWVudCBJRCBpbnZhbGlkXHJcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZUltYWdlQXNzZXRJZChkb2N1bWVudElkKSB7XG4gIHZhciBfZG9jdW1lbnRJZCRzcGxpdDIgPSBkb2N1bWVudElkLnNwbGl0KCctJyksXG4gICAgICBhc3NldElkID0gX2RvY3VtZW50SWQkc3BsaXQyWzFdLFxuICAgICAgZGltZW5zaW9uU3RyaW5nID0gX2RvY3VtZW50SWQkc3BsaXQyWzJdLFxuICAgICAgZXh0ZW5zaW9uID0gX2RvY3VtZW50SWQkc3BsaXQyWzNdO1xuXG4gIHZhciBfc3BsaXQkbWFwID0gKGRpbWVuc2lvblN0cmluZyB8fCAnJykuc3BsaXQoJ3gnKS5tYXAoTnVtYmVyKSxcbiAgICAgIHdpZHRoID0gX3NwbGl0JG1hcFswXSxcbiAgICAgIGhlaWdodCA9IF9zcGxpdCRtYXBbMV07XG5cbiAgaWYgKCFhc3NldElkIHx8ICFkaW1lbnNpb25TdHJpbmcgfHwgIWV4dGVuc2lvbiB8fCAhKHdpZHRoID4gMCkgfHwgIShoZWlnaHQgPiAwKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBhc3NldCBJRCAnXCIgKyBkb2N1bWVudElkICsgXCInLiBFeHBlY3RlZCBhbiBpZCBsaWtlIFxcXCJcIiArIGV4YW1wbGVJbWFnZUlkICsgXCJcXFwiLlwiKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogJ2ltYWdlJyxcbiAgICBhc3NldElkOiBhc3NldElkLFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICBleHRlbnNpb246IGV4dGVuc2lvblxuICB9O1xufVxuLyoqXHJcbiAqIFBhcnNlcyBhIFNhbml0eSBhc3NldCBmaWxlbmFtZSBpbnRvIGluZGl2aWR1YWwgcGFydHMgKHR5cGUsIGlkLCBleHRlbnNpb24sIHdpZHRoLCBoZWlnaHQpXHJcbiAqXHJcbiAqIEBwYXJhbSBmaWxlbmFtZSAtIEZpbGVuYW1lIHRvIHBhcnNlIGludG8gbmFtZWQgcGFydHNcclxuICogQHJldHVybnMgT2JqZWN0IG9mIG5hbWVkIHByb3BlcnRpZXNcclxuICogQHRocm93cyBJZiBpbWFnZS9maWxlbmFtZSBpcyBpbnZhbGlkXHJcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZUFzc2V0RmlsZW5hbWUoZmlsZW5hbWUpIHtcbiAgdmFyIGZpbGUgPSB0cnlHZXRVcmxGaWxlbmFtZShmaWxlbmFtZSkgfHwgJyc7XG5cbiAgaWYgKCFpc1ZhbGlkRmlsZW5hbWUoZmlsZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGltYWdlL2ZpbGUgYXNzZXQgZmlsZW5hbWU6IFwiICsgZmlsZW5hbWUpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICB2YXIgdHlwZSA9IGltYWdlQXNzZXRGaWxlbmFtZVBhdHRlcm4udGVzdChmaWxlKSA/ICdpbWFnZScgOiAnZmlsZSc7XG4gICAgdmFyIGFzc2V0SWQgPSBmaWxlLnJlcGxhY2UoL1xcLihbYS16MC05K10rKSQvaSwgJy0kMScpO1xuICAgIHJldHVybiBwYXJzZUFzc2V0SWQodHlwZSArIFwiLVwiICsgYXNzZXRJZCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW1hZ2UvZmlsZSBhc3NldCBmaWxlbmFtZTogXCIgKyBmaWxlbmFtZSk7XG4gIH1cbn1cbi8qKlxyXG4gKiBQYXJzZXMgYSBmdWxsIFNhbml0eSBhc3NldCBVUkwgaW50byBpbmRpdmlkdWFsIHBhcnRzXHJcbiAqICh0eXBlLCBwcm9qZWN0IElELCBkYXRhc2V0LCBpZCwgZXh0ZW5zaW9uLCB3aWR0aCwgaGVpZ2h0KVxyXG4gKlxyXG4gKiBAcGFyYW0gdXJsIC0gRnVsbCBVUkwgdG8gcGFyc2UgaW50byBuYW1lZCBwYXJ0c1xyXG4gKiBAcmV0dXJucyBPYmplY3Qgb2YgbmFtZWQgcHJvcGVydGllc1xyXG4gKiBAdGhyb3dzIElmIFVSTCBpcyBpbnZhbGlkIG9yIG5vdCBhIFNhbml0eSBhc3NldCBVUkxcclxuICovXG5cbmZ1bmN0aW9uIHBhcnNlQXNzZXRVcmwodXJsKSB7XG4gIGlmICghdXJsLnN0YXJ0c1dpdGgoY2RuVXJsKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVSTCBpcyBub3QgYSB2YWxpZCBTYW5pdHkgYXNzZXQgVVJMOiBcIiArIHVybCk7XG4gIH1cblxuICB2YXIgcGF0aCA9IHVybC5zbGljZShjZG5VcmwubGVuZ3RoKS5yZXBsYWNlKC9eXFwvKy8sICcnKTtcblxuICB2YXIgX3JlZiA9IHBhdGgubWF0Y2gocGF0aFBhdHRlcm4pIHx8IFtdLFxuICAgICAgcHJvamVjdFBhdGggPSBfcmVmWzBdLFxuICAgICAgcHJvamVjdElkID0gX3JlZlsyXSxcbiAgICAgIGRhdGFzZXQgPSBfcmVmWzNdO1xuXG4gIGlmICghcHJvamVjdElkIHx8ICFkYXRhc2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVVJMIGlzIG5vdCBhIHZhbGlkIFNhbml0eSBhc3NldCBVUkw6IFwiICsgdXJsKTtcbiAgfVxuXG4gIHZhciBfcGF0aCRzbGljZSRzcGxpdCA9IHBhdGguc2xpY2UocHJvamVjdFBhdGgubGVuZ3RoKS5zcGxpdCgnLycpLFxuICAgICAgZmlsZW5hbWUgPSBfcGF0aCRzbGljZSRzcGxpdFswXSxcbiAgICAgIHZhbml0eUZpbGVuYW1lID0gX3BhdGgkc2xpY2Ukc3BsaXRbMV07XG5cbiAgdmFyIHBhcnNlZCA9IHBhcnNlQXNzZXRGaWxlbmFtZShmaWxlbmFtZSk7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgcGFyc2VkLCB7XG4gICAgcHJvamVjdElkOiBwcm9qZWN0SWQsXG4gICAgZGF0YXNldDogZGF0YXNldCxcbiAgICB2YW5pdHlGaWxlbmFtZTogdmFuaXR5RmlsZW5hbWVcbiAgfSk7XG59XG4vKipcclxuICogUGFyc2VzIGEgZnVsbCBTYW5pdHkgaW1hZ2UgYXNzZXQgVVJMIGludG8gaW5kaXZpZHVhbCBwYXJ0c1xyXG4gKiAodHlwZSwgcHJvamVjdCBJRCwgZGF0YXNldCwgaWQsIGV4dGVuc2lvbiwgd2lkdGgsIGhlaWdodClcclxuICpcclxuICogQHBhcmFtIHVybCAtIEZ1bGwgVVJMIHRvIHBhcnNlIGludG8gbmFtZWQgcGFydHNcclxuICogQHJldHVybnMgT2JqZWN0IG9mIG5hbWVkIHByb3BlcnRpZXNcclxuICogQHRocm93cyBJZiBVUkwgaXMgaW52YWxpZCBvciBub3QgYSBTYW5pdHkgaW1hZ2UgYXNzZXQgVVJMXHJcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZUltYWdlQXNzZXRVcmwodXJsKSB7XG4gIHZhciBwYXJzZWQgPSBwYXJzZUFzc2V0VXJsKHVybCk7XG5cbiAgaWYgKHBhcnNlZC50eXBlICE9PSAnaW1hZ2UnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVVJMIGlzIG5vdCBhIHZhbGlkIFNhbml0eSBpbWFnZSBhc3NldCBVUkw6IFwiICsgdXJsKTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZWQ7XG59XG4vKipcclxuICogUGFyc2VzIGEgZnVsbCBTYW5pdHkgZmlsZSBhc3NldCBVUkwgaW50byBpbmRpdmlkdWFsIHBhcnRzXHJcbiAqICh0eXBlLCBwcm9qZWN0IElELCBkYXRhc2V0LCBpZCwgZXh0ZW5zaW9uLCB3aWR0aCwgaGVpZ2h0KVxyXG4gKlxyXG4gKiBAcGFyYW0gdXJsIC0gRnVsbCBVUkwgdG8gcGFyc2UgaW50byBuYW1lZCBwYXJ0c1xyXG4gKiBAcmV0dXJucyBPYmplY3Qgb2YgbmFtZWQgcHJvcGVydGllc1xyXG4gKiBAdGhyb3dzIElmIFVSTCBpcyBpbnZhbGlkIG9yIG5vdCBhIFNhbml0eSBmaWxlIGFzc2V0IFVSTFxyXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VGaWxlQXNzZXRVcmwodXJsKSB7XG4gIHZhciBwYXJzZWQgPSBwYXJzZUFzc2V0VXJsKHVybCk7XG5cbiAgaWYgKHBhcnNlZC50eXBlICE9PSAnZmlsZScpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVUkwgaXMgbm90IGEgdmFsaWQgU2FuaXR5IGZpbGUgYXNzZXQgVVJMOiBcIiArIHVybCk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VkO1xufVxuLyoqXHJcbiAqIFZhbGlkYXRlcyB0aGF0IGEgZ2l2ZW4gVVJMIGlzIGEgU2FuaXR5IGFzc2V0IFVSTCwgYW5kIHJldHVybnMgdGhlIGFzc2V0IHR5cGUgaWYgdmFsaWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB1cmwgVVJMIHRvIGV4dHJhY3QgYXNzZXQgdHlwZSBmcm9tXHJcbiAqIEByZXR1cm5zIEFzc2V0IHR5cGUgaWYgdmFsaWQgVVJMLCBmYWxzZSBvdGhlcndpc2VcclxuICogQGludGVybmFsXHJcbiAqL1xuXG5mdW5jdGlvbiBnZXRBc3NldFVybFR5cGUodXJsKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHBhcnNlQXNzZXRVcmwodXJsKS50eXBlO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHdpZHRoLCBoZWlnaHQgYW5kIGFzcGVjdCByYXRpbyBvZiBhIHBhc3NlZCBpbWFnZSBhc3NldCwgZnJvbSBhbnlcclxuICogaW5mZXJyYWJsZSBzdHJ1Y3R1cmUgKGlkLCB1cmwsIHBhdGgsIGFzc2V0IGRvY3VtZW50LCBpbWFnZSBvYmplY3QgZXRjKVxyXG4gKlxyXG4gKiBAcGFyYW0gc3JjIC0gSW5wdXQgc291cmNlIChpbWFnZSBvYmplY3QsIGFzc2V0LCByZWZlcmVuY2UsIGlkLCB1cmwsIHBhdGgpXHJcbiAqIEByZXR1cm5zIE9iamVjdCB3aXRoIHdpZHRoLCBoZWlnaHQgYW5kIGFzcGVjdCByYXRpbyBwcm9wZXJ0aWVzXHJcbiAqXHJcbiAqIEB0aHJvd3Mge0BsaW5rIFVucmVzb2x2YWJsZUVycm9yfVxyXG4gKiBUaHJvd3MgaWYgcGFzc2VkIGltYWdlIHNvdXJjZSBjb3VsZCBub3QgYmUgcmVzb2x2ZWQgdG8gYW4gYXNzZXQgSURcclxuICovXG5cbmZ1bmN0aW9uIGdldEltYWdlRGltZW5zaW9ucyhzcmMpIHtcbiAgdmFyIGltYWdlSWQgPSBnZXRBc3NldERvY3VtZW50SWQoc3JjKTtcblxuICB2YXIgX3BhcnNlSW1hZ2VBc3NldElkID0gcGFyc2VJbWFnZUFzc2V0SWQoaW1hZ2VJZCksXG4gICAgICB3aWR0aCA9IF9wYXJzZUltYWdlQXNzZXRJZC53aWR0aCxcbiAgICAgIGhlaWdodCA9IF9wYXJzZUltYWdlQXNzZXRJZC5oZWlnaHQ7XG5cbiAgdmFyIGFzcGVjdFJhdGlvID0gd2lkdGggLyBoZWlnaHQ7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpb1xuICB9O1xufVxuLyoqXHJcbiAqIFNlZSB7QGxpbmsgZ2V0SW1hZ2VEaW1lbnNpb25zfVxyXG4gKlxyXG4gKiBAaW5oZXJpdEZyb20ge0BsaW5rIGdldEltYWdlRGltZW5zaW9uc31cclxuICogQHJldHVybnMgUmV0dXJucyBgdW5kZWZpbmVkYCBpbnN0ZWFkIG9mIHRocm93aW5nIGlmIGEgdmFsdWUgY2Fubm90IGJlIHJlc29sdmVkXHJcbiAqL1xuXG52YXIgdHJ5R2V0SW1hZ2VEaW1lbnNpb25zID0gLyojX19QVVJFX18qL2dldEZvcmdpdmluZ1Jlc29sdmVyKGdldEltYWdlRGltZW5zaW9ucyk7XG4vKipcclxuICogUmV0dXJucyB0aGUgZmlsZSBleHRlbnNpb24gZm9yIGEgZ2l2ZW4gYXNzZXRcclxuICpcclxuICogQHBhcmFtIHNyYyAtIElucHV0IHNvdXJjZSAoZmlsZS9pbWFnZSBvYmplY3QsIGFzc2V0LCByZWZlcmVuY2UsIGlkLCB1cmwsIHBhdGgpXHJcbiAqIEByZXR1cm5zIFRoZSBmaWxlIGV4dGVuc2lvbiwgaWYgcmVzb2x2YWJsZSAobm8gYC5gIGluY2x1ZGVkKVxyXG4gKlxyXG4gKiBAdGhyb3dzIHtAbGluayBVbnJlc29sdmFibGVFcnJvcn1cclxuICogVGhyb3dzIGlmIHBhc3NlZCBhc3NldCBzb3VyY2UgY291bGQgbm90IGJlIHJlc29sdmVkIHRvIGFuIGFzc2V0IElEXHJcbiAqL1xuXG5mdW5jdGlvbiBnZXRFeHRlbnNpb24oc3JjKSB7XG4gIHJldHVybiBpc0ZpbGVTb3VyY2Uoc3JjKSA/IGdldEZpbGUoc3JjLCBkdW1teVByb2plY3QpLmFzc2V0LmV4dGVuc2lvbiA6IGdldEltYWdlKHNyYywgZHVtbXlQcm9qZWN0KS5hc3NldC5leHRlbnNpb247XG59XG4vKipcclxuICogU2VlIHtAbGluayBnZXRFeHRlbnNpb259XHJcbiAqXHJcbiAqIEBpbmhlcml0RnJvbSB7QGxpbmsgZ2V0RXh0ZW5zaW9ufVxyXG4gKiBAcmV0dXJucyBSZXR1cm5zIGB1bmRlZmluZWRgIGluc3RlYWQgb2YgdGhyb3dpbmcgaWYgYSB2YWx1ZSBjYW5ub3QgYmUgcmVzb2x2ZWRcclxuICovXG5cbnZhciB0cnlHZXRFeHRlbnNpb24gPSAvKiNfX1BVUkVfXyovZ2V0Rm9yZ2l2aW5nUmVzb2x2ZXIoZ2V0RXh0ZW5zaW9uKTtcbi8qKlxyXG4gKiBUcmllcyB0byByZXNvbHZlIGFuIGltYWdlIG9iamVjdCB3aXRoIGFzIG11Y2ggaW5mb3JtYXRpb24gYXMgcG9zc2libGUsXHJcbiAqIGZyb20gYW55IGluZmVycmFibGUgc3RydWN0dXJlIChpZCwgdXJsLCBwYXRoLCBpbWFnZSBvYmplY3QgZXRjKVxyXG4gKlxyXG4gKiBAcGFyYW0gc3JjIC0gSW5wdXQgc291cmNlIChpbWFnZSBvYmplY3QsIGFzc2V0LCByZWZlcmVuY2UsIGlkLCB1cmwsIHBhdGgpXHJcbiAqIEBwYXJhbSBwcm9qZWN0IFByb2plY3QgSUQgYW5kIGRhdGFzZXQgdGhlIGltYWdlIGJlbG9uZ3MgdG9cclxuICogQHJldHVybnMgSW1hZ2Ugb2JqZWN0XHJcbiAqXHJcbiAqIEB0aHJvd3Mge0BsaW5rIFVucmVzb2x2YWJsZUVycm9yfVxyXG4gKiBUaHJvd3MgaWYgcGFzc2VkIGltYWdlIHNvdXJjZSBjb3VsZCBub3QgYmUgcmVzb2x2ZWQgdG8gYW4gYXNzZXQgSURcclxuICovXG5cbmZ1bmN0aW9uIGdldEltYWdlKHNyYywgcHJvamVjdCkge1xuICB2YXIgcHJvamVjdERldGFpbHMgPSBwcm9qZWN0IHx8IHRyeUdldFByb2plY3Qoc3JjKTtcbiAgdmFyIGFzc2V0ID0gZ2V0SW1hZ2VBc3NldChzcmMsIHByb2plY3REZXRhaWxzKTtcbiAgdmFyIGltZyA9IHNyYztcbiAgcmV0dXJuIHtcbiAgICBhc3NldDogYXNzZXQsXG4gICAgY3JvcDogaW1nLmNyb3AgfHwgZ2V0RGVmYXVsdENyb3AoKSxcbiAgICBob3RzcG90OiBpbWcuaG90c3BvdCB8fCBnZXREZWZhdWx0SG90c3BvdCgpXG4gIH07XG59XG4vKipcclxuICogU2VlIHtAbGluayBnZXRJbWFnZX1cclxuICpcclxuICogQGluaGVyaXRGcm9tIHtAbGluayBnZXRJbWFnZX1cclxuICogQHJldHVybnMgUmV0dXJucyBgdW5kZWZpbmVkYCBpbnN0ZWFkIG9mIHRocm93aW5nIGlmIGEgdmFsdWUgY2Fubm90IGJlIHJlc29sdmVkXHJcbiAqL1xuXG52YXIgdHJ5R2V0SW1hZ2UgPSAvKiNfX1BVUkVfXyovZ2V0Rm9yZ2l2aW5nUmVzb2x2ZXIoZ2V0SW1hZ2UpO1xuLyoqXHJcbiAqIFRyaWVzIHRvIHJlc29sdmUgYSAocGFydGlhbCkgaW1hZ2UgYXNzZXQgZG9jdW1lbnQgd2l0aCBhcyBtdWNoIGluZm9ybWF0aW9uIGFzIHBvc3NpYmxlLFxyXG4gKiBmcm9tIGFueSBpbmZlcnJhYmxlIHN0cnVjdHVyZSAoaWQsIHVybCwgcGF0aCwgaW1hZ2Ugb2JqZWN0IGV0YylcclxuICpcclxuICogQHBhcmFtIHNyYyAtIElucHV0IHNvdXJjZSAoaW1hZ2Ugb2JqZWN0LCBhc3NldCwgcmVmZXJlbmNlLCBpZCwgdXJsLCBwYXRoKVxyXG4gKiBAcGFyYW0gcHJvamVjdCAtIFByb2plY3QgSUQgYW5kIGRhdGFzZXQgdGhlIGltYWdlIGJlbG9uZ3MgdG9cclxuICogQHJldHVybnMgSW1hZ2UgYXNzZXQgZG9jdW1lbnRcclxuICpcclxuICogQHRocm93cyB7QGxpbmsgVW5yZXNvbHZhYmxlRXJyb3J9XHJcbiAqIFRocm93cyBpZiBwYXNzZWQgaW1hZ2Ugc291cmNlIGNvdWxkIG5vdCBiZSByZXNvbHZlZCB0byBhbiBhc3NldCBJRFxyXG4gKi9cblxuZnVuY3Rpb24gZ2V0SW1hZ2VBc3NldChzcmMsIHByb2plY3QpIHtcbiAgdmFyIHByb2plY3REZXRhaWxzID0gcHJvamVjdCB8fCBnZXRQcm9qZWN0KHNyYyk7XG5cbiAgdmFyIHBhdGhPcHRpb25zID0gX2V4dGVuZHMoe30sIHByb2plY3REZXRhaWxzLCB7XG4gICAgdXNlVmFuaXR5TmFtZTogZmFsc2VcbiAgfSk7XG5cbiAgdmFyIF9pZCA9IGdldEFzc2V0RG9jdW1lbnRJZChzcmMpO1xuXG4gIHZhciBzb3VyY2VPYmogPSBzcmM7XG4gIHZhciBzb3VyY2UgPSBzb3VyY2VPYmouYXNzZXQgfHwgc3JjO1xuICB2YXIgbWV0YWRhdGEgPSBzb3VyY2UubWV0YWRhdGEgfHwge307XG5cbiAgdmFyIF9wYXJzZUltYWdlQXNzZXRJZDIgPSBwYXJzZUltYWdlQXNzZXRJZChfaWQpLFxuICAgICAgYXNzZXRJZCA9IF9wYXJzZUltYWdlQXNzZXRJZDIuYXNzZXRJZCxcbiAgICAgIHdpZHRoID0gX3BhcnNlSW1hZ2VBc3NldElkMi53aWR0aCxcbiAgICAgIGhlaWdodCA9IF9wYXJzZUltYWdlQXNzZXRJZDIuaGVpZ2h0LFxuICAgICAgZXh0ZW5zaW9uID0gX3BhcnNlSW1hZ2VBc3NldElkMi5leHRlbnNpb247XG5cbiAgdmFyIGFzcGVjdFJhdGlvID0gd2lkdGggLyBoZWlnaHQ7XG5cbiAgdmFyIGJhc2VBc3NldCA9IF9leHRlbmRzKHt9LCBpc1Nhbml0eUltYWdlQXNzZXQoc3JjKSA/IHNyYyA6IHt9LCB7XG4gICAgX2lkOiBfaWQsXG4gICAgX3R5cGU6ICdzYW5pdHkuaW1hZ2VBc3NldCcsXG4gICAgYXNzZXRJZDogYXNzZXRJZCxcbiAgICBleHRlbnNpb246IGV4dGVuc2lvbixcbiAgICBtZXRhZGF0YTogX2V4dGVuZHMoe30sIG1ldGFkYXRhLCB7XG4gICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpb1xuICAgICAgfVxuICAgIH0pLFxuICAgIC8vIFBsYWNlaG9sZGVycywgb3ZlcndyaXR0ZW4gYmVsb3dcbiAgICB1cmw6ICcnLFxuICAgIHBhdGg6ICcnXG4gIH0pO1xuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgYmFzZUFzc2V0LCB7XG4gICAgcGF0aDogYnVpbGRJbWFnZVBhdGgoYmFzZUFzc2V0LCBwYXRoT3B0aW9ucyksXG4gICAgdXJsOiBidWlsZEltYWdlVXJsKGJhc2VBc3NldCwgcGF0aE9wdGlvbnMpXG4gIH0pO1xufVxuLyoqXHJcbiAqIFNlZSB7QGxpbmsgZ2V0SW1hZ2VBc3NldH1cclxuICpcclxuICogQGluaGVyaXRGcm9tIHtAbGluayBnZXRJbWFnZUFzc2V0fVxyXG4gKiBAcmV0dXJucyBSZXR1cm5zIGB1bmRlZmluZWRgIGluc3RlYWQgb2YgdGhyb3dpbmcgaWYgYSB2YWx1ZSBjYW5ub3QgYmUgcmVzb2x2ZWRcclxuICovXG5cbnZhciB0cnlHZXRJbWFnZUFzc2V0ID0gLyojX19QVVJFX18qL2dldEZvcmdpdmluZ1Jlc29sdmVyKGdldEltYWdlQXNzZXQpO1xuLyoqXHJcbiAqIFRyaWVzIHRvIHJlc29sdmUgYW4gZmlsZSBvYmplY3Qgd2l0aCBhcyBtdWNoIGluZm9ybWF0aW9uIGFzIHBvc3NpYmxlLFxyXG4gKiBmcm9tIGFueSBpbmZlcnJhYmxlIHN0cnVjdHVyZSAoaWQsIHVybCwgcGF0aCwgZmlsZSBvYmplY3QgZXRjKVxyXG4gKlxyXG4gKiBAcGFyYW0gc3JjIC0gSW5wdXQgc291cmNlIChmaWxlIG9iamVjdCwgYXNzZXQsIHJlZmVyZW5jZSwgaWQsIHVybCwgcGF0aClcclxuICogQHBhcmFtIHByb2plY3QgUHJvamVjdCBJRCBhbmQgZGF0YXNldCB0aGUgZmlsZSBiZWxvbmdzIHRvXHJcbiAqIEByZXR1cm5zIEZpbGUgb2JqZWN0XHJcbiAqXHJcbiAqIEB0aHJvd3Mge0BsaW5rIFVucmVzb2x2YWJsZUVycm9yfVxyXG4gKiBUaHJvd3MgaWYgcGFzc2VkIGZpbGUgc291cmNlIGNvdWxkIG5vdCBiZSByZXNvbHZlZCB0byBhbiBhc3NldCBJRFxyXG4gKi9cblxuZnVuY3Rpb24gZ2V0RmlsZShzcmMsIHByb2plY3QpIHtcbiAgdmFyIHByb2plY3REZXRhaWxzID0gcHJvamVjdCB8fCB0cnlHZXRQcm9qZWN0KHNyYyk7XG4gIHZhciBhc3NldCA9IGdldEZpbGVBc3NldChzcmMsIHByb2plY3REZXRhaWxzKTtcbiAgcmV0dXJuIHtcbiAgICBhc3NldDogYXNzZXRcbiAgfTtcbn1cbi8qKlxyXG4gKiBTZWUge0BsaW5rIGdldEZpbGV9XHJcbiAqXHJcbiAqIEBpbmhlcml0RnJvbSB7QGxpbmsgZ2V0RmlsZX1cclxuICogQHJldHVybnMgUmV0dXJucyBgdW5kZWZpbmVkYCBpbnN0ZWFkIG9mIHRocm93aW5nIGlmIGEgdmFsdWUgY2Fubm90IGJlIHJlc29sdmVkXHJcbiAqL1xuXG52YXIgdHJ5R2V0RmlsZSA9IC8qI19fUFVSRV9fKi9nZXRGb3JnaXZpbmdSZXNvbHZlcihnZXRGaWxlKTtcbi8qKlxyXG4gKiBUcmllcyB0byByZXNvbHZlIGEgKHBhcnRpYWwpIGZpbGUgYXNzZXQgZG9jdW1lbnQgd2l0aCBhcyBtdWNoIGluZm9ybWF0aW9uIGFzIHBvc3NpYmxlLFxyXG4gKiBmcm9tIGFueSBpbmZlcnJhYmxlIHN0cnVjdHVyZSAoaWQsIHVybCwgcGF0aCwgZmlsZSBvYmplY3QgZXRjKVxyXG4gKlxyXG4gKiBAcGFyYW0gc3JjIC0gSW5wdXQgc291cmNlIChmaWxlIG9iamVjdCwgYXNzZXQsIHJlZmVyZW5jZSwgaWQsIHVybCwgcGF0aClcclxuICogQHBhcmFtIG9wdGlvbnMgLSBQcm9qZWN0IElEIGFuZCBkYXRhc2V0IHRoZSBmaWxlIGJlbG9uZ3MgdG8sIGFsb25nIHdpdGggb3RoZXIgb3B0aW9uc1xyXG4gKiBAcmV0dXJucyBGaWxlIGFzc2V0IGRvY3VtZW50XHJcbiAqXHJcbiAqIEB0aHJvd3Mge0BsaW5rIFVucmVzb2x2YWJsZUVycm9yfVxyXG4gKiBUaHJvd3MgaWYgcGFzc2VkIGZpbGUgc291cmNlIGNvdWxkIG5vdCBiZSByZXNvbHZlZCB0byBhbiBhc3NldCBJRFxyXG4gKi9cblxuZnVuY3Rpb24gZ2V0RmlsZUFzc2V0KHNyYywgb3B0aW9ucykge1xuICB2YXIgcHJvamVjdERldGFpbHMgPSBfZXh0ZW5kcyh7fSwgb3B0aW9ucyB8fCBnZXRQcm9qZWN0KHNyYyksIHtcbiAgICB1c2VWYW5pdHlOYW1lOiBmYWxzZVxuICB9KTtcblxuICB2YXIgX2lkID0gZ2V0QXNzZXREb2N1bWVudElkKHNyYyk7XG5cbiAgdmFyIHNvdXJjZU9iaiA9IHNyYztcbiAgdmFyIHNvdXJjZSA9IHNvdXJjZU9iai5hc3NldCB8fCBzcmM7XG5cbiAgdmFyIF9wYXJzZUZpbGVBc3NldElkID0gcGFyc2VGaWxlQXNzZXRJZChfaWQpLFxuICAgICAgYXNzZXRJZCA9IF9wYXJzZUZpbGVBc3NldElkLmFzc2V0SWQsXG4gICAgICBleHRlbnNpb24gPSBfcGFyc2VGaWxlQXNzZXRJZC5leHRlbnNpb247XG5cbiAgdmFyIGJhc2VBc3NldCA9IF9leHRlbmRzKHt9LCBpc1Nhbml0eUZpbGVBc3NldChzcmMpID8gc3JjIDoge30sIHtcbiAgICBfaWQ6IF9pZCxcbiAgICBfdHlwZTogJ3Nhbml0eS5maWxlQXNzZXQnLFxuICAgIGFzc2V0SWQ6IGFzc2V0SWQsXG4gICAgZXh0ZW5zaW9uOiBleHRlbnNpb24sXG4gICAgbWV0YWRhdGE6IHNvdXJjZS5tZXRhZGF0YSB8fCB7fSxcbiAgICAvLyBQbGFjZWhvbGRlcnMsIG92ZXJ3cml0dGVuIGJlbG93XG4gICAgdXJsOiAnJyxcbiAgICBwYXRoOiAnJ1xuICB9KTtcblxuICByZXR1cm4gX2V4dGVuZHMoe30sIGJhc2VBc3NldCwge1xuICAgIHBhdGg6IGJ1aWxkRmlsZVBhdGgoYmFzZUFzc2V0LCBwcm9qZWN0RGV0YWlscyksXG4gICAgdXJsOiBidWlsZEZpbGVVcmwoYmFzZUFzc2V0LCBwcm9qZWN0RGV0YWlscylcbiAgfSk7XG59XG4vKipcclxuICogU2VlIHtAbGluayBnZXRGaWxlQXNzZXR9XHJcbiAqXHJcbiAqIEBpbmhlcml0RnJvbSB7QGxpbmsgZ2V0RmlsZUFzc2V0fVxyXG4gKiBAcmV0dXJucyBSZXR1cm5zIGB1bmRlZmluZWRgIGluc3RlYWQgb2YgdGhyb3dpbmcgaWYgYSB2YWx1ZSBjYW5ub3QgYmUgcmVzb2x2ZWRcclxuICovXG5cbnZhciB0cnlHZXRGaWxlQXNzZXQgPSAvKiNfX1BVUkVfXyovZ2V0Rm9yZ2l2aW5nUmVzb2x2ZXIoZ2V0RmlsZUFzc2V0KTtcbi8qKlxyXG4gKiBUcmllcyB0byByZXNvbHZlIHRoZSBhc3NldCBkb2N1bWVudCBJRCBmcm9tIGFueSBpbmZlcnJhYmxlIHN0cnVjdHVyZVxyXG4gKlxyXG4gKiBAcGFyYW0gc3JjIC0gSW5wdXQgc291cmNlIChpbWFnZS9maWxlIG9iamVjdCwgYXNzZXQsIHJlZmVyZW5jZSwgaWQsIHVybCwgcGF0aClcclxuICogQHJldHVybnMgVGhlIGFzc2V0IGRvY3VtZW50IElEXHJcbiAqXHJcbiAqIEB0aHJvd3Mge0BsaW5rIFVucmVzb2x2YWJsZUVycm9yfVxyXG4gKiBUaHJvd3MgaWYgcGFzc2VkIGFzc2V0IHNvdXJjZSBjb3VsZCBub3QgYmUgcmVzb2x2ZWQgdG8gYW4gYXNzZXQgZG9jdW1lbnQgSURcclxuICovXG5cbmZ1bmN0aW9uIGdldEFzc2V0RG9jdW1lbnRJZChzcmMpIHtcbiAgdmFyIHNvdXJjZSA9IGlzQXNzZXRPYmplY3RTdHViKHNyYykgPyBzcmMuYXNzZXQgOiBzcmM7XG4gIHZhciBpZCA9ICcnO1xuXG4gIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgIGlkID0gZ2V0SWRGcm9tU3RyaW5nKHNvdXJjZSk7XG4gIH0gZWxzZSBpZiAoaXNSZWZlcmVuY2Uoc291cmNlKSkge1xuICAgIGlkID0gc291cmNlLl9yZWY7XG4gIH0gZWxzZSBpZiAoaXNBc3NldElkU3R1Yihzb3VyY2UpKSB7XG4gICAgaWQgPSBzb3VyY2UuX2lkO1xuICB9IGVsc2UgaWYgKGlzQXNzZXRQYXRoU3R1Yihzb3VyY2UpKSB7XG4gICAgaWQgPSBpZEZyb21VcmwoY2RuVXJsICsgXCIvXCIgKyBzb3VyY2UucGF0aCk7XG4gIH0gZWxzZSBpZiAoaXNBc3NldFVybFN0dWIoc291cmNlKSkge1xuICAgIGlkID0gaWRGcm9tVXJsKHNvdXJjZS51cmwpO1xuICB9XG5cbiAgdmFyIGhhc0lkID0gaWQgJiYgaWRQYXR0ZXJuLnRlc3QoaWQpO1xuXG4gIGlmICghaGFzSWQpIHtcbiAgICB0aHJvdyBuZXcgVW5yZXNvbHZhYmxlRXJyb3Ioc3JjKTtcbiAgfVxuXG4gIHJldHVybiBpZDtcbn1cbi8qKlxyXG4gKiBTZWUge0BsaW5rIGdldEFzc2V0RG9jdW1lbnRJZH1cclxuICpcclxuICogQGluaGVyaXRGcm9tIHtAbGluayBnZXRBc3NldERvY3VtZW50SWR9XHJcbiAqIEByZXR1cm5zIFJldHVybnMgYHVuZGVmaW5lZGAgaW5zdGVhZCBvZiB0aHJvd2luZyBpZiBhIHZhbHVlIGNhbm5vdCBiZSByZXNvbHZlZFxyXG4gKi9cblxudmFyIHRyeUdldEFzc2V0RG9jdW1lbnRJZCA9IC8qI19fUFVSRV9fKi9nZXRGb3JnaXZpbmdSZXNvbHZlcihnZXRBc3NldERvY3VtZW50SWQpO1xuLyoqXHJcbiAqIFRyaWVzIHRvIGNvb2VyY2UgYSBzdHJpbmcgKElELCBVUkwgb3IgcGF0aCkgdG8gYW4gaW1hZ2UgYXNzZXQgSURcclxuICpcclxuICogQHBhcmFtIHN0ciAtIElucHV0IHN0cmluZyAoSUQsIFVSTCBvciBwYXRoKVxyXG4gKiBAcmV0dXJucyBzdHJpbmdcclxuICpcclxuICpcclxuICogQHRocm93cyB7QGxpbmsgVW5yZXNvbHZhYmxlRXJyb3J9XHJcbiAqIFRocm93cyBpZiBwYXNzZWQgaW1hZ2Ugc291cmNlIGNvdWxkIG5vdCBiZSByZXNvbHZlZCB0byBhbiBhc3NldCBJRFxyXG4gKi9cblxuZnVuY3Rpb24gZ2V0SWRGcm9tU3RyaW5nKHN0cikge1xuICBpZiAoaWRQYXR0ZXJuLnRlc3Qoc3RyKSkge1xuICAgIC8vIEFscmVhZHkgYW4gSURcbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgaWYgKHN0ci5pbmRleE9mKGNkblVybCArIFwiL2ltYWdlc1wiKSA9PT0gMCB8fCBzdHIuaW5kZXhPZihjZG5VcmwgKyBcIi9maWxlc1wiKSA9PT0gMCkge1xuICAgIC8vIEZ1bGwgVVJMXG4gICAgcmV0dXJuIGlkRnJvbVVybChzdHIpO1xuICB9XG5cbiAgaWYgKHBhdGhQYXR0ZXJuLnRlc3Qoc3RyKSkge1xuICAgIC8vIFBhdGhcbiAgICByZXR1cm4gaWRGcm9tVXJsKGNkblVybCArIFwiL1wiICsgc3RyKTtcbiAgfVxuXG4gIGlmIChpc0ZpbGVBc3NldEZpbGVuYW1lKHN0cikpIHtcbiAgICAvLyBKdXN0IGEgZmlsZW5hbWUgKHByb2plY3RJZC9kYXRhc2V0IGlycmVsZXZhbnQ6IGp1c3QgbmVlZCBhc3NldCBJRClcbiAgICByZXR1cm4gaWRGcm9tVXJsKGNkblVybCArIFwiL2ZpbGVzL2EvYi9cIiArIHN0cik7XG4gIH1cblxuICBpZiAoaXNJbWFnZUFzc2V0RmlsZW5hbWUoc3RyKSkge1xuICAgIC8vIEp1c3QgYSBmaWxlbmFtZSAocHJvamVjdElkL2RhdGFzZXQgaXJyZWxldmFudDoganVzdCBuZWVkIGFzc2V0IElEKVxuICAgIHJldHVybiBpZEZyb21VcmwoY2RuVXJsICsgXCIvaW1hZ2VzL2EvYi9cIiArIHN0cik7XG4gIH1cblxuICB0aHJvdyBuZXcgVW5yZXNvbHZhYmxlRXJyb3Ioc3RyKTtcbn1cbi8qKlxyXG4gKiBTZWUge0BsaW5rIGdldElkRnJvbVN0cmluZ31cclxuICpcclxuICogQGluaGVyaXRGcm9tIHtAbGluayBnZXRJZEZyb21TdHJpbmd9XHJcbiAqIEByZXR1cm5zIFJldHVybnMgYHVuZGVmaW5lZGAgaW5zdGVhZCBvZiB0aHJvd2luZyBpZiBhIHZhbHVlIGNhbm5vdCBiZSByZXNvbHZlZFxyXG4gKi9cblxudmFyIHRyeUdldElkRnJvbVN0cmluZyA9IC8qI19fUFVSRV9fKi9nZXRGb3JnaXZpbmdSZXNvbHZlcihnZXRJZEZyb21TdHJpbmcpO1xuLyoqXHJcbiAqIENvbnZlcnRzIGZyb20gYSBmdWxsIGFzc2V0IFVSTCB0byBqdXN0IHRoZSBhc3NldCBkb2N1bWVudCBJRFxyXG4gKlxyXG4gKiBAcGFyYW0gdXJsIC0gQSBmdWxsIGFzc2V0IFVSTCB0byBjb252ZXJ0XHJcbiAqIEByZXR1cm5zIHN0cmluZ1xyXG4gKi9cblxuZnVuY3Rpb24gaWRGcm9tVXJsKHVybCkge1xuICB2YXIgcGF0aCA9IGdldFVybFBhdGgodXJsKTtcblxuICB2YXIgX3BhdGgkc3BsaXQgPSBwYXRoLnNwbGl0KCcvJyksXG4gICAgICB0eXBlID0gX3BhdGgkc3BsaXRbMF0sXG4gICAgICBmaWxlTmFtZSA9IF9wYXRoJHNwbGl0WzNdO1xuXG4gIHZhciBwcmVmaXggPSB0eXBlLnJlcGxhY2UoL3MkLywgJycpO1xuICByZXR1cm4gcHJlZml4ICsgXCItXCIgKyBmaWxlTmFtZS5yZXBsYWNlKC9cXC4vZywgJy0nKTtcbn1cbi8qKlxyXG4gKiBSZXNvbHZlcyBwcm9qZWN0IElEIGFuZCBkYXRhc2V0IHRoZSBpbWFnZSBiZWxvbmdzIHRvLCBiYXNlZCBvbiBmdWxsIFVSTCBvciBwYXRoXHJcbiAqIEBwYXJhbSBzb3VyY2UgLSBJbWFnZSBVUkwgb3IgcGF0aFxyXG4gKiBAcmV0dXJucyBvYmplY3QgfCB1bmRlZmluZWRcclxuICpcclxuICogQHRocm93cyB7QGxpbmsgVW5yZXNvbHZhYmxlRXJyb3J9XHJcbiAqIFRocm93cyBpZiBwYXNzZWQgaW1hZ2Ugc291cmNlIGNvdWxkIG5vdCBiZSByZXNvbHZlZCB0byBhbiBhc3NldCBJRFxyXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRQcm9qZWN0KHNyYykge1xuICB2YXIgcGF0aCA9IHRyeUdldEFzc2V0UGF0aChzcmMpO1xuXG4gIGlmICghcGF0aCkge1xuICAgIHRocm93IG5ldyBVbnJlc29sdmFibGVFcnJvcihzcmMsICdGYWlsZWQgdG8gcmVzb2x2ZSBwcm9qZWN0IElEIGFuZCBkYXRhc2V0IGZyb20gc291cmNlJyk7XG4gIH1cblxuICB2YXIgX3JlZiA9IHBhdGgubWF0Y2gocGF0aFBhdHRlcm4pIHx8IFtdLFxuICAgICAgcHJvamVjdElkID0gX3JlZlsyXSxcbiAgICAgIGRhdGFzZXQgPSBfcmVmWzNdO1xuXG4gIGlmICghcHJvamVjdElkIHx8ICFkYXRhc2V0KSB7XG4gICAgdGhyb3cgbmV3IFVucmVzb2x2YWJsZUVycm9yKHNyYywgJ0ZhaWxlZCB0byByZXNvbHZlIHByb2plY3QgSUQgYW5kIGRhdGFzZXQgZnJvbSBzb3VyY2UnKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcHJvamVjdElkOiBwcm9qZWN0SWQsXG4gICAgZGF0YXNldDogZGF0YXNldFxuICB9O1xufVxuLyoqXHJcbiAqIFNlZSB7QGxpbmsgZ2V0UHJvamVjdH1cclxuICpcclxuICogQGluaGVyaXRGcm9tIHtAbGluayBnZXRQcm9qZWN0fVxyXG4gKiBAcmV0dXJucyBSZXR1cm5zIGB1bmRlZmluZWRgIGluc3RlYWQgb2YgdGhyb3dpbmcgaWYgYSB2YWx1ZSBjYW5ub3QgYmUgcmVzb2x2ZWRcclxuICovXG5cbnZhciB0cnlHZXRQcm9qZWN0ID0gLyojX19QVVJFX18qL2dldEZvcmdpdmluZ1Jlc29sdmVyKGdldFByb2plY3QpO1xuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHBhc3NlZCBmaWxlbmFtZSBpcyBhIHZhbGlkIGltYWdlIGFzc2V0IGZpbGVuYW1lXHJcbiAqXHJcbiAqIEBwYXJhbSBmaWxlbmFtZSAtIEZpbGVuYW1lIHRvIHZhbGlkYXRlXHJcbiAqIEByZXR1cm5zIFdoZXRoZXIgb3Igbm90IHRoZSBmaWxlbmFtZSBpcyBhbiBpbWFnZSBhc3NldCBmaWxlbmFtZVxyXG4gKi9cblxuZnVuY3Rpb24gaXNJbWFnZUFzc2V0RmlsZW5hbWUoZmlsZW5hbWUpIHtcbiAgcmV0dXJuIGltYWdlQXNzZXRGaWxlbmFtZVBhdHRlcm4udGVzdChmaWxlbmFtZSk7XG59XG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcGFzc2VkIGZpbGVuYW1lIGlzIGEgdmFsaWQgZmlsZSBhc3NldCBmaWxlbmFtZVxyXG4gKlxyXG4gKiBAcGFyYW0gZmlsZW5hbWUgLSBGaWxlbmFtZSB0byB2YWxpZGF0ZVxyXG4gKiBAcmV0dXJucyBXaGV0aGVyIG9yIG5vdCB0aGUgZmlsZW5hbWUgaXMgYSBmaWxlIGFzc2V0IGZpbGVuYW1lXHJcbiAqL1xuXG5mdW5jdGlvbiBpc0ZpbGVBc3NldEZpbGVuYW1lKGZpbGVuYW1lKSB7XG4gIHJldHVybiBmaWxlQXNzZXRGaWxlbmFtZVBhdHRlcm4udGVzdChmaWxlbmFtZSk7XG59XG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcGFzc2VkIGZpbGVuYW1lIGlzIGEgdmFsaWQgZmlsZSBvciBpbWFnZSBhc3NldCBmaWxlbmFtZVxyXG4gKlxyXG4gKiBAcGFyYW0gZmlsZW5hbWUgLSBGaWxlbmFtZSB0byB2YWxpZGF0ZVxyXG4gKiBAcmV0dXJucyBXaGV0aGVyIG9yIG5vdCB0aGUgZmlsZW5hbWUgaXMgYW4gYXNzZXQgZmlsZW5hbWVcclxuICovXG5cbmZ1bmN0aW9uIGlzQXNzZXRGaWxlbmFtZShmaWxlbmFtZSkge1xuICByZXR1cm4gaXNJbWFnZUFzc2V0RmlsZW5hbWUoZmlsZW5hbWUpIHx8IGlzRmlsZUFzc2V0RmlsZW5hbWUoZmlsZW5hbWUpO1xufVxuLyoqXHJcbiAqIFJldHVybiB3aGV0aGVyIG9yIG5vdCB0aGUgcGFzc2VkIHNvdXJjZSBpcyBhIGZpbGUgc291cmNlXHJcbiAqXHJcbiAqIEBwYXJhbSBzcmMgLSBTb3VyY2UgdG8gY2hlY2tcclxuICogQHJldHVybnMgV2hldGhlciBvciBub3QgdGhlIGdpdmVuIHNvdXJjZSBpcyBhIGZpbGUgc291cmNlXHJcbiAqL1xuXG5mdW5jdGlvbiBpc0ZpbGVTb3VyY2Uoc3JjKSB7XG4gIHZhciBhc3NldElkID0gdHJ5R2V0QXNzZXREb2N1bWVudElkKHNyYyk7XG4gIHJldHVybiBhc3NldElkID8gYXNzZXRJZC5zdGFydHNXaXRoKCdmaWxlLScpIDogZmFsc2U7XG59XG4vKipcclxuICogUmV0dXJuIHdoZXRoZXIgb3Igbm90IHRoZSBwYXNzZWQgc291cmNlIGlzIGFuIGltYWdlIHNvdXJjZVxyXG4gKlxyXG4gKiBAcGFyYW0gc3JjIC0gU291cmNlIHRvIGNoZWNrXHJcbiAqIEByZXR1cm5zIFdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBzb3VyY2UgaXMgYW4gaW1hZ2Ugc291cmNlXHJcbiAqL1xuXG5mdW5jdGlvbiBpc0ltYWdlU291cmNlKHNyYykge1xuICB2YXIgYXNzZXRJZCA9IHRyeUdldEFzc2V0RG9jdW1lbnRJZChzcmMpO1xuICByZXR1cm4gYXNzZXRJZCA/IGFzc2V0SWQuc3RhcnRzV2l0aCgnaW1hZ2UtJykgOiBmYWxzZTtcbn1cblxuLyoqXHJcbiAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCBhIGdpdmVuIFVSTCBpcyBhIHZhbGlkIFNhbml0eSBhc3NldCBVUkxcclxuICpcclxuICogQHBhcmFtIHVybCBVUkwgdG8gdGVzdFxyXG4gKiBAcmV0dXJucyBUcnVlIGlmIHVybCBpcyBhIHZhbGlkIFNhbml0eSBhc3NldCBVUkwsIGZhbHNlIG90aGVyd2lzZVxyXG4gKi9cblxuZnVuY3Rpb24gaXNTYW5pdHlBc3NldFVybCh1cmwpIHtcbiAgcmV0dXJuIGdldEFzc2V0VXJsVHlwZSh1cmwpICE9PSBmYWxzZTtcbn1cbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBvciBub3QgYSBnaXZlbiBVUkwgaXMgYSB2YWxpZCBTYW5pdHkgaW1hZ2UgYXNzZXQgVVJMXHJcbiAqXHJcbiAqIEBwYXJhbSB1cmwgVVJMIHRvIHRlc3RcclxuICogQHJldHVybnMgVHJ1ZSBpZiB1cmwgaXMgYSB2YWxpZCBTYW5pdHkgaW1hZ2UgYXNzZXQgVVJMLCBmYWxzZSBvdGhlcndpc2VcclxuICovXG5cbmZ1bmN0aW9uIGlzU2FuaXR5SW1hZ2VVcmwodXJsKSB7XG4gIHJldHVybiBnZXRBc3NldFVybFR5cGUodXJsKSA9PT0gJ2ltYWdlJztcbn1cbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBvciBub3QgYSBnaXZlbiBVUkwgaXMgYSB2YWxpZCBTYW5pdHkgZmlsZSBhc3NldCBVUkxcclxuICpcclxuICogQHBhcmFtIHVybCBVUkwgdG8gdGVzdFxyXG4gKiBAcmV0dXJucyBUcnVlIGlmIHVybCBpcyBhIHZhbGlkIFNhbml0eSBmaWxlIGFzc2V0IFVSTCwgZmFsc2Ugb3RoZXJ3aXNlXHJcbiAqL1xuXG5mdW5jdGlvbiBpc1Nhbml0eUZpbGVVcmwodXJsKSB7XG4gIHJldHVybiBnZXRBc3NldFVybFR5cGUodXJsKSA9PT0gJ2ZpbGUnO1xufVxuXG5leHBvcnQgeyBERUZBVUxUX0NST1AsIERFRkFVTFRfSE9UU1BPVCwgYnVpbGRGaWxlUGF0aCwgYnVpbGRGaWxlVXJsLCBidWlsZEltYWdlUGF0aCwgYnVpbGRJbWFnZVVybCwgZ2V0QXNzZXREb2N1bWVudElkLCBnZXRBc3NldFVybFR5cGUsIGdldERlZmF1bHRDcm9wLCBnZXREZWZhdWx0SG90c3BvdCwgZ2V0RXh0ZW5zaW9uLCBnZXRGaWxlLCBnZXRGaWxlQXNzZXQsIGdldElkRnJvbVN0cmluZywgZ2V0SW1hZ2UsIGdldEltYWdlQXNzZXQsIGdldEltYWdlRGltZW5zaW9ucywgZ2V0UHJvamVjdCwgZ2V0VXJsRmlsZW5hbWUsIGdldFVybFBhdGgsIGlzQXNzZXRGaWxlbmFtZSwgaXNBc3NldElkLCBpc0Fzc2V0SWRTdHViLCBpc0Fzc2V0T2JqZWN0U3R1YiwgaXNBc3NldFBhdGhTdHViLCBpc0Fzc2V0VXJsU3R1YiwgaXNEZWZhdWx0Q3JvcCwgaXNEZWZhdWx0SG90c3BvdCwgaXNGaWxlQXNzZXRGaWxlbmFtZSwgaXNGaWxlQXNzZXRJZCwgaXNGaWxlU291cmNlLCBpc0ltYWdlQXNzZXRGaWxlbmFtZSwgaXNJbWFnZUFzc2V0SWQsIGlzSW1hZ2VTb3VyY2UsIGlzT2JqZWN0LCBpc1JlZmVyZW5jZSwgaXNTYW5pdHlBc3NldFVybCwgaXNTYW5pdHlGaWxlQXNzZXQsIGlzU2FuaXR5RmlsZVVybCwgaXNTYW5pdHlJbWFnZUFzc2V0LCBpc1Nhbml0eUltYWdlVXJsLCBpc1ZhbGlkRmlsZW5hbWUsIHBhcnNlQXNzZXRGaWxlbmFtZSwgcGFyc2VBc3NldElkLCBwYXJzZUFzc2V0VXJsLCBwYXJzZUZpbGVBc3NldElkLCBwYXJzZUZpbGVBc3NldFVybCwgcGFyc2VJbWFnZUFzc2V0SWQsIHBhcnNlSW1hZ2VBc3NldFVybCwgdHJ5R2V0QXNzZXREb2N1bWVudElkLCB0cnlHZXRBc3NldFBhdGgsIHRyeUdldEV4dGVuc2lvbiwgdHJ5R2V0RmlsZSwgdHJ5R2V0RmlsZUFzc2V0LCB0cnlHZXRJZEZyb21TdHJpbmcsIHRyeUdldEltYWdlLCB0cnlHZXRJbWFnZUFzc2V0LCB0cnlHZXRJbWFnZURpbWVuc2lvbnMsIHRyeUdldFByb2plY3QsIHRyeUdldFVybEZpbGVuYW1lLCB0cnlHZXRVcmxQYXRoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3NldC11dGlscy5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/asset-utils/dist/asset-utils.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/bifur-client/dist/esm/createClient.js":
/*!********************************************************************!*\
  !*** ./node_modules/@sanity/bifur-client/dist/esm/createClient.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ \"(ssr)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/partition.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/empty.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/defer.js\");\n/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nanoid */ \"(ssr)/./node_modules/nanoid/index.js\");\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\n// at 1000 IDs per second ~4 million years needed in order to have a 1% probability of at least one collision.\n// => https://zelark.github.io/nano-id-cc/\nvar defaultGetNextRequestId = (0,nanoid__WEBPACK_IMPORTED_MODULE_0__.customAlphabet)('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-', 20);\nvar HEARTBEAT = '♥';\nfunction formatRequest(method, params, id) {\n    return JSON.stringify({\n        jsonrpc: '2.0',\n        method: method,\n        params: addApiVersion(params, 'v1'),\n        id: id,\n    });\n}\nfunction tryParse(input) {\n    try {\n        return [null, JSON.parse(input)];\n    }\n    catch (error) {\n        return error instanceof Error ? [error] : [new Error(\"\".concat(error))];\n    }\n}\nfunction addApiVersion(params, v) {\n    return __assign(__assign({}, params), { apiVersion: v });\n}\nvar createClient = function (connection$, options) {\n    if (options === void 0) { options = {}; }\n    var token$ = options.token$, _a = options.getNextRequestId, getNextRequestId = _a === void 0 ? defaultGetNextRequestId : _a;\n    var _b = (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.partition)(connection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.switchMap)(function (connection) { return (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.fromEvent)(connection, 'message'); })), function (event) { return event.data === HEARTBEAT; }), heartbeats$ = _b[0], responses$ = _b[1];\n    var parsedResponses$ = responses$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.mergeMap)(function (response) {\n        var _a = tryParse(response.data), err = _a[0], msg = _a[1];\n        if (err) {\n            console.warn('Unable to parse message: %s', err.message);\n            return rxjs__WEBPACK_IMPORTED_MODULE_4__.EMPTY;\n        }\n        if (!msg || !msg.jsonrpc) {\n            console.warn('Received empty or non-jsonrpc message: %s', msg);\n            return rxjs__WEBPACK_IMPORTED_MODULE_4__.EMPTY;\n        }\n        return (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(msg);\n    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.share)());\n    var authedConnection$ = token$\n        ? (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.combineLatest)([token$, connection$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.distinctUntilChanged)(function (_a, _b) {\n            var oldToken = _a[0], oldSocket = _a[1];\n            var newToken = _b[0], newSocket = _b[1];\n            return oldToken === newToken && oldSocket === newSocket;\n        }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.switchMap)(function (_a) {\n            var token = _a[0], ws = _a[1];\n            return token\n                ? call(ws, 'authorization', {\n                    authorization: \"Bearer \".concat(token),\n                }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.take)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.mapTo)(ws))\n                : (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(ws);\n        }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.shareReplay)({ refCount: true, bufferSize: 1 }))\n        : connection$;\n    function call(ws, method, params) {\n        if (params === void 0) { params = {}; }\n        var requestId = getNextRequestId();\n        return (0,rxjs__WEBPACK_IMPORTED_MODULE_7__.merge)(parsedResponses$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.filter)(function (rpcResult) { return rpcResult.id === requestId; }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function (rpcResult) { return rpcResult.result; })), (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.defer)(function () {\n            ws.send(formatRequest(method, params, requestId));\n            return rxjs__WEBPACK_IMPORTED_MODULE_4__.EMPTY;\n        }));\n    }\n    // Will call the rpc method and return an observable that emits the first reply and then ends\n    function requestMethod(method, params) {\n        return authedConnection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.take)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.mergeMap)(function (ws) { return call(ws, method, params).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.take)(1)); }));\n    }\n    // Will call the rpc method with the '_subscribe' suffix and return an observable of all received messages and\n    // keeps the subscription open forever/until unsubscribe\n    function requestSubscribe(method, params) {\n        return authedConnection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.take)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.mergeMap)(function (ws) {\n            return call(ws, \"\".concat(method, \"_subscribe\"), params).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.take)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.mergeMap)(function (subscriptionId) {\n                return parsedResponses$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.filter)(function (message) {\n                    return message.method === \"\".concat(method, \"_subscription\") &&\n                        message.params.subscription === subscriptionId;\n                }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function (message) { return message.params.result; }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.finalize)(function () {\n                    if (ws.readyState !== ws.CLOSED &&\n                        ws.readyState !== ws.CLOSING) {\n                        ws.send(formatRequest(\"\".concat(method, \"_unsubscribe\"), { subscriptionId: subscriptionId }, getNextRequestId()));\n                    }\n                }));\n            }));\n        }));\n    }\n    return {\n        // heartbeat$ is a stream of date objects representing when the \"last message was received\"\n        // it will keep the connection open until it is unsubscribed and can therefore be used to keep connection alive\n        // between requests\n        heartbeats: (0,rxjs__WEBPACK_IMPORTED_MODULE_7__.merge)(authedConnection$, heartbeats$, responses$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function () { return new Date(); })),\n        listen: function (method, params) {\n            return requestSubscribe(method, params);\n        },\n        request: function (method, params) {\n            return requestMethod(method, params);\n        },\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9iaWZ1ci1jbGllbnQvZGlzdC9lc20vY3JlYXRlQ2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ29JO0FBQy9DO0FBQzdDO0FBQ3hDO0FBQ0E7QUFDQSw4QkFBOEIsc0RBQWM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsYUFBYSxlQUFlO0FBQzNEO0FBQ087QUFDUCw4QkFBOEI7QUFDOUI7QUFDQSxhQUFhLCtDQUFTLGtCQUFrQix5REFBUyx5QkFBeUIsT0FBTywrQ0FBUywwQkFBMEIsdUJBQXVCLGtDQUFrQztBQUM3SywyQ0FBMkMsd0RBQVE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVDQUFLO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix1Q0FBSztBQUN4QjtBQUNBLGVBQWUsd0NBQUU7QUFDakIsS0FBSyxHQUFHLHFEQUFLO0FBQ2I7QUFDQSxVQUFVLG1EQUFhLDZCQUE2QixvRUFBb0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsU0FBUyxHQUFHLHlEQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU8sb0RBQUksS0FBSyxxREFBSztBQUN0QyxrQkFBa0Isd0NBQUU7QUFDcEIsU0FBUyxHQUFHLDJEQUFXLEdBQUcsK0JBQStCO0FBQ3pEO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQSxlQUFlLDJDQUFLLHVCQUF1QixzREFBTSx3QkFBd0Isb0NBQW9DLEdBQUcsbURBQUcsd0JBQXdCLDBCQUEwQixJQUFJLDJDQUFLO0FBQzlLO0FBQ0EsbUJBQW1CLHVDQUFLO0FBQ3hCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msb0RBQUksS0FBSyx3REFBUSxpQkFBaUIscUNBQXFDLG9EQUFJLE9BQU87QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msb0RBQUksS0FBSyx3REFBUTtBQUN2RCwwRUFBMEUsb0RBQUksS0FBSyx3REFBUTtBQUMzRiw2Q0FBNkMsc0RBQU07QUFDbkQ7QUFDQTtBQUNBLGlCQUFpQixHQUFHLG1EQUFHLHNCQUFzQiwrQkFBK0IsR0FBRyx3REFBUTtBQUN2RjtBQUNBO0FBQ0EsbUZBQW1GLGdDQUFnQztBQUNuSDtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMkNBQUssa0RBQWtELG1EQUFHLGVBQWUsb0JBQW9CO0FBQ2pIO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2JpZnVyLWNsaWVudC9kaXN0L2VzbS9jcmVhdGVDbGllbnQuanM/NGQyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQsIGZpbHRlciwgZmluYWxpemUsIG1hcCwgbWFwVG8sIG1lcmdlTWFwLCBzaGFyZSwgc2hhcmVSZXBsYXksIHN3aXRjaE1hcCwgdGFrZSwgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBjb21iaW5lTGF0ZXN0LCBkZWZlciwgRU1QVFksIGZyb21FdmVudCwgbWVyZ2UsIG9mLCBwYXJ0aXRpb24sIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBjdXN0b21BbHBoYWJldCB9IGZyb20gJ25hbm9pZCc7XG4vLyBhdCAxMDAwIElEcyBwZXIgc2Vjb25kIH40IG1pbGxpb24geWVhcnMgbmVlZGVkIGluIG9yZGVyIHRvIGhhdmUgYSAxJSBwcm9iYWJpbGl0eSBvZiBhdCBsZWFzdCBvbmUgY29sbGlzaW9uLlxuLy8gPT4gaHR0cHM6Ly96ZWxhcmsuZ2l0aHViLmlvL25hbm8taWQtY2MvXG52YXIgZGVmYXVsdEdldE5leHRSZXF1ZXN0SWQgPSBjdXN0b21BbHBoYWJldCgnMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXotJywgMjApO1xudmFyIEhFQVJUQkVBVCA9ICfimaUnO1xuZnVuY3Rpb24gZm9ybWF0UmVxdWVzdChtZXRob2QsIHBhcmFtcywgaWQpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIHBhcmFtczogYWRkQXBpVmVyc2lvbihwYXJhbXMsICd2MScpLFxuICAgICAgICBpZDogaWQsXG4gICAgfSk7XG59XG5mdW5jdGlvbiB0cnlQYXJzZShpbnB1dCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBbbnVsbCwgSlNPTi5wYXJzZShpbnB1dCldO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBbZXJyb3JdIDogW25ldyBFcnJvcihcIlwiLmNvbmNhdChlcnJvcikpXTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRBcGlWZXJzaW9uKHBhcmFtcywgdikge1xuICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcGFyYW1zKSwgeyBhcGlWZXJzaW9uOiB2IH0pO1xufVxuZXhwb3J0IHZhciBjcmVhdGVDbGllbnQgPSBmdW5jdGlvbiAoY29ubmVjdGlvbiQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciB0b2tlbiQgPSBvcHRpb25zLnRva2VuJCwgX2EgPSBvcHRpb25zLmdldE5leHRSZXF1ZXN0SWQsIGdldE5leHRSZXF1ZXN0SWQgPSBfYSA9PT0gdm9pZCAwID8gZGVmYXVsdEdldE5leHRSZXF1ZXN0SWQgOiBfYTtcbiAgICB2YXIgX2IgPSBwYXJ0aXRpb24oY29ubmVjdGlvbiQucGlwZShzd2l0Y2hNYXAoZnVuY3Rpb24gKGNvbm5lY3Rpb24pIHsgcmV0dXJuIGZyb21FdmVudChjb25uZWN0aW9uLCAnbWVzc2FnZScpOyB9KSksIGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gZXZlbnQuZGF0YSA9PT0gSEVBUlRCRUFUOyB9KSwgaGVhcnRiZWF0cyQgPSBfYlswXSwgcmVzcG9uc2VzJCA9IF9iWzFdO1xuICAgIHZhciBwYXJzZWRSZXNwb25zZXMkID0gcmVzcG9uc2VzJC5waXBlKG1lcmdlTWFwKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgX2EgPSB0cnlQYXJzZShyZXNwb25zZS5kYXRhKSwgZXJyID0gX2FbMF0sIG1zZyA9IF9hWzFdO1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1VuYWJsZSB0byBwYXJzZSBtZXNzYWdlOiAlcycsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBFTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1zZyB8fCAhbXNnLmpzb25ycGMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUmVjZWl2ZWQgZW1wdHkgb3Igbm9uLWpzb25ycGMgbWVzc2FnZTogJXMnLCBtc2cpO1xuICAgICAgICAgICAgcmV0dXJuIEVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZihtc2cpO1xuICAgIH0pLCBzaGFyZSgpKTtcbiAgICB2YXIgYXV0aGVkQ29ubmVjdGlvbiQgPSB0b2tlbiRcbiAgICAgICAgPyBjb21iaW5lTGF0ZXN0KFt0b2tlbiQsIGNvbm5lY3Rpb24kXSkucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZChmdW5jdGlvbiAoX2EsIF9iKSB7XG4gICAgICAgICAgICB2YXIgb2xkVG9rZW4gPSBfYVswXSwgb2xkU29ja2V0ID0gX2FbMV07XG4gICAgICAgICAgICB2YXIgbmV3VG9rZW4gPSBfYlswXSwgbmV3U29ja2V0ID0gX2JbMV07XG4gICAgICAgICAgICByZXR1cm4gb2xkVG9rZW4gPT09IG5ld1Rva2VuICYmIG9sZFNvY2tldCA9PT0gbmV3U29ja2V0O1xuICAgICAgICB9KSwgc3dpdGNoTWFwKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHRva2VuID0gX2FbMF0sIHdzID0gX2FbMV07XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5cbiAgICAgICAgICAgICAgICA/IGNhbGwod3MsICdhdXRob3JpemF0aW9uJywge1xuICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIi5jb25jYXQodG9rZW4pLFxuICAgICAgICAgICAgICAgIH0pLnBpcGUodGFrZSgxKSwgbWFwVG8od3MpKVxuICAgICAgICAgICAgICAgIDogb2Yod3MpO1xuICAgICAgICB9KSwgc2hhcmVSZXBsYXkoeyByZWZDb3VudDogdHJ1ZSwgYnVmZmVyU2l6ZTogMSB9KSlcbiAgICAgICAgOiBjb25uZWN0aW9uJDtcbiAgICBmdW5jdGlvbiBjYWxsKHdzLCBtZXRob2QsIHBhcmFtcykge1xuICAgICAgICBpZiAocGFyYW1zID09PSB2b2lkIDApIHsgcGFyYW1zID0ge307IH1cbiAgICAgICAgdmFyIHJlcXVlc3RJZCA9IGdldE5leHRSZXF1ZXN0SWQoKTtcbiAgICAgICAgcmV0dXJuIG1lcmdlKHBhcnNlZFJlc3BvbnNlcyQucGlwZShmaWx0ZXIoZnVuY3Rpb24gKHJwY1Jlc3VsdCkgeyByZXR1cm4gcnBjUmVzdWx0LmlkID09PSByZXF1ZXN0SWQ7IH0pLCBtYXAoZnVuY3Rpb24gKHJwY1Jlc3VsdCkgeyByZXR1cm4gcnBjUmVzdWx0LnJlc3VsdDsgfSkpLCBkZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3cy5zZW5kKGZvcm1hdFJlcXVlc3QobWV0aG9kLCBwYXJhbXMsIHJlcXVlc3RJZCkpO1xuICAgICAgICAgICAgcmV0dXJuIEVNUFRZO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8vIFdpbGwgY2FsbCB0aGUgcnBjIG1ldGhvZCBhbmQgcmV0dXJuIGFuIG9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgZmlyc3QgcmVwbHkgYW5kIHRoZW4gZW5kc1xuICAgIGZ1bmN0aW9uIHJlcXVlc3RNZXRob2QobWV0aG9kLCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIGF1dGhlZENvbm5lY3Rpb24kLnBpcGUodGFrZSgxKSwgbWVyZ2VNYXAoZnVuY3Rpb24gKHdzKSB7IHJldHVybiBjYWxsKHdzLCBtZXRob2QsIHBhcmFtcykucGlwZSh0YWtlKDEpKTsgfSkpO1xuICAgIH1cbiAgICAvLyBXaWxsIGNhbGwgdGhlIHJwYyBtZXRob2Qgd2l0aCB0aGUgJ19zdWJzY3JpYmUnIHN1ZmZpeCBhbmQgcmV0dXJuIGFuIG9ic2VydmFibGUgb2YgYWxsIHJlY2VpdmVkIG1lc3NhZ2VzIGFuZFxuICAgIC8vIGtlZXBzIHRoZSBzdWJzY3JpcHRpb24gb3BlbiBmb3JldmVyL3VudGlsIHVuc3Vic2NyaWJlXG4gICAgZnVuY3Rpb24gcmVxdWVzdFN1YnNjcmliZShtZXRob2QsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gYXV0aGVkQ29ubmVjdGlvbiQucGlwZSh0YWtlKDEpLCBtZXJnZU1hcChmdW5jdGlvbiAod3MpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsKHdzLCBcIlwiLmNvbmNhdChtZXRob2QsIFwiX3N1YnNjcmliZVwiKSwgcGFyYW1zKS5waXBlKHRha2UoMSksIG1lcmdlTWFwKGZ1bmN0aW9uIChzdWJzY3JpcHRpb25JZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXNwb25zZXMkLnBpcGUoZmlsdGVyKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLm1ldGhvZCA9PT0gXCJcIi5jb25jYXQobWV0aG9kLCBcIl9zdWJzY3JpcHRpb25cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFyYW1zLnN1YnNjcmlwdGlvbiA9PT0gc3Vic2NyaXB0aW9uSWQ7XG4gICAgICAgICAgICAgICAgfSksIG1hcChmdW5jdGlvbiAobWVzc2FnZSkgeyByZXR1cm4gbWVzc2FnZS5wYXJhbXMucmVzdWx0OyB9KSwgZmluYWxpemUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod3MucmVhZHlTdGF0ZSAhPT0gd3MuQ0xPU0VEICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB3cy5yZWFkeVN0YXRlICE9PSB3cy5DTE9TSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cy5zZW5kKGZvcm1hdFJlcXVlc3QoXCJcIi5jb25jYXQobWV0aG9kLCBcIl91bnN1YnNjcmliZVwiKSwgeyBzdWJzY3JpcHRpb25JZDogc3Vic2NyaXB0aW9uSWQgfSwgZ2V0TmV4dFJlcXVlc3RJZCgpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gaGVhcnRiZWF0JCBpcyBhIHN0cmVhbSBvZiBkYXRlIG9iamVjdHMgcmVwcmVzZW50aW5nIHdoZW4gdGhlIFwibGFzdCBtZXNzYWdlIHdhcyByZWNlaXZlZFwiXG4gICAgICAgIC8vIGl0IHdpbGwga2VlcCB0aGUgY29ubmVjdGlvbiBvcGVuIHVudGlsIGl0IGlzIHVuc3Vic2NyaWJlZCBhbmQgY2FuIHRoZXJlZm9yZSBiZSB1c2VkIHRvIGtlZXAgY29ubmVjdGlvbiBhbGl2ZVxuICAgICAgICAvLyBiZXR3ZWVuIHJlcXVlc3RzXG4gICAgICAgIGhlYXJ0YmVhdHM6IG1lcmdlKGF1dGhlZENvbm5lY3Rpb24kLCBoZWFydGJlYXRzJCwgcmVzcG9uc2VzJCkucGlwZShtYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IERhdGUoKTsgfSkpLFxuICAgICAgICBsaXN0ZW46IGZ1bmN0aW9uIChtZXRob2QsIHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3RTdWJzY3JpYmUobWV0aG9kLCBwYXJhbXMpO1xuICAgICAgICB9LFxuICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbiAobWV0aG9kLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0TWV0aG9kKG1ldGhvZCwgcGFyYW1zKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/bifur-client/dist/esm/createClient.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/bifur-client/dist/esm/createConnect.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@sanity/bifur-client/dist/esm/createConnect.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebSocketError: () => (/* binding */ WebSocketError),\n/* harmony export */   createConnect: () => (/* binding */ createConnect)\n/* harmony export */ });\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/Observable.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar WebSocketError = /** @class */ (function (_super) {\n    __extends(WebSocketError, _super);\n    function WebSocketError(message, type, code, reason) {\n        var _this = _super.call(this, message) || this;\n        _this.type = type;\n        _this.code = code;\n        _this.reason = reason;\n        return _this;\n    }\n    return WebSocketError;\n}(Error));\n\nfunction createConnect(getWebsocketInstance) {\n    return function (url) {\n        return new rxjs__WEBPACK_IMPORTED_MODULE_0__.Observable(function (subscriber) {\n            var ws = getWebsocketInstance(url);\n            var didUnsubscribe = false;\n            var onOpen = function () {\n                subscriber.next(ws);\n            };\n            var onError = function () {\n                subscriber.error(new WebSocketError('WebSocket connection error', 'CONNECTION_ERROR'));\n            };\n            var onClose = function (ev) {\n                if (!didUnsubscribe) {\n                    subscriber.error(new WebSocketError('WebSocket connection error', 'CONNECTION_CLOSED', ev.code, ev.reason));\n                }\n                else {\n                    subscriber.complete();\n                }\n            };\n            ws.onopen = onOpen;\n            ws.onclose = onClose;\n            ws.onerror = onError;\n            return function () {\n                didUnsubscribe = true;\n                ws.close(1000, 'WebSockets connection closed by client');\n            };\n        });\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9iaWZ1ci1jbGllbnQvZGlzdC9lc20vY3JlYXRlQ29ubmVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNpQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDeUI7QUFDbkI7QUFDUDtBQUNBLG1CQUFtQiw0Q0FBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvYmlmdXItY2xpZW50L2Rpc3QvZXNtL2NyZWF0ZUNvbm5lY3QuanM/YWNlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xudmFyIFdlYlNvY2tldEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhXZWJTb2NrZXRFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXZWJTb2NrZXRFcnJvcihtZXNzYWdlLCB0eXBlLCBjb2RlLCByZWFzb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIF90aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICBfdGhpcy5yZWFzb24gPSByZWFzb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFdlYlNvY2tldEVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0IHsgV2ViU29ja2V0RXJyb3IgfTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb25uZWN0KGdldFdlYnNvY2tldEluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIgd3MgPSBnZXRXZWJzb2NrZXRJbnN0YW5jZSh1cmwpO1xuICAgICAgICAgICAgdmFyIGRpZFVuc3Vic2NyaWJlID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgb25PcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh3cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihuZXcgV2ViU29ja2V0RXJyb3IoJ1dlYlNvY2tldCBjb25uZWN0aW9uIGVycm9yJywgJ0NPTk5FQ1RJT05fRVJST1InKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9uQ2xvc2UgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRpZFVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IobmV3IFdlYlNvY2tldEVycm9yKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBlcnJvcicsICdDT05ORUNUSU9OX0NMT1NFRCcsIGV2LmNvZGUsIGV2LnJlYXNvbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3cy5vbm9wZW4gPSBvbk9wZW47XG4gICAgICAgICAgICB3cy5vbmNsb3NlID0gb25DbG9zZTtcbiAgICAgICAgICAgIHdzLm9uZXJyb3IgPSBvbkVycm9yO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkaWRVbnN1YnNjcmliZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgd3MuY2xvc2UoMTAwMCwgJ1dlYlNvY2tldHMgY29ubmVjdGlvbiBjbG9zZWQgYnkgY2xpZW50Jyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/bifur-client/dist/esm/createConnect.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/bifur-client/dist/esm/errorCodes.js":
/*!******************************************************************!*\
  !*** ./node_modules/@sanity/bifur-client/dist/esm/errorCodes.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ERROR_CODES: () => (/* binding */ ERROR_CODES)\n/* harmony export */ });\nvar ERROR_CODES;\n(function (ERROR_CODES) {\n    // Connection-level errors\n    ERROR_CODES[ERROR_CODES[\"BAD_REQUEST\"] = 4000] = \"BAD_REQUEST\";\n    ERROR_CODES[ERROR_CODES[\"UNAUTHORIZED\"] = 4001] = \"UNAUTHORIZED\";\n    ERROR_CODES[ERROR_CODES[\"NOT_FOUND\"] = 4004] = \"NOT_FOUND\";\n    // Application-level errors\n    ERROR_CODES[ERROR_CODES[\"INVALID_REQUEST\"] = -32600] = \"INVALID_REQUEST\";\n    ERROR_CODES[ERROR_CODES[\"METHOD_NOT_FOUND\"] = -32601] = \"METHOD_NOT_FOUND\";\n    ERROR_CODES[ERROR_CODES[\"INVALID_PARAMS\"] = -32602] = \"INVALID_PARAMS\";\n    ERROR_CODES[ERROR_CODES[\"SUBSCRIPTION_NOT_FOUND\"] = -32602] = \"SUBSCRIPTION_NOT_FOUND\";\n    ERROR_CODES[ERROR_CODES[\"PARSE_ERROR\"] = -32700] = \"PARSE_ERROR\";\n})(ERROR_CODES || (ERROR_CODES = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9iaWZ1ci1jbGllbnQvZGlzdC9lc20vZXJyb3JDb2Rlcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvYmlmdXItY2xpZW50L2Rpc3QvZXNtL2Vycm9yQ29kZXMuanM/NDA4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIEVSUk9SX0NPREVTO1xuKGZ1bmN0aW9uIChFUlJPUl9DT0RFUykge1xuICAgIC8vIENvbm5lY3Rpb24tbGV2ZWwgZXJyb3JzXG4gICAgRVJST1JfQ09ERVNbRVJST1JfQ09ERVNbXCJCQURfUkVRVUVTVFwiXSA9IDQwMDBdID0gXCJCQURfUkVRVUVTVFwiO1xuICAgIEVSUk9SX0NPREVTW0VSUk9SX0NPREVTW1wiVU5BVVRIT1JJWkVEXCJdID0gNDAwMV0gPSBcIlVOQVVUSE9SSVpFRFwiO1xuICAgIEVSUk9SX0NPREVTW0VSUk9SX0NPREVTW1wiTk9UX0ZPVU5EXCJdID0gNDAwNF0gPSBcIk5PVF9GT1VORFwiO1xuICAgIC8vIEFwcGxpY2F0aW9uLWxldmVsIGVycm9yc1xuICAgIEVSUk9SX0NPREVTW0VSUk9SX0NPREVTW1wiSU5WQUxJRF9SRVFVRVNUXCJdID0gLTMyNjAwXSA9IFwiSU5WQUxJRF9SRVFVRVNUXCI7XG4gICAgRVJST1JfQ09ERVNbRVJST1JfQ09ERVNbXCJNRVRIT0RfTk9UX0ZPVU5EXCJdID0gLTMyNjAxXSA9IFwiTUVUSE9EX05PVF9GT1VORFwiO1xuICAgIEVSUk9SX0NPREVTW0VSUk9SX0NPREVTW1wiSU5WQUxJRF9QQVJBTVNcIl0gPSAtMzI2MDJdID0gXCJJTlZBTElEX1BBUkFNU1wiO1xuICAgIEVSUk9SX0NPREVTW0VSUk9SX0NPREVTW1wiU1VCU0NSSVBUSU9OX05PVF9GT1VORFwiXSA9IC0zMjYwMl0gPSBcIlNVQlNDUklQVElPTl9OT1RfRk9VTkRcIjtcbiAgICBFUlJPUl9DT0RFU1tFUlJPUl9DT0RFU1tcIlBBUlNFX0VSUk9SXCJdID0gLTMyNzAwXSA9IFwiUEFSU0VfRVJST1JcIjtcbn0pKEVSUk9SX0NPREVTIHx8IChFUlJPUl9DT0RFUyA9IHt9KSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/bifur-client/dist/esm/errorCodes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/bifur-client/dist/esm/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@sanity/bifur-client/dist/esm/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ERROR_CODES: () => (/* reexport safe */ _errorCodes__WEBPACK_IMPORTED_MODULE_3__.ERROR_CODES),\n/* harmony export */   createClient: () => (/* reexport safe */ _createClient__WEBPACK_IMPORTED_MODULE_0__.createClient),\n/* harmony export */   fromSanityClient: () => (/* binding */ fromSanityClient),\n/* harmony export */   fromUrl: () => (/* binding */ fromUrl)\n/* harmony export */ });\n/* harmony import */ var _createClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createClient */ \"(ssr)/./node_modules/@sanity/bifur-client/dist/esm/createClient.js\");\n/* harmony import */ var _createConnect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./createConnect */ \"(ssr)/./node_modules/@sanity/bifur-client/dist/esm/createConnect.js\");\n/* harmony import */ var _operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./operators */ \"(ssr)/./node_modules/@sanity/bifur-client/dist/esm/operators.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ \"(ssr)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/throwError.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var _errorCodes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errorCodes */ \"(ssr)/./node_modules/@sanity/bifur-client/dist/esm/errorCodes.js\");\n\n\n\n\n\nvar id = function (arg) { return arg; };\n\n\nfunction fromUrl(url, options) {\n    if (options === void 0) { options = {}; }\n    var timeout = options.timeout, token$ = options.token$;\n    var connect = (0,_createConnect__WEBPACK_IMPORTED_MODULE_1__.createConnect)(function (url, protocols) {\n        return new window.WebSocket(url, protocols);\n    });\n    return (0,_createClient__WEBPACK_IMPORTED_MODULE_0__.createClient)(connect(url).pipe(timeout\n        ? (0,_operators__WEBPACK_IMPORTED_MODULE_2__.timeoutFirstWith)(timeout, (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.throwError)(function () {\n            return new Error(\"Timeout after \".concat(timeout, \" while establishing WebSockets connection\"));\n        }))\n        : id, (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.shareReplay)({ refCount: true }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.takeUntil)((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.fromEvent)(window, 'beforeunload'))), { token$: token$ });\n}\nfunction fromSanityClient(client) {\n    var _a = client.config(), dataset = _a.dataset, token = _a.token;\n    return fromUrl(client.getUrl(\"/socket/\".concat(dataset)).replace(/^http/, 'ws'), token ? { token$: (0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(token) } : {});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9iaWZ1ci1jbGllbnQvZGlzdC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQThDO0FBQ0U7QUFDRDtBQUNTO0FBQ1A7QUFDakQsMEJBQTBCO0FBQ2lCO0FBQ25CO0FBQ2pCO0FBQ1AsOEJBQThCO0FBQzlCO0FBQ0Esa0JBQWtCLDZEQUFhO0FBQy9CO0FBQ0EsS0FBSztBQUNMLFdBQVcsMkRBQVk7QUFDdkIsVUFBVSw0REFBZ0IsVUFBVSxnREFBVTtBQUM5QztBQUNBLFNBQVM7QUFDVCxjQUFjLDJEQUFXLEdBQUcsZ0JBQWdCLEdBQUcseURBQVMsQ0FBQywrQ0FBUyw4QkFBOEIsZ0JBQWdCO0FBQ2hIO0FBQ087QUFDUDtBQUNBLCtGQUErRixRQUFRLHdDQUFFLFVBQVUsSUFBSTtBQUN2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9iaWZ1ci1jbGllbnQvZGlzdC9lc20vaW5kZXguanM/MzhhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICcuL2NyZWF0ZUNsaWVudCc7XG5pbXBvcnQgeyBjcmVhdGVDb25uZWN0IH0gZnJvbSAnLi9jcmVhdGVDb25uZWN0JztcbmltcG9ydCB7IHRpbWVvdXRGaXJzdFdpdGggfSBmcm9tICcuL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBzaGFyZVJlcGxheSwgdGFrZVVudGlsIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgdGhyb3dFcnJvciwgZnJvbUV2ZW50LCBvZiB9IGZyb20gJ3J4anMnO1xudmFyIGlkID0gZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gYXJnOyB9O1xuZXhwb3J0IHsgRVJST1JfQ09ERVMgfSBmcm9tICcuL2Vycm9yQ29kZXMnO1xuZXhwb3J0IHsgY3JlYXRlQ2xpZW50IH07XG5leHBvcnQgZnVuY3Rpb24gZnJvbVVybCh1cmwsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciB0aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0LCB0b2tlbiQgPSBvcHRpb25zLnRva2VuJDtcbiAgICB2YXIgY29ubmVjdCA9IGNyZWF0ZUNvbm5lY3QoZnVuY3Rpb24gKHVybCwgcHJvdG9jb2xzKSB7XG4gICAgICAgIHJldHVybiBuZXcgd2luZG93LldlYlNvY2tldCh1cmwsIHByb3RvY29scyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNyZWF0ZUNsaWVudChjb25uZWN0KHVybCkucGlwZSh0aW1lb3V0XG4gICAgICAgID8gdGltZW91dEZpcnN0V2l0aCh0aW1lb3V0LCB0aHJvd0Vycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJUaW1lb3V0IGFmdGVyIFwiLmNvbmNhdCh0aW1lb3V0LCBcIiB3aGlsZSBlc3RhYmxpc2hpbmcgV2ViU29ja2V0cyBjb25uZWN0aW9uXCIpKTtcbiAgICAgICAgfSkpXG4gICAgICAgIDogaWQsIHNoYXJlUmVwbGF5KHsgcmVmQ291bnQ6IHRydWUgfSksIHRha2VVbnRpbChmcm9tRXZlbnQod2luZG93LCAnYmVmb3JldW5sb2FkJykpKSwgeyB0b2tlbiQ6IHRva2VuJCB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2FuaXR5Q2xpZW50KGNsaWVudCkge1xuICAgIHZhciBfYSA9IGNsaWVudC5jb25maWcoKSwgZGF0YXNldCA9IF9hLmRhdGFzZXQsIHRva2VuID0gX2EudG9rZW47XG4gICAgcmV0dXJuIGZyb21VcmwoY2xpZW50LmdldFVybChcIi9zb2NrZXQvXCIuY29uY2F0KGRhdGFzZXQpKS5yZXBsYWNlKC9eaHR0cC8sICd3cycpLCB0b2tlbiA/IHsgdG9rZW4kOiBvZih0b2tlbikgfSA6IHt9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/bifur-client/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/bifur-client/dist/esm/operators.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@sanity/bifur-client/dist/esm/operators.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   timeoutFirstWith: () => (/* binding */ timeoutFirstWith)\n/* harmony export */ });\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/race.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/timer.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ \"(ssr)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n\n\n// Operator that will time out using <withObservable> if <due> time passes before receiving the first value\nvar timeoutFirstWith = function (due, withObservable) {\n    return function (input$) {\n        return (0,rxjs__WEBPACK_IMPORTED_MODULE_0__.race)(input$, (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.timer)(due).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.mergeMap)(function () { return withObservable; })));\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9iaWZ1ci1jbGllbnQvZGlzdC9lc20vb3BlcmF0b3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBbUM7QUFDTztBQUMxQztBQUNPO0FBQ1A7QUFDQSxlQUFlLDBDQUFJLFNBQVMsMkNBQUssV0FBVyx3REFBUSxlQUFlLHdCQUF3QjtBQUMzRjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2JpZnVyLWNsaWVudC9kaXN0L2VzbS9vcGVyYXRvcnMuanM/NjE5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0aW1lciwgcmFjZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG4vLyBPcGVyYXRvciB0aGF0IHdpbGwgdGltZSBvdXQgdXNpbmcgPHdpdGhPYnNlcnZhYmxlPiBpZiA8ZHVlPiB0aW1lIHBhc3NlcyBiZWZvcmUgcmVjZWl2aW5nIHRoZSBmaXJzdCB2YWx1ZVxuZXhwb3J0IHZhciB0aW1lb3V0Rmlyc3RXaXRoID0gZnVuY3Rpb24gKGR1ZSwgd2l0aE9ic2VydmFibGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0JCkge1xuICAgICAgICByZXR1cm4gcmFjZShpbnB1dCQsIHRpbWVyKGR1ZSkucGlwZShtZXJnZU1hcChmdW5jdGlvbiAoKSB7IHJldHVybiB3aXRoT2JzZXJ2YWJsZTsgfSkpKTtcbiAgICB9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/bifur-client/dist/esm/operators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/builder.js":
/*!************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/builder.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ImageUrlBuilder = void 0;\nvar urlForImage_1 = __importStar(__webpack_require__(/*! ./urlForImage */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\"));\nvar validFits = ['clip', 'crop', 'fill', 'fillmax', 'max', 'scale', 'min'];\nvar validCrops = ['top', 'bottom', 'left', 'right', 'center', 'focalpoint', 'entropy'];\nvar validAutoModes = ['format'];\nfunction isSanityModernClientLike(client) {\n    return client && 'config' in client ? typeof client.config === 'function' : false;\n}\nfunction isSanityClientLike(client) {\n    return client && 'clientConfig' in client ? typeof client.clientConfig === 'object' : false;\n}\nfunction rewriteSpecName(key) {\n    var specs = urlForImage_1.SPEC_NAME_TO_URL_NAME_MAPPINGS;\n    for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\n        var entry = specs_1[_i];\n        var specName = entry[0], param = entry[1];\n        if (key === specName || key === param) {\n            return specName;\n        }\n    }\n    return key;\n}\nfunction urlBuilder(options) {\n    // Did we get a modernish client?\n    if (isSanityModernClientLike(options)) {\n        // Inherit config from client\n        var _a = options.config(), apiUrl = _a.apiHost, projectId = _a.projectId, dataset = _a.dataset;\n        var apiHost = apiUrl || 'https://api.sanity.io';\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n            projectId: projectId,\n            dataset: dataset,\n        });\n    }\n    // Did we get a SanityClient?\n    var client = options;\n    if (isSanityClientLike(client)) {\n        // Inherit config from client\n        var _b = client.clientConfig, apiUrl = _b.apiHost, projectId = _b.projectId, dataset = _b.dataset;\n        var apiHost = apiUrl || 'https://api.sanity.io';\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n            projectId: projectId,\n            dataset: dataset,\n        });\n    }\n    // Or just accept the options as given\n    return new ImageUrlBuilder(null, options);\n}\nexports[\"default\"] = urlBuilder;\nvar ImageUrlBuilder = /** @class */ (function () {\n    function ImageUrlBuilder(parent, options) {\n        this.options = parent\n            ? __assign(__assign({}, (parent.options || {})), (options || {})) : __assign({}, (options || {})); // Copy options\n    }\n    ImageUrlBuilder.prototype.withOptions = function (options) {\n        var baseUrl = options.baseUrl || this.options.baseUrl;\n        var newOptions = { baseUrl: baseUrl };\n        for (var key in options) {\n            if (options.hasOwnProperty(key)) {\n                var specKey = rewriteSpecName(key);\n                newOptions[specKey] = options[key];\n            }\n        }\n        return new ImageUrlBuilder(this, __assign({ baseUrl: baseUrl }, newOptions));\n    };\n    // The image to be represented. Accepts a Sanity 'image'-document, 'asset'-document or\n    // _id of asset. To get the benefit of automatic hot-spot/crop integration with the content\n    // studio, the 'image'-document must be provided.\n    ImageUrlBuilder.prototype.image = function (source) {\n        return this.withOptions({ source: source });\n    };\n    // Specify the dataset\n    ImageUrlBuilder.prototype.dataset = function (dataset) {\n        return this.withOptions({ dataset: dataset });\n    };\n    // Specify the projectId\n    ImageUrlBuilder.prototype.projectId = function (projectId) {\n        return this.withOptions({ projectId: projectId });\n    };\n    // Specify background color\n    ImageUrlBuilder.prototype.bg = function (bg) {\n        return this.withOptions({ bg: bg });\n    };\n    // Set DPR scaling factor\n    ImageUrlBuilder.prototype.dpr = function (dpr) {\n        // A DPR of 1 is the default - so only include it if we have a different value\n        return this.withOptions(dpr && dpr !== 1 ? { dpr: dpr } : {});\n    };\n    // Specify the width of the image in pixels\n    ImageUrlBuilder.prototype.width = function (width) {\n        return this.withOptions({ width: width });\n    };\n    // Specify the height of the image in pixels\n    ImageUrlBuilder.prototype.height = function (height) {\n        return this.withOptions({ height: height });\n    };\n    // Specify focal point in fraction of image dimensions. Each component 0.0-1.0\n    ImageUrlBuilder.prototype.focalPoint = function (x, y) {\n        return this.withOptions({ focalPoint: { x: x, y: y } });\n    };\n    ImageUrlBuilder.prototype.maxWidth = function (maxWidth) {\n        return this.withOptions({ maxWidth: maxWidth });\n    };\n    ImageUrlBuilder.prototype.minWidth = function (minWidth) {\n        return this.withOptions({ minWidth: minWidth });\n    };\n    ImageUrlBuilder.prototype.maxHeight = function (maxHeight) {\n        return this.withOptions({ maxHeight: maxHeight });\n    };\n    ImageUrlBuilder.prototype.minHeight = function (minHeight) {\n        return this.withOptions({ minHeight: minHeight });\n    };\n    // Specify width and height in pixels\n    ImageUrlBuilder.prototype.size = function (width, height) {\n        return this.withOptions({ width: width, height: height });\n    };\n    // Specify blur between 0 and 100\n    ImageUrlBuilder.prototype.blur = function (blur) {\n        return this.withOptions({ blur: blur });\n    };\n    ImageUrlBuilder.prototype.sharpen = function (sharpen) {\n        return this.withOptions({ sharpen: sharpen });\n    };\n    // Specify the desired rectangle of the image\n    ImageUrlBuilder.prototype.rect = function (left, top, width, height) {\n        return this.withOptions({ rect: { left: left, top: top, width: width, height: height } });\n    };\n    // Specify the image format of the image. 'jpg', 'pjpg', 'png', 'webp'\n    ImageUrlBuilder.prototype.format = function (format) {\n        return this.withOptions({ format: format });\n    };\n    ImageUrlBuilder.prototype.invert = function (invert) {\n        return this.withOptions({ invert: invert });\n    };\n    // Rotation in degrees 0, 90, 180, 270\n    ImageUrlBuilder.prototype.orientation = function (orientation) {\n        return this.withOptions({ orientation: orientation });\n    };\n    // Compression quality 0-100\n    ImageUrlBuilder.prototype.quality = function (quality) {\n        return this.withOptions({ quality: quality });\n    };\n    // Make it a download link. Parameter is default filename.\n    ImageUrlBuilder.prototype.forceDownload = function (download) {\n        return this.withOptions({ download: download });\n    };\n    // Flip image horizontally\n    ImageUrlBuilder.prototype.flipHorizontal = function () {\n        return this.withOptions({ flipHorizontal: true });\n    };\n    // Flip image vertically\n    ImageUrlBuilder.prototype.flipVertical = function () {\n        return this.withOptions({ flipVertical: true });\n    };\n    // Ignore crop/hotspot from image record, even when present\n    ImageUrlBuilder.prototype.ignoreImageParams = function () {\n        return this.withOptions({ ignoreImageParams: true });\n    };\n    ImageUrlBuilder.prototype.fit = function (value) {\n        if (validFits.indexOf(value) === -1) {\n            throw new Error(\"Invalid fit mode \\\"\".concat(value, \"\\\"\"));\n        }\n        return this.withOptions({ fit: value });\n    };\n    ImageUrlBuilder.prototype.crop = function (value) {\n        if (validCrops.indexOf(value) === -1) {\n            throw new Error(\"Invalid crop mode \\\"\".concat(value, \"\\\"\"));\n        }\n        return this.withOptions({ crop: value });\n    };\n    // Saturation\n    ImageUrlBuilder.prototype.saturation = function (saturation) {\n        return this.withOptions({ saturation: saturation });\n    };\n    ImageUrlBuilder.prototype.auto = function (value) {\n        if (validAutoModes.indexOf(value) === -1) {\n            throw new Error(\"Invalid auto mode \\\"\".concat(value, \"\\\"\"));\n        }\n        return this.withOptions({ auto: value });\n    };\n    // Specify the number of pixels to pad the image\n    ImageUrlBuilder.prototype.pad = function (pad) {\n        return this.withOptions({ pad: pad });\n    };\n    // Gets the url based on the submitted parameters\n    ImageUrlBuilder.prototype.url = function () {\n        return (0, urlForImage_1.default)(this.options);\n    };\n    // Alias for url()\n    ImageUrlBuilder.prototype.toString = function () {\n        return this.url();\n    };\n    return ImageUrlBuilder;\n}());\nexports.ImageUrlBuilder = ImageUrlBuilder;\n//# sourceMappingURL=builder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDLDRCQUE0QjtBQUN0RSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLGlDQUFpQyxtQkFBTyxDQUFDLHFGQUFlO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUJBQXFCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsdUJBQXVCLGtCQUFrQixnQkFBZ0IsZ0JBQWdCLElBQUk7QUFDL0c7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxrQkFBa0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxnQkFBZ0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGtCQUFrQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msc0JBQXNCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxRQUFRO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFdBQVcsSUFBSTtBQUNwRTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsY0FBYztBQUNoRDtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0JBQWdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxjQUFjLGNBQWM7QUFDOUQ7QUFDQTtBQUNBLGtDQUFrQyxvQkFBb0I7QUFDdEQ7QUFDQTtBQUNBLGtDQUFrQyxvQkFBb0I7QUFDdEQ7QUFDQTtBQUNBLGtDQUFrQyxzQkFBc0I7QUFDeEQ7QUFDQTtBQUNBLGtDQUFrQyxzQkFBc0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDhCQUE4QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsWUFBWTtBQUM5QztBQUNBO0FBQ0Esa0NBQWtDLGtCQUFrQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsUUFBUSxzREFBc0Q7QUFDaEc7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdCQUFnQjtBQUNsRDtBQUNBO0FBQ0Esa0NBQWtDLGdCQUFnQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMEJBQTBCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxrQkFBa0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG9CQUFvQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msc0JBQXNCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxvQkFBb0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHlCQUF5QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFlBQVk7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx3QkFBd0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxVQUFVO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvYnVpbGRlci5qcz8xZTU3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JbWFnZVVybEJ1aWxkZXIgPSB2b2lkIDA7XG52YXIgdXJsRm9ySW1hZ2VfMSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi91cmxGb3JJbWFnZVwiKSk7XG52YXIgdmFsaWRGaXRzID0gWydjbGlwJywgJ2Nyb3AnLCAnZmlsbCcsICdmaWxsbWF4JywgJ21heCcsICdzY2FsZScsICdtaW4nXTtcbnZhciB2YWxpZENyb3BzID0gWyd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnLCAnY2VudGVyJywgJ2ZvY2FscG9pbnQnLCAnZW50cm9weSddO1xudmFyIHZhbGlkQXV0b01vZGVzID0gWydmb3JtYXQnXTtcbmZ1bmN0aW9uIGlzU2FuaXR5TW9kZXJuQ2xpZW50TGlrZShjbGllbnQpIHtcbiAgICByZXR1cm4gY2xpZW50ICYmICdjb25maWcnIGluIGNsaWVudCA/IHR5cGVvZiBjbGllbnQuY29uZmlnID09PSAnZnVuY3Rpb24nIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc1Nhbml0eUNsaWVudExpa2UoY2xpZW50KSB7XG4gICAgcmV0dXJuIGNsaWVudCAmJiAnY2xpZW50Q29uZmlnJyBpbiBjbGllbnQgPyB0eXBlb2YgY2xpZW50LmNsaWVudENvbmZpZyA9PT0gJ29iamVjdCcgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJld3JpdGVTcGVjTmFtZShrZXkpIHtcbiAgICB2YXIgc3BlY3MgPSB1cmxGb3JJbWFnZV8xLlNQRUNfTkFNRV9UT19VUkxfTkFNRV9NQVBQSU5HUztcbiAgICBmb3IgKHZhciBfaSA9IDAsIHNwZWNzXzEgPSBzcGVjczsgX2kgPCBzcGVjc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgZW50cnkgPSBzcGVjc18xW19pXTtcbiAgICAgICAgdmFyIHNwZWNOYW1lID0gZW50cnlbMF0sIHBhcmFtID0gZW50cnlbMV07XG4gICAgICAgIGlmIChrZXkgPT09IHNwZWNOYW1lIHx8IGtleSA9PT0gcGFyYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBzcGVjTmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5O1xufVxuZnVuY3Rpb24gdXJsQnVpbGRlcihvcHRpb25zKSB7XG4gICAgLy8gRGlkIHdlIGdldCBhIG1vZGVybmlzaCBjbGllbnQ/XG4gICAgaWYgKGlzU2FuaXR5TW9kZXJuQ2xpZW50TGlrZShvcHRpb25zKSkge1xuICAgICAgICAvLyBJbmhlcml0IGNvbmZpZyBmcm9tIGNsaWVudFxuICAgICAgICB2YXIgX2EgPSBvcHRpb25zLmNvbmZpZygpLCBhcGlVcmwgPSBfYS5hcGlIb3N0LCBwcm9qZWN0SWQgPSBfYS5wcm9qZWN0SWQsIGRhdGFzZXQgPSBfYS5kYXRhc2V0O1xuICAgICAgICB2YXIgYXBpSG9zdCA9IGFwaVVybCB8fCAnaHR0cHM6Ly9hcGkuc2FuaXR5LmlvJztcbiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZVVybEJ1aWxkZXIobnVsbCwge1xuICAgICAgICAgICAgYmFzZVVybDogYXBpSG9zdC5yZXBsYWNlKC9eaHR0cHM6XFwvXFwvYXBpXFwuLywgJ2h0dHBzOi8vY2RuLicpLFxuICAgICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWQsXG4gICAgICAgICAgICBkYXRhc2V0OiBkYXRhc2V0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gRGlkIHdlIGdldCBhIFNhbml0eUNsaWVudD9cbiAgICB2YXIgY2xpZW50ID0gb3B0aW9ucztcbiAgICBpZiAoaXNTYW5pdHlDbGllbnRMaWtlKGNsaWVudCkpIHtcbiAgICAgICAgLy8gSW5oZXJpdCBjb25maWcgZnJvbSBjbGllbnRcbiAgICAgICAgdmFyIF9iID0gY2xpZW50LmNsaWVudENvbmZpZywgYXBpVXJsID0gX2IuYXBpSG9zdCwgcHJvamVjdElkID0gX2IucHJvamVjdElkLCBkYXRhc2V0ID0gX2IuZGF0YXNldDtcbiAgICAgICAgdmFyIGFwaUhvc3QgPSBhcGlVcmwgfHwgJ2h0dHBzOi8vYXBpLnNhbml0eS5pbyc7XG4gICAgICAgIHJldHVybiBuZXcgSW1hZ2VVcmxCdWlsZGVyKG51bGwsIHtcbiAgICAgICAgICAgIGJhc2VVcmw6IGFwaUhvc3QucmVwbGFjZSgvXmh0dHBzOlxcL1xcL2FwaVxcLi8sICdodHRwczovL2Nkbi4nKSxcbiAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLFxuICAgICAgICAgICAgZGF0YXNldDogZGF0YXNldCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIE9yIGp1c3QgYWNjZXB0IHRoZSBvcHRpb25zIGFzIGdpdmVuXG4gICAgcmV0dXJuIG5ldyBJbWFnZVVybEJ1aWxkZXIobnVsbCwgb3B0aW9ucyk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSB1cmxCdWlsZGVyO1xudmFyIEltYWdlVXJsQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbWFnZVVybEJ1aWxkZXIocGFyZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHBhcmVudFxuICAgICAgICAgICAgPyBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgKHBhcmVudC5vcHRpb25zIHx8IHt9KSksIChvcHRpb25zIHx8IHt9KSkgOiBfX2Fzc2lnbih7fSwgKG9wdGlvbnMgfHwge30pKTsgLy8gQ29weSBvcHRpb25zXG4gICAgfVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUud2l0aE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybCB8fCB0aGlzLm9wdGlvbnMuYmFzZVVybDtcbiAgICAgICAgdmFyIG5ld09wdGlvbnMgPSB7IGJhc2VVcmw6IGJhc2VVcmwgfTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3BlY0tleSA9IHJld3JpdGVTcGVjTmFtZShrZXkpO1xuICAgICAgICAgICAgICAgIG5ld09wdGlvbnNbc3BlY0tleV0gPSBvcHRpb25zW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZVVybEJ1aWxkZXIodGhpcywgX19hc3NpZ24oeyBiYXNlVXJsOiBiYXNlVXJsIH0sIG5ld09wdGlvbnMpKTtcbiAgICB9O1xuICAgIC8vIFRoZSBpbWFnZSB0byBiZSByZXByZXNlbnRlZC4gQWNjZXB0cyBhIFNhbml0eSAnaW1hZ2UnLWRvY3VtZW50LCAnYXNzZXQnLWRvY3VtZW50IG9yXG4gICAgLy8gX2lkIG9mIGFzc2V0LiBUbyBnZXQgdGhlIGJlbmVmaXQgb2YgYXV0b21hdGljIGhvdC1zcG90L2Nyb3AgaW50ZWdyYXRpb24gd2l0aCB0aGUgY29udGVudFxuICAgIC8vIHN0dWRpbywgdGhlICdpbWFnZSctZG9jdW1lbnQgbXVzdCBiZSBwcm92aWRlZC5cbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHNvdXJjZTogc291cmNlIH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgZGF0YXNldFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZGF0YXNldCA9IGZ1bmN0aW9uIChkYXRhc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgZGF0YXNldDogZGF0YXNldCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIHByb2plY3RJZFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUucHJvamVjdElkID0gZnVuY3Rpb24gKHByb2plY3RJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHByb2plY3RJZDogcHJvamVjdElkIH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5iZyA9IGZ1bmN0aW9uIChiZykge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGJnOiBiZyB9KTtcbiAgICB9O1xuICAgIC8vIFNldCBEUFIgc2NhbGluZyBmYWN0b3JcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmRwciA9IGZ1bmN0aW9uIChkcHIpIHtcbiAgICAgICAgLy8gQSBEUFIgb2YgMSBpcyB0aGUgZGVmYXVsdCAtIHNvIG9ubHkgaW5jbHVkZSBpdCBpZiB3ZSBoYXZlIGEgZGlmZmVyZW50IHZhbHVlXG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKGRwciAmJiBkcHIgIT09IDEgPyB7IGRwcjogZHByIH0gOiB7fSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSB3aWR0aCBvZiB0aGUgaW1hZ2UgaW4gcGl4ZWxzXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS53aWR0aCA9IGZ1bmN0aW9uICh3aWR0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHdpZHRoOiB3aWR0aCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIGhlaWdodCBvZiB0aGUgaW1hZ2UgaW4gcGl4ZWxzXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5oZWlnaHQgPSBmdW5jdGlvbiAoaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IGZvY2FsIHBvaW50IGluIGZyYWN0aW9uIG9mIGltYWdlIGRpbWVuc2lvbnMuIEVhY2ggY29tcG9uZW50IDAuMC0xLjBcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmZvY2FsUG9pbnQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZvY2FsUG9pbnQ6IHsgeDogeCwgeTogeSB9IH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5tYXhXaWR0aCA9IGZ1bmN0aW9uIChtYXhXaWR0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IG1heFdpZHRoOiBtYXhXaWR0aCB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUubWluV2lkdGggPSBmdW5jdGlvbiAobWluV2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBtaW5XaWR0aDogbWluV2lkdGggfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLm1heEhlaWdodCA9IGZ1bmN0aW9uIChtYXhIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBtYXhIZWlnaHQ6IG1heEhlaWdodCB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUubWluSGVpZ2h0ID0gZnVuY3Rpb24gKG1pbkhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IG1pbkhlaWdodDogbWluSGVpZ2h0IH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB3aWR0aCBhbmQgaGVpZ2h0IGluIHBpeGVsc1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgYmx1ciBiZXR3ZWVuIDAgYW5kIDEwMFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuYmx1ciA9IGZ1bmN0aW9uIChibHVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgYmx1cjogYmx1ciB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuc2hhcnBlbiA9IGZ1bmN0aW9uIChzaGFycGVuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgc2hhcnBlbjogc2hhcnBlbiB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIGRlc2lyZWQgcmVjdGFuZ2xlIG9mIHRoZSBpbWFnZVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUucmVjdCA9IGZ1bmN0aW9uIChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyByZWN0OiB7IGxlZnQ6IGxlZnQsIHRvcDogdG9wLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0gfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBpbWFnZSBmb3JtYXQgb2YgdGhlIGltYWdlLiAnanBnJywgJ3BqcGcnLCAncG5nJywgJ3dlYnAnXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgZm9ybWF0OiBmb3JtYXQgfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIChpbnZlcnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBpbnZlcnQ6IGludmVydCB9KTtcbiAgICB9O1xuICAgIC8vIFJvdGF0aW9uIGluIGRlZ3JlZXMgMCwgOTAsIDE4MCwgMjcwXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uIChvcmllbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbiB9KTtcbiAgICB9O1xuICAgIC8vIENvbXByZXNzaW9uIHF1YWxpdHkgMC0xMDBcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnF1YWxpdHkgPSBmdW5jdGlvbiAocXVhbGl0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHF1YWxpdHk6IHF1YWxpdHkgfSk7XG4gICAgfTtcbiAgICAvLyBNYWtlIGl0IGEgZG93bmxvYWQgbGluay4gUGFyYW1ldGVyIGlzIGRlZmF1bHQgZmlsZW5hbWUuXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mb3JjZURvd25sb2FkID0gZnVuY3Rpb24gKGRvd25sb2FkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgZG93bmxvYWQ6IGRvd25sb2FkIH0pO1xuICAgIH07XG4gICAgLy8gRmxpcCBpbWFnZSBob3Jpem9udGFsbHlcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmZsaXBIb3Jpem9udGFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZsaXBIb3Jpem9udGFsOiB0cnVlIH0pO1xuICAgIH07XG4gICAgLy8gRmxpcCBpbWFnZSB2ZXJ0aWNhbGx5XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mbGlwVmVydGljYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgZmxpcFZlcnRpY2FsOiB0cnVlIH0pO1xuICAgIH07XG4gICAgLy8gSWdub3JlIGNyb3AvaG90c3BvdCBmcm9tIGltYWdlIHJlY29yZCwgZXZlbiB3aGVuIHByZXNlbnRcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmlnbm9yZUltYWdlUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGlnbm9yZUltYWdlUGFyYW1zOiB0cnVlIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbGlkRml0cy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZml0IG1vZGUgXFxcIlwiLmNvbmNhdCh2YWx1ZSwgXCJcXFwiXCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZpdDogdmFsdWUgfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmNyb3AgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbGlkQ3JvcHMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNyb3AgbW9kZSBcXFwiXCIuY29uY2F0KHZhbHVlLCBcIlxcXCJcIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgY3JvcDogdmFsdWUgfSk7XG4gICAgfTtcbiAgICAvLyBTYXR1cmF0aW9uXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5zYXR1cmF0aW9uID0gZnVuY3Rpb24gKHNhdHVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBzYXR1cmF0aW9uOiBzYXR1cmF0aW9uIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5hdXRvID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWxpZEF1dG9Nb2Rlcy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXV0byBtb2RlIFxcXCJcIi5jb25jYXQodmFsdWUsIFwiXFxcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBhdXRvOiB2YWx1ZSB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIG51bWJlciBvZiBwaXhlbHMgdG8gcGFkIHRoZSBpbWFnZVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHBhZDogcGFkIH0pO1xuICAgIH07XG4gICAgLy8gR2V0cyB0aGUgdXJsIGJhc2VkIG9uIHRoZSBzdWJtaXR0ZWQgcGFyYW1ldGVyc1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUudXJsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKDAsIHVybEZvckltYWdlXzEuZGVmYXVsdCkodGhpcy5vcHRpb25zKTtcbiAgICB9O1xuICAgIC8vIEFsaWFzIGZvciB1cmwoKVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybCgpO1xuICAgIH07XG4gICAgcmV0dXJuIEltYWdlVXJsQnVpbGRlcjtcbn0oKSk7XG5leHBvcnRzLkltYWdlVXJsQnVpbGRlciA9IEltYWdlVXJsQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/index.js ***!
  \**********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar builder_1 = __importDefault(__webpack_require__(/*! ./builder */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/builder.js\"));\nmodule.exports = builder_1.default;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLGdDQUFnQyxtQkFBTyxDQUFDLDZFQUFXO0FBQ25EO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvaW1hZ2UtdXJsL2xpYi9ub2RlL2luZGV4LmpzP2E3MDkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG52YXIgYnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2J1aWxkZXJcIikpO1xubW9kdWxlLmV4cG9ydHMgPSBidWlsZGVyXzEuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseAssetId.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar example = 'image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg';\nfunction parseAssetId(ref) {\n    var _a = ref.split('-'), id = _a[1], dimensionString = _a[2], format = _a[3];\n    if (!id || !dimensionString || !format) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, \"\\\".\"));\n    }\n    var _b = dimensionString.split('x'), imgWidthStr = _b[0], imgHeightStr = _b[1];\n    var width = +imgWidthStr;\n    var height = +imgHeightStr;\n    var isValidAssetId = isFinite(width) && isFinite(height);\n    if (!isValidAssetId) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, \"\\\".\"));\n    }\n    return { id: id, width: width, height: height, format: format };\n}\nexports[\"default\"] = parseAssetId;\n//# sourceMappingURL=parseAssetId.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VBc3NldElkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VBc3NldElkLmpzP2Y4ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXhhbXBsZSA9ICdpbWFnZS1UYjlFdzhDWEl3YVk2UjFrak12STB1UlItMjAwMHgzMDAwLWpwZyc7XG5mdW5jdGlvbiBwYXJzZUFzc2V0SWQocmVmKSB7XG4gICAgdmFyIF9hID0gcmVmLnNwbGl0KCctJyksIGlkID0gX2FbMV0sIGRpbWVuc2lvblN0cmluZyA9IF9hWzJdLCBmb3JtYXQgPSBfYVszXTtcbiAgICBpZiAoIWlkIHx8ICFkaW1lbnNpb25TdHJpbmcgfHwgIWZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgYXNzZXQgX3JlZiAnXCIuY29uY2F0KHJlZiwgXCInLiBFeHBlY3RlZCBhbiBpZCBsaWtlIFxcXCJcIikuY29uY2F0KGV4YW1wbGUsIFwiXFxcIi5cIikpO1xuICAgIH1cbiAgICB2YXIgX2IgPSBkaW1lbnNpb25TdHJpbmcuc3BsaXQoJ3gnKSwgaW1nV2lkdGhTdHIgPSBfYlswXSwgaW1nSGVpZ2h0U3RyID0gX2JbMV07XG4gICAgdmFyIHdpZHRoID0gK2ltZ1dpZHRoU3RyO1xuICAgIHZhciBoZWlnaHQgPSAraW1nSGVpZ2h0U3RyO1xuICAgIHZhciBpc1ZhbGlkQXNzZXRJZCA9IGlzRmluaXRlKHdpZHRoKSAmJiBpc0Zpbml0ZShoZWlnaHQpO1xuICAgIGlmICghaXNWYWxpZEFzc2V0SWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIGFzc2V0IF9yZWYgJ1wiLmNvbmNhdChyZWYsIFwiJy4gRXhwZWN0ZWQgYW4gaWQgbGlrZSBcXFwiXCIpLmNvbmNhdChleGFtcGxlLCBcIlxcXCIuXCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgaWQ6IGlkLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCBmb3JtYXQ6IGZvcm1hdCB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gcGFyc2VBc3NldElkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VBc3NldElkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/parseSource.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseSource.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";
eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar isRef = function (src) {\n    var source = src;\n    return source ? typeof source._ref === 'string' : false;\n};\nvar isAsset = function (src) {\n    var source = src;\n    return source ? typeof source._id === 'string' : false;\n};\nvar isAssetStub = function (src) {\n    var source = src;\n    return source && source.asset ? typeof source.asset.url === 'string' : false;\n};\n// Convert an asset-id, asset or image to an image record suitable for processing\n// eslint-disable-next-line complexity\nfunction parseSource(source) {\n    if (!source) {\n        return null;\n    }\n    var image;\n    if (typeof source === 'string' && isUrl(source)) {\n        // Someone passed an existing image url?\n        image = {\n            asset: { _ref: urlToId(source) },\n        };\n    }\n    else if (typeof source === 'string') {\n        // Just an asset id\n        image = {\n            asset: { _ref: source },\n        };\n    }\n    else if (isRef(source)) {\n        // We just got passed an asset directly\n        image = {\n            asset: source,\n        };\n    }\n    else if (isAsset(source)) {\n        // If we were passed an image asset document\n        image = {\n            asset: {\n                _ref: source._id || '',\n            },\n        };\n    }\n    else if (isAssetStub(source)) {\n        // If we were passed a partial asset (`url`, but no `_id`)\n        image = {\n            asset: {\n                _ref: urlToId(source.asset.url),\n            },\n        };\n    }\n    else if (typeof source.asset === 'object') {\n        // Probably an actual image with materialized asset\n        image = __assign({}, source);\n    }\n    else {\n        // We got something that does not look like an image, or it is an image\n        // that currently isn't sporting an asset.\n        return null;\n    }\n    var img = source;\n    if (img.crop) {\n        image.crop = img.crop;\n    }\n    if (img.hotspot) {\n        image.hotspot = img.hotspot;\n    }\n    return applyDefaults(image);\n}\nexports[\"default\"] = parseSource;\nfunction isUrl(url) {\n    return /^https?:\\/\\//.test(\"\".concat(url));\n}\nfunction urlToId(url) {\n    var parts = url.split('/').slice(-1);\n    return \"image-\".concat(parts[0]).replace(/\\.([a-z]+)$/, '-$1');\n}\n// Mock crop and hotspot if image lacks it\nfunction applyDefaults(image) {\n    if (image.crop && image.hotspot) {\n        return image;\n    }\n    // We need to pad in default values for crop or hotspot\n    var result = __assign({}, image);\n    if (!result.crop) {\n        result.crop = {\n            left: 0,\n            top: 0,\n            bottom: 0,\n            right: 0,\n        };\n    }\n    if (!result.hotspot) {\n        result.hotspot = {\n            x: 0.5,\n            y: 0.5,\n            height: 1.0,\n            width: 1.0,\n        };\n    }\n    return result;\n}\n//# sourceMappingURL=parseSource.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VTb3VyY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixjQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvaW1hZ2UtdXJsL2xpYi9ub2RlL3BhcnNlU291cmNlLmpzPzVhM2YiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGlzUmVmID0gZnVuY3Rpb24gKHNyYykge1xuICAgIHZhciBzb3VyY2UgPSBzcmM7XG4gICAgcmV0dXJuIHNvdXJjZSA/IHR5cGVvZiBzb3VyY2UuX3JlZiA9PT0gJ3N0cmluZycgOiBmYWxzZTtcbn07XG52YXIgaXNBc3NldCA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgICB2YXIgc291cmNlID0gc3JjO1xuICAgIHJldHVybiBzb3VyY2UgPyB0eXBlb2Ygc291cmNlLl9pZCA9PT0gJ3N0cmluZycgOiBmYWxzZTtcbn07XG52YXIgaXNBc3NldFN0dWIgPSBmdW5jdGlvbiAoc3JjKSB7XG4gICAgdmFyIHNvdXJjZSA9IHNyYztcbiAgICByZXR1cm4gc291cmNlICYmIHNvdXJjZS5hc3NldCA/IHR5cGVvZiBzb3VyY2UuYXNzZXQudXJsID09PSAnc3RyaW5nJyA6IGZhbHNlO1xufTtcbi8vIENvbnZlcnQgYW4gYXNzZXQtaWQsIGFzc2V0IG9yIGltYWdlIHRvIGFuIGltYWdlIHJlY29yZCBzdWl0YWJsZSBmb3IgcHJvY2Vzc2luZ1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHBhcnNlU291cmNlKHNvdXJjZSkge1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgaW1hZ2U7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIGlzVXJsKHNvdXJjZSkpIHtcbiAgICAgICAgLy8gU29tZW9uZSBwYXNzZWQgYW4gZXhpc3RpbmcgaW1hZ2UgdXJsP1xuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiB7IF9yZWY6IHVybFRvSWQoc291cmNlKSB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBKdXN0IGFuIGFzc2V0IGlkXG4gICAgICAgIGltYWdlID0ge1xuICAgICAgICAgICAgYXNzZXQ6IHsgX3JlZjogc291cmNlIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUmVmKHNvdXJjZSkpIHtcbiAgICAgICAgLy8gV2UganVzdCBnb3QgcGFzc2VkIGFuIGFzc2V0IGRpcmVjdGx5XG4gICAgICAgIGltYWdlID0ge1xuICAgICAgICAgICAgYXNzZXQ6IHNvdXJjZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBc3NldChzb3VyY2UpKSB7XG4gICAgICAgIC8vIElmIHdlIHdlcmUgcGFzc2VkIGFuIGltYWdlIGFzc2V0IGRvY3VtZW50XG4gICAgICAgIGltYWdlID0ge1xuICAgICAgICAgICAgYXNzZXQ6IHtcbiAgICAgICAgICAgICAgICBfcmVmOiBzb3VyY2UuX2lkIHx8ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBc3NldFN0dWIoc291cmNlKSkge1xuICAgICAgICAvLyBJZiB3ZSB3ZXJlIHBhc3NlZCBhIHBhcnRpYWwgYXNzZXQgKGB1cmxgLCBidXQgbm8gYF9pZGApXG4gICAgICAgIGltYWdlID0ge1xuICAgICAgICAgICAgYXNzZXQ6IHtcbiAgICAgICAgICAgICAgICBfcmVmOiB1cmxUb0lkKHNvdXJjZS5hc3NldC51cmwpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHNvdXJjZS5hc3NldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gUHJvYmFibHkgYW4gYWN0dWFsIGltYWdlIHdpdGggbWF0ZXJpYWxpemVkIGFzc2V0XG4gICAgICAgIGltYWdlID0gX19hc3NpZ24oe30sIHNvdXJjZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBXZSBnb3Qgc29tZXRoaW5nIHRoYXQgZG9lcyBub3QgbG9vayBsaWtlIGFuIGltYWdlLCBvciBpdCBpcyBhbiBpbWFnZVxuICAgICAgICAvLyB0aGF0IGN1cnJlbnRseSBpc24ndCBzcG9ydGluZyBhbiBhc3NldC5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBpbWcgPSBzb3VyY2U7XG4gICAgaWYgKGltZy5jcm9wKSB7XG4gICAgICAgIGltYWdlLmNyb3AgPSBpbWcuY3JvcDtcbiAgICB9XG4gICAgaWYgKGltZy5ob3RzcG90KSB7XG4gICAgICAgIGltYWdlLmhvdHNwb3QgPSBpbWcuaG90c3BvdDtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGx5RGVmYXVsdHMoaW1hZ2UpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gcGFyc2VTb3VyY2U7XG5mdW5jdGlvbiBpc1VybCh1cmwpIHtcbiAgICByZXR1cm4gL15odHRwcz86XFwvXFwvLy50ZXN0KFwiXCIuY29uY2F0KHVybCkpO1xufVxuZnVuY3Rpb24gdXJsVG9JZCh1cmwpIHtcbiAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoJy8nKS5zbGljZSgtMSk7XG4gICAgcmV0dXJuIFwiaW1hZ2UtXCIuY29uY2F0KHBhcnRzWzBdKS5yZXBsYWNlKC9cXC4oW2Etel0rKSQvLCAnLSQxJyk7XG59XG4vLyBNb2NrIGNyb3AgYW5kIGhvdHNwb3QgaWYgaW1hZ2UgbGFja3MgaXRcbmZ1bmN0aW9uIGFwcGx5RGVmYXVsdHMoaW1hZ2UpIHtcbiAgICBpZiAoaW1hZ2UuY3JvcCAmJiBpbWFnZS5ob3RzcG90KSB7XG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9XG4gICAgLy8gV2UgbmVlZCB0byBwYWQgaW4gZGVmYXVsdCB2YWx1ZXMgZm9yIGNyb3Agb3IgaG90c3BvdFxuICAgIHZhciByZXN1bHQgPSBfX2Fzc2lnbih7fSwgaW1hZ2UpO1xuICAgIGlmICghcmVzdWx0LmNyb3ApIHtcbiAgICAgICAgcmVzdWx0LmNyb3AgPSB7XG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICghcmVzdWx0LmhvdHNwb3QpIHtcbiAgICAgICAgcmVzdWx0LmhvdHNwb3QgPSB7XG4gICAgICAgICAgICB4OiAwLjUsXG4gICAgICAgICAgICB5OiAwLjUsXG4gICAgICAgICAgICBoZWlnaHQ6IDEuMCxcbiAgICAgICAgICAgIHdpZHRoOiAxLjAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZVNvdXJjZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/parseSource.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/urlForImage.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/urlForImage.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.parseSource = exports.SPEC_NAME_TO_URL_NAME_MAPPINGS = void 0;\nvar parseAssetId_1 = __importDefault(__webpack_require__(/*! ./parseAssetId */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\"));\nvar parseSource_1 = __importDefault(__webpack_require__(/*! ./parseSource */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/parseSource.js\"));\nexports.parseSource = parseSource_1.default;\nexports.SPEC_NAME_TO_URL_NAME_MAPPINGS = [\n    ['width', 'w'],\n    ['height', 'h'],\n    ['format', 'fm'],\n    ['download', 'dl'],\n    ['blur', 'blur'],\n    ['sharpen', 'sharp'],\n    ['invert', 'invert'],\n    ['orientation', 'or'],\n    ['minHeight', 'min-h'],\n    ['maxHeight', 'max-h'],\n    ['minWidth', 'min-w'],\n    ['maxWidth', 'max-w'],\n    ['quality', 'q'],\n    ['fit', 'fit'],\n    ['crop', 'crop'],\n    ['saturation', 'sat'],\n    ['auto', 'auto'],\n    ['dpr', 'dpr'],\n    ['pad', 'pad'],\n];\nfunction urlForImage(options) {\n    var spec = __assign({}, (options || {}));\n    var source = spec.source;\n    delete spec.source;\n    var image = (0, parseSource_1.default)(source);\n    if (!image) {\n        throw new Error(\"Unable to resolve image URL from source (\".concat(JSON.stringify(source), \")\"));\n    }\n    var id = image.asset._ref || image.asset._id || '';\n    var asset = (0, parseAssetId_1.default)(id);\n    // Compute crop rect in terms of pixel coordinates in the raw source image\n    var cropLeft = Math.round(image.crop.left * asset.width);\n    var cropTop = Math.round(image.crop.top * asset.height);\n    var crop = {\n        left: cropLeft,\n        top: cropTop,\n        width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n        height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop),\n    };\n    // Compute hot spot rect in terms of pixel coordinates\n    var hotSpotVerticalRadius = (image.hotspot.height * asset.height) / 2;\n    var hotSpotHorizontalRadius = (image.hotspot.width * asset.width) / 2;\n    var hotSpotCenterX = image.hotspot.x * asset.width;\n    var hotSpotCenterY = image.hotspot.y * asset.height;\n    var hotspot = {\n        left: hotSpotCenterX - hotSpotHorizontalRadius,\n        top: hotSpotCenterY - hotSpotVerticalRadius,\n        right: hotSpotCenterX + hotSpotHorizontalRadius,\n        bottom: hotSpotCenterY + hotSpotVerticalRadius,\n    };\n    // If irrelevant, or if we are requested to: don't perform crop/fit based on\n    // the crop/hotspot.\n    if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n        spec = __assign(__assign({}, spec), fit({ crop: crop, hotspot: hotspot }, spec));\n    }\n    return specToImageUrl(__assign(__assign({}, spec), { asset: asset }));\n}\nexports[\"default\"] = urlForImage;\n// eslint-disable-next-line complexity\nfunction specToImageUrl(spec) {\n    var cdnUrl = (spec.baseUrl || 'https://cdn.sanity.io').replace(/\\/+$/, '');\n    var filename = \"\".concat(spec.asset.id, \"-\").concat(spec.asset.width, \"x\").concat(spec.asset.height, \".\").concat(spec.asset.format);\n    var baseUrl = \"\".concat(cdnUrl, \"/images/\").concat(spec.projectId, \"/\").concat(spec.dataset, \"/\").concat(filename);\n    var params = [];\n    if (spec.rect) {\n        // Only bother url with a crop if it actually crops anything\n        var _a = spec.rect, left = _a.left, top_1 = _a.top, width = _a.width, height = _a.height;\n        var isEffectiveCrop = left !== 0 || top_1 !== 0 || height !== spec.asset.height || width !== spec.asset.width;\n        if (isEffectiveCrop) {\n            params.push(\"rect=\".concat(left, \",\").concat(top_1, \",\").concat(width, \",\").concat(height));\n        }\n    }\n    if (spec.bg) {\n        params.push(\"bg=\".concat(spec.bg));\n    }\n    if (spec.focalPoint) {\n        params.push(\"fp-x=\".concat(spec.focalPoint.x));\n        params.push(\"fp-y=\".concat(spec.focalPoint.y));\n    }\n    var flip = [spec.flipHorizontal && 'h', spec.flipVertical && 'v'].filter(Boolean).join('');\n    if (flip) {\n        params.push(\"flip=\".concat(flip));\n    }\n    // Map from spec name to url param name, and allow using the actual param name as an alternative\n    exports.SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function (mapping) {\n        var specName = mapping[0], param = mapping[1];\n        if (typeof spec[specName] !== 'undefined') {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[specName])));\n        }\n        else if (typeof spec[param] !== 'undefined') {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[param])));\n        }\n    });\n    if (params.length === 0) {\n        return baseUrl;\n    }\n    return \"\".concat(baseUrl, \"?\").concat(params.join('&'));\n}\nfunction fit(source, spec) {\n    var cropRect;\n    var imgWidth = spec.width;\n    var imgHeight = spec.height;\n    // If we are not constraining the aspect ratio, we'll just use the whole crop\n    if (!(imgWidth && imgHeight)) {\n        return { width: imgWidth, height: imgHeight, rect: source.crop };\n    }\n    var crop = source.crop;\n    var hotspot = source.hotspot;\n    // If we are here, that means aspect ratio is locked and fitting will be a bit harder\n    var desiredAspectRatio = imgWidth / imgHeight;\n    var cropAspectRatio = crop.width / crop.height;\n    if (cropAspectRatio > desiredAspectRatio) {\n        // The crop is wider than the desired aspect ratio. That means we are cutting from the sides\n        var height = Math.round(crop.height);\n        var width = Math.round(height * desiredAspectRatio);\n        var top_2 = Math.max(0, Math.round(crop.top));\n        // Center output horizontally over hotspot\n        var hotspotXCenter = Math.round((hotspot.right - hotspot.left) / 2 + hotspot.left);\n        var left = Math.max(0, Math.round(hotspotXCenter - width / 2));\n        // Keep output within crop\n        if (left < crop.left) {\n            left = crop.left;\n        }\n        else if (left + width > crop.left + crop.width) {\n            left = crop.left + crop.width - width;\n        }\n        cropRect = { left: left, top: top_2, width: width, height: height };\n    }\n    else {\n        // The crop is taller than the desired ratio, we are cutting from top and bottom\n        var width = crop.width;\n        var height = Math.round(width / desiredAspectRatio);\n        var left = Math.max(0, Math.round(crop.left));\n        // Center output vertically over hotspot\n        var hotspotYCenter = Math.round((hotspot.bottom - hotspot.top) / 2 + hotspot.top);\n        var top_3 = Math.max(0, Math.round(hotspotYCenter - height / 2));\n        // Keep output rect within crop\n        if (top_3 < crop.top) {\n            top_3 = crop.top;\n        }\n        else if (top_3 + height > crop.top + crop.height) {\n            top_3 = crop.top + crop.height - height;\n        }\n        cropRect = { left: left, top: top_3, width: width, height: height };\n    }\n    return {\n        width: imgWidth,\n        height: imgHeight,\n        rect: cropRect,\n    };\n}\n//# sourceMappingURL=urlForImage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvdXJsRm9ySW1hZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQixHQUFHLHNDQUFzQztBQUM1RCxxQ0FBcUMsbUJBQU8sQ0FBQyx1RkFBZ0I7QUFDN0Qsb0NBQW9DLG1CQUFPLENBQUMscUZBQWU7QUFDM0QsbUJBQW1CO0FBQ25CLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZ0JBQWdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGVBQWUsOEJBQThCO0FBQ2hGO0FBQ0EsOENBQThDLFdBQVcsY0FBYztBQUN2RTtBQUNBLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvdXJsRm9ySW1hZ2UuanM/OGY5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlU291cmNlID0gZXhwb3J0cy5TUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1MgPSB2b2lkIDA7XG52YXIgcGFyc2VBc3NldElkXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcGFyc2VBc3NldElkXCIpKTtcbnZhciBwYXJzZVNvdXJjZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3BhcnNlU291cmNlXCIpKTtcbmV4cG9ydHMucGFyc2VTb3VyY2UgPSBwYXJzZVNvdXJjZV8xLmRlZmF1bHQ7XG5leHBvcnRzLlNQRUNfTkFNRV9UT19VUkxfTkFNRV9NQVBQSU5HUyA9IFtcbiAgICBbJ3dpZHRoJywgJ3cnXSxcbiAgICBbJ2hlaWdodCcsICdoJ10sXG4gICAgWydmb3JtYXQnLCAnZm0nXSxcbiAgICBbJ2Rvd25sb2FkJywgJ2RsJ10sXG4gICAgWydibHVyJywgJ2JsdXInXSxcbiAgICBbJ3NoYXJwZW4nLCAnc2hhcnAnXSxcbiAgICBbJ2ludmVydCcsICdpbnZlcnQnXSxcbiAgICBbJ29yaWVudGF0aW9uJywgJ29yJ10sXG4gICAgWydtaW5IZWlnaHQnLCAnbWluLWgnXSxcbiAgICBbJ21heEhlaWdodCcsICdtYXgtaCddLFxuICAgIFsnbWluV2lkdGgnLCAnbWluLXcnXSxcbiAgICBbJ21heFdpZHRoJywgJ21heC13J10sXG4gICAgWydxdWFsaXR5JywgJ3EnXSxcbiAgICBbJ2ZpdCcsICdmaXQnXSxcbiAgICBbJ2Nyb3AnLCAnY3JvcCddLFxuICAgIFsnc2F0dXJhdGlvbicsICdzYXQnXSxcbiAgICBbJ2F1dG8nLCAnYXV0byddLFxuICAgIFsnZHByJywgJ2RwciddLFxuICAgIFsncGFkJywgJ3BhZCddLFxuXTtcbmZ1bmN0aW9uIHVybEZvckltYWdlKG9wdGlvbnMpIHtcbiAgICB2YXIgc3BlYyA9IF9fYXNzaWduKHt9LCAob3B0aW9ucyB8fCB7fSkpO1xuICAgIHZhciBzb3VyY2UgPSBzcGVjLnNvdXJjZTtcbiAgICBkZWxldGUgc3BlYy5zb3VyY2U7XG4gICAgdmFyIGltYWdlID0gKDAsIHBhcnNlU291cmNlXzEuZGVmYXVsdCkoc291cmNlKTtcbiAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byByZXNvbHZlIGltYWdlIFVSTCBmcm9tIHNvdXJjZSAoXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHNvdXJjZSksIFwiKVwiKSk7XG4gICAgfVxuICAgIHZhciBpZCA9IGltYWdlLmFzc2V0Ll9yZWYgfHwgaW1hZ2UuYXNzZXQuX2lkIHx8ICcnO1xuICAgIHZhciBhc3NldCA9ICgwLCBwYXJzZUFzc2V0SWRfMS5kZWZhdWx0KShpZCk7XG4gICAgLy8gQ29tcHV0ZSBjcm9wIHJlY3QgaW4gdGVybXMgb2YgcGl4ZWwgY29vcmRpbmF0ZXMgaW4gdGhlIHJhdyBzb3VyY2UgaW1hZ2VcbiAgICB2YXIgY3JvcExlZnQgPSBNYXRoLnJvdW5kKGltYWdlLmNyb3AubGVmdCAqIGFzc2V0LndpZHRoKTtcbiAgICB2YXIgY3JvcFRvcCA9IE1hdGgucm91bmQoaW1hZ2UuY3JvcC50b3AgKiBhc3NldC5oZWlnaHQpO1xuICAgIHZhciBjcm9wID0ge1xuICAgICAgICBsZWZ0OiBjcm9wTGVmdCxcbiAgICAgICAgdG9wOiBjcm9wVG9wLFxuICAgICAgICB3aWR0aDogTWF0aC5yb3VuZChhc3NldC53aWR0aCAtIGltYWdlLmNyb3AucmlnaHQgKiBhc3NldC53aWR0aCAtIGNyb3BMZWZ0KSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGFzc2V0LmhlaWdodCAtIGltYWdlLmNyb3AuYm90dG9tICogYXNzZXQuaGVpZ2h0IC0gY3JvcFRvcCksXG4gICAgfTtcbiAgICAvLyBDb21wdXRlIGhvdCBzcG90IHJlY3QgaW4gdGVybXMgb2YgcGl4ZWwgY29vcmRpbmF0ZXNcbiAgICB2YXIgaG90U3BvdFZlcnRpY2FsUmFkaXVzID0gKGltYWdlLmhvdHNwb3QuaGVpZ2h0ICogYXNzZXQuaGVpZ2h0KSAvIDI7XG4gICAgdmFyIGhvdFNwb3RIb3Jpem9udGFsUmFkaXVzID0gKGltYWdlLmhvdHNwb3Qud2lkdGggKiBhc3NldC53aWR0aCkgLyAyO1xuICAgIHZhciBob3RTcG90Q2VudGVyWCA9IGltYWdlLmhvdHNwb3QueCAqIGFzc2V0LndpZHRoO1xuICAgIHZhciBob3RTcG90Q2VudGVyWSA9IGltYWdlLmhvdHNwb3QueSAqIGFzc2V0LmhlaWdodDtcbiAgICB2YXIgaG90c3BvdCA9IHtcbiAgICAgICAgbGVmdDogaG90U3BvdENlbnRlclggLSBob3RTcG90SG9yaXpvbnRhbFJhZGl1cyxcbiAgICAgICAgdG9wOiBob3RTcG90Q2VudGVyWSAtIGhvdFNwb3RWZXJ0aWNhbFJhZGl1cyxcbiAgICAgICAgcmlnaHQ6IGhvdFNwb3RDZW50ZXJYICsgaG90U3BvdEhvcml6b250YWxSYWRpdXMsXG4gICAgICAgIGJvdHRvbTogaG90U3BvdENlbnRlclkgKyBob3RTcG90VmVydGljYWxSYWRpdXMsXG4gICAgfTtcbiAgICAvLyBJZiBpcnJlbGV2YW50LCBvciBpZiB3ZSBhcmUgcmVxdWVzdGVkIHRvOiBkb24ndCBwZXJmb3JtIGNyb3AvZml0IGJhc2VkIG9uXG4gICAgLy8gdGhlIGNyb3AvaG90c3BvdC5cbiAgICBpZiAoIShzcGVjLnJlY3QgfHwgc3BlYy5mb2NhbFBvaW50IHx8IHNwZWMuaWdub3JlSW1hZ2VQYXJhbXMgfHwgc3BlYy5jcm9wKSkge1xuICAgICAgICBzcGVjID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHNwZWMpLCBmaXQoeyBjcm9wOiBjcm9wLCBob3RzcG90OiBob3RzcG90IH0sIHNwZWMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHNwZWNUb0ltYWdlVXJsKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzcGVjKSwgeyBhc3NldDogYXNzZXQgfSkpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gdXJsRm9ySW1hZ2U7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gc3BlY1RvSW1hZ2VVcmwoc3BlYykge1xuICAgIHZhciBjZG5VcmwgPSAoc3BlYy5iYXNlVXJsIHx8ICdodHRwczovL2Nkbi5zYW5pdHkuaW8nKS5yZXBsYWNlKC9cXC8rJC8sICcnKTtcbiAgICB2YXIgZmlsZW5hbWUgPSBcIlwiLmNvbmNhdChzcGVjLmFzc2V0LmlkLCBcIi1cIikuY29uY2F0KHNwZWMuYXNzZXQud2lkdGgsIFwieFwiKS5jb25jYXQoc3BlYy5hc3NldC5oZWlnaHQsIFwiLlwiKS5jb25jYXQoc3BlYy5hc3NldC5mb3JtYXQpO1xuICAgIHZhciBiYXNlVXJsID0gXCJcIi5jb25jYXQoY2RuVXJsLCBcIi9pbWFnZXMvXCIpLmNvbmNhdChzcGVjLnByb2plY3RJZCwgXCIvXCIpLmNvbmNhdChzcGVjLmRhdGFzZXQsIFwiL1wiKS5jb25jYXQoZmlsZW5hbWUpO1xuICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICBpZiAoc3BlYy5yZWN0KSB7XG4gICAgICAgIC8vIE9ubHkgYm90aGVyIHVybCB3aXRoIGEgY3JvcCBpZiBpdCBhY3R1YWxseSBjcm9wcyBhbnl0aGluZ1xuICAgICAgICB2YXIgX2EgPSBzcGVjLnJlY3QsIGxlZnQgPSBfYS5sZWZ0LCB0b3BfMSA9IF9hLnRvcCwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB2YXIgaXNFZmZlY3RpdmVDcm9wID0gbGVmdCAhPT0gMCB8fCB0b3BfMSAhPT0gMCB8fCBoZWlnaHQgIT09IHNwZWMuYXNzZXQuaGVpZ2h0IHx8IHdpZHRoICE9PSBzcGVjLmFzc2V0LndpZHRoO1xuICAgICAgICBpZiAoaXNFZmZlY3RpdmVDcm9wKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChcInJlY3Q9XCIuY29uY2F0KGxlZnQsIFwiLFwiKS5jb25jYXQodG9wXzEsIFwiLFwiKS5jb25jYXQod2lkdGgsIFwiLFwiKS5jb25jYXQoaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNwZWMuYmcpIHtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJiZz1cIi5jb25jYXQoc3BlYy5iZykpO1xuICAgIH1cbiAgICBpZiAoc3BlYy5mb2NhbFBvaW50KSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKFwiZnAteD1cIi5jb25jYXQoc3BlYy5mb2NhbFBvaW50LngpKTtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJmcC15PVwiLmNvbmNhdChzcGVjLmZvY2FsUG9pbnQueSkpO1xuICAgIH1cbiAgICB2YXIgZmxpcCA9IFtzcGVjLmZsaXBIb3Jpem9udGFsICYmICdoJywgc3BlYy5mbGlwVmVydGljYWwgJiYgJ3YnXS5maWx0ZXIoQm9vbGVhbikuam9pbignJyk7XG4gICAgaWYgKGZsaXApIHtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJmbGlwPVwiLmNvbmNhdChmbGlwKSk7XG4gICAgfVxuICAgIC8vIE1hcCBmcm9tIHNwZWMgbmFtZSB0byB1cmwgcGFyYW0gbmFtZSwgYW5kIGFsbG93IHVzaW5nIHRoZSBhY3R1YWwgcGFyYW0gbmFtZSBhcyBhbiBhbHRlcm5hdGl2ZVxuICAgIGV4cG9ydHMuU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTLmZvckVhY2goZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgdmFyIHNwZWNOYW1lID0gbWFwcGluZ1swXSwgcGFyYW0gPSBtYXBwaW5nWzFdO1xuICAgICAgICBpZiAodHlwZW9mIHNwZWNbc3BlY05hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goXCJcIi5jb25jYXQocGFyYW0sIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHNwZWNbc3BlY05hbWVdKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzcGVjW3BhcmFtXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKFwiXCIuY29uY2F0KHBhcmFtLCBcIj1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChzcGVjW3BhcmFtXSkpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBiYXNlVXJsO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIi5jb25jYXQoYmFzZVVybCwgXCI/XCIpLmNvbmNhdChwYXJhbXMuam9pbignJicpKTtcbn1cbmZ1bmN0aW9uIGZpdChzb3VyY2UsIHNwZWMpIHtcbiAgICB2YXIgY3JvcFJlY3Q7XG4gICAgdmFyIGltZ1dpZHRoID0gc3BlYy53aWR0aDtcbiAgICB2YXIgaW1nSGVpZ2h0ID0gc3BlYy5oZWlnaHQ7XG4gICAgLy8gSWYgd2UgYXJlIG5vdCBjb25zdHJhaW5pbmcgdGhlIGFzcGVjdCByYXRpbywgd2UnbGwganVzdCB1c2UgdGhlIHdob2xlIGNyb3BcbiAgICBpZiAoIShpbWdXaWR0aCAmJiBpbWdIZWlnaHQpKSB7XG4gICAgICAgIHJldHVybiB7IHdpZHRoOiBpbWdXaWR0aCwgaGVpZ2h0OiBpbWdIZWlnaHQsIHJlY3Q6IHNvdXJjZS5jcm9wIH07XG4gICAgfVxuICAgIHZhciBjcm9wID0gc291cmNlLmNyb3A7XG4gICAgdmFyIGhvdHNwb3QgPSBzb3VyY2UuaG90c3BvdDtcbiAgICAvLyBJZiB3ZSBhcmUgaGVyZSwgdGhhdCBtZWFucyBhc3BlY3QgcmF0aW8gaXMgbG9ja2VkIGFuZCBmaXR0aW5nIHdpbGwgYmUgYSBiaXQgaGFyZGVyXG4gICAgdmFyIGRlc2lyZWRBc3BlY3RSYXRpbyA9IGltZ1dpZHRoIC8gaW1nSGVpZ2h0O1xuICAgIHZhciBjcm9wQXNwZWN0UmF0aW8gPSBjcm9wLndpZHRoIC8gY3JvcC5oZWlnaHQ7XG4gICAgaWYgKGNyb3BBc3BlY3RSYXRpbyA+IGRlc2lyZWRBc3BlY3RSYXRpbykge1xuICAgICAgICAvLyBUaGUgY3JvcCBpcyB3aWRlciB0aGFuIHRoZSBkZXNpcmVkIGFzcGVjdCByYXRpby4gVGhhdCBtZWFucyB3ZSBhcmUgY3V0dGluZyBmcm9tIHRoZSBzaWRlc1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChjcm9wLmhlaWdodCk7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoaGVpZ2h0ICogZGVzaXJlZEFzcGVjdFJhdGlvKTtcbiAgICAgICAgdmFyIHRvcF8yID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChjcm9wLnRvcCkpO1xuICAgICAgICAvLyBDZW50ZXIgb3V0cHV0IGhvcml6b250YWxseSBvdmVyIGhvdHNwb3RcbiAgICAgICAgdmFyIGhvdHNwb3RYQ2VudGVyID0gTWF0aC5yb3VuZCgoaG90c3BvdC5yaWdodCAtIGhvdHNwb3QubGVmdCkgLyAyICsgaG90c3BvdC5sZWZ0KTtcbiAgICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGhvdHNwb3RYQ2VudGVyIC0gd2lkdGggLyAyKSk7XG4gICAgICAgIC8vIEtlZXAgb3V0cHV0IHdpdGhpbiBjcm9wXG4gICAgICAgIGlmIChsZWZ0IDwgY3JvcC5sZWZ0KSB7XG4gICAgICAgICAgICBsZWZ0ID0gY3JvcC5sZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxlZnQgKyB3aWR0aCA+IGNyb3AubGVmdCArIGNyb3Aud2lkdGgpIHtcbiAgICAgICAgICAgIGxlZnQgPSBjcm9wLmxlZnQgKyBjcm9wLndpZHRoIC0gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgY3JvcFJlY3QgPSB7IGxlZnQ6IGxlZnQsIHRvcDogdG9wXzIsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFRoZSBjcm9wIGlzIHRhbGxlciB0aGFuIHRoZSBkZXNpcmVkIHJhdGlvLCB3ZSBhcmUgY3V0dGluZyBmcm9tIHRvcCBhbmQgYm90dG9tXG4gICAgICAgIHZhciB3aWR0aCA9IGNyb3Aud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKHdpZHRoIC8gZGVzaXJlZEFzcGVjdFJhdGlvKTtcbiAgICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGNyb3AubGVmdCkpO1xuICAgICAgICAvLyBDZW50ZXIgb3V0cHV0IHZlcnRpY2FsbHkgb3ZlciBob3RzcG90XG4gICAgICAgIHZhciBob3RzcG90WUNlbnRlciA9IE1hdGgucm91bmQoKGhvdHNwb3QuYm90dG9tIC0gaG90c3BvdC50b3ApIC8gMiArIGhvdHNwb3QudG9wKTtcbiAgICAgICAgdmFyIHRvcF8zID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChob3RzcG90WUNlbnRlciAtIGhlaWdodCAvIDIpKTtcbiAgICAgICAgLy8gS2VlcCBvdXRwdXQgcmVjdCB3aXRoaW4gY3JvcFxuICAgICAgICBpZiAodG9wXzMgPCBjcm9wLnRvcCkge1xuICAgICAgICAgICAgdG9wXzMgPSBjcm9wLnRvcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b3BfMyArIGhlaWdodCA+IGNyb3AudG9wICsgY3JvcC5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRvcF8zID0gY3JvcC50b3AgKyBjcm9wLmhlaWdodCAtIGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBjcm9wUmVjdCA9IHsgbGVmdDogbGVmdCwgdG9wOiB0b3BfMywgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogaW1nV2lkdGgsXG4gICAgICAgIGhlaWdodDogaW1nSGVpZ2h0LFxuICAgICAgICByZWN0OiBjcm9wUmVjdCxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJsRm9ySW1hZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/browser.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@sanity/portable-text-editor/node_modules/debug/src/browser.js ***!
  \*************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval("\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = __webpack_require__(/*! ./common */ \"(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/common.js\")(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9wb3J0YWJsZS10ZXh0LWVkaXRvci9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsd0JBQXdCLDJFQUEyRSxrQ0FBa0Msd0JBQXdCLE9BQU8sa0NBQWtDLG1JQUFtSTs7QUFFelU7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLGtCQUFrQjtBQUNsQixZQUFZO0FBQ1osWUFBWTtBQUNaLGlCQUFpQjtBQUNqQixlQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSSxlQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJLGlCQUFpQjtBQUNyQjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGVBQWU7QUFDbkI7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixtQkFBTyxDQUFDLG9HQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvcG9ydGFibGUtdGV4dC1lZGl0b3Ivbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzPzI1MzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqL1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9IGxvY2Fsc3RvcmFnZSgpO1xuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbJyMwMDAwQ0MnLCAnIzAwMDBGRicsICcjMDAzM0NDJywgJyMwMDMzRkYnLCAnIzAwNjZDQycsICcjMDA2NkZGJywgJyMwMDk5Q0MnLCAnIzAwOTlGRicsICcjMDBDQzAwJywgJyMwMENDMzMnLCAnIzAwQ0M2NicsICcjMDBDQzk5JywgJyMwMENDQ0MnLCAnIzAwQ0NGRicsICcjMzMwMENDJywgJyMzMzAwRkYnLCAnIzMzMzNDQycsICcjMzMzM0ZGJywgJyMzMzY2Q0MnLCAnIzMzNjZGRicsICcjMzM5OUNDJywgJyMzMzk5RkYnLCAnIzMzQ0MwMCcsICcjMzNDQzMzJywgJyMzM0NDNjYnLCAnIzMzQ0M5OScsICcjMzNDQ0NDJywgJyMzM0NDRkYnLCAnIzY2MDBDQycsICcjNjYwMEZGJywgJyM2NjMzQ0MnLCAnIzY2MzNGRicsICcjNjZDQzAwJywgJyM2NkNDMzMnLCAnIzk5MDBDQycsICcjOTkwMEZGJywgJyM5OTMzQ0MnLCAnIzk5MzNGRicsICcjOTlDQzAwJywgJyM5OUNDMzMnLCAnI0NDMDAwMCcsICcjQ0MwMDMzJywgJyNDQzAwNjYnLCAnI0NDMDA5OScsICcjQ0MwMENDJywgJyNDQzAwRkYnLCAnI0NDMzMwMCcsICcjQ0MzMzMzJywgJyNDQzMzNjYnLCAnI0NDMzM5OScsICcjQ0MzM0NDJywgJyNDQzMzRkYnLCAnI0NDNjYwMCcsICcjQ0M2NjMzJywgJyNDQzk5MDAnLCAnI0NDOTkzMycsICcjQ0NDQzAwJywgJyNDQ0NDMzMnLCAnI0ZGMDAwMCcsICcjRkYwMDMzJywgJyNGRjAwNjYnLCAnI0ZGMDA5OScsICcjRkYwMENDJywgJyNGRjAwRkYnLCAnI0ZGMzMwMCcsICcjRkYzMzMzJywgJyNGRjMzNjYnLCAnI0ZGMzM5OScsICcjRkYzM0NDJywgJyNGRjMzRkYnLCAnI0ZGNjYwMCcsICcjRkY2NjMzJywgJyNGRjk5MDAnLCAnI0ZGOTkzMycsICcjRkZDQzAwJywgJyNGRkNDMzMnXTtcbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQgY29sb3JzLlxuXG5cbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cblxuICByZXR1cm4gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlIHx8IC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcbiAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgd2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSB8fCAvLyBJcyBmaXJlZm94ID49IHYzMT9cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEgfHwgLy8gRG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKTtcbn1cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgYXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgKyB0aGlzLm5hbWVzcGFjZSArICh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArIGFyZ3NbMF0gKyAodGhpcy51c2VDb2xvcnMgPyAnJWMgJyA6ICcgJykgKyAnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdGhpcy51c2VDb2xvcnMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpOyAvLyBUaGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0QyA9IDA7XG4gIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICBpZiAobWF0Y2ggPT09ICclJScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbmRleCsrO1xuXG4gICAgaWYgKG1hdGNoID09PSAnJWMnKSB7XG4gICAgICAvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgIC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG4gICAgICBsYXN0QyA9IGluZGV4O1xuICAgIH1cbiAgfSk7XG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5mdW5jdGlvbiBsb2coKSB7XG4gIHZhciBfY29uc29sZTtcblxuICAvLyBUaGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gKHR5cGVvZiBjb25zb2xlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoY29uc29sZSkpID09PSAnb2JqZWN0JyAmJiBjb25zb2xlLmxvZyAmJiAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuICB0cnkge1xuICAgIGlmIChuYW1lc3BhY2VzKSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikgey8vIFN3YWxsb3dcbiAgICAvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cbiAgfVxufVxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gIHZhciByO1xuXG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5nZXRJdGVtKCdkZWJ1ZycpO1xuICB9IGNhdGNoIChlcnJvcikge30gLy8gU3dhbGxvd1xuICAvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cbiAgLy8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuXG5cbiAgaWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuICB0cnkge1xuICAgIC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcbiAgICAvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7Ly8gU3dhbGxvd1xuICAgIC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcbnZhciBmb3JtYXR0ZXJzID0gbW9kdWxlLmV4cG9ydHMuZm9ybWF0dGVycztcbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuICB9XG59O1xuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/browser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/common.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@sanity/portable-text-editor/node_modules/debug/src/common.js ***!
  \************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = __webpack_require__(/*! ms */ \"(ssr)/./node_modules/ms/index.js\");\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9wb3J0YWJsZS10ZXh0LWVkaXRvci9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1CQUFPLENBQUMsNENBQUk7QUFDckM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLGFBQWEsZUFBZTtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwRUFBMEUsYUFBYTtBQUN2RjtBQUNBOztBQUVBLHdCQUF3Qjs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7O0FBR1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZDQUE2Qzs7QUFFN0M7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxHQUFHOztBQUVWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0Isa0NBQWtDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLGFBQWE7QUFDYjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGdEQUFnRCxTQUFTO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdEQUFnRCxTQUFTO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsYUFBYTtBQUNiO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L3BvcnRhYmxlLXRleHQtZWRpdG9yL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvY29tbW9uLmpzPzFiYzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqL1xuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG4gIGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG4gIGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1ZztcbiAgY3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuICBjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcbiAgY3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuICBjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcbiAgY3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuICBPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGNyZWF0ZURlYnVnW2tleV0gPSBlbnZba2V5XTtcbiAgfSk7XG4gIC8qKlxuICAqIEFjdGl2ZSBgZGVidWdgIGluc3RhbmNlcy5cbiAgKi9cblxuICBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMgPSBbXTtcbiAgLyoqXG4gICogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG4gICovXG5cbiAgY3JlYXRlRGVidWcubmFtZXMgPSBbXTtcbiAgY3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcbiAgLyoqXG4gICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICAqXG4gICogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuICAqL1xuXG4gIGNyZWF0ZURlYnVnLmZvcm1hdHRlcnMgPSB7fTtcbiAgLyoqXG4gICogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBmb3IgdGhlIGRlYnVnIGluc3RhbmNlIHRvIGJlIGNvbG9yZWRcbiAgKiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfSBBbiBBTlNJIGNvbG9yIGNvZGUgZm9yIHRoZSBnaXZlbiBuYW1lc3BhY2VcbiAgKiBAYXBpIHByaXZhdGVcbiAgKi9cblxuICBmdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcbiAgICB2YXIgaGFzaCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzcGFjZS5sZW5ndGg7IGkrKykge1xuICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlRGVidWcuY29sb3JzW01hdGguYWJzKGhhc2gpICUgY3JlYXRlRGVidWcuY29sb3JzLmxlbmd0aF07XG4gIH1cblxuICBjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvciA9IHNlbGVjdENvbG9yO1xuICAvKipcbiAgKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuICAgIHZhciBwcmV2VGltZTtcblxuICAgIGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgICAgLy8gRGlzYWJsZWQ/XG4gICAgICBpZiAoIWRlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlbGYgPSBkZWJ1ZzsgLy8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblxuICAgICAgdmFyIGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG4gICAgICB2YXIgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuICAgICAgc2VsZi5kaWZmID0gbXM7XG4gICAgICBzZWxmLnByZXYgPSBwcmV2VGltZTtcbiAgICAgIHNlbGYuY3VyciA9IGN1cnI7XG4gICAgICBwcmV2VGltZSA9IGN1cnI7XG4gICAgICBhcmdzWzBdID0gY3JlYXRlRGVidWcuY29lcmNlKGFyZ3NbMF0pO1xuXG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIEFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICAgIGFyZ3MudW5zaGlmdCgnJU8nKTtcbiAgICAgIH0gLy8gQXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcblxuXG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgYXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIGZ1bmN0aW9uIChtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAgIC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcbiAgICAgICAgaWYgKG1hdGNoID09PSAnJSUnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgdmFyIGZvcm1hdHRlciA9IGNyZWF0ZURlYnVnLmZvcm1hdHRlcnNbZm9ybWF0XTtcblxuICAgICAgICBpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciB2YWwgPSBhcmdzW2luZGV4XTtcbiAgICAgICAgICBtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7IC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblxuICAgICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfSk7IC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG5cbiAgICAgIGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcbiAgICAgIHZhciBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcbiAgICAgIGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH1cblxuICAgIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgICBkZWJ1Zy5lbmFibGVkID0gY3JlYXRlRGVidWcuZW5hYmxlZChuYW1lc3BhY2UpO1xuICAgIGRlYnVnLnVzZUNvbG9ycyA9IGNyZWF0ZURlYnVnLnVzZUNvbG9ycygpO1xuICAgIGRlYnVnLmNvbG9yID0gc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcbiAgICBkZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcbiAgICBkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7IC8vIERlYnVnLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuICAgIC8vIGRlYnVnLnJhd0xvZyA9IHJhd0xvZztcbiAgICAvLyBlbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuXG4gICAgaWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcbiAgICB9XG5cbiAgICBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMucHVzaChkZWJ1Zyk7XG4gICAgcmV0dXJuIGRlYnVnO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgaW5kZXggPSBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMuaW5kZXhPZih0aGlzKTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIGNyZWF0ZURlYnVnLmluc3RhbmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0ZW5kKG5hbWVzcGFjZSwgZGVsaW1pdGVyKSB7XG4gICAgcmV0dXJuIGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG4gIH1cbiAgLyoqXG4gICogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuICAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICAqIEBhcGkgcHVibGljXG4gICovXG5cblxuICBmdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuICAgIGNyZWF0ZURlYnVnLnNhdmUobmFtZXNwYWNlcyk7XG4gICAgY3JlYXRlRGVidWcubmFtZXMgPSBbXTtcbiAgICBjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuICAgIHZhciBpO1xuICAgIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gICAgdmFyIGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKCFzcGxpdFtpXSkge1xuICAgICAgICAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG5cbiAgICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgICAgY3JlYXRlRGVidWcuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IGNyZWF0ZURlYnVnLmluc3RhbmNlc1tpXTtcbiAgICAgIGluc3RhbmNlLmVuYWJsZWQgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKGluc3RhbmNlLm5hbWVzcGFjZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuICAqXG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgY3JlYXRlRGVidWcuZW5hYmxlKCcnKTtcbiAgfVxuICAvKipcbiAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICAgIGlmIChuYW1lW25hbWUubGVuZ3RoIC0gMV0gPT09ICcqJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGk7XG4gICAgdmFyIGxlbjtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoY3JlYXRlRGVidWcuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChjcmVhdGVEZWJ1Zy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgKiBDb2VyY2UgYHZhbGAuXG4gICpcbiAgKiBAcGFyYW0ge01peGVkfSB2YWxcbiAgKiBAcmV0dXJuIHtNaXhlZH1cbiAgKiBAYXBpIHByaXZhdGVcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgICBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuICByZXR1cm4gY3JlYXRlRGVidWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXA7XG5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/common.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/index.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@sanity/portable-text-editor/node_modules/debug/src/index.js ***!
  \***********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\nif (typeof process === 'undefined' || process.type === 'renderer' || false === true || process.__nwjs) {\n  module.exports = __webpack_require__(/*! ./browser.js */ \"(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/browser.js\");\n} else {\n  module.exports = __webpack_require__(/*! ./node.js */ \"(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/node.js\");\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9wb3J0YWJsZS10ZXh0LWVkaXRvci9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLEtBQWU7QUFDcEYsRUFBRSwrSUFBd0M7QUFDMUMsRUFBRTtBQUNGLEVBQUUseUlBQXFDO0FBQ3ZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L3BvcnRhYmxlLXRleHQtZWRpdG9yL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvaW5kZXguanM/Y2JmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBEZXRlY3QgRWxlY3Ryb24gcmVuZGVyZXIgLyBud2pzIHByb2Nlc3MsIHdoaWNoIGlzIG5vZGUsIGJ1dCB3ZSBzaG91bGRcbiAqIHRyZWF0IGFzIGEgYnJvd3Nlci5cbiAqL1xuaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJyB8fCBwcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicgfHwgcHJvY2Vzcy5icm93c2VyID09PSB0cnVlIHx8IHByb2Nlc3MuX19ud2pzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9icm93c2VyLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbm9kZS5qcycpO1xufVxuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/node.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@sanity/portable-text-editor/node_modules/debug/src/node.js ***!
  \**********************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval("\n\n/**\n * Module dependencies.\n */\nvar tty = __webpack_require__(/*! tty */ \"tty\");\n\nvar util = __webpack_require__(/*! util */ \"util\");\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n  // Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n  // eslint-disable-next-line import/no-extraneous-dependencies\n  var supportsColor = __webpack_require__(/*! supports-color */ \"(ssr)/./node_modules/supports-color/index.js\");\n\n  if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n    exports.colors = [20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68, 69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134, 135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 214, 215, 220, 221];\n  }\n} catch (error) {} // Swallow - we only care if `supports-color` is available; it doesn't have to be.\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // Camel-case\n  var prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, function (_, k) {\n    return k.toUpperCase();\n  }); // Coerce string value into JS value\n\n  var val = process.env[key];\n\n  if (/^(yes|on|true|enabled)$/i.test(val)) {\n    val = true;\n  } else if (/^(no|off|false|disabled)$/i.test(val)) {\n    val = false;\n  } else if (val === 'null') {\n    val = null;\n  } else {\n    val = Number(val);\n  }\n\n  obj[prop] = val;\n  return obj;\n}, {});\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts ? Boolean(exports.inspectOpts.colors) : tty.isatty(process.stderr.fd);\n}\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  var name = this.namespace,\n      useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = \"\\x1B[3\" + (c < 8 ? c : '8;5;' + c);\n    var prefix = \"  \".concat(colorCode, \";1m\").concat(name, \" \\x1B[0m\");\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + module.exports.humanize(this.diff) + \"\\x1B[0m\");\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  }\n\n  return new Date().toISOString() + ' ';\n}\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  if (namespaces) {\n    process.env.DEBUG = namespaces;\n  } else {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  return process.env.DEBUG;\n}\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\n\nfunction init(debug) {\n  debug.inspectOpts = {};\n  var keys = Object.keys(exports.inspectOpts);\n\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\nmodule.exports = __webpack_require__(/*! ./common */ \"(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/common.js\")(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n')\n    .map(function (str) { return str.trim(); })\n    .join(' ');\n};\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\n\nformatters.O = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9wb3J0YWJsZS10ZXh0LWVkaXRvci9ub2RlX21vZHVsZXMvZGVidWcvc3JjL25vZGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtQkFBTyxDQUFDLGdCQUFLOztBQUV2QixXQUFXLG1CQUFPLENBQUMsa0JBQU07QUFDekI7QUFDQTtBQUNBOzs7QUFHQSxZQUFZO0FBQ1osV0FBVztBQUNYLGtCQUFrQjtBQUNsQixZQUFZO0FBQ1osWUFBWTtBQUNaLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUEsY0FBYzs7QUFFZDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUJBQU8sQ0FBQyxvRUFBZ0I7O0FBRTlDO0FBQ0EsSUFBSSxjQUFjO0FBQ2xCO0FBQ0EsRUFBRSxpQkFBaUIsNERBQTREOztBQUUvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxtQkFBbUI7QUFDbkI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHOztBQUVOOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQyxJQUFJO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0NBQStDLEVBQUU7QUFDakQsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsaUJBQWlCO0FBQ25DO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsbUJBQU8sQ0FBQyxvR0FBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixvQkFBb0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvcG9ydGFibGUtdGV4dC1lZGl0b3Ivbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9ub2RlLmpzPzFlZTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xudmFyIHR0eSA9IHJlcXVpcmUoJ3R0eScpO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcbi8qKlxuICogVGhpcyBpcyB0aGUgTm9kZS5qcyBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cblxuXG5leHBvcnRzLmluaXQgPSBpbml0O1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gWzYsIDIsIDMsIDQsIDUsIDFdO1xuXG50cnkge1xuICAvLyBPcHRpb25hbCBkZXBlbmRlbmN5IChhcyBpbiwgZG9lc24ndCBuZWVkIHRvIGJlIGluc3RhbGxlZCwgTk9UIGxpa2Ugb3B0aW9uYWxEZXBlbmRlbmNpZXMgaW4gcGFja2FnZS5qc29uKVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzXG4gIHZhciBzdXBwb3J0c0NvbG9yID0gcmVxdWlyZSgnc3VwcG9ydHMtY29sb3InKTtcblxuICBpZiAoc3VwcG9ydHNDb2xvciAmJiAoc3VwcG9ydHNDb2xvci5zdGRlcnIgfHwgc3VwcG9ydHNDb2xvcikubGV2ZWwgPj0gMikge1xuICAgIGV4cG9ydHMuY29sb3JzID0gWzIwLCAyMSwgMjYsIDI3LCAzMiwgMzMsIDM4LCAzOSwgNDAsIDQxLCA0MiwgNDMsIDQ0LCA0NSwgNTYsIDU3LCA2MiwgNjMsIDY4LCA2OSwgNzQsIDc1LCA3NiwgNzcsIDc4LCA3OSwgODAsIDgxLCA5MiwgOTMsIDk4LCA5OSwgMTEyLCAxMTMsIDEyOCwgMTI5LCAxMzQsIDEzNSwgMTQ4LCAxNDksIDE2MCwgMTYxLCAxNjIsIDE2MywgMTY0LCAxNjUsIDE2NiwgMTY3LCAxNjgsIDE2OSwgMTcwLCAxNzEsIDE3MiwgMTczLCAxNzgsIDE3OSwgMTg0LCAxODUsIDE5NiwgMTk3LCAxOTgsIDE5OSwgMjAwLCAyMDEsIDIwMiwgMjAzLCAyMDQsIDIwNSwgMjA2LCAyMDcsIDIwOCwgMjA5LCAyMTQsIDIxNSwgMjIwLCAyMjFdO1xuICB9XG59IGNhdGNoIChlcnJvcikge30gLy8gU3dhbGxvdyAtIHdlIG9ubHkgY2FyZSBpZiBgc3VwcG9ydHMtY29sb3JgIGlzIGF2YWlsYWJsZTsgaXQgZG9lc24ndCBoYXZlIHRvIGJlLlxuXG4vKipcbiAqIEJ1aWxkIHVwIHRoZSBkZWZhdWx0IGBpbnNwZWN0T3B0c2Agb2JqZWN0IGZyb20gdGhlIGVudmlyb25tZW50IHZhcmlhYmxlcy5cbiAqXG4gKiAgICQgREVCVUdfQ09MT1JTPW5vIERFQlVHX0RFUFRIPTEwIERFQlVHX1NIT1dfSElEREVOPWVuYWJsZWQgbm9kZSBzY3JpcHQuanNcbiAqL1xuXG5cbmV4cG9ydHMuaW5zcGVjdE9wdHMgPSBPYmplY3Qua2V5cyhwcm9jZXNzLmVudikuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIC9eZGVidWdfL2kudGVzdChrZXkpO1xufSkucmVkdWNlKGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAvLyBDYW1lbC1jYXNlXG4gIHZhciBwcm9wID0ga2V5LnN1YnN0cmluZyg2KS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18oW2Etel0pL2csIGZ1bmN0aW9uIChfLCBrKSB7XG4gICAgcmV0dXJuIGsudG9VcHBlckNhc2UoKTtcbiAgfSk7IC8vIENvZXJjZSBzdHJpbmcgdmFsdWUgaW50byBKUyB2YWx1ZVxuXG4gIHZhciB2YWwgPSBwcm9jZXNzLmVudltrZXldO1xuXG4gIGlmICgvXih5ZXN8b258dHJ1ZXxlbmFibGVkKSQvaS50ZXN0KHZhbCkpIHtcbiAgICB2YWwgPSB0cnVlO1xuICB9IGVsc2UgaWYgKC9eKG5vfG9mZnxmYWxzZXxkaXNhYmxlZCkkL2kudGVzdCh2YWwpKSB7XG4gICAgdmFsID0gZmFsc2U7XG4gIH0gZWxzZSBpZiAodmFsID09PSAnbnVsbCcpIHtcbiAgICB2YWwgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHZhbCA9IE51bWJlcih2YWwpO1xuICB9XG5cbiAgb2JqW3Byb3BdID0gdmFsO1xuICByZXR1cm4gb2JqO1xufSwge30pO1xuLyoqXG4gKiBJcyBzdGRvdXQgYSBUVFk/IENvbG9yZWQgb3V0cHV0IGlzIGVuYWJsZWQgd2hlbiBgdHJ1ZWAuXG4gKi9cblxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuICByZXR1cm4gJ2NvbG9ycycgaW4gZXhwb3J0cy5pbnNwZWN0T3B0cyA/IEJvb2xlYW4oZXhwb3J0cy5pbnNwZWN0T3B0cy5jb2xvcnMpIDogdHR5LmlzYXR0eShwcm9jZXNzLnN0ZGVyci5mZCk7XG59XG4vKipcbiAqIEFkZHMgQU5TSSBjb2xvciBlc2NhcGUgY29kZXMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIHZhciBuYW1lID0gdGhpcy5uYW1lc3BhY2UsXG4gICAgICB1c2VDb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblxuICBpZiAodXNlQ29sb3JzKSB7XG4gICAgdmFyIGMgPSB0aGlzLmNvbG9yO1xuICAgIHZhciBjb2xvckNvZGUgPSBcIlxceDFCWzNcIiArIChjIDwgOCA/IGMgOiAnODs1OycgKyBjKTtcbiAgICB2YXIgcHJlZml4ID0gXCIgIFwiLmNvbmNhdChjb2xvckNvZGUsIFwiOzFtXCIpLmNvbmNhdChuYW1lLCBcIiBcXHgxQlswbVwiKTtcbiAgICBhcmdzWzBdID0gcHJlZml4ICsgYXJnc1swXS5zcGxpdCgnXFxuJykuam9pbignXFxuJyArIHByZWZpeCk7XG4gICAgYXJncy5wdXNoKGNvbG9yQ29kZSArICdtKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpICsgXCJcXHgxQlswbVwiKTtcbiAgfSBlbHNlIHtcbiAgICBhcmdzWzBdID0gZ2V0RGF0ZSgpICsgbmFtZSArICcgJyArIGFyZ3NbMF07XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZSgpIHtcbiAgaWYgKGV4cG9ydHMuaW5zcGVjdE9wdHMuaGlkZURhdGUpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICByZXR1cm4gbmV3IERhdGUoKS50b0lTT1N0cmluZygpICsgJyAnO1xufVxuLyoqXG4gKiBJbnZva2VzIGB1dGlsLmZvcm1hdCgpYCB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzIGFuZCB3cml0ZXMgdG8gc3RkZXJyLlxuICovXG5cblxuZnVuY3Rpb24gbG9nKCkge1xuICByZXR1cm4gcHJvY2Vzcy5zdGRlcnIud3JpdGUodXRpbC5mb3JtYXQuYXBwbHkodXRpbCwgYXJndW1lbnRzKSArICdcXG4nKTtcbn1cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIGlmIChuYW1lc3BhY2VzKSB7XG4gICAgcHJvY2Vzcy5lbnYuREVCVUcgPSBuYW1lc3BhY2VzO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIHlvdSBzZXQgYSBwcm9jZXNzLmVudiBmaWVsZCB0byBudWxsIG9yIHVuZGVmaW5lZCwgaXQgZ2V0cyBjYXN0IHRvIHRoZVxuICAgIC8vIHN0cmluZyAnbnVsbCcgb3IgJ3VuZGVmaW5lZCcuIEp1c3QgZGVsZXRlIGluc3RlYWQuXG4gICAgZGVsZXRlIHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG59XG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgcmV0dXJuIHByb2Nlc3MuZW52LkRFQlVHO1xufVxuLyoqXG4gKiBJbml0IGxvZ2ljIGZvciBgZGVidWdgIGluc3RhbmNlcy5cbiAqXG4gKiBDcmVhdGUgYSBuZXcgYGluc3BlY3RPcHRzYCBvYmplY3QgaW4gY2FzZSBgdXNlQ29sb3JzYCBpcyBzZXRcbiAqIGRpZmZlcmVudGx5IGZvciBhIHBhcnRpY3VsYXIgYGRlYnVnYCBpbnN0YW5jZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGluaXQoZGVidWcpIHtcbiAgZGVidWcuaW5zcGVjdE9wdHMgPSB7fTtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhleHBvcnRzLmluc3BlY3RPcHRzKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBkZWJ1Zy5pbnNwZWN0T3B0c1trZXlzW2ldXSA9IGV4cG9ydHMuaW5zcGVjdE9wdHNba2V5c1tpXV07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xudmFyIGZvcm1hdHRlcnMgPSBtb2R1bGUuZXhwb3J0cy5mb3JtYXR0ZXJzO1xuLyoqXG4gKiBNYXAgJW8gdG8gYHV0aWwuaW5zcGVjdCgpYCwgYWxsIG9uIGEgc2luZ2xlIGxpbmUuXG4gKi9cblxuZm9ybWF0dGVycy5vID0gZnVuY3Rpb24gKHYpIHtcbiAgdGhpcy5pbnNwZWN0T3B0cy5jb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcbiAgcmV0dXJuIHV0aWwuaW5zcGVjdCh2LCB0aGlzLmluc3BlY3RPcHRzKVxuICAgIC5zcGxpdCgnXFxuJylcbiAgICAubWFwKGZ1bmN0aW9uIChzdHIpIHsgcmV0dXJuIHN0ci50cmltKCk7IH0pXG4gICAgLmpvaW4oJyAnKTtcbn07XG4vKipcbiAqIE1hcCAlTyB0byBgdXRpbC5pbnNwZWN0KClgLCBhbGxvd2luZyBtdWx0aXBsZSBsaW5lcyBpZiBuZWVkZWQuXG4gKi9cblxuXG5mb3JtYXR0ZXJzLk8gPSBmdW5jdGlvbiAodikge1xuICB0aGlzLmluc3BlY3RPcHRzLmNvbG9ycyA9IHRoaXMudXNlQ29sb3JzO1xuICByZXR1cm4gdXRpbC5pbnNwZWN0KHYsIHRoaXMuaW5zcGVjdE9wdHMpO1xufTtcblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/node.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/eventsource/node.js":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/eventsource/node.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__(/*! eventsource */ \"(ssr)/./node_modules/eventsource/lib/eventsource.js\")\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9ldmVudHNvdXJjZS9ub2RlLmpzIiwibWFwcGluZ3MiOiJBQUFBLDhHQUF1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9ldmVudHNvdXJjZS9ub2RlLmpzPzNiZDkiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCdldmVudHNvdXJjZScpXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/eventsource/node.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/block-tools/lib/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@sanity/block-tools/lib/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBlockContentFeatures: () => (/* binding */ getBlockContentFeatures),\n/* harmony export */   htmlToBlocks: () => (/* binding */ htmlToBlocks),\n/* harmony export */   normalizeBlock: () => (/* binding */ normalizeBlock),\n/* harmony export */   randomKey: () => (/* binding */ randomKey)\n/* harmony export */ });\n/* harmony import */ var lodash_flatten_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/flatten.js */ \"(ssr)/./node_modules/lodash/flatten.js\");\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/isEqual.js */ \"(ssr)/./node_modules/lodash/isEqual.js\");\n/* harmony import */ var lodash_uniq_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/uniq.js */ \"(ssr)/./node_modules/lodash/uniq.js\");\n/* harmony import */ var get_random_values_esm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! get-random-values-esm */ \"(ssr)/./node_modules/get-random-values-esm/index.mjs\");\n\n\n\n\nfunction findBlockType(type) {\n  return type.type ? findBlockType(type.type) : type.name === \"block\";\n}\nconst toString = Object.prototype.toString;\nfunction resolveJsType(val) {\n  switch (toString.call(val)) {\n    case \"[object Function]\":\n      return \"function\";\n    case \"[object Date]\":\n      return \"date\";\n    case \"[object RegExp]\":\n      return \"regexp\";\n    case \"[object Arguments]\":\n      return \"arguments\";\n    case \"[object Array]\":\n      return \"array\";\n    case \"[object String]\":\n      return \"string\";\n  }\n  return val === null ? \"null\" : val === void 0 ? \"undefined\" : val && typeof val == \"object\" && \"nodeType\" in val && val.nodeType === 1 ? \"element\" : val === Object(val) ? \"object\" : typeof val;\n}\nfunction isRecord$1(value) {\n  return !!value && (typeof value == \"object\" || typeof value == \"function\");\n}\nfunction isPortableTextTextBlock(value) {\n  return isRecord$1(value) && typeof value._type == \"string\" && // block types can be named, so expect anything here.\n  Array.isArray(value.children) && value.children.every((child) => isRecord$1(child)) && (\"markDefs\" in value ? Array.isArray(value.markDefs) && value.markDefs.every((def) => isRecord$1(def)) : !0) && (\"style\" in value ? typeof value.style == \"string\" : !0);\n}\nfunction isPortableTextSpan(value) {\n  return isRecord$1(value) && value._type === \"span\" && typeof value.text == \"string\" && (\"marks\" in value ? Array.isArray(value.marks) && value.marks.every((mark) => typeof mark == \"string\") : !0);\n}\nfunction isRecord(value) {\n  return !!value && (typeof value == \"object\" || typeof value == \"function\");\n}\nfunction isObjectSchemaType(type) {\n  return isRecord(type) ? type.jsonType === \"object\" : !1;\n}\nfunction isArraySchemaType(type) {\n  return isRecord(type) ? type.jsonType === \"array\" : !1;\n}\nfunction isTitledListValue(item) {\n  return typeof item == \"object\" && item !== null && \"title\" in item && \"value\" in item;\n}\nfunction isSpanSchemaType(type) {\n  return isRecord(type) ? Array.isArray(type.annotations) && Array.isArray(type.decorators) : !1;\n}\nfunction isBlockSchemaType(type) {\n  if (!isRecord(type) || !Array.isArray(type.fields)) return !1;\n  const maybeSpanChildren = type.fields.find(isBlockChildrenObjectField), maybeStyle = type.fields.find(isBlockStyleObjectField), maybeList = type.fields.find(isBlockListObjectField);\n  return isBlockChildrenObjectField(maybeSpanChildren) && isBlockStyleObjectField(maybeStyle) && isBlockListObjectField(maybeList);\n}\nfunction isBlockStyleObjectField(field) {\n  return !isRecord(field) || field.name !== \"style\" ? !1 : isRecord(field.type) && field.type.jsonType === \"string\";\n}\nfunction isBlockListObjectField(field) {\n  return !isRecord(field) || field.name !== \"listItem\" ? !1 : isRecord(field.type) && field.type.jsonType === \"string\";\n}\nfunction isBlockChildrenObjectField(field) {\n  return !isRecord(field) || field.name !== \"children\" || !isArraySchemaType(field.type) ? !1 : field.type.of.some(isSpanSchemaType);\n}\nvar s = { 0: 8203, 1: 8204, 2: 8205, 3: 8290, 4: 8291, 5: 8288, 6: 65279, 7: 8289, 8: 119155, 9: 119156, a: 119157, b: 119158, c: 119159, d: 119160, e: 119161, f: 119162 }, c = { 0: 8203, 1: 8204, 2: 8205, 3: 65279 };\nnew Array(4).fill(String.fromCodePoint(c[0])).join(\"\");\nObject.fromEntries(Object.entries(c).map((t) => t.reverse()));\nObject.fromEntries(Object.entries(s).map((t) => t.reverse()));\nvar S = `${Object.values(s).map((t) => `\\\\u{${t.toString(16)}}`).join(\"\")}`, f = new RegExp(`[${S}]{4,}`, \"gu\");\nfunction _(t) {\n  var e;\n  return { cleaned: t.replace(f, \"\"), encoded: ((e = t.match(f)) == null ? void 0 : e[0]) || \"\" };\n}\nfunction O(t) {\n  return t && JSON.parse(_(JSON.stringify(t)).cleaned);\n}\nconst PRESERVE_WHITESPACE_TAGS = [\"pre\", \"textarea\", \"code\"], BLOCK_DEFAULT_STYLE = \"normal\", DEFAULT_BLOCK = Object.freeze({\n  _type: \"block\",\n  markDefs: [],\n  style: BLOCK_DEFAULT_STYLE\n}), DEFAULT_SPAN = Object.freeze({\n  _type: \"span\",\n  marks: []\n}), HTML_BLOCK_TAGS = {\n  p: DEFAULT_BLOCK,\n  blockquote: { ...DEFAULT_BLOCK, style: \"blockquote\" }\n}, HTML_SPAN_TAGS = {\n  span: { object: \"text\" }\n}, HTML_LIST_CONTAINER_TAGS = {\n  ol: { object: null },\n  ul: { object: null }\n}, HTML_HEADER_TAGS = {\n  h1: { ...DEFAULT_BLOCK, style: \"h1\" },\n  h2: { ...DEFAULT_BLOCK, style: \"h2\" },\n  h3: { ...DEFAULT_BLOCK, style: \"h3\" },\n  h4: { ...DEFAULT_BLOCK, style: \"h4\" },\n  h5: { ...DEFAULT_BLOCK, style: \"h5\" },\n  h6: { ...DEFAULT_BLOCK, style: \"h6\" }\n}, HTML_MISC_TAGS = {\n  br: { ...DEFAULT_BLOCK, style: BLOCK_DEFAULT_STYLE }\n}, HTML_DECORATOR_TAGS = {\n  b: \"strong\",\n  strong: \"strong\",\n  i: \"em\",\n  em: \"em\",\n  u: \"underline\",\n  s: \"strike-through\",\n  strike: \"strike-through\",\n  del: \"strike-through\",\n  code: \"code\",\n  sup: \"sup\",\n  sub: \"sub\",\n  ins: \"ins\",\n  mark: \"mark\",\n  small: \"small\"\n}, HTML_LIST_ITEM_TAGS = {\n  li: {\n    ...DEFAULT_BLOCK,\n    style: BLOCK_DEFAULT_STYLE,\n    level: 1,\n    listItem: \"bullet\"\n  }\n}, ELEMENT_MAP = {\n  ...HTML_BLOCK_TAGS,\n  ...HTML_SPAN_TAGS,\n  ...HTML_LIST_CONTAINER_TAGS,\n  ...HTML_LIST_ITEM_TAGS,\n  ...HTML_HEADER_TAGS,\n  ...HTML_MISC_TAGS\n};\nlodash_uniq_js__WEBPACK_IMPORTED_MODULE_2__(\n  Object.values(ELEMENT_MAP).filter((tag) => \"style\" in tag).map((tag) => tag.style)\n);\nlodash_uniq_js__WEBPACK_IMPORTED_MODULE_2__(Object.values(HTML_DECORATOR_TAGS));\nfunction blockContentFeatures(blockContentType) {\n  var _a, _b;\n  if (!blockContentType)\n    throw new Error(\"Parameter 'blockContentType' required\");\n  const blockType = blockContentType.of.find(findBlockType);\n  if (!isBlockSchemaType(blockType))\n    throw new Error(\"'block' type is not defined in this schema (required).\");\n  const ofType = (_b = (_a = blockType.fields.find(isBlockChildrenObjectField)) == null ? void 0 : _a.type) == null ? void 0 : _b.of;\n  if (!ofType)\n    throw new Error(\"No `of` declaration found for blocks `children` field\");\n  const spanType = ofType.find((member) => member.name === \"span\");\n  if (!spanType)\n    throw new Error(\"No `span` type found in `block` schema type `children` definition\");\n  const inlineObjectTypes = ofType.filter(\n    (inlineType) => inlineType.name !== \"span\" && isObjectSchemaType(inlineType)\n  ), blockObjectTypes = blockContentType.of.filter(\n    (memberType) => memberType.name !== blockType.name && isObjectSchemaType(memberType)\n  );\n  return {\n    styles: resolveEnabledStyles(blockType),\n    decorators: resolveEnabledDecorators(spanType),\n    annotations: resolveEnabledAnnotationTypes(spanType),\n    lists: resolveEnabledListItems(blockType),\n    types: {\n      block: blockContentType,\n      span: spanType,\n      inlineObjects: inlineObjectTypes,\n      blockObjects: blockObjectTypes\n    }\n  };\n}\nfunction resolveEnabledStyles(blockType) {\n  const styleField = blockType.fields.find(isBlockStyleObjectField);\n  if (!styleField)\n    throw new Error(\"A field with name 'style' is not defined in the block type (required).\");\n  const textStyles = getTitledListValuesFromEnumListOptions(styleField.type.options);\n  if (textStyles.length === 0)\n    throw new Error(\n      \"The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.\"\n    );\n  return textStyles;\n}\nfunction resolveEnabledAnnotationTypes(spanType) {\n  return spanType.annotations.map((annotation) => ({\n    title: annotation.title,\n    type: annotation,\n    value: annotation.name,\n    icon: annotation.icon\n  }));\n}\nfunction resolveEnabledDecorators(spanType) {\n  return spanType.decorators;\n}\nfunction resolveEnabledListItems(blockType) {\n  const listField = blockType.fields.find(isBlockListObjectField);\n  if (!listField)\n    throw new Error(\"A field with name 'list' is not defined in the block type (required).\");\n  const listItems = getTitledListValuesFromEnumListOptions(listField.type.options);\n  if (!listItems)\n    throw new Error(\"The list field need at least to be an empty array\");\n  return listItems;\n}\nfunction getTitledListValuesFromEnumListOptions(options) {\n  const list = options ? options.list : void 0;\n  return Array.isArray(list) ? list.map((item) => isTitledListValue(item) ? item : { title: item, value: item }) : [];\n}\nconst _XPathResult = {\n  ANY_TYPE: 0,\n  NUMBER_TYPE: 1,\n  STRING_TYPE: 2,\n  BOOLEAN_TYPE: 3,\n  UNORDERED_NODE_ITERATOR_TYPE: 4,\n  ORDERED_NODE_ITERATOR_TYPE: 5,\n  UNORDERED_NODE_SNAPSHOT_TYPE: 6,\n  ORDERED_NODE_SNAPSHOT_TYPE: 7,\n  ANY_UNORDERED_NODE_TYPE: 8,\n  FIRST_ORDERED_NODE_TYPE: 9\n};\nvar preprocessGDocs = (html, doc, options) => {\n  var _a;\n  const whitespaceOnPasteMode = (options == null ? void 0 : options.unstable_whitespaceOnPasteMode) || \"preserve\";\n  let gDocsRootOrSiblingNode = doc.evaluate(\n    '//*[@id and contains(@id, \"docs-internal-guid\")]',\n    doc,\n    null,\n    _XPathResult.ORDERED_NODE_ITERATOR_TYPE,\n    null\n  ).iterateNext();\n  if (gDocsRootOrSiblingNode) {\n    const isWrappedRootTag = tagName(gDocsRootOrSiblingNode) === \"b\";\n    switch (isWrappedRootTag || (gDocsRootOrSiblingNode = doc.body), whitespaceOnPasteMode) {\n      case \"normalize\":\n        normalizeWhitespace(gDocsRootOrSiblingNode);\n        break;\n      case \"remove\":\n        removeAllWhitespace(gDocsRootOrSiblingNode);\n        break;\n    }\n    const childNodes = doc.evaluate(\n      \"//*\",\n      doc,\n      null,\n      _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n      null\n    );\n    for (let i = childNodes.snapshotLength - 1; i >= 0; i--) {\n      const elm = childNodes.snapshotItem(i);\n      elm == null || elm.setAttribute(\"data-is-google-docs\", \"true\"), ((elm == null ? void 0 : elm.parentElement) === gDocsRootOrSiblingNode || !isWrappedRootTag && elm.parentElement === doc.body) && (elm == null || elm.setAttribute(\"data-is-root-node\", \"true\"), tagName(elm)), tagName(elm) === \"li\" && elm.firstChild && tagName(elm == null ? void 0 : elm.firstChild) === \"img\" && elm.removeChild(elm.firstChild);\n    }\n    return isWrappedRootTag && ((_a = doc.body.firstElementChild) == null || _a.replaceWith(...Array.from(gDocsRootOrSiblingNode.childNodes))), doc;\n  }\n  return doc;\n};\nconst unwantedWordDocumentPaths = [\n  \"/html/text()\",\n  \"/html/head/text()\",\n  \"/html/body/text()\",\n  \"/html/body/ul/text()\",\n  \"/html/body/ol/text()\",\n  \"//comment()\",\n  \"//style\",\n  \"//xml\",\n  \"//script\",\n  \"//meta\",\n  \"//link\"\n];\nvar preprocessHTML = (html, doc) => {\n  var _a, _b, _c;\n  const bodyTextNodes = doc.evaluate(\n    \"/html/body/text()\",\n    doc,\n    null,\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null\n  );\n  for (let i = bodyTextNodes.snapshotLength - 1; i >= 0; i--) {\n    const node = bodyTextNodes.snapshotItem(i), text = node.textContent || \"\";\n    if (text.replace(/[^\\S\\n]+$/g, \"\")) {\n      const newNode = doc.createElement(\"span\");\n      newNode.appendChild(doc.createTextNode(text)), (_a = node.parentNode) == null || _a.replaceChild(newNode, node);\n    } else\n      (_b = node.parentNode) == null || _b.removeChild(node);\n  }\n  const unwantedNodes = doc.evaluate(\n    unwantedWordDocumentPaths.join(\"|\"),\n    doc,\n    null,\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null\n  );\n  for (let i = unwantedNodes.snapshotLength - 1; i >= 0; i--) {\n    const unwanted = unwantedNodes.snapshotItem(i);\n    unwanted && ((_c = unwanted.parentNode) == null || _c.removeChild(unwanted));\n  }\n  return doc;\n}, preprocessNotion = (html, doc) => {\n  const NOTION_REGEX = /<!-- notionvc:.*?-->/g;\n  if (html.match(NOTION_REGEX)) {\n    const childNodes = doc.evaluate(\n      \"//*\",\n      doc,\n      null,\n      _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n      null\n    );\n    for (let i = childNodes.snapshotLength - 1; i >= 0; i--) {\n      const elm = childNodes.snapshotItem(i);\n      elm == null || elm.setAttribute(\"data-is-notion\", \"true\");\n    }\n    return doc;\n  }\n  return doc;\n}, preprocessWhitespace = (_2, doc) => {\n  function processNode(node) {\n    var _a, _b;\n    if (node.nodeType === _XPathResult.BOOLEAN_TYPE && !PRESERVE_WHITESPACE_TAGS.includes(((_a = node.parentElement) == null ? void 0 : _a.tagName.toLowerCase()) || \"\"))\n      node.textContent = ((_b = node.textContent) == null ? void 0 : _b.replace(/\\s\\s+/g, \" \").replace(/[\\r\\n]+/g, \" \")) || \"\";\n    else\n      for (let i = 0; i < node.childNodes.length; i++)\n        processNode(node.childNodes[i]);\n  }\n  return processNode(doc.body), doc;\n};\nconst WORD_HTML_REGEX = /(class=\"?Mso|style=(?:\"|')[^\"]*?\\bmso-|w:WordDocument|<o:\\w+>|<\\/font>)/, unwantedPaths = [\n  \"//o:p\",\n  \"//span[@style='mso-list:Ignore']\",\n  \"//span[@style='mso-list: Ignore']\"\n], mappedPaths = [\n  \"//p[@class='MsoTocHeading']\",\n  \"//p[@class='MsoTitle']\",\n  \"//p[@class='MsoToaHeading']\",\n  \"//p[@class='MsoSubtitle']\",\n  \"//span[@class='MsoSubtleEmphasis']\",\n  \"//span[@class='MsoIntenseEmphasis']\"\n], elementMap = {\n  MsoTocHeading: [\"h3\"],\n  MsoTitle: [\"h1\"],\n  MsoToaHeading: [\"h2\"],\n  MsoSubtitle: [\"h5\"],\n  MsoSubtleEmphasis: [\"span\", \"em\"],\n  MsoIntenseEmphasis: [\"span\", \"em\", \"strong\"]\n  // Remove cruft\n};\nfunction isWordHtml(html) {\n  return WORD_HTML_REGEX.test(html);\n}\nvar preprocessWord = (html, doc) => {\n  var _a;\n  if (!isWordHtml(html))\n    return doc;\n  const unwantedNodes = doc.evaluate(\n    unwantedPaths.join(\"|\"),\n    doc,\n    (prefix) => prefix === \"o\" ? \"urn:schemas-microsoft-com:office:office\" : null,\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null\n  );\n  for (let i = unwantedNodes.snapshotLength - 1; i >= 0; i--) {\n    const unwanted = unwantedNodes.snapshotItem(i);\n    unwanted != null && unwanted.parentNode && unwanted.parentNode.removeChild(unwanted);\n  }\n  const mappedElements = doc.evaluate(\n    mappedPaths.join(\"|\"),\n    doc,\n    null,\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null\n  );\n  for (let i = mappedElements.snapshotLength - 1; i >= 0; i--) {\n    const mappedElm = mappedElements.snapshotItem(i), tags = elementMap[mappedElm.className], text = new Text(mappedElm.textContent || \"\");\n    if (!tags)\n      continue;\n    const parentElement = document.createElement(tags[0]);\n    let parent = parentElement, child = parentElement;\n    tags.slice(1).forEach((tag) => {\n      child = document.createElement(tag), parent.appendChild(child), parent = child;\n    }), child.appendChild(text), (_a = mappedElm == null ? void 0 : mappedElm.parentNode) == null || _a.replaceChild(parentElement, mappedElm);\n  }\n  return doc;\n}, preprocessors = [\n  preprocessWhitespace,\n  preprocessNotion,\n  preprocessWord,\n  preprocessGDocs,\n  preprocessHTML\n];\nfunction createRuleOptions(blockContentType) {\n  const features = blockContentFeatures(blockContentType), enabledBlockStyles = features.styles.map((item) => item.value || item.title), enabledSpanDecorators = features.decorators.map((item) => item.value || item.title), enabledBlockAnnotations = features.annotations.map((item) => item.value || item.title || \"\"), enabledListTypes = features.lists.map((item) => item.value || item.title || \"\");\n  return {\n    enabledBlockStyles,\n    enabledSpanDecorators,\n    enabledBlockAnnotations,\n    enabledListTypes\n  };\n}\nfunction tagName(el) {\n  if (el && \"tagName\" in el)\n    return el.tagName.toLowerCase();\n}\nfunction preprocess(html, parseHtml, options) {\n  const cleanHTML = O(html), doc = parseHtml(normalizeHtmlBeforePreprocess(cleanHTML));\n  return preprocessors.forEach((processor) => {\n    processor(cleanHTML, doc, options);\n  }), doc;\n}\nfunction normalizeHtmlBeforePreprocess(html) {\n  return html.trim();\n}\nfunction defaultParseHtml() {\n  if (resolveJsType(DOMParser) === \"undefined\")\n    throw new Error(\n      \"The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.\"\n    );\n  return (html) => new DOMParser().parseFromString(html, \"text/html\");\n}\nfunction flattenNestedBlocks(blocks2) {\n  let depth = 0;\n  const flattened = [], traverse = (nodes) => {\n    const toRemove = [];\n    nodes.forEach((node) => {\n      depth === 0 && flattened.push(node), isPortableTextTextBlock(node) && (depth > 0 && (toRemove.push(node), flattened.push(node)), depth++, traverse(node.children)), node._type === \"__block\" && (toRemove.push(node), flattened.push(node.block));\n    }), toRemove.forEach((node) => {\n      nodes.splice(nodes.indexOf(node), 1);\n    }), depth--;\n  };\n  return traverse(blocks2), flattened;\n}\nfunction nextSpan(block, index) {\n  const next = block.children[index + 1];\n  return next && next._type === \"span\" ? next : null;\n}\nfunction prevSpan(block, index) {\n  const prev = block.children[index - 1];\n  return prev && prev._type === \"span\" ? prev : null;\n}\nfunction isWhiteSpaceChar(text) {\n  return [\"\\xA0\", \" \"].includes(text);\n}\nfunction trimWhitespace(blocks2) {\n  return blocks2.forEach((block) => {\n    isPortableTextTextBlock(block) && block.children.forEach((child, index) => {\n      if (!isMinimalSpan(child))\n        return;\n      const nextChild = nextSpan(block, index), prevChild = prevSpan(block, index);\n      index === 0 && (child.text = child.text.replace(/^[^\\S\\n]+/g, \"\")), index === block.children.length - 1 && (child.text = child.text.replace(/[^\\S\\n]+$/g, \"\")), /\\s/.test(child.text.slice(Math.max(0, child.text.length - 1))) && nextChild && isMinimalSpan(nextChild) && /\\s/.test(nextChild.text.slice(0, 1)) && (child.text = child.text.replace(/[^\\S\\n]+$/g, \"\")), /\\s/.test(child.text.slice(0, 1)) && prevChild && isMinimalSpan(prevChild) && /\\s/.test(prevChild.text.slice(Math.max(0, prevChild.text.length - 1))) && (child.text = child.text.replace(/^[^\\S\\n]+/g, \"\")), child.text || block.children.splice(index, 1), prevChild && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(prevChild.marks, child.marks) && isWhiteSpaceChar(child.text) ? (prevChild.text += \" \", block.children.splice(index, 1)) : nextChild && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(nextChild.marks, child.marks) && isWhiteSpaceChar(child.text) && (nextChild.text = ` ${nextChild.text}`, block.children.splice(index, 1));\n    });\n  }), blocks2;\n}\nfunction ensureRootIsBlocks(blocks2) {\n  return blocks2.reduce((memo, node, i, original) => {\n    if (node._type === \"block\")\n      return memo.push(node), memo;\n    if (node._type === \"__block\")\n      return memo.push(node.block), memo;\n    const lastBlock = memo[memo.length - 1];\n    if (i > 0 && !isPortableTextTextBlock(original[i - 1]) && isPortableTextTextBlock(lastBlock))\n      return lastBlock.children.push(node), memo;\n    const block = {\n      ...DEFAULT_BLOCK,\n      children: [node]\n    };\n    return memo.push(block), memo;\n  }, []);\n}\nfunction isNodeList(node) {\n  return Object.prototype.toString.call(node) == \"[object NodeList]\";\n}\nfunction isMinimalSpan(node) {\n  return node._type === \"span\";\n}\nfunction isMinimalBlock(node) {\n  return node._type === \"block\";\n}\nfunction isPlaceholderDecorator(node) {\n  return node._type === \"__decorator\";\n}\nfunction isPlaceholderAnnotation(node) {\n  return node._type === \"__annotation\";\n}\nfunction isElement(node) {\n  return node.nodeType === 1;\n}\nfunction normalizeWhitespace(rootNode) {\n  let emptyBlockCount = 0, lastParent = null;\n  const nodesToRemove = [];\n  for (let child = rootNode.firstChild; child; child = child.nextSibling) {\n    if (!isElement(child)) {\n      normalizeWhitespace(child), emptyBlockCount = 0;\n      continue;\n    }\n    const elm = child;\n    isWhitespaceBlock(elm) ? (lastParent && elm.parentElement === lastParent ? (emptyBlockCount++, emptyBlockCount > 1 && nodesToRemove.push(elm)) : emptyBlockCount = 1, lastParent = elm.parentElement) : (normalizeWhitespace(child), emptyBlockCount = 0);\n  }\n  nodesToRemove.forEach((node) => {\n    var _a;\n    return (_a = node.parentElement) == null ? void 0 : _a.removeChild(node);\n  });\n}\nfunction removeAllWhitespace(rootNode) {\n  const nodesToRemove = [];\n  function collectNodesToRemove(currentNode) {\n    var _a, _b;\n    if (isElement(currentNode)) {\n      const elm = currentNode;\n      if (tagName(elm) === \"br\" && (tagName(elm.nextElementSibling) === \"p\" || tagName(elm.previousElementSibling) === \"p\")) {\n        nodesToRemove.push(elm);\n        return;\n      }\n      if ((tagName(elm) === \"p\" || tagName(elm) === \"br\") && ((_b = (_a = elm == null ? void 0 : elm.firstChild) == null ? void 0 : _a.textContent) == null ? void 0 : _b.trim()) === \"\") {\n        nodesToRemove.push(elm);\n        return;\n      }\n      for (let child = elm.firstChild; child; child = child.nextSibling)\n        collectNodesToRemove(child);\n    }\n  }\n  collectNodesToRemove(rootNode), nodesToRemove.forEach((node) => {\n    var _a;\n    return (_a = node.parentElement) == null ? void 0 : _a.removeChild(node);\n  });\n}\nfunction isWhitespaceBlock(elm) {\n  var _a;\n  return [\"p\", \"br\"].includes(tagName(elm) || \"\") && !((_a = elm.textContent) != null && _a.trim());\n}\nconst LIST_CONTAINER_TAGS = Object.keys(HTML_LIST_CONTAINER_TAGS);\nfunction isEmphasis$1(el) {\n  const style = isElement(el) && el.getAttribute(\"style\");\n  return /font-style\\s*:\\s*italic/.test(style || \"\");\n}\nfunction isStrong$1(el) {\n  const style = isElement(el) && el.getAttribute(\"style\");\n  return /font-weight\\s*:\\s*700/.test(style || \"\");\n}\nfunction isUnderline$1(el) {\n  if (!isElement(el) || tagName(el.parentNode) === \"a\")\n    return !1;\n  const style = isElement(el) && el.getAttribute(\"style\");\n  return /text-decoration\\s*:\\s*underline/.test(style || \"\");\n}\nfunction isStrikethrough(el) {\n  const style = isElement(el) && el.getAttribute(\"style\");\n  return /text-decoration\\s*:\\s*(?:.*line-through.*;)/.test(style || \"\");\n}\nfunction isGoogleDocs(el) {\n  return isElement(el) && !!el.getAttribute(\"data-is-google-docs\");\n}\nfunction isRootNode(el) {\n  return isElement(el) && !!el.getAttribute(\"data-is-root-node\");\n}\nfunction getListItemStyle$1(el) {\n  const parentTag = tagName(el.parentNode);\n  if (!(parentTag && !LIST_CONTAINER_TAGS.includes(parentTag)))\n    return tagName(el.parentNode) === \"ul\" ? \"bullet\" : \"number\";\n}\nfunction getListItemLevel$1(el) {\n  let level = 0;\n  if (tagName(el) === \"li\") {\n    let parentNode = el.parentNode;\n    for (; parentNode; ) {\n      const parentTag = tagName(parentNode);\n      parentTag && LIST_CONTAINER_TAGS.includes(parentTag) && level++, parentNode = parentNode.parentNode;\n    }\n  } else\n    level = 1;\n  return level;\n}\nconst blocks = {\n  ...HTML_BLOCK_TAGS,\n  ...HTML_HEADER_TAGS\n};\nfunction getBlockStyle(el, enabledBlockStyles) {\n  const childTag = tagName(el.firstChild), block = childTag && blocks[childTag];\n  return block && enabledBlockStyles.includes(block.style) ? block.style : BLOCK_DEFAULT_STYLE;\n}\nfunction createGDocsRules(_blockContentType, options) {\n  return [\n    {\n      deserialize(el) {\n        if (isElement(el) && tagName(el) === \"span\" && isGoogleDocs(el)) {\n          const span = {\n            ...DEFAULT_SPAN,\n            marks: [],\n            text: el.textContent\n          };\n          return isStrong$1(el) && span.marks.push(\"strong\"), isUnderline$1(el) && span.marks.push(\"underline\"), isStrikethrough(el) && span.marks.push(\"strike-through\"), isEmphasis$1(el) && span.marks.push(\"em\"), span;\n        }\n      }\n    },\n    {\n      deserialize(el, next) {\n        var _a;\n        if (tagName(el) === \"li\" && isGoogleDocs(el))\n          return {\n            ...DEFAULT_BLOCK,\n            listItem: getListItemStyle$1(el),\n            level: getListItemLevel$1(el),\n            style: getBlockStyle(el, options.enabledBlockStyles),\n            children: next(((_a = el.firstChild) == null ? void 0 : _a.childNodes) || [])\n          };\n      }\n    },\n    {\n      deserialize(el) {\n        var _a;\n        if (tagName(el) === \"br\" && isGoogleDocs(el) && isElement(el) && el.classList.contains(\"apple-interchange-newline\"))\n          return {\n            ...DEFAULT_SPAN,\n            text: \"\"\n          };\n        if (tagName(el) === \"br\" && isGoogleDocs(el) && isElement(el) && ((_a = el == null ? void 0 : el.parentNode) == null ? void 0 : _a.textContent) === \"\")\n          return {\n            ...DEFAULT_SPAN,\n            text: \"\"\n          };\n        if (tagName(el) === \"br\" && isGoogleDocs(el) && isElement(el) && isRootNode(el))\n          return {\n            ...DEFAULT_SPAN,\n            text: \"\"\n          };\n      }\n    }\n  ];\n}\nfunction whatwgRNG(length = 16) {\n  const rnds8 = new Uint8Array(length);\n  return (0,get_random_values_esm__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(rnds8), rnds8;\n}\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i)\n  byteToHex[i] = (i + 256).toString(16).slice(1);\nfunction randomKey(length) {\n  return whatwgRNG(length).reduce((str, n) => str + byteToHex[n], \"\").slice(0, length);\n}\nfunction resolveListItem(listNodeTagName, enabledListTypes) {\n  if (listNodeTagName === \"ul\" && enabledListTypes.includes(\"bullet\"))\n    return \"bullet\";\n  if (listNodeTagName === \"ol\" && enabledListTypes.includes(\"number\"))\n    return \"number\";\n}\nfunction createHTMLRules(blockContentType, options) {\n  return [\n    // Text nodes\n    {\n      deserialize(el) {\n        if (tagName(el) === \"pre\")\n          return;\n        const isValidText = (el.nodeType === 3 && (el.textContent || \"\").replace(/[\\r\\n]/g, \" \").replace(/\\s\\s+/g, \" \") === \" \" && el.nextSibling && el.nextSibling.nodeType !== 3 && el.previousSibling && el.previousSibling.nodeType !== 3 || el.textContent !== \" \") && tagName(el.parentNode) !== \"body\";\n        if (el.nodeName === \"#text\" && isValidText)\n          return {\n            ...DEFAULT_SPAN,\n            marks: [],\n            text: (el.textContent || \"\").replace(/\\s\\s+/g, \" \")\n          };\n      }\n    },\n    // Pre element\n    {\n      deserialize(el) {\n        if (tagName(el) !== \"pre\")\n          return;\n        const isCodeEnabled = options.enabledBlockStyles.includes(\"code\");\n        return {\n          _type: \"block\",\n          style: \"normal\",\n          markDefs: [],\n          children: [\n            {\n              ...DEFAULT_SPAN,\n              marks: isCodeEnabled ? [\"code\"] : [],\n              text: el.textContent || \"\"\n            }\n          ]\n        };\n      }\n    },\n    // Blockquote element\n    {\n      deserialize(el, next) {\n        if (tagName(el) !== \"blockquote\")\n          return;\n        const blocks2 = {\n          ...HTML_BLOCK_TAGS,\n          ...HTML_HEADER_TAGS\n        };\n        delete blocks2.blockquote;\n        const children = [];\n        return el.childNodes.forEach((node, index) => {\n          if (node.nodeType === 1 && Object.keys(blocks2).includes(node.localName.toLowerCase())) {\n            if (!el.ownerDocument)\n              return;\n            const span = el.ownerDocument.createElement(\"span\");\n            span.appendChild(el.ownerDocument.createTextNode(\"\\r\")), node.childNodes.forEach((cn) => {\n              span.appendChild(cn.cloneNode(!0));\n            }), index !== el.childNodes.length && span.appendChild(el.ownerDocument.createTextNode(\"\\r\")), children.push(span);\n          } else\n            children.push(node);\n        }), {\n          _type: \"block\",\n          style: \"blockquote\",\n          markDefs: [],\n          children: next(children)\n        };\n      }\n    },\n    // Block elements\n    {\n      deserialize(el, next) {\n        const blocks2 = {\n          ...HTML_BLOCK_TAGS,\n          ...HTML_HEADER_TAGS\n        }, tag = tagName(el);\n        let block = tag ? blocks2[tag] : void 0;\n        if (block)\n          return el.parentNode && tagName(el.parentNode) === \"li\" ? next(el.childNodes) : (options.enabledBlockStyles.includes(block.style) || (block = DEFAULT_BLOCK), {\n            ...block,\n            children: next(el.childNodes)\n          });\n      }\n    },\n    // Ignore span tags\n    {\n      deserialize(el, next) {\n        const tag = tagName(el);\n        if (!(!tag || !(tag in HTML_SPAN_TAGS)))\n          return next(el.childNodes);\n      }\n    },\n    // Ignore div tags\n    {\n      deserialize(el, next) {\n        if (tagName(el) === \"div\")\n          return next(el.childNodes);\n      }\n    },\n    // Ignore list containers\n    {\n      deserialize(el, next) {\n        const tag = tagName(el);\n        if (!(!tag || !(tag in HTML_LIST_CONTAINER_TAGS)))\n          return next(el.childNodes);\n      }\n    },\n    // Deal with br's\n    {\n      deserialize(el) {\n        if (tagName(el) === \"br\")\n          return {\n            ...DEFAULT_SPAN,\n            text: `\n`\n          };\n      }\n    },\n    // Deal with list items\n    {\n      deserialize(el, next, block) {\n        const tag = tagName(el), listItem = tag ? HTML_LIST_ITEM_TAGS[tag] : void 0, parentTag = tagName(el.parentNode) || \"\";\n        if (!listItem || !el.parentNode || !HTML_LIST_CONTAINER_TAGS[parentTag])\n          return;\n        const enabledListItem = resolveListItem(parentTag, options.enabledListTypes);\n        return enabledListItem ? (listItem.listItem = enabledListItem, {\n          ...listItem,\n          children: next(el.childNodes)\n        }) : block({ _type: \"block\", children: next(el.childNodes) });\n      }\n    },\n    // Deal with decorators - this is a limited set of known html elements that we know how to deserialize\n    {\n      deserialize(el, next) {\n        const decorator = HTML_DECORATOR_TAGS[tagName(el) || \"\"];\n        if (!(!decorator || !options.enabledSpanDecorators.includes(decorator)))\n          return {\n            _type: \"__decorator\",\n            name: decorator,\n            children: next(el.childNodes)\n          };\n      }\n    },\n    // Special case for hyperlinks, add annotation (if allowed by schema),\n    // If not supported just write out the link text and href in plain text.\n    {\n      deserialize(el, next) {\n        if (tagName(el) != \"a\")\n          return;\n        const linkEnabled = options.enabledBlockAnnotations.includes(\"link\"), href = isElement(el) && el.getAttribute(\"href\");\n        if (!href)\n          return next(el.childNodes);\n        let markDef;\n        return linkEnabled ? (markDef = {\n          _key: randomKey(12),\n          _type: \"link\",\n          href\n        }, {\n          _type: \"__annotation\",\n          markDef,\n          children: next(el.childNodes)\n        }) : el.appendChild(el.ownerDocument.createTextNode(` (${href})`)) && next(el.childNodes);\n      }\n    }\n  ];\n}\nfunction isEmphasis(el) {\n  const style = isElement(el) && el.getAttribute(\"style\");\n  return /font-style:italic/.test(style || \"\");\n}\nfunction isStrong(el) {\n  const style = isElement(el) && el.getAttribute(\"style\");\n  return /font-weight:700/.test(style || \"\") || /font-weight:600/.test(style || \"\");\n}\nfunction isUnderline(el) {\n  const style = isElement(el) && el.getAttribute(\"style\");\n  return /text-decoration:underline/.test(style || \"\");\n}\nfunction isNotion(el) {\n  return isElement(el) && !!el.getAttribute(\"data-is-notion\");\n}\nfunction createNotionRules(_blockContentType) {\n  return [\n    {\n      deserialize(el) {\n        if (isElement(el) && tagName(el) === \"span\" && isNotion(el)) {\n          const span = {\n            ...DEFAULT_SPAN,\n            marks: [],\n            text: el.textContent\n          };\n          return isStrong(el) && span.marks.push(\"strong\"), isUnderline(el) && span.marks.push(\"underline\"), isEmphasis(el) && span.marks.push(\"em\"), span;\n        }\n      }\n    }\n  ];\n}\nfunction getListItemStyle(el) {\n  const style = isElement(el) && el.getAttribute(\"style\");\n  if (style && style.match(/lfo\\d+/))\n    return style.match(\"lfo1\") ? \"bullet\" : \"number\";\n}\nfunction getListItemLevel(el) {\n  const style = isElement(el) && el.getAttribute(\"style\");\n  if (!style)\n    return;\n  const levelMatch = style.match(/level\\d+/);\n  if (!levelMatch)\n    return;\n  const [level] = levelMatch[0].match(/\\d/) || [];\n  return (level ? parseInt(level, 10) : 1) || 1;\n}\nfunction isWordListElement(el) {\n  return isElement(el) && el.className ? el.className === \"MsoListParagraphCxSpFirst\" || el.className === \"MsoListParagraphCxSpMiddle\" || el.className === \"MsoListParagraphCxSpLast\" : !1;\n}\nfunction createWordRules() {\n  return [\n    {\n      deserialize(el, next) {\n        if (tagName(el) === \"p\" && isWordListElement(el))\n          return {\n            ...DEFAULT_BLOCK,\n            listItem: getListItemStyle(el),\n            level: getListItemLevel(el),\n            style: BLOCK_DEFAULT_STYLE,\n            children: next(el.childNodes)\n          };\n      }\n    }\n  ];\n}\nfunction createRules(blockContentType, options) {\n  return [\n    ...createWordRules(),\n    ...createNotionRules(),\n    ...createGDocsRules(blockContentType, options),\n    ...createHTMLRules(blockContentType, options)\n  ];\n}\nvar __defProp = Object.defineProperty, __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField = (obj, key, value) => __defNormalProp(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass HtmlDeserializer {\n  /**\n   * Create a new serializer respecting a Sanity block content type's schema\n   *\n   * @param blockContentType - Schema type for array containing _at least_ a block child type\n   * @param options - Options for the deserialization process\n   */\n  constructor(blockContentType, options = {}) {\n    __publicField(this, \"blockContentType\"), __publicField(this, \"rules\"), __publicField(this, \"parseHtml\"), __publicField(this, \"_markDefs\", []), __publicField(this, \"deserialize\", (html) => {\n      this._markDefs = [];\n      const { parseHtml: parseHtml2 } = this, fragment = parseHtml2(html), children = Array.from(fragment.childNodes), blocks2 = trimWhitespace(\n        flattenNestedBlocks(ensureRootIsBlocks(this.deserializeElements(children)))\n      );\n      this._markDefs.length > 0 && blocks2.filter((block) => block._type === \"block\").forEach((block) => {\n        block.markDefs = block.markDefs || [], block.markDefs = block.markDefs.concat(\n          this._markDefs.filter((def) => lodash_flatten_js__WEBPACK_IMPORTED_MODULE_0__(block.children.map((child) => child.marks || [])).includes(def._key))\n        );\n      });\n      const type = this.blockContentType.of.find(findBlockType);\n      return type ? blocks2.map((block) => (block._type === \"block\" && (block._type = type.name), block)) : blocks2;\n    }), __publicField(this, \"deserializeElements\", (elements = []) => {\n      let nodes = [];\n      return elements.forEach((element) => {\n        nodes = nodes.concat(this.deserializeElement(element));\n      }), nodes;\n    }), __publicField(this, \"deserializeElement\", (element) => {\n      var _a, _b;\n      const next = (elements) => {\n        if (isNodeList(elements))\n          return this.deserializeElements(Array.from(elements));\n        if (Array.isArray(elements))\n          return this.deserializeElements(elements);\n        if (elements)\n          return this.deserializeElement(elements);\n      }, block = (props) => ({\n        _type: \"__block\",\n        block: props\n      });\n      let node;\n      for (let i = 0; i < this.rules.length; i++) {\n        const rule = this.rules[i];\n        if (!rule.deserialize)\n          continue;\n        const ret = rule.deserialize(element, next, block), type = resolveJsType(ret);\n        if (type !== \"array\" && type !== \"object\" && type !== \"null\" && type !== \"undefined\")\n          throw new Error(`A rule returned an invalid deserialized representation: \"${node}\".`);\n        if (ret !== void 0) {\n          {\n            if (ret === null)\n              throw new Error(\"Deserializer rule returned `null`\");\n            Array.isArray(ret) ? node = ret : isPlaceholderDecorator(ret) ? node = this.deserializeDecorator(ret) : isPlaceholderAnnotation(ret) ? node = this.deserializeAnnotation(ret) : node = ret;\n          }\n          if (ret && !Array.isArray(ret) && isMinimalBlock(ret) && \"listItem\" in ret) {\n            let parent = (_a = element.parentNode) == null ? void 0 : _a.parentNode;\n            for (; parent && tagName(parent) === \"li\"; )\n              parent = (_b = parent.parentNode) == null ? void 0 : _b.parentNode, ret.level = ret.level ? ret.level + 1 : 1;\n          }\n          ret && !Array.isArray(ret) && isMinimalBlock(ret) && ret.style === \"blockquote\" && ret.children.forEach((child, index) => {\n            isMinimalSpan(child) && child.text === \"\\r\" && (child.text = `\n\n`, (index === 0 || index === ret.children.length - 1) && ret.children.splice(index, 1));\n          });\n          break;\n        }\n      }\n      return node || next(element.childNodes) || [];\n    }), __publicField(this, \"deserializeDecorator\", (decorator) => {\n      const { name } = decorator, applyDecorator = (node) => {\n        if (isPlaceholderDecorator(node))\n          return this.deserializeDecorator(node);\n        if (isMinimalSpan(node))\n          node.marks = node.marks || [], node.text.trim() && node.marks.unshift(name);\n        else if (\"children\" in node && Array.isArray(node.children)) {\n          const block = node;\n          block.children = block.children.map(applyDecorator);\n        }\n        return node;\n      };\n      return decorator.children.reduce((children, node) => {\n        const ret = applyDecorator(node);\n        return Array.isArray(ret) ? children.concat(ret) : (children.push(ret), children);\n      }, []);\n    }), __publicField(this, \"deserializeAnnotation\", (annotation) => {\n      const { markDef } = annotation;\n      this._markDefs.push(markDef);\n      const applyAnnotation = (node) => {\n        if (isPlaceholderAnnotation(node))\n          return this.deserializeAnnotation(node);\n        if (isMinimalSpan(node))\n          node.marks = node.marks || [], node.text.trim() && node.marks.unshift(markDef._key);\n        else if (\"children\" in node && Array.isArray(node.children)) {\n          const block = node;\n          block.children = block.children.map(applyAnnotation);\n        }\n        return node;\n      };\n      return annotation.children.reduce((children, node) => {\n        const ret = applyAnnotation(node);\n        return Array.isArray(ret) ? children.concat(ret) : (children.push(ret), children);\n      }, []);\n    });\n    const { rules = [], unstable_whitespaceOnPasteMode = \"preserve\" } = options;\n    if (!blockContentType)\n      throw new Error(\"Parameter 'blockContentType' is required\");\n    const standardRules = createRules(blockContentType, createRuleOptions(blockContentType));\n    this.rules = [...rules, ...standardRules];\n    const parseHtml = options.parseHtml || defaultParseHtml();\n    this.blockContentType = blockContentType, this.parseHtml = (html) => preprocess(html, parseHtml, { unstable_whitespaceOnPasteMode }).body;\n  }\n}\nfunction normalizeBlock(node, options = {}) {\n  if (node._type !== (options.blockTypeName || \"block\"))\n    return \"_key\" in node ? node : { ...node, _key: randomKey(12) };\n  const block = {\n    _key: randomKey(12),\n    children: [],\n    markDefs: [],\n    ...node\n  }, lastChild = block.children[block.children.length - 1];\n  if (!lastChild)\n    return block.children = [\n      {\n        _type: \"span\",\n        _key: `${block._key}0`,\n        text: \"\",\n        marks: []\n      }\n    ], block;\n  const usedMarkDefs = [], allowedDecorators = options.allowedDecorators && Array.isArray(options.allowedDecorators) ? options.allowedDecorators : !1;\n  return block.children = block.children.reduce(\n    (acc, child) => {\n      const previousChild = acc[acc.length - 1];\n      return previousChild && isPortableTextSpan(child) && isPortableTextSpan(previousChild) && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(previousChild.marks, child.marks) ? (lastChild && lastChild === child && child.text === \"\" && block.children.length > 1 || (previousChild.text += child.text), acc) : (acc.push(child), acc);\n    },\n    []\n  ).map((child, index) => {\n    if (!child)\n      throw new Error(\"missing child\");\n    return child._key = `${block._key}${index}`, isPortableTextSpan(child) && (child.marks ? allowedDecorators && (child.marks = child.marks.filter((mark) => {\n      var _a;\n      const isAllowed = allowedDecorators.includes(mark), isUsed = (_a = block.markDefs) == null ? void 0 : _a.some((def) => def._key === mark);\n      return isAllowed || isUsed;\n    })) : child.marks = [], usedMarkDefs.push(...child.marks)), child;\n  }), block.markDefs = (block.markDefs || []).filter((markDef) => usedMarkDefs.includes(markDef._key)), block;\n}\nfunction htmlToBlocks(html, blockContentType, options = {}) {\n  return new HtmlDeserializer(blockContentType, options).deserialize(html).map((block) => normalizeBlock(block));\n}\nfunction getBlockContentFeatures(blockContentType) {\n  return blockContentFeatures(blockContentType);\n}\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9ibG9jay10b29scy9saWIvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXdDO0FBQ0E7QUFDTjtBQUNrQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGlLQUFpSyxRQUFRO0FBQ25MO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUNBQWlDLEVBQUUsZ0JBQWdCLFlBQVksc0JBQXNCLEVBQUUsRUFBRSxHQUFHO0FBQ3ZHO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsZ0JBQWdCO0FBQ2hCLENBQUM7QUFDRCxVQUFVO0FBQ1YsQ0FBQztBQUNELFFBQVEsY0FBYztBQUN0QixRQUFRO0FBQ1IsQ0FBQztBQUNELFFBQVEsK0JBQStCO0FBQ3ZDLFFBQVEsK0JBQStCO0FBQ3ZDLFFBQVEsK0JBQStCO0FBQ3ZDLFFBQVEsK0JBQStCO0FBQ3ZDLFFBQVEsK0JBQStCO0FBQ3ZDLFFBQVE7QUFDUixDQUFDO0FBQ0QsUUFBUTtBQUNSLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUFJO0FBQ0o7QUFDQTtBQUNBLDJDQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxpQ0FBaUM7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRiwwQkFBMEI7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFFBQVE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFFBQVE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFFBQVE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNEJBQTRCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsUUFBUTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxRQUFRO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwbkJBQTBuQiw4Q0FBTyx5SUFBeUksOENBQU8sd0ZBQXdGLGVBQWU7QUFDeDNCLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLE9BQU87QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLE9BQU87QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsaUVBQWU7QUFDeEI7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsWUFBWSwrQ0FBK0M7QUFDcEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVMsd0RBQXdELEtBQUs7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlIQUFpSCx1REFBdUQ7QUFDeEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBLGNBQWMsd0JBQXdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDhDQUFPO0FBQ2hEO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxzQkFBc0IsdUJBQXVCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsS0FBSztBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9DQUFvQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLGNBQWMsVUFBVTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLFlBQVksMERBQTBEO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1R0FBdUcsZ0NBQWdDO0FBQ3ZJO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixXQUFXO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0csOENBQU87QUFDdkcsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLFdBQVcsRUFBRSxNQUFNO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvYmxvY2stdG9vbHMvbGliL2luZGV4Lm1qcz82NDdjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmbGF0dGVuIGZyb20gXCJsb2Rhc2gvZmxhdHRlbi5qc1wiO1xuaW1wb3J0IGlzRXF1YWwgZnJvbSBcImxvZGFzaC9pc0VxdWFsLmpzXCI7XG5pbXBvcnQgdW5pcSBmcm9tIFwibG9kYXNoL3VuaXEuanNcIjtcbmltcG9ydCBnZXRSYW5kb21WYWx1ZXMgZnJvbSBcImdldC1yYW5kb20tdmFsdWVzLWVzbVwiO1xuZnVuY3Rpb24gZmluZEJsb2NrVHlwZSh0eXBlKSB7XG4gIHJldHVybiB0eXBlLnR5cGUgPyBmaW5kQmxvY2tUeXBlKHR5cGUudHlwZSkgOiB0eXBlLm5hbWUgPT09IFwiYmxvY2tcIjtcbn1cbmNvbnN0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmZ1bmN0aW9uIHJlc29sdmVKc1R5cGUodmFsKSB7XG4gIHN3aXRjaCAodG9TdHJpbmcuY2FsbCh2YWwpKSB7XG4gICAgY2FzZSBcIltvYmplY3QgRnVuY3Rpb25dXCI6XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiO1xuICAgIGNhc2UgXCJbb2JqZWN0IERhdGVdXCI6XG4gICAgICByZXR1cm4gXCJkYXRlXCI7XG4gICAgY2FzZSBcIltvYmplY3QgUmVnRXhwXVwiOlxuICAgICAgcmV0dXJuIFwicmVnZXhwXCI7XG4gICAgY2FzZSBcIltvYmplY3QgQXJndW1lbnRzXVwiOlxuICAgICAgcmV0dXJuIFwiYXJndW1lbnRzXCI7XG4gICAgY2FzZSBcIltvYmplY3QgQXJyYXldXCI6XG4gICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgIGNhc2UgXCJbb2JqZWN0IFN0cmluZ11cIjpcbiAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICB9XG4gIHJldHVybiB2YWwgPT09IG51bGwgPyBcIm51bGxcIiA6IHZhbCA9PT0gdm9pZCAwID8gXCJ1bmRlZmluZWRcIiA6IHZhbCAmJiB0eXBlb2YgdmFsID09IFwib2JqZWN0XCIgJiYgXCJub2RlVHlwZVwiIGluIHZhbCAmJiB2YWwubm9kZVR5cGUgPT09IDEgPyBcImVsZW1lbnRcIiA6IHZhbCA9PT0gT2JqZWN0KHZhbCkgPyBcIm9iamVjdFwiIDogdHlwZW9mIHZhbDtcbn1cbmZ1bmN0aW9uIGlzUmVjb3JkJDEodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiIHx8IHR5cGVvZiB2YWx1ZSA9PSBcImZ1bmN0aW9uXCIpO1xufVxuZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRUZXh0QmxvY2sodmFsdWUpIHtcbiAgcmV0dXJuIGlzUmVjb3JkJDEodmFsdWUpICYmIHR5cGVvZiB2YWx1ZS5fdHlwZSA9PSBcInN0cmluZ1wiICYmIC8vIGJsb2NrIHR5cGVzIGNhbiBiZSBuYW1lZCwgc28gZXhwZWN0IGFueXRoaW5nIGhlcmUuXG4gIEFycmF5LmlzQXJyYXkodmFsdWUuY2hpbGRyZW4pICYmIHZhbHVlLmNoaWxkcmVuLmV2ZXJ5KChjaGlsZCkgPT4gaXNSZWNvcmQkMShjaGlsZCkpICYmIChcIm1hcmtEZWZzXCIgaW4gdmFsdWUgPyBBcnJheS5pc0FycmF5KHZhbHVlLm1hcmtEZWZzKSAmJiB2YWx1ZS5tYXJrRGVmcy5ldmVyeSgoZGVmKSA9PiBpc1JlY29yZCQxKGRlZikpIDogITApICYmIChcInN0eWxlXCIgaW4gdmFsdWUgPyB0eXBlb2YgdmFsdWUuc3R5bGUgPT0gXCJzdHJpbmdcIiA6ICEwKTtcbn1cbmZ1bmN0aW9uIGlzUG9ydGFibGVUZXh0U3Bhbih2YWx1ZSkge1xuICByZXR1cm4gaXNSZWNvcmQkMSh2YWx1ZSkgJiYgdmFsdWUuX3R5cGUgPT09IFwic3BhblwiICYmIHR5cGVvZiB2YWx1ZS50ZXh0ID09IFwic3RyaW5nXCIgJiYgKFwibWFya3NcIiBpbiB2YWx1ZSA/IEFycmF5LmlzQXJyYXkodmFsdWUubWFya3MpICYmIHZhbHVlLm1hcmtzLmV2ZXJ5KChtYXJrKSA9PiB0eXBlb2YgbWFyayA9PSBcInN0cmluZ1wiKSA6ICEwKTtcbn1cbmZ1bmN0aW9uIGlzUmVjb3JkKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgdmFsdWUgPT0gXCJmdW5jdGlvblwiKTtcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0U2NoZW1hVHlwZSh0eXBlKSB7XG4gIHJldHVybiBpc1JlY29yZCh0eXBlKSA/IHR5cGUuanNvblR5cGUgPT09IFwib2JqZWN0XCIgOiAhMTtcbn1cbmZ1bmN0aW9uIGlzQXJyYXlTY2hlbWFUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIGlzUmVjb3JkKHR5cGUpID8gdHlwZS5qc29uVHlwZSA9PT0gXCJhcnJheVwiIDogITE7XG59XG5mdW5jdGlvbiBpc1RpdGxlZExpc3RWYWx1ZShpdGVtKSB7XG4gIHJldHVybiB0eXBlb2YgaXRlbSA9PSBcIm9iamVjdFwiICYmIGl0ZW0gIT09IG51bGwgJiYgXCJ0aXRsZVwiIGluIGl0ZW0gJiYgXCJ2YWx1ZVwiIGluIGl0ZW07XG59XG5mdW5jdGlvbiBpc1NwYW5TY2hlbWFUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIGlzUmVjb3JkKHR5cGUpID8gQXJyYXkuaXNBcnJheSh0eXBlLmFubm90YXRpb25zKSAmJiBBcnJheS5pc0FycmF5KHR5cGUuZGVjb3JhdG9ycykgOiAhMTtcbn1cbmZ1bmN0aW9uIGlzQmxvY2tTY2hlbWFUeXBlKHR5cGUpIHtcbiAgaWYgKCFpc1JlY29yZCh0eXBlKSB8fCAhQXJyYXkuaXNBcnJheSh0eXBlLmZpZWxkcykpIHJldHVybiAhMTtcbiAgY29uc3QgbWF5YmVTcGFuQ2hpbGRyZW4gPSB0eXBlLmZpZWxkcy5maW5kKGlzQmxvY2tDaGlsZHJlbk9iamVjdEZpZWxkKSwgbWF5YmVTdHlsZSA9IHR5cGUuZmllbGRzLmZpbmQoaXNCbG9ja1N0eWxlT2JqZWN0RmllbGQpLCBtYXliZUxpc3QgPSB0eXBlLmZpZWxkcy5maW5kKGlzQmxvY2tMaXN0T2JqZWN0RmllbGQpO1xuICByZXR1cm4gaXNCbG9ja0NoaWxkcmVuT2JqZWN0RmllbGQobWF5YmVTcGFuQ2hpbGRyZW4pICYmIGlzQmxvY2tTdHlsZU9iamVjdEZpZWxkKG1heWJlU3R5bGUpICYmIGlzQmxvY2tMaXN0T2JqZWN0RmllbGQobWF5YmVMaXN0KTtcbn1cbmZ1bmN0aW9uIGlzQmxvY2tTdHlsZU9iamVjdEZpZWxkKGZpZWxkKSB7XG4gIHJldHVybiAhaXNSZWNvcmQoZmllbGQpIHx8IGZpZWxkLm5hbWUgIT09IFwic3R5bGVcIiA/ICExIDogaXNSZWNvcmQoZmllbGQudHlwZSkgJiYgZmllbGQudHlwZS5qc29uVHlwZSA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzQmxvY2tMaXN0T2JqZWN0RmllbGQoZmllbGQpIHtcbiAgcmV0dXJuICFpc1JlY29yZChmaWVsZCkgfHwgZmllbGQubmFtZSAhPT0gXCJsaXN0SXRlbVwiID8gITEgOiBpc1JlY29yZChmaWVsZC50eXBlKSAmJiBmaWVsZC50eXBlLmpzb25UeXBlID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNCbG9ja0NoaWxkcmVuT2JqZWN0RmllbGQoZmllbGQpIHtcbiAgcmV0dXJuICFpc1JlY29yZChmaWVsZCkgfHwgZmllbGQubmFtZSAhPT0gXCJjaGlsZHJlblwiIHx8ICFpc0FycmF5U2NoZW1hVHlwZShmaWVsZC50eXBlKSA/ICExIDogZmllbGQudHlwZS5vZi5zb21lKGlzU3BhblNjaGVtYVR5cGUpO1xufVxudmFyIHMgPSB7IDA6IDgyMDMsIDE6IDgyMDQsIDI6IDgyMDUsIDM6IDgyOTAsIDQ6IDgyOTEsIDU6IDgyODgsIDY6IDY1Mjc5LCA3OiA4Mjg5LCA4OiAxMTkxNTUsIDk6IDExOTE1NiwgYTogMTE5MTU3LCBiOiAxMTkxNTgsIGM6IDExOTE1OSwgZDogMTE5MTYwLCBlOiAxMTkxNjEsIGY6IDExOTE2MiB9LCBjID0geyAwOiA4MjAzLCAxOiA4MjA0LCAyOiA4MjA1LCAzOiA2NTI3OSB9O1xubmV3IEFycmF5KDQpLmZpbGwoU3RyaW5nLmZyb21Db2RlUG9pbnQoY1swXSkpLmpvaW4oXCJcIik7XG5PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoYykubWFwKCh0KSA9PiB0LnJldmVyc2UoKSkpO1xuT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHMpLm1hcCgodCkgPT4gdC5yZXZlcnNlKCkpKTtcbnZhciBTID0gYCR7T2JqZWN0LnZhbHVlcyhzKS5tYXAoKHQpID0+IGBcXFxcdXske3QudG9TdHJpbmcoMTYpfX1gKS5qb2luKFwiXCIpfWAsIGYgPSBuZXcgUmVnRXhwKGBbJHtTfV17NCx9YCwgXCJndVwiKTtcbmZ1bmN0aW9uIF8odCkge1xuICB2YXIgZTtcbiAgcmV0dXJuIHsgY2xlYW5lZDogdC5yZXBsYWNlKGYsIFwiXCIpLCBlbmNvZGVkOiAoKGUgPSB0Lm1hdGNoKGYpKSA9PSBudWxsID8gdm9pZCAwIDogZVswXSkgfHwgXCJcIiB9O1xufVxuZnVuY3Rpb24gTyh0KSB7XG4gIHJldHVybiB0ICYmIEpTT04ucGFyc2UoXyhKU09OLnN0cmluZ2lmeSh0KSkuY2xlYW5lZCk7XG59XG5jb25zdCBQUkVTRVJWRV9XSElURVNQQUNFX1RBR1MgPSBbXCJwcmVcIiwgXCJ0ZXh0YXJlYVwiLCBcImNvZGVcIl0sIEJMT0NLX0RFRkFVTFRfU1RZTEUgPSBcIm5vcm1hbFwiLCBERUZBVUxUX0JMT0NLID0gT2JqZWN0LmZyZWV6ZSh7XG4gIF90eXBlOiBcImJsb2NrXCIsXG4gIG1hcmtEZWZzOiBbXSxcbiAgc3R5bGU6IEJMT0NLX0RFRkFVTFRfU1RZTEVcbn0pLCBERUZBVUxUX1NQQU4gPSBPYmplY3QuZnJlZXplKHtcbiAgX3R5cGU6IFwic3BhblwiLFxuICBtYXJrczogW11cbn0pLCBIVE1MX0JMT0NLX1RBR1MgPSB7XG4gIHA6IERFRkFVTFRfQkxPQ0ssXG4gIGJsb2NrcXVvdGU6IHsgLi4uREVGQVVMVF9CTE9DSywgc3R5bGU6IFwiYmxvY2txdW90ZVwiIH1cbn0sIEhUTUxfU1BBTl9UQUdTID0ge1xuICBzcGFuOiB7IG9iamVjdDogXCJ0ZXh0XCIgfVxufSwgSFRNTF9MSVNUX0NPTlRBSU5FUl9UQUdTID0ge1xuICBvbDogeyBvYmplY3Q6IG51bGwgfSxcbiAgdWw6IHsgb2JqZWN0OiBudWxsIH1cbn0sIEhUTUxfSEVBREVSX1RBR1MgPSB7XG4gIGgxOiB7IC4uLkRFRkFVTFRfQkxPQ0ssIHN0eWxlOiBcImgxXCIgfSxcbiAgaDI6IHsgLi4uREVGQVVMVF9CTE9DSywgc3R5bGU6IFwiaDJcIiB9LFxuICBoMzogeyAuLi5ERUZBVUxUX0JMT0NLLCBzdHlsZTogXCJoM1wiIH0sXG4gIGg0OiB7IC4uLkRFRkFVTFRfQkxPQ0ssIHN0eWxlOiBcImg0XCIgfSxcbiAgaDU6IHsgLi4uREVGQVVMVF9CTE9DSywgc3R5bGU6IFwiaDVcIiB9LFxuICBoNjogeyAuLi5ERUZBVUxUX0JMT0NLLCBzdHlsZTogXCJoNlwiIH1cbn0sIEhUTUxfTUlTQ19UQUdTID0ge1xuICBicjogeyAuLi5ERUZBVUxUX0JMT0NLLCBzdHlsZTogQkxPQ0tfREVGQVVMVF9TVFlMRSB9XG59LCBIVE1MX0RFQ09SQVRPUl9UQUdTID0ge1xuICBiOiBcInN0cm9uZ1wiLFxuICBzdHJvbmc6IFwic3Ryb25nXCIsXG4gIGk6IFwiZW1cIixcbiAgZW06IFwiZW1cIixcbiAgdTogXCJ1bmRlcmxpbmVcIixcbiAgczogXCJzdHJpa2UtdGhyb3VnaFwiLFxuICBzdHJpa2U6IFwic3RyaWtlLXRocm91Z2hcIixcbiAgZGVsOiBcInN0cmlrZS10aHJvdWdoXCIsXG4gIGNvZGU6IFwiY29kZVwiLFxuICBzdXA6IFwic3VwXCIsXG4gIHN1YjogXCJzdWJcIixcbiAgaW5zOiBcImluc1wiLFxuICBtYXJrOiBcIm1hcmtcIixcbiAgc21hbGw6IFwic21hbGxcIlxufSwgSFRNTF9MSVNUX0lURU1fVEFHUyA9IHtcbiAgbGk6IHtcbiAgICAuLi5ERUZBVUxUX0JMT0NLLFxuICAgIHN0eWxlOiBCTE9DS19ERUZBVUxUX1NUWUxFLFxuICAgIGxldmVsOiAxLFxuICAgIGxpc3RJdGVtOiBcImJ1bGxldFwiXG4gIH1cbn0sIEVMRU1FTlRfTUFQID0ge1xuICAuLi5IVE1MX0JMT0NLX1RBR1MsXG4gIC4uLkhUTUxfU1BBTl9UQUdTLFxuICAuLi5IVE1MX0xJU1RfQ09OVEFJTkVSX1RBR1MsXG4gIC4uLkhUTUxfTElTVF9JVEVNX1RBR1MsXG4gIC4uLkhUTUxfSEVBREVSX1RBR1MsXG4gIC4uLkhUTUxfTUlTQ19UQUdTXG59O1xudW5pcShcbiAgT2JqZWN0LnZhbHVlcyhFTEVNRU5UX01BUCkuZmlsdGVyKCh0YWcpID0+IFwic3R5bGVcIiBpbiB0YWcpLm1hcCgodGFnKSA9PiB0YWcuc3R5bGUpXG4pO1xudW5pcShPYmplY3QudmFsdWVzKEhUTUxfREVDT1JBVE9SX1RBR1MpKTtcbmZ1bmN0aW9uIGJsb2NrQ29udGVudEZlYXR1cmVzKGJsb2NrQ29udGVudFR5cGUpIHtcbiAgdmFyIF9hLCBfYjtcbiAgaWYgKCFibG9ja0NvbnRlbnRUeXBlKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlBhcmFtZXRlciAnYmxvY2tDb250ZW50VHlwZScgcmVxdWlyZWRcIik7XG4gIGNvbnN0IGJsb2NrVHlwZSA9IGJsb2NrQ29udGVudFR5cGUub2YuZmluZChmaW5kQmxvY2tUeXBlKTtcbiAgaWYgKCFpc0Jsb2NrU2NoZW1hVHlwZShibG9ja1R5cGUpKVxuICAgIHRocm93IG5ldyBFcnJvcihcIidibG9jaycgdHlwZSBpcyBub3QgZGVmaW5lZCBpbiB0aGlzIHNjaGVtYSAocmVxdWlyZWQpLlwiKTtcbiAgY29uc3Qgb2ZUeXBlID0gKF9iID0gKF9hID0gYmxvY2tUeXBlLmZpZWxkcy5maW5kKGlzQmxvY2tDaGlsZHJlbk9iamVjdEZpZWxkKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnR5cGUpID09IG51bGwgPyB2b2lkIDAgOiBfYi5vZjtcbiAgaWYgKCFvZlR5cGUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYG9mYCBkZWNsYXJhdGlvbiBmb3VuZCBmb3IgYmxvY2tzIGBjaGlsZHJlbmAgZmllbGRcIik7XG4gIGNvbnN0IHNwYW5UeXBlID0gb2ZUeXBlLmZpbmQoKG1lbWJlcikgPT4gbWVtYmVyLm5hbWUgPT09IFwic3BhblwiKTtcbiAgaWYgKCFzcGFuVHlwZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBgc3BhbmAgdHlwZSBmb3VuZCBpbiBgYmxvY2tgIHNjaGVtYSB0eXBlIGBjaGlsZHJlbmAgZGVmaW5pdGlvblwiKTtcbiAgY29uc3QgaW5saW5lT2JqZWN0VHlwZXMgPSBvZlR5cGUuZmlsdGVyKFxuICAgIChpbmxpbmVUeXBlKSA9PiBpbmxpbmVUeXBlLm5hbWUgIT09IFwic3BhblwiICYmIGlzT2JqZWN0U2NoZW1hVHlwZShpbmxpbmVUeXBlKVxuICApLCBibG9ja09iamVjdFR5cGVzID0gYmxvY2tDb250ZW50VHlwZS5vZi5maWx0ZXIoXG4gICAgKG1lbWJlclR5cGUpID0+IG1lbWJlclR5cGUubmFtZSAhPT0gYmxvY2tUeXBlLm5hbWUgJiYgaXNPYmplY3RTY2hlbWFUeXBlKG1lbWJlclR5cGUpXG4gICk7XG4gIHJldHVybiB7XG4gICAgc3R5bGVzOiByZXNvbHZlRW5hYmxlZFN0eWxlcyhibG9ja1R5cGUpLFxuICAgIGRlY29yYXRvcnM6IHJlc29sdmVFbmFibGVkRGVjb3JhdG9ycyhzcGFuVHlwZSksXG4gICAgYW5ub3RhdGlvbnM6IHJlc29sdmVFbmFibGVkQW5ub3RhdGlvblR5cGVzKHNwYW5UeXBlKSxcbiAgICBsaXN0czogcmVzb2x2ZUVuYWJsZWRMaXN0SXRlbXMoYmxvY2tUeXBlKSxcbiAgICB0eXBlczoge1xuICAgICAgYmxvY2s6IGJsb2NrQ29udGVudFR5cGUsXG4gICAgICBzcGFuOiBzcGFuVHlwZSxcbiAgICAgIGlubGluZU9iamVjdHM6IGlubGluZU9iamVjdFR5cGVzLFxuICAgICAgYmxvY2tPYmplY3RzOiBibG9ja09iamVjdFR5cGVzXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZUVuYWJsZWRTdHlsZXMoYmxvY2tUeXBlKSB7XG4gIGNvbnN0IHN0eWxlRmllbGQgPSBibG9ja1R5cGUuZmllbGRzLmZpbmQoaXNCbG9ja1N0eWxlT2JqZWN0RmllbGQpO1xuICBpZiAoIXN0eWxlRmllbGQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQSBmaWVsZCB3aXRoIG5hbWUgJ3N0eWxlJyBpcyBub3QgZGVmaW5lZCBpbiB0aGUgYmxvY2sgdHlwZSAocmVxdWlyZWQpLlwiKTtcbiAgY29uc3QgdGV4dFN0eWxlcyA9IGdldFRpdGxlZExpc3RWYWx1ZXNGcm9tRW51bUxpc3RPcHRpb25zKHN0eWxlRmllbGQudHlwZS5vcHRpb25zKTtcbiAgaWYgKHRleHRTdHlsZXMubGVuZ3RoID09PSAwKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGhlIHN0eWxlIGZpZWxkcyBuZWVkIGF0IGxlYXN0IG9uZSBzdHlsZSBkZWZpbmVkLiBJLmU6IHt0aXRsZTogJ05vcm1hbCcsIHZhbHVlOiAnbm9ybWFsJ30uXCJcbiAgICApO1xuICByZXR1cm4gdGV4dFN0eWxlcztcbn1cbmZ1bmN0aW9uIHJlc29sdmVFbmFibGVkQW5ub3RhdGlvblR5cGVzKHNwYW5UeXBlKSB7XG4gIHJldHVybiBzcGFuVHlwZS5hbm5vdGF0aW9ucy5tYXAoKGFubm90YXRpb24pID0+ICh7XG4gICAgdGl0bGU6IGFubm90YXRpb24udGl0bGUsXG4gICAgdHlwZTogYW5ub3RhdGlvbixcbiAgICB2YWx1ZTogYW5ub3RhdGlvbi5uYW1lLFxuICAgIGljb246IGFubm90YXRpb24uaWNvblxuICB9KSk7XG59XG5mdW5jdGlvbiByZXNvbHZlRW5hYmxlZERlY29yYXRvcnMoc3BhblR5cGUpIHtcbiAgcmV0dXJuIHNwYW5UeXBlLmRlY29yYXRvcnM7XG59XG5mdW5jdGlvbiByZXNvbHZlRW5hYmxlZExpc3RJdGVtcyhibG9ja1R5cGUpIHtcbiAgY29uc3QgbGlzdEZpZWxkID0gYmxvY2tUeXBlLmZpZWxkcy5maW5kKGlzQmxvY2tMaXN0T2JqZWN0RmllbGQpO1xuICBpZiAoIWxpc3RGaWVsZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGZpZWxkIHdpdGggbmFtZSAnbGlzdCcgaXMgbm90IGRlZmluZWQgaW4gdGhlIGJsb2NrIHR5cGUgKHJlcXVpcmVkKS5cIik7XG4gIGNvbnN0IGxpc3RJdGVtcyA9IGdldFRpdGxlZExpc3RWYWx1ZXNGcm9tRW51bUxpc3RPcHRpb25zKGxpc3RGaWVsZC50eXBlLm9wdGlvbnMpO1xuICBpZiAoIWxpc3RJdGVtcylcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgbGlzdCBmaWVsZCBuZWVkIGF0IGxlYXN0IHRvIGJlIGFuIGVtcHR5IGFycmF5XCIpO1xuICByZXR1cm4gbGlzdEl0ZW1zO1xufVxuZnVuY3Rpb24gZ2V0VGl0bGVkTGlzdFZhbHVlc0Zyb21FbnVtTGlzdE9wdGlvbnMob3B0aW9ucykge1xuICBjb25zdCBsaXN0ID0gb3B0aW9ucyA/IG9wdGlvbnMubGlzdCA6IHZvaWQgMDtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkobGlzdCkgPyBsaXN0Lm1hcCgoaXRlbSkgPT4gaXNUaXRsZWRMaXN0VmFsdWUoaXRlbSkgPyBpdGVtIDogeyB0aXRsZTogaXRlbSwgdmFsdWU6IGl0ZW0gfSkgOiBbXTtcbn1cbmNvbnN0IF9YUGF0aFJlc3VsdCA9IHtcbiAgQU5ZX1RZUEU6IDAsXG4gIE5VTUJFUl9UWVBFOiAxLFxuICBTVFJJTkdfVFlQRTogMixcbiAgQk9PTEVBTl9UWVBFOiAzLFxuICBVTk9SREVSRURfTk9ERV9JVEVSQVRPUl9UWVBFOiA0LFxuICBPUkRFUkVEX05PREVfSVRFUkFUT1JfVFlQRTogNSxcbiAgVU5PUkRFUkVEX05PREVfU05BUFNIT1RfVFlQRTogNixcbiAgT1JERVJFRF9OT0RFX1NOQVBTSE9UX1RZUEU6IDcsXG4gIEFOWV9VTk9SREVSRURfTk9ERV9UWVBFOiA4LFxuICBGSVJTVF9PUkRFUkVEX05PREVfVFlQRTogOVxufTtcbnZhciBwcmVwcm9jZXNzR0RvY3MgPSAoaHRtbCwgZG9jLCBvcHRpb25zKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3Qgd2hpdGVzcGFjZU9uUGFzdGVNb2RlID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudW5zdGFibGVfd2hpdGVzcGFjZU9uUGFzdGVNb2RlKSB8fCBcInByZXNlcnZlXCI7XG4gIGxldCBnRG9jc1Jvb3RPclNpYmxpbmdOb2RlID0gZG9jLmV2YWx1YXRlKFxuICAgICcvLypbQGlkIGFuZCBjb250YWlucyhAaWQsIFwiZG9jcy1pbnRlcm5hbC1ndWlkXCIpXScsXG4gICAgZG9jLFxuICAgIG51bGwsXG4gICAgX1hQYXRoUmVzdWx0Lk9SREVSRURfTk9ERV9JVEVSQVRPUl9UWVBFLFxuICAgIG51bGxcbiAgKS5pdGVyYXRlTmV4dCgpO1xuICBpZiAoZ0RvY3NSb290T3JTaWJsaW5nTm9kZSkge1xuICAgIGNvbnN0IGlzV3JhcHBlZFJvb3RUYWcgPSB0YWdOYW1lKGdEb2NzUm9vdE9yU2libGluZ05vZGUpID09PSBcImJcIjtcbiAgICBzd2l0Y2ggKGlzV3JhcHBlZFJvb3RUYWcgfHwgKGdEb2NzUm9vdE9yU2libGluZ05vZGUgPSBkb2MuYm9keSksIHdoaXRlc3BhY2VPblBhc3RlTW9kZSkge1xuICAgICAgY2FzZSBcIm5vcm1hbGl6ZVwiOlxuICAgICAgICBub3JtYWxpemVXaGl0ZXNwYWNlKGdEb2NzUm9vdE9yU2libGluZ05vZGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZW1vdmVcIjpcbiAgICAgICAgcmVtb3ZlQWxsV2hpdGVzcGFjZShnRG9jc1Jvb3RPclNpYmxpbmdOb2RlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvbnN0IGNoaWxkTm9kZXMgPSBkb2MuZXZhbHVhdGUoXG4gICAgICBcIi8vKlwiLFxuICAgICAgZG9jLFxuICAgICAgbnVsbCxcbiAgICAgIF9YUGF0aFJlc3VsdC5VTk9SREVSRURfTk9ERV9TTkFQU0hPVF9UWVBFLFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgZm9yIChsZXQgaSA9IGNoaWxkTm9kZXMuc25hcHNob3RMZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgZWxtID0gY2hpbGROb2Rlcy5zbmFwc2hvdEl0ZW0oaSk7XG4gICAgICBlbG0gPT0gbnVsbCB8fCBlbG0uc2V0QXR0cmlidXRlKFwiZGF0YS1pcy1nb29nbGUtZG9jc1wiLCBcInRydWVcIiksICgoZWxtID09IG51bGwgPyB2b2lkIDAgOiBlbG0ucGFyZW50RWxlbWVudCkgPT09IGdEb2NzUm9vdE9yU2libGluZ05vZGUgfHwgIWlzV3JhcHBlZFJvb3RUYWcgJiYgZWxtLnBhcmVudEVsZW1lbnQgPT09IGRvYy5ib2R5KSAmJiAoZWxtID09IG51bGwgfHwgZWxtLnNldEF0dHJpYnV0ZShcImRhdGEtaXMtcm9vdC1ub2RlXCIsIFwidHJ1ZVwiKSwgdGFnTmFtZShlbG0pKSwgdGFnTmFtZShlbG0pID09PSBcImxpXCIgJiYgZWxtLmZpcnN0Q2hpbGQgJiYgdGFnTmFtZShlbG0gPT0gbnVsbCA/IHZvaWQgMCA6IGVsbS5maXJzdENoaWxkKSA9PT0gXCJpbWdcIiAmJiBlbG0ucmVtb3ZlQ2hpbGQoZWxtLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICByZXR1cm4gaXNXcmFwcGVkUm9vdFRhZyAmJiAoKF9hID0gZG9jLmJvZHkuZmlyc3RFbGVtZW50Q2hpbGQpID09IG51bGwgfHwgX2EucmVwbGFjZVdpdGgoLi4uQXJyYXkuZnJvbShnRG9jc1Jvb3RPclNpYmxpbmdOb2RlLmNoaWxkTm9kZXMpKSksIGRvYztcbiAgfVxuICByZXR1cm4gZG9jO1xufTtcbmNvbnN0IHVud2FudGVkV29yZERvY3VtZW50UGF0aHMgPSBbXG4gIFwiL2h0bWwvdGV4dCgpXCIsXG4gIFwiL2h0bWwvaGVhZC90ZXh0KClcIixcbiAgXCIvaHRtbC9ib2R5L3RleHQoKVwiLFxuICBcIi9odG1sL2JvZHkvdWwvdGV4dCgpXCIsXG4gIFwiL2h0bWwvYm9keS9vbC90ZXh0KClcIixcbiAgXCIvL2NvbW1lbnQoKVwiLFxuICBcIi8vc3R5bGVcIixcbiAgXCIvL3htbFwiLFxuICBcIi8vc2NyaXB0XCIsXG4gIFwiLy9tZXRhXCIsXG4gIFwiLy9saW5rXCJcbl07XG52YXIgcHJlcHJvY2Vzc0hUTUwgPSAoaHRtbCwgZG9jKSA9PiB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCBib2R5VGV4dE5vZGVzID0gZG9jLmV2YWx1YXRlKFxuICAgIFwiL2h0bWwvYm9keS90ZXh0KClcIixcbiAgICBkb2MsXG4gICAgbnVsbCxcbiAgICBfWFBhdGhSZXN1bHQuVU5PUkRFUkVEX05PREVfU05BUFNIT1RfVFlQRSxcbiAgICBudWxsXG4gICk7XG4gIGZvciAobGV0IGkgPSBib2R5VGV4dE5vZGVzLnNuYXBzaG90TGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBub2RlID0gYm9keVRleHROb2Rlcy5zbmFwc2hvdEl0ZW0oaSksIHRleHQgPSBub2RlLnRleHRDb250ZW50IHx8IFwiXCI7XG4gICAgaWYgKHRleHQucmVwbGFjZSgvW15cXFNcXG5dKyQvZywgXCJcIikpIHtcbiAgICAgIGNvbnN0IG5ld05vZGUgPSBkb2MuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICBuZXdOb2RlLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSksIChfYSA9IG5vZGUucGFyZW50Tm9kZSkgPT0gbnVsbCB8fCBfYS5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgbm9kZSk7XG4gICAgfSBlbHNlXG4gICAgICAoX2IgPSBub2RlLnBhcmVudE5vZGUpID09IG51bGwgfHwgX2IucmVtb3ZlQ2hpbGQobm9kZSk7XG4gIH1cbiAgY29uc3QgdW53YW50ZWROb2RlcyA9IGRvYy5ldmFsdWF0ZShcbiAgICB1bndhbnRlZFdvcmREb2N1bWVudFBhdGhzLmpvaW4oXCJ8XCIpLFxuICAgIGRvYyxcbiAgICBudWxsLFxuICAgIF9YUGF0aFJlc3VsdC5VTk9SREVSRURfTk9ERV9TTkFQU0hPVF9UWVBFLFxuICAgIG51bGxcbiAgKTtcbiAgZm9yIChsZXQgaSA9IHVud2FudGVkTm9kZXMuc25hcHNob3RMZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHVud2FudGVkID0gdW53YW50ZWROb2Rlcy5zbmFwc2hvdEl0ZW0oaSk7XG4gICAgdW53YW50ZWQgJiYgKChfYyA9IHVud2FudGVkLnBhcmVudE5vZGUpID09IG51bGwgfHwgX2MucmVtb3ZlQ2hpbGQodW53YW50ZWQpKTtcbiAgfVxuICByZXR1cm4gZG9jO1xufSwgcHJlcHJvY2Vzc05vdGlvbiA9IChodG1sLCBkb2MpID0+IHtcbiAgY29uc3QgTk9USU9OX1JFR0VYID0gLzwhLS0gbm90aW9udmM6Lio/LS0+L2c7XG4gIGlmIChodG1sLm1hdGNoKE5PVElPTl9SRUdFWCkpIHtcbiAgICBjb25zdCBjaGlsZE5vZGVzID0gZG9jLmV2YWx1YXRlKFxuICAgICAgXCIvLypcIixcbiAgICAgIGRvYyxcbiAgICAgIG51bGwsXG4gICAgICBfWFBhdGhSZXN1bHQuVU5PUkRFUkVEX05PREVfU05BUFNIT1RfVFlQRSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIGZvciAobGV0IGkgPSBjaGlsZE5vZGVzLnNuYXBzaG90TGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGVsbSA9IGNoaWxkTm9kZXMuc25hcHNob3RJdGVtKGkpO1xuICAgICAgZWxtID09IG51bGwgfHwgZWxtLnNldEF0dHJpYnV0ZShcImRhdGEtaXMtbm90aW9uXCIsIFwidHJ1ZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGRvYztcbiAgfVxuICByZXR1cm4gZG9jO1xufSwgcHJlcHJvY2Vzc1doaXRlc3BhY2UgPSAoXzIsIGRvYykgPT4ge1xuICBmdW5jdGlvbiBwcm9jZXNzTm9kZShub2RlKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gX1hQYXRoUmVzdWx0LkJPT0xFQU5fVFlQRSAmJiAhUFJFU0VSVkVfV0hJVEVTUEFDRV9UQUdTLmluY2x1ZGVzKCgoX2EgPSBub2RlLnBhcmVudEVsZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHx8IFwiXCIpKVxuICAgICAgbm9kZS50ZXh0Q29udGVudCA9ICgoX2IgPSBub2RlLnRleHRDb250ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IucmVwbGFjZSgvXFxzXFxzKy9nLCBcIiBcIikucmVwbGFjZSgvW1xcclxcbl0rL2csIFwiIFwiKSkgfHwgXCJcIjtcbiAgICBlbHNlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgcHJvY2Vzc05vZGUobm9kZS5jaGlsZE5vZGVzW2ldKTtcbiAgfVxuICByZXR1cm4gcHJvY2Vzc05vZGUoZG9jLmJvZHkpLCBkb2M7XG59O1xuY29uc3QgV09SRF9IVE1MX1JFR0VYID0gLyhjbGFzcz1cIj9Nc298c3R5bGU9KD86XCJ8JylbXlwiXSo/XFxibXNvLXx3OldvcmREb2N1bWVudHw8bzpcXHcrPnw8XFwvZm9udD4pLywgdW53YW50ZWRQYXRocyA9IFtcbiAgXCIvL286cFwiLFxuICBcIi8vc3BhbltAc3R5bGU9J21zby1saXN0Oklnbm9yZSddXCIsXG4gIFwiLy9zcGFuW0BzdHlsZT0nbXNvLWxpc3Q6IElnbm9yZSddXCJcbl0sIG1hcHBlZFBhdGhzID0gW1xuICBcIi8vcFtAY2xhc3M9J01zb1RvY0hlYWRpbmcnXVwiLFxuICBcIi8vcFtAY2xhc3M9J01zb1RpdGxlJ11cIixcbiAgXCIvL3BbQGNsYXNzPSdNc29Ub2FIZWFkaW5nJ11cIixcbiAgXCIvL3BbQGNsYXNzPSdNc29TdWJ0aXRsZSddXCIsXG4gIFwiLy9zcGFuW0BjbGFzcz0nTXNvU3VidGxlRW1waGFzaXMnXVwiLFxuICBcIi8vc3BhbltAY2xhc3M9J01zb0ludGVuc2VFbXBoYXNpcyddXCJcbl0sIGVsZW1lbnRNYXAgPSB7XG4gIE1zb1RvY0hlYWRpbmc6IFtcImgzXCJdLFxuICBNc29UaXRsZTogW1wiaDFcIl0sXG4gIE1zb1RvYUhlYWRpbmc6IFtcImgyXCJdLFxuICBNc29TdWJ0aXRsZTogW1wiaDVcIl0sXG4gIE1zb1N1YnRsZUVtcGhhc2lzOiBbXCJzcGFuXCIsIFwiZW1cIl0sXG4gIE1zb0ludGVuc2VFbXBoYXNpczogW1wic3BhblwiLCBcImVtXCIsIFwic3Ryb25nXCJdXG4gIC8vIFJlbW92ZSBjcnVmdFxufTtcbmZ1bmN0aW9uIGlzV29yZEh0bWwoaHRtbCkge1xuICByZXR1cm4gV09SRF9IVE1MX1JFR0VYLnRlc3QoaHRtbCk7XG59XG52YXIgcHJlcHJvY2Vzc1dvcmQgPSAoaHRtbCwgZG9jKSA9PiB7XG4gIHZhciBfYTtcbiAgaWYgKCFpc1dvcmRIdG1sKGh0bWwpKVxuICAgIHJldHVybiBkb2M7XG4gIGNvbnN0IHVud2FudGVkTm9kZXMgPSBkb2MuZXZhbHVhdGUoXG4gICAgdW53YW50ZWRQYXRocy5qb2luKFwifFwiKSxcbiAgICBkb2MsXG4gICAgKHByZWZpeCkgPT4gcHJlZml4ID09PSBcIm9cIiA/IFwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6b2ZmaWNlXCIgOiBudWxsLFxuICAgIF9YUGF0aFJlc3VsdC5VTk9SREVSRURfTk9ERV9TTkFQU0hPVF9UWVBFLFxuICAgIG51bGxcbiAgKTtcbiAgZm9yIChsZXQgaSA9IHVud2FudGVkTm9kZXMuc25hcHNob3RMZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHVud2FudGVkID0gdW53YW50ZWROb2Rlcy5zbmFwc2hvdEl0ZW0oaSk7XG4gICAgdW53YW50ZWQgIT0gbnVsbCAmJiB1bndhbnRlZC5wYXJlbnROb2RlICYmIHVud2FudGVkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodW53YW50ZWQpO1xuICB9XG4gIGNvbnN0IG1hcHBlZEVsZW1lbnRzID0gZG9jLmV2YWx1YXRlKFxuICAgIG1hcHBlZFBhdGhzLmpvaW4oXCJ8XCIpLFxuICAgIGRvYyxcbiAgICBudWxsLFxuICAgIF9YUGF0aFJlc3VsdC5VTk9SREVSRURfTk9ERV9TTkFQU0hPVF9UWVBFLFxuICAgIG51bGxcbiAgKTtcbiAgZm9yIChsZXQgaSA9IG1hcHBlZEVsZW1lbnRzLnNuYXBzaG90TGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBtYXBwZWRFbG0gPSBtYXBwZWRFbGVtZW50cy5zbmFwc2hvdEl0ZW0oaSksIHRhZ3MgPSBlbGVtZW50TWFwW21hcHBlZEVsbS5jbGFzc05hbWVdLCB0ZXh0ID0gbmV3IFRleHQobWFwcGVkRWxtLnRleHRDb250ZW50IHx8IFwiXCIpO1xuICAgIGlmICghdGFncylcbiAgICAgIGNvbnRpbnVlO1xuICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ3NbMF0pO1xuICAgIGxldCBwYXJlbnQgPSBwYXJlbnRFbGVtZW50LCBjaGlsZCA9IHBhcmVudEVsZW1lbnQ7XG4gICAgdGFncy5zbGljZSgxKS5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgIGNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpLCBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpLCBwYXJlbnQgPSBjaGlsZDtcbiAgICB9KSwgY2hpbGQuYXBwZW5kQ2hpbGQodGV4dCksIChfYSA9IG1hcHBlZEVsbSA9PSBudWxsID8gdm9pZCAwIDogbWFwcGVkRWxtLnBhcmVudE5vZGUpID09IG51bGwgfHwgX2EucmVwbGFjZUNoaWxkKHBhcmVudEVsZW1lbnQsIG1hcHBlZEVsbSk7XG4gIH1cbiAgcmV0dXJuIGRvYztcbn0sIHByZXByb2Nlc3NvcnMgPSBbXG4gIHByZXByb2Nlc3NXaGl0ZXNwYWNlLFxuICBwcmVwcm9jZXNzTm90aW9uLFxuICBwcmVwcm9jZXNzV29yZCxcbiAgcHJlcHJvY2Vzc0dEb2NzLFxuICBwcmVwcm9jZXNzSFRNTFxuXTtcbmZ1bmN0aW9uIGNyZWF0ZVJ1bGVPcHRpb25zKGJsb2NrQ29udGVudFR5cGUpIHtcbiAgY29uc3QgZmVhdHVyZXMgPSBibG9ja0NvbnRlbnRGZWF0dXJlcyhibG9ja0NvbnRlbnRUeXBlKSwgZW5hYmxlZEJsb2NrU3R5bGVzID0gZmVhdHVyZXMuc3R5bGVzLm1hcCgoaXRlbSkgPT4gaXRlbS52YWx1ZSB8fCBpdGVtLnRpdGxlKSwgZW5hYmxlZFNwYW5EZWNvcmF0b3JzID0gZmVhdHVyZXMuZGVjb3JhdG9ycy5tYXAoKGl0ZW0pID0+IGl0ZW0udmFsdWUgfHwgaXRlbS50aXRsZSksIGVuYWJsZWRCbG9ja0Fubm90YXRpb25zID0gZmVhdHVyZXMuYW5ub3RhdGlvbnMubWFwKChpdGVtKSA9PiBpdGVtLnZhbHVlIHx8IGl0ZW0udGl0bGUgfHwgXCJcIiksIGVuYWJsZWRMaXN0VHlwZXMgPSBmZWF0dXJlcy5saXN0cy5tYXAoKGl0ZW0pID0+IGl0ZW0udmFsdWUgfHwgaXRlbS50aXRsZSB8fCBcIlwiKTtcbiAgcmV0dXJuIHtcbiAgICBlbmFibGVkQmxvY2tTdHlsZXMsXG4gICAgZW5hYmxlZFNwYW5EZWNvcmF0b3JzLFxuICAgIGVuYWJsZWRCbG9ja0Fubm90YXRpb25zLFxuICAgIGVuYWJsZWRMaXN0VHlwZXNcbiAgfTtcbn1cbmZ1bmN0aW9uIHRhZ05hbWUoZWwpIHtcbiAgaWYgKGVsICYmIFwidGFnTmFtZVwiIGluIGVsKVxuICAgIHJldHVybiBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBwcmVwcm9jZXNzKGh0bWwsIHBhcnNlSHRtbCwgb3B0aW9ucykge1xuICBjb25zdCBjbGVhbkhUTUwgPSBPKGh0bWwpLCBkb2MgPSBwYXJzZUh0bWwobm9ybWFsaXplSHRtbEJlZm9yZVByZXByb2Nlc3MoY2xlYW5IVE1MKSk7XG4gIHJldHVybiBwcmVwcm9jZXNzb3JzLmZvckVhY2goKHByb2Nlc3NvcikgPT4ge1xuICAgIHByb2Nlc3NvcihjbGVhbkhUTUwsIGRvYywgb3B0aW9ucyk7XG4gIH0pLCBkb2M7XG59XG5mdW5jdGlvbiBub3JtYWxpemVIdG1sQmVmb3JlUHJlcHJvY2VzcyhodG1sKSB7XG4gIHJldHVybiBodG1sLnRyaW0oKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRQYXJzZUh0bWwoKSB7XG4gIGlmIChyZXNvbHZlSnNUeXBlKERPTVBhcnNlcikgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGUgbmF0aXZlIGBET01QYXJzZXJgIGdsb2JhbCB3aGljaCB0aGUgYEh0bWxgIGRlc2VyaWFsaXplciB1c2VzIGJ5IGRlZmF1bHQgaXMgbm90IHByZXNlbnQgaW4gdGhpcyBlbnZpcm9ubWVudC4gWW91IG11c3Qgc3VwcGx5IHRoZSBgb3B0aW9ucy5wYXJzZUh0bWxgIGZ1bmN0aW9uIGluc3RlYWQuXCJcbiAgICApO1xuICByZXR1cm4gKGh0bWwpID0+IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoaHRtbCwgXCJ0ZXh0L2h0bWxcIik7XG59XG5mdW5jdGlvbiBmbGF0dGVuTmVzdGVkQmxvY2tzKGJsb2NrczIpIHtcbiAgbGV0IGRlcHRoID0gMDtcbiAgY29uc3QgZmxhdHRlbmVkID0gW10sIHRyYXZlcnNlID0gKG5vZGVzKSA9PiB7XG4gICAgY29uc3QgdG9SZW1vdmUgPSBbXTtcbiAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICBkZXB0aCA9PT0gMCAmJiBmbGF0dGVuZWQucHVzaChub2RlKSwgaXNQb3J0YWJsZVRleHRUZXh0QmxvY2sobm9kZSkgJiYgKGRlcHRoID4gMCAmJiAodG9SZW1vdmUucHVzaChub2RlKSwgZmxhdHRlbmVkLnB1c2gobm9kZSkpLCBkZXB0aCsrLCB0cmF2ZXJzZShub2RlLmNoaWxkcmVuKSksIG5vZGUuX3R5cGUgPT09IFwiX19ibG9ja1wiICYmICh0b1JlbW92ZS5wdXNoKG5vZGUpLCBmbGF0dGVuZWQucHVzaChub2RlLmJsb2NrKSk7XG4gICAgfSksIHRvUmVtb3ZlLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgIG5vZGVzLnNwbGljZShub2Rlcy5pbmRleE9mKG5vZGUpLCAxKTtcbiAgICB9KSwgZGVwdGgtLTtcbiAgfTtcbiAgcmV0dXJuIHRyYXZlcnNlKGJsb2NrczIpLCBmbGF0dGVuZWQ7XG59XG5mdW5jdGlvbiBuZXh0U3BhbihibG9jaywgaW5kZXgpIHtcbiAgY29uc3QgbmV4dCA9IGJsb2NrLmNoaWxkcmVuW2luZGV4ICsgMV07XG4gIHJldHVybiBuZXh0ICYmIG5leHQuX3R5cGUgPT09IFwic3BhblwiID8gbmV4dCA6IG51bGw7XG59XG5mdW5jdGlvbiBwcmV2U3BhbihibG9jaywgaW5kZXgpIHtcbiAgY29uc3QgcHJldiA9IGJsb2NrLmNoaWxkcmVuW2luZGV4IC0gMV07XG4gIHJldHVybiBwcmV2ICYmIHByZXYuX3R5cGUgPT09IFwic3BhblwiID8gcHJldiA6IG51bGw7XG59XG5mdW5jdGlvbiBpc1doaXRlU3BhY2VDaGFyKHRleHQpIHtcbiAgcmV0dXJuIFtcIlxceEEwXCIsIFwiIFwiXS5pbmNsdWRlcyh0ZXh0KTtcbn1cbmZ1bmN0aW9uIHRyaW1XaGl0ZXNwYWNlKGJsb2NrczIpIHtcbiAgcmV0dXJuIGJsb2NrczIuZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICBpc1BvcnRhYmxlVGV4dFRleHRCbG9jayhibG9jaykgJiYgYmxvY2suY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoIWlzTWluaW1hbFNwYW4oY2hpbGQpKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBuZXh0Q2hpbGQgPSBuZXh0U3BhbihibG9jaywgaW5kZXgpLCBwcmV2Q2hpbGQgPSBwcmV2U3BhbihibG9jaywgaW5kZXgpO1xuICAgICAgaW5kZXggPT09IDAgJiYgKGNoaWxkLnRleHQgPSBjaGlsZC50ZXh0LnJlcGxhY2UoL15bXlxcU1xcbl0rL2csIFwiXCIpKSwgaW5kZXggPT09IGJsb2NrLmNoaWxkcmVuLmxlbmd0aCAtIDEgJiYgKGNoaWxkLnRleHQgPSBjaGlsZC50ZXh0LnJlcGxhY2UoL1teXFxTXFxuXSskL2csIFwiXCIpKSwgL1xccy8udGVzdChjaGlsZC50ZXh0LnNsaWNlKE1hdGgubWF4KDAsIGNoaWxkLnRleHQubGVuZ3RoIC0gMSkpKSAmJiBuZXh0Q2hpbGQgJiYgaXNNaW5pbWFsU3BhbihuZXh0Q2hpbGQpICYmIC9cXHMvLnRlc3QobmV4dENoaWxkLnRleHQuc2xpY2UoMCwgMSkpICYmIChjaGlsZC50ZXh0ID0gY2hpbGQudGV4dC5yZXBsYWNlKC9bXlxcU1xcbl0rJC9nLCBcIlwiKSksIC9cXHMvLnRlc3QoY2hpbGQudGV4dC5zbGljZSgwLCAxKSkgJiYgcHJldkNoaWxkICYmIGlzTWluaW1hbFNwYW4ocHJldkNoaWxkKSAmJiAvXFxzLy50ZXN0KHByZXZDaGlsZC50ZXh0LnNsaWNlKE1hdGgubWF4KDAsIHByZXZDaGlsZC50ZXh0Lmxlbmd0aCAtIDEpKSkgJiYgKGNoaWxkLnRleHQgPSBjaGlsZC50ZXh0LnJlcGxhY2UoL15bXlxcU1xcbl0rL2csIFwiXCIpKSwgY2hpbGQudGV4dCB8fCBibG9jay5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpLCBwcmV2Q2hpbGQgJiYgaXNFcXVhbChwcmV2Q2hpbGQubWFya3MsIGNoaWxkLm1hcmtzKSAmJiBpc1doaXRlU3BhY2VDaGFyKGNoaWxkLnRleHQpID8gKHByZXZDaGlsZC50ZXh0ICs9IFwiIFwiLCBibG9jay5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpKSA6IG5leHRDaGlsZCAmJiBpc0VxdWFsKG5leHRDaGlsZC5tYXJrcywgY2hpbGQubWFya3MpICYmIGlzV2hpdGVTcGFjZUNoYXIoY2hpbGQudGV4dCkgJiYgKG5leHRDaGlsZC50ZXh0ID0gYCAke25leHRDaGlsZC50ZXh0fWAsIGJsb2NrLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSkpO1xuICAgIH0pO1xuICB9KSwgYmxvY2tzMjtcbn1cbmZ1bmN0aW9uIGVuc3VyZVJvb3RJc0Jsb2NrcyhibG9ja3MyKSB7XG4gIHJldHVybiBibG9ja3MyLnJlZHVjZSgobWVtbywgbm9kZSwgaSwgb3JpZ2luYWwpID0+IHtcbiAgICBpZiAobm9kZS5fdHlwZSA9PT0gXCJibG9ja1wiKVxuICAgICAgcmV0dXJuIG1lbW8ucHVzaChub2RlKSwgbWVtbztcbiAgICBpZiAobm9kZS5fdHlwZSA9PT0gXCJfX2Jsb2NrXCIpXG4gICAgICByZXR1cm4gbWVtby5wdXNoKG5vZGUuYmxvY2spLCBtZW1vO1xuICAgIGNvbnN0IGxhc3RCbG9jayA9IG1lbW9bbWVtby5sZW5ndGggLSAxXTtcbiAgICBpZiAoaSA+IDAgJiYgIWlzUG9ydGFibGVUZXh0VGV4dEJsb2NrKG9yaWdpbmFsW2kgLSAxXSkgJiYgaXNQb3J0YWJsZVRleHRUZXh0QmxvY2sobGFzdEJsb2NrKSlcbiAgICAgIHJldHVybiBsYXN0QmxvY2suY2hpbGRyZW4ucHVzaChub2RlKSwgbWVtbztcbiAgICBjb25zdCBibG9jayA9IHtcbiAgICAgIC4uLkRFRkFVTFRfQkxPQ0ssXG4gICAgICBjaGlsZHJlbjogW25vZGVdXG4gICAgfTtcbiAgICByZXR1cm4gbWVtby5wdXNoKGJsb2NrKSwgbWVtbztcbiAgfSwgW10pO1xufVxuZnVuY3Rpb24gaXNOb2RlTGlzdChub2RlKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobm9kZSkgPT0gXCJbb2JqZWN0IE5vZGVMaXN0XVwiO1xufVxuZnVuY3Rpb24gaXNNaW5pbWFsU3Bhbihub2RlKSB7XG4gIHJldHVybiBub2RlLl90eXBlID09PSBcInNwYW5cIjtcbn1cbmZ1bmN0aW9uIGlzTWluaW1hbEJsb2NrKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuX3R5cGUgPT09IFwiYmxvY2tcIjtcbn1cbmZ1bmN0aW9uIGlzUGxhY2Vob2xkZXJEZWNvcmF0b3Iobm9kZSkge1xuICByZXR1cm4gbm9kZS5fdHlwZSA9PT0gXCJfX2RlY29yYXRvclwiO1xufVxuZnVuY3Rpb24gaXNQbGFjZWhvbGRlckFubm90YXRpb24obm9kZSkge1xuICByZXR1cm4gbm9kZS5fdHlwZSA9PT0gXCJfX2Fubm90YXRpb25cIjtcbn1cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XG4gIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAxO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplV2hpdGVzcGFjZShyb290Tm9kZSkge1xuICBsZXQgZW1wdHlCbG9ja0NvdW50ID0gMCwgbGFzdFBhcmVudCA9IG51bGw7XG4gIGNvbnN0IG5vZGVzVG9SZW1vdmUgPSBbXTtcbiAgZm9yIChsZXQgY2hpbGQgPSByb290Tm9kZS5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgIGlmICghaXNFbGVtZW50KGNoaWxkKSkge1xuICAgICAgbm9ybWFsaXplV2hpdGVzcGFjZShjaGlsZCksIGVtcHR5QmxvY2tDb3VudCA9IDA7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgZWxtID0gY2hpbGQ7XG4gICAgaXNXaGl0ZXNwYWNlQmxvY2soZWxtKSA/IChsYXN0UGFyZW50ICYmIGVsbS5wYXJlbnRFbGVtZW50ID09PSBsYXN0UGFyZW50ID8gKGVtcHR5QmxvY2tDb3VudCsrLCBlbXB0eUJsb2NrQ291bnQgPiAxICYmIG5vZGVzVG9SZW1vdmUucHVzaChlbG0pKSA6IGVtcHR5QmxvY2tDb3VudCA9IDEsIGxhc3RQYXJlbnQgPSBlbG0ucGFyZW50RWxlbWVudCkgOiAobm9ybWFsaXplV2hpdGVzcGFjZShjaGlsZCksIGVtcHR5QmxvY2tDb3VudCA9IDApO1xuICB9XG4gIG5vZGVzVG9SZW1vdmUuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gbm9kZS5wYXJlbnRFbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVtb3ZlQ2hpbGQobm9kZSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gcmVtb3ZlQWxsV2hpdGVzcGFjZShyb290Tm9kZSkge1xuICBjb25zdCBub2Rlc1RvUmVtb3ZlID0gW107XG4gIGZ1bmN0aW9uIGNvbGxlY3ROb2Rlc1RvUmVtb3ZlKGN1cnJlbnROb2RlKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAoaXNFbGVtZW50KGN1cnJlbnROb2RlKSkge1xuICAgICAgY29uc3QgZWxtID0gY3VycmVudE5vZGU7XG4gICAgICBpZiAodGFnTmFtZShlbG0pID09PSBcImJyXCIgJiYgKHRhZ05hbWUoZWxtLm5leHRFbGVtZW50U2libGluZykgPT09IFwicFwiIHx8IHRhZ05hbWUoZWxtLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpID09PSBcInBcIikpIHtcbiAgICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKGVsbSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnTmFtZShlbG0pID09PSBcInBcIiB8fCB0YWdOYW1lKGVsbSkgPT09IFwiYnJcIikgJiYgKChfYiA9IChfYSA9IGVsbSA9PSBudWxsID8gdm9pZCAwIDogZWxtLmZpcnN0Q2hpbGQpID09IG51bGwgPyB2b2lkIDAgOiBfYS50ZXh0Q29udGVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRyaW0oKSkgPT09IFwiXCIpIHtcbiAgICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKGVsbSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGNoaWxkID0gZWxtLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKVxuICAgICAgICBjb2xsZWN0Tm9kZXNUb1JlbW92ZShjaGlsZCk7XG4gICAgfVxuICB9XG4gIGNvbGxlY3ROb2Rlc1RvUmVtb3ZlKHJvb3ROb2RlKSwgbm9kZXNUb1JlbW92ZS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBub2RlLnBhcmVudEVsZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZChub2RlKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBpc1doaXRlc3BhY2VCbG9jayhlbG0pIHtcbiAgdmFyIF9hO1xuICByZXR1cm4gW1wicFwiLCBcImJyXCJdLmluY2x1ZGVzKHRhZ05hbWUoZWxtKSB8fCBcIlwiKSAmJiAhKChfYSA9IGVsbS50ZXh0Q29udGVudCkgIT0gbnVsbCAmJiBfYS50cmltKCkpO1xufVxuY29uc3QgTElTVF9DT05UQUlORVJfVEFHUyA9IE9iamVjdC5rZXlzKEhUTUxfTElTVF9DT05UQUlORVJfVEFHUyk7XG5mdW5jdGlvbiBpc0VtcGhhc2lzJDEoZWwpIHtcbiAgY29uc3Qgc3R5bGUgPSBpc0VsZW1lbnQoZWwpICYmIGVsLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICByZXR1cm4gL2ZvbnQtc3R5bGVcXHMqOlxccyppdGFsaWMvLnRlc3Qoc3R5bGUgfHwgXCJcIik7XG59XG5mdW5jdGlvbiBpc1N0cm9uZyQxKGVsKSB7XG4gIGNvbnN0IHN0eWxlID0gaXNFbGVtZW50KGVsKSAmJiBlbC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgcmV0dXJuIC9mb250LXdlaWdodFxccyo6XFxzKjcwMC8udGVzdChzdHlsZSB8fCBcIlwiKTtcbn1cbmZ1bmN0aW9uIGlzVW5kZXJsaW5lJDEoZWwpIHtcbiAgaWYgKCFpc0VsZW1lbnQoZWwpIHx8IHRhZ05hbWUoZWwucGFyZW50Tm9kZSkgPT09IFwiYVwiKVxuICAgIHJldHVybiAhMTtcbiAgY29uc3Qgc3R5bGUgPSBpc0VsZW1lbnQoZWwpICYmIGVsLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICByZXR1cm4gL3RleHQtZGVjb3JhdGlvblxccyo6XFxzKnVuZGVybGluZS8udGVzdChzdHlsZSB8fCBcIlwiKTtcbn1cbmZ1bmN0aW9uIGlzU3RyaWtldGhyb3VnaChlbCkge1xuICBjb25zdCBzdHlsZSA9IGlzRWxlbWVudChlbCkgJiYgZWwuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7XG4gIHJldHVybiAvdGV4dC1kZWNvcmF0aW9uXFxzKjpcXHMqKD86LipsaW5lLXRocm91Z2guKjspLy50ZXN0KHN0eWxlIHx8IFwiXCIpO1xufVxuZnVuY3Rpb24gaXNHb29nbGVEb2NzKGVsKSB7XG4gIHJldHVybiBpc0VsZW1lbnQoZWwpICYmICEhZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1pcy1nb29nbGUtZG9jc1wiKTtcbn1cbmZ1bmN0aW9uIGlzUm9vdE5vZGUoZWwpIHtcbiAgcmV0dXJuIGlzRWxlbWVudChlbCkgJiYgISFlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlzLXJvb3Qtbm9kZVwiKTtcbn1cbmZ1bmN0aW9uIGdldExpc3RJdGVtU3R5bGUkMShlbCkge1xuICBjb25zdCBwYXJlbnRUYWcgPSB0YWdOYW1lKGVsLnBhcmVudE5vZGUpO1xuICBpZiAoIShwYXJlbnRUYWcgJiYgIUxJU1RfQ09OVEFJTkVSX1RBR1MuaW5jbHVkZXMocGFyZW50VGFnKSkpXG4gICAgcmV0dXJuIHRhZ05hbWUoZWwucGFyZW50Tm9kZSkgPT09IFwidWxcIiA/IFwiYnVsbGV0XCIgOiBcIm51bWJlclwiO1xufVxuZnVuY3Rpb24gZ2V0TGlzdEl0ZW1MZXZlbCQxKGVsKSB7XG4gIGxldCBsZXZlbCA9IDA7XG4gIGlmICh0YWdOYW1lKGVsKSA9PT0gXCJsaVwiKSB7XG4gICAgbGV0IHBhcmVudE5vZGUgPSBlbC5wYXJlbnROb2RlO1xuICAgIGZvciAoOyBwYXJlbnROb2RlOyApIHtcbiAgICAgIGNvbnN0IHBhcmVudFRhZyA9IHRhZ05hbWUocGFyZW50Tm9kZSk7XG4gICAgICBwYXJlbnRUYWcgJiYgTElTVF9DT05UQUlORVJfVEFHUy5pbmNsdWRlcyhwYXJlbnRUYWcpICYmIGxldmVsKyssIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICB9IGVsc2VcbiAgICBsZXZlbCA9IDE7XG4gIHJldHVybiBsZXZlbDtcbn1cbmNvbnN0IGJsb2NrcyA9IHtcbiAgLi4uSFRNTF9CTE9DS19UQUdTLFxuICAuLi5IVE1MX0hFQURFUl9UQUdTXG59O1xuZnVuY3Rpb24gZ2V0QmxvY2tTdHlsZShlbCwgZW5hYmxlZEJsb2NrU3R5bGVzKSB7XG4gIGNvbnN0IGNoaWxkVGFnID0gdGFnTmFtZShlbC5maXJzdENoaWxkKSwgYmxvY2sgPSBjaGlsZFRhZyAmJiBibG9ja3NbY2hpbGRUYWddO1xuICByZXR1cm4gYmxvY2sgJiYgZW5hYmxlZEJsb2NrU3R5bGVzLmluY2x1ZGVzKGJsb2NrLnN0eWxlKSA/IGJsb2NrLnN0eWxlIDogQkxPQ0tfREVGQVVMVF9TVFlMRTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUdEb2NzUnVsZXMoX2Jsb2NrQ29udGVudFR5cGUsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBkZXNlcmlhbGl6ZShlbCkge1xuICAgICAgICBpZiAoaXNFbGVtZW50KGVsKSAmJiB0YWdOYW1lKGVsKSA9PT0gXCJzcGFuXCIgJiYgaXNHb29nbGVEb2NzKGVsKSkge1xuICAgICAgICAgIGNvbnN0IHNwYW4gPSB7XG4gICAgICAgICAgICAuLi5ERUZBVUxUX1NQQU4sXG4gICAgICAgICAgICBtYXJrczogW10sXG4gICAgICAgICAgICB0ZXh0OiBlbC50ZXh0Q29udGVudFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGlzU3Ryb25nJDEoZWwpICYmIHNwYW4ubWFya3MucHVzaChcInN0cm9uZ1wiKSwgaXNVbmRlcmxpbmUkMShlbCkgJiYgc3Bhbi5tYXJrcy5wdXNoKFwidW5kZXJsaW5lXCIpLCBpc1N0cmlrZXRocm91Z2goZWwpICYmIHNwYW4ubWFya3MucHVzaChcInN0cmlrZS10aHJvdWdoXCIpLCBpc0VtcGhhc2lzJDEoZWwpICYmIHNwYW4ubWFya3MucHVzaChcImVtXCIpLCBzcGFuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBkZXNlcmlhbGl6ZShlbCwgbmV4dCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0YWdOYW1lKGVsKSA9PT0gXCJsaVwiICYmIGlzR29vZ2xlRG9jcyhlbCkpXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLkRFRkFVTFRfQkxPQ0ssXG4gICAgICAgICAgICBsaXN0SXRlbTogZ2V0TGlzdEl0ZW1TdHlsZSQxKGVsKSxcbiAgICAgICAgICAgIGxldmVsOiBnZXRMaXN0SXRlbUxldmVsJDEoZWwpLFxuICAgICAgICAgICAgc3R5bGU6IGdldEJsb2NrU3R5bGUoZWwsIG9wdGlvbnMuZW5hYmxlZEJsb2NrU3R5bGVzKSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBuZXh0KCgoX2EgPSBlbC5maXJzdENoaWxkKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2hpbGROb2RlcykgfHwgW10pXG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGRlc2VyaWFsaXplKGVsKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRhZ05hbWUoZWwpID09PSBcImJyXCIgJiYgaXNHb29nbGVEb2NzKGVsKSAmJiBpc0VsZW1lbnQoZWwpICYmIGVsLmNsYXNzTGlzdC5jb250YWlucyhcImFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIikpXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLkRFRkFVTFRfU1BBTixcbiAgICAgICAgICAgIHRleHQ6IFwiXCJcbiAgICAgICAgICB9O1xuICAgICAgICBpZiAodGFnTmFtZShlbCkgPT09IFwiYnJcIiAmJiBpc0dvb2dsZURvY3MoZWwpICYmIGlzRWxlbWVudChlbCkgJiYgKChfYSA9IGVsID09IG51bGwgPyB2b2lkIDAgOiBlbC5wYXJlbnROb2RlKSA9PSBudWxsID8gdm9pZCAwIDogX2EudGV4dENvbnRlbnQpID09PSBcIlwiKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5ERUZBVUxUX1NQQU4sXG4gICAgICAgICAgICB0ZXh0OiBcIlwiXG4gICAgICAgICAgfTtcbiAgICAgICAgaWYgKHRhZ05hbWUoZWwpID09PSBcImJyXCIgJiYgaXNHb29nbGVEb2NzKGVsKSAmJiBpc0VsZW1lbnQoZWwpICYmIGlzUm9vdE5vZGUoZWwpKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5ERUZBVUxUX1NQQU4sXG4gICAgICAgICAgICB0ZXh0OiBcIlwiXG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIF07XG59XG5mdW5jdGlvbiB3aGF0d2dSTkcobGVuZ3RoID0gMTYpIHtcbiAgY29uc3Qgcm5kczggPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KSwgcm5kczg7XG59XG5jb25zdCBieXRlVG9IZXggPSBbXTtcbmZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyArK2kpXG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMjU2KS50b1N0cmluZygxNikuc2xpY2UoMSk7XG5mdW5jdGlvbiByYW5kb21LZXkobGVuZ3RoKSB7XG4gIHJldHVybiB3aGF0d2dSTkcobGVuZ3RoKS5yZWR1Y2UoKHN0ciwgbikgPT4gc3RyICsgYnl0ZVRvSGV4W25dLCBcIlwiKS5zbGljZSgwLCBsZW5ndGgpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUxpc3RJdGVtKGxpc3ROb2RlVGFnTmFtZSwgZW5hYmxlZExpc3RUeXBlcykge1xuICBpZiAobGlzdE5vZGVUYWdOYW1lID09PSBcInVsXCIgJiYgZW5hYmxlZExpc3RUeXBlcy5pbmNsdWRlcyhcImJ1bGxldFwiKSlcbiAgICByZXR1cm4gXCJidWxsZXRcIjtcbiAgaWYgKGxpc3ROb2RlVGFnTmFtZSA9PT0gXCJvbFwiICYmIGVuYWJsZWRMaXN0VHlwZXMuaW5jbHVkZXMoXCJudW1iZXJcIikpXG4gICAgcmV0dXJuIFwibnVtYmVyXCI7XG59XG5mdW5jdGlvbiBjcmVhdGVIVE1MUnVsZXMoYmxvY2tDb250ZW50VHlwZSwgb3B0aW9ucykge1xuICByZXR1cm4gW1xuICAgIC8vIFRleHQgbm9kZXNcbiAgICB7XG4gICAgICBkZXNlcmlhbGl6ZShlbCkge1xuICAgICAgICBpZiAodGFnTmFtZShlbCkgPT09IFwicHJlXCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpc1ZhbGlkVGV4dCA9IChlbC5ub2RlVHlwZSA9PT0gMyAmJiAoZWwudGV4dENvbnRlbnQgfHwgXCJcIikucmVwbGFjZSgvW1xcclxcbl0vZywgXCIgXCIpLnJlcGxhY2UoL1xcc1xccysvZywgXCIgXCIpID09PSBcIiBcIiAmJiBlbC5uZXh0U2libGluZyAmJiBlbC5uZXh0U2libGluZy5ub2RlVHlwZSAhPT0gMyAmJiBlbC5wcmV2aW91c1NpYmxpbmcgJiYgZWwucHJldmlvdXNTaWJsaW5nLm5vZGVUeXBlICE9PSAzIHx8IGVsLnRleHRDb250ZW50ICE9PSBcIiBcIikgJiYgdGFnTmFtZShlbC5wYXJlbnROb2RlKSAhPT0gXCJib2R5XCI7XG4gICAgICAgIGlmIChlbC5ub2RlTmFtZSA9PT0gXCIjdGV4dFwiICYmIGlzVmFsaWRUZXh0KVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5ERUZBVUxUX1NQQU4sXG4gICAgICAgICAgICBtYXJrczogW10sXG4gICAgICAgICAgICB0ZXh0OiAoZWwudGV4dENvbnRlbnQgfHwgXCJcIikucmVwbGFjZSgvXFxzXFxzKy9nLCBcIiBcIilcbiAgICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sXG4gICAgLy8gUHJlIGVsZW1lbnRcbiAgICB7XG4gICAgICBkZXNlcmlhbGl6ZShlbCkge1xuICAgICAgICBpZiAodGFnTmFtZShlbCkgIT09IFwicHJlXCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpc0NvZGVFbmFibGVkID0gb3B0aW9ucy5lbmFibGVkQmxvY2tTdHlsZXMuaW5jbHVkZXMoXCJjb2RlXCIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF90eXBlOiBcImJsb2NrXCIsXG4gICAgICAgICAgc3R5bGU6IFwibm9ybWFsXCIsXG4gICAgICAgICAgbWFya0RlZnM6IFtdLFxuICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC4uLkRFRkFVTFRfU1BBTixcbiAgICAgICAgICAgICAgbWFya3M6IGlzQ29kZUVuYWJsZWQgPyBbXCJjb2RlXCJdIDogW10sXG4gICAgICAgICAgICAgIHRleHQ6IGVsLnRleHRDb250ZW50IHx8IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBCbG9ja3F1b3RlIGVsZW1lbnRcbiAgICB7XG4gICAgICBkZXNlcmlhbGl6ZShlbCwgbmV4dCkge1xuICAgICAgICBpZiAodGFnTmFtZShlbCkgIT09IFwiYmxvY2txdW90ZVwiKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgYmxvY2tzMiA9IHtcbiAgICAgICAgICAuLi5IVE1MX0JMT0NLX1RBR1MsXG4gICAgICAgICAgLi4uSFRNTF9IRUFERVJfVEFHU1xuICAgICAgICB9O1xuICAgICAgICBkZWxldGUgYmxvY2tzMi5ibG9ja3F1b3RlO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICByZXR1cm4gZWwuY2hpbGROb2Rlcy5mb3JFYWNoKChub2RlLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxICYmIE9iamVjdC5rZXlzKGJsb2NrczIpLmluY2x1ZGVzKG5vZGUubG9jYWxOYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBpZiAoIWVsLm93bmVyRG9jdW1lbnQpXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHNwYW4gPSBlbC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZChlbC5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXFxyXCIpKSwgbm9kZS5jaGlsZE5vZGVzLmZvckVhY2goKGNuKSA9PiB7XG4gICAgICAgICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoY24uY2xvbmVOb2RlKCEwKSk7XG4gICAgICAgICAgICB9KSwgaW5kZXggIT09IGVsLmNoaWxkTm9kZXMubGVuZ3RoICYmIHNwYW4uYXBwZW5kQ2hpbGQoZWwub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlxcclwiKSksIGNoaWxkcmVuLnB1c2goc3Bhbik7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICB9KSwge1xuICAgICAgICAgIF90eXBlOiBcImJsb2NrXCIsXG4gICAgICAgICAgc3R5bGU6IFwiYmxvY2txdW90ZVwiLFxuICAgICAgICAgIG1hcmtEZWZzOiBbXSxcbiAgICAgICAgICBjaGlsZHJlbjogbmV4dChjaGlsZHJlbilcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIEJsb2NrIGVsZW1lbnRzXG4gICAge1xuICAgICAgZGVzZXJpYWxpemUoZWwsIG5leHQpIHtcbiAgICAgICAgY29uc3QgYmxvY2tzMiA9IHtcbiAgICAgICAgICAuLi5IVE1MX0JMT0NLX1RBR1MsXG4gICAgICAgICAgLi4uSFRNTF9IRUFERVJfVEFHU1xuICAgICAgICB9LCB0YWcgPSB0YWdOYW1lKGVsKTtcbiAgICAgICAgbGV0IGJsb2NrID0gdGFnID8gYmxvY2tzMlt0YWddIDogdm9pZCAwO1xuICAgICAgICBpZiAoYmxvY2spXG4gICAgICAgICAgcmV0dXJuIGVsLnBhcmVudE5vZGUgJiYgdGFnTmFtZShlbC5wYXJlbnROb2RlKSA9PT0gXCJsaVwiID8gbmV4dChlbC5jaGlsZE5vZGVzKSA6IChvcHRpb25zLmVuYWJsZWRCbG9ja1N0eWxlcy5pbmNsdWRlcyhibG9jay5zdHlsZSkgfHwgKGJsb2NrID0gREVGQVVMVF9CTE9DSyksIHtcbiAgICAgICAgICAgIC4uLmJsb2NrLFxuICAgICAgICAgICAgY2hpbGRyZW46IG5leHQoZWwuY2hpbGROb2RlcylcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIElnbm9yZSBzcGFuIHRhZ3NcbiAgICB7XG4gICAgICBkZXNlcmlhbGl6ZShlbCwgbmV4dCkge1xuICAgICAgICBjb25zdCB0YWcgPSB0YWdOYW1lKGVsKTtcbiAgICAgICAgaWYgKCEoIXRhZyB8fCAhKHRhZyBpbiBIVE1MX1NQQU5fVEFHUykpKVxuICAgICAgICAgIHJldHVybiBuZXh0KGVsLmNoaWxkTm9kZXMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgLy8gSWdub3JlIGRpdiB0YWdzXG4gICAge1xuICAgICAgZGVzZXJpYWxpemUoZWwsIG5leHQpIHtcbiAgICAgICAgaWYgKHRhZ05hbWUoZWwpID09PSBcImRpdlwiKVxuICAgICAgICAgIHJldHVybiBuZXh0KGVsLmNoaWxkTm9kZXMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgLy8gSWdub3JlIGxpc3QgY29udGFpbmVyc1xuICAgIHtcbiAgICAgIGRlc2VyaWFsaXplKGVsLCBuZXh0KSB7XG4gICAgICAgIGNvbnN0IHRhZyA9IHRhZ05hbWUoZWwpO1xuICAgICAgICBpZiAoISghdGFnIHx8ICEodGFnIGluIEhUTUxfTElTVF9DT05UQUlORVJfVEFHUykpKVxuICAgICAgICAgIHJldHVybiBuZXh0KGVsLmNoaWxkTm9kZXMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgLy8gRGVhbCB3aXRoIGJyJ3NcbiAgICB7XG4gICAgICBkZXNlcmlhbGl6ZShlbCkge1xuICAgICAgICBpZiAodGFnTmFtZShlbCkgPT09IFwiYnJcIilcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uREVGQVVMVF9TUEFOLFxuICAgICAgICAgICAgdGV4dDogYFxuYFxuICAgICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBEZWFsIHdpdGggbGlzdCBpdGVtc1xuICAgIHtcbiAgICAgIGRlc2VyaWFsaXplKGVsLCBuZXh0LCBibG9jaykge1xuICAgICAgICBjb25zdCB0YWcgPSB0YWdOYW1lKGVsKSwgbGlzdEl0ZW0gPSB0YWcgPyBIVE1MX0xJU1RfSVRFTV9UQUdTW3RhZ10gOiB2b2lkIDAsIHBhcmVudFRhZyA9IHRhZ05hbWUoZWwucGFyZW50Tm9kZSkgfHwgXCJcIjtcbiAgICAgICAgaWYgKCFsaXN0SXRlbSB8fCAhZWwucGFyZW50Tm9kZSB8fCAhSFRNTF9MSVNUX0NPTlRBSU5FUl9UQUdTW3BhcmVudFRhZ10pXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBlbmFibGVkTGlzdEl0ZW0gPSByZXNvbHZlTGlzdEl0ZW0ocGFyZW50VGFnLCBvcHRpb25zLmVuYWJsZWRMaXN0VHlwZXMpO1xuICAgICAgICByZXR1cm4gZW5hYmxlZExpc3RJdGVtID8gKGxpc3RJdGVtLmxpc3RJdGVtID0gZW5hYmxlZExpc3RJdGVtLCB7XG4gICAgICAgICAgLi4ubGlzdEl0ZW0sXG4gICAgICAgICAgY2hpbGRyZW46IG5leHQoZWwuY2hpbGROb2RlcylcbiAgICAgICAgfSkgOiBibG9jayh7IF90eXBlOiBcImJsb2NrXCIsIGNoaWxkcmVuOiBuZXh0KGVsLmNoaWxkTm9kZXMpIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgLy8gRGVhbCB3aXRoIGRlY29yYXRvcnMgLSB0aGlzIGlzIGEgbGltaXRlZCBzZXQgb2Yga25vd24gaHRtbCBlbGVtZW50cyB0aGF0IHdlIGtub3cgaG93IHRvIGRlc2VyaWFsaXplXG4gICAge1xuICAgICAgZGVzZXJpYWxpemUoZWwsIG5leHQpIHtcbiAgICAgICAgY29uc3QgZGVjb3JhdG9yID0gSFRNTF9ERUNPUkFUT1JfVEFHU1t0YWdOYW1lKGVsKSB8fCBcIlwiXTtcbiAgICAgICAgaWYgKCEoIWRlY29yYXRvciB8fCAhb3B0aW9ucy5lbmFibGVkU3BhbkRlY29yYXRvcnMuaW5jbHVkZXMoZGVjb3JhdG9yKSkpXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiBcIl9fZGVjb3JhdG9yXCIsXG4gICAgICAgICAgICBuYW1lOiBkZWNvcmF0b3IsXG4gICAgICAgICAgICBjaGlsZHJlbjogbmV4dChlbC5jaGlsZE5vZGVzKVxuICAgICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGh5cGVybGlua3MsIGFkZCBhbm5vdGF0aW9uIChpZiBhbGxvd2VkIGJ5IHNjaGVtYSksXG4gICAgLy8gSWYgbm90IHN1cHBvcnRlZCBqdXN0IHdyaXRlIG91dCB0aGUgbGluayB0ZXh0IGFuZCBocmVmIGluIHBsYWluIHRleHQuXG4gICAge1xuICAgICAgZGVzZXJpYWxpemUoZWwsIG5leHQpIHtcbiAgICAgICAgaWYgKHRhZ05hbWUoZWwpICE9IFwiYVwiKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGlua0VuYWJsZWQgPSBvcHRpb25zLmVuYWJsZWRCbG9ja0Fubm90YXRpb25zLmluY2x1ZGVzKFwibGlua1wiKSwgaHJlZiA9IGlzRWxlbWVudChlbCkgJiYgZWwuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgICAgaWYgKCFocmVmKVxuICAgICAgICAgIHJldHVybiBuZXh0KGVsLmNoaWxkTm9kZXMpO1xuICAgICAgICBsZXQgbWFya0RlZjtcbiAgICAgICAgcmV0dXJuIGxpbmtFbmFibGVkID8gKG1hcmtEZWYgPSB7XG4gICAgICAgICAgX2tleTogcmFuZG9tS2V5KDEyKSxcbiAgICAgICAgICBfdHlwZTogXCJsaW5rXCIsXG4gICAgICAgICAgaHJlZlxuICAgICAgICB9LCB7XG4gICAgICAgICAgX3R5cGU6IFwiX19hbm5vdGF0aW9uXCIsXG4gICAgICAgICAgbWFya0RlZixcbiAgICAgICAgICBjaGlsZHJlbjogbmV4dChlbC5jaGlsZE5vZGVzKVxuICAgICAgICB9KSA6IGVsLmFwcGVuZENoaWxkKGVsLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYCAoJHtocmVmfSlgKSkgJiYgbmV4dChlbC5jaGlsZE5vZGVzKTtcbiAgICAgIH1cbiAgICB9XG4gIF07XG59XG5mdW5jdGlvbiBpc0VtcGhhc2lzKGVsKSB7XG4gIGNvbnN0IHN0eWxlID0gaXNFbGVtZW50KGVsKSAmJiBlbC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgcmV0dXJuIC9mb250LXN0eWxlOml0YWxpYy8udGVzdChzdHlsZSB8fCBcIlwiKTtcbn1cbmZ1bmN0aW9uIGlzU3Ryb25nKGVsKSB7XG4gIGNvbnN0IHN0eWxlID0gaXNFbGVtZW50KGVsKSAmJiBlbC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgcmV0dXJuIC9mb250LXdlaWdodDo3MDAvLnRlc3Qoc3R5bGUgfHwgXCJcIikgfHwgL2ZvbnQtd2VpZ2h0OjYwMC8udGVzdChzdHlsZSB8fCBcIlwiKTtcbn1cbmZ1bmN0aW9uIGlzVW5kZXJsaW5lKGVsKSB7XG4gIGNvbnN0IHN0eWxlID0gaXNFbGVtZW50KGVsKSAmJiBlbC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgcmV0dXJuIC90ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lLy50ZXN0KHN0eWxlIHx8IFwiXCIpO1xufVxuZnVuY3Rpb24gaXNOb3Rpb24oZWwpIHtcbiAgcmV0dXJuIGlzRWxlbWVudChlbCkgJiYgISFlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlzLW5vdGlvblwiKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU5vdGlvblJ1bGVzKF9ibG9ja0NvbnRlbnRUeXBlKSB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgZGVzZXJpYWxpemUoZWwpIHtcbiAgICAgICAgaWYgKGlzRWxlbWVudChlbCkgJiYgdGFnTmFtZShlbCkgPT09IFwic3BhblwiICYmIGlzTm90aW9uKGVsKSkge1xuICAgICAgICAgIGNvbnN0IHNwYW4gPSB7XG4gICAgICAgICAgICAuLi5ERUZBVUxUX1NQQU4sXG4gICAgICAgICAgICBtYXJrczogW10sXG4gICAgICAgICAgICB0ZXh0OiBlbC50ZXh0Q29udGVudFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGlzU3Ryb25nKGVsKSAmJiBzcGFuLm1hcmtzLnB1c2goXCJzdHJvbmdcIiksIGlzVW5kZXJsaW5lKGVsKSAmJiBzcGFuLm1hcmtzLnB1c2goXCJ1bmRlcmxpbmVcIiksIGlzRW1waGFzaXMoZWwpICYmIHNwYW4ubWFya3MucHVzaChcImVtXCIpLCBzcGFuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBdO1xufVxuZnVuY3Rpb24gZ2V0TGlzdEl0ZW1TdHlsZShlbCkge1xuICBjb25zdCBzdHlsZSA9IGlzRWxlbWVudChlbCkgJiYgZWwuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7XG4gIGlmIChzdHlsZSAmJiBzdHlsZS5tYXRjaCgvbGZvXFxkKy8pKVxuICAgIHJldHVybiBzdHlsZS5tYXRjaChcImxmbzFcIikgPyBcImJ1bGxldFwiIDogXCJudW1iZXJcIjtcbn1cbmZ1bmN0aW9uIGdldExpc3RJdGVtTGV2ZWwoZWwpIHtcbiAgY29uc3Qgc3R5bGUgPSBpc0VsZW1lbnQoZWwpICYmIGVsLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICBpZiAoIXN0eWxlKVxuICAgIHJldHVybjtcbiAgY29uc3QgbGV2ZWxNYXRjaCA9IHN0eWxlLm1hdGNoKC9sZXZlbFxcZCsvKTtcbiAgaWYgKCFsZXZlbE1hdGNoKVxuICAgIHJldHVybjtcbiAgY29uc3QgW2xldmVsXSA9IGxldmVsTWF0Y2hbMF0ubWF0Y2goL1xcZC8pIHx8IFtdO1xuICByZXR1cm4gKGxldmVsID8gcGFyc2VJbnQobGV2ZWwsIDEwKSA6IDEpIHx8IDE7XG59XG5mdW5jdGlvbiBpc1dvcmRMaXN0RWxlbWVudChlbCkge1xuICByZXR1cm4gaXNFbGVtZW50KGVsKSAmJiBlbC5jbGFzc05hbWUgPyBlbC5jbGFzc05hbWUgPT09IFwiTXNvTGlzdFBhcmFncmFwaEN4U3BGaXJzdFwiIHx8IGVsLmNsYXNzTmFtZSA9PT0gXCJNc29MaXN0UGFyYWdyYXBoQ3hTcE1pZGRsZVwiIHx8IGVsLmNsYXNzTmFtZSA9PT0gXCJNc29MaXN0UGFyYWdyYXBoQ3hTcExhc3RcIiA6ICExO1xufVxuZnVuY3Rpb24gY3JlYXRlV29yZFJ1bGVzKCkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGRlc2VyaWFsaXplKGVsLCBuZXh0KSB7XG4gICAgICAgIGlmICh0YWdOYW1lKGVsKSA9PT0gXCJwXCIgJiYgaXNXb3JkTGlzdEVsZW1lbnQoZWwpKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5ERUZBVUxUX0JMT0NLLFxuICAgICAgICAgICAgbGlzdEl0ZW06IGdldExpc3RJdGVtU3R5bGUoZWwpLFxuICAgICAgICAgICAgbGV2ZWw6IGdldExpc3RJdGVtTGV2ZWwoZWwpLFxuICAgICAgICAgICAgc3R5bGU6IEJMT0NLX0RFRkFVTFRfU1RZTEUsXG4gICAgICAgICAgICBjaGlsZHJlbjogbmV4dChlbC5jaGlsZE5vZGVzKVxuICAgICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICBdO1xufVxuZnVuY3Rpb24gY3JlYXRlUnVsZXMoYmxvY2tDb250ZW50VHlwZSwgb3B0aW9ucykge1xuICByZXR1cm4gW1xuICAgIC4uLmNyZWF0ZVdvcmRSdWxlcygpLFxuICAgIC4uLmNyZWF0ZU5vdGlvblJ1bGVzKCksXG4gICAgLi4uY3JlYXRlR0RvY3NSdWxlcyhibG9ja0NvbnRlbnRUeXBlLCBvcHRpb25zKSxcbiAgICAuLi5jcmVhdGVIVE1MUnVsZXMoYmxvY2tDb250ZW50VHlwZSwgb3B0aW9ucylcbiAgXTtcbn1cbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgSHRtbERlc2VyaWFsaXplciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgc2VyaWFsaXplciByZXNwZWN0aW5nIGEgU2FuaXR5IGJsb2NrIGNvbnRlbnQgdHlwZSdzIHNjaGVtYVxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2tDb250ZW50VHlwZSAtIFNjaGVtYSB0eXBlIGZvciBhcnJheSBjb250YWluaW5nIF9hdCBsZWFzdF8gYSBibG9jayBjaGlsZCB0eXBlXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGRlc2VyaWFsaXphdGlvbiBwcm9jZXNzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihibG9ja0NvbnRlbnRUeXBlLCBvcHRpb25zID0ge30pIHtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiYmxvY2tDb250ZW50VHlwZVwiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJ1bGVzXCIpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicGFyc2VIdG1sXCIpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX21hcmtEZWZzXCIsIFtdKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRlc2VyaWFsaXplXCIsIChodG1sKSA9PiB7XG4gICAgICB0aGlzLl9tYXJrRGVmcyA9IFtdO1xuICAgICAgY29uc3QgeyBwYXJzZUh0bWw6IHBhcnNlSHRtbDIgfSA9IHRoaXMsIGZyYWdtZW50ID0gcGFyc2VIdG1sMihodG1sKSwgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGZyYWdtZW50LmNoaWxkTm9kZXMpLCBibG9ja3MyID0gdHJpbVdoaXRlc3BhY2UoXG4gICAgICAgIGZsYXR0ZW5OZXN0ZWRCbG9ja3MoZW5zdXJlUm9vdElzQmxvY2tzKHRoaXMuZGVzZXJpYWxpemVFbGVtZW50cyhjaGlsZHJlbikpKVxuICAgICAgKTtcbiAgICAgIHRoaXMuX21hcmtEZWZzLmxlbmd0aCA+IDAgJiYgYmxvY2tzMi5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay5fdHlwZSA9PT0gXCJibG9ja1wiKS5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBibG9jay5tYXJrRGVmcyA9IGJsb2NrLm1hcmtEZWZzIHx8IFtdLCBibG9jay5tYXJrRGVmcyA9IGJsb2NrLm1hcmtEZWZzLmNvbmNhdChcbiAgICAgICAgICB0aGlzLl9tYXJrRGVmcy5maWx0ZXIoKGRlZikgPT4gZmxhdHRlbihibG9jay5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiBjaGlsZC5tYXJrcyB8fCBbXSkpLmluY2x1ZGVzKGRlZi5fa2V5KSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdHlwZSA9IHRoaXMuYmxvY2tDb250ZW50VHlwZS5vZi5maW5kKGZpbmRCbG9ja1R5cGUpO1xuICAgICAgcmV0dXJuIHR5cGUgPyBibG9ja3MyLm1hcCgoYmxvY2spID0+IChibG9jay5fdHlwZSA9PT0gXCJibG9ja1wiICYmIChibG9jay5fdHlwZSA9IHR5cGUubmFtZSksIGJsb2NrKSkgOiBibG9ja3MyO1xuICAgIH0pLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZGVzZXJpYWxpemVFbGVtZW50c1wiLCAoZWxlbWVudHMgPSBbXSkgPT4ge1xuICAgICAgbGV0IG5vZGVzID0gW107XG4gICAgICByZXR1cm4gZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICBub2RlcyA9IG5vZGVzLmNvbmNhdCh0aGlzLmRlc2VyaWFsaXplRWxlbWVudChlbGVtZW50KSk7XG4gICAgICB9KSwgbm9kZXM7XG4gICAgfSksIF9fcHVibGljRmllbGQodGhpcywgXCJkZXNlcmlhbGl6ZUVsZW1lbnRcIiwgKGVsZW1lbnQpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBjb25zdCBuZXh0ID0gKGVsZW1lbnRzKSA9PiB7XG4gICAgICAgIGlmIChpc05vZGVMaXN0KGVsZW1lbnRzKSlcbiAgICAgICAgICByZXR1cm4gdGhpcy5kZXNlcmlhbGl6ZUVsZW1lbnRzKEFycmF5LmZyb20oZWxlbWVudHMpKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudHMpKVxuICAgICAgICAgIHJldHVybiB0aGlzLmRlc2VyaWFsaXplRWxlbWVudHMoZWxlbWVudHMpO1xuICAgICAgICBpZiAoZWxlbWVudHMpXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGVzZXJpYWxpemVFbGVtZW50KGVsZW1lbnRzKTtcbiAgICAgIH0sIGJsb2NrID0gKHByb3BzKSA9PiAoe1xuICAgICAgICBfdHlwZTogXCJfX2Jsb2NrXCIsXG4gICAgICAgIGJsb2NrOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICBsZXQgbm9kZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBydWxlID0gdGhpcy5ydWxlc1tpXTtcbiAgICAgICAgaWYgKCFydWxlLmRlc2VyaWFsaXplKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCByZXQgPSBydWxlLmRlc2VyaWFsaXplKGVsZW1lbnQsIG5leHQsIGJsb2NrKSwgdHlwZSA9IHJlc29sdmVKc1R5cGUocmV0KTtcbiAgICAgICAgaWYgKHR5cGUgIT09IFwiYXJyYXlcIiAmJiB0eXBlICE9PSBcIm9iamVjdFwiICYmIHR5cGUgIT09IFwibnVsbFwiICYmIHR5cGUgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIHJ1bGUgcmV0dXJuZWQgYW4gaW52YWxpZCBkZXNlcmlhbGl6ZWQgcmVwcmVzZW50YXRpb246IFwiJHtub2RlfVwiLmApO1xuICAgICAgICBpZiAocmV0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAocmV0ID09PSBudWxsKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEZXNlcmlhbGl6ZXIgcnVsZSByZXR1cm5lZCBgbnVsbGBcIik7XG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHJldCkgPyBub2RlID0gcmV0IDogaXNQbGFjZWhvbGRlckRlY29yYXRvcihyZXQpID8gbm9kZSA9IHRoaXMuZGVzZXJpYWxpemVEZWNvcmF0b3IocmV0KSA6IGlzUGxhY2Vob2xkZXJBbm5vdGF0aW9uKHJldCkgPyBub2RlID0gdGhpcy5kZXNlcmlhbGl6ZUFubm90YXRpb24ocmV0KSA6IG5vZGUgPSByZXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXQgJiYgIUFycmF5LmlzQXJyYXkocmV0KSAmJiBpc01pbmltYWxCbG9jayhyZXQpICYmIFwibGlzdEl0ZW1cIiBpbiByZXQpIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSAoX2EgPSBlbGVtZW50LnBhcmVudE5vZGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgZm9yICg7IHBhcmVudCAmJiB0YWdOYW1lKHBhcmVudCkgPT09IFwibGlcIjsgKVxuICAgICAgICAgICAgICBwYXJlbnQgPSAoX2IgPSBwYXJlbnQucGFyZW50Tm9kZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnBhcmVudE5vZGUsIHJldC5sZXZlbCA9IHJldC5sZXZlbCA/IHJldC5sZXZlbCArIDEgOiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXQgJiYgIUFycmF5LmlzQXJyYXkocmV0KSAmJiBpc01pbmltYWxCbG9jayhyZXQpICYmIHJldC5zdHlsZSA9PT0gXCJibG9ja3F1b3RlXCIgJiYgcmV0LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaXNNaW5pbWFsU3BhbihjaGlsZCkgJiYgY2hpbGQudGV4dCA9PT0gXCJcXHJcIiAmJiAoY2hpbGQudGV4dCA9IGBcblxuYCwgKGluZGV4ID09PSAwIHx8IGluZGV4ID09PSByZXQuY2hpbGRyZW4ubGVuZ3RoIC0gMSkgJiYgcmV0LmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZSB8fCBuZXh0KGVsZW1lbnQuY2hpbGROb2RlcykgfHwgW107XG4gICAgfSksIF9fcHVibGljRmllbGQodGhpcywgXCJkZXNlcmlhbGl6ZURlY29yYXRvclwiLCAoZGVjb3JhdG9yKSA9PiB7XG4gICAgICBjb25zdCB7IG5hbWUgfSA9IGRlY29yYXRvciwgYXBwbHlEZWNvcmF0b3IgPSAobm9kZSkgPT4ge1xuICAgICAgICBpZiAoaXNQbGFjZWhvbGRlckRlY29yYXRvcihub2RlKSlcbiAgICAgICAgICByZXR1cm4gdGhpcy5kZXNlcmlhbGl6ZURlY29yYXRvcihub2RlKTtcbiAgICAgICAgaWYgKGlzTWluaW1hbFNwYW4obm9kZSkpXG4gICAgICAgICAgbm9kZS5tYXJrcyA9IG5vZGUubWFya3MgfHwgW10sIG5vZGUudGV4dC50cmltKCkgJiYgbm9kZS5tYXJrcy51bnNoaWZ0KG5hbWUpO1xuICAgICAgICBlbHNlIGlmIChcImNoaWxkcmVuXCIgaW4gbm9kZSAmJiBBcnJheS5pc0FycmF5KG5vZGUuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgY29uc3QgYmxvY2sgPSBub2RlO1xuICAgICAgICAgIGJsb2NrLmNoaWxkcmVuID0gYmxvY2suY2hpbGRyZW4ubWFwKGFwcGx5RGVjb3JhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gZGVjb3JhdG9yLmNoaWxkcmVuLnJlZHVjZSgoY2hpbGRyZW4sIG5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgcmV0ID0gYXBwbHlEZWNvcmF0b3Iobm9kZSk7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJldCkgPyBjaGlsZHJlbi5jb25jYXQocmV0KSA6IChjaGlsZHJlbi5wdXNoKHJldCksIGNoaWxkcmVuKTtcbiAgICAgIH0sIFtdKTtcbiAgICB9KSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRlc2VyaWFsaXplQW5ub3RhdGlvblwiLCAoYW5ub3RhdGlvbikgPT4ge1xuICAgICAgY29uc3QgeyBtYXJrRGVmIH0gPSBhbm5vdGF0aW9uO1xuICAgICAgdGhpcy5fbWFya0RlZnMucHVzaChtYXJrRGVmKTtcbiAgICAgIGNvbnN0IGFwcGx5QW5ub3RhdGlvbiA9IChub2RlKSA9PiB7XG4gICAgICAgIGlmIChpc1BsYWNlaG9sZGVyQW5ub3RhdGlvbihub2RlKSlcbiAgICAgICAgICByZXR1cm4gdGhpcy5kZXNlcmlhbGl6ZUFubm90YXRpb24obm9kZSk7XG4gICAgICAgIGlmIChpc01pbmltYWxTcGFuKG5vZGUpKVxuICAgICAgICAgIG5vZGUubWFya3MgPSBub2RlLm1hcmtzIHx8IFtdLCBub2RlLnRleHQudHJpbSgpICYmIG5vZGUubWFya3MudW5zaGlmdChtYXJrRGVmLl9rZXkpO1xuICAgICAgICBlbHNlIGlmIChcImNoaWxkcmVuXCIgaW4gbm9kZSAmJiBBcnJheS5pc0FycmF5KG5vZGUuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgY29uc3QgYmxvY2sgPSBub2RlO1xuICAgICAgICAgIGJsb2NrLmNoaWxkcmVuID0gYmxvY2suY2hpbGRyZW4ubWFwKGFwcGx5QW5ub3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGFubm90YXRpb24uY2hpbGRyZW4ucmVkdWNlKChjaGlsZHJlbiwgbm9kZSkgPT4ge1xuICAgICAgICBjb25zdCByZXQgPSBhcHBseUFubm90YXRpb24obm9kZSk7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJldCkgPyBjaGlsZHJlbi5jb25jYXQocmV0KSA6IChjaGlsZHJlbi5wdXNoKHJldCksIGNoaWxkcmVuKTtcbiAgICAgIH0sIFtdKTtcbiAgICB9KTtcbiAgICBjb25zdCB7IHJ1bGVzID0gW10sIHVuc3RhYmxlX3doaXRlc3BhY2VPblBhc3RlTW9kZSA9IFwicHJlc2VydmVcIiB9ID0gb3B0aW9ucztcbiAgICBpZiAoIWJsb2NrQ29udGVudFR5cGUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXJhbWV0ZXIgJ2Jsb2NrQ29udGVudFR5cGUnIGlzIHJlcXVpcmVkXCIpO1xuICAgIGNvbnN0IHN0YW5kYXJkUnVsZXMgPSBjcmVhdGVSdWxlcyhibG9ja0NvbnRlbnRUeXBlLCBjcmVhdGVSdWxlT3B0aW9ucyhibG9ja0NvbnRlbnRUeXBlKSk7XG4gICAgdGhpcy5ydWxlcyA9IFsuLi5ydWxlcywgLi4uc3RhbmRhcmRSdWxlc107XG4gICAgY29uc3QgcGFyc2VIdG1sID0gb3B0aW9ucy5wYXJzZUh0bWwgfHwgZGVmYXVsdFBhcnNlSHRtbCgpO1xuICAgIHRoaXMuYmxvY2tDb250ZW50VHlwZSA9IGJsb2NrQ29udGVudFR5cGUsIHRoaXMucGFyc2VIdG1sID0gKGh0bWwpID0+IHByZXByb2Nlc3MoaHRtbCwgcGFyc2VIdG1sLCB7IHVuc3RhYmxlX3doaXRlc3BhY2VPblBhc3RlTW9kZSB9KS5ib2R5O1xuICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVCbG9jayhub2RlLCBvcHRpb25zID0ge30pIHtcbiAgaWYgKG5vZGUuX3R5cGUgIT09IChvcHRpb25zLmJsb2NrVHlwZU5hbWUgfHwgXCJibG9ja1wiKSlcbiAgICByZXR1cm4gXCJfa2V5XCIgaW4gbm9kZSA/IG5vZGUgOiB7IC4uLm5vZGUsIF9rZXk6IHJhbmRvbUtleSgxMikgfTtcbiAgY29uc3QgYmxvY2sgPSB7XG4gICAgX2tleTogcmFuZG9tS2V5KDEyKSxcbiAgICBjaGlsZHJlbjogW10sXG4gICAgbWFya0RlZnM6IFtdLFxuICAgIC4uLm5vZGVcbiAgfSwgbGFzdENoaWxkID0gYmxvY2suY2hpbGRyZW5bYmxvY2suY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gIGlmICghbGFzdENoaWxkKVxuICAgIHJldHVybiBibG9jay5jaGlsZHJlbiA9IFtcbiAgICAgIHtcbiAgICAgICAgX3R5cGU6IFwic3BhblwiLFxuICAgICAgICBfa2V5OiBgJHtibG9jay5fa2V5fTBgLFxuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBtYXJrczogW11cbiAgICAgIH1cbiAgICBdLCBibG9jaztcbiAgY29uc3QgdXNlZE1hcmtEZWZzID0gW10sIGFsbG93ZWREZWNvcmF0b3JzID0gb3B0aW9ucy5hbGxvd2VkRGVjb3JhdG9ycyAmJiBBcnJheS5pc0FycmF5KG9wdGlvbnMuYWxsb3dlZERlY29yYXRvcnMpID8gb3B0aW9ucy5hbGxvd2VkRGVjb3JhdG9ycyA6ICExO1xuICByZXR1cm4gYmxvY2suY2hpbGRyZW4gPSBibG9jay5jaGlsZHJlbi5yZWR1Y2UoXG4gICAgKGFjYywgY2hpbGQpID0+IHtcbiAgICAgIGNvbnN0IHByZXZpb3VzQ2hpbGQgPSBhY2NbYWNjLmxlbmd0aCAtIDFdO1xuICAgICAgcmV0dXJuIHByZXZpb3VzQ2hpbGQgJiYgaXNQb3J0YWJsZVRleHRTcGFuKGNoaWxkKSAmJiBpc1BvcnRhYmxlVGV4dFNwYW4ocHJldmlvdXNDaGlsZCkgJiYgaXNFcXVhbChwcmV2aW91c0NoaWxkLm1hcmtzLCBjaGlsZC5tYXJrcykgPyAobGFzdENoaWxkICYmIGxhc3RDaGlsZCA9PT0gY2hpbGQgJiYgY2hpbGQudGV4dCA9PT0gXCJcIiAmJiBibG9jay5jaGlsZHJlbi5sZW5ndGggPiAxIHx8IChwcmV2aW91c0NoaWxkLnRleHQgKz0gY2hpbGQudGV4dCksIGFjYykgOiAoYWNjLnB1c2goY2hpbGQpLCBhY2MpO1xuICAgIH0sXG4gICAgW11cbiAgKS5tYXAoKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgIGlmICghY2hpbGQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIGNoaWxkXCIpO1xuICAgIHJldHVybiBjaGlsZC5fa2V5ID0gYCR7YmxvY2suX2tleX0ke2luZGV4fWAsIGlzUG9ydGFibGVUZXh0U3BhbihjaGlsZCkgJiYgKGNoaWxkLm1hcmtzID8gYWxsb3dlZERlY29yYXRvcnMgJiYgKGNoaWxkLm1hcmtzID0gY2hpbGQubWFya3MuZmlsdGVyKChtYXJrKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCBpc0FsbG93ZWQgPSBhbGxvd2VkRGVjb3JhdG9ycy5pbmNsdWRlcyhtYXJrKSwgaXNVc2VkID0gKF9hID0gYmxvY2subWFya0RlZnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zb21lKChkZWYpID0+IGRlZi5fa2V5ID09PSBtYXJrKTtcbiAgICAgIHJldHVybiBpc0FsbG93ZWQgfHwgaXNVc2VkO1xuICAgIH0pKSA6IGNoaWxkLm1hcmtzID0gW10sIHVzZWRNYXJrRGVmcy5wdXNoKC4uLmNoaWxkLm1hcmtzKSksIGNoaWxkO1xuICB9KSwgYmxvY2subWFya0RlZnMgPSAoYmxvY2subWFya0RlZnMgfHwgW10pLmZpbHRlcigobWFya0RlZikgPT4gdXNlZE1hcmtEZWZzLmluY2x1ZGVzKG1hcmtEZWYuX2tleSkpLCBibG9jaztcbn1cbmZ1bmN0aW9uIGh0bWxUb0Jsb2NrcyhodG1sLCBibG9ja0NvbnRlbnRUeXBlLCBvcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIG5ldyBIdG1sRGVzZXJpYWxpemVyKGJsb2NrQ29udGVudFR5cGUsIG9wdGlvbnMpLmRlc2VyaWFsaXplKGh0bWwpLm1hcCgoYmxvY2spID0+IG5vcm1hbGl6ZUJsb2NrKGJsb2NrKSk7XG59XG5mdW5jdGlvbiBnZXRCbG9ja0NvbnRlbnRGZWF0dXJlcyhibG9ja0NvbnRlbnRUeXBlKSB7XG4gIHJldHVybiBibG9ja0NvbnRlbnRGZWF0dXJlcyhibG9ja0NvbnRlbnRUeXBlKTtcbn1cbmV4cG9ydCB7XG4gIGdldEJsb2NrQ29udGVudEZlYXR1cmVzLFxuICBodG1sVG9CbG9ja3MsXG4gIG5vcm1hbGl6ZUJsb2NrLFxuICByYW5kb21LZXlcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/block-tools/lib/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   C: () => (/* binding */ C),\n/* harmony export */   stegaClean: () => (/* binding */ stegaClean),\n/* harmony export */   vercelStegaCleanAll: () => (/* binding */ vercelStegaCleanAll)\n/* harmony export */ });\nvar s = { 0: 8203, 1: 8204, 2: 8205, 3: 8290, 4: 8291, 5: 8288, 6: 65279, 7: 8289, 8: 119155, 9: 119156, a: 119157, b: 119158, c: 119159, d: 119160, e: 119161, f: 119162 }, c = { 0: 8203, 1: 8204, 2: 8205, 3: 65279 }, u = new Array(4).fill(String.fromCodePoint(c[0])).join(\"\");\nfunction E(t) {\n  let e = JSON.stringify(t);\n  return `${u}${Array.from(e).map((r) => {\n    let n = r.charCodeAt(0);\n    if (n > 255)\n      throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);\n    return Array.from(n.toString(4).padStart(4, \"0\")).map((o) => String.fromCodePoint(c[o])).join(\"\");\n  }).join(\"\")}`;\n}\nfunction I(t) {\n  return !Number.isNaN(Number(t)) || /[a-z]/i.test(t) && !/\\d+(?:[-:\\/]\\d+){2}(?:T\\d+(?:[-:\\/]\\d+){1,2}(\\.\\d+)?Z?)?/.test(t) ? !1 : !!Date.parse(t);\n}\nfunction T(t) {\n  try {\n    new URL(t, t.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n  } catch {\n    return !1;\n  }\n  return !0;\n}\nfunction C(t, e, r = \"auto\") {\n  return r === !0 || r === \"auto\" && (I(t) || T(t)) ? t : `${t}${E(e)}`;\n}\nObject.fromEntries(Object.entries(c).map((t) => t.reverse()));\nObject.fromEntries(Object.entries(s).map((t) => t.reverse()));\nvar S = `${Object.values(s).map((t) => `\\\\u{${t.toString(16)}}`).join(\"\")}`, f = new RegExp(`[${S}]{4,}`, \"gu\");\nfunction _(t) {\n  var e;\n  return { cleaned: t.replace(f, \"\"), encoded: ((e = t.match(f)) == null ? void 0 : e[0]) || \"\" };\n}\nfunction O(t) {\n  return t && JSON.parse(_(JSON.stringify(t)).cleaned);\n}\nfunction stegaClean(result) {\n  return O(result);\n}\nconst vercelStegaCleanAll = stegaClean;\n\n//# sourceMappingURL=stegaClean.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzLWVzL3N0ZWdhQ2xlYW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsVUFBVSxpS0FBaUssUUFBUSxxQ0FBcUM7QUFDeE47QUFDQTtBQUNBLFlBQVksRUFBRSxFQUFFO0FBQ2hCO0FBQ0E7QUFDQSx5RkFBeUYsR0FBRyxlQUFlLEdBQUcsR0FBRyxFQUFFO0FBQ25IO0FBQ0EsR0FBRyxXQUFXO0FBQ2Q7QUFDQTtBQUNBLDRFQUE0RSxFQUFFLHFCQUFxQixJQUFJO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsRUFBRSxFQUFFLEtBQUs7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQ0FBaUMsRUFBRSxnQkFBZ0IsWUFBWSxzQkFBc0IsRUFBRSxFQUFFLEdBQUc7QUFDdkc7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzLWVzL3N0ZWdhQ2xlYW4uanM/YzMyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcyA9IHsgMDogODIwMywgMTogODIwNCwgMjogODIwNSwgMzogODI5MCwgNDogODI5MSwgNTogODI4OCwgNjogNjUyNzksIDc6IDgyODksIDg6IDExOTE1NSwgOTogMTE5MTU2LCBhOiAxMTkxNTcsIGI6IDExOTE1OCwgYzogMTE5MTU5LCBkOiAxMTkxNjAsIGU6IDExOTE2MSwgZjogMTE5MTYyIH0sIGMgPSB7IDA6IDgyMDMsIDE6IDgyMDQsIDI6IDgyMDUsIDM6IDY1Mjc5IH0sIHUgPSBuZXcgQXJyYXkoNCkuZmlsbChTdHJpbmcuZnJvbUNvZGVQb2ludChjWzBdKSkuam9pbihcIlwiKTtcbmZ1bmN0aW9uIEUodCkge1xuICBsZXQgZSA9IEpTT04uc3RyaW5naWZ5KHQpO1xuICByZXR1cm4gYCR7dX0ke0FycmF5LmZyb20oZSkubWFwKChyKSA9PiB7XG4gICAgbGV0IG4gPSByLmNoYXJDb2RlQXQoMCk7XG4gICAgaWYgKG4gPiAyNTUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9ubHkgQVNDSUkgZWRpdCBpbmZvIGNhbiBiZSBlbmNvZGVkLiBFcnJvciBhdHRlbXB0aW5nIHRvIGVuY29kZSAke2V9IG9uIGNoYXJhY3RlciAke3J9ICgke259KWApO1xuICAgIHJldHVybiBBcnJheS5mcm9tKG4udG9TdHJpbmcoNCkucGFkU3RhcnQoNCwgXCIwXCIpKS5tYXAoKG8pID0+IFN0cmluZy5mcm9tQ29kZVBvaW50KGNbb10pKS5qb2luKFwiXCIpO1xuICB9KS5qb2luKFwiXCIpfWA7XG59XG5mdW5jdGlvbiBJKHQpIHtcbiAgcmV0dXJuICFOdW1iZXIuaXNOYU4oTnVtYmVyKHQpKSB8fCAvW2Etel0vaS50ZXN0KHQpICYmICEvXFxkKyg/OlstOlxcL11cXGQrKXsyfSg/OlRcXGQrKD86Wy06XFwvXVxcZCspezEsMn0oXFwuXFxkKyk/Wj8pPy8udGVzdCh0KSA/ICExIDogISFEYXRlLnBhcnNlKHQpO1xufVxuZnVuY3Rpb24gVCh0KSB7XG4gIHRyeSB7XG4gICAgbmV3IFVSTCh0LCB0LnN0YXJ0c1dpdGgoXCIvXCIpID8gXCJodHRwczovL2FjbWUuY29tXCIgOiB2b2lkIDApO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gQyh0LCBlLCByID0gXCJhdXRvXCIpIHtcbiAgcmV0dXJuIHIgPT09ICEwIHx8IHIgPT09IFwiYXV0b1wiICYmIChJKHQpIHx8IFQodCkpID8gdCA6IGAke3R9JHtFKGUpfWA7XG59XG5PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoYykubWFwKCh0KSA9PiB0LnJldmVyc2UoKSkpO1xuT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHMpLm1hcCgodCkgPT4gdC5yZXZlcnNlKCkpKTtcbnZhciBTID0gYCR7T2JqZWN0LnZhbHVlcyhzKS5tYXAoKHQpID0+IGBcXFxcdXske3QudG9TdHJpbmcoMTYpfX1gKS5qb2luKFwiXCIpfWAsIGYgPSBuZXcgUmVnRXhwKGBbJHtTfV17NCx9YCwgXCJndVwiKTtcbmZ1bmN0aW9uIF8odCkge1xuICB2YXIgZTtcbiAgcmV0dXJuIHsgY2xlYW5lZDogdC5yZXBsYWNlKGYsIFwiXCIpLCBlbmNvZGVkOiAoKGUgPSB0Lm1hdGNoKGYpKSA9PSBudWxsID8gdm9pZCAwIDogZVswXSkgfHwgXCJcIiB9O1xufVxuZnVuY3Rpb24gTyh0KSB7XG4gIHJldHVybiB0ICYmIEpTT04ucGFyc2UoXyhKU09OLnN0cmluZ2lmeSh0KSkuY2xlYW5lZCk7XG59XG5mdW5jdGlvbiBzdGVnYUNsZWFuKHJlc3VsdCkge1xuICByZXR1cm4gTyhyZXN1bHQpO1xufVxuY29uc3QgdmVyY2VsU3RlZ2FDbGVhbkFsbCA9IHN0ZWdhQ2xlYW47XG5leHBvcnQge1xuICBDLFxuICBzdGVnYUNsZWFuLFxuICB2ZXJjZWxTdGVnYUNsZWFuQWxsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RlZ2FDbGVhbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeIntoResult: () => (/* binding */ encodeIntoResult),\n/* harmony export */   stegaEncodeSourceMap: () => (/* binding */ stegaEncodeSourceMap),\n/* harmony export */   stegaEncodeSourceMap$1: () => (/* binding */ stegaEncodeSourceMap$1)\n/* harmony export */ });\n/* harmony import */ var _stegaClean_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stegaClean.js */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\");\n\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nfunction isKeySegment(segment) {\n  return typeof segment == \"string\" ? reKeySegment.test(segment.trim()) : typeof segment == \"object\" && \"_key\" in segment;\n}\nfunction toString(path) {\n  if (!Array.isArray(path))\n    throw new Error(\"Path is not an array\");\n  return path.reduce((target, segment, i) => {\n    const segmentType = typeof segment;\n    if (segmentType === \"number\")\n      return `${target}[${segment}]`;\n    if (segmentType === \"string\")\n      return `${target}${i === 0 ? \"\" : \".\"}${segment}`;\n    if (isKeySegment(segment) && segment._key)\n      return `${target}[_key==\"${segment._key}\"]`;\n    if (Array.isArray(segment)) {\n      const [from, to] = segment;\n      return `${target}[${from}:${to}]`;\n    }\n    throw new Error(`Unsupported path segment \\`${JSON.stringify(segment)}\\``);\n  }, \"\");\n}\nconst ESCAPE = {\n  \"\\f\": \"\\\\f\",\n  \"\\n\": \"\\\\n\",\n  \"\\r\": \"\\\\r\",\n  \"\t\": \"\\\\t\",\n  \"'\": \"\\\\'\",\n  \"\\\\\": \"\\\\\\\\\"\n}, UNESCAPE = {\n  \"\\\\f\": \"\\f\",\n  \"\\\\n\": `\n`,\n  \"\\\\r\": \"\\r\",\n  \"\\\\t\": \"\t\",\n  \"\\\\'\": \"'\",\n  \"\\\\\\\\\": \"\\\\\"\n};\nfunction jsonPath(path) {\n  return `$${path.map((segment) => typeof segment == \"string\" ? `['${segment.replace(/[\\f\\n\\r\\t'\\\\]/g, (match) => ESCAPE[match])}']` : typeof segment == \"number\" ? `[${segment}]` : segment._key !== \"\" ? `[?(@._key=='${segment._key.replace(/['\\\\]/g, (match) => ESCAPE[match])}')]` : `[${segment._index}]`).join(\"\")}`;\n}\nfunction parseJsonPath(path) {\n  const parsed = [], parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n  let match;\n  for (; (match = parseRe.exec(path)) !== null; ) {\n    if (match[1] !== void 0) {\n      const key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, (m) => UNESCAPE[m]);\n      parsed.push(key);\n      continue;\n    }\n    if (match[2] !== void 0) {\n      parsed.push(parseInt(match[2], 10));\n      continue;\n    }\n    if (match[3] !== void 0) {\n      const _key = match[3].replace(/\\\\(\\\\')/g, (m) => UNESCAPE[m]);\n      parsed.push({\n        _key,\n        _index: -1\n      });\n      continue;\n    }\n  }\n  return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n  return path.map((segment) => {\n    if (typeof segment == \"string\" || typeof segment == \"number\")\n      return segment;\n    if (segment._key !== \"\")\n      return { _key: segment._key };\n    if (segment._index !== -1)\n      return segment._index;\n    throw new Error(`invalid segment:${JSON.stringify(segment)}`);\n  });\n}\nfunction jsonPathToMappingPath(path) {\n  return path.map((segment) => {\n    if (typeof segment == \"string\" || typeof segment == \"number\")\n      return segment;\n    if (segment._index !== -1)\n      return segment._index;\n    throw new Error(`invalid segment:${JSON.stringify(segment)}`);\n  });\n}\nfunction resolveMapping(resultPath, csm) {\n  if (!(csm != null && csm.mappings))\n    return;\n  const resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n  if (csm.mappings[resultMappingPath] !== void 0)\n    return {\n      mapping: csm.mappings[resultMappingPath],\n      matchedPath: resultMappingPath,\n      pathSuffix: \"\"\n    };\n  const mappings = Object.entries(csm.mappings).filter(([key]) => resultMappingPath.startsWith(key)).sort(([key1], [key2]) => key2.length - key1.length);\n  if (mappings.length == 0)\n    return;\n  const [matchedPath, mapping] = mappings[0], pathSuffix = resultMappingPath.substring(matchedPath.length);\n  return { mapping, matchedPath, pathSuffix };\n}\nfunction isArray(value) {\n  return value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n  return typeof value == \"object\" && value !== null;\n}\nfunction walkMap(value, mappingFn, path = []) {\n  return isArray(value) ? value.map((v, idx) => {\n    if (isRecord(v)) {\n      const _key = v._key;\n      if (typeof _key == \"string\")\n        return walkMap(v, mappingFn, path.concat({ _key, _index: idx }));\n    }\n    return walkMap(v, mappingFn, path.concat(idx));\n  }) : isRecord(value) ? Object.fromEntries(\n    Object.entries(value).map(([k, v]) => [k, walkMap(v, mappingFn, path.concat(k))])\n  ) : mappingFn(value, path);\n}\nfunction encodeIntoResult(result, csm, encoder) {\n  return walkMap(result, (value, path) => {\n    if (typeof value != \"string\")\n      return value;\n    const resolveMappingResult = resolveMapping(path, csm);\n    if (!resolveMappingResult)\n      return value;\n    const { mapping, matchedPath } = resolveMappingResult;\n    if (mapping.type !== \"value\" || mapping.source.type !== \"documentValue\")\n      return value;\n    const sourceDocument = csm.documents[mapping.source.document], sourcePath = csm.paths[mapping.source.path], matchPathSegments = parseJsonPath(matchedPath), fullSourceSegments = parseJsonPath(sourcePath).concat(path.slice(matchPathSegments.length));\n    return encoder({\n      sourcePath: fullSourceSegments,\n      sourceDocument,\n      resultPath: path,\n      value\n    });\n  });\n}\nconst DRAFTS_PREFIX = \"drafts.\";\nfunction getPublishedId(id) {\n  return id.startsWith(DRAFTS_PREFIX) ? id.slice(DRAFTS_PREFIX.length) : id;\n}\nfunction createEditUrl(options) {\n  const {\n    baseUrl,\n    workspace: _workspace = \"default\",\n    tool: _tool = \"default\",\n    id: _id,\n    type,\n    path,\n    projectId,\n    dataset\n  } = options;\n  if (!baseUrl)\n    throw new Error(\"baseUrl is required\");\n  if (!path)\n    throw new Error(\"path is required\");\n  if (!_id)\n    throw new Error(\"id is required\");\n  if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\"))\n    throw new Error(\"baseUrl must not end with a slash\");\n  const workspace = _workspace === \"default\" ? void 0 : _workspace, tool = _tool === \"default\" ? void 0 : _tool, id = getPublishedId(_id), stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path, searchParams = new URLSearchParams({\n    baseUrl,\n    id,\n    type,\n    path: stringifiedPath\n  });\n  workspace && searchParams.set(\"workspace\", workspace), tool && searchParams.set(\"tool\", tool), projectId && searchParams.set(\"projectId\", projectId), dataset && searchParams.set(\"dataset\", dataset), _id.startsWith(DRAFTS_PREFIX) && searchParams.set(\"isDraft\", \"\");\n  const segments = [baseUrl === \"/\" ? \"\" : baseUrl];\n  workspace && segments.push(workspace);\n  const routerParams = [\n    \"mode=presentation\",\n    `id=${id}`,\n    `type=${type}`,\n    `path=${encodeURIComponent(stringifiedPath)}`\n  ];\n  return tool && routerParams.push(`tool=${tool}`), segments.push(\"intent\", \"edit\", `${routerParams.join(\";\")}?${searchParams}`), segments.join(\"/\");\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n  let baseUrl = typeof studioUrl == \"string\" ? studioUrl : studioUrl.baseUrl;\n  return baseUrl !== \"/\" && (baseUrl = baseUrl.replace(/\\/$/, \"\")), typeof studioUrl == \"string\" ? { baseUrl } : { ...studioUrl, baseUrl };\n}\nconst filterDefault = ({ sourcePath, resultPath, value }) => {\n  if (isValidDate(value) || isValidURL(value))\n    return !1;\n  const endPath = sourcePath.at(-1);\n  return !(sourcePath.at(-2) === \"slug\" && endPath === \"current\" || typeof endPath == \"string\" && endPath.startsWith(\"_\") || typeof endPath == \"number\" && sourcePath.at(-2) === \"marks\" || endPath === \"href\" && typeof sourcePath.at(-2) == \"number\" && sourcePath.at(-3) === \"markDefs\" || endPath === \"style\" || endPath === \"listItem\" || sourcePath.some(\n    (path) => path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\"\n  ) || hasTypeLike(sourcePath) || hasTypeLike(resultPath) || typeof endPath == \"string\" && denylist.has(endPath));\n}, denylist = /* @__PURE__ */ new Set([\n  \"color\",\n  \"colour\",\n  \"currency\",\n  \"email\",\n  \"format\",\n  \"gid\",\n  \"hex\",\n  \"href\",\n  \"hsl\",\n  \"hsla\",\n  \"icon\",\n  \"id\",\n  \"index\",\n  \"key\",\n  \"language\",\n  \"layout\",\n  \"link\",\n  \"linkAction\",\n  \"locale\",\n  \"lqip\",\n  \"page\",\n  \"path\",\n  \"ref\",\n  \"rgb\",\n  \"rgba\",\n  \"route\",\n  \"secret\",\n  \"slug\",\n  \"status\",\n  \"tag\",\n  \"template\",\n  \"theme\",\n  \"type\",\n  \"unit\",\n  \"url\",\n  \"username\",\n  \"variant\",\n  \"website\"\n]);\nfunction isValidDate(dateString) {\n  return /^\\d{4}-\\d{2}-\\d{2}/.test(dateString) ? !!Date.parse(dateString) : !1;\n}\nfunction isValidURL(url) {\n  try {\n    new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n  } catch {\n    return !1;\n  }\n  return !0;\n}\nfunction hasTypeLike(path) {\n  return path.some((segment) => typeof segment == \"string\" && segment.match(/type/i) !== null);\n}\nconst TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n  const { filter, logger, enabled } = config;\n  if (!enabled) {\n    const msg = \"config.enabled must be true, don't call this function otherwise\";\n    throw (_a = logger == null ? void 0 : logger.error) == null || _a.call(logger, `[@sanity/client]: ${msg}`, { result, resultSourceMap, config }), new TypeError(msg);\n  }\n  if (!resultSourceMap)\n    return (_b = logger == null ? void 0 : logger.error) == null || _b.call(logger, \"[@sanity/client]: Missing Content Source Map from response body\", {\n      result,\n      resultSourceMap,\n      config\n    }), result;\n  if (!config.studioUrl) {\n    const msg = \"config.studioUrl must be defined\";\n    throw (_c = logger == null ? void 0 : logger.error) == null || _c.call(logger, `[@sanity/client]: ${msg}`, { result, resultSourceMap, config }), new TypeError(msg);\n  }\n  const report = {\n    encoded: [],\n    skipped: []\n  }, resultWithStega = encodeIntoResult(\n    result,\n    resultSourceMap,\n    ({ sourcePath, sourceDocument, resultPath, value }) => {\n      if ((typeof filter == \"function\" ? filter({ sourcePath, resultPath, filterDefault, sourceDocument, value }) : filterDefault({ sourcePath, resultPath, filterDefault, sourceDocument, value })) === !1)\n        return logger && report.skipped.push({\n          path: prettyPathForLogging(sourcePath),\n          value: `${value.slice(0, TRUNCATE_LENGTH)}${value.length > TRUNCATE_LENGTH ? \"...\" : \"\"}`,\n          length: value.length\n        }), value;\n      logger && report.encoded.push({\n        path: prettyPathForLogging(sourcePath),\n        value: `${value.slice(0, TRUNCATE_LENGTH)}${value.length > TRUNCATE_LENGTH ? \"...\" : \"\"}`,\n        length: value.length\n      });\n      const { baseUrl, workspace, tool } = resolveStudioBaseRoute(\n        typeof config.studioUrl == \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl\n      );\n      if (!baseUrl)\n        return value;\n      const { _id: id, _type: type, _projectId: projectId, _dataset: dataset } = sourceDocument;\n      return (0,_stegaClean_js__WEBPACK_IMPORTED_MODULE_0__.C)(\n        value,\n        {\n          origin: \"sanity.io\",\n          href: createEditUrl({\n            baseUrl,\n            workspace,\n            tool,\n            id,\n            type,\n            path: sourcePath,\n            ...!config.omitCrossDatasetReferenceData && { dataset, projectId }\n          })\n        },\n        // We use custom logic to determine if we should skip encoding\n        !1\n      );\n    }\n  );\n  if (logger) {\n    const isSkipping = report.skipped.length, isEncoding = report.encoded.length;\n    if ((isSkipping || isEncoding) && ((_d = (logger == null ? void 0 : logger.groupCollapsed) || logger.log) == null || _d(\"[@sanity/client]: Encoding source map into result\"), (_e = logger.log) == null || _e.call(\n      logger,\n      `[@sanity/client]: Paths encoded: ${report.encoded.length}, skipped: ${report.skipped.length}`\n    )), report.encoded.length > 0 && ((_f = logger == null ? void 0 : logger.log) == null || _f.call(logger, \"[@sanity/client]: Table of encoded paths\"), (_g = (logger == null ? void 0 : logger.table) || logger.log) == null || _g(report.encoded)), report.skipped.length > 0) {\n      const skipped = /* @__PURE__ */ new Set();\n      for (const { path } of report.skipped)\n        skipped.add(path.replace(reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n      (_h = logger == null ? void 0 : logger.log) == null || _h.call(logger, \"[@sanity/client]: List of skipped paths\", [...skipped.values()]);\n    }\n    (isSkipping || isEncoding) && ((_i = logger == null ? void 0 : logger.groupEnd) == null || _i.call(logger));\n  }\n  return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n  return toString(jsonPathToStudioPath(path));\n}\nvar stegaEncodeSourceMap$1 = /* @__PURE__ */ Object.freeze({\n  __proto__: null,\n  stegaEncodeSourceMap\n});\n\n//# sourceMappingURL=stegaEncodeSourceMap.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzLWVzL3N0ZWdhRW5jb2RlU291cmNlTWFwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTyxHQUFHLFFBQVE7QUFDbEM7QUFDQSxnQkFBZ0IsT0FBTyxFQUFFLG1CQUFtQixFQUFFLFFBQVE7QUFDdEQ7QUFDQSxnQkFBZ0IsT0FBTyxVQUFVLGFBQWE7QUFDOUM7QUFDQTtBQUNBLGdCQUFnQixPQUFPLEdBQUcsS0FBSyxHQUFHLEdBQUc7QUFDckM7QUFDQSxrREFBa0Qsd0JBQXdCO0FBQzFFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsd0RBQXdELDREQUE0RCx1Q0FBdUMsUUFBUSwwQ0FBMEMseURBQXlELFdBQVcsZUFBZSxhQUFhO0FBQzFUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx1Q0FBdUM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsdUNBQXVDLHdCQUF3QjtBQUMvRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsd0JBQXdCO0FBQy9ELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELG1CQUFtQjtBQUN0RTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEdBQUc7QUFDYixZQUFZLEtBQUs7QUFDakIsWUFBWSxvQ0FBb0M7QUFDaEQ7QUFDQSwyQ0FBMkMsS0FBSyx1Q0FBdUMsb0JBQW9CLEdBQUcsR0FBRyxhQUFhO0FBQzlIO0FBQ0E7QUFDQTtBQUNBLHFHQUFxRyxVQUFVLElBQUk7QUFDbkg7QUFDQSx5QkFBeUIsK0JBQStCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwwQkFBMEI7QUFDcEM7QUFDQTtBQUNBLHdHQUF3RyxJQUFJLEtBQUssaUNBQWlDO0FBQ2xKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esd0dBQXdHLElBQUksS0FBSyxpQ0FBaUM7QUFDbEo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLE9BQU8sK0NBQStDO0FBQ3RELGtEQUFrRCw4REFBOEQsb0JBQW9CLDhEQUE4RDtBQUNsTTtBQUNBO0FBQ0Esb0JBQW9CLGdDQUFnQyxFQUFFLDRDQUE0QztBQUNsRztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCLGdDQUFnQyxFQUFFLDRDQUE0QztBQUNoRztBQUNBLE9BQU87QUFDUCxjQUFjLDJCQUEyQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUVBQWlFO0FBQy9FLGFBQWEsaURBQUM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRCxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxzQkFBc0IsYUFBYSxzQkFBc0I7QUFDbkc7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUtDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvY2xpZW50L2Rpc3QvX2NodW5rcy1lcy9zdGVnYUVuY29kZVNvdXJjZU1hcC5qcz81Y2YyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEMgfSBmcm9tIFwiLi9zdGVnYUNsZWFuLmpzXCI7XG5jb25zdCByZUtleVNlZ21lbnQgPSAvX2tleVxccyo9PVxccypbJ1wiXSguKilbJ1wiXS87XG5mdW5jdGlvbiBpc0tleVNlZ21lbnQoc2VnbWVudCkge1xuICByZXR1cm4gdHlwZW9mIHNlZ21lbnQgPT0gXCJzdHJpbmdcIiA/IHJlS2V5U2VnbWVudC50ZXN0KHNlZ21lbnQudHJpbSgpKSA6IHR5cGVvZiBzZWdtZW50ID09IFwib2JqZWN0XCIgJiYgXCJfa2V5XCIgaW4gc2VnbWVudDtcbn1cbmZ1bmN0aW9uIHRvU3RyaW5nKHBhdGgpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHBhdGgpKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlBhdGggaXMgbm90IGFuIGFycmF5XCIpO1xuICByZXR1cm4gcGF0aC5yZWR1Y2UoKHRhcmdldCwgc2VnbWVudCwgaSkgPT4ge1xuICAgIGNvbnN0IHNlZ21lbnRUeXBlID0gdHlwZW9mIHNlZ21lbnQ7XG4gICAgaWYgKHNlZ21lbnRUeXBlID09PSBcIm51bWJlclwiKVxuICAgICAgcmV0dXJuIGAke3RhcmdldH1bJHtzZWdtZW50fV1gO1xuICAgIGlmIChzZWdtZW50VHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgIHJldHVybiBgJHt0YXJnZXR9JHtpID09PSAwID8gXCJcIiA6IFwiLlwifSR7c2VnbWVudH1gO1xuICAgIGlmIChpc0tleVNlZ21lbnQoc2VnbWVudCkgJiYgc2VnbWVudC5fa2V5KVxuICAgICAgcmV0dXJuIGAke3RhcmdldH1bX2tleT09XCIke3NlZ21lbnQuX2tleX1cIl1gO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNlZ21lbnQpKSB7XG4gICAgICBjb25zdCBbZnJvbSwgdG9dID0gc2VnbWVudDtcbiAgICAgIHJldHVybiBgJHt0YXJnZXR9WyR7ZnJvbX06JHt0b31dYDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwYXRoIHNlZ21lbnQgXFxgJHtKU09OLnN0cmluZ2lmeShzZWdtZW50KX1cXGBgKTtcbiAgfSwgXCJcIik7XG59XG5jb25zdCBFU0NBUEUgPSB7XG4gIFwiXFxmXCI6IFwiXFxcXGZcIixcbiAgXCJcXG5cIjogXCJcXFxcblwiLFxuICBcIlxcclwiOiBcIlxcXFxyXCIsXG4gIFwiXHRcIjogXCJcXFxcdFwiLFxuICBcIidcIjogXCJcXFxcJ1wiLFxuICBcIlxcXFxcIjogXCJcXFxcXFxcXFwiXG59LCBVTkVTQ0FQRSA9IHtcbiAgXCJcXFxcZlwiOiBcIlxcZlwiLFxuICBcIlxcXFxuXCI6IGBcbmAsXG4gIFwiXFxcXHJcIjogXCJcXHJcIixcbiAgXCJcXFxcdFwiOiBcIlx0XCIsXG4gIFwiXFxcXCdcIjogXCInXCIsXG4gIFwiXFxcXFxcXFxcIjogXCJcXFxcXCJcbn07XG5mdW5jdGlvbiBqc29uUGF0aChwYXRoKSB7XG4gIHJldHVybiBgJCR7cGF0aC5tYXAoKHNlZ21lbnQpID0+IHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgPyBgWycke3NlZ21lbnQucmVwbGFjZSgvW1xcZlxcblxcclxcdCdcXFxcXS9nLCAobWF0Y2gpID0+IEVTQ0FQRVttYXRjaF0pfSddYCA6IHR5cGVvZiBzZWdtZW50ID09IFwibnVtYmVyXCIgPyBgWyR7c2VnbWVudH1dYCA6IHNlZ21lbnQuX2tleSAhPT0gXCJcIiA/IGBbPyhALl9rZXk9PScke3NlZ21lbnQuX2tleS5yZXBsYWNlKC9bJ1xcXFxdL2csIChtYXRjaCkgPT4gRVNDQVBFW21hdGNoXSl9JyldYCA6IGBbJHtzZWdtZW50Ll9pbmRleH1dYCkuam9pbihcIlwiKX1gO1xufVxuZnVuY3Rpb24gcGFyc2VKc29uUGF0aChwYXRoKSB7XG4gIGNvbnN0IHBhcnNlZCA9IFtdLCBwYXJzZVJlID0gL1xcWycoLio/KSdcXF18XFxbKFxcZCspXFxdfFxcW1xcP1xcKEBcXC5fa2V5PT0nKC4qPyknXFwpXFxdL2c7XG4gIGxldCBtYXRjaDtcbiAgZm9yICg7IChtYXRjaCA9IHBhcnNlUmUuZXhlYyhwYXRoKSkgIT09IG51bGw7ICkge1xuICAgIGlmIChtYXRjaFsxXSAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBrZXkgPSBtYXRjaFsxXS5yZXBsYWNlKC9cXFxcKFxcXFx8ZnxufHJ8dHwnKS9nLCAobSkgPT4gVU5FU0NBUEVbbV0pO1xuICAgICAgcGFyc2VkLnB1c2goa2V5KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobWF0Y2hbMl0gIT09IHZvaWQgMCkge1xuICAgICAgcGFyc2VkLnB1c2gocGFyc2VJbnQobWF0Y2hbMl0sIDEwKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG1hdGNoWzNdICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IF9rZXkgPSBtYXRjaFszXS5yZXBsYWNlKC9cXFxcKFxcXFwnKS9nLCAobSkgPT4gVU5FU0NBUEVbbV0pO1xuICAgICAgcGFyc2VkLnB1c2goe1xuICAgICAgICBfa2V5LFxuICAgICAgICBfaW5kZXg6IC0xXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGFyc2VkO1xufVxuZnVuY3Rpb24ganNvblBhdGhUb1N0dWRpb1BhdGgocGF0aCkge1xuICByZXR1cm4gcGF0aC5tYXAoKHNlZ21lbnQpID0+IHtcbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2Ygc2VnbWVudCA9PSBcIm51bWJlclwiKVxuICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgaWYgKHNlZ21lbnQuX2tleSAhPT0gXCJcIilcbiAgICAgIHJldHVybiB7IF9rZXk6IHNlZ21lbnQuX2tleSB9O1xuICAgIGlmIChzZWdtZW50Ll9pbmRleCAhPT0gLTEpXG4gICAgICByZXR1cm4gc2VnbWVudC5faW5kZXg7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHNlZ21lbnQ6JHtKU09OLnN0cmluZ2lmeShzZWdtZW50KX1gKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBqc29uUGF0aFRvTWFwcGluZ1BhdGgocGF0aCkge1xuICByZXR1cm4gcGF0aC5tYXAoKHNlZ21lbnQpID0+IHtcbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2Ygc2VnbWVudCA9PSBcIm51bWJlclwiKVxuICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgaWYgKHNlZ21lbnQuX2luZGV4ICE9PSAtMSlcbiAgICAgIHJldHVybiBzZWdtZW50Ll9pbmRleDtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgc2VnbWVudDoke0pTT04uc3RyaW5naWZ5KHNlZ21lbnQpfWApO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVNYXBwaW5nKHJlc3VsdFBhdGgsIGNzbSkge1xuICBpZiAoIShjc20gIT0gbnVsbCAmJiBjc20ubWFwcGluZ3MpKVxuICAgIHJldHVybjtcbiAgY29uc3QgcmVzdWx0TWFwcGluZ1BhdGggPSBqc29uUGF0aChqc29uUGF0aFRvTWFwcGluZ1BhdGgocmVzdWx0UGF0aCkpO1xuICBpZiAoY3NtLm1hcHBpbmdzW3Jlc3VsdE1hcHBpbmdQYXRoXSAhPT0gdm9pZCAwKVxuICAgIHJldHVybiB7XG4gICAgICBtYXBwaW5nOiBjc20ubWFwcGluZ3NbcmVzdWx0TWFwcGluZ1BhdGhdLFxuICAgICAgbWF0Y2hlZFBhdGg6IHJlc3VsdE1hcHBpbmdQYXRoLFxuICAgICAgcGF0aFN1ZmZpeDogXCJcIlxuICAgIH07XG4gIGNvbnN0IG1hcHBpbmdzID0gT2JqZWN0LmVudHJpZXMoY3NtLm1hcHBpbmdzKS5maWx0ZXIoKFtrZXldKSA9PiByZXN1bHRNYXBwaW5nUGF0aC5zdGFydHNXaXRoKGtleSkpLnNvcnQoKFtrZXkxXSwgW2tleTJdKSA9PiBrZXkyLmxlbmd0aCAtIGtleTEubGVuZ3RoKTtcbiAgaWYgKG1hcHBpbmdzLmxlbmd0aCA9PSAwKVxuICAgIHJldHVybjtcbiAgY29uc3QgW21hdGNoZWRQYXRoLCBtYXBwaW5nXSA9IG1hcHBpbmdzWzBdLCBwYXRoU3VmZml4ID0gcmVzdWx0TWFwcGluZ1BhdGguc3Vic3RyaW5nKG1hdGNoZWRQYXRoLmxlbmd0aCk7XG4gIHJldHVybiB7IG1hcHBpbmcsIG1hdGNoZWRQYXRoLCBwYXRoU3VmZml4IH07XG59XG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzUmVjb3JkKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIHdhbGtNYXAodmFsdWUsIG1hcHBpbmdGbiwgcGF0aCA9IFtdKSB7XG4gIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcCgodiwgaWR4KSA9PiB7XG4gICAgaWYgKGlzUmVjb3JkKHYpKSB7XG4gICAgICBjb25zdCBfa2V5ID0gdi5fa2V5O1xuICAgICAgaWYgKHR5cGVvZiBfa2V5ID09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiB3YWxrTWFwKHYsIG1hcHBpbmdGbiwgcGF0aC5jb25jYXQoeyBfa2V5LCBfaW5kZXg6IGlkeCB9KSk7XG4gICAgfVxuICAgIHJldHVybiB3YWxrTWFwKHYsIG1hcHBpbmdGbiwgcGF0aC5jb25jYXQoaWR4KSk7XG4gIH0pIDogaXNSZWNvcmQodmFsdWUpID8gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlKS5tYXAoKFtrLCB2XSkgPT4gW2ssIHdhbGtNYXAodiwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdChrKSldKVxuICApIDogbWFwcGluZ0ZuKHZhbHVlLCBwYXRoKTtcbn1cbmZ1bmN0aW9uIGVuY29kZUludG9SZXN1bHQocmVzdWx0LCBjc20sIGVuY29kZXIpIHtcbiAgcmV0dXJuIHdhbGtNYXAocmVzdWx0LCAodmFsdWUsIHBhdGgpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgcmVzb2x2ZU1hcHBpbmdSZXN1bHQgPSByZXNvbHZlTWFwcGluZyhwYXRoLCBjc20pO1xuICAgIGlmICghcmVzb2x2ZU1hcHBpbmdSZXN1bHQpXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgeyBtYXBwaW5nLCBtYXRjaGVkUGF0aCB9ID0gcmVzb2x2ZU1hcHBpbmdSZXN1bHQ7XG4gICAgaWYgKG1hcHBpbmcudHlwZSAhPT0gXCJ2YWx1ZVwiIHx8IG1hcHBpbmcuc291cmNlLnR5cGUgIT09IFwiZG9jdW1lbnRWYWx1ZVwiKVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGNvbnN0IHNvdXJjZURvY3VtZW50ID0gY3NtLmRvY3VtZW50c1ttYXBwaW5nLnNvdXJjZS5kb2N1bWVudF0sIHNvdXJjZVBhdGggPSBjc20ucGF0aHNbbWFwcGluZy5zb3VyY2UucGF0aF0sIG1hdGNoUGF0aFNlZ21lbnRzID0gcGFyc2VKc29uUGF0aChtYXRjaGVkUGF0aCksIGZ1bGxTb3VyY2VTZWdtZW50cyA9IHBhcnNlSnNvblBhdGgoc291cmNlUGF0aCkuY29uY2F0KHBhdGguc2xpY2UobWF0Y2hQYXRoU2VnbWVudHMubGVuZ3RoKSk7XG4gICAgcmV0dXJuIGVuY29kZXIoe1xuICAgICAgc291cmNlUGF0aDogZnVsbFNvdXJjZVNlZ21lbnRzLFxuICAgICAgc291cmNlRG9jdW1lbnQsXG4gICAgICByZXN1bHRQYXRoOiBwYXRoLFxuICAgICAgdmFsdWVcbiAgICB9KTtcbiAgfSk7XG59XG5jb25zdCBEUkFGVFNfUFJFRklYID0gXCJkcmFmdHMuXCI7XG5mdW5jdGlvbiBnZXRQdWJsaXNoZWRJZChpZCkge1xuICByZXR1cm4gaWQuc3RhcnRzV2l0aChEUkFGVFNfUFJFRklYKSA/IGlkLnNsaWNlKERSQUZUU19QUkVGSVgubGVuZ3RoKSA6IGlkO1xufVxuZnVuY3Rpb24gY3JlYXRlRWRpdFVybChvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBiYXNlVXJsLFxuICAgIHdvcmtzcGFjZTogX3dvcmtzcGFjZSA9IFwiZGVmYXVsdFwiLFxuICAgIHRvb2w6IF90b29sID0gXCJkZWZhdWx0XCIsXG4gICAgaWQ6IF9pZCxcbiAgICB0eXBlLFxuICAgIHBhdGgsXG4gICAgcHJvamVjdElkLFxuICAgIGRhdGFzZXRcbiAgfSA9IG9wdGlvbnM7XG4gIGlmICghYmFzZVVybClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYXNlVXJsIGlzIHJlcXVpcmVkXCIpO1xuICBpZiAoIXBhdGgpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwicGF0aCBpcyByZXF1aXJlZFwiKTtcbiAgaWYgKCFfaWQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaWQgaXMgcmVxdWlyZWRcIik7XG4gIGlmIChiYXNlVXJsICE9PSBcIi9cIiAmJiBiYXNlVXJsLmVuZHNXaXRoKFwiL1wiKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYXNlVXJsIG11c3Qgbm90IGVuZCB3aXRoIGEgc2xhc2hcIik7XG4gIGNvbnN0IHdvcmtzcGFjZSA9IF93b3Jrc3BhY2UgPT09IFwiZGVmYXVsdFwiID8gdm9pZCAwIDogX3dvcmtzcGFjZSwgdG9vbCA9IF90b29sID09PSBcImRlZmF1bHRcIiA/IHZvaWQgMCA6IF90b29sLCBpZCA9IGdldFB1Ymxpc2hlZElkKF9pZCksIHN0cmluZ2lmaWVkUGF0aCA9IEFycmF5LmlzQXJyYXkocGF0aCkgPyB0b1N0cmluZyhqc29uUGF0aFRvU3R1ZGlvUGF0aChwYXRoKSkgOiBwYXRoLCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICBiYXNlVXJsLFxuICAgIGlkLFxuICAgIHR5cGUsXG4gICAgcGF0aDogc3RyaW5naWZpZWRQYXRoXG4gIH0pO1xuICB3b3Jrc3BhY2UgJiYgc2VhcmNoUGFyYW1zLnNldChcIndvcmtzcGFjZVwiLCB3b3Jrc3BhY2UpLCB0b29sICYmIHNlYXJjaFBhcmFtcy5zZXQoXCJ0b29sXCIsIHRvb2wpLCBwcm9qZWN0SWQgJiYgc2VhcmNoUGFyYW1zLnNldChcInByb2plY3RJZFwiLCBwcm9qZWN0SWQpLCBkYXRhc2V0ICYmIHNlYXJjaFBhcmFtcy5zZXQoXCJkYXRhc2V0XCIsIGRhdGFzZXQpLCBfaWQuc3RhcnRzV2l0aChEUkFGVFNfUFJFRklYKSAmJiBzZWFyY2hQYXJhbXMuc2V0KFwiaXNEcmFmdFwiLCBcIlwiKTtcbiAgY29uc3Qgc2VnbWVudHMgPSBbYmFzZVVybCA9PT0gXCIvXCIgPyBcIlwiIDogYmFzZVVybF07XG4gIHdvcmtzcGFjZSAmJiBzZWdtZW50cy5wdXNoKHdvcmtzcGFjZSk7XG4gIGNvbnN0IHJvdXRlclBhcmFtcyA9IFtcbiAgICBcIm1vZGU9cHJlc2VudGF0aW9uXCIsXG4gICAgYGlkPSR7aWR9YCxcbiAgICBgdHlwZT0ke3R5cGV9YCxcbiAgICBgcGF0aD0ke2VuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZmllZFBhdGgpfWBcbiAgXTtcbiAgcmV0dXJuIHRvb2wgJiYgcm91dGVyUGFyYW1zLnB1c2goYHRvb2w9JHt0b29sfWApLCBzZWdtZW50cy5wdXNoKFwiaW50ZW50XCIsIFwiZWRpdFwiLCBgJHtyb3V0ZXJQYXJhbXMuam9pbihcIjtcIil9PyR7c2VhcmNoUGFyYW1zfWApLCBzZWdtZW50cy5qb2luKFwiL1wiKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVTdHVkaW9CYXNlUm91dGUoc3R1ZGlvVXJsKSB7XG4gIGxldCBiYXNlVXJsID0gdHlwZW9mIHN0dWRpb1VybCA9PSBcInN0cmluZ1wiID8gc3R1ZGlvVXJsIDogc3R1ZGlvVXJsLmJhc2VVcmw7XG4gIHJldHVybiBiYXNlVXJsICE9PSBcIi9cIiAmJiAoYmFzZVVybCA9IGJhc2VVcmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpKSwgdHlwZW9mIHN0dWRpb1VybCA9PSBcInN0cmluZ1wiID8geyBiYXNlVXJsIH0gOiB7IC4uLnN0dWRpb1VybCwgYmFzZVVybCB9O1xufVxuY29uc3QgZmlsdGVyRGVmYXVsdCA9ICh7IHNvdXJjZVBhdGgsIHJlc3VsdFBhdGgsIHZhbHVlIH0pID0+IHtcbiAgaWYgKGlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1ZhbGlkVVJMKHZhbHVlKSlcbiAgICByZXR1cm4gITE7XG4gIGNvbnN0IGVuZFBhdGggPSBzb3VyY2VQYXRoLmF0KC0xKTtcbiAgcmV0dXJuICEoc291cmNlUGF0aC5hdCgtMikgPT09IFwic2x1Z1wiICYmIGVuZFBhdGggPT09IFwiY3VycmVudFwiIHx8IHR5cGVvZiBlbmRQYXRoID09IFwic3RyaW5nXCIgJiYgZW5kUGF0aC5zdGFydHNXaXRoKFwiX1wiKSB8fCB0eXBlb2YgZW5kUGF0aCA9PSBcIm51bWJlclwiICYmIHNvdXJjZVBhdGguYXQoLTIpID09PSBcIm1hcmtzXCIgfHwgZW5kUGF0aCA9PT0gXCJocmVmXCIgJiYgdHlwZW9mIHNvdXJjZVBhdGguYXQoLTIpID09IFwibnVtYmVyXCIgJiYgc291cmNlUGF0aC5hdCgtMykgPT09IFwibWFya0RlZnNcIiB8fCBlbmRQYXRoID09PSBcInN0eWxlXCIgfHwgZW5kUGF0aCA9PT0gXCJsaXN0SXRlbVwiIHx8IHNvdXJjZVBhdGguc29tZShcbiAgICAocGF0aCkgPT4gcGF0aCA9PT0gXCJtZXRhXCIgfHwgcGF0aCA9PT0gXCJtZXRhZGF0YVwiIHx8IHBhdGggPT09IFwib3BlbkdyYXBoXCIgfHwgcGF0aCA9PT0gXCJzZW9cIlxuICApIHx8IGhhc1R5cGVMaWtlKHNvdXJjZVBhdGgpIHx8IGhhc1R5cGVMaWtlKHJlc3VsdFBhdGgpIHx8IHR5cGVvZiBlbmRQYXRoID09IFwic3RyaW5nXCIgJiYgZGVueWxpc3QuaGFzKGVuZFBhdGgpKTtcbn0sIGRlbnlsaXN0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICBcImNvbG9yXCIsXG4gIFwiY29sb3VyXCIsXG4gIFwiY3VycmVuY3lcIixcbiAgXCJlbWFpbFwiLFxuICBcImZvcm1hdFwiLFxuICBcImdpZFwiLFxuICBcImhleFwiLFxuICBcImhyZWZcIixcbiAgXCJoc2xcIixcbiAgXCJoc2xhXCIsXG4gIFwiaWNvblwiLFxuICBcImlkXCIsXG4gIFwiaW5kZXhcIixcbiAgXCJrZXlcIixcbiAgXCJsYW5ndWFnZVwiLFxuICBcImxheW91dFwiLFxuICBcImxpbmtcIixcbiAgXCJsaW5rQWN0aW9uXCIsXG4gIFwibG9jYWxlXCIsXG4gIFwibHFpcFwiLFxuICBcInBhZ2VcIixcbiAgXCJwYXRoXCIsXG4gIFwicmVmXCIsXG4gIFwicmdiXCIsXG4gIFwicmdiYVwiLFxuICBcInJvdXRlXCIsXG4gIFwic2VjcmV0XCIsXG4gIFwic2x1Z1wiLFxuICBcInN0YXR1c1wiLFxuICBcInRhZ1wiLFxuICBcInRlbXBsYXRlXCIsXG4gIFwidGhlbWVcIixcbiAgXCJ0eXBlXCIsXG4gIFwidW5pdFwiLFxuICBcInVybFwiLFxuICBcInVzZXJuYW1lXCIsXG4gIFwidmFyaWFudFwiLFxuICBcIndlYnNpdGVcIlxuXSk7XG5mdW5jdGlvbiBpc1ZhbGlkRGF0ZShkYXRlU3RyaW5nKSB7XG4gIHJldHVybiAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9Ly50ZXN0KGRhdGVTdHJpbmcpID8gISFEYXRlLnBhcnNlKGRhdGVTdHJpbmcpIDogITE7XG59XG5mdW5jdGlvbiBpc1ZhbGlkVVJMKHVybCkge1xuICB0cnkge1xuICAgIG5ldyBVUkwodXJsLCB1cmwuc3RhcnRzV2l0aChcIi9cIikgPyBcImh0dHBzOi8vYWNtZS5jb21cIiA6IHZvaWQgMCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICByZXR1cm4gITA7XG59XG5mdW5jdGlvbiBoYXNUeXBlTGlrZShwYXRoKSB7XG4gIHJldHVybiBwYXRoLnNvbWUoKHNlZ21lbnQpID0+IHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgJiYgc2VnbWVudC5tYXRjaCgvdHlwZS9pKSAhPT0gbnVsbCk7XG59XG5jb25zdCBUUlVOQ0FURV9MRU5HVEggPSAyMDtcbmZ1bmN0aW9uIHN0ZWdhRW5jb2RlU291cmNlTWFwKHJlc3VsdCwgcmVzdWx0U291cmNlTWFwLCBjb25maWcpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2k7XG4gIGNvbnN0IHsgZmlsdGVyLCBsb2dnZXIsIGVuYWJsZWQgfSA9IGNvbmZpZztcbiAgaWYgKCFlbmFibGVkKSB7XG4gICAgY29uc3QgbXNnID0gXCJjb25maWcuZW5hYmxlZCBtdXN0IGJlIHRydWUsIGRvbid0IGNhbGwgdGhpcyBmdW5jdGlvbiBvdGhlcndpc2VcIjtcbiAgICB0aHJvdyAoX2EgPSBsb2dnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlci5lcnJvcikgPT0gbnVsbCB8fCBfYS5jYWxsKGxvZ2dlciwgYFtAc2FuaXR5L2NsaWVudF06ICR7bXNnfWAsIHsgcmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIGNvbmZpZyB9KSwgbmV3IFR5cGVFcnJvcihtc2cpO1xuICB9XG4gIGlmICghcmVzdWx0U291cmNlTWFwKVxuICAgIHJldHVybiAoX2IgPSBsb2dnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlci5lcnJvcikgPT0gbnVsbCB8fCBfYi5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnRdOiBNaXNzaW5nIENvbnRlbnQgU291cmNlIE1hcCBmcm9tIHJlc3BvbnNlIGJvZHlcIiwge1xuICAgICAgcmVzdWx0LFxuICAgICAgcmVzdWx0U291cmNlTWFwLFxuICAgICAgY29uZmlnXG4gICAgfSksIHJlc3VsdDtcbiAgaWYgKCFjb25maWcuc3R1ZGlvVXJsKSB7XG4gICAgY29uc3QgbXNnID0gXCJjb25maWcuc3R1ZGlvVXJsIG11c3QgYmUgZGVmaW5lZFwiO1xuICAgIHRocm93IChfYyA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmVycm9yKSA9PSBudWxsIHx8IF9jLmNhbGwobG9nZ2VyLCBgW0BzYW5pdHkvY2xpZW50XTogJHttc2d9YCwgeyByZXN1bHQsIHJlc3VsdFNvdXJjZU1hcCwgY29uZmlnIH0pLCBuZXcgVHlwZUVycm9yKG1zZyk7XG4gIH1cbiAgY29uc3QgcmVwb3J0ID0ge1xuICAgIGVuY29kZWQ6IFtdLFxuICAgIHNraXBwZWQ6IFtdXG4gIH0sIHJlc3VsdFdpdGhTdGVnYSA9IGVuY29kZUludG9SZXN1bHQoXG4gICAgcmVzdWx0LFxuICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAoeyBzb3VyY2VQYXRoLCBzb3VyY2VEb2N1bWVudCwgcmVzdWx0UGF0aCwgdmFsdWUgfSkgPT4ge1xuICAgICAgaWYgKCh0eXBlb2YgZmlsdGVyID09IFwiZnVuY3Rpb25cIiA/IGZpbHRlcih7IHNvdXJjZVBhdGgsIHJlc3VsdFBhdGgsIGZpbHRlckRlZmF1bHQsIHNvdXJjZURvY3VtZW50LCB2YWx1ZSB9KSA6IGZpbHRlckRlZmF1bHQoeyBzb3VyY2VQYXRoLCByZXN1bHRQYXRoLCBmaWx0ZXJEZWZhdWx0LCBzb3VyY2VEb2N1bWVudCwgdmFsdWUgfSkpID09PSAhMSlcbiAgICAgICAgcmV0dXJuIGxvZ2dlciAmJiByZXBvcnQuc2tpcHBlZC5wdXNoKHtcbiAgICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgICB2YWx1ZTogYCR7dmFsdWUuc2xpY2UoMCwgVFJVTkNBVEVfTEVOR1RIKX0ke3ZhbHVlLmxlbmd0aCA+IFRSVU5DQVRFX0xFTkdUSCA/IFwiLi4uXCIgOiBcIlwifWAsXG4gICAgICAgICAgbGVuZ3RoOiB2YWx1ZS5sZW5ndGhcbiAgICAgICAgfSksIHZhbHVlO1xuICAgICAgbG9nZ2VyICYmIHJlcG9ydC5lbmNvZGVkLnB1c2goe1xuICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgdmFsdWU6IGAke3ZhbHVlLnNsaWNlKDAsIFRSVU5DQVRFX0xFTkdUSCl9JHt2YWx1ZS5sZW5ndGggPiBUUlVOQ0FURV9MRU5HVEggPyBcIi4uLlwiIDogXCJcIn1gLFxuICAgICAgICBsZW5ndGg6IHZhbHVlLmxlbmd0aFxuICAgICAgfSk7XG4gICAgICBjb25zdCB7IGJhc2VVcmwsIHdvcmtzcGFjZSwgdG9vbCB9ID0gcmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZShcbiAgICAgICAgdHlwZW9mIGNvbmZpZy5zdHVkaW9VcmwgPT0gXCJmdW5jdGlvblwiID8gY29uZmlnLnN0dWRpb1VybChzb3VyY2VEb2N1bWVudCkgOiBjb25maWcuc3R1ZGlvVXJsXG4gICAgICApO1xuICAgICAgaWYgKCFiYXNlVXJsKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICBjb25zdCB7IF9pZDogaWQsIF90eXBlOiB0eXBlLCBfcHJvamVjdElkOiBwcm9qZWN0SWQsIF9kYXRhc2V0OiBkYXRhc2V0IH0gPSBzb3VyY2VEb2N1bWVudDtcbiAgICAgIHJldHVybiBDKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAge1xuICAgICAgICAgIG9yaWdpbjogXCJzYW5pdHkuaW9cIixcbiAgICAgICAgICBocmVmOiBjcmVhdGVFZGl0VXJsKHtcbiAgICAgICAgICAgIGJhc2VVcmwsXG4gICAgICAgICAgICB3b3Jrc3BhY2UsXG4gICAgICAgICAgICB0b29sLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcGF0aDogc291cmNlUGF0aCxcbiAgICAgICAgICAgIC4uLiFjb25maWcub21pdENyb3NzRGF0YXNldFJlZmVyZW5jZURhdGEgJiYgeyBkYXRhc2V0LCBwcm9qZWN0SWQgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFdlIHVzZSBjdXN0b20gbG9naWMgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBza2lwIGVuY29kaW5nXG4gICAgICAgICExXG4gICAgICApO1xuICAgIH1cbiAgKTtcbiAgaWYgKGxvZ2dlcikge1xuICAgIGNvbnN0IGlzU2tpcHBpbmcgPSByZXBvcnQuc2tpcHBlZC5sZW5ndGgsIGlzRW5jb2RpbmcgPSByZXBvcnQuZW5jb2RlZC5sZW5ndGg7XG4gICAgaWYgKChpc1NraXBwaW5nIHx8IGlzRW5jb2RpbmcpICYmICgoX2QgPSAobG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQpIHx8IGxvZ2dlci5sb2cpID09IG51bGwgfHwgX2QoXCJbQHNhbml0eS9jbGllbnRdOiBFbmNvZGluZyBzb3VyY2UgbWFwIGludG8gcmVzdWx0XCIpLCAoX2UgPSBsb2dnZXIubG9nKSA9PSBudWxsIHx8IF9lLmNhbGwoXG4gICAgICBsb2dnZXIsXG4gICAgICBgW0BzYW5pdHkvY2xpZW50XTogUGF0aHMgZW5jb2RlZDogJHtyZXBvcnQuZW5jb2RlZC5sZW5ndGh9LCBza2lwcGVkOiAke3JlcG9ydC5za2lwcGVkLmxlbmd0aH1gXG4gICAgKSksIHJlcG9ydC5lbmNvZGVkLmxlbmd0aCA+IDAgJiYgKChfZiA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmxvZykgPT0gbnVsbCB8fCBfZi5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnRdOiBUYWJsZSBvZiBlbmNvZGVkIHBhdGhzXCIpLCAoX2cgPSAobG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIudGFibGUpIHx8IGxvZ2dlci5sb2cpID09IG51bGwgfHwgX2cocmVwb3J0LmVuY29kZWQpKSwgcmVwb3J0LnNraXBwZWQubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgc2tpcHBlZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICBmb3IgKGNvbnN0IHsgcGF0aCB9IG9mIHJlcG9ydC5za2lwcGVkKVxuICAgICAgICBza2lwcGVkLmFkZChwYXRoLnJlcGxhY2UocmVLZXlTZWdtZW50LCBcIjBcIikucmVwbGFjZSgvXFxbXFxkK1xcXS9nLCBcIltdXCIpKTtcbiAgICAgIChfaCA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmxvZykgPT0gbnVsbCB8fCBfaC5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnRdOiBMaXN0IG9mIHNraXBwZWQgcGF0aHNcIiwgWy4uLnNraXBwZWQudmFsdWVzKCldKTtcbiAgICB9XG4gICAgKGlzU2tpcHBpbmcgfHwgaXNFbmNvZGluZykgJiYgKChfaSA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmdyb3VwRW5kKSA9PSBudWxsIHx8IF9pLmNhbGwobG9nZ2VyKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFdpdGhTdGVnYTtcbn1cbmZ1bmN0aW9uIHByZXR0eVBhdGhGb3JMb2dnaW5nKHBhdGgpIHtcbiAgcmV0dXJuIHRvU3RyaW5nKGpzb25QYXRoVG9TdHVkaW9QYXRoKHBhdGgpKTtcbn1cbnZhciBzdGVnYUVuY29kZVNvdXJjZU1hcCQxID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIHN0ZWdhRW5jb2RlU291cmNlTWFwXG59KTtcbmV4cG9ydCB7XG4gIGVuY29kZUludG9SZXN1bHQsXG4gIHN0ZWdhRW5jb2RlU291cmNlTWFwLFxuICBzdGVnYUVuY29kZVNvdXJjZU1hcCQxXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RlZ2FFbmNvZGVTb3VyY2VNYXAuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@sanity/client/dist/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* binding */ BasePatch),\n/* harmony export */   BaseTransaction: () => (/* binding */ BaseTransaction),\n/* harmony export */   ClientError: () => (/* binding */ ClientError),\n/* harmony export */   ObservablePatch: () => (/* binding */ ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* binding */ ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* binding */ ObservableTransaction),\n/* harmony export */   Patch: () => (/* binding */ Patch),\n/* harmony export */   SanityClient: () => (/* binding */ SanityClient),\n/* harmony export */   ServerError: () => (/* binding */ ServerError),\n/* harmony export */   Transaction: () => (/* binding */ Transaction),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   \"default\": () => (/* binding */ deprecatedCreateClient),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   unstable__adapter: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_7__.adapter),\n/* harmony export */   unstable__environment: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_0__.environment)\n/* harmony export */ });\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! get-it */ \"(ssr)/./node_modules/get-it/dist/index.js\");\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! get-it */ \"(ssr)/./node_modules/get-it/dist/_chunks-es/node-request.js\");\n/* harmony import */ var get_it_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! get-it/middleware */ \"(ssr)/./node_modules/get-it/dist/middleware.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ \"(ssr)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n/* harmony import */ var _chunks_es_stegaClean_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./_chunks-es/stegaClean.js */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\");\n\n\n\n\n\n\nvar __defProp$3 = Object.defineProperty, __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$3 = (obj, key, value) => (__defNormalProp$3(obj, typeof key != \"symbol\" ? key + \"\" : key, value), value);\nclass ClientError extends Error {\n  constructor(res) {\n    const props = extractErrorProps(res);\n    super(props.message), __publicField$3(this, \"response\"), __publicField$3(this, \"statusCode\", 400), __publicField$3(this, \"responseBody\"), __publicField$3(this, \"details\"), Object.assign(this, props);\n  }\n}\nclass ServerError extends Error {\n  constructor(res) {\n    const props = extractErrorProps(res);\n    super(props.message), __publicField$3(this, \"response\"), __publicField$3(this, \"statusCode\", 500), __publicField$3(this, \"responseBody\"), __publicField$3(this, \"details\"), Object.assign(this, props);\n  }\n}\nfunction extractErrorProps(res) {\n  const body = res.body, props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res),\n    message: \"\",\n    details: void 0\n  };\n  if (body.error && body.message)\n    return props.message = `${body.error} - ${body.message}`, props;\n  if (isMutationError(body) || isActionError(body)) {\n    const allItems = body.error.items || [], items = allItems.slice(0, 5).map((item) => {\n      var _a;\n      return (_a = item.error) == null ? void 0 : _a.description;\n    }).filter(Boolean);\n    let itemsStr = items.length ? `:\n- ${items.join(`\n- `)}` : \"\";\n    return allItems.length > 5 && (itemsStr += `\n...and ${allItems.length - 5} more`), props.message = `${body.error.description}${itemsStr}`, props.details = body.error, props;\n  }\n  return body.error && body.error.description ? (props.message = body.error.description, props.details = body.error, props) : (props.message = body.error || body.message || httpErrorMessage(res), props);\n}\nfunction isMutationError(body) {\n  return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"mutationError\" && typeof body.error.description == \"string\";\n}\nfunction isActionError(body) {\n  return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"actionError\" && typeof body.error.description == \"string\";\n}\nfunction isPlainObject(obj) {\n  return typeof obj == \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction httpErrorMessage(res) {\n  const statusMessage = res.statusMessage ? ` ${res.statusMessage}` : \"\";\n  return `${res.method}-request to ${res.url} resulted in HTTP ${res.statusCode}${statusMessage}`;\n}\nfunction stringifyBody(body, res) {\n  return (res.headers[\"content-type\"] || \"\").toLowerCase().indexOf(\"application/json\") !== -1 ? JSON.stringify(body, null, 2) : body;\n}\nconst httpError = {\n  onResponse: (res) => {\n    if (res.statusCode >= 500)\n      throw new ServerError(res);\n    if (res.statusCode >= 400)\n      throw new ClientError(res);\n    return res;\n  }\n}, printWarnings = {\n  onResponse: (res) => {\n    const warn = res.headers[\"x-sanity-warning\"];\n    return (Array.isArray(warn) ? warn : [warn]).filter(Boolean).forEach((msg) => console.warn(msg)), res;\n  }\n};\nfunction defineHttpRequest(envMiddleware) {\n  return (0,get_it__WEBPACK_IMPORTED_MODULE_0__.getIt)([\n    (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry)({ shouldRetry }),\n    ...envMiddleware,\n    printWarnings,\n    (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonRequest)(),\n    (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonResponse)(),\n    (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.progress)(),\n    httpError,\n    (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.observable)({ implementation: rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable })\n  ]);\n}\nfunction shouldRetry(err, attempt, options) {\n  if (options.maxRetries === 0)\n    return !1;\n  const isSafe = options.method === \"GET\" || options.method === \"HEAD\", isQuery = (options.uri || options.url).startsWith(\"/data/query\"), isRetriableResponse = err.response && (err.response.statusCode === 429 || err.response.statusCode === 502 || err.response.statusCode === 503);\n  return (isSafe || isQuery) && isRetriableResponse ? !0 : get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry.shouldRetry(err, attempt, options);\n}\nfunction getSelection(sel) {\n  if (typeof sel == \"string\")\n    return { id: sel };\n  if (Array.isArray(sel))\n    return { query: \"*[_id in $ids]\", params: { ids: sel } };\n  if (typeof sel == \"object\" && sel !== null && \"query\" in sel && typeof sel.query == \"string\")\n    return \"params\" in sel && typeof sel.params == \"object\" && sel.params !== null ? { query: sel.query, params: sel.params } : { query: sel.query };\n  const selectionOpts = [\n    \"* Document ID (<docId>)\",\n    \"* Array of document IDs\",\n    \"* Object containing `query`\"\n  ].join(`\n`);\n  throw new Error(`Unknown selection - must be one of:\n\n${selectionOpts}`);\n}\nconst VALID_ASSET_TYPES = [\"image\", \"file\"], VALID_INSERT_LOCATIONS = [\"before\", \"after\", \"replace\"], dataset = (name2) => {\n  if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name2))\n    throw new Error(\n      \"Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters\"\n    );\n}, projectId = (id) => {\n  if (!/^[-a-z0-9]+$/i.test(id))\n    throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\");\n}, validateAssetType = (type) => {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1)\n    throw new Error(`Invalid asset type: ${type}. Must be one of ${VALID_ASSET_TYPES.join(\", \")}`);\n}, validateObject = (op, val) => {\n  if (val === null || typeof val != \"object\" || Array.isArray(val))\n    throw new Error(`${op}() takes an object of properties`);\n}, validateDocumentId = (op, id) => {\n  if (typeof id != \"string\" || !/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(id) || id.includes(\"..\"))\n    throw new Error(`${op}(): \"${id}\" is not a valid document ID`);\n}, requireDocumentId = (op, doc) => {\n  if (!doc._id)\n    throw new Error(`${op}() requires that the document contains an ID (\"_id\" property)`);\n  validateDocumentId(op, doc._id);\n}, validateInsert = (at, selector, items) => {\n  const signature = \"insert(at, selector, items)\";\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    const valid = VALID_INSERT_LOCATIONS.map((loc) => `\"${loc}\"`).join(\", \");\n    throw new Error(`${signature} takes an \"at\"-argument which is one of: ${valid}`);\n  }\n  if (typeof selector != \"string\")\n    throw new Error(`${signature} takes a \"selector\"-argument which must be a string`);\n  if (!Array.isArray(items))\n    throw new Error(`${signature} takes an \"items\"-argument which must be an array`);\n}, hasDataset = (config) => {\n  if (!config.dataset)\n    throw new Error(\"`dataset` must be provided to perform queries\");\n  return config.dataset || \"\";\n}, requestTag = (tag) => {\n  if (typeof tag != \"string\" || !/^[a-z0-9._-]{1,75}$/i.test(tag))\n    throw new Error(\n      \"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\"\n    );\n  return tag;\n};\nvar __defProp$2 = Object.defineProperty, __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$2 = (obj, key, value) => (__defNormalProp$2(obj, typeof key != \"symbol\" ? key + \"\" : key, value), value), __accessCheck$7 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n}, __privateGet$7 = (obj, member, getter) => (__accessCheck$7(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj)), __privateAdd$7 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n}, __privateSet$7 = (obj, member, value, setter) => (__accessCheck$7(obj, member, \"write to private field\"), member.set(obj, value), value);\nclass BasePatch {\n  constructor(selection, operations = {}) {\n    __publicField$2(this, \"selection\"), __publicField$2(this, \"operations\"), this.selection = selection, this.operations = operations;\n  }\n  /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */\n  set(attrs) {\n    return this._assign(\"set\", attrs);\n  }\n  /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */\n  setIfMissing(attrs) {\n    return this._assign(\"setIfMissing\", attrs);\n  }\n  /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */\n  diffMatchPatch(attrs) {\n    return validateObject(\"diffMatchPatch\", attrs), this._assign(\"diffMatchPatch\", attrs);\n  }\n  /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */\n  unset(attrs) {\n    if (!Array.isArray(attrs))\n      throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");\n    return this.operations = Object.assign({}, this.operations, { unset: attrs }), this;\n  }\n  /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */\n  inc(attrs) {\n    return this._assign(\"inc\", attrs);\n  }\n  /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */\n  dec(attrs) {\n    return this._assign(\"dec\", attrs);\n  }\n  /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */\n  insert(at, selector, items) {\n    return validateInsert(at, selector, items), this._assign(\"insert\", { [at]: selector, items });\n  }\n  /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */\n  append(selector, items) {\n    return this.insert(\"after\", `${selector}[-1]`, items);\n  }\n  /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */\n  prepend(selector, items) {\n    return this.insert(\"before\", `${selector}[0]`, items);\n  }\n  /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */\n  splice(selector, start, deleteCount, items) {\n    const delAll = typeof deleteCount > \"u\" || deleteCount === -1, startIndex = start < 0 ? start - 1 : start, delCount = delAll ? -1 : Math.max(0, start + deleteCount), delRange = startIndex < 0 && delCount >= 0 ? \"\" : delCount, rangeSelector = `${selector}[${startIndex}:${delRange}]`;\n    return this.insert(\"replace\", rangeSelector, items || []);\n  }\n  /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */\n  ifRevisionId(rev) {\n    return this.operations.ifRevisionID = rev, this;\n  }\n  /**\n   * Return a plain JSON representation of the patch\n   */\n  serialize() {\n    return { ...getSelection(this.selection), ...this.operations };\n  }\n  /**\n   * Return a plain JSON representation of the patch\n   */\n  toJSON() {\n    return this.serialize();\n  }\n  /**\n   * Clears the patch of all operations\n   */\n  reset() {\n    return this.operations = {}, this;\n  }\n  _assign(op, props, merge = !0) {\n    return validateObject(op, props), this.operations = Object.assign({}, this.operations, {\n      [op]: Object.assign({}, merge && this.operations[op] || {}, props)\n    }), this;\n  }\n  _set(op, props) {\n    return this._assign(op, props, !1);\n  }\n}\nvar _client$6;\nconst _ObservablePatch = class _ObservablePatch2 extends BasePatch {\n  constructor(selection, operations, client) {\n    super(selection, operations), __privateAdd$7(this, _client$6, void 0), __privateSet$7(this, _client$6, client);\n  }\n  /**\n   * Clones the patch\n   */\n  clone() {\n    return new _ObservablePatch2(this.selection, { ...this.operations }, __privateGet$7(this, _client$6));\n  }\n  commit(options) {\n    if (!__privateGet$7(this, _client$6))\n      throw new Error(\n        \"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\"\n      );\n    const returnFirst = typeof this.selection == \"string\", opts = Object.assign({ returnFirst, returnDocuments: !0 }, options);\n    return __privateGet$7(this, _client$6).mutate({ patch: this.serialize() }, opts);\n  }\n};\n_client$6 = /* @__PURE__ */ new WeakMap();\nlet ObservablePatch = _ObservablePatch;\nvar _client2$5;\nconst _Patch = class _Patch2 extends BasePatch {\n  constructor(selection, operations, client) {\n    super(selection, operations), __privateAdd$7(this, _client2$5, void 0), __privateSet$7(this, _client2$5, client);\n  }\n  /**\n   * Clones the patch\n   */\n  clone() {\n    return new _Patch2(this.selection, { ...this.operations }, __privateGet$7(this, _client2$5));\n  }\n  commit(options) {\n    if (!__privateGet$7(this, _client2$5))\n      throw new Error(\n        \"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\"\n      );\n    const returnFirst = typeof this.selection == \"string\", opts = Object.assign({ returnFirst, returnDocuments: !0 }, options);\n    return __privateGet$7(this, _client2$5).mutate({ patch: this.serialize() }, opts);\n  }\n};\n_client2$5 = /* @__PURE__ */ new WeakMap();\nlet Patch = _Patch;\nvar __defProp$1 = Object.defineProperty, __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$1 = (obj, key, value) => (__defNormalProp$1(obj, typeof key != \"symbol\" ? key + \"\" : key, value), value), __accessCheck$6 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n}, __privateGet$6 = (obj, member, getter) => (__accessCheck$6(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj)), __privateAdd$6 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n}, __privateSet$6 = (obj, member, value, setter) => (__accessCheck$6(obj, member, \"write to private field\"), member.set(obj, value), value);\nconst defaultMutateOptions = { returnDocuments: !1 };\nclass BaseTransaction {\n  constructor(operations = [], transactionId) {\n    __publicField$1(this, \"operations\"), __publicField$1(this, \"trxId\"), this.operations = operations, this.trxId = transactionId;\n  }\n  /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */\n  create(doc) {\n    return validateObject(\"create\", doc), this._add({ create: doc });\n  }\n  /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */\n  createIfNotExists(doc) {\n    const op = \"createIfNotExists\";\n    return validateObject(op, doc), requireDocumentId(op, doc), this._add({ [op]: doc });\n  }\n  /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */\n  createOrReplace(doc) {\n    const op = \"createOrReplace\";\n    return validateObject(op, doc), requireDocumentId(op, doc), this._add({ [op]: doc });\n  }\n  /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */\n  delete(documentId) {\n    return validateDocumentId(\"delete\", documentId), this._add({ delete: { id: documentId } });\n  }\n  transactionId(id) {\n    return id ? (this.trxId = id, this) : this.trxId;\n  }\n  /**\n   * Return a plain JSON representation of the transaction\n   */\n  serialize() {\n    return [...this.operations];\n  }\n  /**\n   * Return a plain JSON representation of the transaction\n   */\n  toJSON() {\n    return this.serialize();\n  }\n  /**\n   * Clears the transaction of all operations\n   */\n  reset() {\n    return this.operations = [], this;\n  }\n  _add(mut) {\n    return this.operations.push(mut), this;\n  }\n}\nvar _client$5;\nconst _Transaction = class _Transaction2 extends BaseTransaction {\n  constructor(operations, client, transactionId) {\n    super(operations, transactionId), __privateAdd$6(this, _client$5, void 0), __privateSet$6(this, _client$5, client);\n  }\n  /**\n   * Clones the transaction\n   */\n  clone() {\n    return new _Transaction2([...this.operations], __privateGet$6(this, _client$5), this.trxId);\n  }\n  commit(options) {\n    if (!__privateGet$6(this, _client$5))\n      throw new Error(\n        \"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\"\n      );\n    return __privateGet$6(this, _client$5).mutate(\n      this.serialize(),\n      Object.assign({ transactionId: this.trxId }, defaultMutateOptions, options || {})\n    );\n  }\n  patch(patchOrDocumentId, patchOps) {\n    const isBuilder = typeof patchOps == \"function\";\n    if (typeof patchOrDocumentId != \"string\" && patchOrDocumentId instanceof Patch)\n      return this._add({ patch: patchOrDocumentId.serialize() });\n    if (isBuilder) {\n      const patch = patchOps(new Patch(patchOrDocumentId, {}, __privateGet$6(this, _client$5)));\n      if (!(patch instanceof Patch))\n        throw new Error(\"function passed to `patch()` must return the patch\");\n      return this._add({ patch: patch.serialize() });\n    }\n    return this._add({ patch: { id: patchOrDocumentId, ...patchOps } });\n  }\n};\n_client$5 = /* @__PURE__ */ new WeakMap();\nlet Transaction = _Transaction;\nvar _client2$4;\nconst _ObservableTransaction = class _ObservableTransaction2 extends BaseTransaction {\n  constructor(operations, client, transactionId) {\n    super(operations, transactionId), __privateAdd$6(this, _client2$4, void 0), __privateSet$6(this, _client2$4, client);\n  }\n  /**\n   * Clones the transaction\n   */\n  clone() {\n    return new _ObservableTransaction2([...this.operations], __privateGet$6(this, _client2$4), this.trxId);\n  }\n  commit(options) {\n    if (!__privateGet$6(this, _client2$4))\n      throw new Error(\n        \"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\"\n      );\n    return __privateGet$6(this, _client2$4).mutate(\n      this.serialize(),\n      Object.assign({ transactionId: this.trxId }, defaultMutateOptions, options || {})\n    );\n  }\n  patch(patchOrDocumentId, patchOps) {\n    const isBuilder = typeof patchOps == \"function\";\n    if (typeof patchOrDocumentId != \"string\" && patchOrDocumentId instanceof ObservablePatch)\n      return this._add({ patch: patchOrDocumentId.serialize() });\n    if (isBuilder) {\n      const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, __privateGet$6(this, _client2$4)));\n      if (!(patch instanceof ObservablePatch))\n        throw new Error(\"function passed to `patch()` must return the patch\");\n      return this._add({ patch: patch.serialize() });\n    }\n    return this._add({ patch: { id: patchOrDocumentId, ...patchOps } });\n  }\n};\n_client2$4 = /* @__PURE__ */ new WeakMap();\nlet ObservableTransaction = _ObservableTransaction;\nconst BASE_URL = \"https://www.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n  return BASE_URL + slug;\n}\nfunction once(fn) {\n  let didCall = !1, returnValue;\n  return (...args) => (didCall || (returnValue = fn(...args), didCall = !0), returnValue);\n}\nconst createWarningPrinter = (message) => (\n  // eslint-disable-next-line no-console\n  once((...args) => console.warn(message.join(\" \"), ...args))\n), printCdnAndWithCredentialsWarning = createWarningPrinter([\n  \"Because you set `withCredentials` to true, we will override your `useCdn`\",\n  \"setting to be false since (cookie-based) credentials are never set on the CDN\"\n]), printCdnWarning = createWarningPrinter([\n  \"Since you haven't set a value for `useCdn`, we will deliver content using our\",\n  \"global, edge-cached API-CDN. If you wish to have content delivered faster, set\",\n  \"`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API.\"\n]), printCdnPreviewDraftsWarning = createWarningPrinter([\n  \"The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.\",\n  \"The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning.\"\n]), printBrowserTokenWarning = createWarningPrinter([\n  \"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\",\n  `See ${generateHelpUrl(\n    \"js-client-browser-token\"\n  )} for more information and how to hide this warning.`\n]), printNoApiVersionSpecifiedWarning = createWarningPrinter([\n  \"Using the Sanity client without specifying an API version is deprecated.\",\n  `See ${generateHelpUrl(\"js-client-api-version\")}`\n]), printNoDefaultExport = createWarningPrinter([\n  \"The default export of @sanity/client has been deprecated. Use the named export `createClient` instead.\"\n]), defaultCdnHost = \"apicdn.sanity.io\", defaultConfig = {\n  apiHost: \"https://api.sanity.io\",\n  apiVersion: \"1\",\n  useProjectHostname: !0,\n  stega: { enabled: !1 }\n}, LOCALHOSTS = [\"localhost\", \"127.0.0.1\", \"0.0.0.0\"], isLocal = (host) => LOCALHOSTS.indexOf(host) !== -1;\nfunction validateApiVersion(apiVersion) {\n  if (apiVersion === \"1\" || apiVersion === \"X\")\n    return;\n  const apiDate = new Date(apiVersion);\n  if (!(/^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0))\n    throw new Error(\"Invalid API version string, expected `1` or date in format `YYYY-MM-DD`\");\n}\nconst validateApiPerspective = function(perspective) {\n  switch (perspective) {\n    case \"previewDrafts\":\n    case \"published\":\n    case \"raw\":\n      return;\n    default:\n      throw new TypeError(\n        \"Invalid API perspective string, expected `published`, `previewDrafts` or `raw`\"\n      );\n  }\n}, initConfig = (config, prevConfig) => {\n  const specifiedConfig = {\n    ...prevConfig,\n    ...config,\n    stega: {\n      ...typeof prevConfig.stega == \"boolean\" ? { enabled: prevConfig.stega } : prevConfig.stega || defaultConfig.stega,\n      ...typeof config.stega == \"boolean\" ? { enabled: config.stega } : config.stega || {}\n    }\n  };\n  specifiedConfig.apiVersion || printNoApiVersionSpecifiedWarning();\n  const newConfig = {\n    ...defaultConfig,\n    ...specifiedConfig\n  }, projectBased = newConfig.useProjectHostname;\n  if (typeof Promise > \"u\") {\n    const helpUrl = generateHelpUrl(\"js-client-promise-polyfill\");\n    throw new Error(`No native Promise-implementation found, polyfill needed - see ${helpUrl}`);\n  }\n  if (projectBased && !newConfig.projectId)\n    throw new Error(\"Configuration must contain `projectId`\");\n  if (typeof newConfig.perspective == \"string\" && validateApiPerspective(newConfig.perspective), \"encodeSourceMap\" in newConfig)\n    throw new Error(\n      \"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?\"\n    );\n  if (\"encodeSourceMapAtPath\" in newConfig)\n    throw new Error(\n      \"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?\"\n    );\n  if (typeof newConfig.stega.enabled != \"boolean\")\n    throw new Error(`stega.enabled must be a boolean, received ${newConfig.stega.enabled}`);\n  if (newConfig.stega.enabled && newConfig.stega.studioUrl === void 0)\n    throw new Error(\"stega.studioUrl must be defined when stega.enabled is true\");\n  if (newConfig.stega.enabled && typeof newConfig.stega.studioUrl != \"string\" && typeof newConfig.stega.studioUrl != \"function\")\n    throw new Error(\n      `stega.studioUrl must be a string or a function, received ${newConfig.stega.studioUrl}`\n    );\n  const isBrowser = typeof window < \"u\" && window.location && window.location.hostname, isLocalhost = isBrowser && isLocal(window.location.hostname);\n  isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== !0 ? printBrowserTokenWarning() : typeof newConfig.useCdn > \"u\" && printCdnWarning(), projectBased && projectId(newConfig.projectId), newConfig.dataset && dataset(newConfig.dataset), \"requestTagPrefix\" in newConfig && (newConfig.requestTagPrefix = newConfig.requestTagPrefix ? requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, \"\") : void 0), newConfig.apiVersion = `${newConfig.apiVersion}`.replace(/^v/, \"\"), newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost, newConfig.useCdn === !0 && newConfig.withCredentials && printCdnAndWithCredentialsWarning(), newConfig.useCdn = newConfig.useCdn !== !1 && !newConfig.withCredentials, validateApiVersion(newConfig.apiVersion);\n  const hostParts = newConfig.apiHost.split(\"://\", 2), protocol = hostParts[0], host = hostParts[1], cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n  return newConfig.useProjectHostname ? (newConfig.url = `${protocol}://${newConfig.projectId}.${host}/v${newConfig.apiVersion}`, newConfig.cdnUrl = `${protocol}://${newConfig.projectId}.${cdnHost}/v${newConfig.apiVersion}`) : (newConfig.url = `${newConfig.apiHost}/v${newConfig.apiVersion}`, newConfig.cdnUrl = newConfig.url), newConfig;\n}, projectHeader = \"X-Sanity-Project-ID\";\nfunction requestOptions(config, overrides = {}) {\n  const headers2 = {}, token = overrides.token || config.token;\n  token && (headers2.Authorization = `Bearer ${token}`), !overrides.useGlobalApi && !config.useProjectHostname && config.projectId && (headers2[projectHeader] = config.projectId);\n  const withCredentials = !!(typeof overrides.withCredentials > \"u\" ? config.token || config.withCredentials : overrides.withCredentials), timeout = typeof overrides.timeout > \"u\" ? config.timeout : overrides.timeout;\n  return Object.assign({}, overrides, {\n    headers: Object.assign({}, headers2, overrides.headers || {}),\n    timeout: typeof timeout > \"u\" ? 5 * 60 * 1e3 : timeout,\n    proxy: overrides.proxy || config.proxy,\n    json: !0,\n    withCredentials,\n    fetch: typeof overrides.fetch == \"object\" && typeof config.fetch == \"object\" ? { ...config.fetch, ...overrides.fetch } : overrides.fetch || config.fetch\n  });\n}\nconst encodeQueryString = ({\n  query,\n  params = {},\n  options = {}\n}) => {\n  const searchParams = new URLSearchParams(), { tag, returnQuery, ...opts } = options;\n  tag && searchParams.append(\"tag\", tag), searchParams.append(\"query\", query);\n  for (const [key, value] of Object.entries(params))\n    searchParams.append(`$${key}`, JSON.stringify(value));\n  for (const [key, value] of Object.entries(opts))\n    value && searchParams.append(key, `${value}`);\n  return returnQuery === !1 && searchParams.append(\"returnQuery\", \"false\"), `?${searchParams}`;\n}, excludeFalsey = (param, defValue) => param === !1 ? void 0 : typeof param > \"u\" ? defValue : param, getMutationQuery = (options = {}) => ({\n  dryRun: options.dryRun,\n  returnIds: !0,\n  returnDocuments: excludeFalsey(options.returnDocuments, !0),\n  visibility: options.visibility || \"sync\",\n  autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n  skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n}), isResponse = (event) => event.type === \"response\", getBody = (event) => event.body, indexBy = (docs, attr) => docs.reduce((indexed, doc) => (indexed[attr(doc)] = doc, indexed), /* @__PURE__ */ Object.create(null)), getQuerySizeLimit = 11264;\nfunction _fetch(client, httpRequest, _stega, query, _params = {}, options = {}) {\n  const stega = \"stega\" in options ? {\n    ..._stega || {},\n    ...typeof options.stega == \"boolean\" ? { enabled: options.stega } : options.stega || {}\n  } : _stega, params = stega.enabled ? (0,_chunks_es_stegaClean_js__WEBPACK_IMPORTED_MODULE_3__.stegaClean)(_params) : _params, mapResponse = options.filterResponse === !1 ? (res) => res : (res) => res.result, { cache, next, ...opts } = {\n    // Opt out of setting a `signal` on an internal `fetch` if one isn't provided.\n    // This is necessary in React Server Components to avoid opting out of Request Memoization.\n    useAbortSignal: typeof options.signal < \"u\",\n    // Set `resultSourceMap' when stega is enabled, as it's required for encoding.\n    resultSourceMap: stega.enabled ? \"withKeyArraySelector\" : options.resultSourceMap,\n    ...options,\n    // Default to not returning the query, unless `filterResponse` is `false`,\n    // or `returnQuery` is explicitly set. `true` is the default in Content Lake, so skip if truthy\n    returnQuery: options.filterResponse === !1 && options.returnQuery !== !1\n  }, reqOpts = typeof cache < \"u\" || typeof next < \"u\" ? { ...opts, fetch: { cache, next } } : opts, $request = _dataRequest(client, httpRequest, \"query\", { query, params }, reqOpts);\n  return stega.enabled ? $request.pipe(\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.combineLatestWith)(\n      (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.from)(\n        __webpack_require__.e(/*! import() */ \"vendor-chunks/@sanity\").then(__webpack_require__.bind(__webpack_require__, /*! ./_chunks-es/stegaEncodeSourceMap.js */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js\")).then(function(n) {\n          return n.stegaEncodeSourceMap$1;\n        }).then(\n          ({ stegaEncodeSourceMap }) => stegaEncodeSourceMap\n        )\n      )\n    ),\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(\n      ([res, stegaEncodeSourceMap]) => {\n        const result = stegaEncodeSourceMap(res.result, res.resultSourceMap, stega);\n        return mapResponse({ ...res, result });\n      }\n    )\n  ) : $request.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(mapResponse));\n}\nfunction _getDocument(client, httpRequest, id, opts = {}) {\n  const options = { uri: _getDataUrl(client, \"doc\", id), json: !0, tag: opts.tag };\n  return _requestObservable(client, httpRequest, options).pipe(\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)(isResponse),\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((event) => event.body.documents && event.body.documents[0])\n  );\n}\nfunction _getDocuments(client, httpRequest, ids, opts = {}) {\n  const options = { uri: _getDataUrl(client, \"doc\", ids.join(\",\")), json: !0, tag: opts.tag };\n  return _requestObservable(client, httpRequest, options).pipe(\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)(isResponse),\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((event) => {\n      const indexed = indexBy(event.body.documents || [], (doc) => doc._id);\n      return ids.map((id) => indexed[id] || null);\n    })\n  );\n}\nfunction _createIfNotExists(client, httpRequest, doc, options) {\n  return requireDocumentId(\"createIfNotExists\", doc), _create(client, httpRequest, doc, \"createIfNotExists\", options);\n}\nfunction _createOrReplace(client, httpRequest, doc, options) {\n  return requireDocumentId(\"createOrReplace\", doc), _create(client, httpRequest, doc, \"createOrReplace\", options);\n}\nfunction _delete(client, httpRequest, selection, options) {\n  return _dataRequest(\n    client,\n    httpRequest,\n    \"mutate\",\n    { mutations: [{ delete: getSelection(selection) }] },\n    options\n  );\n}\nfunction _mutate(client, httpRequest, mutations, options) {\n  let mut;\n  mutations instanceof Patch || mutations instanceof ObservablePatch ? mut = { patch: mutations.serialize() } : mutations instanceof Transaction || mutations instanceof ObservableTransaction ? mut = mutations.serialize() : mut = mutations;\n  const muts = Array.isArray(mut) ? mut : [mut], transactionId = options && options.transactionId || void 0;\n  return _dataRequest(client, httpRequest, \"mutate\", { mutations: muts, transactionId }, options);\n}\nfunction _action(client, httpRequest, actions, options) {\n  const acts = Array.isArray(actions) ? actions : [actions], transactionId = options && options.transactionId || void 0, skipCrossDatasetReferenceValidation = options && options.skipCrossDatasetReferenceValidation || void 0, dryRun = options && options.dryRun || void 0;\n  return _dataRequest(\n    client,\n    httpRequest,\n    \"actions\",\n    { actions: acts, transactionId, skipCrossDatasetReferenceValidation, dryRun },\n    options\n  );\n}\nfunction _dataRequest(client, httpRequest, endpoint, body, options = {}) {\n  const isMutation = endpoint === \"mutate\", isAction = endpoint === \"actions\", isQuery = endpoint === \"query\", strQuery = isMutation || isAction ? \"\" : encodeQueryString(body), useGet = !isMutation && !isAction && strQuery.length < getQuerySizeLimit, stringQuery = useGet ? strQuery : \"\", returnFirst = options.returnFirst, { timeout, token, tag, headers: headers2, returnQuery, lastLiveEventId } = options, uri = _getDataUrl(client, endpoint, stringQuery), reqOptions = {\n    method: useGet ? \"GET\" : \"POST\",\n    uri,\n    json: !0,\n    body: useGet ? void 0 : body,\n    query: isMutation && getMutationQuery(options),\n    timeout,\n    headers: headers2,\n    token,\n    tag,\n    returnQuery,\n    perspective: options.perspective,\n    resultSourceMap: options.resultSourceMap,\n    lastLiveEventId: Array.isArray(lastLiveEventId) ? lastLiveEventId[0] : lastLiveEventId,\n    canUseCdn: isQuery,\n    signal: options.signal,\n    fetch: options.fetch,\n    useAbortSignal: options.useAbortSignal,\n    useCdn: options.useCdn\n  };\n  return _requestObservable(client, httpRequest, reqOptions).pipe(\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)(isResponse),\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(getBody),\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((res) => {\n      if (!isMutation)\n        return res;\n      const results = res.results || [];\n      if (options.returnDocuments)\n        return returnFirst ? results[0] && results[0].document : results.map((mut) => mut.document);\n      const key = returnFirst ? \"documentId\" : \"documentIds\", ids = returnFirst ? results[0] && results[0].id : results.map((mut) => mut.id);\n      return {\n        transactionId: res.transactionId,\n        results,\n        [key]: ids\n      };\n    })\n  );\n}\nfunction _create(client, httpRequest, doc, op, options = {}) {\n  const mutation = { [op]: doc }, opts = Object.assign({ returnFirst: !0, returnDocuments: !0 }, options);\n  return _dataRequest(client, httpRequest, \"mutate\", { mutations: [mutation] }, opts);\n}\nfunction _requestObservable(client, httpRequest, options) {\n  var _a, _b;\n  const uri = options.url || options.uri, config = client.config(), canUseCdn = typeof options.canUseCdn > \"u\" ? [\"GET\", \"HEAD\"].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/\") === 0 : options.canUseCdn;\n  let useCdn = ((_a = options.useCdn) != null ? _a : config.useCdn) && canUseCdn;\n  const tag = options.tag && config.requestTagPrefix ? [config.requestTagPrefix, options.tag].join(\".\") : options.tag || config.requestTagPrefix;\n  if (tag && options.tag !== null && (options.query = { tag: requestTag(tag), ...options.query }), [\"GET\", \"HEAD\", \"POST\"].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/query/\") === 0) {\n    const resultSourceMap = (_b = options.resultSourceMap) != null ? _b : config.resultSourceMap;\n    resultSourceMap !== void 0 && resultSourceMap !== !1 && (options.query = { resultSourceMap, ...options.query });\n    const perspective = options.perspective || config.perspective;\n    typeof perspective == \"string\" && perspective !== \"raw\" && (validateApiPerspective(perspective), options.query = { perspective, ...options.query }, perspective === \"previewDrafts\" && useCdn && (useCdn = !1, printCdnPreviewDraftsWarning())), options.lastLiveEventId && (options.query = { ...options.query, lastLiveEventId: options.lastLiveEventId }), options.returnQuery === !1 && (options.query = { returnQuery: \"false\", ...options.query });\n  }\n  const reqOptions = requestOptions(\n    config,\n    Object.assign({}, options, {\n      url: _getUrl(client, uri, useCdn)\n    })\n  ), request = new rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable(\n    (subscriber) => httpRequest(reqOptions, config.requester).subscribe(subscriber)\n  );\n  return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request;\n}\nfunction _request(client, httpRequest, options) {\n  return _requestObservable(client, httpRequest, options).pipe(\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)((event) => event.type === \"response\"),\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((event) => event.body)\n  );\n}\nfunction _getDataUrl(client, operation, path) {\n  const config = client.config(), catalog = hasDataset(config), baseUri = `/${operation}/${catalog}`;\n  return `/data${path ? `${baseUri}/${path}` : baseUri}`.replace(/\\/($|\\?)/, \"$1\");\n}\nfunction _getUrl(client, uri, canUseCdn = !1) {\n  const { url, cdnUrl } = client.config();\n  return `${canUseCdn ? cdnUrl : url}/${uri.replace(/^\\//, \"\")}`;\n}\nfunction _withAbortSignal(signal) {\n  return (input) => new rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer) => {\n    const abort = () => observer.error(_createAbortError(signal));\n    if (signal && signal.aborted) {\n      abort();\n      return;\n    }\n    const subscription = input.subscribe(observer);\n    return signal.addEventListener(\"abort\", abort), () => {\n      signal.removeEventListener(\"abort\", abort), subscription.unsubscribe();\n    };\n  });\n}\nconst isDomExceptionSupported = !!globalThis.DOMException;\nfunction _createAbortError(signal) {\n  var _a, _b;\n  if (isDomExceptionSupported)\n    return new DOMException((_a = signal == null ? void 0 : signal.reason) != null ? _a : \"The operation was aborted.\", \"AbortError\");\n  const error = new Error((_b = signal == null ? void 0 : signal.reason) != null ? _b : \"The operation was aborted.\");\n  return error.name = \"AbortError\", error;\n}\nvar __accessCheck$5 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n}, __privateGet$5 = (obj, member, getter) => (__accessCheck$5(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj)), __privateAdd$5 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n}, __privateSet$5 = (obj, member, value, setter) => (__accessCheck$5(obj, member, \"write to private field\"), member.set(obj, value), value), _client$4, _httpRequest$4;\nclass ObservableAssetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$5(this, _client$4, void 0), __privateAdd$5(this, _httpRequest$4, void 0), __privateSet$5(this, _client$4, client), __privateSet$5(this, _httpRequest$4, httpRequest);\n  }\n  upload(assetType, body, options) {\n    return _upload(__privateGet$5(this, _client$4), __privateGet$5(this, _httpRequest$4), assetType, body, options);\n  }\n}\n_client$4 = /* @__PURE__ */ new WeakMap(), _httpRequest$4 = /* @__PURE__ */ new WeakMap();\nvar _client2$3, _httpRequest2$4;\nclass AssetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$5(this, _client2$3, void 0), __privateAdd$5(this, _httpRequest2$4, void 0), __privateSet$5(this, _client2$3, client), __privateSet$5(this, _httpRequest2$4, httpRequest);\n  }\n  upload(assetType, body, options) {\n    const observable2 = _upload(__privateGet$5(this, _client2$3), __privateGet$5(this, _httpRequest2$4), assetType, body, options);\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(\n      observable2.pipe(\n        (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)((event) => event.type === \"response\"),\n        (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(\n          (event) => event.body.document\n        )\n      )\n    );\n  }\n}\n_client2$3 = /* @__PURE__ */ new WeakMap(), _httpRequest2$4 = /* @__PURE__ */ new WeakMap();\nfunction _upload(client, httpRequest, assetType, body, opts = {}) {\n  validateAssetType(assetType);\n  let meta = opts.extract || void 0;\n  meta && !meta.length && (meta = [\"none\"]);\n  const dataset2 = hasDataset(client.config()), assetEndpoint = assetType === \"image\" ? \"images\" : \"files\", options = optionsFromFile(opts, body), { tag, label, title, description, creditLine, filename, source } = options, query = {\n    label,\n    title,\n    description,\n    filename,\n    meta,\n    creditLine\n  };\n  return source && (query.sourceId = source.id, query.sourceName = source.name, query.sourceUrl = source.url), _requestObservable(client, httpRequest, {\n    tag,\n    method: \"POST\",\n    timeout: options.timeout || 0,\n    uri: `/assets/${assetEndpoint}/${dataset2}`,\n    headers: options.contentType ? { \"Content-Type\": options.contentType } : {},\n    query,\n    body\n  });\n}\nfunction optionsFromFile(opts, file) {\n  return typeof File > \"u\" || !(file instanceof File) ? opts : Object.assign(\n    {\n      filename: opts.preserveFilename === !1 ? void 0 : file.name,\n      contentType: file.type\n    },\n    opts\n  );\n}\nvar defaults = (obj, defaults2) => Object.keys(defaults2).concat(Object.keys(obj)).reduce((target, prop) => (target[prop] = typeof obj[prop] > \"u\" ? defaults2[prop] : obj[prop], target), {});\nconst pick = (obj, props) => props.reduce((selection, prop) => (typeof obj[prop] > \"u\" || (selection[prop] = obj[prop]), selection), {}), MAX_URL_LENGTH = 14800, possibleOptions = [\n  \"includePreviousRevision\",\n  \"includeResult\",\n  \"visibility\",\n  \"effectFormat\",\n  \"tag\"\n], defaultOptions = {\n  includeResult: !0\n};\nfunction _listen(query, params, opts = {}) {\n  const { url, token, withCredentials, requestTagPrefix } = this.config(), tag = opts.tag && requestTagPrefix ? [requestTagPrefix, opts.tag].join(\".\") : opts.tag, options = { ...defaults(opts, defaultOptions), tag }, listenOpts = pick(options, possibleOptions), qs = encodeQueryString({ query, params, options: { tag, ...listenOpts } }), uri = `${url}${_getDataUrl(this, \"listen\", qs)}`;\n  if (uri.length > MAX_URL_LENGTH)\n    return new rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer) => observer.error(new Error(\"Query too large for listener\")));\n  const listenFor = options.events ? options.events : [\"mutation\"], shouldEmitReconnect = listenFor.indexOf(\"reconnect\") !== -1, esOptions = {};\n  return (token || withCredentials) && (esOptions.withCredentials = !0), token && (esOptions.headers = {\n    Authorization: `Bearer ${token}`\n  }), new rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer) => {\n    let es, reconnectTimer, stopped = !1, unsubscribed = !1;\n    open();\n    function onError() {\n      stopped || (emitReconnect(), !stopped && es.readyState === es.CLOSED && (unsubscribe(), clearTimeout(reconnectTimer), reconnectTimer = setTimeout(open, 100)));\n    }\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n    function onMessage(evt) {\n      const event = parseEvent$1(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n    function onDisconnect() {\n      stopped = !0, unsubscribe(), observer.complete();\n    }\n    function unsubscribe() {\n      es && (es.removeEventListener(\"error\", onError), es.removeEventListener(\"channelError\", onChannelError), es.removeEventListener(\"disconnect\", onDisconnect), listenFor.forEach((type) => es.removeEventListener(type, onMessage)), es.close());\n    }\n    function emitReconnect() {\n      shouldEmitReconnect && observer.next({ type: \"reconnect\" });\n    }\n    async function getEventSource() {\n      const { default: EventSource2 } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity\"), __webpack_require__.e(\"vendor-chunks/eventsource\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sanity/eventsource */ \"(ssr)/./node_modules/@sanity/eventsource/node.js\", 19));\n      if (unsubscribed)\n        return;\n      const evs = new EventSource2(uri, esOptions);\n      return evs.addEventListener(\"error\", onError), evs.addEventListener(\"channelError\", onChannelError), evs.addEventListener(\"disconnect\", onDisconnect), listenFor.forEach((type) => evs.addEventListener(type, onMessage)), evs;\n    }\n    function open() {\n      getEventSource().then((eventSource) => {\n        eventSource && (es = eventSource, unsubscribed && unsubscribe());\n      }).catch((reason) => {\n        observer.error(reason), stop();\n      });\n    }\n    function stop() {\n      stopped = !0, unsubscribe(), unsubscribed = !0;\n    }\n    return stop;\n  });\n}\nfunction parseEvent$1(event) {\n  try {\n    const data = event.data && JSON.parse(event.data) || {};\n    return Object.assign({ type: event.type }, data);\n  } catch (err) {\n    return err;\n  }\n}\nfunction cooerceError(err) {\n  if (err instanceof Error)\n    return err;\n  const evt = parseEvent$1(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\nfunction extractErrorMessage(err) {\n  return err.error ? err.error.description ? err.error.description : typeof err.error == \"string\" ? err.error : JSON.stringify(err.error, null, 2) : err.message || \"Unknown listener error\";\n}\nvar __accessCheck$4 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n}, __privateGet$4 = (obj, member, getter) => (__accessCheck$4(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj)), __privateAdd$4 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n}, __privateSet$4 = (obj, member, value, setter) => (__accessCheck$4(obj, member, \"write to private field\"), member.set(obj, value), value);\nconst requiredApiVersion = \"2021-03-26\";\nvar _client$3;\nclass LiveClient {\n  constructor(client) {\n    __privateAdd$4(this, _client$3, void 0), __privateSet$4(this, _client$3, client);\n  }\n  /**\n   * Requires `apiVersion` to be `2021-03-26` or later.\n   */\n  events() {\n    const apiVersion = __privateGet$4(this, _client$3).config().apiVersion.replace(/^v/, \"\");\n    if (apiVersion !== \"X\" && apiVersion < requiredApiVersion)\n      throw new Error(\n        `The live events API requires API version ${requiredApiVersion} or later. The current API version is ${apiVersion}. Please update your API version to use this feature.`\n      );\n    const path = _getDataUrl(__privateGet$4(this, _client$3), \"live/events\"), url = new URL(__privateGet$4(this, _client$3).getUrl(path, !1)), listenFor = [\"restart\", \"message\"];\n    return new rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer) => {\n      let es, reconnectTimer, stopped = !1, unsubscribed = !1;\n      open();\n      function onError(evt) {\n        if (!stopped) {\n          if (\"data\" in evt) {\n            const event = parseEvent(evt);\n            observer.error(new Error(event.message, { cause: event }));\n          }\n          es.readyState === es.CLOSED && (unsubscribe(), clearTimeout(reconnectTimer), reconnectTimer = setTimeout(open, 100));\n        }\n      }\n      function onMessage(evt) {\n        const event = parseEvent(evt);\n        return event instanceof Error ? observer.error(event) : observer.next(event);\n      }\n      function unsubscribe() {\n        if (es) {\n          es.removeEventListener(\"error\", onError);\n          for (const type of listenFor)\n            es.removeEventListener(type, onMessage);\n          es.close();\n        }\n      }\n      async function getEventSource() {\n        const EventSourceImplementation = typeof EventSource > \"u\" ? (await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity\"), __webpack_require__.e(\"vendor-chunks/eventsource\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sanity/eventsource */ \"(ssr)/./node_modules/@sanity/eventsource/node.js\", 19))).default : EventSource;\n        if (unsubscribed)\n          return;\n        const evs = new EventSourceImplementation(url.toString());\n        evs.addEventListener(\"error\", onError);\n        for (const type of listenFor)\n          evs.addEventListener(type, onMessage);\n        return evs;\n      }\n      function open() {\n        getEventSource().then((eventSource) => {\n          eventSource && (es = eventSource, unsubscribed && unsubscribe());\n        }).catch((reason) => {\n          observer.error(reason), stop();\n        });\n      }\n      function stop() {\n        stopped = !0, unsubscribe(), unsubscribed = !0;\n      }\n      return stop;\n    });\n  }\n}\n_client$3 = /* @__PURE__ */ new WeakMap();\nfunction parseEvent(event) {\n  try {\n    const data = event.data && JSON.parse(event.data) || {};\n    return { type: event.type, id: event.lastEventId, ...data };\n  } catch (err) {\n    return err;\n  }\n}\nvar __accessCheck$3 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n}, __privateGet$3 = (obj, member, getter) => (__accessCheck$3(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj)), __privateAdd$3 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n}, __privateSet$3 = (obj, member, value, setter) => (__accessCheck$3(obj, member, \"write to private field\"), member.set(obj, value), value), _client$2, _httpRequest$3;\nclass ObservableDatasetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$3(this, _client$2, void 0), __privateAdd$3(this, _httpRequest$3, void 0), __privateSet$3(this, _client$2, client), __privateSet$3(this, _httpRequest$3, httpRequest);\n  }\n  /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */\n  create(name2, options) {\n    return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PUT\", name2, options);\n  }\n  /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */\n  edit(name2, options) {\n    return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PATCH\", name2, options);\n  }\n  /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */\n  delete(name2) {\n    return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"DELETE\", name2);\n  }\n  /**\n   * Fetch a list of datasets for the configured project\n   */\n  list() {\n    return _request(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), {\n      uri: \"/datasets\",\n      tag: null\n    });\n  }\n}\n_client$2 = /* @__PURE__ */ new WeakMap(), _httpRequest$3 = /* @__PURE__ */ new WeakMap();\nvar _client2$2, _httpRequest2$3;\nclass DatasetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$3(this, _client2$2, void 0), __privateAdd$3(this, _httpRequest2$3, void 0), __privateSet$3(this, _client2$2, client), __privateSet$3(this, _httpRequest2$3, httpRequest);\n  }\n  /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */\n  create(name2, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(\n      _modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PUT\", name2, options)\n    );\n  }\n  /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */\n  edit(name2, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(\n      _modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PATCH\", name2, options)\n    );\n  }\n  /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */\n  delete(name2) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"DELETE\", name2));\n  }\n  /**\n   * Fetch a list of datasets for the configured project\n   */\n  list() {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(\n      _request(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), { uri: \"/datasets\", tag: null })\n    );\n  }\n}\n_client2$2 = /* @__PURE__ */ new WeakMap(), _httpRequest2$3 = /* @__PURE__ */ new WeakMap();\nfunction _modify(client, httpRequest, method, name2, options) {\n  return dataset(name2), _request(client, httpRequest, {\n    method,\n    uri: `/datasets/${name2}`,\n    body: options,\n    tag: null\n  });\n}\nvar __accessCheck$2 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n}, __privateGet$2 = (obj, member, getter) => (__accessCheck$2(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj)), __privateAdd$2 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n}, __privateSet$2 = (obj, member, value, setter) => (__accessCheck$2(obj, member, \"write to private field\"), member.set(obj, value), value), _client$1, _httpRequest$2;\nclass ObservableProjectsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$2(this, _client$1, void 0), __privateAdd$2(this, _httpRequest$2, void 0), __privateSet$2(this, _client$1, client), __privateSet$2(this, _httpRequest$2, httpRequest);\n  }\n  list(options) {\n    const uri = (options == null ? void 0 : options.includeMembers) === !1 ? \"/projects?includeMembers=false\" : \"/projects\";\n    return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), { uri });\n  }\n  /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */\n  getById(projectId2) {\n    return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), { uri: `/projects/${projectId2}` });\n  }\n}\n_client$1 = /* @__PURE__ */ new WeakMap(), _httpRequest$2 = /* @__PURE__ */ new WeakMap();\nvar _client2$1, _httpRequest2$2;\nclass ProjectsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$2(this, _client2$1, void 0), __privateAdd$2(this, _httpRequest2$2, void 0), __privateSet$2(this, _client2$1, client), __privateSet$2(this, _httpRequest2$2, httpRequest);\n  }\n  list(options) {\n    const uri = (options == null ? void 0 : options.includeMembers) === !1 ? \"/projects?includeMembers=false\" : \"/projects\";\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), { uri }));\n  }\n  /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */\n  getById(projectId2) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(\n      _request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), { uri: `/projects/${projectId2}` })\n    );\n  }\n}\n_client2$1 = /* @__PURE__ */ new WeakMap(), _httpRequest2$2 = /* @__PURE__ */ new WeakMap();\nvar __accessCheck$1 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n}, __privateGet$1 = (obj, member, getter) => (__accessCheck$1(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj)), __privateAdd$1 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n}, __privateSet$1 = (obj, member, value, setter) => (__accessCheck$1(obj, member, \"write to private field\"), member.set(obj, value), value), _client, _httpRequest$1;\nclass ObservableUsersClient {\n  constructor(client, httpRequest) {\n    __privateAdd$1(this, _client, void 0), __privateAdd$1(this, _httpRequest$1, void 0), __privateSet$1(this, _client, client), __privateSet$1(this, _httpRequest$1, httpRequest);\n  }\n  /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */\n  getById(id) {\n    return _request(\n      __privateGet$1(this, _client),\n      __privateGet$1(this, _httpRequest$1),\n      { uri: `/users/${id}` }\n    );\n  }\n}\n_client = /* @__PURE__ */ new WeakMap(), _httpRequest$1 = /* @__PURE__ */ new WeakMap();\nvar _client2, _httpRequest2$1;\nclass UsersClient {\n  constructor(client, httpRequest) {\n    __privateAdd$1(this, _client2, void 0), __privateAdd$1(this, _httpRequest2$1, void 0), __privateSet$1(this, _client2, client), __privateSet$1(this, _httpRequest2$1, httpRequest);\n  }\n  /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */\n  getById(id) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(\n      _request(__privateGet$1(this, _client2), __privateGet$1(this, _httpRequest2$1), {\n        uri: `/users/${id}`\n      })\n    );\n  }\n}\n_client2 = /* @__PURE__ */ new WeakMap(), _httpRequest2$1 = /* @__PURE__ */ new WeakMap();\nvar __defProp = Object.defineProperty, __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField = (obj, key, value) => (__defNormalProp(obj, typeof key != \"symbol\" ? key + \"\" : key, value), value), __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n}, __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj)), __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n}, __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), member.set(obj, value), value), _clientConfig, _httpRequest;\nconst _ObservableSanityClient = class _ObservableSanityClient2 {\n  constructor(httpRequest, config = defaultConfig) {\n    __publicField(this, \"assets\"), __publicField(this, \"datasets\"), __publicField(this, \"live\"), __publicField(this, \"projects\"), __publicField(this, \"users\"), __privateAdd(this, _clientConfig, void 0), __privateAdd(this, _httpRequest, void 0), __publicField(this, \"listen\", _listen), this.config(config), __privateSet(this, _httpRequest, httpRequest), this.assets = new ObservableAssetsClient(this, __privateGet(this, _httpRequest)), this.datasets = new ObservableDatasetsClient(this, __privateGet(this, _httpRequest)), this.live = new LiveClient(this), this.projects = new ObservableProjectsClient(this, __privateGet(this, _httpRequest)), this.users = new ObservableUsersClient(this, __privateGet(this, _httpRequest));\n  }\n  /**\n   * Clone the client - returns a new instance\n   */\n  clone() {\n    return new _ObservableSanityClient2(__privateGet(this, _httpRequest), this.config());\n  }\n  config(newConfig) {\n    if (newConfig === void 0)\n      return { ...__privateGet(this, _clientConfig) };\n    if (__privateGet(this, _clientConfig) && __privateGet(this, _clientConfig).allowReconfigure === !1)\n      throw new Error(\n        \"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\"\n      );\n    return __privateSet(this, _clientConfig, initConfig(newConfig, __privateGet(this, _clientConfig) || {})), this;\n  }\n  /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */\n  withConfig(newConfig) {\n    const thisConfig = this.config();\n    return new _ObservableSanityClient2(__privateGet(this, _httpRequest), {\n      ...thisConfig,\n      ...newConfig,\n      stega: {\n        ...thisConfig.stega || {},\n        ...typeof (newConfig == null ? void 0 : newConfig.stega) == \"boolean\" ? { enabled: newConfig.stega } : (newConfig == null ? void 0 : newConfig.stega) || {}\n      }\n    });\n  }\n  fetch(query, params, options) {\n    return _fetch(\n      this,\n      __privateGet(this, _httpRequest),\n      __privateGet(this, _clientConfig).stega,\n      query,\n      params,\n      options\n    );\n  }\n  /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */\n  getDocument(id, options) {\n    return _getDocument(this, __privateGet(this, _httpRequest), id, options);\n  }\n  /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */\n  getDocuments(ids, options) {\n    return _getDocuments(this, __privateGet(this, _httpRequest), ids, options);\n  }\n  create(document, options) {\n    return _create(this, __privateGet(this, _httpRequest), document, \"create\", options);\n  }\n  createIfNotExists(document, options) {\n    return _createIfNotExists(this, __privateGet(this, _httpRequest), document, options);\n  }\n  createOrReplace(document, options) {\n    return _createOrReplace(this, __privateGet(this, _httpRequest), document, options);\n  }\n  delete(selection, options) {\n    return _delete(this, __privateGet(this, _httpRequest), selection, options);\n  }\n  mutate(operations, options) {\n    return _mutate(this, __privateGet(this, _httpRequest), operations, options);\n  }\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */\n  patch(selection, operations) {\n    return new ObservablePatch(selection, operations, this);\n  }\n  /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */\n  transaction(operations) {\n    return new ObservableTransaction(operations, this);\n  }\n  /**\n   * Perform action operations against the configured dataset\n   *\n   * @param operations - Action operation(s) to execute\n   * @param options - Action options\n   */\n  action(operations, options) {\n    return _action(this, __privateGet(this, _httpRequest), operations, options);\n  }\n  /**\n   * Perform an HTTP request against the Sanity API\n   *\n   * @param options - Request options\n   */\n  request(options) {\n    return _request(this, __privateGet(this, _httpRequest), options);\n  }\n  /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */\n  getUrl(uri, canUseCdn) {\n    return _getUrl(this, uri, canUseCdn);\n  }\n  /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */\n  getDataUrl(operation, path) {\n    return _getDataUrl(this, operation, path);\n  }\n};\n_clientConfig = /* @__PURE__ */ new WeakMap(), _httpRequest = /* @__PURE__ */ new WeakMap();\nlet ObservableSanityClient = _ObservableSanityClient;\nvar _clientConfig2, _httpRequest2;\nconst _SanityClient = class _SanityClient2 {\n  constructor(httpRequest, config = defaultConfig) {\n    __publicField(this, \"assets\"), __publicField(this, \"datasets\"), __publicField(this, \"live\"), __publicField(this, \"projects\"), __publicField(this, \"users\"), __publicField(this, \"observable\"), __privateAdd(this, _clientConfig2, void 0), __privateAdd(this, _httpRequest2, void 0), __publicField(this, \"listen\", _listen), this.config(config), __privateSet(this, _httpRequest2, httpRequest), this.assets = new AssetsClient(this, __privateGet(this, _httpRequest2)), this.datasets = new DatasetsClient(this, __privateGet(this, _httpRequest2)), this.live = new LiveClient(this), this.projects = new ProjectsClient(this, __privateGet(this, _httpRequest2)), this.users = new UsersClient(this, __privateGet(this, _httpRequest2)), this.observable = new ObservableSanityClient(httpRequest, config);\n  }\n  /**\n   * Clone the client - returns a new instance\n   */\n  clone() {\n    return new _SanityClient2(__privateGet(this, _httpRequest2), this.config());\n  }\n  config(newConfig) {\n    if (newConfig === void 0)\n      return { ...__privateGet(this, _clientConfig2) };\n    if (__privateGet(this, _clientConfig2) && __privateGet(this, _clientConfig2).allowReconfigure === !1)\n      throw new Error(\n        \"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\"\n      );\n    return this.observable && this.observable.config(newConfig), __privateSet(this, _clientConfig2, initConfig(newConfig, __privateGet(this, _clientConfig2) || {})), this;\n  }\n  /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */\n  withConfig(newConfig) {\n    const thisConfig = this.config();\n    return new _SanityClient2(__privateGet(this, _httpRequest2), {\n      ...thisConfig,\n      ...newConfig,\n      stega: {\n        ...thisConfig.stega || {},\n        ...typeof (newConfig == null ? void 0 : newConfig.stega) == \"boolean\" ? { enabled: newConfig.stega } : (newConfig == null ? void 0 : newConfig.stega) || {}\n      }\n    });\n  }\n  fetch(query, params, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(\n      _fetch(\n        this,\n        __privateGet(this, _httpRequest2),\n        __privateGet(this, _clientConfig2).stega,\n        query,\n        params,\n        options\n      )\n    );\n  }\n  /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */\n  getDocument(id, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_getDocument(this, __privateGet(this, _httpRequest2), id, options));\n  }\n  /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */\n  getDocuments(ids, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_getDocuments(this, __privateGet(this, _httpRequest2), ids, options));\n  }\n  create(document, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(\n      _create(this, __privateGet(this, _httpRequest2), document, \"create\", options)\n    );\n  }\n  createIfNotExists(document, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(\n      _createIfNotExists(this, __privateGet(this, _httpRequest2), document, options)\n    );\n  }\n  createOrReplace(document, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(\n      _createOrReplace(this, __privateGet(this, _httpRequest2), document, options)\n    );\n  }\n  delete(selection, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_delete(this, __privateGet(this, _httpRequest2), selection, options));\n  }\n  mutate(operations, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_mutate(this, __privateGet(this, _httpRequest2), operations, options));\n  }\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */\n  patch(documentId, operations) {\n    return new Patch(documentId, operations, this);\n  }\n  /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */\n  transaction(operations) {\n    return new Transaction(operations, this);\n  }\n  /**\n   * Perform action operations against the configured dataset\n   * Returns a promise that resolves to the transaction result\n   *\n   * @param operations - Action operation(s) to execute\n   * @param options - Action options\n   */\n  action(operations, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_action(this, __privateGet(this, _httpRequest2), operations, options));\n  }\n  /**\n   * Perform a request against the Sanity API\n   * NOTE: Only use this for Sanity API endpoints, not for your own APIs!\n   *\n   * @param options - Request options\n   * @returns Promise resolving to the response body\n   */\n  request(options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(this, __privateGet(this, _httpRequest2), options));\n  }\n  /**\n   * Perform an HTTP request a `/data` sub-endpoint\n   * NOTE: Considered internal, thus marked as deprecated. Use `request` instead.\n   *\n   * @deprecated - Use `request()` or your own HTTP library instead\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   * @internal\n   */\n  dataRequest(endpoint, body, options) {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_dataRequest(this, __privateGet(this, _httpRequest2), endpoint, body, options));\n  }\n  /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */\n  getUrl(uri, canUseCdn) {\n    return _getUrl(this, uri, canUseCdn);\n  }\n  /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */\n  getDataUrl(operation, path) {\n    return _getDataUrl(this, operation, path);\n  }\n};\n_clientConfig2 = /* @__PURE__ */ new WeakMap(), _httpRequest2 = /* @__PURE__ */ new WeakMap();\nlet SanityClient = _SanityClient;\nfunction defineCreateClientExports(envMiddleware, ClassConstructor) {\n  const defaultRequester = defineHttpRequest(envMiddleware);\n  return { requester: defaultRequester, createClient: (config) => new ClassConstructor(\n    (options, requester2) => (requester2 || defaultRequester)({\n      maxRedirects: 0,\n      maxRetries: config.maxRetries,\n      retryDelay: config.retryDelay,\n      ...options\n    }),\n    config\n  ) };\n}\nfunction defineDeprecatedCreateClient(createClient2) {\n  return function(config) {\n    return printNoDefaultExport(), createClient2(config);\n  };\n}\nvar name = \"@sanity/client\", version = \"6.20.1\";\nconst middleware = [\n  (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.debug)({ verbose: !0, namespace: \"sanity:client\" }),\n  (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.headers)({ \"User-Agent\": `${name} ${version}` }),\n  // Enable keep-alive, and in addition limit the number of sockets that can be opened.\n  // This avoids opening too many connections to the server if someone tries to execute\n  // a bunch of requests in parallel. It's recommended to have a concurrency limit\n  // at a \"higher limit\" (i.e. you shouldn't actually execute hundreds of requests in parallel),\n  // and this is mainly to minimize the impact for the network and server.\n  //\n  // We're currently matching the same defaults as browsers:\n  // https://stackoverflow.com/questions/26003756/is-there-a-limit-practical-or-otherwise-to-the-number-of-web-sockets-a-page-op\n  (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.agent)({\n    keepAlive: !0,\n    maxSockets: 30,\n    maxTotalSockets: 256\n  })\n], exp = defineCreateClientExports(middleware, SanityClient), requester = exp.requester, createClient = exp.createClient, deprecatedCreateClient = defineDeprecatedCreateClient(createClient);\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNlO0FBQ29FO0FBQzNEO0FBQ1M7QUFDUjtBQUN4RCx1SEFBdUgsdURBQXVEO0FBQzlLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixZQUFZLElBQUksYUFBYTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUk7QUFDSixLQUFLO0FBQ0w7QUFDQSxTQUFTLHFCQUFxQiwyQkFBMkIsdUJBQXVCLEVBQUUsU0FBUztBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxrQkFBa0I7QUFDbEUsWUFBWSxXQUFXLGNBQWMsU0FBUyxtQkFBbUIsZUFBZSxFQUFFLGNBQWM7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkNBQUs7QUFDZCxJQUFJLHdEQUFLLEdBQUcsYUFBYTtBQUN6QjtBQUNBO0FBQ0EsSUFBSSw4REFBVztBQUNmLElBQUksK0RBQVk7QUFDaEIsSUFBSSwyREFBUTtBQUNaO0FBQ0EsSUFBSSw2REFBVSxHQUFHLGdCQUFnQiw0Q0FBVSxFQUFFO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxvREFBSztBQUNoRTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhLG1DQUFtQztBQUNoRDtBQUNBLHVGQUF1Rix1Q0FBdUMsSUFBSTtBQUNsSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGNBQWM7QUFDaEI7QUFDQTtBQUNBLG9CQUFvQixFQUFFLE1BQU0sS0FBSyxVQUFVLEVBQUUsTUFBTSxLQUFLO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMkNBQTJDLEtBQUssbUJBQW1CLDZCQUE2QjtBQUNoRyxDQUFDO0FBQ0Q7QUFDQSx1QkFBdUIsR0FBRztBQUMxQixDQUFDO0FBQ0QsdURBQXVELE1BQU07QUFDN0QsdUJBQXVCLEdBQUcsT0FBTyxHQUFHO0FBQ3BDLENBQUM7QUFDRDtBQUNBLHVCQUF1QixHQUFHO0FBQzFCO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSwwREFBMEQsSUFBSTtBQUM5RCx1QkFBdUIsV0FBVywwQ0FBMEMsTUFBTTtBQUNsRjtBQUNBO0FBQ0EsdUJBQXVCLFdBQVc7QUFDbEM7QUFDQSx1QkFBdUIsV0FBVztBQUNsQyxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELCtDQUErQyxLQUFLO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1SEFBdUgsdURBQXVEO0FBQzlLO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzR0FBc0c7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMscUJBQXFCLGNBQWM7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsdUJBQXVCO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5UEFBeVAsU0FBUyxHQUFHLFdBQVcsR0FBRyxTQUFTO0FBQzVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFLDRCQUE0QixvQ0FBb0M7QUFDaEUsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsb0JBQW9CO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixrQ0FBa0M7QUFDcEgsb0RBQW9ELHlCQUF5QjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxvQkFBb0I7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLGtDQUFrQztBQUNwSCxxREFBcUQseUJBQXlCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUhBQXVILHVEQUF1RDtBQUM5SztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxhQUFhO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxXQUFXO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxXQUFXO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsVUFBVSxrQkFBa0I7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwyQkFBMkIscUNBQXFDO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0NBQXNDO0FBQy9EO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0E7QUFDQSx5QkFBeUIsMEJBQTBCO0FBQ25EO0FBQ0EsdUJBQXVCLFNBQVMsc0NBQXNDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJCQUEyQixxQ0FBcUM7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixzQ0FBc0M7QUFDL0Q7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBLHlCQUF5QiwwQkFBMEI7QUFDbkQ7QUFDQSx1QkFBdUIsU0FBUyxzQ0FBc0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxTQUFTLHlDQUF5QztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsNEJBQTRCO0FBQzlFLDhDQUE4Qyx3QkFBd0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxxRkFBcUYsUUFBUTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsd0JBQXdCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLDBCQUEwQjtBQUM1RjtBQUNBO0FBQ0EsOGNBQThjLHFCQUFxQjtBQUNuZTtBQUNBLDREQUE0RCxTQUFTLEtBQUssb0JBQW9CLEdBQUcsS0FBSyxJQUFJLHFCQUFxQix5QkFBeUIsU0FBUyxLQUFLLG9CQUFvQixHQUFHLFFBQVEsSUFBSSxxQkFBcUIseUJBQXlCLGtCQUFrQixJQUFJLHFCQUFxQjtBQUNsUyxDQUFDO0FBQ0QsOENBQThDO0FBQzlDLHFCQUFxQjtBQUNyQiwrQ0FBK0MsTUFBTTtBQUNyRDtBQUNBLHlCQUF5QjtBQUN6Qiw2QkFBNkIsbUNBQW1DO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUZBQXFGLHNDQUFzQztBQUMzSCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsQ0FBQztBQUNELGdEQUFnRCw0QkFBNEI7QUFDNUU7QUFDQTtBQUNBLDRCQUE0QixJQUFJO0FBQ2hDO0FBQ0EseUNBQXlDLE1BQU07QUFDL0MsZ0ZBQWdGLGFBQWE7QUFDN0YsQ0FBQyxzSUFBc0k7QUFDdkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGdFQUFnRSxjQUFjO0FBQzlFO0FBQ0EsbUJBQW1CO0FBQ25CLDZDQUE2Qyx5QkFBeUI7QUFDdEUsSUFBSSxtQ0FBbUMsb0VBQVUseUdBQXlHLHVCQUF1QjtBQUNqTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHdEQUF3RCxrQkFBa0IsZ0JBQWdCLGdFQUFnRSxlQUFlO0FBQzVLO0FBQ0EsSUFBSSxpRUFBaUI7QUFDckIsTUFBTSwwQ0FBSTtBQUNWLFFBQVEsNk9BQThDO0FBQ3REO0FBQ0EsU0FBUztBQUNULGFBQWEsc0JBQXNCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLElBQUksbURBQUc7QUFDUDtBQUNBO0FBQ0EsNkJBQTZCLGdCQUFnQjtBQUM3QztBQUNBO0FBQ0Esb0JBQW9CLG1EQUFHO0FBQ3ZCO0FBQ0Esd0RBQXdEO0FBQ3hELG9CQUFvQjtBQUNwQjtBQUNBLElBQUksc0RBQU07QUFDVixJQUFJLG1EQUFHO0FBQ1A7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRCxvQkFBb0I7QUFDcEI7QUFDQSxJQUFJLHNEQUFNO0FBQ1YsSUFBSSxtREFBRztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGNBQWMsaUNBQWlDLEdBQUc7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSwrQkFBK0I7QUFDOUc7QUFDQSx1REFBdUQsZ0NBQWdDO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwyRUFBMkU7QUFDakY7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFLHNVQUFzVSx1RUFBdUU7QUFDN1k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksc0RBQU07QUFDVixJQUFJLG1EQUFHO0FBQ1AsSUFBSSxtREFBRztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRCxxQkFBcUIsV0FBVyx5QkFBeUIsc0NBQXNDO0FBQy9GLHVEQUF1RCx1QkFBdUI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELHdDQUF3QztBQUNoRztBQUNBLCtFQUErRSxtQ0FBbUM7QUFDbEg7QUFDQSx1SEFBdUgsK0JBQStCLDZJQUE2SSw0REFBNEQsb0RBQW9ELHdDQUF3QztBQUMzYjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLDRDQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksc0RBQU07QUFDVixJQUFJLG1EQUFHO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLFVBQVUsR0FBRyxRQUFRO0FBQ25HLGlCQUFpQixVQUFVLFFBQVEsR0FBRyxLQUFLLFlBQVk7QUFDdkQ7QUFDQTtBQUNBLFVBQVUsY0FBYztBQUN4QixZQUFZLHlCQUF5QixHQUFHLHVCQUF1QjtBQUMvRDtBQUNBO0FBQ0Esd0JBQXdCLDRDQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtREFBYTtBQUN4QjtBQUNBLFFBQVEsc0RBQU07QUFDZCxRQUFRLG1EQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBO0FBQ0EscUpBQXFKLCtEQUErRDtBQUNwTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWMsR0FBRyxTQUFTO0FBQzlDLHFDQUFxQyxzQ0FBc0MsSUFBSTtBQUMvRTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw2TEFBNkw7QUFDN0wsdUlBQXVJO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsVUFBVSxnREFBZ0QscUhBQXFILHdDQUF3Qyx3RUFBd0UsMEJBQTBCLHNCQUFzQixZQUFZLElBQUksRUFBRSxnQ0FBZ0M7QUFDalk7QUFDQSxlQUFlLDRDQUFVO0FBQ3pCO0FBQ0E7QUFDQSw2QkFBNkIsTUFBTTtBQUNuQyxHQUFHLE9BQU8sNENBQVU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsbUJBQW1CO0FBQ2hFO0FBQ0E7QUFDQSxjQUFjLHdCQUF3QixRQUFRLHlRQUE2QjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0JBQWtCO0FBQzdDLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELG9CQUFvQix1Q0FBdUMsV0FBVztBQUMxSDtBQUNBO0FBQ0EsZUFBZSw0Q0FBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsY0FBYztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLHlRQUE2QjtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbURBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1EQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbURBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbURBQWE7QUFDeEIsMEZBQTBGLDZCQUE2QjtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixNQUFNO0FBQzVCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RixLQUFLO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkZBQTZGLGtCQUFrQixXQUFXLEdBQUc7QUFDN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1EQUFhLHFGQUFxRixLQUFLO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtREFBYTtBQUN4QiwwRkFBMEYsa0JBQWtCLFdBQVcsR0FBRztBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGVBQWUsR0FBRztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1EQUFhO0FBQ3hCO0FBQ0EsdUJBQXVCLEdBQUc7QUFDMUIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUhBQWlILHVEQUF1RDtBQUN4SztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwR0FBMEc7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLGtGQUFrRiwyQkFBMkI7QUFDN0c7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtLQUFrSztBQUNsSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsa0ZBQWtGLDJCQUEyQjtBQUM3RztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsV0FBVyxtREFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtREFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtREFBYTtBQUN4QjtBQUNBO0FBQ0EsV0FBVyxtREFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbURBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1EQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtREFBYTtBQUN4QjtBQUNBO0FBQ0EsV0FBVyxtREFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1EQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbURBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtREFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsd0RBQUssR0FBRyx5Q0FBeUM7QUFDbkQsRUFBRSwwREFBTyxHQUFHLGlCQUFpQixNQUFNLEVBQUUsUUFBUSxHQUFHO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLHdEQUFLO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBaUJFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvY2xpZW50L2Rpc3QvaW5kZXguanM/NWIwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRJdCB9IGZyb20gXCJnZXQtaXRcIjtcbmltcG9ydCB7IGFkYXB0ZXIsIGVudmlyb25tZW50IH0gZnJvbSBcImdldC1pdFwiO1xuaW1wb3J0IHsgcmV0cnksIGpzb25SZXF1ZXN0LCBqc29uUmVzcG9uc2UsIHByb2dyZXNzLCBvYnNlcnZhYmxlLCBkZWJ1ZywgaGVhZGVycywgYWdlbnQgfSBmcm9tIFwiZ2V0LWl0L21pZGRsZXdhcmVcIjtcbmltcG9ydCB7IE9ic2VydmFibGUsIGZyb20sIGxhc3RWYWx1ZUZyb20gfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgY29tYmluZUxhdGVzdFdpdGgsIG1hcCwgZmlsdGVyIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XG5pbXBvcnQgeyBzdGVnYUNsZWFuIH0gZnJvbSBcIi4vX2NodW5rcy1lcy9zdGVnYUNsZWFuLmpzXCI7XG52YXIgX19kZWZQcm9wJDMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCQzID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQzKG9iaiwga2V5LCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZSwgX19wdWJsaWNGaWVsZCQzID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gKF9fZGVmTm9ybWFsUHJvcCQzKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpLCB2YWx1ZSk7XG5jbGFzcyBDbGllbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IocmVzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBleHRyYWN0RXJyb3JQcm9wcyhyZXMpO1xuICAgIHN1cGVyKHByb3BzLm1lc3NhZ2UpLCBfX3B1YmxpY0ZpZWxkJDModGhpcywgXCJyZXNwb25zZVwiKSwgX19wdWJsaWNGaWVsZCQzKHRoaXMsIFwic3RhdHVzQ29kZVwiLCA0MDApLCBfX3B1YmxpY0ZpZWxkJDModGhpcywgXCJyZXNwb25zZUJvZHlcIiksIF9fcHVibGljRmllbGQkMyh0aGlzLCBcImRldGFpbHNcIiksIE9iamVjdC5hc3NpZ24odGhpcywgcHJvcHMpO1xuICB9XG59XG5jbGFzcyBTZXJ2ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IocmVzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBleHRyYWN0RXJyb3JQcm9wcyhyZXMpO1xuICAgIHN1cGVyKHByb3BzLm1lc3NhZ2UpLCBfX3B1YmxpY0ZpZWxkJDModGhpcywgXCJyZXNwb25zZVwiKSwgX19wdWJsaWNGaWVsZCQzKHRoaXMsIFwic3RhdHVzQ29kZVwiLCA1MDApLCBfX3B1YmxpY0ZpZWxkJDModGhpcywgXCJyZXNwb25zZUJvZHlcIiksIF9fcHVibGljRmllbGQkMyh0aGlzLCBcImRldGFpbHNcIiksIE9iamVjdC5hc3NpZ24odGhpcywgcHJvcHMpO1xuICB9XG59XG5mdW5jdGlvbiBleHRyYWN0RXJyb3JQcm9wcyhyZXMpIHtcbiAgY29uc3QgYm9keSA9IHJlcy5ib2R5LCBwcm9wcyA9IHtcbiAgICByZXNwb25zZTogcmVzLFxuICAgIHN0YXR1c0NvZGU6IHJlcy5zdGF0dXNDb2RlLFxuICAgIHJlc3BvbnNlQm9keTogc3RyaW5naWZ5Qm9keShib2R5LCByZXMpLFxuICAgIG1lc3NhZ2U6IFwiXCIsXG4gICAgZGV0YWlsczogdm9pZCAwXG4gIH07XG4gIGlmIChib2R5LmVycm9yICYmIGJvZHkubWVzc2FnZSlcbiAgICByZXR1cm4gcHJvcHMubWVzc2FnZSA9IGAke2JvZHkuZXJyb3J9IC0gJHtib2R5Lm1lc3NhZ2V9YCwgcHJvcHM7XG4gIGlmIChpc011dGF0aW9uRXJyb3IoYm9keSkgfHwgaXNBY3Rpb25FcnJvcihib2R5KSkge1xuICAgIGNvbnN0IGFsbEl0ZW1zID0gYm9keS5lcnJvci5pdGVtcyB8fCBbXSwgaXRlbXMgPSBhbGxJdGVtcy5zbGljZSgwLCA1KS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiAoX2EgPSBpdGVtLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZGVzY3JpcHRpb247XG4gICAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGxldCBpdGVtc1N0ciA9IGl0ZW1zLmxlbmd0aCA/IGA6XG4tICR7aXRlbXMuam9pbihgXG4tIGApfWAgOiBcIlwiO1xuICAgIHJldHVybiBhbGxJdGVtcy5sZW5ndGggPiA1ICYmIChpdGVtc1N0ciArPSBgXG4uLi5hbmQgJHthbGxJdGVtcy5sZW5ndGggLSA1fSBtb3JlYCksIHByb3BzLm1lc3NhZ2UgPSBgJHtib2R5LmVycm9yLmRlc2NyaXB0aW9ufSR7aXRlbXNTdHJ9YCwgcHJvcHMuZGV0YWlscyA9IGJvZHkuZXJyb3IsIHByb3BzO1xuICB9XG4gIHJldHVybiBib2R5LmVycm9yICYmIGJvZHkuZXJyb3IuZGVzY3JpcHRpb24gPyAocHJvcHMubWVzc2FnZSA9IGJvZHkuZXJyb3IuZGVzY3JpcHRpb24sIHByb3BzLmRldGFpbHMgPSBib2R5LmVycm9yLCBwcm9wcykgOiAocHJvcHMubWVzc2FnZSA9IGJvZHkuZXJyb3IgfHwgYm9keS5tZXNzYWdlIHx8IGh0dHBFcnJvck1lc3NhZ2UocmVzKSwgcHJvcHMpO1xufVxuZnVuY3Rpb24gaXNNdXRhdGlvbkVycm9yKGJvZHkpIHtcbiAgcmV0dXJuIGlzUGxhaW5PYmplY3QoYm9keSkgJiYgaXNQbGFpbk9iamVjdChib2R5LmVycm9yKSAmJiBib2R5LmVycm9yLnR5cGUgPT09IFwibXV0YXRpb25FcnJvclwiICYmIHR5cGVvZiBib2R5LmVycm9yLmRlc2NyaXB0aW9uID09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc0FjdGlvbkVycm9yKGJvZHkpIHtcbiAgcmV0dXJuIGlzUGxhaW5PYmplY3QoYm9keSkgJiYgaXNQbGFpbk9iamVjdChib2R5LmVycm9yKSAmJiBib2R5LmVycm9yLnR5cGUgPT09IFwiYWN0aW9uRXJyb3JcIiAmJiB0eXBlb2YgYm9keS5lcnJvci5kZXNjcmlwdGlvbiA9PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkob2JqKTtcbn1cbmZ1bmN0aW9uIGh0dHBFcnJvck1lc3NhZ2UocmVzKSB7XG4gIGNvbnN0IHN0YXR1c01lc3NhZ2UgPSByZXMuc3RhdHVzTWVzc2FnZSA/IGAgJHtyZXMuc3RhdHVzTWVzc2FnZX1gIDogXCJcIjtcbiAgcmV0dXJuIGAke3Jlcy5tZXRob2R9LXJlcXVlc3QgdG8gJHtyZXMudXJsfSByZXN1bHRlZCBpbiBIVFRQICR7cmVzLnN0YXR1c0NvZGV9JHtzdGF0dXNNZXNzYWdlfWA7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlCb2R5KGJvZHksIHJlcykge1xuICByZXR1cm4gKHJlcy5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImFwcGxpY2F0aW9uL2pzb25cIikgIT09IC0xID8gSlNPTi5zdHJpbmdpZnkoYm9keSwgbnVsbCwgMikgOiBib2R5O1xufVxuY29uc3QgaHR0cEVycm9yID0ge1xuICBvblJlc3BvbnNlOiAocmVzKSA9PiB7XG4gICAgaWYgKHJlcy5zdGF0dXNDb2RlID49IDUwMClcbiAgICAgIHRocm93IG5ldyBTZXJ2ZXJFcnJvcihyZXMpO1xuICAgIGlmIChyZXMuc3RhdHVzQ29kZSA+PSA0MDApXG4gICAgICB0aHJvdyBuZXcgQ2xpZW50RXJyb3IocmVzKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG59LCBwcmludFdhcm5pbmdzID0ge1xuICBvblJlc3BvbnNlOiAocmVzKSA9PiB7XG4gICAgY29uc3Qgd2FybiA9IHJlcy5oZWFkZXJzW1wieC1zYW5pdHktd2FybmluZ1wiXTtcbiAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkod2FybikgPyB3YXJuIDogW3dhcm5dKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaCgobXNnKSA9PiBjb25zb2xlLndhcm4obXNnKSksIHJlcztcbiAgfVxufTtcbmZ1bmN0aW9uIGRlZmluZUh0dHBSZXF1ZXN0KGVudk1pZGRsZXdhcmUpIHtcbiAgcmV0dXJuIGdldEl0KFtcbiAgICByZXRyeSh7IHNob3VsZFJldHJ5IH0pLFxuICAgIC4uLmVudk1pZGRsZXdhcmUsXG4gICAgcHJpbnRXYXJuaW5ncyxcbiAgICBqc29uUmVxdWVzdCgpLFxuICAgIGpzb25SZXNwb25zZSgpLFxuICAgIHByb2dyZXNzKCksXG4gICAgaHR0cEVycm9yLFxuICAgIG9ic2VydmFibGUoeyBpbXBsZW1lbnRhdGlvbjogT2JzZXJ2YWJsZSB9KVxuICBdKTtcbn1cbmZ1bmN0aW9uIHNob3VsZFJldHJ5KGVyciwgYXR0ZW1wdCwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucy5tYXhSZXRyaWVzID09PSAwKVxuICAgIHJldHVybiAhMTtcbiAgY29uc3QgaXNTYWZlID0gb3B0aW9ucy5tZXRob2QgPT09IFwiR0VUXCIgfHwgb3B0aW9ucy5tZXRob2QgPT09IFwiSEVBRFwiLCBpc1F1ZXJ5ID0gKG9wdGlvbnMudXJpIHx8IG9wdGlvbnMudXJsKS5zdGFydHNXaXRoKFwiL2RhdGEvcXVlcnlcIiksIGlzUmV0cmlhYmxlUmVzcG9uc2UgPSBlcnIucmVzcG9uc2UgJiYgKGVyci5yZXNwb25zZS5zdGF0dXNDb2RlID09PSA0MjkgfHwgZXJyLnJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDUwMiB8fCBlcnIucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNTAzKTtcbiAgcmV0dXJuIChpc1NhZmUgfHwgaXNRdWVyeSkgJiYgaXNSZXRyaWFibGVSZXNwb25zZSA/ICEwIDogcmV0cnkuc2hvdWxkUmV0cnkoZXJyLCBhdHRlbXB0LCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbihzZWwpIHtcbiAgaWYgKHR5cGVvZiBzZWwgPT0gXCJzdHJpbmdcIilcbiAgICByZXR1cm4geyBpZDogc2VsIH07XG4gIGlmIChBcnJheS5pc0FycmF5KHNlbCkpXG4gICAgcmV0dXJuIHsgcXVlcnk6IFwiKltfaWQgaW4gJGlkc11cIiwgcGFyYW1zOiB7IGlkczogc2VsIH0gfTtcbiAgaWYgKHR5cGVvZiBzZWwgPT0gXCJvYmplY3RcIiAmJiBzZWwgIT09IG51bGwgJiYgXCJxdWVyeVwiIGluIHNlbCAmJiB0eXBlb2Ygc2VsLnF1ZXJ5ID09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIFwicGFyYW1zXCIgaW4gc2VsICYmIHR5cGVvZiBzZWwucGFyYW1zID09IFwib2JqZWN0XCIgJiYgc2VsLnBhcmFtcyAhPT0gbnVsbCA/IHsgcXVlcnk6IHNlbC5xdWVyeSwgcGFyYW1zOiBzZWwucGFyYW1zIH0gOiB7IHF1ZXJ5OiBzZWwucXVlcnkgfTtcbiAgY29uc3Qgc2VsZWN0aW9uT3B0cyA9IFtcbiAgICBcIiogRG9jdW1lbnQgSUQgKDxkb2NJZD4pXCIsXG4gICAgXCIqIEFycmF5IG9mIGRvY3VtZW50IElEc1wiLFxuICAgIFwiKiBPYmplY3QgY29udGFpbmluZyBgcXVlcnlgXCJcbiAgXS5qb2luKGBcbmApO1xuICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc2VsZWN0aW9uIC0gbXVzdCBiZSBvbmUgb2Y6XG5cbiR7c2VsZWN0aW9uT3B0c31gKTtcbn1cbmNvbnN0IFZBTElEX0FTU0VUX1RZUEVTID0gW1wiaW1hZ2VcIiwgXCJmaWxlXCJdLCBWQUxJRF9JTlNFUlRfTE9DQVRJT05TID0gW1wiYmVmb3JlXCIsIFwiYWZ0ZXJcIiwgXCJyZXBsYWNlXCJdLCBkYXRhc2V0ID0gKG5hbWUyKSA9PiB7XG4gIGlmICghL14oflthLXowLTldezF9Wy1cXHddezAsNjN9fFthLXowLTldezF9Wy1cXHddezAsNjN9KSQvLnRlc3QobmFtZTIpKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiRGF0YXNldHMgY2FuIG9ubHkgY29udGFpbiBsb3dlcmNhc2UgY2hhcmFjdGVycywgbnVtYmVycywgdW5kZXJzY29yZXMgYW5kIGRhc2hlcywgYW5kIHN0YXJ0IHdpdGggdGlsZGUsIGFuZCBiZSBtYXhpbXVtIDY0IGNoYXJhY3RlcnNcIlxuICAgICk7XG59LCBwcm9qZWN0SWQgPSAoaWQpID0+IHtcbiAgaWYgKCEvXlstYS16MC05XSskL2kudGVzdChpZCkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYHByb2plY3RJZGAgY2FuIG9ubHkgY29udGFpbiBvbmx5IGEteiwgMC05IGFuZCBkYXNoZXNcIik7XG59LCB2YWxpZGF0ZUFzc2V0VHlwZSA9ICh0eXBlKSA9PiB7XG4gIGlmIChWQUxJRF9BU1NFVF9UWVBFUy5pbmRleE9mKHR5cGUpID09PSAtMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXNzZXQgdHlwZTogJHt0eXBlfS4gTXVzdCBiZSBvbmUgb2YgJHtWQUxJRF9BU1NFVF9UWVBFUy5qb2luKFwiLCBcIil9YCk7XG59LCB2YWxpZGF0ZU9iamVjdCA9IChvcCwgdmFsKSA9PiB7XG4gIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCAhPSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkodmFsKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7b3B9KCkgdGFrZXMgYW4gb2JqZWN0IG9mIHByb3BlcnRpZXNgKTtcbn0sIHZhbGlkYXRlRG9jdW1lbnRJZCA9IChvcCwgaWQpID0+IHtcbiAgaWYgKHR5cGVvZiBpZCAhPSBcInN0cmluZ1wiIHx8ICEvXlthLXowLTlfXVthLXowLTlfLi1dezAsMTI3fSQvaS50ZXN0KGlkKSB8fCBpZC5pbmNsdWRlcyhcIi4uXCIpKVxuICAgIHRocm93IG5ldyBFcnJvcihgJHtvcH0oKTogXCIke2lkfVwiIGlzIG5vdCBhIHZhbGlkIGRvY3VtZW50IElEYCk7XG59LCByZXF1aXJlRG9jdW1lbnRJZCA9IChvcCwgZG9jKSA9PiB7XG4gIGlmICghZG9jLl9pZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7b3B9KCkgcmVxdWlyZXMgdGhhdCB0aGUgZG9jdW1lbnQgY29udGFpbnMgYW4gSUQgKFwiX2lkXCIgcHJvcGVydHkpYCk7XG4gIHZhbGlkYXRlRG9jdW1lbnRJZChvcCwgZG9jLl9pZCk7XG59LCB2YWxpZGF0ZUluc2VydCA9IChhdCwgc2VsZWN0b3IsIGl0ZW1zKSA9PiB7XG4gIGNvbnN0IHNpZ25hdHVyZSA9IFwiaW5zZXJ0KGF0LCBzZWxlY3RvciwgaXRlbXMpXCI7XG4gIGlmIChWQUxJRF9JTlNFUlRfTE9DQVRJT05TLmluZGV4T2YoYXQpID09PSAtMSkge1xuICAgIGNvbnN0IHZhbGlkID0gVkFMSURfSU5TRVJUX0xPQ0FUSU9OUy5tYXAoKGxvYykgPT4gYFwiJHtsb2N9XCJgKS5qb2luKFwiLCBcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke3NpZ25hdHVyZX0gdGFrZXMgYW4gXCJhdFwiLWFyZ3VtZW50IHdoaWNoIGlzIG9uZSBvZjogJHt2YWxpZH1gKTtcbiAgfVxuICBpZiAodHlwZW9mIHNlbGVjdG9yICE9IFwic3RyaW5nXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKGAke3NpZ25hdHVyZX0gdGFrZXMgYSBcInNlbGVjdG9yXCItYXJndW1lbnQgd2hpY2ggbXVzdCBiZSBhIHN0cmluZ2ApO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpKVxuICAgIHRocm93IG5ldyBFcnJvcihgJHtzaWduYXR1cmV9IHRha2VzIGFuIFwiaXRlbXNcIi1hcmd1bWVudCB3aGljaCBtdXN0IGJlIGFuIGFycmF5YCk7XG59LCBoYXNEYXRhc2V0ID0gKGNvbmZpZykgPT4ge1xuICBpZiAoIWNvbmZpZy5kYXRhc2V0KVxuICAgIHRocm93IG5ldyBFcnJvcihcImBkYXRhc2V0YCBtdXN0IGJlIHByb3ZpZGVkIHRvIHBlcmZvcm0gcXVlcmllc1wiKTtcbiAgcmV0dXJuIGNvbmZpZy5kYXRhc2V0IHx8IFwiXCI7XG59LCByZXF1ZXN0VGFnID0gKHRhZykgPT4ge1xuICBpZiAodHlwZW9mIHRhZyAhPSBcInN0cmluZ1wiIHx8ICEvXlthLXowLTkuXy1dezEsNzV9JC9pLnRlc3QodGFnKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRhZyBjYW4gb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLCB1bmRlcnNjb3JlcywgZGFzaGVzIGFuZCBkb3RzLCBhbmQgYmUgYmV0d2VlbiBvbmUgYW5kIDc1IGNoYXJhY3RlcnMgbG9uZy5cIlxuICAgICk7XG4gIHJldHVybiB0YWc7XG59O1xudmFyIF9fZGVmUHJvcCQyID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AkMiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkMihvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQkMiA9IChvYmosIGtleSwgdmFsdWUpID0+IChfX2RlZk5vcm1hbFByb3AkMihvYmosIHR5cGVvZiBrZXkgIT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKSwgdmFsdWUpLCBfX2FjY2Vzc0NoZWNrJDcgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufSwgX19wcml2YXRlR2V0JDcgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2skNyhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSwgZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKSksIF9fcHJpdmF0ZUFkZCQ3ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufSwgX19wcml2YXRlU2V0JDcgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrJDcob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKSwgbWVtYmVyLnNldChvYmosIHZhbHVlKSwgdmFsdWUpO1xuY2xhc3MgQmFzZVBhdGNoIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0aW9uLCBvcGVyYXRpb25zID0ge30pIHtcbiAgICBfX3B1YmxpY0ZpZWxkJDIodGhpcywgXCJzZWxlY3Rpb25cIiksIF9fcHVibGljRmllbGQkMih0aGlzLCBcIm9wZXJhdGlvbnNcIiksIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uLCB0aGlzLm9wZXJhdGlvbnMgPSBvcGVyYXRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiBhdHRyaWJ1dGVzIHRvIHRoZSBkb2N1bWVudC4gRG9lcyBOT1QgbWVyZ2Ugb2JqZWN0cy5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGVzIHRvIHNldC4gVG8gc2V0IGEgZGVlcCBhdHRyaWJ1dGUsIHVzZSBKU09OTWF0Y2gsIGVnOiBcXHtcIm5lc3RlZC5wcm9wXCI6IFwidmFsdWVcIlxcfVxuICAgKi9cbiAgc2V0KGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcInNldFwiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIGF0dHJpYnV0ZXMgdG8gdGhlIGRvY3VtZW50IGlmIHRoZXkgYXJlIG5vdCBjdXJyZW50bHkgc2V0LiBEb2VzIE5PVCBtZXJnZSBvYmplY3RzLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHBhdGNoLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIEF0dHJpYnV0ZXMgdG8gc2V0LiBUbyBzZXQgYSBkZWVwIGF0dHJpYnV0ZSwgdXNlIEpTT05NYXRjaCwgZWc6IFxce1wibmVzdGVkLnByb3BcIjogXCJ2YWx1ZVwiXFx9XG4gICAqL1xuICBzZXRJZk1pc3NpbmcoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwic2V0SWZNaXNzaW5nXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybXMgYSBcImRpZmYtbWF0Y2gtcGF0Y2hcIiBvcGVyYXRpb24gb24gdGhlIHN0cmluZyBhdHRyaWJ1dGVzIHByb3ZpZGVkLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHBhdGNoLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIEF0dHJpYnV0ZXMgdG8gcGVyZm9ybSBvcGVyYXRpb24gb24uIFRvIHNldCBhIGRlZXAgYXR0cmlidXRlLCB1c2UgSlNPTk1hdGNoLCBlZzogXFx7XCJuZXN0ZWQucHJvcFwiOiBcImRtcFwiXFx9XG4gICAqL1xuICBkaWZmTWF0Y2hQYXRjaChhdHRycykge1xuICAgIHJldHVybiB2YWxpZGF0ZU9iamVjdChcImRpZmZNYXRjaFBhdGNoXCIsIGF0dHJzKSwgdGhpcy5fYXNzaWduKFwiZGlmZk1hdGNoUGF0Y2hcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBVbnNldHMgdGhlIGF0dHJpYnV0ZSBwYXRocyBwcm92aWRlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGUgcGF0aHMgdG8gdW5zZXQuXG4gICAqL1xuICB1bnNldChhdHRycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhdHRycykpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnNldChhdHRycykgdGFrZXMgYW4gYXJyYXkgb2YgYXR0cmlidXRlcyB0byB1bnNldCwgbm9uLWFycmF5IGdpdmVuXCIpO1xuICAgIHJldHVybiB0aGlzLm9wZXJhdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wZXJhdGlvbnMsIHsgdW5zZXQ6IGF0dHJzIH0pLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBJbmNyZW1lbnQgYSBudW1lcmljIHZhbHVlLiBFYWNoIGVudHJ5IGluIHRoZSBhcmd1bWVudCBpcyBlaXRoZXIgYW4gYXR0cmlidXRlIG9yIGEgSlNPTiBwYXRoLiBUaGUgdmFsdWUgbWF5IGJlIGEgcG9zaXRpdmUgb3IgbmVnYXRpdmUgaW50ZWdlciBvciBmbG9hdGluZy1wb2ludCB2YWx1ZS4gVGhlIG9wZXJhdGlvbiB3aWxsIGZhaWwgaWYgdGFyZ2V0IHZhbHVlIGlzIG5vdCBhIG51bWVyaWMgdmFsdWUsIG9yIGRvZXNuJ3QgZXhpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIE9iamVjdCBvZiBhdHRyaWJ1dGUgcGF0aHMgdG8gaW5jcmVtZW50LCB2YWx1ZXMgcmVwcmVzZW50aW5nIHRoZSBudW1iZXIgdG8gaW5jcmVtZW50IGJ5LlxuICAgKi9cbiAgaW5jKGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcImluY1wiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIERlY3JlbWVudCBhIG51bWVyaWMgdmFsdWUuIEVhY2ggZW50cnkgaW4gdGhlIGFyZ3VtZW50IGlzIGVpdGhlciBhbiBhdHRyaWJ1dGUgb3IgYSBKU09OIHBhdGguIFRoZSB2YWx1ZSBtYXkgYmUgYSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbnRlZ2VyIG9yIGZsb2F0aW5nLXBvaW50IHZhbHVlLiBUaGUgb3BlcmF0aW9uIHdpbGwgZmFpbCBpZiB0YXJnZXQgdmFsdWUgaXMgbm90IGEgbnVtZXJpYyB2YWx1ZSwgb3IgZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gT2JqZWN0IG9mIGF0dHJpYnV0ZSBwYXRocyB0byBkZWNyZW1lbnQsIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIG51bWJlciB0byBkZWNyZW1lbnQgYnkuXG4gICAqL1xuICBkZWMoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiZGVjXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogUHJvdmlkZXMgbWV0aG9kcyBmb3IgbW9kaWZ5aW5nIGFycmF5cywgYnkgaW5zZXJ0aW5nLCBhcHBlbmRpbmcgYW5kIHJlcGxhY2luZyBlbGVtZW50cyB2aWEgYSBKU09OUGF0aCBleHByZXNzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYXQgLSBMb2NhdGlvbiB0byBpbnNlcnQgYXQsIHJlbGF0aXZlIHRvIHRoZSBnaXZlbiBzZWxlY3Rvciwgb3IgJ3JlcGxhY2UnIHRoZSBtYXRjaGVkIHBhdGhcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gSlNPTlBhdGggZXhwcmVzc2lvbiwgZWcgYGNvbW1lbnRzWy0xXWAgb3IgYGJsb2Nrc1tfa2V5PT1cImFiYzEyM1wiXWBcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gaW5zZXJ0L3JlcGxhY2VcbiAgICovXG4gIGluc2VydChhdCwgc2VsZWN0b3IsIGl0ZW1zKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlSW5zZXJ0KGF0LCBzZWxlY3RvciwgaXRlbXMpLCB0aGlzLl9hc3NpZ24oXCJpbnNlcnRcIiwgeyBbYXRdOiBzZWxlY3RvciwgaXRlbXMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGVuZCB0aGUgZ2l2ZW4gaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBnaXZlbiBKU09OUGF0aFxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUvcGF0aCB0byBhcHBlbmQgdG8sIGVnIGBjb21tZW50c2Agb3IgYHBlcnNvbi5ob2JiaWVzYFxuICAgKiBAcGFyYW0gaXRlbXMgLSBBcnJheSBvZiBpdGVtcyB0byBhcHBlbmQgdG8gdGhlIGFycmF5XG4gICAqL1xuICBhcHBlbmQoc2VsZWN0b3IsIGl0ZW1zKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KFwiYWZ0ZXJcIiwgYCR7c2VsZWN0b3J9Wy0xXWAsIGl0ZW1zKTtcbiAgfVxuICAvKipcbiAgICogUHJlcGVuZCB0aGUgZ2l2ZW4gaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBnaXZlbiBKU09OUGF0aFxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUvcGF0aCB0byBwcmVwZW5kIHRvLCBlZyBgY29tbWVudHNgIG9yIGBwZXJzb24uaG9iYmllc2BcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gcHJlcGVuZCB0byB0aGUgYXJyYXlcbiAgICovXG4gIHByZXBlbmQoc2VsZWN0b3IsIGl0ZW1zKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KFwiYmVmb3JlXCIsIGAke3NlbGVjdG9yfVswXWAsIGl0ZW1zKTtcbiAgfVxuICAvKipcbiAgICogQ2hhbmdlIHRoZSBjb250ZW50cyBvZiBhbiBhcnJheSBieSByZW1vdmluZyBleGlzdGluZyBlbGVtZW50cyBhbmQvb3IgYWRkaW5nIG5ldyBlbGVtZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQXR0cmlidXRlIG9yIEpTT05QYXRoIGV4cHJlc3Npb24gZm9yIGFycmF5XG4gICAqIEBwYXJhbSBzdGFydCAtIEluZGV4IGF0IHdoaWNoIHRvIHN0YXJ0IGNoYW5naW5nIHRoZSBhcnJheSAod2l0aCBvcmlnaW4gMCkuIElmIGdyZWF0ZXIgdGhhbiB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheSwgYWN0dWFsIHN0YXJ0aW5nIGluZGV4IHdpbGwgYmUgc2V0IHRvIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LiBJZiBuZWdhdGl2ZSwgd2lsbCBiZWdpbiB0aGF0IG1hbnkgZWxlbWVudHMgZnJvbSB0aGUgZW5kIG9mIHRoZSBhcnJheSAod2l0aCBvcmlnaW4gLTEpIGFuZCB3aWxsIGJlIHNldCB0byAwIGlmIGFic29sdXRlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheS54XG4gICAqIEBwYXJhbSBkZWxldGVDb3VudCAtIEFuIGludGVnZXIgaW5kaWNhdGluZyB0aGUgbnVtYmVyIG9mIG9sZCBhcnJheSBlbGVtZW50cyB0byByZW1vdmUuXG4gICAqIEBwYXJhbSBpdGVtcyAtIFRoZSBlbGVtZW50cyB0byBhZGQgdG8gdGhlIGFycmF5LCBiZWdpbm5pbmcgYXQgdGhlIHN0YXJ0IGluZGV4LiBJZiB5b3UgZG9uJ3Qgc3BlY2lmeSBhbnkgZWxlbWVudHMsIHNwbGljZSgpIHdpbGwgb25seSByZW1vdmUgZWxlbWVudHMgZnJvbSB0aGUgYXJyYXkuXG4gICAqL1xuICBzcGxpY2Uoc2VsZWN0b3IsIHN0YXJ0LCBkZWxldGVDb3VudCwgaXRlbXMpIHtcbiAgICBjb25zdCBkZWxBbGwgPSB0eXBlb2YgZGVsZXRlQ291bnQgPiBcInVcIiB8fCBkZWxldGVDb3VudCA9PT0gLTEsIHN0YXJ0SW5kZXggPSBzdGFydCA8IDAgPyBzdGFydCAtIDEgOiBzdGFydCwgZGVsQ291bnQgPSBkZWxBbGwgPyAtMSA6IE1hdGgubWF4KDAsIHN0YXJ0ICsgZGVsZXRlQ291bnQpLCBkZWxSYW5nZSA9IHN0YXJ0SW5kZXggPCAwICYmIGRlbENvdW50ID49IDAgPyBcIlwiIDogZGVsQ291bnQsIHJhbmdlU2VsZWN0b3IgPSBgJHtzZWxlY3Rvcn1bJHtzdGFydEluZGV4fToke2RlbFJhbmdlfV1gO1xuICAgIHJldHVybiB0aGlzLmluc2VydChcInJlcGxhY2VcIiwgcmFuZ2VTZWxlY3RvciwgaXRlbXMgfHwgW10pO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgcmV2aXNpb24gY2xhdXNlLCBwcmV2ZW50aW5nIHRoZSBkb2N1bWVudCBmcm9tIGJlaW5nIHBhdGNoZWQgaWYgdGhlIGBfcmV2YCBwcm9wZXJ0eSBkb2VzIG5vdCBtYXRjaCB0aGUgZ2l2ZW4gdmFsdWVcbiAgICpcbiAgICogQHBhcmFtIHJldiAtIFJldmlzaW9uIHRvIGxvY2sgdGhlIHBhdGNoIHRvXG4gICAqL1xuICBpZlJldmlzaW9uSWQocmV2KSB7XG4gICAgcmV0dXJuIHRoaXMub3BlcmF0aW9ucy5pZlJldmlzaW9uSUQgPSByZXYsIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGNoXG4gICAqL1xuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIHsgLi4uZ2V0U2VsZWN0aW9uKHRoaXMuc2VsZWN0aW9uKSwgLi4udGhpcy5vcGVyYXRpb25zIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGNoXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgcGF0Y2ggb2YgYWxsIG9wZXJhdGlvbnNcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHJldHVybiB0aGlzLm9wZXJhdGlvbnMgPSB7fSwgdGhpcztcbiAgfVxuICBfYXNzaWduKG9wLCBwcm9wcywgbWVyZ2UgPSAhMCkge1xuICAgIHJldHVybiB2YWxpZGF0ZU9iamVjdChvcCwgcHJvcHMpLCB0aGlzLm9wZXJhdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wZXJhdGlvbnMsIHtcbiAgICAgIFtvcF06IE9iamVjdC5hc3NpZ24oe30sIG1lcmdlICYmIHRoaXMub3BlcmF0aW9uc1tvcF0gfHwge30sIHByb3BzKVxuICAgIH0pLCB0aGlzO1xuICB9XG4gIF9zZXQob3AsIHByb3BzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihvcCwgcHJvcHMsICExKTtcbiAgfVxufVxudmFyIF9jbGllbnQkNjtcbmNvbnN0IF9PYnNlcnZhYmxlUGF0Y2ggPSBjbGFzcyBfT2JzZXJ2YWJsZVBhdGNoMiBleHRlbmRzIEJhc2VQYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbiwgb3BlcmF0aW9ucywgY2xpZW50KSB7XG4gICAgc3VwZXIoc2VsZWN0aW9uLCBvcGVyYXRpb25zKSwgX19wcml2YXRlQWRkJDcodGhpcywgX2NsaWVudCQ2LCB2b2lkIDApLCBfX3ByaXZhdGVTZXQkNyh0aGlzLCBfY2xpZW50JDYsIGNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgcGF0Y2hcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX09ic2VydmFibGVQYXRjaDIodGhpcy5zZWxlY3Rpb24sIHsgLi4udGhpcy5vcGVyYXRpb25zIH0sIF9fcHJpdmF0ZUdldCQ3KHRoaXMsIF9jbGllbnQkNikpO1xuICB9XG4gIGNvbW1pdChvcHRpb25zKSB7XG4gICAgaWYgKCFfX3ByaXZhdGVHZXQkNyh0aGlzLCBfY2xpZW50JDYpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk5vIGBjbGllbnRgIHBhc3NlZCB0byBwYXRjaCwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHBhdGNoIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiXG4gICAgICApO1xuICAgIGNvbnN0IHJldHVybkZpcnN0ID0gdHlwZW9mIHRoaXMuc2VsZWN0aW9uID09IFwic3RyaW5nXCIsIG9wdHMgPSBPYmplY3QuYXNzaWduKHsgcmV0dXJuRmlyc3QsIHJldHVybkRvY3VtZW50czogITAgfSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCQ3KHRoaXMsIF9jbGllbnQkNikubXV0YXRlKHsgcGF0Y2g6IHRoaXMuc2VyaWFsaXplKCkgfSwgb3B0cyk7XG4gIH1cbn07XG5fY2xpZW50JDYgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmxldCBPYnNlcnZhYmxlUGF0Y2ggPSBfT2JzZXJ2YWJsZVBhdGNoO1xudmFyIF9jbGllbnQyJDU7XG5jb25zdCBfUGF0Y2ggPSBjbGFzcyBfUGF0Y2gyIGV4dGVuZHMgQmFzZVBhdGNoIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0aW9uLCBvcGVyYXRpb25zLCBjbGllbnQpIHtcbiAgICBzdXBlcihzZWxlY3Rpb24sIG9wZXJhdGlvbnMpLCBfX3ByaXZhdGVBZGQkNyh0aGlzLCBfY2xpZW50MiQ1LCB2b2lkIDApLCBfX3ByaXZhdGVTZXQkNyh0aGlzLCBfY2xpZW50MiQ1LCBjbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHBhdGNoXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9QYXRjaDIodGhpcy5zZWxlY3Rpb24sIHsgLi4udGhpcy5vcGVyYXRpb25zIH0sIF9fcHJpdmF0ZUdldCQ3KHRoaXMsIF9jbGllbnQyJDUpKTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghX19wcml2YXRlR2V0JDcodGhpcywgX2NsaWVudDIkNSkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHBhdGNoLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgcGF0Y2ggdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCJcbiAgICAgICk7XG4gICAgY29uc3QgcmV0dXJuRmlyc3QgPSB0eXBlb2YgdGhpcy5zZWxlY3Rpb24gPT0gXCJzdHJpbmdcIiwgb3B0cyA9IE9iamVjdC5hc3NpZ24oeyByZXR1cm5GaXJzdCwgcmV0dXJuRG9jdW1lbnRzOiAhMCB9LCBvcHRpb25zKTtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0JDcodGhpcywgX2NsaWVudDIkNSkubXV0YXRlKHsgcGF0Y2g6IHRoaXMuc2VyaWFsaXplKCkgfSwgb3B0cyk7XG4gIH1cbn07XG5fY2xpZW50MiQ1ID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5sZXQgUGF0Y2ggPSBfUGF0Y2g7XG52YXIgX19kZWZQcm9wJDEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCQxID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQxKG9iaiwga2V5LCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZSwgX19wdWJsaWNGaWVsZCQxID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gKF9fZGVmTm9ybWFsUHJvcCQxKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpLCB2YWx1ZSksIF9fYWNjZXNzQ2hlY2skNiA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59LCBfX3ByaXZhdGVHZXQkNiA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayQ2KG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopKSwgX19wcml2YXRlQWRkJDYgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59LCBfX3ByaXZhdGVTZXQkNiA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2skNihvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLCBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpLCB2YWx1ZSk7XG5jb25zdCBkZWZhdWx0TXV0YXRlT3B0aW9ucyA9IHsgcmV0dXJuRG9jdW1lbnRzOiAhMSB9O1xuY2xhc3MgQmFzZVRyYW5zYWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob3BlcmF0aW9ucyA9IFtdLCB0cmFuc2FjdGlvbklkKSB7XG4gICAgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwib3BlcmF0aW9uc1wiKSwgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwidHJ4SWRcIiksIHRoaXMub3BlcmF0aW9ucyA9IG9wZXJhdGlvbnMsIHRoaXMudHJ4SWQgPSB0cmFuc2FjdGlvbklkO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFNhbml0eSBkb2N1bWVudC4gSWYgYF9pZGAgaXMgcHJvdmlkZWQgYW5kIGFscmVhZHkgZXhpc3RzLCB0aGUgbXV0YXRpb24gd2lsbCBmYWlsLiBJZiBubyBgX2lkYCBpcyBnaXZlbiwgb25lIHdpbGwgYXV0b21hdGljYWxseSBiZSBnZW5lcmF0ZWQgYnkgdGhlIGRhdGFiYXNlLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBkb2MgLSBEb2N1bWVudCB0byBjcmVhdGUuIFJlcXVpcmVzIGEgYF90eXBlYCBwcm9wZXJ0eS5cbiAgICovXG4gIGNyZWF0ZShkb2MpIHtcbiAgICByZXR1cm4gdmFsaWRhdGVPYmplY3QoXCJjcmVhdGVcIiwgZG9jKSwgdGhpcy5fYWRkKHsgY3JlYXRlOiBkb2MgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgU2FuaXR5IGRvY3VtZW50LiBJZiBhIGRvY3VtZW50IHdpdGggdGhlIHNhbWUgYF9pZGAgYWxyZWFkeSBleGlzdHMsIHRoZSBjcmVhdGUgb3BlcmF0aW9uIHdpbGwgYmUgaWdub3JlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCB0cmFuc2FjdGlvbiwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gZG9jIC0gRG9jdW1lbnQgdG8gY3JlYXRlIGlmIGl0IGRvZXMgbm90IGFscmVhZHkgZXhpc3QuIFJlcXVpcmVzIGBfaWRgIGFuZCBgX3R5cGVgIHByb3BlcnRpZXMuXG4gICAqL1xuICBjcmVhdGVJZk5vdEV4aXN0cyhkb2MpIHtcbiAgICBjb25zdCBvcCA9IFwiY3JlYXRlSWZOb3RFeGlzdHNcIjtcbiAgICByZXR1cm4gdmFsaWRhdGVPYmplY3Qob3AsIGRvYyksIHJlcXVpcmVEb2N1bWVudElkKG9wLCBkb2MpLCB0aGlzLl9hZGQoeyBbb3BdOiBkb2MgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgU2FuaXR5IGRvY3VtZW50LCBvciByZXBsYWNlcyBhbiBleGlzdGluZyBvbmUgaWYgdGhlIHNhbWUgYF9pZGAgaXMgYWxyZWFkeSB1c2VkLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBkb2MgLSBEb2N1bWVudCB0byBjcmVhdGUgb3IgcmVwbGFjZS4gUmVxdWlyZXMgYF9pZGAgYW5kIGBfdHlwZWAgcHJvcGVydGllcy5cbiAgICovXG4gIGNyZWF0ZU9yUmVwbGFjZShkb2MpIHtcbiAgICBjb25zdCBvcCA9IFwiY3JlYXRlT3JSZXBsYWNlXCI7XG4gICAgcmV0dXJuIHZhbGlkYXRlT2JqZWN0KG9wLCBkb2MpLCByZXF1aXJlRG9jdW1lbnRJZChvcCwgZG9jKSwgdGhpcy5fYWRkKHsgW29wXTogZG9jIH0pO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBkb2N1bWVudCBJRFxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSUQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUoZG9jdW1lbnRJZCkge1xuICAgIHJldHVybiB2YWxpZGF0ZURvY3VtZW50SWQoXCJkZWxldGVcIiwgZG9jdW1lbnRJZCksIHRoaXMuX2FkZCh7IGRlbGV0ZTogeyBpZDogZG9jdW1lbnRJZCB9IH0pO1xuICB9XG4gIHRyYW5zYWN0aW9uSWQoaWQpIHtcbiAgICByZXR1cm4gaWQgPyAodGhpcy50cnhJZCA9IGlkLCB0aGlzKSA6IHRoaXMudHJ4SWQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLm9wZXJhdGlvbnNdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBwbGFpbiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0cmFuc2FjdGlvblxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLnNlcmlhbGl6ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHRyYW5zYWN0aW9uIG9mIGFsbCBvcGVyYXRpb25zXG4gICAqL1xuICByZXNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcGVyYXRpb25zID0gW10sIHRoaXM7XG4gIH1cbiAgX2FkZChtdXQpIHtcbiAgICByZXR1cm4gdGhpcy5vcGVyYXRpb25zLnB1c2gobXV0KSwgdGhpcztcbiAgfVxufVxudmFyIF9jbGllbnQkNTtcbmNvbnN0IF9UcmFuc2FjdGlvbiA9IGNsYXNzIF9UcmFuc2FjdGlvbjIgZXh0ZW5kcyBCYXNlVHJhbnNhY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihvcGVyYXRpb25zLCBjbGllbnQsIHRyYW5zYWN0aW9uSWQpIHtcbiAgICBzdXBlcihvcGVyYXRpb25zLCB0cmFuc2FjdGlvbklkKSwgX19wcml2YXRlQWRkJDYodGhpcywgX2NsaWVudCQ1LCB2b2lkIDApLCBfX3ByaXZhdGVTZXQkNih0aGlzLCBfY2xpZW50JDUsIGNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1RyYW5zYWN0aW9uMihbLi4udGhpcy5vcGVyYXRpb25zXSwgX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudCQ1KSwgdGhpcy50cnhJZCk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIV9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQkNSkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHRyYW5zYWN0aW9uLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgdHJhbnNhY3Rpb24gdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCJcbiAgICAgICk7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQkNSkubXV0YXRlKFxuICAgICAgdGhpcy5zZXJpYWxpemUoKSxcbiAgICAgIE9iamVjdC5hc3NpZ24oeyB0cmFuc2FjdGlvbklkOiB0aGlzLnRyeElkIH0sIGRlZmF1bHRNdXRhdGVPcHRpb25zLCBvcHRpb25zIHx8IHt9KVxuICAgICk7XG4gIH1cbiAgcGF0Y2gocGF0Y2hPckRvY3VtZW50SWQsIHBhdGNoT3BzKSB7XG4gICAgY29uc3QgaXNCdWlsZGVyID0gdHlwZW9mIHBhdGNoT3BzID09IFwiZnVuY3Rpb25cIjtcbiAgICBpZiAodHlwZW9mIHBhdGNoT3JEb2N1bWVudElkICE9IFwic3RyaW5nXCIgJiYgcGF0Y2hPckRvY3VtZW50SWQgaW5zdGFuY2VvZiBQYXRjaClcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2hPckRvY3VtZW50SWQuc2VyaWFsaXplKCkgfSk7XG4gICAgaWYgKGlzQnVpbGRlcikge1xuICAgICAgY29uc3QgcGF0Y2ggPSBwYXRjaE9wcyhuZXcgUGF0Y2gocGF0Y2hPckRvY3VtZW50SWQsIHt9LCBfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50JDUpKSk7XG4gICAgICBpZiAoIShwYXRjaCBpbnN0YW5jZW9mIFBhdGNoKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZnVuY3Rpb24gcGFzc2VkIHRvIGBwYXRjaCgpYCBtdXN0IHJldHVybiB0aGUgcGF0Y2hcIik7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHBhdGNoLnNlcmlhbGl6ZSgpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHsgaWQ6IHBhdGNoT3JEb2N1bWVudElkLCAuLi5wYXRjaE9wcyB9IH0pO1xuICB9XG59O1xuX2NsaWVudCQ1ID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5sZXQgVHJhbnNhY3Rpb24gPSBfVHJhbnNhY3Rpb247XG52YXIgX2NsaWVudDIkNDtcbmNvbnN0IF9PYnNlcnZhYmxlVHJhbnNhY3Rpb24gPSBjbGFzcyBfT2JzZXJ2YWJsZVRyYW5zYWN0aW9uMiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnMsIGNsaWVudCwgdHJhbnNhY3Rpb25JZCkge1xuICAgIHN1cGVyKG9wZXJhdGlvbnMsIHRyYW5zYWN0aW9uSWQpLCBfX3ByaXZhdGVBZGQkNih0aGlzLCBfY2xpZW50MiQ0LCB2b2lkIDApLCBfX3ByaXZhdGVTZXQkNih0aGlzLCBfY2xpZW50MiQ0LCBjbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlVHJhbnNhY3Rpb24yKFsuLi50aGlzLm9wZXJhdGlvbnNdLCBfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50MiQ0KSwgdGhpcy50cnhJZCk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIV9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQyJDQpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk5vIGBjbGllbnRgIHBhc3NlZCB0byB0cmFuc2FjdGlvbiwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHRyYW5zYWN0aW9uIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiXG4gICAgICApO1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50MiQ0KS5tdXRhdGUoXG4gICAgICB0aGlzLnNlcmlhbGl6ZSgpLFxuICAgICAgT2JqZWN0LmFzc2lnbih7IHRyYW5zYWN0aW9uSWQ6IHRoaXMudHJ4SWQgfSwgZGVmYXVsdE11dGF0ZU9wdGlvbnMsIG9wdGlvbnMgfHwge30pXG4gICAgKTtcbiAgfVxuICBwYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwgcGF0Y2hPcHMpIHtcbiAgICBjb25zdCBpc0J1aWxkZXIgPSB0eXBlb2YgcGF0Y2hPcHMgPT0gXCJmdW5jdGlvblwiO1xuICAgIGlmICh0eXBlb2YgcGF0Y2hPckRvY3VtZW50SWQgIT0gXCJzdHJpbmdcIiAmJiBwYXRjaE9yRG9jdW1lbnRJZCBpbnN0YW5jZW9mIE9ic2VydmFibGVQYXRjaClcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2hPckRvY3VtZW50SWQuc2VyaWFsaXplKCkgfSk7XG4gICAgaWYgKGlzQnVpbGRlcikge1xuICAgICAgY29uc3QgcGF0Y2ggPSBwYXRjaE9wcyhuZXcgT2JzZXJ2YWJsZVBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCB7fSwgX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudDIkNCkpKTtcbiAgICAgIGlmICghKHBhdGNoIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVBhdGNoKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZnVuY3Rpb24gcGFzc2VkIHRvIGBwYXRjaCgpYCBtdXN0IHJldHVybiB0aGUgcGF0Y2hcIik7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHBhdGNoLnNlcmlhbGl6ZSgpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHsgaWQ6IHBhdGNoT3JEb2N1bWVudElkLCAuLi5wYXRjaE9wcyB9IH0pO1xuICB9XG59O1xuX2NsaWVudDIkNCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xubGV0IE9ic2VydmFibGVUcmFuc2FjdGlvbiA9IF9PYnNlcnZhYmxlVHJhbnNhY3Rpb247XG5jb25zdCBCQVNFX1VSTCA9IFwiaHR0cHM6Ly93d3cuc2FuaXR5LmlvL2hlbHAvXCI7XG5mdW5jdGlvbiBnZW5lcmF0ZUhlbHBVcmwoc2x1Zykge1xuICByZXR1cm4gQkFTRV9VUkwgKyBzbHVnO1xufVxuZnVuY3Rpb24gb25jZShmbikge1xuICBsZXQgZGlkQ2FsbCA9ICExLCByZXR1cm5WYWx1ZTtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiAoZGlkQ2FsbCB8fCAocmV0dXJuVmFsdWUgPSBmbiguLi5hcmdzKSwgZGlkQ2FsbCA9ICEwKSwgcmV0dXJuVmFsdWUpO1xufVxuY29uc3QgY3JlYXRlV2FybmluZ1ByaW50ZXIgPSAobWVzc2FnZSkgPT4gKFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICBvbmNlKCguLi5hcmdzKSA9PiBjb25zb2xlLndhcm4obWVzc2FnZS5qb2luKFwiIFwiKSwgLi4uYXJncykpXG4pLCBwcmludENkbkFuZFdpdGhDcmVkZW50aWFsc1dhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiQmVjYXVzZSB5b3Ugc2V0IGB3aXRoQ3JlZGVudGlhbHNgIHRvIHRydWUsIHdlIHdpbGwgb3ZlcnJpZGUgeW91ciBgdXNlQ2RuYFwiLFxuICBcInNldHRpbmcgdG8gYmUgZmFsc2Ugc2luY2UgKGNvb2tpZS1iYXNlZCkgY3JlZGVudGlhbHMgYXJlIG5ldmVyIHNldCBvbiB0aGUgQ0ROXCJcbl0pLCBwcmludENkbldhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiU2luY2UgeW91IGhhdmVuJ3Qgc2V0IGEgdmFsdWUgZm9yIGB1c2VDZG5gLCB3ZSB3aWxsIGRlbGl2ZXIgY29udGVudCB1c2luZyBvdXJcIixcbiAgXCJnbG9iYWwsIGVkZ2UtY2FjaGVkIEFQSS1DRE4uIElmIHlvdSB3aXNoIHRvIGhhdmUgY29udGVudCBkZWxpdmVyZWQgZmFzdGVyLCBzZXRcIixcbiAgXCJgdXNlQ2RuOiBmYWxzZWAgdG8gdXNlIHRoZSBMaXZlIEFQSS4gTm90ZTogWW91IG1heSBpbmN1ciBoaWdoZXIgY29zdHMgdXNpbmcgdGhlIGxpdmUgQVBJLlwiXG5dKSwgcHJpbnRDZG5QcmV2aWV3RHJhZnRzV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcbiAgXCJUaGUgU2FuaXR5IGNsaWVudCBpcyBjb25maWd1cmVkIHdpdGggdGhlIGBwZXJzcGVjdGl2ZWAgc2V0IHRvIGBwcmV2aWV3RHJhZnRzYCwgd2hpY2ggZG9lc24ndCBzdXBwb3J0IHRoZSBBUEktQ0ROLlwiLFxuICBcIlRoZSBMaXZlIEFQSSB3aWxsIGJlIHVzZWQgaW5zdGVhZC4gU2V0IGB1c2VDZG46IGZhbHNlYCBpbiB5b3VyIGNvbmZpZ3VyYXRpb24gdG8gaGlkZSB0aGlzIHdhcm5pbmcuXCJcbl0pLCBwcmludEJyb3dzZXJUb2tlbldhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiWW91IGhhdmUgY29uZmlndXJlZCBTYW5pdHkgY2xpZW50IHRvIHVzZSBhIHRva2VuIGluIHRoZSBicm93c2VyLiBUaGlzIG1heSBjYXVzZSB1bmludGVudGlvbmFsIHNlY3VyaXR5IGlzc3Vlcy5cIixcbiAgYFNlZSAke2dlbmVyYXRlSGVscFVybChcbiAgICBcImpzLWNsaWVudC1icm93c2VyLXRva2VuXCJcbiAgKX0gZm9yIG1vcmUgaW5mb3JtYXRpb24gYW5kIGhvdyB0byBoaWRlIHRoaXMgd2FybmluZy5gXG5dKSwgcHJpbnROb0FwaVZlcnNpb25TcGVjaWZpZWRXYXJuaW5nID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1xuICBcIlVzaW5nIHRoZSBTYW5pdHkgY2xpZW50IHdpdGhvdXQgc3BlY2lmeWluZyBhbiBBUEkgdmVyc2lvbiBpcyBkZXByZWNhdGVkLlwiLFxuICBgU2VlICR7Z2VuZXJhdGVIZWxwVXJsKFwianMtY2xpZW50LWFwaS12ZXJzaW9uXCIpfWBcbl0pLCBwcmludE5vRGVmYXVsdEV4cG9ydCA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcbiAgXCJUaGUgZGVmYXVsdCBleHBvcnQgb2YgQHNhbml0eS9jbGllbnQgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIHRoZSBuYW1lZCBleHBvcnQgYGNyZWF0ZUNsaWVudGAgaW5zdGVhZC5cIlxuXSksIGRlZmF1bHRDZG5Ib3N0ID0gXCJhcGljZG4uc2FuaXR5LmlvXCIsIGRlZmF1bHRDb25maWcgPSB7XG4gIGFwaUhvc3Q6IFwiaHR0cHM6Ly9hcGkuc2FuaXR5LmlvXCIsXG4gIGFwaVZlcnNpb246IFwiMVwiLFxuICB1c2VQcm9qZWN0SG9zdG5hbWU6ICEwLFxuICBzdGVnYTogeyBlbmFibGVkOiAhMSB9XG59LCBMT0NBTEhPU1RTID0gW1wibG9jYWxob3N0XCIsIFwiMTI3LjAuMC4xXCIsIFwiMC4wLjAuMFwiXSwgaXNMb2NhbCA9IChob3N0KSA9PiBMT0NBTEhPU1RTLmluZGV4T2YoaG9zdCkgIT09IC0xO1xuZnVuY3Rpb24gdmFsaWRhdGVBcGlWZXJzaW9uKGFwaVZlcnNpb24pIHtcbiAgaWYgKGFwaVZlcnNpb24gPT09IFwiMVwiIHx8IGFwaVZlcnNpb24gPT09IFwiWFwiKVxuICAgIHJldHVybjtcbiAgY29uc3QgYXBpRGF0ZSA9IG5ldyBEYXRlKGFwaVZlcnNpb24pO1xuICBpZiAoISgvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9JC8udGVzdChhcGlWZXJzaW9uKSAmJiBhcGlEYXRlIGluc3RhbmNlb2YgRGF0ZSAmJiBhcGlEYXRlLmdldFRpbWUoKSA+IDApKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQVBJIHZlcnNpb24gc3RyaW5nLCBleHBlY3RlZCBgMWAgb3IgZGF0ZSBpbiBmb3JtYXQgYFlZWVktTU0tRERgXCIpO1xufVxuY29uc3QgdmFsaWRhdGVBcGlQZXJzcGVjdGl2ZSA9IGZ1bmN0aW9uKHBlcnNwZWN0aXZlKSB7XG4gIHN3aXRjaCAocGVyc3BlY3RpdmUpIHtcbiAgICBjYXNlIFwicHJldmlld0RyYWZ0c1wiOlxuICAgIGNhc2UgXCJwdWJsaXNoZWRcIjpcbiAgICBjYXNlIFwicmF3XCI6XG4gICAgICByZXR1cm47XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIFwiSW52YWxpZCBBUEkgcGVyc3BlY3RpdmUgc3RyaW5nLCBleHBlY3RlZCBgcHVibGlzaGVkYCwgYHByZXZpZXdEcmFmdHNgIG9yIGByYXdgXCJcbiAgICAgICk7XG4gIH1cbn0sIGluaXRDb25maWcgPSAoY29uZmlnLCBwcmV2Q29uZmlnKSA9PiB7XG4gIGNvbnN0IHNwZWNpZmllZENvbmZpZyA9IHtcbiAgICAuLi5wcmV2Q29uZmlnLFxuICAgIC4uLmNvbmZpZyxcbiAgICBzdGVnYToge1xuICAgICAgLi4udHlwZW9mIHByZXZDb25maWcuc3RlZ2EgPT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IHByZXZDb25maWcuc3RlZ2EgfSA6IHByZXZDb25maWcuc3RlZ2EgfHwgZGVmYXVsdENvbmZpZy5zdGVnYSxcbiAgICAgIC4uLnR5cGVvZiBjb25maWcuc3RlZ2EgPT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IGNvbmZpZy5zdGVnYSB9IDogY29uZmlnLnN0ZWdhIHx8IHt9XG4gICAgfVxuICB9O1xuICBzcGVjaWZpZWRDb25maWcuYXBpVmVyc2lvbiB8fCBwcmludE5vQXBpVmVyc2lvblNwZWNpZmllZFdhcm5pbmcoKTtcbiAgY29uc3QgbmV3Q29uZmlnID0ge1xuICAgIC4uLmRlZmF1bHRDb25maWcsXG4gICAgLi4uc3BlY2lmaWVkQ29uZmlnXG4gIH0sIHByb2plY3RCYXNlZCA9IG5ld0NvbmZpZy51c2VQcm9qZWN0SG9zdG5hbWU7XG4gIGlmICh0eXBlb2YgUHJvbWlzZSA+IFwidVwiKSB7XG4gICAgY29uc3QgaGVscFVybCA9IGdlbmVyYXRlSGVscFVybChcImpzLWNsaWVudC1wcm9taXNlLXBvbHlmaWxsXCIpO1xuICAgIHRocm93IG5ldyBFcnJvcihgTm8gbmF0aXZlIFByb21pc2UtaW1wbGVtZW50YXRpb24gZm91bmQsIHBvbHlmaWxsIG5lZWRlZCAtIHNlZSAke2hlbHBVcmx9YCk7XG4gIH1cbiAgaWYgKHByb2plY3RCYXNlZCAmJiAhbmV3Q29uZmlnLnByb2plY3RJZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25maWd1cmF0aW9uIG11c3QgY29udGFpbiBgcHJvamVjdElkYFwiKTtcbiAgaWYgKHR5cGVvZiBuZXdDb25maWcucGVyc3BlY3RpdmUgPT0gXCJzdHJpbmdcIiAmJiB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKG5ld0NvbmZpZy5wZXJzcGVjdGl2ZSksIFwiZW5jb2RlU291cmNlTWFwXCIgaW4gbmV3Q29uZmlnKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jy4gJ2VuY29kZVNvdXJjZU1hcCcgaXMgbm90IHN1cHBvcnRlZCBpbiAnQHNhbml0eS9jbGllbnQnLiBEaWQgeW91IG1lYW4gJ3N0ZWdhLmVuYWJsZWQnP1wiXG4gICAgKTtcbiAgaWYgKFwiZW5jb2RlU291cmNlTWFwQXRQYXRoXCIgaW4gbmV3Q29uZmlnKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jy4gJ2VuY29kZVNvdXJjZU1hcEF0UGF0aCcgaXMgbm90IHN1cHBvcnRlZCBpbiAnQHNhbml0eS9jbGllbnQnLiBEaWQgeW91IG1lYW4gJ3N0ZWdhLmZpbHRlcic/XCJcbiAgICApO1xuICBpZiAodHlwZW9mIG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkICE9IFwiYm9vbGVhblwiKVxuICAgIHRocm93IG5ldyBFcnJvcihgc3RlZ2EuZW5hYmxlZCBtdXN0IGJlIGEgYm9vbGVhbiwgcmVjZWl2ZWQgJHtuZXdDb25maWcuc3RlZ2EuZW5hYmxlZH1gKTtcbiAgaWYgKG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkICYmIG5ld0NvbmZpZy5zdGVnYS5zdHVkaW9VcmwgPT09IHZvaWQgMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJzdGVnYS5zdHVkaW9VcmwgbXVzdCBiZSBkZWZpbmVkIHdoZW4gc3RlZ2EuZW5hYmxlZCBpcyB0cnVlXCIpO1xuICBpZiAobmV3Q29uZmlnLnN0ZWdhLmVuYWJsZWQgJiYgdHlwZW9mIG5ld0NvbmZpZy5zdGVnYS5zdHVkaW9VcmwgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgbmV3Q29uZmlnLnN0ZWdhLnN0dWRpb1VybCAhPSBcImZ1bmN0aW9uXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYHN0ZWdhLnN0dWRpb1VybCBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24sIHJlY2VpdmVkICR7bmV3Q29uZmlnLnN0ZWdhLnN0dWRpb1VybH1gXG4gICAgKTtcbiAgY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyA8IFwidVwiICYmIHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsIGlzTG9jYWxob3N0ID0gaXNCcm93c2VyICYmIGlzTG9jYWwod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbiAgaXNCcm93c2VyICYmIGlzTG9jYWxob3N0ICYmIG5ld0NvbmZpZy50b2tlbiAmJiBuZXdDb25maWcuaWdub3JlQnJvd3NlclRva2VuV2FybmluZyAhPT0gITAgPyBwcmludEJyb3dzZXJUb2tlbldhcm5pbmcoKSA6IHR5cGVvZiBuZXdDb25maWcudXNlQ2RuID4gXCJ1XCIgJiYgcHJpbnRDZG5XYXJuaW5nKCksIHByb2plY3RCYXNlZCAmJiBwcm9qZWN0SWQobmV3Q29uZmlnLnByb2plY3RJZCksIG5ld0NvbmZpZy5kYXRhc2V0ICYmIGRhdGFzZXQobmV3Q29uZmlnLmRhdGFzZXQpLCBcInJlcXVlc3RUYWdQcmVmaXhcIiBpbiBuZXdDb25maWcgJiYgKG5ld0NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4ID0gbmV3Q29uZmlnLnJlcXVlc3RUYWdQcmVmaXggPyByZXF1ZXN0VGFnKG5ld0NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4KS5yZXBsYWNlKC9cXC4rJC8sIFwiXCIpIDogdm9pZCAwKSwgbmV3Q29uZmlnLmFwaVZlcnNpb24gPSBgJHtuZXdDb25maWcuYXBpVmVyc2lvbn1gLnJlcGxhY2UoL152LywgXCJcIiksIG5ld0NvbmZpZy5pc0RlZmF1bHRBcGkgPSBuZXdDb25maWcuYXBpSG9zdCA9PT0gZGVmYXVsdENvbmZpZy5hcGlIb3N0LCBuZXdDb25maWcudXNlQ2RuID09PSAhMCAmJiBuZXdDb25maWcud2l0aENyZWRlbnRpYWxzICYmIHByaW50Q2RuQW5kV2l0aENyZWRlbnRpYWxzV2FybmluZygpLCBuZXdDb25maWcudXNlQ2RuID0gbmV3Q29uZmlnLnVzZUNkbiAhPT0gITEgJiYgIW5ld0NvbmZpZy53aXRoQ3JlZGVudGlhbHMsIHZhbGlkYXRlQXBpVmVyc2lvbihuZXdDb25maWcuYXBpVmVyc2lvbik7XG4gIGNvbnN0IGhvc3RQYXJ0cyA9IG5ld0NvbmZpZy5hcGlIb3N0LnNwbGl0KFwiOi8vXCIsIDIpLCBwcm90b2NvbCA9IGhvc3RQYXJ0c1swXSwgaG9zdCA9IGhvc3RQYXJ0c1sxXSwgY2RuSG9zdCA9IG5ld0NvbmZpZy5pc0RlZmF1bHRBcGkgPyBkZWZhdWx0Q2RuSG9zdCA6IGhvc3Q7XG4gIHJldHVybiBuZXdDb25maWcudXNlUHJvamVjdEhvc3RuYW1lID8gKG5ld0NvbmZpZy51cmwgPSBgJHtwcm90b2NvbH06Ly8ke25ld0NvbmZpZy5wcm9qZWN0SWR9LiR7aG9zdH0vdiR7bmV3Q29uZmlnLmFwaVZlcnNpb259YCwgbmV3Q29uZmlnLmNkblVybCA9IGAke3Byb3RvY29sfTovLyR7bmV3Q29uZmlnLnByb2plY3RJZH0uJHtjZG5Ib3N0fS92JHtuZXdDb25maWcuYXBpVmVyc2lvbn1gKSA6IChuZXdDb25maWcudXJsID0gYCR7bmV3Q29uZmlnLmFwaUhvc3R9L3Yke25ld0NvbmZpZy5hcGlWZXJzaW9ufWAsIG5ld0NvbmZpZy5jZG5VcmwgPSBuZXdDb25maWcudXJsKSwgbmV3Q29uZmlnO1xufSwgcHJvamVjdEhlYWRlciA9IFwiWC1TYW5pdHktUHJvamVjdC1JRFwiO1xuZnVuY3Rpb24gcmVxdWVzdE9wdGlvbnMoY29uZmlnLCBvdmVycmlkZXMgPSB7fSkge1xuICBjb25zdCBoZWFkZXJzMiA9IHt9LCB0b2tlbiA9IG92ZXJyaWRlcy50b2tlbiB8fCBjb25maWcudG9rZW47XG4gIHRva2VuICYmIChoZWFkZXJzMi5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3Rva2VufWApLCAhb3ZlcnJpZGVzLnVzZUdsb2JhbEFwaSAmJiAhY29uZmlnLnVzZVByb2plY3RIb3N0bmFtZSAmJiBjb25maWcucHJvamVjdElkICYmIChoZWFkZXJzMltwcm9qZWN0SGVhZGVyXSA9IGNvbmZpZy5wcm9qZWN0SWQpO1xuICBjb25zdCB3aXRoQ3JlZGVudGlhbHMgPSAhISh0eXBlb2Ygb3ZlcnJpZGVzLndpdGhDcmVkZW50aWFscyA+IFwidVwiID8gY29uZmlnLnRva2VuIHx8IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgOiBvdmVycmlkZXMud2l0aENyZWRlbnRpYWxzKSwgdGltZW91dCA9IHR5cGVvZiBvdmVycmlkZXMudGltZW91dCA+IFwidVwiID8gY29uZmlnLnRpbWVvdXQgOiBvdmVycmlkZXMudGltZW91dDtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG92ZXJyaWRlcywge1xuICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oe30sIGhlYWRlcnMyLCBvdmVycmlkZXMuaGVhZGVycyB8fCB7fSksXG4gICAgdGltZW91dDogdHlwZW9mIHRpbWVvdXQgPiBcInVcIiA/IDUgKiA2MCAqIDFlMyA6IHRpbWVvdXQsXG4gICAgcHJveHk6IG92ZXJyaWRlcy5wcm94eSB8fCBjb25maWcucHJveHksXG4gICAganNvbjogITAsXG4gICAgd2l0aENyZWRlbnRpYWxzLFxuICAgIGZldGNoOiB0eXBlb2Ygb3ZlcnJpZGVzLmZldGNoID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGNvbmZpZy5mZXRjaCA9PSBcIm9iamVjdFwiID8geyAuLi5jb25maWcuZmV0Y2gsIC4uLm92ZXJyaWRlcy5mZXRjaCB9IDogb3ZlcnJpZGVzLmZldGNoIHx8IGNvbmZpZy5mZXRjaFxuICB9KTtcbn1cbmNvbnN0IGVuY29kZVF1ZXJ5U3RyaW5nID0gKHtcbiAgcXVlcnksXG4gIHBhcmFtcyA9IHt9LFxuICBvcHRpb25zID0ge31cbn0pID0+IHtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpLCB7IHRhZywgcmV0dXJuUXVlcnksIC4uLm9wdHMgfSA9IG9wdGlvbnM7XG4gIHRhZyAmJiBzZWFyY2hQYXJhbXMuYXBwZW5kKFwidGFnXCIsIHRhZyksIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJxdWVyeVwiLCBxdWVyeSk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtcykpXG4gICAgc2VhcmNoUGFyYW1zLmFwcGVuZChgJCR7a2V5fWAsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9wdHMpKVxuICAgIHZhbHVlICYmIHNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBgJHt2YWx1ZX1gKTtcbiAgcmV0dXJuIHJldHVyblF1ZXJ5ID09PSAhMSAmJiBzZWFyY2hQYXJhbXMuYXBwZW5kKFwicmV0dXJuUXVlcnlcIiwgXCJmYWxzZVwiKSwgYD8ke3NlYXJjaFBhcmFtc31gO1xufSwgZXhjbHVkZUZhbHNleSA9IChwYXJhbSwgZGVmVmFsdWUpID0+IHBhcmFtID09PSAhMSA/IHZvaWQgMCA6IHR5cGVvZiBwYXJhbSA+IFwidVwiID8gZGVmVmFsdWUgOiBwYXJhbSwgZ2V0TXV0YXRpb25RdWVyeSA9IChvcHRpb25zID0ge30pID0+ICh7XG4gIGRyeVJ1bjogb3B0aW9ucy5kcnlSdW4sXG4gIHJldHVybklkczogITAsXG4gIHJldHVybkRvY3VtZW50czogZXhjbHVkZUZhbHNleShvcHRpb25zLnJldHVybkRvY3VtZW50cywgITApLFxuICB2aXNpYmlsaXR5OiBvcHRpb25zLnZpc2liaWxpdHkgfHwgXCJzeW5jXCIsXG4gIGF1dG9HZW5lcmF0ZUFycmF5S2V5czogb3B0aW9ucy5hdXRvR2VuZXJhdGVBcnJheUtleXMsXG4gIHNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uOiBvcHRpb25zLnNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uXG59KSwgaXNSZXNwb25zZSA9IChldmVudCkgPT4gZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZVwiLCBnZXRCb2R5ID0gKGV2ZW50KSA9PiBldmVudC5ib2R5LCBpbmRleEJ5ID0gKGRvY3MsIGF0dHIpID0+IGRvY3MucmVkdWNlKChpbmRleGVkLCBkb2MpID0+IChpbmRleGVkW2F0dHIoZG9jKV0gPSBkb2MsIGluZGV4ZWQpLCAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSksIGdldFF1ZXJ5U2l6ZUxpbWl0ID0gMTEyNjQ7XG5mdW5jdGlvbiBfZmV0Y2goY2xpZW50LCBodHRwUmVxdWVzdCwgX3N0ZWdhLCBxdWVyeSwgX3BhcmFtcyA9IHt9LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qgc3RlZ2EgPSBcInN0ZWdhXCIgaW4gb3B0aW9ucyA/IHtcbiAgICAuLi5fc3RlZ2EgfHwge30sXG4gICAgLi4udHlwZW9mIG9wdGlvbnMuc3RlZ2EgPT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IG9wdGlvbnMuc3RlZ2EgfSA6IG9wdGlvbnMuc3RlZ2EgfHwge31cbiAgfSA6IF9zdGVnYSwgcGFyYW1zID0gc3RlZ2EuZW5hYmxlZCA/IHN0ZWdhQ2xlYW4oX3BhcmFtcykgOiBfcGFyYW1zLCBtYXBSZXNwb25zZSA9IG9wdGlvbnMuZmlsdGVyUmVzcG9uc2UgPT09ICExID8gKHJlcykgPT4gcmVzIDogKHJlcykgPT4gcmVzLnJlc3VsdCwgeyBjYWNoZSwgbmV4dCwgLi4ub3B0cyB9ID0ge1xuICAgIC8vIE9wdCBvdXQgb2Ygc2V0dGluZyBhIGBzaWduYWxgIG9uIGFuIGludGVybmFsIGBmZXRjaGAgaWYgb25lIGlzbid0IHByb3ZpZGVkLlxuICAgIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGluIFJlYWN0IFNlcnZlciBDb21wb25lbnRzIHRvIGF2b2lkIG9wdGluZyBvdXQgb2YgUmVxdWVzdCBNZW1vaXphdGlvbi5cbiAgICB1c2VBYm9ydFNpZ25hbDogdHlwZW9mIG9wdGlvbnMuc2lnbmFsIDwgXCJ1XCIsXG4gICAgLy8gU2V0IGByZXN1bHRTb3VyY2VNYXAnIHdoZW4gc3RlZ2EgaXMgZW5hYmxlZCwgYXMgaXQncyByZXF1aXJlZCBmb3IgZW5jb2RpbmcuXG4gICAgcmVzdWx0U291cmNlTWFwOiBzdGVnYS5lbmFibGVkID8gXCJ3aXRoS2V5QXJyYXlTZWxlY3RvclwiIDogb3B0aW9ucy5yZXN1bHRTb3VyY2VNYXAsXG4gICAgLi4ub3B0aW9ucyxcbiAgICAvLyBEZWZhdWx0IHRvIG5vdCByZXR1cm5pbmcgdGhlIHF1ZXJ5LCB1bmxlc3MgYGZpbHRlclJlc3BvbnNlYCBpcyBgZmFsc2VgLFxuICAgIC8vIG9yIGByZXR1cm5RdWVyeWAgaXMgZXhwbGljaXRseSBzZXQuIGB0cnVlYCBpcyB0aGUgZGVmYXVsdCBpbiBDb250ZW50IExha2UsIHNvIHNraXAgaWYgdHJ1dGh5XG4gICAgcmV0dXJuUXVlcnk6IG9wdGlvbnMuZmlsdGVyUmVzcG9uc2UgPT09ICExICYmIG9wdGlvbnMucmV0dXJuUXVlcnkgIT09ICExXG4gIH0sIHJlcU9wdHMgPSB0eXBlb2YgY2FjaGUgPCBcInVcIiB8fCB0eXBlb2YgbmV4dCA8IFwidVwiID8geyAuLi5vcHRzLCBmZXRjaDogeyBjYWNoZSwgbmV4dCB9IH0gOiBvcHRzLCAkcmVxdWVzdCA9IF9kYXRhUmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCBcInF1ZXJ5XCIsIHsgcXVlcnksIHBhcmFtcyB9LCByZXFPcHRzKTtcbiAgcmV0dXJuIHN0ZWdhLmVuYWJsZWQgPyAkcmVxdWVzdC5waXBlKFxuICAgIGNvbWJpbmVMYXRlc3RXaXRoKFxuICAgICAgZnJvbShcbiAgICAgICAgaW1wb3J0KFwiLi9fY2h1bmtzLWVzL3N0ZWdhRW5jb2RlU291cmNlTWFwLmpzXCIpLnRoZW4oZnVuY3Rpb24obikge1xuICAgICAgICAgIHJldHVybiBuLnN0ZWdhRW5jb2RlU291cmNlTWFwJDE7XG4gICAgICAgIH0pLnRoZW4oXG4gICAgICAgICAgKHsgc3RlZ2FFbmNvZGVTb3VyY2VNYXAgfSkgPT4gc3RlZ2FFbmNvZGVTb3VyY2VNYXBcbiAgICAgICAgKVxuICAgICAgKVxuICAgICksXG4gICAgbWFwKFxuICAgICAgKFtyZXMsIHN0ZWdhRW5jb2RlU291cmNlTWFwXSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBzdGVnYUVuY29kZVNvdXJjZU1hcChyZXMucmVzdWx0LCByZXMucmVzdWx0U291cmNlTWFwLCBzdGVnYSk7XG4gICAgICAgIHJldHVybiBtYXBSZXNwb25zZSh7IC4uLnJlcywgcmVzdWx0IH0pO1xuICAgICAgfVxuICAgIClcbiAgKSA6ICRyZXF1ZXN0LnBpcGUobWFwKG1hcFJlc3BvbnNlKSk7XG59XG5mdW5jdGlvbiBfZ2V0RG9jdW1lbnQoY2xpZW50LCBodHRwUmVxdWVzdCwgaWQsIG9wdHMgPSB7fSkge1xuICBjb25zdCBvcHRpb25zID0geyB1cmk6IF9nZXREYXRhVXJsKGNsaWVudCwgXCJkb2NcIiwgaWQpLCBqc29uOiAhMCwgdGFnOiBvcHRzLnRhZyB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpLnBpcGUoXG4gICAgZmlsdGVyKGlzUmVzcG9uc2UpLFxuICAgIG1hcCgoZXZlbnQpID0+IGV2ZW50LmJvZHkuZG9jdW1lbnRzICYmIGV2ZW50LmJvZHkuZG9jdW1lbnRzWzBdKVxuICApO1xufVxuZnVuY3Rpb24gX2dldERvY3VtZW50cyhjbGllbnQsIGh0dHBSZXF1ZXN0LCBpZHMsIG9wdHMgPSB7fSkge1xuICBjb25zdCBvcHRpb25zID0geyB1cmk6IF9nZXREYXRhVXJsKGNsaWVudCwgXCJkb2NcIiwgaWRzLmpvaW4oXCIsXCIpKSwganNvbjogITAsIHRhZzogb3B0cy50YWcgfTtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKS5waXBlKFxuICAgIGZpbHRlcihpc1Jlc3BvbnNlKSxcbiAgICBtYXAoKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBpbmRleGVkID0gaW5kZXhCeShldmVudC5ib2R5LmRvY3VtZW50cyB8fCBbXSwgKGRvYykgPT4gZG9jLl9pZCk7XG4gICAgICByZXR1cm4gaWRzLm1hcCgoaWQpID0+IGluZGV4ZWRbaWRdIHx8IG51bGwpO1xuICAgIH0pXG4gICk7XG59XG5mdW5jdGlvbiBfY3JlYXRlSWZOb3RFeGlzdHMoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBvcHRpb25zKSB7XG4gIHJldHVybiByZXF1aXJlRG9jdW1lbnRJZChcImNyZWF0ZUlmTm90RXhpc3RzXCIsIGRvYyksIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBcImNyZWF0ZUlmTm90RXhpc3RzXCIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gX2NyZWF0ZU9yUmVwbGFjZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHJlcXVpcmVEb2N1bWVudElkKFwiY3JlYXRlT3JSZXBsYWNlXCIsIGRvYyksIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBcImNyZWF0ZU9yUmVwbGFjZVwiLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIF9kZWxldGUoY2xpZW50LCBodHRwUmVxdWVzdCwgc2VsZWN0aW9uLCBvcHRpb25zKSB7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoXG4gICAgY2xpZW50LFxuICAgIGh0dHBSZXF1ZXN0LFxuICAgIFwibXV0YXRlXCIsXG4gICAgeyBtdXRhdGlvbnM6IFt7IGRlbGV0ZTogZ2V0U2VsZWN0aW9uKHNlbGVjdGlvbikgfV0gfSxcbiAgICBvcHRpb25zXG4gICk7XG59XG5mdW5jdGlvbiBfbXV0YXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG11dGF0aW9ucywgb3B0aW9ucykge1xuICBsZXQgbXV0O1xuICBtdXRhdGlvbnMgaW5zdGFuY2VvZiBQYXRjaCB8fCBtdXRhdGlvbnMgaW5zdGFuY2VvZiBPYnNlcnZhYmxlUGF0Y2ggPyBtdXQgPSB7IHBhdGNoOiBtdXRhdGlvbnMuc2VyaWFsaXplKCkgfSA6IG11dGF0aW9ucyBpbnN0YW5jZW9mIFRyYW5zYWN0aW9uIHx8IG11dGF0aW9ucyBpbnN0YW5jZW9mIE9ic2VydmFibGVUcmFuc2FjdGlvbiA/IG11dCA9IG11dGF0aW9ucy5zZXJpYWxpemUoKSA6IG11dCA9IG11dGF0aW9ucztcbiAgY29uc3QgbXV0cyA9IEFycmF5LmlzQXJyYXkobXV0KSA/IG11dCA6IFttdXRdLCB0cmFuc2FjdGlvbklkID0gb3B0aW9ucyAmJiBvcHRpb25zLnRyYW5zYWN0aW9uSWQgfHwgdm9pZCAwO1xuICByZXR1cm4gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIFwibXV0YXRlXCIsIHsgbXV0YXRpb25zOiBtdXRzLCB0cmFuc2FjdGlvbklkIH0sIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gX2FjdGlvbihjbGllbnQsIGh0dHBSZXF1ZXN0LCBhY3Rpb25zLCBvcHRpb25zKSB7XG4gIGNvbnN0IGFjdHMgPSBBcnJheS5pc0FycmF5KGFjdGlvbnMpID8gYWN0aW9ucyA6IFthY3Rpb25zXSwgdHJhbnNhY3Rpb25JZCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50cmFuc2FjdGlvbklkIHx8IHZvaWQgMCwgc2tpcENyb3NzRGF0YXNldFJlZmVyZW5jZVZhbGlkYXRpb24gPSBvcHRpb25zICYmIG9wdGlvbnMuc2tpcENyb3NzRGF0YXNldFJlZmVyZW5jZVZhbGlkYXRpb24gfHwgdm9pZCAwLCBkcnlSdW4gPSBvcHRpb25zICYmIG9wdGlvbnMuZHJ5UnVuIHx8IHZvaWQgMDtcbiAgcmV0dXJuIF9kYXRhUmVxdWVzdChcbiAgICBjbGllbnQsXG4gICAgaHR0cFJlcXVlc3QsXG4gICAgXCJhY3Rpb25zXCIsXG4gICAgeyBhY3Rpb25zOiBhY3RzLCB0cmFuc2FjdGlvbklkLCBza2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbiwgZHJ5UnVuIH0sXG4gICAgb3B0aW9uc1xuICApO1xufVxuZnVuY3Rpb24gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIGVuZHBvaW50LCBib2R5LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgaXNNdXRhdGlvbiA9IGVuZHBvaW50ID09PSBcIm11dGF0ZVwiLCBpc0FjdGlvbiA9IGVuZHBvaW50ID09PSBcImFjdGlvbnNcIiwgaXNRdWVyeSA9IGVuZHBvaW50ID09PSBcInF1ZXJ5XCIsIHN0clF1ZXJ5ID0gaXNNdXRhdGlvbiB8fCBpc0FjdGlvbiA/IFwiXCIgOiBlbmNvZGVRdWVyeVN0cmluZyhib2R5KSwgdXNlR2V0ID0gIWlzTXV0YXRpb24gJiYgIWlzQWN0aW9uICYmIHN0clF1ZXJ5Lmxlbmd0aCA8IGdldFF1ZXJ5U2l6ZUxpbWl0LCBzdHJpbmdRdWVyeSA9IHVzZUdldCA/IHN0clF1ZXJ5IDogXCJcIiwgcmV0dXJuRmlyc3QgPSBvcHRpb25zLnJldHVybkZpcnN0LCB7IHRpbWVvdXQsIHRva2VuLCB0YWcsIGhlYWRlcnM6IGhlYWRlcnMyLCByZXR1cm5RdWVyeSwgbGFzdExpdmVFdmVudElkIH0gPSBvcHRpb25zLCB1cmkgPSBfZ2V0RGF0YVVybChjbGllbnQsIGVuZHBvaW50LCBzdHJpbmdRdWVyeSksIHJlcU9wdGlvbnMgPSB7XG4gICAgbWV0aG9kOiB1c2VHZXQgPyBcIkdFVFwiIDogXCJQT1NUXCIsXG4gICAgdXJpLFxuICAgIGpzb246ICEwLFxuICAgIGJvZHk6IHVzZUdldCA/IHZvaWQgMCA6IGJvZHksXG4gICAgcXVlcnk6IGlzTXV0YXRpb24gJiYgZ2V0TXV0YXRpb25RdWVyeShvcHRpb25zKSxcbiAgICB0aW1lb3V0LFxuICAgIGhlYWRlcnM6IGhlYWRlcnMyLFxuICAgIHRva2VuLFxuICAgIHRhZyxcbiAgICByZXR1cm5RdWVyeSxcbiAgICBwZXJzcGVjdGl2ZTogb3B0aW9ucy5wZXJzcGVjdGl2ZSxcbiAgICByZXN1bHRTb3VyY2VNYXA6IG9wdGlvbnMucmVzdWx0U291cmNlTWFwLFxuICAgIGxhc3RMaXZlRXZlbnRJZDogQXJyYXkuaXNBcnJheShsYXN0TGl2ZUV2ZW50SWQpID8gbGFzdExpdmVFdmVudElkWzBdIDogbGFzdExpdmVFdmVudElkLFxuICAgIGNhblVzZUNkbjogaXNRdWVyeSxcbiAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgIGZldGNoOiBvcHRpb25zLmZldGNoLFxuICAgIHVzZUFib3J0U2lnbmFsOiBvcHRpb25zLnVzZUFib3J0U2lnbmFsLFxuICAgIHVzZUNkbjogb3B0aW9ucy51c2VDZG5cbiAgfTtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCByZXFPcHRpb25zKS5waXBlKFxuICAgIGZpbHRlcihpc1Jlc3BvbnNlKSxcbiAgICBtYXAoZ2V0Qm9keSksXG4gICAgbWFwKChyZXMpID0+IHtcbiAgICAgIGlmICghaXNNdXRhdGlvbilcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSByZXMucmVzdWx0cyB8fCBbXTtcbiAgICAgIGlmIChvcHRpb25zLnJldHVybkRvY3VtZW50cylcbiAgICAgICAgcmV0dXJuIHJldHVybkZpcnN0ID8gcmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmRvY3VtZW50IDogcmVzdWx0cy5tYXAoKG11dCkgPT4gbXV0LmRvY3VtZW50KTtcbiAgICAgIGNvbnN0IGtleSA9IHJldHVybkZpcnN0ID8gXCJkb2N1bWVudElkXCIgOiBcImRvY3VtZW50SWRzXCIsIGlkcyA9IHJldHVybkZpcnN0ID8gcmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmlkIDogcmVzdWx0cy5tYXAoKG11dCkgPT4gbXV0LmlkKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRyYW5zYWN0aW9uSWQ6IHJlcy50cmFuc2FjdGlvbklkLFxuICAgICAgICByZXN1bHRzLFxuICAgICAgICBba2V5XTogaWRzXG4gICAgICB9O1xuICAgIH0pXG4gICk7XG59XG5mdW5jdGlvbiBfY3JlYXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIGRvYywgb3AsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBtdXRhdGlvbiA9IHsgW29wXTogZG9jIH0sIG9wdHMgPSBPYmplY3QuYXNzaWduKHsgcmV0dXJuRmlyc3Q6ICEwLCByZXR1cm5Eb2N1bWVudHM6ICEwIH0sIG9wdGlvbnMpO1xuICByZXR1cm4gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIFwibXV0YXRlXCIsIHsgbXV0YXRpb25zOiBbbXV0YXRpb25dIH0sIG9wdHMpO1xufVxuZnVuY3Rpb24gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgdXJpID0gb3B0aW9ucy51cmwgfHwgb3B0aW9ucy51cmksIGNvbmZpZyA9IGNsaWVudC5jb25maWcoKSwgY2FuVXNlQ2RuID0gdHlwZW9mIG9wdGlvbnMuY2FuVXNlQ2RuID4gXCJ1XCIgPyBbXCJHRVRcIiwgXCJIRUFEXCJdLmluZGV4T2Yob3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIikgPj0gMCAmJiB1cmkuaW5kZXhPZihcIi9kYXRhL1wiKSA9PT0gMCA6IG9wdGlvbnMuY2FuVXNlQ2RuO1xuICBsZXQgdXNlQ2RuID0gKChfYSA9IG9wdGlvbnMudXNlQ2RuKSAhPSBudWxsID8gX2EgOiBjb25maWcudXNlQ2RuKSAmJiBjYW5Vc2VDZG47XG4gIGNvbnN0IHRhZyA9IG9wdGlvbnMudGFnICYmIGNvbmZpZy5yZXF1ZXN0VGFnUHJlZml4ID8gW2NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4LCBvcHRpb25zLnRhZ10uam9pbihcIi5cIikgOiBvcHRpb25zLnRhZyB8fCBjb25maWcucmVxdWVzdFRhZ1ByZWZpeDtcbiAgaWYgKHRhZyAmJiBvcHRpb25zLnRhZyAhPT0gbnVsbCAmJiAob3B0aW9ucy5xdWVyeSA9IHsgdGFnOiByZXF1ZXN0VGFnKHRhZyksIC4uLm9wdGlvbnMucXVlcnkgfSksIFtcIkdFVFwiLCBcIkhFQURcIiwgXCJQT1NUXCJdLmluZGV4T2Yob3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIikgPj0gMCAmJiB1cmkuaW5kZXhPZihcIi9kYXRhL3F1ZXJ5L1wiKSA9PT0gMCkge1xuICAgIGNvbnN0IHJlc3VsdFNvdXJjZU1hcCA9IChfYiA9IG9wdGlvbnMucmVzdWx0U291cmNlTWFwKSAhPSBudWxsID8gX2IgOiBjb25maWcucmVzdWx0U291cmNlTWFwO1xuICAgIHJlc3VsdFNvdXJjZU1hcCAhPT0gdm9pZCAwICYmIHJlc3VsdFNvdXJjZU1hcCAhPT0gITEgJiYgKG9wdGlvbnMucXVlcnkgPSB7IHJlc3VsdFNvdXJjZU1hcCwgLi4ub3B0aW9ucy5xdWVyeSB9KTtcbiAgICBjb25zdCBwZXJzcGVjdGl2ZSA9IG9wdGlvbnMucGVyc3BlY3RpdmUgfHwgY29uZmlnLnBlcnNwZWN0aXZlO1xuICAgIHR5cGVvZiBwZXJzcGVjdGl2ZSA9PSBcInN0cmluZ1wiICYmIHBlcnNwZWN0aXZlICE9PSBcInJhd1wiICYmICh2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKHBlcnNwZWN0aXZlKSwgb3B0aW9ucy5xdWVyeSA9IHsgcGVyc3BlY3RpdmUsIC4uLm9wdGlvbnMucXVlcnkgfSwgcGVyc3BlY3RpdmUgPT09IFwicHJldmlld0RyYWZ0c1wiICYmIHVzZUNkbiAmJiAodXNlQ2RuID0gITEsIHByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmcoKSkpLCBvcHRpb25zLmxhc3RMaXZlRXZlbnRJZCAmJiAob3B0aW9ucy5xdWVyeSA9IHsgLi4ub3B0aW9ucy5xdWVyeSwgbGFzdExpdmVFdmVudElkOiBvcHRpb25zLmxhc3RMaXZlRXZlbnRJZCB9KSwgb3B0aW9ucy5yZXR1cm5RdWVyeSA9PT0gITEgJiYgKG9wdGlvbnMucXVlcnkgPSB7IHJldHVyblF1ZXJ5OiBcImZhbHNlXCIsIC4uLm9wdGlvbnMucXVlcnkgfSk7XG4gIH1cbiAgY29uc3QgcmVxT3B0aW9ucyA9IHJlcXVlc3RPcHRpb25zKFxuICAgIGNvbmZpZyxcbiAgICBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgICB1cmw6IF9nZXRVcmwoY2xpZW50LCB1cmksIHVzZUNkbilcbiAgICB9KVxuICApLCByZXF1ZXN0ID0gbmV3IE9ic2VydmFibGUoXG4gICAgKHN1YnNjcmliZXIpID0+IGh0dHBSZXF1ZXN0KHJlcU9wdGlvbnMsIGNvbmZpZy5yZXF1ZXN0ZXIpLnN1YnNjcmliZShzdWJzY3JpYmVyKVxuICApO1xuICByZXR1cm4gb3B0aW9ucy5zaWduYWwgPyByZXF1ZXN0LnBpcGUoX3dpdGhBYm9ydFNpZ25hbChvcHRpb25zLnNpZ25hbCkpIDogcmVxdWVzdDtcbn1cbmZ1bmN0aW9uIF9yZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKS5waXBlKFxuICAgIGZpbHRlcigoZXZlbnQpID0+IGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2VcIiksXG4gICAgbWFwKChldmVudCkgPT4gZXZlbnQuYm9keSlcbiAgKTtcbn1cbmZ1bmN0aW9uIF9nZXREYXRhVXJsKGNsaWVudCwgb3BlcmF0aW9uLCBwYXRoKSB7XG4gIGNvbnN0IGNvbmZpZyA9IGNsaWVudC5jb25maWcoKSwgY2F0YWxvZyA9IGhhc0RhdGFzZXQoY29uZmlnKSwgYmFzZVVyaSA9IGAvJHtvcGVyYXRpb259LyR7Y2F0YWxvZ31gO1xuICByZXR1cm4gYC9kYXRhJHtwYXRoID8gYCR7YmFzZVVyaX0vJHtwYXRofWAgOiBiYXNlVXJpfWAucmVwbGFjZSgvXFwvKCR8XFw/KS8sIFwiJDFcIik7XG59XG5mdW5jdGlvbiBfZ2V0VXJsKGNsaWVudCwgdXJpLCBjYW5Vc2VDZG4gPSAhMSkge1xuICBjb25zdCB7IHVybCwgY2RuVXJsIH0gPSBjbGllbnQuY29uZmlnKCk7XG4gIHJldHVybiBgJHtjYW5Vc2VDZG4gPyBjZG5VcmwgOiB1cmx9LyR7dXJpLnJlcGxhY2UoL15cXC8vLCBcIlwiKX1gO1xufVxuZnVuY3Rpb24gX3dpdGhBYm9ydFNpZ25hbChzaWduYWwpIHtcbiAgcmV0dXJuIChpbnB1dCkgPT4gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiB7XG4gICAgY29uc3QgYWJvcnQgPSAoKSA9PiBvYnNlcnZlci5lcnJvcihfY3JlYXRlQWJvcnRFcnJvcihzaWduYWwpKTtcbiAgICBpZiAoc2lnbmFsICYmIHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICBhYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBpbnB1dC5zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuICAgIHJldHVybiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGFib3J0KSwgKCkgPT4ge1xuICAgICAgc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBhYm9ydCksIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0pO1xufVxuY29uc3QgaXNEb21FeGNlcHRpb25TdXBwb3J0ZWQgPSAhIWdsb2JhbFRoaXMuRE9NRXhjZXB0aW9uO1xuZnVuY3Rpb24gX2NyZWF0ZUFib3J0RXJyb3Ioc2lnbmFsKSB7XG4gIHZhciBfYSwgX2I7XG4gIGlmIChpc0RvbUV4Y2VwdGlvblN1cHBvcnRlZClcbiAgICByZXR1cm4gbmV3IERPTUV4Y2VwdGlvbigoX2EgPSBzaWduYWwgPT0gbnVsbCA/IHZvaWQgMCA6IHNpZ25hbC5yZWFzb24pICE9IG51bGwgPyBfYSA6IFwiVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC5cIiwgXCJBYm9ydEVycm9yXCIpO1xuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcigoX2IgPSBzaWduYWwgPT0gbnVsbCA/IHZvaWQgMCA6IHNpZ25hbC5yZWFzb24pICE9IG51bGwgPyBfYiA6IFwiVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC5cIik7XG4gIHJldHVybiBlcnJvci5uYW1lID0gXCJBYm9ydEVycm9yXCIsIGVycm9yO1xufVxudmFyIF9fYWNjZXNzQ2hlY2skNSA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59LCBfX3ByaXZhdGVHZXQkNSA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayQ1KG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopKSwgX19wcml2YXRlQWRkJDUgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59LCBfX3ByaXZhdGVTZXQkNSA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2skNShvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLCBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpLCB2YWx1ZSksIF9jbGllbnQkNCwgX2h0dHBSZXF1ZXN0JDQ7XG5jbGFzcyBPYnNlcnZhYmxlQXNzZXRzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQ1KHRoaXMsIF9jbGllbnQkNCwgdm9pZCAwKSwgX19wcml2YXRlQWRkJDUodGhpcywgX2h0dHBSZXF1ZXN0JDQsIHZvaWQgMCksIF9fcHJpdmF0ZVNldCQ1KHRoaXMsIF9jbGllbnQkNCwgY2xpZW50KSwgX19wcml2YXRlU2V0JDUodGhpcywgX2h0dHBSZXF1ZXN0JDQsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICB1cGxvYWQoYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF91cGxvYWQoX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudCQ0KSwgX19wcml2YXRlR2V0JDUodGhpcywgX2h0dHBSZXF1ZXN0JDQpLCBhc3NldFR5cGUsIGJvZHksIG9wdGlvbnMpO1xuICB9XG59XG5fY2xpZW50JDQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgX2h0dHBSZXF1ZXN0JDQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbnZhciBfY2xpZW50MiQzLCBfaHR0cFJlcXVlc3QyJDQ7XG5jbGFzcyBBc3NldHNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDUodGhpcywgX2NsaWVudDIkMywgdm9pZCAwKSwgX19wcml2YXRlQWRkJDUodGhpcywgX2h0dHBSZXF1ZXN0MiQ0LCB2b2lkIDApLCBfX3ByaXZhdGVTZXQkNSh0aGlzLCBfY2xpZW50MiQzLCBjbGllbnQpLCBfX3ByaXZhdGVTZXQkNSh0aGlzLCBfaHR0cFJlcXVlc3QyJDQsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICB1cGxvYWQoYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZTIgPSBfdXBsb2FkKF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQyJDMpLCBfX3ByaXZhdGVHZXQkNSh0aGlzLCBfaHR0cFJlcXVlc3QyJDQpLCBhc3NldFR5cGUsIGJvZHksIG9wdGlvbnMpO1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgb2JzZXJ2YWJsZTIucGlwZShcbiAgICAgICAgZmlsdGVyKChldmVudCkgPT4gZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZVwiKSxcbiAgICAgICAgbWFwKFxuICAgICAgICAgIChldmVudCkgPT4gZXZlbnQuYm9keS5kb2N1bWVudFxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufVxuX2NsaWVudDIkMyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBfaHR0cFJlcXVlc3QyJDQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIF91cGxvYWQoY2xpZW50LCBodHRwUmVxdWVzdCwgYXNzZXRUeXBlLCBib2R5LCBvcHRzID0ge30pIHtcbiAgdmFsaWRhdGVBc3NldFR5cGUoYXNzZXRUeXBlKTtcbiAgbGV0IG1ldGEgPSBvcHRzLmV4dHJhY3QgfHwgdm9pZCAwO1xuICBtZXRhICYmICFtZXRhLmxlbmd0aCAmJiAobWV0YSA9IFtcIm5vbmVcIl0pO1xuICBjb25zdCBkYXRhc2V0MiA9IGhhc0RhdGFzZXQoY2xpZW50LmNvbmZpZygpKSwgYXNzZXRFbmRwb2ludCA9IGFzc2V0VHlwZSA9PT0gXCJpbWFnZVwiID8gXCJpbWFnZXNcIiA6IFwiZmlsZXNcIiwgb3B0aW9ucyA9IG9wdGlvbnNGcm9tRmlsZShvcHRzLCBib2R5KSwgeyB0YWcsIGxhYmVsLCB0aXRsZSwgZGVzY3JpcHRpb24sIGNyZWRpdExpbmUsIGZpbGVuYW1lLCBzb3VyY2UgfSA9IG9wdGlvbnMsIHF1ZXJ5ID0ge1xuICAgIGxhYmVsLFxuICAgIHRpdGxlLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGZpbGVuYW1lLFxuICAgIG1ldGEsXG4gICAgY3JlZGl0TGluZVxuICB9O1xuICByZXR1cm4gc291cmNlICYmIChxdWVyeS5zb3VyY2VJZCA9IHNvdXJjZS5pZCwgcXVlcnkuc291cmNlTmFtZSA9IHNvdXJjZS5uYW1lLCBxdWVyeS5zb3VyY2VVcmwgPSBzb3VyY2UudXJsKSwgX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIHtcbiAgICB0YWcsXG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB0aW1lb3V0OiBvcHRpb25zLnRpbWVvdXQgfHwgMCxcbiAgICB1cmk6IGAvYXNzZXRzLyR7YXNzZXRFbmRwb2ludH0vJHtkYXRhc2V0Mn1gLFxuICAgIGhlYWRlcnM6IG9wdGlvbnMuY29udGVudFR5cGUgPyB7IFwiQ29udGVudC1UeXBlXCI6IG9wdGlvbnMuY29udGVudFR5cGUgfSA6IHt9LFxuICAgIHF1ZXJ5LFxuICAgIGJvZHlcbiAgfSk7XG59XG5mdW5jdGlvbiBvcHRpb25zRnJvbUZpbGUob3B0cywgZmlsZSkge1xuICByZXR1cm4gdHlwZW9mIEZpbGUgPiBcInVcIiB8fCAhKGZpbGUgaW5zdGFuY2VvZiBGaWxlKSA/IG9wdHMgOiBPYmplY3QuYXNzaWduKFxuICAgIHtcbiAgICAgIGZpbGVuYW1lOiBvcHRzLnByZXNlcnZlRmlsZW5hbWUgPT09ICExID8gdm9pZCAwIDogZmlsZS5uYW1lLFxuICAgICAgY29udGVudFR5cGU6IGZpbGUudHlwZVxuICAgIH0sXG4gICAgb3B0c1xuICApO1xufVxudmFyIGRlZmF1bHRzID0gKG9iaiwgZGVmYXVsdHMyKSA9PiBPYmplY3Qua2V5cyhkZWZhdWx0czIpLmNvbmNhdChPYmplY3Qua2V5cyhvYmopKS5yZWR1Y2UoKHRhcmdldCwgcHJvcCkgPT4gKHRhcmdldFtwcm9wXSA9IHR5cGVvZiBvYmpbcHJvcF0gPiBcInVcIiA/IGRlZmF1bHRzMltwcm9wXSA6IG9ialtwcm9wXSwgdGFyZ2V0KSwge30pO1xuY29uc3QgcGljayA9IChvYmosIHByb3BzKSA9PiBwcm9wcy5yZWR1Y2UoKHNlbGVjdGlvbiwgcHJvcCkgPT4gKHR5cGVvZiBvYmpbcHJvcF0gPiBcInVcIiB8fCAoc2VsZWN0aW9uW3Byb3BdID0gb2JqW3Byb3BdKSwgc2VsZWN0aW9uKSwge30pLCBNQVhfVVJMX0xFTkdUSCA9IDE0ODAwLCBwb3NzaWJsZU9wdGlvbnMgPSBbXG4gIFwiaW5jbHVkZVByZXZpb3VzUmV2aXNpb25cIixcbiAgXCJpbmNsdWRlUmVzdWx0XCIsXG4gIFwidmlzaWJpbGl0eVwiLFxuICBcImVmZmVjdEZvcm1hdFwiLFxuICBcInRhZ1wiXG5dLCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgaW5jbHVkZVJlc3VsdDogITBcbn07XG5mdW5jdGlvbiBfbGlzdGVuKHF1ZXJ5LCBwYXJhbXMsIG9wdHMgPSB7fSkge1xuICBjb25zdCB7IHVybCwgdG9rZW4sIHdpdGhDcmVkZW50aWFscywgcmVxdWVzdFRhZ1ByZWZpeCB9ID0gdGhpcy5jb25maWcoKSwgdGFnID0gb3B0cy50YWcgJiYgcmVxdWVzdFRhZ1ByZWZpeCA/IFtyZXF1ZXN0VGFnUHJlZml4LCBvcHRzLnRhZ10uam9pbihcIi5cIikgOiBvcHRzLnRhZywgb3B0aW9ucyA9IHsgLi4uZGVmYXVsdHMob3B0cywgZGVmYXVsdE9wdGlvbnMpLCB0YWcgfSwgbGlzdGVuT3B0cyA9IHBpY2sob3B0aW9ucywgcG9zc2libGVPcHRpb25zKSwgcXMgPSBlbmNvZGVRdWVyeVN0cmluZyh7IHF1ZXJ5LCBwYXJhbXMsIG9wdGlvbnM6IHsgdGFnLCAuLi5saXN0ZW5PcHRzIH0gfSksIHVyaSA9IGAke3VybH0ke19nZXREYXRhVXJsKHRoaXMsIFwibGlzdGVuXCIsIHFzKX1gO1xuICBpZiAodXJpLmxlbmd0aCA+IE1BWF9VUkxfTEVOR1RIKVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzZXJ2ZXIpID0+IG9ic2VydmVyLmVycm9yKG5ldyBFcnJvcihcIlF1ZXJ5IHRvbyBsYXJnZSBmb3IgbGlzdGVuZXJcIikpKTtcbiAgY29uc3QgbGlzdGVuRm9yID0gb3B0aW9ucy5ldmVudHMgPyBvcHRpb25zLmV2ZW50cyA6IFtcIm11dGF0aW9uXCJdLCBzaG91bGRFbWl0UmVjb25uZWN0ID0gbGlzdGVuRm9yLmluZGV4T2YoXCJyZWNvbm5lY3RcIikgIT09IC0xLCBlc09wdGlvbnMgPSB7fTtcbiAgcmV0dXJuICh0b2tlbiB8fCB3aXRoQ3JlZGVudGlhbHMpICYmIChlc09wdGlvbnMud2l0aENyZWRlbnRpYWxzID0gITApLCB0b2tlbiAmJiAoZXNPcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWBcbiAgfSksIG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgIGxldCBlcywgcmVjb25uZWN0VGltZXIsIHN0b3BwZWQgPSAhMSwgdW5zdWJzY3JpYmVkID0gITE7XG4gICAgb3BlbigpO1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IoKSB7XG4gICAgICBzdG9wcGVkIHx8IChlbWl0UmVjb25uZWN0KCksICFzdG9wcGVkICYmIGVzLnJlYWR5U3RhdGUgPT09IGVzLkNMT1NFRCAmJiAodW5zdWJzY3JpYmUoKSwgY2xlYXJUaW1lb3V0KHJlY29ubmVjdFRpbWVyKSwgcmVjb25uZWN0VGltZXIgPSBzZXRUaW1lb3V0KG9wZW4sIDEwMCkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25DaGFubmVsRXJyb3IoZXJyKSB7XG4gICAgICBvYnNlcnZlci5lcnJvcihjb29lcmNlRXJyb3IoZXJyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uTWVzc2FnZShldnQpIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gcGFyc2VFdmVudCQxKGV2dCk7XG4gICAgICByZXR1cm4gZXZlbnQgaW5zdGFuY2VvZiBFcnJvciA/IG9ic2VydmVyLmVycm9yKGV2ZW50KSA6IG9ic2VydmVyLm5leHQoZXZlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkRpc2Nvbm5lY3QoKSB7XG4gICAgICBzdG9wcGVkID0gITAsIHVuc3Vic2NyaWJlKCksIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgZXMgJiYgKGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbkVycm9yKSwgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5uZWxFcnJvclwiLCBvbkNoYW5uZWxFcnJvciksIGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkaXNjb25uZWN0XCIsIG9uRGlzY29ubmVjdCksIGxpc3RlbkZvci5mb3JFYWNoKCh0eXBlKSA9PiBlcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIG9uTWVzc2FnZSkpLCBlcy5jbG9zZSgpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW1pdFJlY29ubmVjdCgpIHtcbiAgICAgIHNob3VsZEVtaXRSZWNvbm5lY3QgJiYgb2JzZXJ2ZXIubmV4dCh7IHR5cGU6IFwicmVjb25uZWN0XCIgfSk7XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIGdldEV2ZW50U291cmNlKCkge1xuICAgICAgY29uc3QgeyBkZWZhdWx0OiBFdmVudFNvdXJjZTIgfSA9IGF3YWl0IGltcG9ydChcIkBzYW5pdHkvZXZlbnRzb3VyY2VcIik7XG4gICAgICBpZiAodW5zdWJzY3JpYmVkKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBldnMgPSBuZXcgRXZlbnRTb3VyY2UyKHVyaSwgZXNPcHRpb25zKTtcbiAgICAgIHJldHVybiBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpLCBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5uZWxFcnJvclwiLCBvbkNoYW5uZWxFcnJvciksIGV2cy5hZGRFdmVudExpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCBvbkRpc2Nvbm5lY3QpLCBsaXN0ZW5Gb3IuZm9yRWFjaCgodHlwZSkgPT4gZXZzLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgb25NZXNzYWdlKSksIGV2cztcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgIGdldEV2ZW50U291cmNlKCkudGhlbigoZXZlbnRTb3VyY2UpID0+IHtcbiAgICAgICAgZXZlbnRTb3VyY2UgJiYgKGVzID0gZXZlbnRTb3VyY2UsIHVuc3Vic2NyaWJlZCAmJiB1bnN1YnNjcmliZSgpKTtcbiAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIuZXJyb3IocmVhc29uKSwgc3RvcCgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICBzdG9wcGVkID0gITAsIHVuc3Vic2NyaWJlKCksIHVuc3Vic2NyaWJlZCA9ICEwO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcDtcbiAgfSk7XG59XG5mdW5jdGlvbiBwYXJzZUV2ZW50JDEoZXZlbnQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gZXZlbnQuZGF0YSAmJiBKU09OLnBhcnNlKGV2ZW50LmRhdGEpIHx8IHt9O1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgdHlwZTogZXZlbnQudHlwZSB9LCBkYXRhKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGVycjtcbiAgfVxufVxuZnVuY3Rpb24gY29vZXJjZUVycm9yKGVycikge1xuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgcmV0dXJuIGVycjtcbiAgY29uc3QgZXZ0ID0gcGFyc2VFdmVudCQxKGVycik7XG4gIHJldHVybiBldnQgaW5zdGFuY2VvZiBFcnJvciA/IGV2dCA6IG5ldyBFcnJvcihleHRyYWN0RXJyb3JNZXNzYWdlKGV2dCkpO1xufVxuZnVuY3Rpb24gZXh0cmFjdEVycm9yTWVzc2FnZShlcnIpIHtcbiAgcmV0dXJuIGVyci5lcnJvciA/IGVyci5lcnJvci5kZXNjcmlwdGlvbiA/IGVyci5lcnJvci5kZXNjcmlwdGlvbiA6IHR5cGVvZiBlcnIuZXJyb3IgPT0gXCJzdHJpbmdcIiA/IGVyci5lcnJvciA6IEpTT04uc3RyaW5naWZ5KGVyci5lcnJvciwgbnVsbCwgMikgOiBlcnIubWVzc2FnZSB8fCBcIlVua25vd24gbGlzdGVuZXIgZXJyb3JcIjtcbn1cbnZhciBfX2FjY2Vzc0NoZWNrJDQgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufSwgX19wcml2YXRlR2V0JDQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2skNChvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSwgZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKSksIF9fcHJpdmF0ZUFkZCQ0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufSwgX19wcml2YXRlU2V0JDQgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrJDQob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKSwgbWVtYmVyLnNldChvYmosIHZhbHVlKSwgdmFsdWUpO1xuY29uc3QgcmVxdWlyZWRBcGlWZXJzaW9uID0gXCIyMDIxLTAzLTI2XCI7XG52YXIgX2NsaWVudCQzO1xuY2xhc3MgTGl2ZUNsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgIF9fcHJpdmF0ZUFkZCQ0KHRoaXMsIF9jbGllbnQkMywgdm9pZCAwKSwgX19wcml2YXRlU2V0JDQodGhpcywgX2NsaWVudCQzLCBjbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXF1aXJlcyBgYXBpVmVyc2lvbmAgdG8gYmUgYDIwMjEtMDMtMjZgIG9yIGxhdGVyLlxuICAgKi9cbiAgZXZlbnRzKCkge1xuICAgIGNvbnN0IGFwaVZlcnNpb24gPSBfX3ByaXZhdGVHZXQkNCh0aGlzLCBfY2xpZW50JDMpLmNvbmZpZygpLmFwaVZlcnNpb24ucmVwbGFjZSgvXnYvLCBcIlwiKTtcbiAgICBpZiAoYXBpVmVyc2lvbiAhPT0gXCJYXCIgJiYgYXBpVmVyc2lvbiA8IHJlcXVpcmVkQXBpVmVyc2lvbilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRoZSBsaXZlIGV2ZW50cyBBUEkgcmVxdWlyZXMgQVBJIHZlcnNpb24gJHtyZXF1aXJlZEFwaVZlcnNpb259IG9yIGxhdGVyLiBUaGUgY3VycmVudCBBUEkgdmVyc2lvbiBpcyAke2FwaVZlcnNpb259LiBQbGVhc2UgdXBkYXRlIHlvdXIgQVBJIHZlcnNpb24gdG8gdXNlIHRoaXMgZmVhdHVyZS5gXG4gICAgICApO1xuICAgIGNvbnN0IHBhdGggPSBfZ2V0RGF0YVVybChfX3ByaXZhdGVHZXQkNCh0aGlzLCBfY2xpZW50JDMpLCBcImxpdmUvZXZlbnRzXCIpLCB1cmwgPSBuZXcgVVJMKF9fcHJpdmF0ZUdldCQ0KHRoaXMsIF9jbGllbnQkMykuZ2V0VXJsKHBhdGgsICExKSksIGxpc3RlbkZvciA9IFtcInJlc3RhcnRcIiwgXCJtZXNzYWdlXCJdO1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzZXJ2ZXIpID0+IHtcbiAgICAgIGxldCBlcywgcmVjb25uZWN0VGltZXIsIHN0b3BwZWQgPSAhMSwgdW5zdWJzY3JpYmVkID0gITE7XG4gICAgICBvcGVuKCk7XG4gICAgICBmdW5jdGlvbiBvbkVycm9yKGV2dCkge1xuICAgICAgICBpZiAoIXN0b3BwZWQpIHtcbiAgICAgICAgICBpZiAoXCJkYXRhXCIgaW4gZXZ0KSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHBhcnNlRXZlbnQoZXZ0KTtcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKG5ldyBFcnJvcihldmVudC5tZXNzYWdlLCB7IGNhdXNlOiBldmVudCB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVzLnJlYWR5U3RhdGUgPT09IGVzLkNMT1NFRCAmJiAodW5zdWJzY3JpYmUoKSwgY2xlYXJUaW1lb3V0KHJlY29ubmVjdFRpbWVyKSwgcmVjb25uZWN0VGltZXIgPSBzZXRUaW1lb3V0KG9wZW4sIDEwMCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBvbk1lc3NhZ2UoZXZ0KSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gcGFyc2VFdmVudChldnQpO1xuICAgICAgICByZXR1cm4gZXZlbnQgaW5zdGFuY2VvZiBFcnJvciA/IG9ic2VydmVyLmVycm9yKGV2ZW50KSA6IG9ic2VydmVyLm5leHQoZXZlbnQpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmIChlcykge1xuICAgICAgICAgIGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbkVycm9yKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgbGlzdGVuRm9yKVxuICAgICAgICAgICAgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBvbk1lc3NhZ2UpO1xuICAgICAgICAgIGVzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFzeW5jIGZ1bmN0aW9uIGdldEV2ZW50U291cmNlKCkge1xuICAgICAgICBjb25zdCBFdmVudFNvdXJjZUltcGxlbWVudGF0aW9uID0gdHlwZW9mIEV2ZW50U291cmNlID4gXCJ1XCIgPyAoYXdhaXQgaW1wb3J0KFwiQHNhbml0eS9ldmVudHNvdXJjZVwiKSkuZGVmYXVsdCA6IEV2ZW50U291cmNlO1xuICAgICAgICBpZiAodW5zdWJzY3JpYmVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgZXZzID0gbmV3IEV2ZW50U291cmNlSW1wbGVtZW50YXRpb24odXJsLnRvU3RyaW5nKCkpO1xuICAgICAgICBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgbGlzdGVuRm9yKVxuICAgICAgICAgIGV2cy5hZGRFdmVudExpc3RlbmVyKHR5cGUsIG9uTWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBldnM7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICBnZXRFdmVudFNvdXJjZSgpLnRoZW4oKGV2ZW50U291cmNlKSA9PiB7XG4gICAgICAgICAgZXZlbnRTb3VyY2UgJiYgKGVzID0gZXZlbnRTb3VyY2UsIHVuc3Vic2NyaWJlZCAmJiB1bnN1YnNjcmliZSgpKTtcbiAgICAgICAgfSkuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICAgIG9ic2VydmVyLmVycm9yKHJlYXNvbiksIHN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBzdG9wcGVkID0gITAsIHVuc3Vic2NyaWJlKCksIHVuc3Vic2NyaWJlZCA9ICEwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0b3A7XG4gICAgfSk7XG4gIH1cbn1cbl9jbGllbnQkMyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gcGFyc2VFdmVudChldmVudCkge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGEgPSBldmVudC5kYXRhICYmIEpTT04ucGFyc2UoZXZlbnQuZGF0YSkgfHwge307XG4gICAgcmV0dXJuIHsgdHlwZTogZXZlbnQudHlwZSwgaWQ6IGV2ZW50Lmxhc3RFdmVudElkLCAuLi5kYXRhIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBlcnI7XG4gIH1cbn1cbnZhciBfX2FjY2Vzc0NoZWNrJDMgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufSwgX19wcml2YXRlR2V0JDMgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2skMyhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSwgZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKSksIF9fcHJpdmF0ZUFkZCQzID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufSwgX19wcml2YXRlU2V0JDMgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrJDMob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKSwgbWVtYmVyLnNldChvYmosIHZhbHVlKSwgdmFsdWUpLCBfY2xpZW50JDIsIF9odHRwUmVxdWVzdCQzO1xuY2xhc3MgT2JzZXJ2YWJsZURhdGFzZXRzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQzKHRoaXMsIF9jbGllbnQkMiwgdm9pZCAwKSwgX19wcml2YXRlQWRkJDModGhpcywgX2h0dHBSZXF1ZXN0JDMsIHZvaWQgMCksIF9fcHJpdmF0ZVNldCQzKHRoaXMsIF9jbGllbnQkMiwgY2xpZW50KSwgX19wcml2YXRlU2V0JDModGhpcywgX2h0dHBSZXF1ZXN0JDMsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gY3JlYXRlXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGNyZWF0ZShuYW1lMiwgb3B0aW9ucykge1xuICAgIHJldHVybiBfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzKSwgXCJQVVRcIiwgbmFtZTIsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBFZGl0IGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBlZGl0XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gTmV3IG9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBlZGl0KG5hbWUyLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudCQyKSwgX19wcml2YXRlR2V0JDModGhpcywgX2h0dHBSZXF1ZXN0JDMpLCBcIlBBVENIXCIsIG5hbWUyLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBkZWxldGVcbiAgICovXG4gIGRlbGV0ZShuYW1lMikge1xuICAgIHJldHVybiBfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzKSwgXCJERUxFVEVcIiwgbmFtZTIpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIGxpc3Qgb2YgZGF0YXNldHMgZm9yIHRoZSBjb25maWd1cmVkIHByb2plY3RcbiAgICovXG4gIGxpc3QoKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzKSwge1xuICAgICAgdXJpOiBcIi9kYXRhc2V0c1wiLFxuICAgICAgdGFnOiBudWxsXG4gICAgfSk7XG4gIH1cbn1cbl9jbGllbnQkMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBfaHR0cFJlcXVlc3QkMyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIF9jbGllbnQyJDIsIF9odHRwUmVxdWVzdDIkMztcbmNsYXNzIERhdGFzZXRzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQzKHRoaXMsIF9jbGllbnQyJDIsIHZvaWQgMCksIF9fcHJpdmF0ZUFkZCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMywgdm9pZCAwKSwgX19wcml2YXRlU2V0JDModGhpcywgX2NsaWVudDIkMiwgY2xpZW50KSwgX19wcml2YXRlU2V0JDModGhpcywgX2h0dHBSZXF1ZXN0MiQzLCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGNyZWF0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBjcmVhdGUobmFtZTIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIFwiUFVUXCIsIG5hbWUyLCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXQgYSBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGVkaXRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBOZXcgb3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGVkaXQobmFtZTIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIFwiUEFUQ0hcIiwgbmFtZTIsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBkZWxldGVcbiAgICovXG4gIGRlbGV0ZShuYW1lMikge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIFwiREVMRVRFXCIsIG5hbWUyKSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgbGlzdCBvZiBkYXRhc2V0cyBmb3IgdGhlIGNvbmZpZ3VyZWQgcHJvamVjdFxuICAgKi9cbiAgbGlzdCgpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQyJDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QyJDMpLCB7IHVyaTogXCIvZGF0YXNldHNcIiwgdGFnOiBudWxsIH0pXG4gICAgKTtcbiAgfVxufVxuX2NsaWVudDIkMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBfaHR0cFJlcXVlc3QyJDMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIF9tb2RpZnkoY2xpZW50LCBodHRwUmVxdWVzdCwgbWV0aG9kLCBuYW1lMiwgb3B0aW9ucykge1xuICByZXR1cm4gZGF0YXNldChuYW1lMiksIF9yZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIHtcbiAgICBtZXRob2QsXG4gICAgdXJpOiBgL2RhdGFzZXRzLyR7bmFtZTJ9YCxcbiAgICBib2R5OiBvcHRpb25zLFxuICAgIHRhZzogbnVsbFxuICB9KTtcbn1cbnZhciBfX2FjY2Vzc0NoZWNrJDIgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufSwgX19wcml2YXRlR2V0JDIgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2skMihvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSwgZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKSksIF9fcHJpdmF0ZUFkZCQyID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufSwgX19wcml2YXRlU2V0JDIgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrJDIob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKSwgbWVtYmVyLnNldChvYmosIHZhbHVlKSwgdmFsdWUpLCBfY2xpZW50JDEsIF9odHRwUmVxdWVzdCQyO1xuY2xhc3MgT2JzZXJ2YWJsZVByb2plY3RzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQyKHRoaXMsIF9jbGllbnQkMSwgdm9pZCAwKSwgX19wcml2YXRlQWRkJDIodGhpcywgX2h0dHBSZXF1ZXN0JDIsIHZvaWQgMCksIF9fcHJpdmF0ZVNldCQyKHRoaXMsIF9jbGllbnQkMSwgY2xpZW50KSwgX19wcml2YXRlU2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0JDIsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICBsaXN0KG9wdGlvbnMpIHtcbiAgICBjb25zdCB1cmkgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbmNsdWRlTWVtYmVycykgPT09ICExID8gXCIvcHJvamVjdHM/aW5jbHVkZU1lbWJlcnM9ZmFsc2VcIiA6IFwiL3Byb2plY3RzXCI7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9jbGllbnQkMSksIF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9odHRwUmVxdWVzdCQyKSwgeyB1cmkgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgcHJvamVjdCBieSBwcm9qZWN0IElEXG4gICAqXG4gICAqIEBwYXJhbSBwcm9qZWN0SWQgLSBJRCBvZiB0aGUgcHJvamVjdCB0byBmZXRjaFxuICAgKi9cbiAgZ2V0QnlJZChwcm9qZWN0SWQyKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9jbGllbnQkMSksIF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9odHRwUmVxdWVzdCQyKSwgeyB1cmk6IGAvcHJvamVjdHMvJHtwcm9qZWN0SWQyfWAgfSk7XG4gIH1cbn1cbl9jbGllbnQkMSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBfaHR0cFJlcXVlc3QkMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIF9jbGllbnQyJDEsIF9odHRwUmVxdWVzdDIkMjtcbmNsYXNzIFByb2plY3RzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQyKHRoaXMsIF9jbGllbnQyJDEsIHZvaWQgMCksIF9fcHJpdmF0ZUFkZCQyKHRoaXMsIF9odHRwUmVxdWVzdDIkMiwgdm9pZCAwKSwgX19wcml2YXRlU2V0JDIodGhpcywgX2NsaWVudDIkMSwgY2xpZW50KSwgX19wcml2YXRlU2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0MiQyLCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgbGlzdChvcHRpb25zKSB7XG4gICAgY29uc3QgdXJpID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW5jbHVkZU1lbWJlcnMpID09PSAhMSA/IFwiL3Byb2plY3RzP2luY2x1ZGVNZW1iZXJzPWZhbHNlXCIgOiBcIi9wcm9qZWN0c1wiO1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9jbGllbnQyJDEpLCBfX3ByaXZhdGVHZXQkMih0aGlzLCBfaHR0cFJlcXVlc3QyJDIpLCB7IHVyaSB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgcHJvamVjdCBieSBwcm9qZWN0IElEXG4gICAqXG4gICAqIEBwYXJhbSBwcm9qZWN0SWQgLSBJRCBvZiB0aGUgcHJvamVjdCB0byBmZXRjaFxuICAgKi9cbiAgZ2V0QnlJZChwcm9qZWN0SWQyKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfcmVxdWVzdChfX3ByaXZhdGVHZXQkMih0aGlzLCBfY2xpZW50MiQxKSwgX19wcml2YXRlR2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0MiQyKSwgeyB1cmk6IGAvcHJvamVjdHMvJHtwcm9qZWN0SWQyfWAgfSlcbiAgICApO1xuICB9XG59XG5fY2xpZW50MiQxID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIF9odHRwUmVxdWVzdDIkMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIF9fYWNjZXNzQ2hlY2skMSA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59LCBfX3ByaXZhdGVHZXQkMSA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayQxKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopKSwgX19wcml2YXRlQWRkJDEgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59LCBfX3ByaXZhdGVTZXQkMSA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2skMShvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLCBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpLCB2YWx1ZSksIF9jbGllbnQsIF9odHRwUmVxdWVzdCQxO1xuY2xhc3MgT2JzZXJ2YWJsZVVzZXJzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQxKHRoaXMsIF9jbGllbnQsIHZvaWQgMCksIF9fcHJpdmF0ZUFkZCQxKHRoaXMsIF9odHRwUmVxdWVzdCQxLCB2b2lkIDApLCBfX3ByaXZhdGVTZXQkMSh0aGlzLCBfY2xpZW50LCBjbGllbnQpLCBfX3ByaXZhdGVTZXQkMSh0aGlzLCBfaHR0cFJlcXVlc3QkMSwgaHR0cFJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHVzZXIgYnkgdXNlciBJRFxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBVc2VyIElEIG9mIHRoZSB1c2VyIHRvIGZldGNoLiBJZiBgbWVgIGlzIHByb3ZpZGVkLCBhIG1pbmltYWwgcmVzcG9uc2UgaW5jbHVkaW5nIHRoZSB1c2VycyByb2xlIGlzIHJldHVybmVkLlxuICAgKi9cbiAgZ2V0QnlJZChpZCkge1xuICAgIHJldHVybiBfcmVxdWVzdChcbiAgICAgIF9fcHJpdmF0ZUdldCQxKHRoaXMsIF9jbGllbnQpLFxuICAgICAgX19wcml2YXRlR2V0JDEodGhpcywgX2h0dHBSZXF1ZXN0JDEpLFxuICAgICAgeyB1cmk6IGAvdXNlcnMvJHtpZH1gIH1cbiAgICApO1xuICB9XG59XG5fY2xpZW50ID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIF9odHRwUmVxdWVzdCQxID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG52YXIgX2NsaWVudDIsIF9odHRwUmVxdWVzdDIkMTtcbmNsYXNzIFVzZXJzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQxKHRoaXMsIF9jbGllbnQyLCB2b2lkIDApLCBfX3ByaXZhdGVBZGQkMSh0aGlzLCBfaHR0cFJlcXVlc3QyJDEsIHZvaWQgMCksIF9fcHJpdmF0ZVNldCQxKHRoaXMsIF9jbGllbnQyLCBjbGllbnQpLCBfX3ByaXZhdGVTZXQkMSh0aGlzLCBfaHR0cFJlcXVlc3QyJDEsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSB1c2VyIGJ5IHVzZXIgSURcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gVXNlciBJRCBvZiB0aGUgdXNlciB0byBmZXRjaC4gSWYgYG1lYCBpcyBwcm92aWRlZCwgYSBtaW5pbWFsIHJlc3BvbnNlIGluY2x1ZGluZyB0aGUgdXNlcnMgcm9sZSBpcyByZXR1cm5lZC5cbiAgICovXG4gIGdldEJ5SWQoaWQpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQxKHRoaXMsIF9jbGllbnQyKSwgX19wcml2YXRlR2V0JDEodGhpcywgX2h0dHBSZXF1ZXN0MiQxKSwge1xuICAgICAgICB1cmk6IGAvdXNlcnMvJHtpZH1gXG4gICAgICB9KVxuICAgICk7XG4gIH1cbn1cbl9jbGllbnQyID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIF9odHRwUmVxdWVzdDIkMSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiAoX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpLCB2YWx1ZSksIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufSwgX19wcml2YXRlR2V0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopKSwgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufSwgX19wcml2YXRlU2V0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLCBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpLCB2YWx1ZSksIF9jbGllbnRDb25maWcsIF9odHRwUmVxdWVzdDtcbmNvbnN0IF9PYnNlcnZhYmxlU2FuaXR5Q2xpZW50ID0gY2xhc3MgX09ic2VydmFibGVTYW5pdHlDbGllbnQyIHtcbiAgY29uc3RydWN0b3IoaHR0cFJlcXVlc3QsIGNvbmZpZyA9IGRlZmF1bHRDb25maWcpIHtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiYXNzZXRzXCIpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZGF0YXNldHNcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJsaXZlXCIpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicHJvamVjdHNcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJ1c2Vyc1wiKSwgX19wcml2YXRlQWRkKHRoaXMsIF9jbGllbnRDb25maWcsIHZvaWQgMCksIF9fcHJpdmF0ZUFkZCh0aGlzLCBfaHR0cFJlcXVlc3QsIHZvaWQgMCksIF9fcHVibGljRmllbGQodGhpcywgXCJsaXN0ZW5cIiwgX2xpc3RlbiksIHRoaXMuY29uZmlnKGNvbmZpZyksIF9fcHJpdmF0ZVNldCh0aGlzLCBfaHR0cFJlcXVlc3QsIGh0dHBSZXF1ZXN0KSwgdGhpcy5hc3NldHMgPSBuZXcgT2JzZXJ2YWJsZUFzc2V0c0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSksIHRoaXMuZGF0YXNldHMgPSBuZXcgT2JzZXJ2YWJsZURhdGFzZXRzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpKSwgdGhpcy5saXZlID0gbmV3IExpdmVDbGllbnQodGhpcyksIHRoaXMucHJvamVjdHMgPSBuZXcgT2JzZXJ2YWJsZVByb2plY3RzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpKSwgdGhpcy51c2VycyA9IG5ldyBPYnNlcnZhYmxlVXNlcnNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCkpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IC0gcmV0dXJucyBhIG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfT2JzZXJ2YWJsZVNhbml0eUNsaWVudDIoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIHRoaXMuY29uZmlnKCkpO1xuICB9XG4gIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnID09PSB2b2lkIDApXG4gICAgICByZXR1cm4geyAuLi5fX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZykgfTtcbiAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcpICYmIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnKS5hbGxvd1JlY29uZmlndXJlID09PSAhMSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJFeGlzdGluZyBjbGllbnQgaW5zdGFuY2UgY2Fubm90IGJlIHJlY29uZmlndXJlZCAtIHVzZSBgd2l0aENvbmZpZyhuZXdDb25maWcpYCB0byByZXR1cm4gYSBuZXcgY2xpZW50XCJcbiAgICAgICk7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZVNldCh0aGlzLCBfY2xpZW50Q29uZmlnLCBpbml0Q29uZmlnKG5ld0NvbmZpZywgX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcpIHx8IHt9KSksIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgd2l0aCBhIG5ldyAocGFydGlhbCkgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG5ld0NvbmZpZyAtIE5ldyBjbGllbnQgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzLCBzaGFsbG93bHkgbWVyZ2VkIHdpdGggZXhpc3RpbmcgY29uZmlndXJhdGlvblxuICAgKi9cbiAgd2l0aENvbmZpZyhuZXdDb25maWcpIHtcbiAgICBjb25zdCB0aGlzQ29uZmlnID0gdGhpcy5jb25maWcoKTtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlU2FuaXR5Q2xpZW50MihfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwge1xuICAgICAgLi4udGhpc0NvbmZpZyxcbiAgICAgIC4uLm5ld0NvbmZpZyxcbiAgICAgIHN0ZWdhOiB7XG4gICAgICAgIC4uLnRoaXNDb25maWcuc3RlZ2EgfHwge30sXG4gICAgICAgIC4uLnR5cGVvZiAobmV3Q29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBuZXdDb25maWcuc3RlZ2EpID09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBuZXdDb25maWcuc3RlZ2EgfSA6IChuZXdDb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IG5ld0NvbmZpZy5zdGVnYSkgfHwge31cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmZXRjaChxdWVyeSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9mZXRjaChcbiAgICAgIHRoaXMsXG4gICAgICBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSxcbiAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnKS5zdGVnYSxcbiAgICAgIHF1ZXJ5LFxuICAgICAgcGFyYW1zLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgc2luZ2xlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIElELlxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBEb2N1bWVudCBJRCB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnQoaWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2dldERvY3VtZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBpZCwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIG11bHRpcGxlIGRvY3VtZW50cyBpbiBvbmUgcmVxdWVzdC5cbiAgICogU2hvdWxkIGJlIHVzZWQgc3BhcmluZ2x5IC0gcGVyZm9ybWluZyBhIHF1ZXJ5IGlzIHVzdWFsbHkgYSBiZXR0ZXIgb3B0aW9uLlxuICAgKiBUaGUgb3JkZXIvcG9zaXRpb24gb2YgZG9jdW1lbnRzIGlzIHByZXNlcnZlZCBiYXNlZCBvbiB0aGUgb3JpZ2luYWwgYXJyYXkgb2YgSURzLlxuICAgKiBJZiBhbnkgb2YgdGhlIGRvY3VtZW50cyBhcmUgbWlzc2luZywgdGhleSB3aWxsIGJlIHJlcGxhY2VkIGJ5IGEgYG51bGxgIGVudHJ5IGluIHRoZSByZXR1cm5lZCBhcnJheVxuICAgKlxuICAgKiBAcGFyYW0gaWRzIC0gRG9jdW1lbnQgSURzIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudHMoaWRzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9nZXREb2N1bWVudHModGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIGlkcywgb3B0aW9ucyk7XG4gIH1cbiAgY3JlYXRlKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9jcmVhdGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIGRvY3VtZW50LCBcImNyZWF0ZVwiLCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGVJZk5vdEV4aXN0cyhkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfY3JlYXRlSWZOb3RFeGlzdHModGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIGRvY3VtZW50LCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGVPclJlcGxhY2UoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2NyZWF0ZU9yUmVwbGFjZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgZG9jdW1lbnQsIG9wdGlvbnMpO1xuICB9XG4gIGRlbGV0ZShzZWxlY3Rpb24sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2RlbGV0ZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgc2VsZWN0aW9uLCBvcHRpb25zKTtcbiAgfVxuICBtdXRhdGUob3BlcmF0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiBfbXV0YXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBvcGVyYXRpb25zLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGJ1aWxkYWJsZSBwYXRjaCBvZiBvcGVyYXRpb25zIHRvIHBlcmZvcm1cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdGlvbiAtIERvY3VtZW50IElELCBhbiBhcnJheSBvZiBkb2N1bWVudCBJRHMsIG9yIGFuIG9iamVjdCB3aXRoIGBxdWVyeWAgYW5kIG9wdGlvbmFsIGBwYXJhbXNgLCBkZWZpbmluZyB3aGljaCBkb2N1bWVudChzKSB0byBwYXRjaFxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIG9iamVjdCBvZiBwYXRjaCBvcGVyYXRpb25zIHRvIGluaXRpYWxpemUgdGhlIHBhdGNoIGluc3RhbmNlIHdpdGhcbiAgICogQHJldHVybnMgUGF0Y2ggaW5zdGFuY2UgLSBjYWxsIGAuY29tbWl0KClgIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbnMgZGVmaW5lZFxuICAgKi9cbiAgcGF0Y2goc2VsZWN0aW9uLCBvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUGF0Y2goc2VsZWN0aW9uLCBvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHRyYW5zYWN0aW9uIG9mIG11dGF0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIGFycmF5IG9mIG11dGF0aW9uIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgdHJhbnNhY3Rpb24gaW5zdGFuY2Ugd2l0aFxuICAgKi9cbiAgdHJhbnNhY3Rpb24ob3BlcmF0aW9ucykge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIGFjdGlvbiBvcGVyYXRpb25zIGFnYWluc3QgdGhlIGNvbmZpZ3VyZWQgZGF0YXNldFxuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIEFjdGlvbiBvcGVyYXRpb24ocykgdG8gZXhlY3V0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFjdGlvbiBvcHRpb25zXG4gICAqL1xuICBhY3Rpb24ob3BlcmF0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiBfYWN0aW9uKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBvcGVyYXRpb25zLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhbiBIVFRQIHJlcXVlc3QgYWdhaW5zdCB0aGUgU2FuaXR5IEFQSVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgcmVxdWVzdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgU2FuaXR5IEFQSSBVUkwgZm9yIHRoZSBVUkkgcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIHVyaSAtIFVSSS9wYXRoIHRvIGJ1aWxkIFVSTCBmb3JcbiAgICogQHBhcmFtIGNhblVzZUNkbiAtIFdoZXRoZXIgb3Igbm90IHRvIGFsbG93IHVzaW5nIHRoZSBBUEkgQ0ROIGZvciB0aGlzIHJvdXRlXG4gICAqL1xuICBnZXRVcmwodXJpLCBjYW5Vc2VDZG4pIHtcbiAgICByZXR1cm4gX2dldFVybCh0aGlzLCB1cmksIGNhblVzZUNkbik7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgZGF0YSBvcGVyYXRpb24gYW5kIHBhdGggcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIG9wZXJhdGlvbiAtIERhdGEgb3BlcmF0aW9uIChlZyBgcXVlcnlgLCBgbXV0YXRlYCwgYGxpc3RlbmAgb3Igc2ltaWxhcilcbiAgICogQHBhcmFtIHBhdGggLSBQYXRoIHRvIGFwcGVuZCBhZnRlciB0aGUgb3BlcmF0aW9uXG4gICAqL1xuICBnZXREYXRhVXJsKG9wZXJhdGlvbiwgcGF0aCkge1xuICAgIHJldHVybiBfZ2V0RGF0YVVybCh0aGlzLCBvcGVyYXRpb24sIHBhdGgpO1xuICB9XG59O1xuX2NsaWVudENvbmZpZyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBfaHR0cFJlcXVlc3QgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmxldCBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50ID0gX09ic2VydmFibGVTYW5pdHlDbGllbnQ7XG52YXIgX2NsaWVudENvbmZpZzIsIF9odHRwUmVxdWVzdDI7XG5jb25zdCBfU2FuaXR5Q2xpZW50ID0gY2xhc3MgX1Nhbml0eUNsaWVudDIge1xuICBjb25zdHJ1Y3RvcihodHRwUmVxdWVzdCwgY29uZmlnID0gZGVmYXVsdENvbmZpZykge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhc3NldHNcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJkYXRhc2V0c1wiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxpdmVcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJwcm9qZWN0c1wiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcInVzZXJzXCIpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib2JzZXJ2YWJsZVwiKSwgX19wcml2YXRlQWRkKHRoaXMsIF9jbGllbnRDb25maWcyLCB2b2lkIDApLCBfX3ByaXZhdGVBZGQodGhpcywgX2h0dHBSZXF1ZXN0Miwgdm9pZCAwKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxpc3RlblwiLCBfbGlzdGVuKSwgdGhpcy5jb25maWcoY29uZmlnKSwgX19wcml2YXRlU2V0KHRoaXMsIF9odHRwUmVxdWVzdDIsIGh0dHBSZXF1ZXN0KSwgdGhpcy5hc3NldHMgPSBuZXcgQXNzZXRzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSksIHRoaXMuZGF0YXNldHMgPSBuZXcgRGF0YXNldHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpKSwgdGhpcy5saXZlID0gbmV3IExpdmVDbGllbnQodGhpcyksIHRoaXMucHJvamVjdHMgPSBuZXcgUHJvamVjdHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpKSwgdGhpcy51c2VycyA9IG5ldyBVc2Vyc0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MikpLCB0aGlzLm9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZVNhbml0eUNsaWVudChodHRwUmVxdWVzdCwgY29uZmlnKTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCAtIHJldHVybnMgYSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1Nhbml0eUNsaWVudDIoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCB0aGlzLmNvbmZpZygpKTtcbiAgfVxuICBjb25maWcobmV3Q29uZmlnKSB7XG4gICAgaWYgKG5ld0NvbmZpZyA9PT0gdm9pZCAwKVxuICAgICAgcmV0dXJuIHsgLi4uX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcyKSB9O1xuICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZzIpICYmIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnMikuYWxsb3dSZWNvbmZpZ3VyZSA9PT0gITEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRXhpc3RpbmcgY2xpZW50IGluc3RhbmNlIGNhbm5vdCBiZSByZWNvbmZpZ3VyZWQgLSB1c2UgYHdpdGhDb25maWcobmV3Q29uZmlnKWAgdG8gcmV0dXJuIGEgbmV3IGNsaWVudFwiXG4gICAgICApO1xuICAgIHJldHVybiB0aGlzLm9ic2VydmFibGUgJiYgdGhpcy5vYnNlcnZhYmxlLmNvbmZpZyhuZXdDb25maWcpLCBfX3ByaXZhdGVTZXQodGhpcywgX2NsaWVudENvbmZpZzIsIGluaXRDb25maWcobmV3Q29uZmlnLCBfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZzIpIHx8IHt9KSksIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgd2l0aCBhIG5ldyAocGFydGlhbCkgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG5ld0NvbmZpZyAtIE5ldyBjbGllbnQgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzLCBzaGFsbG93bHkgbWVyZ2VkIHdpdGggZXhpc3RpbmcgY29uZmlndXJhdGlvblxuICAgKi9cbiAgd2l0aENvbmZpZyhuZXdDb25maWcpIHtcbiAgICBjb25zdCB0aGlzQ29uZmlnID0gdGhpcy5jb25maWcoKTtcbiAgICByZXR1cm4gbmV3IF9TYW5pdHlDbGllbnQyKF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwge1xuICAgICAgLi4udGhpc0NvbmZpZyxcbiAgICAgIC4uLm5ld0NvbmZpZyxcbiAgICAgIHN0ZWdhOiB7XG4gICAgICAgIC4uLnRoaXNDb25maWcuc3RlZ2EgfHwge30sXG4gICAgICAgIC4uLnR5cGVvZiAobmV3Q29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBuZXdDb25maWcuc3RlZ2EpID09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBuZXdDb25maWcuc3RlZ2EgfSA6IChuZXdDb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IG5ld0NvbmZpZy5zdGVnYSkgfHwge31cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmZXRjaChxdWVyeSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfZmV0Y2goXG4gICAgICAgIHRoaXMsXG4gICAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSxcbiAgICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcyKS5zdGVnYSxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgc2luZ2xlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIElELlxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBEb2N1bWVudCBJRCB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnQoaWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfZ2V0RG9jdW1lbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBpZCwgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBtdWx0aXBsZSBkb2N1bWVudHMgaW4gb25lIHJlcXVlc3QuXG4gICAqIFNob3VsZCBiZSB1c2VkIHNwYXJpbmdseSAtIHBlcmZvcm1pbmcgYSBxdWVyeSBpcyB1c3VhbGx5IGEgYmV0dGVyIG9wdGlvbi5cbiAgICogVGhlIG9yZGVyL3Bvc2l0aW9uIG9mIGRvY3VtZW50cyBpcyBwcmVzZXJ2ZWQgYmFzZWQgb24gdGhlIG9yaWdpbmFsIGFycmF5IG9mIElEcy5cbiAgICogSWYgYW55IG9mIHRoZSBkb2N1bWVudHMgYXJlIG1pc3NpbmcsIHRoZXkgd2lsbCBiZSByZXBsYWNlZCBieSBhIGBudWxsYCBlbnRyeSBpbiB0aGUgcmV0dXJuZWQgYXJyYXlcbiAgICpcbiAgICogQHBhcmFtIGlkcyAtIERvY3VtZW50IElEcyB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnRzKGlkcywgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9nZXREb2N1bWVudHModGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBpZHMsIG9wdGlvbnMpKTtcbiAgfVxuICBjcmVhdGUoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9jcmVhdGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBkb2N1bWVudCwgXCJjcmVhdGVcIiwgb3B0aW9ucylcbiAgICApO1xuICB9XG4gIGNyZWF0ZUlmTm90RXhpc3RzKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfY3JlYXRlSWZOb3RFeGlzdHModGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBkb2N1bWVudCwgb3B0aW9ucylcbiAgICApO1xuICB9XG4gIGNyZWF0ZU9yUmVwbGFjZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX2NyZWF0ZU9yUmVwbGFjZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGRvY3VtZW50LCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgZGVsZXRlKHNlbGVjdGlvbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9kZWxldGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBzZWxlY3Rpb24sIG9wdGlvbnMpKTtcbiAgfVxuICBtdXRhdGUob3BlcmF0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9tdXRhdGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBvcGVyYXRpb25zLCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBidWlsZGFibGUgcGF0Y2ggb2Ygb3BlcmF0aW9ucyB0byBwZXJmb3JtXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3Rpb24gLSBEb2N1bWVudCBJRCwgYW4gYXJyYXkgb2YgZG9jdW1lbnQgSURzLCBvciBhbiBvYmplY3Qgd2l0aCBgcXVlcnlgIGFuZCBvcHRpb25hbCBgcGFyYW1zYCwgZGVmaW5pbmcgd2hpY2ggZG9jdW1lbnQocykgdG8gcGF0Y2hcbiAgICogQHBhcmFtIG9wZXJhdGlvbnMgLSBPcHRpb25hbCBvYmplY3Qgb2YgcGF0Y2ggb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSBwYXRjaCBpbnN0YW5jZSB3aXRoXG4gICAqIEByZXR1cm5zIFBhdGNoIGluc3RhbmNlIC0gY2FsbCBgLmNvbW1pdCgpYCB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb25zIGRlZmluZWRcbiAgICovXG4gIHBhdGNoKGRvY3VtZW50SWQsIG9wZXJhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFBhdGNoKGRvY3VtZW50SWQsIG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgdHJhbnNhY3Rpb24gb2YgbXV0YXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgYXJyYXkgb2YgbXV0YXRpb24gb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSB0cmFuc2FjdGlvbiBpbnN0YW5jZSB3aXRoXG4gICAqL1xuICB0cmFuc2FjdGlvbihvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbihvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhY3Rpb24gb3BlcmF0aW9ucyBhZ2FpbnN0IHRoZSBjb25maWd1cmVkIGRhdGFzZXRcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNhY3Rpb24gcmVzdWx0XG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gQWN0aW9uIG9wZXJhdGlvbihzKSB0byBleGVjdXRlXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQWN0aW9uIG9wdGlvbnNcbiAgICovXG4gIGFjdGlvbihvcGVyYXRpb25zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2FjdGlvbih0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIG9wZXJhdGlvbnMsIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhIHJlcXVlc3QgYWdhaW5zdCB0aGUgU2FuaXR5IEFQSVxuICAgKiBOT1RFOiBPbmx5IHVzZSB0aGlzIGZvciBTYW5pdHkgQVBJIGVuZHBvaW50cywgbm90IGZvciB5b3VyIG93biBBUElzIVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgcmVzcG9uc2UgYm9keVxuICAgKi9cbiAgcmVxdWVzdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX3JlcXVlc3QodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gYW4gSFRUUCByZXF1ZXN0IGEgYC9kYXRhYCBzdWItZW5kcG9pbnRcbiAgICogTk9URTogQ29uc2lkZXJlZCBpbnRlcm5hbCwgdGh1cyBtYXJrZWQgYXMgZGVwcmVjYXRlZC4gVXNlIGByZXF1ZXN0YCBpbnN0ZWFkLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCAtIFVzZSBgcmVxdWVzdCgpYCBvciB5b3VyIG93biBIVFRQIGxpYnJhcnkgaW5zdGVhZFxuICAgKiBAcGFyYW0gZW5kcG9pbnQgLSBFbmRwb2ludCB0byBoaXQgKG11dGF0ZSwgcXVlcnkgZXRjKVxuICAgKiBAcGFyYW0gYm9keSAtIFJlcXVlc3QgYm9keVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRhdGFSZXF1ZXN0KGVuZHBvaW50LCBib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2RhdGFSZXF1ZXN0KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgZW5kcG9pbnQsIGJvZHksIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgU2FuaXR5IEFQSSBVUkwgZm9yIHRoZSBVUkkgcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIHVyaSAtIFVSSS9wYXRoIHRvIGJ1aWxkIFVSTCBmb3JcbiAgICogQHBhcmFtIGNhblVzZUNkbiAtIFdoZXRoZXIgb3Igbm90IHRvIGFsbG93IHVzaW5nIHRoZSBBUEkgQ0ROIGZvciB0aGlzIHJvdXRlXG4gICAqL1xuICBnZXRVcmwodXJpLCBjYW5Vc2VDZG4pIHtcbiAgICByZXR1cm4gX2dldFVybCh0aGlzLCB1cmksIGNhblVzZUNkbik7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgZGF0YSBvcGVyYXRpb24gYW5kIHBhdGggcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIG9wZXJhdGlvbiAtIERhdGEgb3BlcmF0aW9uIChlZyBgcXVlcnlgLCBgbXV0YXRlYCwgYGxpc3RlbmAgb3Igc2ltaWxhcilcbiAgICogQHBhcmFtIHBhdGggLSBQYXRoIHRvIGFwcGVuZCBhZnRlciB0aGUgb3BlcmF0aW9uXG4gICAqL1xuICBnZXREYXRhVXJsKG9wZXJhdGlvbiwgcGF0aCkge1xuICAgIHJldHVybiBfZ2V0RGF0YVVybCh0aGlzLCBvcGVyYXRpb24sIHBhdGgpO1xuICB9XG59O1xuX2NsaWVudENvbmZpZzIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgX2h0dHBSZXF1ZXN0MiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xubGV0IFNhbml0eUNsaWVudCA9IF9TYW5pdHlDbGllbnQ7XG5mdW5jdGlvbiBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzKGVudk1pZGRsZXdhcmUsIENsYXNzQ29uc3RydWN0b3IpIHtcbiAgY29uc3QgZGVmYXVsdFJlcXVlc3RlciA9IGRlZmluZUh0dHBSZXF1ZXN0KGVudk1pZGRsZXdhcmUpO1xuICByZXR1cm4geyByZXF1ZXN0ZXI6IGRlZmF1bHRSZXF1ZXN0ZXIsIGNyZWF0ZUNsaWVudDogKGNvbmZpZykgPT4gbmV3IENsYXNzQ29uc3RydWN0b3IoXG4gICAgKG9wdGlvbnMsIHJlcXVlc3RlcjIpID0+IChyZXF1ZXN0ZXIyIHx8IGRlZmF1bHRSZXF1ZXN0ZXIpKHtcbiAgICAgIG1heFJlZGlyZWN0czogMCxcbiAgICAgIG1heFJldHJpZXM6IGNvbmZpZy5tYXhSZXRyaWVzLFxuICAgICAgcmV0cnlEZWxheTogY29uZmlnLnJldHJ5RGVsYXksXG4gICAgICAuLi5vcHRpb25zXG4gICAgfSksXG4gICAgY29uZmlnXG4gICkgfTtcbn1cbmZ1bmN0aW9uIGRlZmluZURlcHJlY2F0ZWRDcmVhdGVDbGllbnQoY3JlYXRlQ2xpZW50Mikge1xuICByZXR1cm4gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgcmV0dXJuIHByaW50Tm9EZWZhdWx0RXhwb3J0KCksIGNyZWF0ZUNsaWVudDIoY29uZmlnKTtcbiAgfTtcbn1cbnZhciBuYW1lID0gXCJAc2FuaXR5L2NsaWVudFwiLCB2ZXJzaW9uID0gXCI2LjIwLjFcIjtcbmNvbnN0IG1pZGRsZXdhcmUgPSBbXG4gIGRlYnVnKHsgdmVyYm9zZTogITAsIG5hbWVzcGFjZTogXCJzYW5pdHk6Y2xpZW50XCIgfSksXG4gIGhlYWRlcnMoeyBcIlVzZXItQWdlbnRcIjogYCR7bmFtZX0gJHt2ZXJzaW9ufWAgfSksXG4gIC8vIEVuYWJsZSBrZWVwLWFsaXZlLCBhbmQgaW4gYWRkaXRpb24gbGltaXQgdGhlIG51bWJlciBvZiBzb2NrZXRzIHRoYXQgY2FuIGJlIG9wZW5lZC5cbiAgLy8gVGhpcyBhdm9pZHMgb3BlbmluZyB0b28gbWFueSBjb25uZWN0aW9ucyB0byB0aGUgc2VydmVyIGlmIHNvbWVvbmUgdHJpZXMgdG8gZXhlY3V0ZVxuICAvLyBhIGJ1bmNoIG9mIHJlcXVlc3RzIGluIHBhcmFsbGVsLiBJdCdzIHJlY29tbWVuZGVkIHRvIGhhdmUgYSBjb25jdXJyZW5jeSBsaW1pdFxuICAvLyBhdCBhIFwiaGlnaGVyIGxpbWl0XCIgKGkuZS4geW91IHNob3VsZG4ndCBhY3R1YWxseSBleGVjdXRlIGh1bmRyZWRzIG9mIHJlcXVlc3RzIGluIHBhcmFsbGVsKSxcbiAgLy8gYW5kIHRoaXMgaXMgbWFpbmx5IHRvIG1pbmltaXplIHRoZSBpbXBhY3QgZm9yIHRoZSBuZXR3b3JrIGFuZCBzZXJ2ZXIuXG4gIC8vXG4gIC8vIFdlJ3JlIGN1cnJlbnRseSBtYXRjaGluZyB0aGUgc2FtZSBkZWZhdWx0cyBhcyBicm93c2VyczpcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjYwMDM3NTYvaXMtdGhlcmUtYS1saW1pdC1wcmFjdGljYWwtb3Itb3RoZXJ3aXNlLXRvLXRoZS1udW1iZXItb2Ytd2ViLXNvY2tldHMtYS1wYWdlLW9wXG4gIGFnZW50KHtcbiAgICBrZWVwQWxpdmU6ICEwLFxuICAgIG1heFNvY2tldHM6IDMwLFxuICAgIG1heFRvdGFsU29ja2V0czogMjU2XG4gIH0pXG5dLCBleHAgPSBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzKG1pZGRsZXdhcmUsIFNhbml0eUNsaWVudCksIHJlcXVlc3RlciA9IGV4cC5yZXF1ZXN0ZXIsIGNyZWF0ZUNsaWVudCA9IGV4cC5jcmVhdGVDbGllbnQsIGRlcHJlY2F0ZWRDcmVhdGVDbGllbnQgPSBkZWZpbmVEZXByZWNhdGVkQ3JlYXRlQ2xpZW50KGNyZWF0ZUNsaWVudCk7XG5leHBvcnQge1xuICBCYXNlUGF0Y2gsXG4gIEJhc2VUcmFuc2FjdGlvbixcbiAgQ2xpZW50RXJyb3IsXG4gIE9ic2VydmFibGVQYXRjaCxcbiAgT2JzZXJ2YWJsZVNhbml0eUNsaWVudCxcbiAgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uLFxuICBQYXRjaCxcbiAgU2FuaXR5Q2xpZW50LFxuICBTZXJ2ZXJFcnJvcixcbiAgVHJhbnNhY3Rpb24sXG4gIGNyZWF0ZUNsaWVudCxcbiAgZGVwcmVjYXRlZENyZWF0ZUNsaWVudCBhcyBkZWZhdWx0LFxuICByZXF1ZXN0ZXIsXG4gIGFkYXB0ZXIgYXMgdW5zdGFibGVfX2FkYXB0ZXIsXG4gIGVudmlyb25tZW50IGFzIHVuc3RhYmxlX19lbnZpcm9ubWVudFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/color/dist/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/color/dist/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COLOR_HUES: () => (/* binding */ COLOR_HUES),\n/* harmony export */   COLOR_TINTS: () => (/* binding */ COLOR_TINTS),\n/* harmony export */   black: () => (/* binding */ black),\n/* harmony export */   blue: () => (/* binding */ blue),\n/* harmony export */   buildTints: () => (/* binding */ buildTints),\n/* harmony export */   color: () => (/* binding */ color),\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   cyan: () => (/* binding */ cyan),\n/* harmony export */   darken: () => (/* binding */ darken),\n/* harmony export */   gray: () => (/* binding */ gray),\n/* harmony export */   green: () => (/* binding */ green),\n/* harmony export */   hexToRgb: () => (/* binding */ hexToRgb),\n/* harmony export */   hslToRgb: () => (/* binding */ hslToRgb),\n/* harmony export */   hues: () => (/* binding */ hues),\n/* harmony export */   limit: () => (/* binding */ limit),\n/* harmony export */   magenta: () => (/* binding */ magenta),\n/* harmony export */   orange: () => (/* binding */ orange),\n/* harmony export */   purple: () => (/* binding */ purple),\n/* harmony export */   red: () => (/* binding */ red),\n/* harmony export */   rgbToHex: () => (/* binding */ rgbToHex),\n/* harmony export */   rgbToHsl: () => (/* binding */ rgbToHsl),\n/* harmony export */   screen: () => (/* binding */ screen),\n/* harmony export */   white: () => (/* binding */ white),\n/* harmony export */   yellow: () => (/* binding */ yellow)\n/* harmony export */ });\nconst COLOR_HUES = [\n  \"gray\",\n  \"blue\",\n  \"purple\",\n  \"magenta\",\n  \"red\",\n  \"orange\",\n  \"yellow\",\n  \"green\",\n  \"cyan\"\n], COLOR_TINTS = [\n  \"50\",\n  \"100\",\n  \"200\",\n  \"300\",\n  \"400\",\n  \"500\",\n  \"600\",\n  \"700\",\n  \"800\",\n  \"900\",\n  \"950\"\n];\nfunction hslToRgb(hsl) {\n  const h = hsl[0], s = hsl[1] / 100, l = hsl[2] / 100, k = (n) => (n + h / 30) % 12, a = s * Math.min(l, 1 - l), f = (n) => l - a * Math.max(-1, Math.min(k(n) - 3, Math.min(9 - k(n), 1)));\n  return [255 * f(0), 255 * f(8), 255 * f(4)];\n}\nfunction rgbToHex([r, g, b]) {\n  const _r = Math.round(r), _g = Math.round(g), _b = Math.round(b);\n  return \"#\" + ((1 << 24) + (_r << 16) + (_g << 8) + _b).toString(16).slice(1);\n}\nfunction buildTints(options) {\n  const { hueKey, color: color2 } = options;\n  return COLOR_TINTS.reduce((acc, tintKey) => {\n    const tint = Number(tintKey), rgb = hslToRgb(color2.tints[tintKey].hsl), hex = rgbToHex([Math.round(rgb[0]), Math.round(rgb[1]), Math.round(rgb[2])]);\n    return acc[tintKey] = {\n      title: `${hueKey.slice(0, 1).toUpperCase()}${hueKey.slice(1)} ${tint}`,\n      hex\n    }, acc;\n  }, {});\n}\nconst black = {\n  title: \"Black\",\n  hex: \"#0d0e12\"\n}, white = {\n  title: \"White\",\n  hex: \"#ffffff\"\n}, gray = {\n  50: {\n    title: \"Gray 50\",\n    hex: \"#f6f6f8\"\n  },\n  100: {\n    title: \"Gray 100\",\n    hex: \"#eeeef1\"\n  },\n  200: {\n    title: \"Gray 200\",\n    hex: \"#e3e4e8\"\n  },\n  300: {\n    title: \"Gray 300\",\n    hex: \"#bbbdc9\"\n  },\n  400: {\n    title: \"Gray 400\",\n    hex: \"#9499ad\"\n  },\n  500: {\n    title: \"Gray 500\",\n    hex: \"#727892\"\n  },\n  600: {\n    title: \"Gray 600\",\n    hex: \"#515870\"\n  },\n  700: {\n    title: \"Gray 700\",\n    hex: \"#383d51\"\n  },\n  800: {\n    title: \"Gray 800\",\n    hex: \"#252837\"\n  },\n  900: {\n    title: \"Gray 900\",\n    hex: \"#1b1d27\"\n  },\n  950: {\n    title: \"Gray 950\",\n    hex: \"#13141b\"\n  }\n}, blue = {\n  50: {\n    title: \"Blue 50\",\n    hex: \"#f5f8ff\"\n  },\n  100: {\n    title: \"Blue 100\",\n    hex: \"#e5edff\"\n  },\n  200: {\n    title: \"Blue 200\",\n    hex: \"#dbe5ff\"\n  },\n  300: {\n    title: \"Blue 300\",\n    hex: \"#a8bfff\"\n  },\n  400: {\n    title: \"Blue 400\",\n    hex: \"#7595ff\"\n  },\n  500: {\n    title: \"Blue 500\",\n    hex: \"#556bfc\"\n  },\n  600: {\n    title: \"Blue 600\",\n    hex: \"#4043e7\"\n  },\n  700: {\n    title: \"Blue 700\",\n    hex: \"#2927aa\"\n  },\n  800: {\n    title: \"Blue 800\",\n    hex: \"#192457\"\n  },\n  900: {\n    title: \"Blue 900\",\n    hex: \"#161a41\"\n  },\n  950: {\n    title: \"Blue 950\",\n    hex: \"#101228\"\n  }\n}, purple = {\n  50: {\n    title: \"Purple 50\",\n    hex: \"#f8f5ff\"\n  },\n  100: {\n    title: \"Purple 100\",\n    hex: \"#f1ebff\"\n  },\n  200: {\n    title: \"Purple 200\",\n    hex: \"#ece1fe\"\n  },\n  300: {\n    title: \"Purple 300\",\n    hex: \"#ccb1fc\"\n  },\n  400: {\n    title: \"Purple 400\",\n    hex: \"#b087f7\"\n  },\n  500: {\n    title: \"Purple 500\",\n    hex: \"#8f57ef\"\n  },\n  600: {\n    title: \"Purple 600\",\n    hex: \"#721fe5\"\n  },\n  700: {\n    title: \"Purple 700\",\n    hex: \"#4c1a9e\"\n  },\n  800: {\n    title: \"Purple 800\",\n    hex: \"#2f1862\"\n  },\n  900: {\n    title: \"Purple 900\",\n    hex: \"#23173f\"\n  },\n  950: {\n    title: \"Purple 950\",\n    hex: \"#181128\"\n  }\n}, magenta = {\n  50: {\n    title: \"Magenta 50\",\n    hex: \"#fef6f9\"\n  },\n  100: {\n    title: \"Magenta 100\",\n    hex: \"#fde8ef\"\n  },\n  200: {\n    title: \"Magenta 200\",\n    hex: \"#fcdee9\"\n  },\n  300: {\n    title: \"Magenta 300\",\n    hex: \"#f7abc5\"\n  },\n  400: {\n    title: \"Magenta 400\",\n    hex: \"#f0709b\"\n  },\n  500: {\n    title: \"Magenta 500\",\n    hex: \"#e72767\"\n  },\n  600: {\n    title: \"Magenta 600\",\n    hex: \"#b11651\"\n  },\n  700: {\n    title: \"Magenta 700\",\n    hex: \"#7c1342\"\n  },\n  800: {\n    title: \"Magenta 800\",\n    hex: \"#4b1130\"\n  },\n  900: {\n    title: \"Magenta 900\",\n    hex: \"#341325\"\n  },\n  950: {\n    title: \"Magenta 950\",\n    hex: \"#1f0f14\"\n  }\n}, red = {\n  50: {\n    title: \"Red 50\",\n    hex: \"#fff6f5\"\n  },\n  100: {\n    title: \"Red 100\",\n    hex: \"#ffe7e5\"\n  },\n  200: {\n    title: \"Red 200\",\n    hex: \"#ffdedc\"\n  },\n  300: {\n    title: \"Red 300\",\n    hex: \"#fdada5\"\n  },\n  400: {\n    title: \"Red 400\",\n    hex: \"#f77769\"\n  },\n  500: {\n    title: \"Red 500\",\n    hex: \"#ef4434\"\n  },\n  600: {\n    title: \"Red 600\",\n    hex: \"#cc2819\"\n  },\n  700: {\n    title: \"Red 700\",\n    hex: \"#8b2018\"\n  },\n  800: {\n    title: \"Red 800\",\n    hex: \"#4d1714\"\n  },\n  900: {\n    title: \"Red 900\",\n    hex: \"#321615\"\n  },\n  950: {\n    title: \"Red 950\",\n    hex: \"#1e1011\"\n  }\n}, orange = {\n  50: {\n    title: \"Orange 50\",\n    hex: \"#fff7f0\"\n  },\n  100: {\n    title: \"Orange 100\",\n    hex: \"#ffeadb\"\n  },\n  200: {\n    title: \"Orange 200\",\n    hex: \"#ffddc7\"\n  },\n  300: {\n    title: \"Orange 300\",\n    hex: \"#ffb685\"\n  },\n  400: {\n    title: \"Orange 400\",\n    hex: \"#ff8e42\"\n  },\n  500: {\n    title: \"Orange 500\",\n    hex: \"#fa6400\"\n  },\n  600: {\n    title: \"Orange 600\",\n    hex: \"#b14802\"\n  },\n  700: {\n    title: \"Orange 700\",\n    hex: \"#7c3404\"\n  },\n  800: {\n    title: \"Orange 800\",\n    hex: \"#461e07\"\n  },\n  900: {\n    title: \"Orange 900\",\n    hex: \"#32160b\"\n  },\n  950: {\n    title: \"Orange 950\",\n    hex: \"#21120d\"\n  }\n}, yellow = {\n  50: {\n    title: \"Yellow 50\",\n    hex: \"#fefae1\"\n  },\n  100: {\n    title: \"Yellow 100\",\n    hex: \"#fcf3bb\"\n  },\n  200: {\n    title: \"Yellow 200\",\n    hex: \"#f9e994\"\n  },\n  300: {\n    title: \"Yellow 300\",\n    hex: \"#f7d455\"\n  },\n  400: {\n    title: \"Yellow 400\",\n    hex: \"#f9bc15\"\n  },\n  500: {\n    title: \"Yellow 500\",\n    hex: \"#d28a04\"\n  },\n  600: {\n    title: \"Yellow 600\",\n    hex: \"#965908\"\n  },\n  700: {\n    title: \"Yellow 700\",\n    hex: \"#653a0b\"\n  },\n  800: {\n    title: \"Yellow 800\",\n    hex: \"#3b220c\"\n  },\n  900: {\n    title: \"Yellow 900\",\n    hex: \"#271a11\"\n  },\n  950: {\n    title: \"Yellow 950\",\n    hex: \"#181410\"\n  }\n}, green = {\n  50: {\n    title: \"Green 50\",\n    hex: \"#e7fef5\"\n  },\n  100: {\n    title: \"Green 100\",\n    hex: \"#c5fce8\"\n  },\n  200: {\n    title: \"Green 200\",\n    hex: \"#a9f9dc\"\n  },\n  300: {\n    title: \"Green 300\",\n    hex: \"#59f3ba\"\n  },\n  400: {\n    title: \"Green 400\",\n    hex: \"#0ff0a1\"\n  },\n  500: {\n    title: \"Green 500\",\n    hex: \"#04b97a\"\n  },\n  600: {\n    title: \"Green 600\",\n    hex: \"#01794f\"\n  },\n  700: {\n    title: \"Green 700\",\n    hex: \"#015133\"\n  },\n  800: {\n    title: \"Green 800\",\n    hex: \"#023120\"\n  },\n  900: {\n    title: \"Green 900\",\n    hex: \"#06231a\"\n  },\n  950: {\n    title: \"Green 950\",\n    hex: \"#071715\"\n  }\n}, cyan = {\n  50: {\n    title: \"Cyan 50\",\n    hex: \"#e7fefe\"\n  },\n  100: {\n    title: \"Cyan 100\",\n    hex: \"#c5fcfc\"\n  },\n  200: {\n    title: \"Cyan 200\",\n    hex: \"#96f8f8\"\n  },\n  300: {\n    title: \"Cyan 300\",\n    hex: \"#62efef\"\n  },\n  400: {\n    title: \"Cyan 400\",\n    hex: \"#18e2e2\"\n  },\n  500: {\n    title: \"Cyan 500\",\n    hex: \"#04b8be\"\n  },\n  600: {\n    title: \"Cyan 600\",\n    hex: \"#037782\"\n  },\n  700: {\n    title: \"Cyan 700\",\n    hex: \"#024950\"\n  },\n  800: {\n    title: \"Cyan 800\",\n    hex: \"#042f34\"\n  },\n  900: {\n    title: \"Cyan 900\",\n    hex: \"#072227\"\n  },\n  950: {\n    title: \"Cyan 950\",\n    hex: \"#0d181c\"\n  }\n}, hues = { gray, blue, purple, magenta, red, orange, yellow, green, cyan }, color = { black, white, ...hues }, config = {\n  black: {\n    title: \"Black\",\n    hsl: [225, 16, 6]\n  },\n  white: {\n    title: \"White\",\n    hsl: [0, 0, 100]\n  },\n  gray: {\n    title: \"Gray\",\n    tints: {\n      50: {\n        title: \"Gray 50\",\n        hsl: [240, 12, 97]\n      },\n      100: {\n        title: \"Gray 100\",\n        hsl: [240, 10, 94]\n      },\n      200: {\n        title: \"Gray 200\",\n        hsl: [231, 10, 90]\n      },\n      300: {\n        title: \"Gray 300\",\n        hsl: [232, 11, 76]\n      },\n      400: {\n        title: \"Gray 400\",\n        hsl: [228, 13, 63]\n      },\n      500: {\n        title: \"Gray 500\",\n        hsl: [229, 13, 51]\n      },\n      600: {\n        title: \"Gray 600\",\n        hsl: [228, 16, 38]\n      },\n      700: {\n        title: \"Gray 700\",\n        hsl: [229, 18, 27]\n      },\n      800: {\n        title: \"Gray 800\",\n        hsl: [229, 19, 18]\n      },\n      900: {\n        title: \"Gray 900\",\n        hsl: [228, 19, 13]\n      },\n      950: {\n        title: \"Gray 950\",\n        hsl: [233, 17, 9]\n      }\n    }\n  },\n  blue: {\n    title: \"Blue\",\n    tints: {\n      50: {\n        title: \"Blue 50\",\n        hsl: [222, 100, 98]\n      },\n      100: {\n        title: \"Blue 100\",\n        hsl: [222, 100, 95]\n      },\n      200: {\n        title: \"Blue 200\",\n        hsl: [223, 100, 93]\n      },\n      300: {\n        title: \"Blue 300\",\n        hsl: [224, 100, 83]\n      },\n      400: {\n        title: \"Blue 400\",\n        hsl: [226, 100, 73]\n      },\n      500: {\n        title: \"Blue 500\",\n        hsl: [232, 96, 66]\n      },\n      600: {\n        title: \"Blue 600\",\n        hsl: [239, 78, 58]\n      },\n      700: {\n        title: \"Blue 700\",\n        hsl: [241, 63, 41]\n      },\n      800: {\n        title: \"Blue 800\",\n        hsl: [230, 55, 22]\n      },\n      900: {\n        title: \"Blue 900\",\n        hsl: [234, 49, 17]\n      },\n      950: {\n        title: \"Blue 950\",\n        hsl: [235, 43, 11]\n      }\n    }\n  },\n  purple: {\n    title: \"Purple\",\n    tints: {\n      50: {\n        title: \"Purple 50\",\n        hsl: [260, 95, 98]\n      },\n      100: {\n        title: \"Purple 100\",\n        hsl: [260, 98, 96]\n      },\n      200: {\n        title: \"Purple 200\",\n        hsl: [263, 96, 94]\n      },\n      300: {\n        title: \"Purple 300\",\n        hsl: [262, 92, 84]\n      },\n      400: {\n        title: \"Purple 400\",\n        hsl: [262, 88, 75]\n      },\n      500: {\n        title: \"Purple 500\",\n        hsl: [262, 83, 64]\n      },\n      600: {\n        title: \"Purple 600\",\n        hsl: [265, 79, 51]\n      },\n      700: {\n        title: \"Purple 700\",\n        hsl: [263, 72, 36]\n      },\n      800: {\n        title: \"Purple 800\",\n        hsl: [258, 60, 24]\n      },\n      900: {\n        title: \"Purple 900\",\n        hsl: [257, 46, 17]\n      },\n      950: {\n        title: \"Purple 950\",\n        hsl: [260, 41, 11]\n      }\n    }\n  },\n  magenta: {\n    title: \"Magenta\",\n    tints: {\n      50: {\n        title: \"Magenta 50\",\n        hsl: [340, 82, 98]\n      },\n      100: {\n        title: \"Magenta 100\",\n        hsl: [339, 83, 95]\n      },\n      200: {\n        title: \"Magenta 200\",\n        hsl: [339, 83, 93]\n      },\n      300: {\n        title: \"Magenta 300\",\n        hsl: [340, 82, 82]\n      },\n      400: {\n        title: \"Magenta 400\",\n        hsl: [340, 81, 69]\n      },\n      500: {\n        title: \"Magenta 500\",\n        hsl: [340, 80, 53]\n      },\n      600: {\n        title: \"Magenta 600\",\n        hsl: [337, 78, 39]\n      },\n      700: {\n        title: \"Magenta 700\",\n        hsl: [333, 73, 28]\n      },\n      800: {\n        title: \"Magenta 800\",\n        hsl: [328, 63, 18]\n      },\n      900: {\n        title: \"Magenta 900\",\n        hsl: [327, 46, 14]\n      },\n      950: {\n        title: \"Magenta 950\",\n        hsl: [341, 35, 9]\n      }\n    }\n  },\n  red: {\n    title: \"Red\",\n    tints: {\n      50: {\n        title: \"Red 50\",\n        hsl: [5, 100, 98]\n      },\n      100: {\n        title: \"Red 100\",\n        hsl: [4, 100, 95]\n      },\n      200: {\n        title: \"Red 200\",\n        hsl: [4, 98, 93]\n      },\n      300: {\n        title: \"Red 300\",\n        hsl: [5, 95, 82]\n      },\n      400: {\n        title: \"Red 400\",\n        hsl: [6, 90, 69]\n      },\n      500: {\n        title: \"Red 500\",\n        hsl: [5, 85, 57]\n      },\n      600: {\n        title: \"Red 600\",\n        hsl: [5, 78, 45]\n      },\n      700: {\n        title: \"Red 700\",\n        hsl: [4, 70, 32]\n      },\n      800: {\n        title: \"Red 800\",\n        hsl: [3, 58, 19]\n      },\n      900: {\n        title: \"Red 900\",\n        hsl: [2, 41, 14]\n      },\n      950: {\n        title: \"Red 950\",\n        hsl: [356, 30, 9]\n      }\n    }\n  },\n  orange: {\n    title: \"Orange\",\n    tints: {\n      50: {\n        title: \"Orange 50\",\n        hsl: [28, 100, 97]\n      },\n      100: {\n        title: \"Orange 100\",\n        hsl: [25, 100, 93]\n      },\n      200: {\n        title: \"Orange 200\",\n        hsl: [24, 100, 89]\n      },\n      300: {\n        title: \"Orange 300\",\n        hsl: [24, 100, 76]\n      },\n      400: {\n        title: \"Orange 400\",\n        hsl: [24, 100, 63]\n      },\n      500: {\n        title: \"Orange 500\",\n        hsl: [24, 100, 49]\n      },\n      600: {\n        title: \"Orange 600\",\n        hsl: [24, 98, 35]\n      },\n      700: {\n        title: \"Orange 700\",\n        hsl: [24, 94, 25]\n      },\n      800: {\n        title: \"Orange 800\",\n        hsl: [22, 82, 15]\n      },\n      900: {\n        title: \"Orange 900\",\n        hsl: [17, 65, 12]\n      },\n      950: {\n        title: \"Orange 950\",\n        hsl: [14, 43, 9]\n      }\n    }\n  },\n  yellow: {\n    title: \"Yellow\",\n    tints: {\n      50: {\n        title: \"Yellow 50\",\n        hsl: [51, 94, 94]\n      },\n      100: {\n        title: \"Yellow 100\",\n        hsl: [52, 91, 86]\n      },\n      200: {\n        title: \"Yellow 200\",\n        hsl: [50, 90, 78]\n      },\n      300: {\n        title: \"Yellow 300\",\n        hsl: [47, 91, 65]\n      },\n      400: {\n        title: \"Yellow 400\",\n        hsl: [44, 95, 53]\n      },\n      500: {\n        title: \"Yellow 500\",\n        hsl: [39, 96, 42]\n      },\n      600: {\n        title: \"Yellow 600\",\n        hsl: [34, 90, 31]\n      },\n      700: {\n        title: \"Yellow 700\",\n        hsl: [31, 80, 22]\n      },\n      800: {\n        title: \"Yellow 800\",\n        hsl: [28, 66, 14]\n      },\n      900: {\n        title: \"Yellow 900\",\n        hsl: [24, 40, 11]\n      },\n      950: {\n        title: \"Yellow 950\",\n        hsl: [24, 20, 8]\n      }\n    }\n  },\n  green: {\n    title: \"Green\",\n    tints: {\n      50: {\n        title: \"Green 50\",\n        hsl: [157, 89, 95]\n      },\n      100: {\n        title: \"Green 100\",\n        hsl: [158, 89, 88]\n      },\n      200: {\n        title: \"Green 200\",\n        hsl: [158, 87, 82]\n      },\n      300: {\n        title: \"Green 300\",\n        hsl: [158, 86, 65]\n      },\n      400: {\n        title: \"Green 400\",\n        hsl: [159, 88, 50]\n      },\n      500: {\n        title: \"Green 500\",\n        hsl: [159, 96, 37]\n      },\n      600: {\n        title: \"Green 600\",\n        hsl: [159, 98, 24]\n      },\n      700: {\n        title: \"Green 700\",\n        hsl: [158, 98, 16]\n      },\n      800: {\n        title: \"Green 800\",\n        hsl: [158, 91, 10]\n      },\n      900: {\n        title: \"Green 900\",\n        hsl: [162, 72, 8]\n      },\n      950: {\n        title: \"Green 950\",\n        hsl: [172, 51, 6]\n      }\n    }\n  },\n  cyan: {\n    title: \"Cyan\",\n    tints: {\n      50: {\n        title: \"Cyan 50\",\n        hsl: [180, 92, 95]\n      },\n      100: {\n        title: \"Cyan 100\",\n        hsl: [180, 91, 88]\n      },\n      200: {\n        title: \"Cyan 200\",\n        hsl: [180, 87, 78]\n      },\n      300: {\n        title: \"Cyan 300\",\n        hsl: [180, 81, 66]\n      },\n      400: {\n        title: \"Cyan 400\",\n        hsl: [180, 81, 49]\n      },\n      500: {\n        title: \"Cyan 500\",\n        hsl: [182, 96, 38]\n      },\n      600: {\n        title: \"Cyan 600\",\n        hsl: [185, 96, 26]\n      },\n      700: {\n        title: \"Cyan 700\",\n        hsl: [185, 95, 16]\n      },\n      800: {\n        title: \"Cyan 800\",\n        hsl: [187, 86, 11]\n      },\n      900: {\n        title: \"Cyan 900\",\n        hsl: [188, 68, 9]\n      },\n      950: {\n        title: \"Cyan 950\",\n        hsl: [196, 37, 8]\n      }\n    }\n  }\n};\nfunction hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  if (!result)\n    throw new Error(\"input is not valid hex\");\n  return [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)];\n}\nfunction rgbToHsl([r, g, b]) {\n  r /= 255, g /= 255, b /= 255;\n  const cmin = Math.min(r, g, b), cmax = Math.max(r, g, b), delta = cmax - cmin;\n  let h = 0, s = 0, l = 0;\n  return delta == 0 ? h = 0 : cmax == r ? h = (g - b) / delta % 6 : cmax == g ? h = (b - r) / delta + 2 : h = (r - g) / delta + 4, h = Math.round(h * 60), h < 0 && (h += 360), l = (cmax + cmin) / 2, s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1)), s = +(s * 100).toFixed(0), l = +(l * 100).toFixed(0), [h, s, l];\n}\nfunction clamp(num) {\n  return Math.max(Math.min(num, 255), 0);\n}\nfunction darkenChannel(backdrop, source) {\n  return Math.min(backdrop, source);\n}\nfunction darken(b, s) {\n  return [\n    Math.round(clamp(darkenChannel(b[0] / 255, s[0] / 255) * 255)),\n    Math.round(clamp(darkenChannel(b[1] / 255, s[1] / 255) * 255)),\n    Math.round(clamp(darkenChannel(b[2] / 255, s[2] / 255) * 255))\n  ];\n}\nfunction interpolate(min, max, val) {\n  const size = max - min;\n  return min + size * val;\n}\nfunction limit(darkest, lightest, source) {\n  const r = Math.round(interpolate(darkest[0], lightest[0], source[0] / 255)), g = Math.round(interpolate(darkest[1], lightest[1], source[1] / 255)), b = Math.round(interpolate(darkest[2], lightest[2], source[2] / 255));\n  return [r, g, b];\n}\nfunction screenChannel(backdrop, source) {\n  return backdrop + source - backdrop * source;\n}\nfunction screen(b, s) {\n  return [\n    Math.round(clamp(screenChannel(b[0] / 255, s[0] / 255) * 255)),\n    Math.round(clamp(screenChannel(b[1] / 255, s[1] / 255) * 255)),\n    Math.round(clamp(screenChannel(b[2] / 255, s[2] / 255) * 255))\n  ];\n}\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jb2xvci9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdCQUF3QjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsaUNBQWlDLEVBQUUsaUJBQWlCLEVBQUUsS0FBSztBQUMzRTtBQUNBLEtBQUs7QUFDTCxHQUFHLElBQUk7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxXQUFXLCtEQUErRCxZQUFZLHVCQUF1QjtBQUM5RztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMEJFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvY29sb3IvZGlzdC9pbmRleC5qcz84Y2M1Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENPTE9SX0hVRVMgPSBbXG4gIFwiZ3JheVwiLFxuICBcImJsdWVcIixcbiAgXCJwdXJwbGVcIixcbiAgXCJtYWdlbnRhXCIsXG4gIFwicmVkXCIsXG4gIFwib3JhbmdlXCIsXG4gIFwieWVsbG93XCIsXG4gIFwiZ3JlZW5cIixcbiAgXCJjeWFuXCJcbl0sIENPTE9SX1RJTlRTID0gW1xuICBcIjUwXCIsXG4gIFwiMTAwXCIsXG4gIFwiMjAwXCIsXG4gIFwiMzAwXCIsXG4gIFwiNDAwXCIsXG4gIFwiNTAwXCIsXG4gIFwiNjAwXCIsXG4gIFwiNzAwXCIsXG4gIFwiODAwXCIsXG4gIFwiOTAwXCIsXG4gIFwiOTUwXCJcbl07XG5mdW5jdGlvbiBoc2xUb1JnYihoc2wpIHtcbiAgY29uc3QgaCA9IGhzbFswXSwgcyA9IGhzbFsxXSAvIDEwMCwgbCA9IGhzbFsyXSAvIDEwMCwgayA9IChuKSA9PiAobiArIGggLyAzMCkgJSAxMiwgYSA9IHMgKiBNYXRoLm1pbihsLCAxIC0gbCksIGYgPSAobikgPT4gbCAtIGEgKiBNYXRoLm1heCgtMSwgTWF0aC5taW4oayhuKSAtIDMsIE1hdGgubWluKDkgLSBrKG4pLCAxKSkpO1xuICByZXR1cm4gWzI1NSAqIGYoMCksIDI1NSAqIGYoOCksIDI1NSAqIGYoNCldO1xufVxuZnVuY3Rpb24gcmdiVG9IZXgoW3IsIGcsIGJdKSB7XG4gIGNvbnN0IF9yID0gTWF0aC5yb3VuZChyKSwgX2cgPSBNYXRoLnJvdW5kKGcpLCBfYiA9IE1hdGgucm91bmQoYik7XG4gIHJldHVybiBcIiNcIiArICgoMSA8PCAyNCkgKyAoX3IgPDwgMTYpICsgKF9nIDw8IDgpICsgX2IpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTtcbn1cbmZ1bmN0aW9uIGJ1aWxkVGludHMob3B0aW9ucykge1xuICBjb25zdCB7IGh1ZUtleSwgY29sb3I6IGNvbG9yMiB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIENPTE9SX1RJTlRTLnJlZHVjZSgoYWNjLCB0aW50S2V5KSA9PiB7XG4gICAgY29uc3QgdGludCA9IE51bWJlcih0aW50S2V5KSwgcmdiID0gaHNsVG9SZ2IoY29sb3IyLnRpbnRzW3RpbnRLZXldLmhzbCksIGhleCA9IHJnYlRvSGV4KFtNYXRoLnJvdW5kKHJnYlswXSksIE1hdGgucm91bmQocmdiWzFdKSwgTWF0aC5yb3VuZChyZ2JbMl0pXSk7XG4gICAgcmV0dXJuIGFjY1t0aW50S2V5XSA9IHtcbiAgICAgIHRpdGxlOiBgJHtodWVLZXkuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKX0ke2h1ZUtleS5zbGljZSgxKX0gJHt0aW50fWAsXG4gICAgICBoZXhcbiAgICB9LCBhY2M7XG4gIH0sIHt9KTtcbn1cbmNvbnN0IGJsYWNrID0ge1xuICB0aXRsZTogXCJCbGFja1wiLFxuICBoZXg6IFwiIzBkMGUxMlwiXG59LCB3aGl0ZSA9IHtcbiAgdGl0bGU6IFwiV2hpdGVcIixcbiAgaGV4OiBcIiNmZmZmZmZcIlxufSwgZ3JheSA9IHtcbiAgNTA6IHtcbiAgICB0aXRsZTogXCJHcmF5IDUwXCIsXG4gICAgaGV4OiBcIiNmNmY2ZjhcIlxuICB9LFxuICAxMDA6IHtcbiAgICB0aXRsZTogXCJHcmF5IDEwMFwiLFxuICAgIGhleDogXCIjZWVlZWYxXCJcbiAgfSxcbiAgMjAwOiB7XG4gICAgdGl0bGU6IFwiR3JheSAyMDBcIixcbiAgICBoZXg6IFwiI2UzZTRlOFwiXG4gIH0sXG4gIDMwMDoge1xuICAgIHRpdGxlOiBcIkdyYXkgMzAwXCIsXG4gICAgaGV4OiBcIiNiYmJkYzlcIlxuICB9LFxuICA0MDA6IHtcbiAgICB0aXRsZTogXCJHcmF5IDQwMFwiLFxuICAgIGhleDogXCIjOTQ5OWFkXCJcbiAgfSxcbiAgNTAwOiB7XG4gICAgdGl0bGU6IFwiR3JheSA1MDBcIixcbiAgICBoZXg6IFwiIzcyNzg5MlwiXG4gIH0sXG4gIDYwMDoge1xuICAgIHRpdGxlOiBcIkdyYXkgNjAwXCIsXG4gICAgaGV4OiBcIiM1MTU4NzBcIlxuICB9LFxuICA3MDA6IHtcbiAgICB0aXRsZTogXCJHcmF5IDcwMFwiLFxuICAgIGhleDogXCIjMzgzZDUxXCJcbiAgfSxcbiAgODAwOiB7XG4gICAgdGl0bGU6IFwiR3JheSA4MDBcIixcbiAgICBoZXg6IFwiIzI1MjgzN1wiXG4gIH0sXG4gIDkwMDoge1xuICAgIHRpdGxlOiBcIkdyYXkgOTAwXCIsXG4gICAgaGV4OiBcIiMxYjFkMjdcIlxuICB9LFxuICA5NTA6IHtcbiAgICB0aXRsZTogXCJHcmF5IDk1MFwiLFxuICAgIGhleDogXCIjMTMxNDFiXCJcbiAgfVxufSwgYmx1ZSA9IHtcbiAgNTA6IHtcbiAgICB0aXRsZTogXCJCbHVlIDUwXCIsXG4gICAgaGV4OiBcIiNmNWY4ZmZcIlxuICB9LFxuICAxMDA6IHtcbiAgICB0aXRsZTogXCJCbHVlIDEwMFwiLFxuICAgIGhleDogXCIjZTVlZGZmXCJcbiAgfSxcbiAgMjAwOiB7XG4gICAgdGl0bGU6IFwiQmx1ZSAyMDBcIixcbiAgICBoZXg6IFwiI2RiZTVmZlwiXG4gIH0sXG4gIDMwMDoge1xuICAgIHRpdGxlOiBcIkJsdWUgMzAwXCIsXG4gICAgaGV4OiBcIiNhOGJmZmZcIlxuICB9LFxuICA0MDA6IHtcbiAgICB0aXRsZTogXCJCbHVlIDQwMFwiLFxuICAgIGhleDogXCIjNzU5NWZmXCJcbiAgfSxcbiAgNTAwOiB7XG4gICAgdGl0bGU6IFwiQmx1ZSA1MDBcIixcbiAgICBoZXg6IFwiIzU1NmJmY1wiXG4gIH0sXG4gIDYwMDoge1xuICAgIHRpdGxlOiBcIkJsdWUgNjAwXCIsXG4gICAgaGV4OiBcIiM0MDQzZTdcIlxuICB9LFxuICA3MDA6IHtcbiAgICB0aXRsZTogXCJCbHVlIDcwMFwiLFxuICAgIGhleDogXCIjMjkyN2FhXCJcbiAgfSxcbiAgODAwOiB7XG4gICAgdGl0bGU6IFwiQmx1ZSA4MDBcIixcbiAgICBoZXg6IFwiIzE5MjQ1N1wiXG4gIH0sXG4gIDkwMDoge1xuICAgIHRpdGxlOiBcIkJsdWUgOTAwXCIsXG4gICAgaGV4OiBcIiMxNjFhNDFcIlxuICB9LFxuICA5NTA6IHtcbiAgICB0aXRsZTogXCJCbHVlIDk1MFwiLFxuICAgIGhleDogXCIjMTAxMjI4XCJcbiAgfVxufSwgcHVycGxlID0ge1xuICA1MDoge1xuICAgIHRpdGxlOiBcIlB1cnBsZSA1MFwiLFxuICAgIGhleDogXCIjZjhmNWZmXCJcbiAgfSxcbiAgMTAwOiB7XG4gICAgdGl0bGU6IFwiUHVycGxlIDEwMFwiLFxuICAgIGhleDogXCIjZjFlYmZmXCJcbiAgfSxcbiAgMjAwOiB7XG4gICAgdGl0bGU6IFwiUHVycGxlIDIwMFwiLFxuICAgIGhleDogXCIjZWNlMWZlXCJcbiAgfSxcbiAgMzAwOiB7XG4gICAgdGl0bGU6IFwiUHVycGxlIDMwMFwiLFxuICAgIGhleDogXCIjY2NiMWZjXCJcbiAgfSxcbiAgNDAwOiB7XG4gICAgdGl0bGU6IFwiUHVycGxlIDQwMFwiLFxuICAgIGhleDogXCIjYjA4N2Y3XCJcbiAgfSxcbiAgNTAwOiB7XG4gICAgdGl0bGU6IFwiUHVycGxlIDUwMFwiLFxuICAgIGhleDogXCIjOGY1N2VmXCJcbiAgfSxcbiAgNjAwOiB7XG4gICAgdGl0bGU6IFwiUHVycGxlIDYwMFwiLFxuICAgIGhleDogXCIjNzIxZmU1XCJcbiAgfSxcbiAgNzAwOiB7XG4gICAgdGl0bGU6IFwiUHVycGxlIDcwMFwiLFxuICAgIGhleDogXCIjNGMxYTllXCJcbiAgfSxcbiAgODAwOiB7XG4gICAgdGl0bGU6IFwiUHVycGxlIDgwMFwiLFxuICAgIGhleDogXCIjMmYxODYyXCJcbiAgfSxcbiAgOTAwOiB7XG4gICAgdGl0bGU6IFwiUHVycGxlIDkwMFwiLFxuICAgIGhleDogXCIjMjMxNzNmXCJcbiAgfSxcbiAgOTUwOiB7XG4gICAgdGl0bGU6IFwiUHVycGxlIDk1MFwiLFxuICAgIGhleDogXCIjMTgxMTI4XCJcbiAgfVxufSwgbWFnZW50YSA9IHtcbiAgNTA6IHtcbiAgICB0aXRsZTogXCJNYWdlbnRhIDUwXCIsXG4gICAgaGV4OiBcIiNmZWY2ZjlcIlxuICB9LFxuICAxMDA6IHtcbiAgICB0aXRsZTogXCJNYWdlbnRhIDEwMFwiLFxuICAgIGhleDogXCIjZmRlOGVmXCJcbiAgfSxcbiAgMjAwOiB7XG4gICAgdGl0bGU6IFwiTWFnZW50YSAyMDBcIixcbiAgICBoZXg6IFwiI2ZjZGVlOVwiXG4gIH0sXG4gIDMwMDoge1xuICAgIHRpdGxlOiBcIk1hZ2VudGEgMzAwXCIsXG4gICAgaGV4OiBcIiNmN2FiYzVcIlxuICB9LFxuICA0MDA6IHtcbiAgICB0aXRsZTogXCJNYWdlbnRhIDQwMFwiLFxuICAgIGhleDogXCIjZjA3MDliXCJcbiAgfSxcbiAgNTAwOiB7XG4gICAgdGl0bGU6IFwiTWFnZW50YSA1MDBcIixcbiAgICBoZXg6IFwiI2U3Mjc2N1wiXG4gIH0sXG4gIDYwMDoge1xuICAgIHRpdGxlOiBcIk1hZ2VudGEgNjAwXCIsXG4gICAgaGV4OiBcIiNiMTE2NTFcIlxuICB9LFxuICA3MDA6IHtcbiAgICB0aXRsZTogXCJNYWdlbnRhIDcwMFwiLFxuICAgIGhleDogXCIjN2MxMzQyXCJcbiAgfSxcbiAgODAwOiB7XG4gICAgdGl0bGU6IFwiTWFnZW50YSA4MDBcIixcbiAgICBoZXg6IFwiIzRiMTEzMFwiXG4gIH0sXG4gIDkwMDoge1xuICAgIHRpdGxlOiBcIk1hZ2VudGEgOTAwXCIsXG4gICAgaGV4OiBcIiMzNDEzMjVcIlxuICB9LFxuICA5NTA6IHtcbiAgICB0aXRsZTogXCJNYWdlbnRhIDk1MFwiLFxuICAgIGhleDogXCIjMWYwZjE0XCJcbiAgfVxufSwgcmVkID0ge1xuICA1MDoge1xuICAgIHRpdGxlOiBcIlJlZCA1MFwiLFxuICAgIGhleDogXCIjZmZmNmY1XCJcbiAgfSxcbiAgMTAwOiB7XG4gICAgdGl0bGU6IFwiUmVkIDEwMFwiLFxuICAgIGhleDogXCIjZmZlN2U1XCJcbiAgfSxcbiAgMjAwOiB7XG4gICAgdGl0bGU6IFwiUmVkIDIwMFwiLFxuICAgIGhleDogXCIjZmZkZWRjXCJcbiAgfSxcbiAgMzAwOiB7XG4gICAgdGl0bGU6IFwiUmVkIDMwMFwiLFxuICAgIGhleDogXCIjZmRhZGE1XCJcbiAgfSxcbiAgNDAwOiB7XG4gICAgdGl0bGU6IFwiUmVkIDQwMFwiLFxuICAgIGhleDogXCIjZjc3NzY5XCJcbiAgfSxcbiAgNTAwOiB7XG4gICAgdGl0bGU6IFwiUmVkIDUwMFwiLFxuICAgIGhleDogXCIjZWY0NDM0XCJcbiAgfSxcbiAgNjAwOiB7XG4gICAgdGl0bGU6IFwiUmVkIDYwMFwiLFxuICAgIGhleDogXCIjY2MyODE5XCJcbiAgfSxcbiAgNzAwOiB7XG4gICAgdGl0bGU6IFwiUmVkIDcwMFwiLFxuICAgIGhleDogXCIjOGIyMDE4XCJcbiAgfSxcbiAgODAwOiB7XG4gICAgdGl0bGU6IFwiUmVkIDgwMFwiLFxuICAgIGhleDogXCIjNGQxNzE0XCJcbiAgfSxcbiAgOTAwOiB7XG4gICAgdGl0bGU6IFwiUmVkIDkwMFwiLFxuICAgIGhleDogXCIjMzIxNjE1XCJcbiAgfSxcbiAgOTUwOiB7XG4gICAgdGl0bGU6IFwiUmVkIDk1MFwiLFxuICAgIGhleDogXCIjMWUxMDExXCJcbiAgfVxufSwgb3JhbmdlID0ge1xuICA1MDoge1xuICAgIHRpdGxlOiBcIk9yYW5nZSA1MFwiLFxuICAgIGhleDogXCIjZmZmN2YwXCJcbiAgfSxcbiAgMTAwOiB7XG4gICAgdGl0bGU6IFwiT3JhbmdlIDEwMFwiLFxuICAgIGhleDogXCIjZmZlYWRiXCJcbiAgfSxcbiAgMjAwOiB7XG4gICAgdGl0bGU6IFwiT3JhbmdlIDIwMFwiLFxuICAgIGhleDogXCIjZmZkZGM3XCJcbiAgfSxcbiAgMzAwOiB7XG4gICAgdGl0bGU6IFwiT3JhbmdlIDMwMFwiLFxuICAgIGhleDogXCIjZmZiNjg1XCJcbiAgfSxcbiAgNDAwOiB7XG4gICAgdGl0bGU6IFwiT3JhbmdlIDQwMFwiLFxuICAgIGhleDogXCIjZmY4ZTQyXCJcbiAgfSxcbiAgNTAwOiB7XG4gICAgdGl0bGU6IFwiT3JhbmdlIDUwMFwiLFxuICAgIGhleDogXCIjZmE2NDAwXCJcbiAgfSxcbiAgNjAwOiB7XG4gICAgdGl0bGU6IFwiT3JhbmdlIDYwMFwiLFxuICAgIGhleDogXCIjYjE0ODAyXCJcbiAgfSxcbiAgNzAwOiB7XG4gICAgdGl0bGU6IFwiT3JhbmdlIDcwMFwiLFxuICAgIGhleDogXCIjN2MzNDA0XCJcbiAgfSxcbiAgODAwOiB7XG4gICAgdGl0bGU6IFwiT3JhbmdlIDgwMFwiLFxuICAgIGhleDogXCIjNDYxZTA3XCJcbiAgfSxcbiAgOTAwOiB7XG4gICAgdGl0bGU6IFwiT3JhbmdlIDkwMFwiLFxuICAgIGhleDogXCIjMzIxNjBiXCJcbiAgfSxcbiAgOTUwOiB7XG4gICAgdGl0bGU6IFwiT3JhbmdlIDk1MFwiLFxuICAgIGhleDogXCIjMjExMjBkXCJcbiAgfVxufSwgeWVsbG93ID0ge1xuICA1MDoge1xuICAgIHRpdGxlOiBcIlllbGxvdyA1MFwiLFxuICAgIGhleDogXCIjZmVmYWUxXCJcbiAgfSxcbiAgMTAwOiB7XG4gICAgdGl0bGU6IFwiWWVsbG93IDEwMFwiLFxuICAgIGhleDogXCIjZmNmM2JiXCJcbiAgfSxcbiAgMjAwOiB7XG4gICAgdGl0bGU6IFwiWWVsbG93IDIwMFwiLFxuICAgIGhleDogXCIjZjllOTk0XCJcbiAgfSxcbiAgMzAwOiB7XG4gICAgdGl0bGU6IFwiWWVsbG93IDMwMFwiLFxuICAgIGhleDogXCIjZjdkNDU1XCJcbiAgfSxcbiAgNDAwOiB7XG4gICAgdGl0bGU6IFwiWWVsbG93IDQwMFwiLFxuICAgIGhleDogXCIjZjliYzE1XCJcbiAgfSxcbiAgNTAwOiB7XG4gICAgdGl0bGU6IFwiWWVsbG93IDUwMFwiLFxuICAgIGhleDogXCIjZDI4YTA0XCJcbiAgfSxcbiAgNjAwOiB7XG4gICAgdGl0bGU6IFwiWWVsbG93IDYwMFwiLFxuICAgIGhleDogXCIjOTY1OTA4XCJcbiAgfSxcbiAgNzAwOiB7XG4gICAgdGl0bGU6IFwiWWVsbG93IDcwMFwiLFxuICAgIGhleDogXCIjNjUzYTBiXCJcbiAgfSxcbiAgODAwOiB7XG4gICAgdGl0bGU6IFwiWWVsbG93IDgwMFwiLFxuICAgIGhleDogXCIjM2IyMjBjXCJcbiAgfSxcbiAgOTAwOiB7XG4gICAgdGl0bGU6IFwiWWVsbG93IDkwMFwiLFxuICAgIGhleDogXCIjMjcxYTExXCJcbiAgfSxcbiAgOTUwOiB7XG4gICAgdGl0bGU6IFwiWWVsbG93IDk1MFwiLFxuICAgIGhleDogXCIjMTgxNDEwXCJcbiAgfVxufSwgZ3JlZW4gPSB7XG4gIDUwOiB7XG4gICAgdGl0bGU6IFwiR3JlZW4gNTBcIixcbiAgICBoZXg6IFwiI2U3ZmVmNVwiXG4gIH0sXG4gIDEwMDoge1xuICAgIHRpdGxlOiBcIkdyZWVuIDEwMFwiLFxuICAgIGhleDogXCIjYzVmY2U4XCJcbiAgfSxcbiAgMjAwOiB7XG4gICAgdGl0bGU6IFwiR3JlZW4gMjAwXCIsXG4gICAgaGV4OiBcIiNhOWY5ZGNcIlxuICB9LFxuICAzMDA6IHtcbiAgICB0aXRsZTogXCJHcmVlbiAzMDBcIixcbiAgICBoZXg6IFwiIzU5ZjNiYVwiXG4gIH0sXG4gIDQwMDoge1xuICAgIHRpdGxlOiBcIkdyZWVuIDQwMFwiLFxuICAgIGhleDogXCIjMGZmMGExXCJcbiAgfSxcbiAgNTAwOiB7XG4gICAgdGl0bGU6IFwiR3JlZW4gNTAwXCIsXG4gICAgaGV4OiBcIiMwNGI5N2FcIlxuICB9LFxuICA2MDA6IHtcbiAgICB0aXRsZTogXCJHcmVlbiA2MDBcIixcbiAgICBoZXg6IFwiIzAxNzk0ZlwiXG4gIH0sXG4gIDcwMDoge1xuICAgIHRpdGxlOiBcIkdyZWVuIDcwMFwiLFxuICAgIGhleDogXCIjMDE1MTMzXCJcbiAgfSxcbiAgODAwOiB7XG4gICAgdGl0bGU6IFwiR3JlZW4gODAwXCIsXG4gICAgaGV4OiBcIiMwMjMxMjBcIlxuICB9LFxuICA5MDA6IHtcbiAgICB0aXRsZTogXCJHcmVlbiA5MDBcIixcbiAgICBoZXg6IFwiIzA2MjMxYVwiXG4gIH0sXG4gIDk1MDoge1xuICAgIHRpdGxlOiBcIkdyZWVuIDk1MFwiLFxuICAgIGhleDogXCIjMDcxNzE1XCJcbiAgfVxufSwgY3lhbiA9IHtcbiAgNTA6IHtcbiAgICB0aXRsZTogXCJDeWFuIDUwXCIsXG4gICAgaGV4OiBcIiNlN2ZlZmVcIlxuICB9LFxuICAxMDA6IHtcbiAgICB0aXRsZTogXCJDeWFuIDEwMFwiLFxuICAgIGhleDogXCIjYzVmY2ZjXCJcbiAgfSxcbiAgMjAwOiB7XG4gICAgdGl0bGU6IFwiQ3lhbiAyMDBcIixcbiAgICBoZXg6IFwiIzk2ZjhmOFwiXG4gIH0sXG4gIDMwMDoge1xuICAgIHRpdGxlOiBcIkN5YW4gMzAwXCIsXG4gICAgaGV4OiBcIiM2MmVmZWZcIlxuICB9LFxuICA0MDA6IHtcbiAgICB0aXRsZTogXCJDeWFuIDQwMFwiLFxuICAgIGhleDogXCIjMThlMmUyXCJcbiAgfSxcbiAgNTAwOiB7XG4gICAgdGl0bGU6IFwiQ3lhbiA1MDBcIixcbiAgICBoZXg6IFwiIzA0YjhiZVwiXG4gIH0sXG4gIDYwMDoge1xuICAgIHRpdGxlOiBcIkN5YW4gNjAwXCIsXG4gICAgaGV4OiBcIiMwMzc3ODJcIlxuICB9LFxuICA3MDA6IHtcbiAgICB0aXRsZTogXCJDeWFuIDcwMFwiLFxuICAgIGhleDogXCIjMDI0OTUwXCJcbiAgfSxcbiAgODAwOiB7XG4gICAgdGl0bGU6IFwiQ3lhbiA4MDBcIixcbiAgICBoZXg6IFwiIzA0MmYzNFwiXG4gIH0sXG4gIDkwMDoge1xuICAgIHRpdGxlOiBcIkN5YW4gOTAwXCIsXG4gICAgaGV4OiBcIiMwNzIyMjdcIlxuICB9LFxuICA5NTA6IHtcbiAgICB0aXRsZTogXCJDeWFuIDk1MFwiLFxuICAgIGhleDogXCIjMGQxODFjXCJcbiAgfVxufSwgaHVlcyA9IHsgZ3JheSwgYmx1ZSwgcHVycGxlLCBtYWdlbnRhLCByZWQsIG9yYW5nZSwgeWVsbG93LCBncmVlbiwgY3lhbiB9LCBjb2xvciA9IHsgYmxhY2ssIHdoaXRlLCAuLi5odWVzIH0sIGNvbmZpZyA9IHtcbiAgYmxhY2s6IHtcbiAgICB0aXRsZTogXCJCbGFja1wiLFxuICAgIGhzbDogWzIyNSwgMTYsIDZdXG4gIH0sXG4gIHdoaXRlOiB7XG4gICAgdGl0bGU6IFwiV2hpdGVcIixcbiAgICBoc2w6IFswLCAwLCAxMDBdXG4gIH0sXG4gIGdyYXk6IHtcbiAgICB0aXRsZTogXCJHcmF5XCIsXG4gICAgdGludHM6IHtcbiAgICAgIDUwOiB7XG4gICAgICAgIHRpdGxlOiBcIkdyYXkgNTBcIixcbiAgICAgICAgaHNsOiBbMjQwLCAxMiwgOTddXG4gICAgICB9LFxuICAgICAgMTAwOiB7XG4gICAgICAgIHRpdGxlOiBcIkdyYXkgMTAwXCIsXG4gICAgICAgIGhzbDogWzI0MCwgMTAsIDk0XVxuICAgICAgfSxcbiAgICAgIDIwMDoge1xuICAgICAgICB0aXRsZTogXCJHcmF5IDIwMFwiLFxuICAgICAgICBoc2w6IFsyMzEsIDEwLCA5MF1cbiAgICAgIH0sXG4gICAgICAzMDA6IHtcbiAgICAgICAgdGl0bGU6IFwiR3JheSAzMDBcIixcbiAgICAgICAgaHNsOiBbMjMyLCAxMSwgNzZdXG4gICAgICB9LFxuICAgICAgNDAwOiB7XG4gICAgICAgIHRpdGxlOiBcIkdyYXkgNDAwXCIsXG4gICAgICAgIGhzbDogWzIyOCwgMTMsIDYzXVxuICAgICAgfSxcbiAgICAgIDUwMDoge1xuICAgICAgICB0aXRsZTogXCJHcmF5IDUwMFwiLFxuICAgICAgICBoc2w6IFsyMjksIDEzLCA1MV1cbiAgICAgIH0sXG4gICAgICA2MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiR3JheSA2MDBcIixcbiAgICAgICAgaHNsOiBbMjI4LCAxNiwgMzhdXG4gICAgICB9LFxuICAgICAgNzAwOiB7XG4gICAgICAgIHRpdGxlOiBcIkdyYXkgNzAwXCIsXG4gICAgICAgIGhzbDogWzIyOSwgMTgsIDI3XVxuICAgICAgfSxcbiAgICAgIDgwMDoge1xuICAgICAgICB0aXRsZTogXCJHcmF5IDgwMFwiLFxuICAgICAgICBoc2w6IFsyMjksIDE5LCAxOF1cbiAgICAgIH0sXG4gICAgICA5MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiR3JheSA5MDBcIixcbiAgICAgICAgaHNsOiBbMjI4LCAxOSwgMTNdXG4gICAgICB9LFxuICAgICAgOTUwOiB7XG4gICAgICAgIHRpdGxlOiBcIkdyYXkgOTUwXCIsXG4gICAgICAgIGhzbDogWzIzMywgMTcsIDldXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBibHVlOiB7XG4gICAgdGl0bGU6IFwiQmx1ZVwiLFxuICAgIHRpbnRzOiB7XG4gICAgICA1MDoge1xuICAgICAgICB0aXRsZTogXCJCbHVlIDUwXCIsXG4gICAgICAgIGhzbDogWzIyMiwgMTAwLCA5OF1cbiAgICAgIH0sXG4gICAgICAxMDA6IHtcbiAgICAgICAgdGl0bGU6IFwiQmx1ZSAxMDBcIixcbiAgICAgICAgaHNsOiBbMjIyLCAxMDAsIDk1XVxuICAgICAgfSxcbiAgICAgIDIwMDoge1xuICAgICAgICB0aXRsZTogXCJCbHVlIDIwMFwiLFxuICAgICAgICBoc2w6IFsyMjMsIDEwMCwgOTNdXG4gICAgICB9LFxuICAgICAgMzAwOiB7XG4gICAgICAgIHRpdGxlOiBcIkJsdWUgMzAwXCIsXG4gICAgICAgIGhzbDogWzIyNCwgMTAwLCA4M11cbiAgICAgIH0sXG4gICAgICA0MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiQmx1ZSA0MDBcIixcbiAgICAgICAgaHNsOiBbMjI2LCAxMDAsIDczXVxuICAgICAgfSxcbiAgICAgIDUwMDoge1xuICAgICAgICB0aXRsZTogXCJCbHVlIDUwMFwiLFxuICAgICAgICBoc2w6IFsyMzIsIDk2LCA2Nl1cbiAgICAgIH0sXG4gICAgICA2MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiQmx1ZSA2MDBcIixcbiAgICAgICAgaHNsOiBbMjM5LCA3OCwgNThdXG4gICAgICB9LFxuICAgICAgNzAwOiB7XG4gICAgICAgIHRpdGxlOiBcIkJsdWUgNzAwXCIsXG4gICAgICAgIGhzbDogWzI0MSwgNjMsIDQxXVxuICAgICAgfSxcbiAgICAgIDgwMDoge1xuICAgICAgICB0aXRsZTogXCJCbHVlIDgwMFwiLFxuICAgICAgICBoc2w6IFsyMzAsIDU1LCAyMl1cbiAgICAgIH0sXG4gICAgICA5MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiQmx1ZSA5MDBcIixcbiAgICAgICAgaHNsOiBbMjM0LCA0OSwgMTddXG4gICAgICB9LFxuICAgICAgOTUwOiB7XG4gICAgICAgIHRpdGxlOiBcIkJsdWUgOTUwXCIsXG4gICAgICAgIGhzbDogWzIzNSwgNDMsIDExXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcHVycGxlOiB7XG4gICAgdGl0bGU6IFwiUHVycGxlXCIsXG4gICAgdGludHM6IHtcbiAgICAgIDUwOiB7XG4gICAgICAgIHRpdGxlOiBcIlB1cnBsZSA1MFwiLFxuICAgICAgICBoc2w6IFsyNjAsIDk1LCA5OF1cbiAgICAgIH0sXG4gICAgICAxMDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUHVycGxlIDEwMFwiLFxuICAgICAgICBoc2w6IFsyNjAsIDk4LCA5Nl1cbiAgICAgIH0sXG4gICAgICAyMDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUHVycGxlIDIwMFwiLFxuICAgICAgICBoc2w6IFsyNjMsIDk2LCA5NF1cbiAgICAgIH0sXG4gICAgICAzMDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUHVycGxlIDMwMFwiLFxuICAgICAgICBoc2w6IFsyNjIsIDkyLCA4NF1cbiAgICAgIH0sXG4gICAgICA0MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUHVycGxlIDQwMFwiLFxuICAgICAgICBoc2w6IFsyNjIsIDg4LCA3NV1cbiAgICAgIH0sXG4gICAgICA1MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUHVycGxlIDUwMFwiLFxuICAgICAgICBoc2w6IFsyNjIsIDgzLCA2NF1cbiAgICAgIH0sXG4gICAgICA2MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUHVycGxlIDYwMFwiLFxuICAgICAgICBoc2w6IFsyNjUsIDc5LCA1MV1cbiAgICAgIH0sXG4gICAgICA3MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUHVycGxlIDcwMFwiLFxuICAgICAgICBoc2w6IFsyNjMsIDcyLCAzNl1cbiAgICAgIH0sXG4gICAgICA4MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUHVycGxlIDgwMFwiLFxuICAgICAgICBoc2w6IFsyNTgsIDYwLCAyNF1cbiAgICAgIH0sXG4gICAgICA5MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUHVycGxlIDkwMFwiLFxuICAgICAgICBoc2w6IFsyNTcsIDQ2LCAxN11cbiAgICAgIH0sXG4gICAgICA5NTA6IHtcbiAgICAgICAgdGl0bGU6IFwiUHVycGxlIDk1MFwiLFxuICAgICAgICBoc2w6IFsyNjAsIDQxLCAxMV1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1hZ2VudGE6IHtcbiAgICB0aXRsZTogXCJNYWdlbnRhXCIsXG4gICAgdGludHM6IHtcbiAgICAgIDUwOiB7XG4gICAgICAgIHRpdGxlOiBcIk1hZ2VudGEgNTBcIixcbiAgICAgICAgaHNsOiBbMzQwLCA4MiwgOThdXG4gICAgICB9LFxuICAgICAgMTAwOiB7XG4gICAgICAgIHRpdGxlOiBcIk1hZ2VudGEgMTAwXCIsXG4gICAgICAgIGhzbDogWzMzOSwgODMsIDk1XVxuICAgICAgfSxcbiAgICAgIDIwMDoge1xuICAgICAgICB0aXRsZTogXCJNYWdlbnRhIDIwMFwiLFxuICAgICAgICBoc2w6IFszMzksIDgzLCA5M11cbiAgICAgIH0sXG4gICAgICAzMDA6IHtcbiAgICAgICAgdGl0bGU6IFwiTWFnZW50YSAzMDBcIixcbiAgICAgICAgaHNsOiBbMzQwLCA4MiwgODJdXG4gICAgICB9LFxuICAgICAgNDAwOiB7XG4gICAgICAgIHRpdGxlOiBcIk1hZ2VudGEgNDAwXCIsXG4gICAgICAgIGhzbDogWzM0MCwgODEsIDY5XVxuICAgICAgfSxcbiAgICAgIDUwMDoge1xuICAgICAgICB0aXRsZTogXCJNYWdlbnRhIDUwMFwiLFxuICAgICAgICBoc2w6IFszNDAsIDgwLCA1M11cbiAgICAgIH0sXG4gICAgICA2MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiTWFnZW50YSA2MDBcIixcbiAgICAgICAgaHNsOiBbMzM3LCA3OCwgMzldXG4gICAgICB9LFxuICAgICAgNzAwOiB7XG4gICAgICAgIHRpdGxlOiBcIk1hZ2VudGEgNzAwXCIsXG4gICAgICAgIGhzbDogWzMzMywgNzMsIDI4XVxuICAgICAgfSxcbiAgICAgIDgwMDoge1xuICAgICAgICB0aXRsZTogXCJNYWdlbnRhIDgwMFwiLFxuICAgICAgICBoc2w6IFszMjgsIDYzLCAxOF1cbiAgICAgIH0sXG4gICAgICA5MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiTWFnZW50YSA5MDBcIixcbiAgICAgICAgaHNsOiBbMzI3LCA0NiwgMTRdXG4gICAgICB9LFxuICAgICAgOTUwOiB7XG4gICAgICAgIHRpdGxlOiBcIk1hZ2VudGEgOTUwXCIsXG4gICAgICAgIGhzbDogWzM0MSwgMzUsIDldXG4gICAgICB9XG4gICAgfVxuICB9LFxuICByZWQ6IHtcbiAgICB0aXRsZTogXCJSZWRcIixcbiAgICB0aW50czoge1xuICAgICAgNTA6IHtcbiAgICAgICAgdGl0bGU6IFwiUmVkIDUwXCIsXG4gICAgICAgIGhzbDogWzUsIDEwMCwgOThdXG4gICAgICB9LFxuICAgICAgMTAwOiB7XG4gICAgICAgIHRpdGxlOiBcIlJlZCAxMDBcIixcbiAgICAgICAgaHNsOiBbNCwgMTAwLCA5NV1cbiAgICAgIH0sXG4gICAgICAyMDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUmVkIDIwMFwiLFxuICAgICAgICBoc2w6IFs0LCA5OCwgOTNdXG4gICAgICB9LFxuICAgICAgMzAwOiB7XG4gICAgICAgIHRpdGxlOiBcIlJlZCAzMDBcIixcbiAgICAgICAgaHNsOiBbNSwgOTUsIDgyXVxuICAgICAgfSxcbiAgICAgIDQwMDoge1xuICAgICAgICB0aXRsZTogXCJSZWQgNDAwXCIsXG4gICAgICAgIGhzbDogWzYsIDkwLCA2OV1cbiAgICAgIH0sXG4gICAgICA1MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUmVkIDUwMFwiLFxuICAgICAgICBoc2w6IFs1LCA4NSwgNTddXG4gICAgICB9LFxuICAgICAgNjAwOiB7XG4gICAgICAgIHRpdGxlOiBcIlJlZCA2MDBcIixcbiAgICAgICAgaHNsOiBbNSwgNzgsIDQ1XVxuICAgICAgfSxcbiAgICAgIDcwMDoge1xuICAgICAgICB0aXRsZTogXCJSZWQgNzAwXCIsXG4gICAgICAgIGhzbDogWzQsIDcwLCAzMl1cbiAgICAgIH0sXG4gICAgICA4MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiUmVkIDgwMFwiLFxuICAgICAgICBoc2w6IFszLCA1OCwgMTldXG4gICAgICB9LFxuICAgICAgOTAwOiB7XG4gICAgICAgIHRpdGxlOiBcIlJlZCA5MDBcIixcbiAgICAgICAgaHNsOiBbMiwgNDEsIDE0XVxuICAgICAgfSxcbiAgICAgIDk1MDoge1xuICAgICAgICB0aXRsZTogXCJSZWQgOTUwXCIsXG4gICAgICAgIGhzbDogWzM1NiwgMzAsIDldXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBvcmFuZ2U6IHtcbiAgICB0aXRsZTogXCJPcmFuZ2VcIixcbiAgICB0aW50czoge1xuICAgICAgNTA6IHtcbiAgICAgICAgdGl0bGU6IFwiT3JhbmdlIDUwXCIsXG4gICAgICAgIGhzbDogWzI4LCAxMDAsIDk3XVxuICAgICAgfSxcbiAgICAgIDEwMDoge1xuICAgICAgICB0aXRsZTogXCJPcmFuZ2UgMTAwXCIsXG4gICAgICAgIGhzbDogWzI1LCAxMDAsIDkzXVxuICAgICAgfSxcbiAgICAgIDIwMDoge1xuICAgICAgICB0aXRsZTogXCJPcmFuZ2UgMjAwXCIsXG4gICAgICAgIGhzbDogWzI0LCAxMDAsIDg5XVxuICAgICAgfSxcbiAgICAgIDMwMDoge1xuICAgICAgICB0aXRsZTogXCJPcmFuZ2UgMzAwXCIsXG4gICAgICAgIGhzbDogWzI0LCAxMDAsIDc2XVxuICAgICAgfSxcbiAgICAgIDQwMDoge1xuICAgICAgICB0aXRsZTogXCJPcmFuZ2UgNDAwXCIsXG4gICAgICAgIGhzbDogWzI0LCAxMDAsIDYzXVxuICAgICAgfSxcbiAgICAgIDUwMDoge1xuICAgICAgICB0aXRsZTogXCJPcmFuZ2UgNTAwXCIsXG4gICAgICAgIGhzbDogWzI0LCAxMDAsIDQ5XVxuICAgICAgfSxcbiAgICAgIDYwMDoge1xuICAgICAgICB0aXRsZTogXCJPcmFuZ2UgNjAwXCIsXG4gICAgICAgIGhzbDogWzI0LCA5OCwgMzVdXG4gICAgICB9LFxuICAgICAgNzAwOiB7XG4gICAgICAgIHRpdGxlOiBcIk9yYW5nZSA3MDBcIixcbiAgICAgICAgaHNsOiBbMjQsIDk0LCAyNV1cbiAgICAgIH0sXG4gICAgICA4MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiT3JhbmdlIDgwMFwiLFxuICAgICAgICBoc2w6IFsyMiwgODIsIDE1XVxuICAgICAgfSxcbiAgICAgIDkwMDoge1xuICAgICAgICB0aXRsZTogXCJPcmFuZ2UgOTAwXCIsXG4gICAgICAgIGhzbDogWzE3LCA2NSwgMTJdXG4gICAgICB9LFxuICAgICAgOTUwOiB7XG4gICAgICAgIHRpdGxlOiBcIk9yYW5nZSA5NTBcIixcbiAgICAgICAgaHNsOiBbMTQsIDQzLCA5XVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgeWVsbG93OiB7XG4gICAgdGl0bGU6IFwiWWVsbG93XCIsXG4gICAgdGludHM6IHtcbiAgICAgIDUwOiB7XG4gICAgICAgIHRpdGxlOiBcIlllbGxvdyA1MFwiLFxuICAgICAgICBoc2w6IFs1MSwgOTQsIDk0XVxuICAgICAgfSxcbiAgICAgIDEwMDoge1xuICAgICAgICB0aXRsZTogXCJZZWxsb3cgMTAwXCIsXG4gICAgICAgIGhzbDogWzUyLCA5MSwgODZdXG4gICAgICB9LFxuICAgICAgMjAwOiB7XG4gICAgICAgIHRpdGxlOiBcIlllbGxvdyAyMDBcIixcbiAgICAgICAgaHNsOiBbNTAsIDkwLCA3OF1cbiAgICAgIH0sXG4gICAgICAzMDA6IHtcbiAgICAgICAgdGl0bGU6IFwiWWVsbG93IDMwMFwiLFxuICAgICAgICBoc2w6IFs0NywgOTEsIDY1XVxuICAgICAgfSxcbiAgICAgIDQwMDoge1xuICAgICAgICB0aXRsZTogXCJZZWxsb3cgNDAwXCIsXG4gICAgICAgIGhzbDogWzQ0LCA5NSwgNTNdXG4gICAgICB9LFxuICAgICAgNTAwOiB7XG4gICAgICAgIHRpdGxlOiBcIlllbGxvdyA1MDBcIixcbiAgICAgICAgaHNsOiBbMzksIDk2LCA0Ml1cbiAgICAgIH0sXG4gICAgICA2MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiWWVsbG93IDYwMFwiLFxuICAgICAgICBoc2w6IFszNCwgOTAsIDMxXVxuICAgICAgfSxcbiAgICAgIDcwMDoge1xuICAgICAgICB0aXRsZTogXCJZZWxsb3cgNzAwXCIsXG4gICAgICAgIGhzbDogWzMxLCA4MCwgMjJdXG4gICAgICB9LFxuICAgICAgODAwOiB7XG4gICAgICAgIHRpdGxlOiBcIlllbGxvdyA4MDBcIixcbiAgICAgICAgaHNsOiBbMjgsIDY2LCAxNF1cbiAgICAgIH0sXG4gICAgICA5MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiWWVsbG93IDkwMFwiLFxuICAgICAgICBoc2w6IFsyNCwgNDAsIDExXVxuICAgICAgfSxcbiAgICAgIDk1MDoge1xuICAgICAgICB0aXRsZTogXCJZZWxsb3cgOTUwXCIsXG4gICAgICAgIGhzbDogWzI0LCAyMCwgOF1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGdyZWVuOiB7XG4gICAgdGl0bGU6IFwiR3JlZW5cIixcbiAgICB0aW50czoge1xuICAgICAgNTA6IHtcbiAgICAgICAgdGl0bGU6IFwiR3JlZW4gNTBcIixcbiAgICAgICAgaHNsOiBbMTU3LCA4OSwgOTVdXG4gICAgICB9LFxuICAgICAgMTAwOiB7XG4gICAgICAgIHRpdGxlOiBcIkdyZWVuIDEwMFwiLFxuICAgICAgICBoc2w6IFsxNTgsIDg5LCA4OF1cbiAgICAgIH0sXG4gICAgICAyMDA6IHtcbiAgICAgICAgdGl0bGU6IFwiR3JlZW4gMjAwXCIsXG4gICAgICAgIGhzbDogWzE1OCwgODcsIDgyXVxuICAgICAgfSxcbiAgICAgIDMwMDoge1xuICAgICAgICB0aXRsZTogXCJHcmVlbiAzMDBcIixcbiAgICAgICAgaHNsOiBbMTU4LCA4NiwgNjVdXG4gICAgICB9LFxuICAgICAgNDAwOiB7XG4gICAgICAgIHRpdGxlOiBcIkdyZWVuIDQwMFwiLFxuICAgICAgICBoc2w6IFsxNTksIDg4LCA1MF1cbiAgICAgIH0sXG4gICAgICA1MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiR3JlZW4gNTAwXCIsXG4gICAgICAgIGhzbDogWzE1OSwgOTYsIDM3XVxuICAgICAgfSxcbiAgICAgIDYwMDoge1xuICAgICAgICB0aXRsZTogXCJHcmVlbiA2MDBcIixcbiAgICAgICAgaHNsOiBbMTU5LCA5OCwgMjRdXG4gICAgICB9LFxuICAgICAgNzAwOiB7XG4gICAgICAgIHRpdGxlOiBcIkdyZWVuIDcwMFwiLFxuICAgICAgICBoc2w6IFsxNTgsIDk4LCAxNl1cbiAgICAgIH0sXG4gICAgICA4MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiR3JlZW4gODAwXCIsXG4gICAgICAgIGhzbDogWzE1OCwgOTEsIDEwXVxuICAgICAgfSxcbiAgICAgIDkwMDoge1xuICAgICAgICB0aXRsZTogXCJHcmVlbiA5MDBcIixcbiAgICAgICAgaHNsOiBbMTYyLCA3MiwgOF1cbiAgICAgIH0sXG4gICAgICA5NTA6IHtcbiAgICAgICAgdGl0bGU6IFwiR3JlZW4gOTUwXCIsXG4gICAgICAgIGhzbDogWzE3MiwgNTEsIDZdXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBjeWFuOiB7XG4gICAgdGl0bGU6IFwiQ3lhblwiLFxuICAgIHRpbnRzOiB7XG4gICAgICA1MDoge1xuICAgICAgICB0aXRsZTogXCJDeWFuIDUwXCIsXG4gICAgICAgIGhzbDogWzE4MCwgOTIsIDk1XVxuICAgICAgfSxcbiAgICAgIDEwMDoge1xuICAgICAgICB0aXRsZTogXCJDeWFuIDEwMFwiLFxuICAgICAgICBoc2w6IFsxODAsIDkxLCA4OF1cbiAgICAgIH0sXG4gICAgICAyMDA6IHtcbiAgICAgICAgdGl0bGU6IFwiQ3lhbiAyMDBcIixcbiAgICAgICAgaHNsOiBbMTgwLCA4NywgNzhdXG4gICAgICB9LFxuICAgICAgMzAwOiB7XG4gICAgICAgIHRpdGxlOiBcIkN5YW4gMzAwXCIsXG4gICAgICAgIGhzbDogWzE4MCwgODEsIDY2XVxuICAgICAgfSxcbiAgICAgIDQwMDoge1xuICAgICAgICB0aXRsZTogXCJDeWFuIDQwMFwiLFxuICAgICAgICBoc2w6IFsxODAsIDgxLCA0OV1cbiAgICAgIH0sXG4gICAgICA1MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiQ3lhbiA1MDBcIixcbiAgICAgICAgaHNsOiBbMTgyLCA5NiwgMzhdXG4gICAgICB9LFxuICAgICAgNjAwOiB7XG4gICAgICAgIHRpdGxlOiBcIkN5YW4gNjAwXCIsXG4gICAgICAgIGhzbDogWzE4NSwgOTYsIDI2XVxuICAgICAgfSxcbiAgICAgIDcwMDoge1xuICAgICAgICB0aXRsZTogXCJDeWFuIDcwMFwiLFxuICAgICAgICBoc2w6IFsxODUsIDk1LCAxNl1cbiAgICAgIH0sXG4gICAgICA4MDA6IHtcbiAgICAgICAgdGl0bGU6IFwiQ3lhbiA4MDBcIixcbiAgICAgICAgaHNsOiBbMTg3LCA4NiwgMTFdXG4gICAgICB9LFxuICAgICAgOTAwOiB7XG4gICAgICAgIHRpdGxlOiBcIkN5YW4gOTAwXCIsXG4gICAgICAgIGhzbDogWzE4OCwgNjgsIDldXG4gICAgICB9LFxuICAgICAgOTUwOiB7XG4gICAgICAgIHRpdGxlOiBcIkN5YW4gOTUwXCIsXG4gICAgICAgIGhzbDogWzE5NiwgMzcsIDhdXG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gaGV4VG9SZ2IoaGV4KSB7XG4gIGNvbnN0IHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICBpZiAoIXJlc3VsdClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnB1dCBpcyBub3QgdmFsaWQgaGV4XCIpO1xuICByZXR1cm4gW3BhcnNlSW50KHJlc3VsdFsxXSwgMTYpLCBwYXJzZUludChyZXN1bHRbMl0sIDE2KSwgcGFyc2VJbnQocmVzdWx0WzNdLCAxNildO1xufVxuZnVuY3Rpb24gcmdiVG9Ic2woW3IsIGcsIGJdKSB7XG4gIHIgLz0gMjU1LCBnIC89IDI1NSwgYiAvPSAyNTU7XG4gIGNvbnN0IGNtaW4gPSBNYXRoLm1pbihyLCBnLCBiKSwgY21heCA9IE1hdGgubWF4KHIsIGcsIGIpLCBkZWx0YSA9IGNtYXggLSBjbWluO1xuICBsZXQgaCA9IDAsIHMgPSAwLCBsID0gMDtcbiAgcmV0dXJuIGRlbHRhID09IDAgPyBoID0gMCA6IGNtYXggPT0gciA/IGggPSAoZyAtIGIpIC8gZGVsdGEgJSA2IDogY21heCA9PSBnID8gaCA9IChiIC0gcikgLyBkZWx0YSArIDIgOiBoID0gKHIgLSBnKSAvIGRlbHRhICsgNCwgaCA9IE1hdGgucm91bmQoaCAqIDYwKSwgaCA8IDAgJiYgKGggKz0gMzYwKSwgbCA9IChjbWF4ICsgY21pbikgLyAyLCBzID0gZGVsdGEgPT0gMCA/IDAgOiBkZWx0YSAvICgxIC0gTWF0aC5hYnMoMiAqIGwgLSAxKSksIHMgPSArKHMgKiAxMDApLnRvRml4ZWQoMCksIGwgPSArKGwgKiAxMDApLnRvRml4ZWQoMCksIFtoLCBzLCBsXTtcbn1cbmZ1bmN0aW9uIGNsYW1wKG51bSkge1xuICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4obnVtLCAyNTUpLCAwKTtcbn1cbmZ1bmN0aW9uIGRhcmtlbkNoYW5uZWwoYmFja2Ryb3AsIHNvdXJjZSkge1xuICByZXR1cm4gTWF0aC5taW4oYmFja2Ryb3AsIHNvdXJjZSk7XG59XG5mdW5jdGlvbiBkYXJrZW4oYiwgcykge1xuICByZXR1cm4gW1xuICAgIE1hdGgucm91bmQoY2xhbXAoZGFya2VuQ2hhbm5lbChiWzBdIC8gMjU1LCBzWzBdIC8gMjU1KSAqIDI1NSkpLFxuICAgIE1hdGgucm91bmQoY2xhbXAoZGFya2VuQ2hhbm5lbChiWzFdIC8gMjU1LCBzWzFdIC8gMjU1KSAqIDI1NSkpLFxuICAgIE1hdGgucm91bmQoY2xhbXAoZGFya2VuQ2hhbm5lbChiWzJdIC8gMjU1LCBzWzJdIC8gMjU1KSAqIDI1NSkpXG4gIF07XG59XG5mdW5jdGlvbiBpbnRlcnBvbGF0ZShtaW4sIG1heCwgdmFsKSB7XG4gIGNvbnN0IHNpemUgPSBtYXggLSBtaW47XG4gIHJldHVybiBtaW4gKyBzaXplICogdmFsO1xufVxuZnVuY3Rpb24gbGltaXQoZGFya2VzdCwgbGlnaHRlc3QsIHNvdXJjZSkge1xuICBjb25zdCByID0gTWF0aC5yb3VuZChpbnRlcnBvbGF0ZShkYXJrZXN0WzBdLCBsaWdodGVzdFswXSwgc291cmNlWzBdIC8gMjU1KSksIGcgPSBNYXRoLnJvdW5kKGludGVycG9sYXRlKGRhcmtlc3RbMV0sIGxpZ2h0ZXN0WzFdLCBzb3VyY2VbMV0gLyAyNTUpKSwgYiA9IE1hdGgucm91bmQoaW50ZXJwb2xhdGUoZGFya2VzdFsyXSwgbGlnaHRlc3RbMl0sIHNvdXJjZVsyXSAvIDI1NSkpO1xuICByZXR1cm4gW3IsIGcsIGJdO1xufVxuZnVuY3Rpb24gc2NyZWVuQ2hhbm5lbChiYWNrZHJvcCwgc291cmNlKSB7XG4gIHJldHVybiBiYWNrZHJvcCArIHNvdXJjZSAtIGJhY2tkcm9wICogc291cmNlO1xufVxuZnVuY3Rpb24gc2NyZWVuKGIsIHMpIHtcbiAgcmV0dXJuIFtcbiAgICBNYXRoLnJvdW5kKGNsYW1wKHNjcmVlbkNoYW5uZWwoYlswXSAvIDI1NSwgc1swXSAvIDI1NSkgKiAyNTUpKSxcbiAgICBNYXRoLnJvdW5kKGNsYW1wKHNjcmVlbkNoYW5uZWwoYlsxXSAvIDI1NSwgc1sxXSAvIDI1NSkgKiAyNTUpKSxcbiAgICBNYXRoLnJvdW5kKGNsYW1wKHNjcmVlbkNoYW5uZWwoYlsyXSAvIDI1NSwgc1syXSAvIDI1NSkgKiAyNTUpKVxuICBdO1xufVxuZXhwb3J0IHtcbiAgQ09MT1JfSFVFUyxcbiAgQ09MT1JfVElOVFMsXG4gIGJsYWNrLFxuICBibHVlLFxuICBidWlsZFRpbnRzLFxuICBjb2xvcixcbiAgY29uZmlnLFxuICBjeWFuLFxuICBkYXJrZW4sXG4gIGdyYXksXG4gIGdyZWVuLFxuICBoZXhUb1JnYixcbiAgaHNsVG9SZ2IsXG4gIGh1ZXMsXG4gIGxpbWl0LFxuICBtYWdlbnRhLFxuICBvcmFuZ2UsXG4gIHB1cnBsZSxcbiAgcmVkLFxuICByZ2JUb0hleCxcbiAgcmdiVG9Ic2wsXG4gIHNjcmVlbixcbiAgd2hpdGUsXG4gIHllbGxvd1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/color/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/diff-match-patch/dist/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@sanity/diff-match-patch/dist/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DIFF_DELETE: () => (/* binding */ DIFF_DELETE),\n/* harmony export */   DIFF_EQUAL: () => (/* binding */ DIFF_EQUAL),\n/* harmony export */   DIFF_INSERT: () => (/* binding */ DIFF_INSERT),\n/* harmony export */   adjustIndiciesToUcs2: () => (/* binding */ adjustIndiciesToUcs2),\n/* harmony export */   applyPatches: () => (/* binding */ apply),\n/* harmony export */   cleanupEfficiency: () => (/* binding */ cleanupEfficiency),\n/* harmony export */   cleanupSemantic: () => (/* binding */ cleanupSemantic),\n/* harmony export */   makeDiff: () => (/* binding */ diff),\n/* harmony export */   makePatches: () => (/* binding */ make),\n/* harmony export */   match: () => (/* binding */ match),\n/* harmony export */   parsePatch: () => (/* binding */ parse),\n/* harmony export */   stringifyPatch: () => (/* binding */ stringifyPatch),\n/* harmony export */   stringifyPatches: () => (/* binding */ stringify)\n/* harmony export */ });\nfunction isHighSurrogate(char) {\n  const charCode = char.charCodeAt(0);\n  return charCode >= 55296 && charCode <= 56319;\n}\nfunction isLowSurrogate(char) {\n  const charCode = char.charCodeAt(0);\n  return charCode >= 56320 && charCode <= 57343;\n}\nfunction cloneDiff(diff) {\n  const [type, patch] = diff;\n  return [type, patch];\n}\nfunction getCommonOverlap(textA, textB) {\n  let text1 = textA;\n  let text2 = textB;\n  const text1Length = text1.length;\n  const text2Length = text2.length;\n  if (text1Length === 0 || text2Length === 0) {\n    return 0;\n  }\n  if (text1Length > text2Length) {\n    text1 = text1.substring(text1Length - text2Length);\n  } else if (text1Length < text2Length) {\n    text2 = text2.substring(0, text1Length);\n  }\n  const textLength = Math.min(text1Length, text2Length);\n  if (text1 === text2) {\n    return textLength;\n  }\n  let best = 0;\n  let length = 1;\n  for (let found = 0; found !== -1;) {\n    const pattern = text1.substring(textLength - length);\n    found = text2.indexOf(pattern);\n    if (found === -1) {\n      return best;\n    }\n    length += found;\n    if (found === 0 || text1.substring(textLength - length) === text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n  return best;\n}\nfunction getCommonPrefix(text1, text2) {\n  if (!text1 || !text2 || text1[0] !== text2[0]) {\n    return 0;\n  }\n  let pointerMin = 0;\n  let pointerMax = Math.min(text1.length, text2.length);\n  let pointerMid = pointerMax;\n  let pointerStart = 0;\n  while (pointerMin < pointerMid) {\n    if (text1.substring(pointerStart, pointerMid) === text2.substring(pointerStart, pointerMid)) {\n      pointerMin = pointerMid;\n      pointerStart = pointerMin;\n    } else {\n      pointerMax = pointerMid;\n    }\n    pointerMid = Math.floor((pointerMax - pointerMin) / 2 + pointerMin);\n  }\n  return pointerMid;\n}\nfunction getCommonSuffix(text1, text2) {\n  if (!text1 || !text2 || text1[text1.length - 1] !== text2[text2.length - 1]) {\n    return 0;\n  }\n  let pointerMin = 0;\n  let pointerMax = Math.min(text1.length, text2.length);\n  let pointerMid = pointerMax;\n  let pointerEnd = 0;\n  while (pointerMin < pointerMid) {\n    if (text1.substring(text1.length - pointerMid, text1.length - pointerEnd) === text2.substring(text2.length - pointerMid, text2.length - pointerEnd)) {\n      pointerMin = pointerMid;\n      pointerEnd = pointerMin;\n    } else {\n      pointerMax = pointerMid;\n    }\n    pointerMid = Math.floor((pointerMax - pointerMin) / 2 + pointerMin);\n  }\n  return pointerMid;\n}\nfunction cleanupSemantic(rawDiffs) {\n  let diffs = rawDiffs.map(diff => cloneDiff(diff));\n  let hasChanges = false;\n  const equalities = [];\n  let equalitiesLength = 0;\n  let lastEquality = null;\n  let pointer = 0;\n  let lengthInsertions1 = 0;\n  let lengthDeletions1 = 0;\n  let lengthInsertions2 = 0;\n  let lengthDeletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] === DIFF_EQUAL) {\n      equalities[equalitiesLength++] = pointer;\n      lengthInsertions1 = lengthInsertions2;\n      lengthDeletions1 = lengthDeletions2;\n      lengthInsertions2 = 0;\n      lengthDeletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {\n      if (diffs[pointer][0] === DIFF_INSERT) {\n        lengthInsertions2 += diffs[pointer][1].length;\n      } else {\n        lengthDeletions2 += diffs[pointer][1].length;\n      }\n      if (lastEquality && lastEquality.length <= Math.max(lengthInsertions1, lengthDeletions1) && lastEquality.length <= Math.max(lengthInsertions2, lengthDeletions2)) {\n        diffs.splice(equalities[equalitiesLength - 1], 0, [DIFF_DELETE, lastEquality]);\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--;\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        lengthInsertions1 = 0;\n        lengthDeletions1 = 0;\n        lengthInsertions2 = 0;\n        lengthDeletions2 = 0;\n        lastEquality = null;\n        hasChanges = true;\n      }\n    }\n    pointer++;\n  }\n  if (hasChanges) {\n    diffs = cleanupMerge(diffs);\n  }\n  diffs = cleanupSemanticLossless(diffs);\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] === DIFF_DELETE && diffs[pointer][0] === DIFF_INSERT) {\n      const deletion = diffs[pointer - 1][1];\n      const insertion = diffs[pointer][1];\n      const overlapLength1 = getCommonOverlap(deletion, insertion);\n      const overlapLength2 = getCommonOverlap(insertion, deletion);\n      if (overlapLength1 >= overlapLength2) {\n        if (overlapLength1 >= deletion.length / 2 || overlapLength1 >= insertion.length / 2) {\n          diffs.splice(pointer, 0, [DIFF_EQUAL, insertion.substring(0, overlapLength1)]);\n          diffs[pointer - 1][1] = deletion.substring(0, deletion.length - overlapLength1);\n          diffs[pointer + 1][1] = insertion.substring(overlapLength1);\n          pointer++;\n        }\n      } else if (overlapLength2 >= deletion.length / 2 || overlapLength2 >= insertion.length / 2) {\n        diffs.splice(pointer, 0, [DIFF_EQUAL, deletion.substring(0, overlapLength2)]);\n        diffs[pointer - 1][0] = DIFF_INSERT;\n        diffs[pointer - 1][1] = insertion.substring(0, insertion.length - overlapLength2);\n        diffs[pointer + 1][0] = DIFF_DELETE;\n        diffs[pointer + 1][1] = deletion.substring(overlapLength2);\n        pointer++;\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n  return diffs;\n}\nconst nonAlphaNumericRegex = /[^a-zA-Z0-9]/;\nconst whitespaceRegex = /\\s/;\nconst linebreakRegex = /[\\r\\n]/;\nconst blanklineEndRegex = /\\n\\r?\\n$/;\nconst blanklineStartRegex = /^\\r?\\n\\r?\\n/;\nfunction cleanupSemanticLossless(rawDiffs) {\n  const diffs = rawDiffs.map(diff => cloneDiff(diff));\n  function diffCleanupSemanticScore(one, two) {\n    if (!one || !two) {\n      return 6;\n    }\n    const char1 = one.charAt(one.length - 1);\n    const char2 = two.charAt(0);\n    const nonAlphaNumeric1 = char1.match(nonAlphaNumericRegex);\n    const nonAlphaNumeric2 = char2.match(nonAlphaNumericRegex);\n    const whitespace1 = nonAlphaNumeric1 && char1.match(whitespaceRegex);\n    const whitespace2 = nonAlphaNumeric2 && char2.match(whitespaceRegex);\n    const lineBreak1 = whitespace1 && char1.match(linebreakRegex);\n    const lineBreak2 = whitespace2 && char2.match(linebreakRegex);\n    const blankLine1 = lineBreak1 && one.match(blanklineEndRegex);\n    const blankLine2 = lineBreak2 && two.match(blanklineStartRegex);\n    if (blankLine1 || blankLine2) {\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      return 1;\n    }\n    return 0;\n  }\n  let pointer = 1;\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] === DIFF_EQUAL && diffs[pointer + 1][0] === DIFF_EQUAL) {\n      let equality1 = diffs[pointer - 1][1];\n      let edit = diffs[pointer][1];\n      let equality2 = diffs[pointer + 1][1];\n      const commonOffset = getCommonSuffix(equality1, edit);\n      if (commonOffset) {\n        const commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n      let bestEquality1 = equality1;\n      let bestEdit = edit;\n      let bestEquality2 = equality2;\n      let bestScore = diffCleanupSemanticScore(equality1, edit) + diffCleanupSemanticScore(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        const score = diffCleanupSemanticScore(equality1, edit) + diffCleanupSemanticScore(edit, equality2);\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n      if (diffs[pointer - 1][1] !== bestEquality1) {\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n  return diffs;\n}\nfunction cleanupMerge(rawDiffs) {\n  let diffs = rawDiffs.map(diff => cloneDiff(diff));\n  diffs.push([DIFF_EQUAL, \"\"]);\n  let pointer = 0;\n  let countDelete = 0;\n  let countInsert = 0;\n  let textDelete = \"\";\n  let textInsert = \"\";\n  let commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        countInsert++;\n        textInsert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        countDelete++;\n        textDelete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        if (countDelete + countInsert > 1) {\n          if (countDelete !== 0 && countInsert !== 0) {\n            commonlength = getCommonPrefix(textInsert, textDelete);\n            if (commonlength !== 0) {\n              if (pointer - countDelete - countInsert > 0 && diffs[pointer - countDelete - countInsert - 1][0] === DIFF_EQUAL) {\n                diffs[pointer - countDelete - countInsert - 1][1] += textInsert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL, textInsert.substring(0, commonlength)]);\n                pointer++;\n              }\n              textInsert = textInsert.substring(commonlength);\n              textDelete = textDelete.substring(commonlength);\n            }\n            commonlength = getCommonSuffix(textInsert, textDelete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = textInsert.substring(textInsert.length - commonlength) + diffs[pointer][1];\n              textInsert = textInsert.substring(0, textInsert.length - commonlength);\n              textDelete = textDelete.substring(0, textDelete.length - commonlength);\n            }\n          }\n          pointer -= countDelete + countInsert;\n          diffs.splice(pointer, countDelete + countInsert);\n          if (textDelete.length) {\n            diffs.splice(pointer, 0, [DIFF_DELETE, textDelete]);\n            pointer++;\n          }\n          if (textInsert.length) {\n            diffs.splice(pointer, 0, [DIFF_INSERT, textInsert]);\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] === DIFF_EQUAL) {\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        countInsert = 0;\n        countDelete = 0;\n        textDelete = \"\";\n        textInsert = \"\";\n        break;\n      default:\n        throw new Error(\"Unknown diff operation\");\n    }\n  }\n  if (diffs[diffs.length - 1][1] === \"\") {\n    diffs.pop();\n  }\n  let hasChanges = false;\n  pointer = 1;\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] === DIFF_EQUAL && diffs[pointer + 1][0] === DIFF_EQUAL) {\n      if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) === diffs[pointer - 1][1]) {\n        diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        hasChanges = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) === diffs[pointer + 1][1]) {\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        hasChanges = true;\n      }\n    }\n    pointer++;\n  }\n  if (hasChanges) {\n    diffs = cleanupMerge(diffs);\n  }\n  return diffs;\n}\nfunction trueCount() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return args.reduce((n, bool) => n + (bool ? 1 : 0), 0);\n}\nfunction cleanupEfficiency(rawDiffs) {\n  let editCost = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4;\n  let diffs = rawDiffs.map(diff => cloneDiff(diff));\n  let hasChanges = false;\n  const equalities = [];\n  let equalitiesLength = 0;\n  let lastEquality = null;\n  let pointer = 0;\n  let preIns = false;\n  let preDel = false;\n  let postIns = false;\n  let postDel = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] === DIFF_EQUAL) {\n      if (diffs[pointer][1].length < editCost && (postIns || postDel)) {\n        equalities[equalitiesLength++] = pointer;\n        preIns = postIns;\n        preDel = postDel;\n        lastEquality = diffs[pointer][1];\n      } else {\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      postIns = false;\n      postDel = false;\n    } else {\n      if (diffs[pointer][0] === DIFF_DELETE) {\n        postDel = true;\n      } else {\n        postIns = true;\n      }\n      if (lastEquality && (preIns && preDel && postIns && postDel || lastEquality.length < editCost / 2 && trueCount(preIns, preDel, postIns, postDel) === 3)) {\n        diffs.splice(equalities[equalitiesLength - 1], 0, [DIFF_DELETE, lastEquality]);\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--;\n        lastEquality = null;\n        if (preIns && preDel) {\n          postIns = true;\n          postDel = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--;\n          pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n          postIns = false;\n          postDel = false;\n        }\n        hasChanges = true;\n      }\n    }\n    pointer++;\n  }\n  if (hasChanges) {\n    diffs = cleanupMerge(diffs);\n  }\n  return diffs;\n}\nfunction bisect(text1, text2, deadline) {\n  const text1Length = text1.length;\n  const text2Length = text2.length;\n  const maxD = Math.ceil((text1Length + text2Length) / 2);\n  const vOffset = maxD;\n  const vLength = 2 * maxD;\n  const v1 = new Array(vLength);\n  const v2 = new Array(vLength);\n  for (let x = 0; x < vLength; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[vOffset + 1] = 0;\n  v2[vOffset + 1] = 0;\n  const delta = text1Length - text2Length;\n  const front = delta % 2 !== 0;\n  let k1start = 0;\n  let k1end = 0;\n  let k2start = 0;\n  let k2end = 0;\n  for (let d = 0; d < maxD; d++) {\n    if (Date.now() > deadline) {\n      break;\n    }\n    for (let k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      const k1Offset = vOffset + k1;\n      let x1;\n      if (k1 === -d || k1 !== d && v1[k1Offset - 1] < v1[k1Offset + 1]) {\n        x1 = v1[k1Offset + 1];\n      } else {\n        x1 = v1[k1Offset - 1] + 1;\n      }\n      let y1 = x1 - k1;\n      while (x1 < text1Length && y1 < text2Length && text1.charAt(x1) === text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1Offset] = x1;\n      if (x1 > text1Length) {\n        k1end += 2;\n      } else if (y1 > text2Length) {\n        k1start += 2;\n      } else if (front) {\n        const k2Offset = vOffset + delta - k1;\n        if (k2Offset >= 0 && k2Offset < vLength && v2[k2Offset] !== -1) {\n          const x2 = text1Length - v2[k2Offset];\n          if (x1 >= x2) {\n            return bisectSplit(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n    for (let k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      const k2Offset = vOffset + k2;\n      let x2;\n      if (k2 === -d || k2 !== d && v2[k2Offset - 1] < v2[k2Offset + 1]) {\n        x2 = v2[k2Offset + 1];\n      } else {\n        x2 = v2[k2Offset - 1] + 1;\n      }\n      let y2 = x2 - k2;\n      while (x2 < text1Length && y2 < text2Length && text1.charAt(text1Length - x2 - 1) === text2.charAt(text2Length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2Offset] = x2;\n      if (x2 > text1Length) {\n        k2end += 2;\n      } else if (y2 > text2Length) {\n        k2start += 2;\n      } else if (!front) {\n        const k1Offset = vOffset + delta - k2;\n        if (k1Offset >= 0 && k1Offset < vLength && v1[k1Offset] !== -1) {\n          const x1 = v1[k1Offset];\n          const y1 = vOffset + x1 - k1Offset;\n          x2 = text1Length - x2;\n          if (x1 >= x2) {\n            return bisectSplit(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n}\nfunction bisectSplit(text1, text2, x, y, deadline) {\n  const text1a = text1.substring(0, x);\n  const text2a = text2.substring(0, y);\n  const text1b = text1.substring(x);\n  const text2b = text2.substring(y);\n  const diffs = doDiff(text1a, text2a, {\n    checkLines: false,\n    deadline\n  });\n  const diffsb = doDiff(text1b, text2b, {\n    checkLines: false,\n    deadline\n  });\n  return diffs.concat(diffsb);\n}\nfunction findHalfMatch(text1, text2) {\n  let timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  if (timeout <= 0) {\n    return null;\n  }\n  const longText = text1.length > text2.length ? text1 : text2;\n  const shortText = text1.length > text2.length ? text2 : text1;\n  if (longText.length < 4 || shortText.length * 2 < longText.length) {\n    return null;\n  }\n  const halfMatch1 = halfMatchI(longText, shortText, Math.ceil(longText.length / 4));\n  const halfMatch2 = halfMatchI(longText, shortText, Math.ceil(longText.length / 2));\n  let halfMatch;\n  if (halfMatch1 && halfMatch2) {\n    halfMatch = halfMatch1[4].length > halfMatch2[4].length ? halfMatch1 : halfMatch2;\n  } else if (!halfMatch1 && !halfMatch2) {\n    return null;\n  } else if (!halfMatch2) {\n    halfMatch = halfMatch1;\n  } else if (!halfMatch1) {\n    halfMatch = halfMatch2;\n  }\n  if (!halfMatch) {\n    throw new Error(\"Unable to find a half match.\");\n  }\n  let text1A;\n  let text1B;\n  let text2A;\n  let text2B;\n  if (text1.length > text2.length) {\n    text1A = halfMatch[0];\n    text1B = halfMatch[1];\n    text2A = halfMatch[2];\n    text2B = halfMatch[3];\n  } else {\n    text2A = halfMatch[0];\n    text2B = halfMatch[1];\n    text1A = halfMatch[2];\n    text1B = halfMatch[3];\n  }\n  const midCommon = halfMatch[4];\n  return [text1A, text1B, text2A, text2B, midCommon];\n}\nfunction halfMatchI(longText, shortText, i) {\n  const seed = longText.slice(i, i + Math.floor(longText.length / 4));\n  let j = -1;\n  let bestCommon = \"\";\n  let bestLongTextA;\n  let bestLongTextB;\n  let bestShortTextA;\n  let bestShortTextB;\n  while ((j = shortText.indexOf(seed, j + 1)) !== -1) {\n    const prefixLength = getCommonPrefix(longText.slice(i), shortText.slice(j));\n    const suffixLength = getCommonSuffix(longText.slice(0, i), shortText.slice(0, j));\n    if (bestCommon.length < suffixLength + prefixLength) {\n      bestCommon = shortText.slice(j - suffixLength, j) + shortText.slice(j, j + prefixLength);\n      bestLongTextA = longText.slice(0, i - suffixLength);\n      bestLongTextB = longText.slice(i + prefixLength);\n      bestShortTextA = shortText.slice(0, j - suffixLength);\n      bestShortTextB = shortText.slice(j + prefixLength);\n    }\n  }\n  if (bestCommon.length * 2 >= longText.length) {\n    return [bestLongTextA || \"\", bestLongTextB || \"\", bestShortTextA || \"\", bestShortTextB || \"\", bestCommon || \"\"];\n  }\n  return null;\n}\nfunction charsToLines(diffs, lineArray) {\n  for (let x = 0; x < diffs.length; x++) {\n    const chars = diffs[x][1];\n    const text = [];\n    for (let y = 0; y < chars.length; y++) {\n      text[y] = lineArray[chars.charCodeAt(y)];\n    }\n    diffs[x][1] = text.join(\"\");\n  }\n}\nfunction linesToChars(textA, textB) {\n  const lineArray = [];\n  const lineHash = {};\n  lineArray[0] = \"\";\n  function diffLinesToMunge(text) {\n    let chars = \"\";\n    let lineStart = 0;\n    let lineEnd = -1;\n    let lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf(\"\\n\", lineStart);\n      if (lineEnd === -1) {\n        lineEnd = text.length - 1;\n      }\n      let line = text.slice(lineStart, lineEnd + 1);\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) : lineHash[line] !== void 0) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength === maxLines) {\n          line = text.slice(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  let maxLines = 4e4;\n  const chars1 = diffLinesToMunge(textA);\n  maxLines = 65535;\n  const chars2 = diffLinesToMunge(textB);\n  return {\n    chars1,\n    chars2,\n    lineArray\n  };\n}\nfunction doLineModeDiff(textA, textB, opts) {\n  let text1 = textA;\n  let text2 = textB;\n  const a = linesToChars(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  const linearray = a.lineArray;\n  let diffs = doDiff(text1, text2, {\n    checkLines: false,\n    deadline: opts.deadline\n  });\n  charsToLines(diffs, linearray);\n  diffs = cleanupSemantic(diffs);\n  diffs.push([DIFF_EQUAL, \"\"]);\n  let pointer = 0;\n  let countDelete = 0;\n  let countInsert = 0;\n  let textDelete = \"\";\n  let textInsert = \"\";\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        countInsert++;\n        textInsert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        countDelete++;\n        textDelete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        if (countDelete >= 1 && countInsert >= 1) {\n          diffs.splice(pointer - countDelete - countInsert, countDelete + countInsert);\n          pointer = pointer - countDelete - countInsert;\n          const aa = doDiff(textDelete, textInsert, {\n            checkLines: false,\n            deadline: opts.deadline\n          });\n          for (let j = aa.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, aa[j]);\n          }\n          pointer += aa.length;\n        }\n        countInsert = 0;\n        countDelete = 0;\n        textDelete = \"\";\n        textInsert = \"\";\n        break;\n      default:\n        throw new Error(\"Unknown diff operation.\");\n    }\n    pointer++;\n  }\n  diffs.pop();\n  return diffs;\n}\nfunction computeDiff(text1, text2, opts) {\n  let diffs;\n  if (!text1) {\n    return [[DIFF_INSERT, text2]];\n  }\n  if (!text2) {\n    return [[DIFF_DELETE, text1]];\n  }\n  const longtext = text1.length > text2.length ? text1 : text2;\n  const shorttext = text1.length > text2.length ? text2 : text1;\n  const i = longtext.indexOf(shorttext);\n  if (i !== -1) {\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)], [DIFF_EQUAL, shorttext], [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\n    if (text1.length > text2.length) {\n      diffs[0][0] = DIFF_DELETE;\n      diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n  if (shorttext.length === 1) {\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n  const halfMatch = findHalfMatch(text1, text2);\n  if (halfMatch) {\n    const text1A = halfMatch[0];\n    const text1B = halfMatch[1];\n    const text2A = halfMatch[2];\n    const text2B = halfMatch[3];\n    const midCommon = halfMatch[4];\n    const diffsA = doDiff(text1A, text2A, opts);\n    const diffsB = doDiff(text1B, text2B, opts);\n    return diffsA.concat([[DIFF_EQUAL, midCommon]], diffsB);\n  }\n  if (opts.checkLines && text1.length > 100 && text2.length > 100) {\n    return doLineModeDiff(text1, text2, opts);\n  }\n  return bisect(text1, text2, opts.deadline);\n}\nconst DIFF_DELETE = -1;\nconst DIFF_INSERT = 1;\nconst DIFF_EQUAL = 0;\nfunction diff(textA, textB, opts) {\n  if (textA === null || textB === null) {\n    throw new Error(\"Null input. (diff)\");\n  }\n  const diffs = doDiff(textA, textB, createInternalOpts(opts || {}));\n  adjustDiffForSurrogatePairs(diffs);\n  return diffs;\n}\nfunction doDiff(textA, textB, options) {\n  let text1 = textA;\n  let text2 = textB;\n  if (text1 === text2) {\n    return text1 ? [[DIFF_EQUAL, text1]] : [];\n  }\n  let commonlength = getCommonPrefix(text1, text2);\n  const commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n  commonlength = getCommonSuffix(text1, text2);\n  const commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n  let diffs = computeDiff(text1, text2, options);\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diffs = cleanupMerge(diffs);\n  return diffs;\n}\nfunction createDeadLine(timeout) {\n  let t = 1;\n  if (typeof timeout !== \"undefined\") {\n    t = timeout <= 0 ? Number.MAX_VALUE : timeout;\n  }\n  return Date.now() + t * 1e3;\n}\nfunction createInternalOpts(opts) {\n  return {\n    checkLines: true,\n    deadline: createDeadLine(opts.timeout || 1),\n    ...opts\n  };\n}\nfunction combineChar(data, char, dir) {\n  return dir === 1 ? data + char : char + data;\n}\nfunction splitChar(data, dir) {\n  return dir === 1 ? [data.substring(0, data.length - 1), data[data.length - 1]] : [data.substring(1), data[0]];\n}\nfunction hasSharedChar(diffs, i, j, dir) {\n  return dir === 1 ? diffs[i][1][diffs[i][1].length - 1] === diffs[j][1][diffs[j][1].length - 1] : diffs[i][1][0] === diffs[j][1][0];\n}\nfunction deisolateChar(diffs, i, dir) {\n  const inv = dir === 1 ? -1 : 1;\n  let insertIdx = null;\n  let deleteIdx = null;\n  let j = i + dir;\n  for (; j >= 0 && j < diffs.length && (insertIdx === null || deleteIdx === null); j += dir) {\n    const [op, text2] = diffs[j];\n    if (text2.length === 0) {\n      continue;\n    }\n    if (op === DIFF_INSERT) {\n      if (insertIdx === null) {\n        insertIdx = j;\n      }\n      continue;\n    } else if (op === DIFF_DELETE) {\n      if (deleteIdx === null) {\n        deleteIdx = j;\n      }\n      continue;\n    } else if (op === DIFF_EQUAL) {\n      if (insertIdx === null && deleteIdx === null) {\n        const [rest, char2] = splitChar(diffs[i][1], dir);\n        diffs[i][1] = rest;\n        diffs[j][1] = combineChar(diffs[j][1], char2, inv);\n        return;\n      }\n      break;\n    }\n  }\n  if (insertIdx !== null && deleteIdx !== null && hasSharedChar(diffs, insertIdx, deleteIdx, dir)) {\n    const [insertText, insertChar] = splitChar(diffs[insertIdx][1], inv);\n    const [deleteText] = splitChar(diffs[deleteIdx][1], inv);\n    diffs[insertIdx][1] = insertText;\n    diffs[deleteIdx][1] = deleteText;\n    diffs[i][1] = combineChar(diffs[i][1], insertChar, dir);\n    return;\n  }\n  const [text, char] = splitChar(diffs[i][1], dir);\n  diffs[i][1] = text;\n  if (insertIdx === null) {\n    diffs.splice(j, 0, [DIFF_INSERT, char]);\n    if (deleteIdx !== null && deleteIdx >= j) deleteIdx++;\n  } else {\n    diffs[insertIdx][1] = combineChar(diffs[insertIdx][1], char, inv);\n  }\n  if (deleteIdx === null) {\n    diffs.splice(j, 0, [DIFF_DELETE, char]);\n  } else {\n    diffs[deleteIdx][1] = combineChar(diffs[deleteIdx][1], char, inv);\n  }\n}\nfunction adjustDiffForSurrogatePairs(diffs) {\n  for (let i = 0; i < diffs.length; i++) {\n    const [diffType, diffText] = diffs[i];\n    if (diffText.length === 0) continue;\n    const firstChar = diffText[0];\n    const lastChar = diffText[diffText.length - 1];\n    if (isHighSurrogate(lastChar) && diffType === DIFF_EQUAL) {\n      deisolateChar(diffs, i, 1);\n    }\n    if (isLowSurrogate(firstChar) && diffType === DIFF_EQUAL) {\n      deisolateChar(diffs, i, -1);\n    }\n  }\n  for (let i = 0; i < diffs.length; i++) {\n    if (diffs[i][1].length === 0) {\n      diffs.splice(i, 1);\n    }\n  }\n}\nconst DEFAULT_OPTIONS = {\n  /**\n   * At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n   */\n  threshold: 0.5,\n  /**\n   * How far to search for a match (0 = exact location, 1000+ = broad match).\n   * A match this many characters away from the expected location will add\n   * 1.0 to the score (0.0 is a perfect match).\n   */\n  distance: 1e3\n};\nfunction applyDefaults(options) {\n  return {\n    ...DEFAULT_OPTIONS,\n    ...options\n  };\n}\nconst MAX_BITS$1 = 32;\nfunction bitap(text, pattern, loc) {\n  let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  if (pattern.length > MAX_BITS$1) {\n    throw new Error(\"Pattern too long for this browser.\");\n  }\n  const options = applyDefaults(opts);\n  const s = getAlphabetFromPattern(pattern);\n  function getBitapScore(e, x) {\n    const accuracy = e / pattern.length;\n    const proximity = Math.abs(loc - x);\n    if (!options.distance) {\n      return proximity ? 1 : accuracy;\n    }\n    return accuracy + proximity / options.distance;\n  }\n  let scoreThreshold = options.threshold;\n  let bestLoc = text.indexOf(pattern, loc);\n  if (bestLoc !== -1) {\n    scoreThreshold = Math.min(getBitapScore(0, bestLoc), scoreThreshold);\n    bestLoc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (bestLoc !== -1) {\n      scoreThreshold = Math.min(getBitapScore(0, bestLoc), scoreThreshold);\n    }\n  }\n  const matchmask = 1 << pattern.length - 1;\n  bestLoc = -1;\n  let binMin;\n  let binMid;\n  let binMax = pattern.length + text.length;\n  let lastRd = [];\n  for (let d = 0; d < pattern.length; d++) {\n    binMin = 0;\n    binMid = binMax;\n    while (binMin < binMid) {\n      if (getBitapScore(d, loc + binMid) <= scoreThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n    binMax = binMid;\n    let start = Math.max(1, loc - binMid + 1);\n    const finish = Math.min(loc + binMid, text.length) + pattern.length;\n    const rd = new Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (let j = finish; j >= start; j--) {\n      const charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch;\n      } else {\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch | ((lastRd[j + 1] | lastRd[j]) << 1 | 1) | lastRd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        const score = getBitapScore(d, j - 1);\n        if (score <= scoreThreshold) {\n          scoreThreshold = score;\n          bestLoc = j - 1;\n          if (bestLoc > loc) {\n            start = Math.max(1, 2 * loc - bestLoc);\n          } else {\n            break;\n          }\n        }\n      }\n    }\n    if (getBitapScore(d + 1, loc) > scoreThreshold) {\n      break;\n    }\n    lastRd = rd;\n  }\n  return bestLoc;\n}\nfunction getAlphabetFromPattern(pattern) {\n  const s = {};\n  for (let i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (let i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << pattern.length - i - 1;\n  }\n  return s;\n}\nfunction match(text, pattern, searchLocation) {\n  if (text === null || pattern === null || searchLocation === null) {\n    throw new Error(\"Null input. (match())\");\n  }\n  const loc = Math.max(0, Math.min(searchLocation, text.length));\n  if (text === pattern) {\n    return 0;\n  } else if (!text.length) {\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) === pattern) {\n    return loc;\n  }\n  return bitap(text, pattern, loc);\n}\nfunction createPatchObject(start1, start2) {\n  return {\n    diffs: [],\n    start1,\n    start2,\n    utf8Start1: start1,\n    utf8Start2: start2,\n    length1: 0,\n    length2: 0,\n    utf8Length1: 0,\n    utf8Length2: 0\n  };\n}\nfunction diffText1(diffs) {\n  const text = [];\n  for (let x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join(\"\");\n}\nfunction diffText2(diffs) {\n  const text = [];\n  for (let x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join(\"\");\n}\nfunction countUtf8Bytes(str) {\n  let bytes = 0;\n  for (let i = 0; i < str.length; i++) {\n    const codePoint = str.codePointAt(i);\n    if (typeof codePoint === \"undefined\") {\n      throw new Error(\"Failed to get codepoint\");\n    }\n    bytes += utf8len(codePoint);\n  }\n  return bytes;\n}\nfunction adjustIndiciesToUcs2(patches, base) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let byteOffset = 0;\n  let idx = 0;\n  function advanceTo(target) {\n    for (; byteOffset < target;) {\n      const codePoint = base.codePointAt(idx);\n      if (typeof codePoint === \"undefined\") {\n        return idx;\n      }\n      byteOffset += utf8len(codePoint);\n      if (codePoint > 65535) {\n        idx += 2;\n      } else {\n        idx += 1;\n      }\n    }\n    if (!options.allowExceedingIndices && byteOffset !== target) {\n      throw new Error(\"Failed to determine byte offset\");\n    }\n    return idx;\n  }\n  const adjusted = [];\n  for (const patch of patches) {\n    adjusted.push({\n      diffs: patch.diffs.map(diff => cloneDiff(diff)),\n      start1: advanceTo(patch.start1),\n      start2: advanceTo(patch.start2),\n      utf8Start1: patch.utf8Start1,\n      utf8Start2: patch.utf8Start2,\n      length1: patch.length1,\n      length2: patch.length2,\n      utf8Length1: patch.utf8Length1,\n      utf8Length2: patch.utf8Length2\n    });\n  }\n  return adjusted;\n}\nfunction utf8len(codePoint) {\n  if (codePoint <= 127) return 1;\n  if (codePoint <= 2047) return 2;\n  if (codePoint <= 65535) return 3;\n  return 4;\n}\nconst MAX_BITS = 32;\nconst DEFAULT_MARGIN = 4;\nconst DEFAULT_OPTS = {\n  margin: 4\n};\nfunction getDefaultOpts() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    ...DEFAULT_OPTS,\n    ...opts\n  };\n}\nfunction make(a, b, options) {\n  if (typeof a === \"string\" && typeof b === \"string\") {\n    let diffs = diff(a, b, {\n      checkLines: true\n    });\n    if (diffs.length > 2) {\n      diffs = cleanupSemantic(diffs);\n      diffs = cleanupEfficiency(diffs);\n    }\n    return _make(a, diffs, getDefaultOpts(options));\n  }\n  if (a && Array.isArray(a) && typeof b === \"undefined\") {\n    return _make(diffText1(a), a, getDefaultOpts(options));\n  }\n  if (typeof a === \"string\" && b && Array.isArray(b)) {\n    return _make(a, b, getDefaultOpts(options));\n  }\n  throw new Error(\"Unknown call format to make()\");\n}\nfunction _make(textA, diffs, options) {\n  if (diffs.length === 0) {\n    return [];\n  }\n  const patches = [];\n  let patch = createPatchObject(0, 0);\n  let patchDiffLength = 0;\n  let charCount1 = 0;\n  let charCount2 = 0;\n  let utf8Count1 = 0;\n  let utf8Count2 = 0;\n  let prepatchText = textA;\n  let postpatchText = textA;\n  for (let x = 0; x < diffs.length; x++) {\n    const currentDiff = diffs[x];\n    const [diffType, diffText] = currentDiff;\n    const diffTextLength = diffText.length;\n    const diffByteLength = countUtf8Bytes(diffText);\n    if (!patchDiffLength && diffType !== DIFF_EQUAL) {\n      patch.start1 = charCount1;\n      patch.start2 = charCount2;\n      patch.utf8Start1 = utf8Count1;\n      patch.utf8Start2 = utf8Count2;\n    }\n    switch (diffType) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = currentDiff;\n        patch.length2 += diffTextLength;\n        patch.utf8Length2 += diffByteLength;\n        postpatchText = postpatchText.substring(0, charCount2) + diffText + postpatchText.substring(charCount2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diffTextLength;\n        patch.utf8Length1 += diffByteLength;\n        patch.diffs[patchDiffLength++] = currentDiff;\n        postpatchText = postpatchText.substring(0, charCount2) + postpatchText.substring(charCount2 + diffTextLength);\n        break;\n      case DIFF_EQUAL:\n        if (diffTextLength <= 2 * options.margin && patchDiffLength && diffs.length !== x + 1) {\n          patch.diffs[patchDiffLength++] = currentDiff;\n          patch.length1 += diffTextLength;\n          patch.length2 += diffTextLength;\n          patch.utf8Length1 += diffByteLength;\n          patch.utf8Length2 += diffByteLength;\n        } else if (diffTextLength >= 2 * options.margin) {\n          if (patchDiffLength) {\n            addContext(patch, prepatchText, options);\n            patches.push(patch);\n            patch = createPatchObject(-1, -1);\n            patchDiffLength = 0;\n            prepatchText = postpatchText;\n            charCount1 = charCount2;\n            utf8Count1 = utf8Count2;\n          }\n        }\n        break;\n      default:\n        throw new Error(\"Unknown diff type\");\n    }\n    if (diffType !== DIFF_INSERT) {\n      charCount1 += diffTextLength;\n      utf8Count1 += diffByteLength;\n    }\n    if (diffType !== DIFF_DELETE) {\n      charCount2 += diffTextLength;\n      utf8Count2 += diffByteLength;\n    }\n  }\n  if (patchDiffLength) {\n    addContext(patch, prepatchText, options);\n    patches.push(patch);\n  }\n  return patches;\n}\nfunction addContext(patch, text, opts) {\n  if (text.length === 0) {\n    return;\n  }\n  let pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  let padding = 0;\n  while (text.indexOf(pattern) !== text.lastIndexOf(pattern) && pattern.length < MAX_BITS - opts.margin - opts.margin) {\n    padding += opts.margin;\n    pattern = text.substring(patch.start2 - padding, patch.start2 + patch.length1 + padding);\n  }\n  padding += opts.margin;\n  let prefixStart = patch.start2 - padding;\n  if (prefixStart >= 1 && isLowSurrogate(text[prefixStart])) {\n    prefixStart--;\n  }\n  const prefix = text.substring(prefixStart, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift([DIFF_EQUAL, prefix]);\n  }\n  const prefixLength = prefix.length;\n  const prefixUtf8Length = countUtf8Bytes(prefix);\n  let suffixEnd = patch.start2 + patch.length1 + padding;\n  if (suffixEnd < text.length && isLowSurrogate(text[suffixEnd])) {\n    suffixEnd++;\n  }\n  const suffix = text.substring(patch.start2 + patch.length1, suffixEnd);\n  if (suffix) {\n    patch.diffs.push([DIFF_EQUAL, suffix]);\n  }\n  const suffixLength = suffix.length;\n  const suffixUtf8Length = countUtf8Bytes(suffix);\n  patch.start1 -= prefixLength;\n  patch.start2 -= prefixLength;\n  patch.utf8Start1 -= prefixUtf8Length;\n  patch.utf8Start2 -= prefixUtf8Length;\n  patch.length1 += prefixLength + suffixLength;\n  patch.length2 += prefixLength + suffixLength;\n  patch.utf8Length1 += prefixUtf8Length + suffixUtf8Length;\n  patch.utf8Length2 += prefixUtf8Length + suffixUtf8Length;\n}\nfunction levenshtein(diffs) {\n  let leven = 0;\n  let insertions = 0;\n  let deletions = 0;\n  for (let x = 0; x < diffs.length; x++) {\n    const op = diffs[x][0];\n    const data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        leven += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n      default:\n        throw new Error(\"Unknown diff operation.\");\n    }\n  }\n  leven += Math.max(insertions, deletions);\n  return leven;\n}\nfunction xIndex(diffs, loc) {\n  let chars1 = 0;\n  let chars2 = 0;\n  let lastChars1 = 0;\n  let lastChars2 = 0;\n  let x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {\n      break;\n    }\n    lastChars1 = chars1;\n    lastChars2 = chars2;\n  }\n  if (diffs.length !== x && diffs[x][0] === DIFF_DELETE) {\n    return lastChars2;\n  }\n  return lastChars2 + (loc - lastChars1);\n}\nfunction addPadding(patches) {\n  let margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_MARGIN;\n  const paddingLength = margin;\n  let nullPadding = \"\";\n  for (let x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n  for (const p of patches) {\n    p.start1 += paddingLength;\n    p.start2 += paddingLength;\n    p.utf8Start1 += paddingLength;\n    p.utf8Start2 += paddingLength;\n  }\n  let patch = patches[0];\n  let diffs = patch.diffs;\n  if (diffs.length === 0 || diffs[0][0] !== DIFF_EQUAL) {\n    diffs.unshift([DIFF_EQUAL, nullPadding]);\n    patch.start1 -= paddingLength;\n    patch.start2 -= paddingLength;\n    patch.utf8Start1 -= paddingLength;\n    patch.utf8Start2 -= paddingLength;\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n    patch.utf8Length1 += paddingLength;\n    patch.utf8Length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    const firstDiffLength = diffs[0][1].length;\n    const extraLength = paddingLength - firstDiffLength;\n    diffs[0][1] = nullPadding.substring(firstDiffLength) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.utf8Start1 -= extraLength;\n    patch.utf8Start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n    patch.utf8Length1 += extraLength;\n    patch.utf8Length2 += extraLength;\n  }\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length === 0 || diffs[diffs.length - 1][0] !== DIFF_EQUAL) {\n    diffs.push([DIFF_EQUAL, nullPadding]);\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n    patch.utf8Length1 += paddingLength;\n    patch.utf8Length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    const extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n    patch.utf8Length1 += extraLength;\n    patch.utf8Length2 += extraLength;\n  }\n  return nullPadding;\n}\nfunction splitMax(patches) {\n  let margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_MARGIN;\n  const patchSize = MAX_BITS;\n  for (let x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patchSize) {\n      continue;\n    }\n    const bigpatch = patches[x];\n    patches.splice(x--, 1);\n    let start1 = bigpatch.start1;\n    let start2 = bigpatch.start2;\n    let preContext = \"\";\n    while (bigpatch.diffs.length !== 0) {\n      const patch = createPatchObject(start1 - preContext.length, start2 - preContext.length);\n      let empty = true;\n      if (preContext !== \"\") {\n        const precontextByteCount = countUtf8Bytes(preContext);\n        patch.length1 = preContext.length;\n        patch.utf8Length1 = precontextByteCount;\n        patch.length2 = preContext.length;\n        patch.utf8Length2 = precontextByteCount;\n        patch.diffs.push([DIFF_EQUAL, preContext]);\n      }\n      while (bigpatch.diffs.length !== 0 && patch.length1 < patchSize - margin) {\n        const diffType = bigpatch.diffs[0][0];\n        let diffText = bigpatch.diffs[0][1];\n        let diffTextByteCount = countUtf8Bytes(diffText);\n        if (diffType === DIFF_INSERT) {\n          patch.length2 += diffText.length;\n          patch.utf8Length2 += diffTextByteCount;\n          start2 += diffText.length;\n          const diff = bigpatch.diffs.shift();\n          if (diff) {\n            patch.diffs.push(diff);\n          }\n          empty = false;\n        } else if (diffType === DIFF_DELETE && patch.diffs.length === 1 && patch.diffs[0][0] === DIFF_EQUAL && diffText.length > 2 * patchSize) {\n          patch.length1 += diffText.length;\n          patch.utf8Length1 += diffTextByteCount;\n          start1 += diffText.length;\n          empty = false;\n          patch.diffs.push([diffType, diffText]);\n          bigpatch.diffs.shift();\n        } else {\n          diffText = diffText.substring(0, patchSize - patch.length1 - margin);\n          diffTextByteCount = countUtf8Bytes(diffText);\n          patch.length1 += diffText.length;\n          patch.utf8Length1 += diffTextByteCount;\n          start1 += diffText.length;\n          if (diffType === DIFF_EQUAL) {\n            patch.length2 += diffText.length;\n            patch.utf8Length2 += diffTextByteCount;\n            start2 += diffText.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push([diffType, diffText]);\n          if (diffText === bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] = bigpatch.diffs[0][1].substring(diffText.length);\n          }\n        }\n      }\n      preContext = diffText2(patch.diffs);\n      preContext = preContext.substring(preContext.length - margin);\n      const postContext = diffText1(bigpatch.diffs).substring(0, margin);\n      const postContextByteCount = countUtf8Bytes(postContext);\n      if (postContext !== \"\") {\n        patch.length1 += postContext.length;\n        patch.length2 += postContext.length;\n        patch.utf8Length1 += postContextByteCount;\n        patch.utf8Length2 += postContextByteCount;\n        if (patch.diffs.length !== 0 && patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postContext;\n        } else {\n          patch.diffs.push([DIFF_EQUAL, postContext]);\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n}\nfunction apply(patches, originalText) {\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (typeof patches === \"string\") {\n    throw new Error(\"Patches must be an array - pass the patch to `parsePatch()` first\");\n  }\n  let text = originalText;\n  if (patches.length === 0) {\n    return [text, []];\n  }\n  const parsed = adjustIndiciesToUcs2(patches, text, {\n    allowExceedingIndices: opts.allowExceedingIndices\n  });\n  const margin = opts.margin || DEFAULT_MARGIN;\n  const deleteThreshold = opts.deleteThreshold || 0.4;\n  const nullPadding = addPadding(parsed, margin);\n  text = nullPadding + text + nullPadding;\n  splitMax(parsed, margin);\n  let delta = 0;\n  const results = [];\n  for (let x = 0; x < parsed.length; x++) {\n    const expectedLoc = parsed[x].start2 + delta;\n    const text1 = diffText1(parsed[x].diffs);\n    let startLoc;\n    let endLoc = -1;\n    if (text1.length > MAX_BITS) {\n      startLoc = match(text, text1.substring(0, MAX_BITS), expectedLoc);\n      if (startLoc !== -1) {\n        endLoc = match(text, text1.substring(text1.length - MAX_BITS), expectedLoc + text1.length - MAX_BITS);\n        if (endLoc === -1 || startLoc >= endLoc) {\n          startLoc = -1;\n        }\n      }\n    } else {\n      startLoc = match(text, text1, expectedLoc);\n    }\n    if (startLoc === -1) {\n      results[x] = false;\n      delta -= parsed[x].length2 - parsed[x].length1;\n    } else {\n      results[x] = true;\n      delta = startLoc - expectedLoc;\n      let text2;\n      if (endLoc === -1) {\n        text2 = text.substring(startLoc, startLoc + text1.length);\n      } else {\n        text2 = text.substring(startLoc, endLoc + MAX_BITS);\n      }\n      if (text1 === text2) {\n        text = text.substring(0, startLoc) + diffText2(parsed[x].diffs) + text.substring(startLoc + text1.length);\n      } else {\n        let diffs = diff(text1, text2, {\n          checkLines: false\n        });\n        if (text1.length > MAX_BITS && levenshtein(diffs) / text1.length > deleteThreshold) {\n          results[x] = false;\n        } else {\n          diffs = cleanupSemanticLossless(diffs);\n          let index1 = 0;\n          let index2 = 0;\n          for (let y = 0; y < parsed[x].diffs.length; y++) {\n            const mod = parsed[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {\n              text = text.substring(0, startLoc + index2) + mod[1] + text.substring(startLoc + index2);\n            } else if (mod[0] === DIFF_DELETE) {\n              text = text.substring(0, startLoc + index2) + text.substring(startLoc + xIndex(diffs, index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n}\nfunction stringify(patches) {\n  return patches.map(stringifyPatch).join(\"\");\n}\nfunction stringifyPatch(patch) {\n  const {\n    utf8Length1,\n    utf8Length2,\n    utf8Start1,\n    utf8Start2,\n    diffs\n  } = patch;\n  let coords1;\n  if (utf8Length1 === 0) {\n    coords1 = \"\".concat(utf8Start1, \",0\");\n  } else if (utf8Length1 === 1) {\n    coords1 = \"\".concat(utf8Start1 + 1);\n  } else {\n    coords1 = \"\".concat(utf8Start1 + 1, \",\").concat(utf8Length1);\n  }\n  let coords2;\n  if (utf8Length2 === 0) {\n    coords2 = \"\".concat(utf8Start2, \",0\");\n  } else if (utf8Length2 === 1) {\n    coords2 = \"\".concat(utf8Start2 + 1);\n  } else {\n    coords2 = \"\".concat(utf8Start2 + 1, \",\").concat(utf8Length2);\n  }\n  const text = [\"@@ -\".concat(coords1, \" +\").concat(coords2, \" @@\\n\")];\n  let op;\n  for (let x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        op = \"+\";\n        break;\n      case DIFF_DELETE:\n        op = \"-\";\n        break;\n      case DIFF_EQUAL:\n        op = \" \";\n        break;\n      default:\n        throw new Error(\"Unknown patch operation.\");\n    }\n    text[x + 1] = \"\".concat(op + encodeURI(diffs[x][1]), \"\\n\");\n  }\n  return text.join(\"\").replace(/%20/g, \" \");\n}\nconst patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\nfunction parse(textline) {\n  if (!textline) {\n    return [];\n  }\n  const patches = [];\n  const lines = textline.split(\"\\n\");\n  let textPointer = 0;\n  while (textPointer < lines.length) {\n    const m = lines[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error(\"Invalid patch string: \".concat(lines[textPointer]));\n    }\n    const patch = createPatchObject(toInt(m[1]), toInt(m[3]));\n    patches.push(patch);\n    if (m[2] === \"\") {\n      patch.start1--;\n      patch.utf8Start1--;\n      patch.length1 = 1;\n      patch.utf8Length1 = 1;\n    } else if (m[2] === \"0\") {\n      patch.length1 = 0;\n      patch.utf8Length1 = 0;\n    } else {\n      patch.start1--;\n      patch.utf8Start1--;\n      patch.utf8Length1 = toInt(m[2]);\n      patch.length1 = patch.utf8Length1;\n    }\n    if (m[4] === \"\") {\n      patch.start2--;\n      patch.utf8Start2--;\n      patch.length2 = 1;\n      patch.utf8Length2 = 1;\n    } else if (m[4] === \"0\") {\n      patch.length2 = 0;\n      patch.utf8Length2 = 0;\n    } else {\n      patch.start2--;\n      patch.utf8Start2--;\n      patch.utf8Length2 = toInt(m[4]);\n      patch.length2 = patch.utf8Length2;\n    }\n    textPointer++;\n    while (textPointer < lines.length) {\n      const currentLine = lines[textPointer];\n      const sign = currentLine.charAt(0);\n      if (sign === \"@\") {\n        break;\n      }\n      if (sign === \"\") {\n        textPointer++;\n        continue;\n      }\n      let line;\n      try {\n        line = decodeURI(currentLine.slice(1));\n      } catch (ex) {\n        throw new Error(\"Illegal escape in parse: \".concat(currentLine));\n      }\n      const utf8Diff = countUtf8Bytes(line) - line.length;\n      if (sign === \"-\") {\n        patch.diffs.push([DIFF_DELETE, line]);\n        patch.length1 -= utf8Diff;\n      } else if (sign === \"+\") {\n        patch.diffs.push([DIFF_INSERT, line]);\n        patch.length2 -= utf8Diff;\n      } else if (sign === \" \") {\n        patch.diffs.push([DIFF_EQUAL, line]);\n        patch.length1 -= utf8Diff;\n        patch.length2 -= utf8Diff;\n      } else {\n        throw new Error(\"Invalid patch mode \\\"\".concat(sign, \"\\\" in: \").concat(line));\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n}\nfunction toInt(num) {\n  return parseInt(num, 10);\n}\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9kaWZmLW1hdGNoLXBhdGNoL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsYUFBYTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLGFBQWE7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGFBQWE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixVQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpQkFBaUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGlCQUFpQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxzQ0FBc0MsUUFBUTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywwRUFBMEU7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0JBQW9CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFlBQVk7QUFDckM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0QztBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsa0JBQWtCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw0QkFBNEI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDbVA7QUFDblAiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvZGlmZi1tYXRjaC1wYXRjaC9kaXN0L2luZGV4LmpzP2RhYzkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNIaWdoU3Vycm9nYXRlKGNoYXIpIHtcbiAgY29uc3QgY2hhckNvZGUgPSBjaGFyLmNoYXJDb2RlQXQoMCk7XG4gIHJldHVybiBjaGFyQ29kZSA+PSA1NTI5NiAmJiBjaGFyQ29kZSA8PSA1NjMxOTtcbn1cbmZ1bmN0aW9uIGlzTG93U3Vycm9nYXRlKGNoYXIpIHtcbiAgY29uc3QgY2hhckNvZGUgPSBjaGFyLmNoYXJDb2RlQXQoMCk7XG4gIHJldHVybiBjaGFyQ29kZSA+PSA1NjMyMCAmJiBjaGFyQ29kZSA8PSA1NzM0Mztcbn1cbmZ1bmN0aW9uIGNsb25lRGlmZihkaWZmKSB7XG4gIGNvbnN0IFt0eXBlLCBwYXRjaF0gPSBkaWZmO1xuICByZXR1cm4gW3R5cGUsIHBhdGNoXTtcbn1cbmZ1bmN0aW9uIGdldENvbW1vbk92ZXJsYXAodGV4dEEsIHRleHRCKSB7XG4gIGxldCB0ZXh0MSA9IHRleHRBO1xuICBsZXQgdGV4dDIgPSB0ZXh0QjtcbiAgY29uc3QgdGV4dDFMZW5ndGggPSB0ZXh0MS5sZW5ndGg7XG4gIGNvbnN0IHRleHQyTGVuZ3RoID0gdGV4dDIubGVuZ3RoO1xuICBpZiAodGV4dDFMZW5ndGggPT09IDAgfHwgdGV4dDJMZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAodGV4dDFMZW5ndGggPiB0ZXh0Mkxlbmd0aCkge1xuICAgIHRleHQxID0gdGV4dDEuc3Vic3RyaW5nKHRleHQxTGVuZ3RoIC0gdGV4dDJMZW5ndGgpO1xuICB9IGVsc2UgaWYgKHRleHQxTGVuZ3RoIDwgdGV4dDJMZW5ndGgpIHtcbiAgICB0ZXh0MiA9IHRleHQyLnN1YnN0cmluZygwLCB0ZXh0MUxlbmd0aCk7XG4gIH1cbiAgY29uc3QgdGV4dExlbmd0aCA9IE1hdGgubWluKHRleHQxTGVuZ3RoLCB0ZXh0Mkxlbmd0aCk7XG4gIGlmICh0ZXh0MSA9PT0gdGV4dDIpIHtcbiAgICByZXR1cm4gdGV4dExlbmd0aDtcbiAgfVxuICBsZXQgYmVzdCA9IDA7XG4gIGxldCBsZW5ndGggPSAxO1xuICBmb3IgKGxldCBmb3VuZCA9IDA7IGZvdW5kICE9PSAtMTspIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gdGV4dDEuc3Vic3RyaW5nKHRleHRMZW5ndGggLSBsZW5ndGgpO1xuICAgIGZvdW5kID0gdGV4dDIuaW5kZXhPZihwYXR0ZXJuKTtcbiAgICBpZiAoZm91bmQgPT09IC0xKSB7XG4gICAgICByZXR1cm4gYmVzdDtcbiAgICB9XG4gICAgbGVuZ3RoICs9IGZvdW5kO1xuICAgIGlmIChmb3VuZCA9PT0gMCB8fCB0ZXh0MS5zdWJzdHJpbmcodGV4dExlbmd0aCAtIGxlbmd0aCkgPT09IHRleHQyLnN1YnN0cmluZygwLCBsZW5ndGgpKSB7XG4gICAgICBiZXN0ID0gbGVuZ3RoO1xuICAgICAgbGVuZ3RoKys7XG4gICAgfVxuICB9XG4gIHJldHVybiBiZXN0O1xufVxuZnVuY3Rpb24gZ2V0Q29tbW9uUHJlZml4KHRleHQxLCB0ZXh0Mikge1xuICBpZiAoIXRleHQxIHx8ICF0ZXh0MiB8fCB0ZXh0MVswXSAhPT0gdGV4dDJbMF0pIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBsZXQgcG9pbnRlck1pbiA9IDA7XG4gIGxldCBwb2ludGVyTWF4ID0gTWF0aC5taW4odGV4dDEubGVuZ3RoLCB0ZXh0Mi5sZW5ndGgpO1xuICBsZXQgcG9pbnRlck1pZCA9IHBvaW50ZXJNYXg7XG4gIGxldCBwb2ludGVyU3RhcnQgPSAwO1xuICB3aGlsZSAocG9pbnRlck1pbiA8IHBvaW50ZXJNaWQpIHtcbiAgICBpZiAodGV4dDEuc3Vic3RyaW5nKHBvaW50ZXJTdGFydCwgcG9pbnRlck1pZCkgPT09IHRleHQyLnN1YnN0cmluZyhwb2ludGVyU3RhcnQsIHBvaW50ZXJNaWQpKSB7XG4gICAgICBwb2ludGVyTWluID0gcG9pbnRlck1pZDtcbiAgICAgIHBvaW50ZXJTdGFydCA9IHBvaW50ZXJNaW47XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50ZXJNYXggPSBwb2ludGVyTWlkO1xuICAgIH1cbiAgICBwb2ludGVyTWlkID0gTWF0aC5mbG9vcigocG9pbnRlck1heCAtIHBvaW50ZXJNaW4pIC8gMiArIHBvaW50ZXJNaW4pO1xuICB9XG4gIHJldHVybiBwb2ludGVyTWlkO1xufVxuZnVuY3Rpb24gZ2V0Q29tbW9uU3VmZml4KHRleHQxLCB0ZXh0Mikge1xuICBpZiAoIXRleHQxIHx8ICF0ZXh0MiB8fCB0ZXh0MVt0ZXh0MS5sZW5ndGggLSAxXSAhPT0gdGV4dDJbdGV4dDIubGVuZ3RoIC0gMV0pIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBsZXQgcG9pbnRlck1pbiA9IDA7XG4gIGxldCBwb2ludGVyTWF4ID0gTWF0aC5taW4odGV4dDEubGVuZ3RoLCB0ZXh0Mi5sZW5ndGgpO1xuICBsZXQgcG9pbnRlck1pZCA9IHBvaW50ZXJNYXg7XG4gIGxldCBwb2ludGVyRW5kID0gMDtcbiAgd2hpbGUgKHBvaW50ZXJNaW4gPCBwb2ludGVyTWlkKSB7XG4gICAgaWYgKHRleHQxLnN1YnN0cmluZyh0ZXh0MS5sZW5ndGggLSBwb2ludGVyTWlkLCB0ZXh0MS5sZW5ndGggLSBwb2ludGVyRW5kKSA9PT0gdGV4dDIuc3Vic3RyaW5nKHRleHQyLmxlbmd0aCAtIHBvaW50ZXJNaWQsIHRleHQyLmxlbmd0aCAtIHBvaW50ZXJFbmQpKSB7XG4gICAgICBwb2ludGVyTWluID0gcG9pbnRlck1pZDtcbiAgICAgIHBvaW50ZXJFbmQgPSBwb2ludGVyTWluO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludGVyTWF4ID0gcG9pbnRlck1pZDtcbiAgICB9XG4gICAgcG9pbnRlck1pZCA9IE1hdGguZmxvb3IoKHBvaW50ZXJNYXggLSBwb2ludGVyTWluKSAvIDIgKyBwb2ludGVyTWluKTtcbiAgfVxuICByZXR1cm4gcG9pbnRlck1pZDtcbn1cbmZ1bmN0aW9uIGNsZWFudXBTZW1hbnRpYyhyYXdEaWZmcykge1xuICBsZXQgZGlmZnMgPSByYXdEaWZmcy5tYXAoZGlmZiA9PiBjbG9uZURpZmYoZGlmZikpO1xuICBsZXQgaGFzQ2hhbmdlcyA9IGZhbHNlO1xuICBjb25zdCBlcXVhbGl0aWVzID0gW107XG4gIGxldCBlcXVhbGl0aWVzTGVuZ3RoID0gMDtcbiAgbGV0IGxhc3RFcXVhbGl0eSA9IG51bGw7XG4gIGxldCBwb2ludGVyID0gMDtcbiAgbGV0IGxlbmd0aEluc2VydGlvbnMxID0gMDtcbiAgbGV0IGxlbmd0aERlbGV0aW9uczEgPSAwO1xuICBsZXQgbGVuZ3RoSW5zZXJ0aW9uczIgPSAwO1xuICBsZXQgbGVuZ3RoRGVsZXRpb25zMiA9IDA7XG4gIHdoaWxlIChwb2ludGVyIDwgZGlmZnMubGVuZ3RoKSB7XG4gICAgaWYgKGRpZmZzW3BvaW50ZXJdWzBdID09PSBESUZGX0VRVUFMKSB7XG4gICAgICBlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGgrK10gPSBwb2ludGVyO1xuICAgICAgbGVuZ3RoSW5zZXJ0aW9uczEgPSBsZW5ndGhJbnNlcnRpb25zMjtcbiAgICAgIGxlbmd0aERlbGV0aW9uczEgPSBsZW5ndGhEZWxldGlvbnMyO1xuICAgICAgbGVuZ3RoSW5zZXJ0aW9uczIgPSAwO1xuICAgICAgbGVuZ3RoRGVsZXRpb25zMiA9IDA7XG4gICAgICBsYXN0RXF1YWxpdHkgPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRpZmZzW3BvaW50ZXJdWzBdID09PSBESUZGX0lOU0VSVCkge1xuICAgICAgICBsZW5ndGhJbnNlcnRpb25zMiArPSBkaWZmc1twb2ludGVyXVsxXS5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZW5ndGhEZWxldGlvbnMyICs9IGRpZmZzW3BvaW50ZXJdWzFdLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChsYXN0RXF1YWxpdHkgJiYgbGFzdEVxdWFsaXR5Lmxlbmd0aCA8PSBNYXRoLm1heChsZW5ndGhJbnNlcnRpb25zMSwgbGVuZ3RoRGVsZXRpb25zMSkgJiYgbGFzdEVxdWFsaXR5Lmxlbmd0aCA8PSBNYXRoLm1heChsZW5ndGhJbnNlcnRpb25zMiwgbGVuZ3RoRGVsZXRpb25zMikpIHtcbiAgICAgICAgZGlmZnMuc3BsaWNlKGVxdWFsaXRpZXNbZXF1YWxpdGllc0xlbmd0aCAtIDFdLCAwLCBbRElGRl9ERUxFVEUsIGxhc3RFcXVhbGl0eV0pO1xuICAgICAgICBkaWZmc1tlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXSArIDFdWzBdID0gRElGRl9JTlNFUlQ7XG4gICAgICAgIGVxdWFsaXRpZXNMZW5ndGgtLTtcbiAgICAgICAgZXF1YWxpdGllc0xlbmd0aC0tO1xuICAgICAgICBwb2ludGVyID0gZXF1YWxpdGllc0xlbmd0aCA+IDAgPyBlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXSA6IC0xO1xuICAgICAgICBsZW5ndGhJbnNlcnRpb25zMSA9IDA7XG4gICAgICAgIGxlbmd0aERlbGV0aW9uczEgPSAwO1xuICAgICAgICBsZW5ndGhJbnNlcnRpb25zMiA9IDA7XG4gICAgICAgIGxlbmd0aERlbGV0aW9uczIgPSAwO1xuICAgICAgICBsYXN0RXF1YWxpdHkgPSBudWxsO1xuICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9pbnRlcisrO1xuICB9XG4gIGlmIChoYXNDaGFuZ2VzKSB7XG4gICAgZGlmZnMgPSBjbGVhbnVwTWVyZ2UoZGlmZnMpO1xuICB9XG4gIGRpZmZzID0gY2xlYW51cFNlbWFudGljTG9zc2xlc3MoZGlmZnMpO1xuICBwb2ludGVyID0gMTtcbiAgd2hpbGUgKHBvaW50ZXIgPCBkaWZmcy5sZW5ndGgpIHtcbiAgICBpZiAoZGlmZnNbcG9pbnRlciAtIDFdWzBdID09PSBESUZGX0RFTEVURSAmJiBkaWZmc1twb2ludGVyXVswXSA9PT0gRElGRl9JTlNFUlQpIHtcbiAgICAgIGNvbnN0IGRlbGV0aW9uID0gZGlmZnNbcG9pbnRlciAtIDFdWzFdO1xuICAgICAgY29uc3QgaW5zZXJ0aW9uID0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICBjb25zdCBvdmVybGFwTGVuZ3RoMSA9IGdldENvbW1vbk92ZXJsYXAoZGVsZXRpb24sIGluc2VydGlvbik7XG4gICAgICBjb25zdCBvdmVybGFwTGVuZ3RoMiA9IGdldENvbW1vbk92ZXJsYXAoaW5zZXJ0aW9uLCBkZWxldGlvbik7XG4gICAgICBpZiAob3ZlcmxhcExlbmd0aDEgPj0gb3ZlcmxhcExlbmd0aDIpIHtcbiAgICAgICAgaWYgKG92ZXJsYXBMZW5ndGgxID49IGRlbGV0aW9uLmxlbmd0aCAvIDIgfHwgb3ZlcmxhcExlbmd0aDEgPj0gaW5zZXJ0aW9uLmxlbmd0aCAvIDIpIHtcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMCwgW0RJRkZfRVFVQUwsIGluc2VydGlvbi5zdWJzdHJpbmcoMCwgb3ZlcmxhcExlbmd0aDEpXSk7XG4gICAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdID0gZGVsZXRpb24uc3Vic3RyaW5nKDAsIGRlbGV0aW9uLmxlbmd0aCAtIG92ZXJsYXBMZW5ndGgxKTtcbiAgICAgICAgICBkaWZmc1twb2ludGVyICsgMV1bMV0gPSBpbnNlcnRpb24uc3Vic3RyaW5nKG92ZXJsYXBMZW5ndGgxKTtcbiAgICAgICAgICBwb2ludGVyKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob3ZlcmxhcExlbmd0aDIgPj0gZGVsZXRpb24ubGVuZ3RoIC8gMiB8fCBvdmVybGFwTGVuZ3RoMiA+PSBpbnNlcnRpb24ubGVuZ3RoIC8gMikge1xuICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMCwgW0RJRkZfRVFVQUwsIGRlbGV0aW9uLnN1YnN0cmluZygwLCBvdmVybGFwTGVuZ3RoMildKTtcbiAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzBdID0gRElGRl9JTlNFUlQ7XG4gICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXSA9IGluc2VydGlvbi5zdWJzdHJpbmcoMCwgaW5zZXJ0aW9uLmxlbmd0aCAtIG92ZXJsYXBMZW5ndGgyKTtcbiAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzBdID0gRElGRl9ERUxFVEU7XG4gICAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVsxXSA9IGRlbGV0aW9uLnN1YnN0cmluZyhvdmVybGFwTGVuZ3RoMik7XG4gICAgICAgIHBvaW50ZXIrKztcbiAgICAgIH1cbiAgICAgIHBvaW50ZXIrKztcbiAgICB9XG4gICAgcG9pbnRlcisrO1xuICB9XG4gIHJldHVybiBkaWZmcztcbn1cbmNvbnN0IG5vbkFscGhhTnVtZXJpY1JlZ2V4ID0gL1teYS16QS1aMC05XS87XG5jb25zdCB3aGl0ZXNwYWNlUmVnZXggPSAvXFxzLztcbmNvbnN0IGxpbmVicmVha1JlZ2V4ID0gL1tcXHJcXG5dLztcbmNvbnN0IGJsYW5rbGluZUVuZFJlZ2V4ID0gL1xcblxccj9cXG4kLztcbmNvbnN0IGJsYW5rbGluZVN0YXJ0UmVnZXggPSAvXlxccj9cXG5cXHI/XFxuLztcbmZ1bmN0aW9uIGNsZWFudXBTZW1hbnRpY0xvc3NsZXNzKHJhd0RpZmZzKSB7XG4gIGNvbnN0IGRpZmZzID0gcmF3RGlmZnMubWFwKGRpZmYgPT4gY2xvbmVEaWZmKGRpZmYpKTtcbiAgZnVuY3Rpb24gZGlmZkNsZWFudXBTZW1hbnRpY1Njb3JlKG9uZSwgdHdvKSB7XG4gICAgaWYgKCFvbmUgfHwgIXR3bykge1xuICAgICAgcmV0dXJuIDY7XG4gICAgfVxuICAgIGNvbnN0IGNoYXIxID0gb25lLmNoYXJBdChvbmUubGVuZ3RoIC0gMSk7XG4gICAgY29uc3QgY2hhcjIgPSB0d28uY2hhckF0KDApO1xuICAgIGNvbnN0IG5vbkFscGhhTnVtZXJpYzEgPSBjaGFyMS5tYXRjaChub25BbHBoYU51bWVyaWNSZWdleCk7XG4gICAgY29uc3Qgbm9uQWxwaGFOdW1lcmljMiA9IGNoYXIyLm1hdGNoKG5vbkFscGhhTnVtZXJpY1JlZ2V4KTtcbiAgICBjb25zdCB3aGl0ZXNwYWNlMSA9IG5vbkFscGhhTnVtZXJpYzEgJiYgY2hhcjEubWF0Y2god2hpdGVzcGFjZVJlZ2V4KTtcbiAgICBjb25zdCB3aGl0ZXNwYWNlMiA9IG5vbkFscGhhTnVtZXJpYzIgJiYgY2hhcjIubWF0Y2god2hpdGVzcGFjZVJlZ2V4KTtcbiAgICBjb25zdCBsaW5lQnJlYWsxID0gd2hpdGVzcGFjZTEgJiYgY2hhcjEubWF0Y2gobGluZWJyZWFrUmVnZXgpO1xuICAgIGNvbnN0IGxpbmVCcmVhazIgPSB3aGl0ZXNwYWNlMiAmJiBjaGFyMi5tYXRjaChsaW5lYnJlYWtSZWdleCk7XG4gICAgY29uc3QgYmxhbmtMaW5lMSA9IGxpbmVCcmVhazEgJiYgb25lLm1hdGNoKGJsYW5rbGluZUVuZFJlZ2V4KTtcbiAgICBjb25zdCBibGFua0xpbmUyID0gbGluZUJyZWFrMiAmJiB0d28ubWF0Y2goYmxhbmtsaW5lU3RhcnRSZWdleCk7XG4gICAgaWYgKGJsYW5rTGluZTEgfHwgYmxhbmtMaW5lMikge1xuICAgICAgcmV0dXJuIDU7XG4gICAgfSBlbHNlIGlmIChsaW5lQnJlYWsxIHx8IGxpbmVCcmVhazIpIHtcbiAgICAgIHJldHVybiA0O1xuICAgIH0gZWxzZSBpZiAobm9uQWxwaGFOdW1lcmljMSAmJiAhd2hpdGVzcGFjZTEgJiYgd2hpdGVzcGFjZTIpIHtcbiAgICAgIHJldHVybiAzO1xuICAgIH0gZWxzZSBpZiAod2hpdGVzcGFjZTEgfHwgd2hpdGVzcGFjZTIpIHtcbiAgICAgIHJldHVybiAyO1xuICAgIH0gZWxzZSBpZiAobm9uQWxwaGFOdW1lcmljMSB8fCBub25BbHBoYU51bWVyaWMyKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgbGV0IHBvaW50ZXIgPSAxO1xuICB3aGlsZSAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCAtIDEpIHtcbiAgICBpZiAoZGlmZnNbcG9pbnRlciAtIDFdWzBdID09PSBESUZGX0VRVUFMICYmIGRpZmZzW3BvaW50ZXIgKyAxXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgbGV0IGVxdWFsaXR5MSA9IGRpZmZzW3BvaW50ZXIgLSAxXVsxXTtcbiAgICAgIGxldCBlZGl0ID0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICBsZXQgZXF1YWxpdHkyID0gZGlmZnNbcG9pbnRlciArIDFdWzFdO1xuICAgICAgY29uc3QgY29tbW9uT2Zmc2V0ID0gZ2V0Q29tbW9uU3VmZml4KGVxdWFsaXR5MSwgZWRpdCk7XG4gICAgICBpZiAoY29tbW9uT2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IGNvbW1vblN0cmluZyA9IGVkaXQuc3Vic3RyaW5nKGVkaXQubGVuZ3RoIC0gY29tbW9uT2Zmc2V0KTtcbiAgICAgICAgZXF1YWxpdHkxID0gZXF1YWxpdHkxLnN1YnN0cmluZygwLCBlcXVhbGl0eTEubGVuZ3RoIC0gY29tbW9uT2Zmc2V0KTtcbiAgICAgICAgZWRpdCA9IGNvbW1vblN0cmluZyArIGVkaXQuc3Vic3RyaW5nKDAsIGVkaXQubGVuZ3RoIC0gY29tbW9uT2Zmc2V0KTtcbiAgICAgICAgZXF1YWxpdHkyID0gY29tbW9uU3RyaW5nICsgZXF1YWxpdHkyO1xuICAgICAgfVxuICAgICAgbGV0IGJlc3RFcXVhbGl0eTEgPSBlcXVhbGl0eTE7XG4gICAgICBsZXQgYmVzdEVkaXQgPSBlZGl0O1xuICAgICAgbGV0IGJlc3RFcXVhbGl0eTIgPSBlcXVhbGl0eTI7XG4gICAgICBsZXQgYmVzdFNjb3JlID0gZGlmZkNsZWFudXBTZW1hbnRpY1Njb3JlKGVxdWFsaXR5MSwgZWRpdCkgKyBkaWZmQ2xlYW51cFNlbWFudGljU2NvcmUoZWRpdCwgZXF1YWxpdHkyKTtcbiAgICAgIHdoaWxlIChlZGl0LmNoYXJBdCgwKSA9PT0gZXF1YWxpdHkyLmNoYXJBdCgwKSkge1xuICAgICAgICBlcXVhbGl0eTEgKz0gZWRpdC5jaGFyQXQoMCk7XG4gICAgICAgIGVkaXQgPSBlZGl0LnN1YnN0cmluZygxKSArIGVxdWFsaXR5Mi5jaGFyQXQoMCk7XG4gICAgICAgIGVxdWFsaXR5MiA9IGVxdWFsaXR5Mi5zdWJzdHJpbmcoMSk7XG4gICAgICAgIGNvbnN0IHNjb3JlID0gZGlmZkNsZWFudXBTZW1hbnRpY1Njb3JlKGVxdWFsaXR5MSwgZWRpdCkgKyBkaWZmQ2xlYW51cFNlbWFudGljU2NvcmUoZWRpdCwgZXF1YWxpdHkyKTtcbiAgICAgICAgaWYgKHNjb3JlID49IGJlc3RTY29yZSkge1xuICAgICAgICAgIGJlc3RTY29yZSA9IHNjb3JlO1xuICAgICAgICAgIGJlc3RFcXVhbGl0eTEgPSBlcXVhbGl0eTE7XG4gICAgICAgICAgYmVzdEVkaXQgPSBlZGl0O1xuICAgICAgICAgIGJlc3RFcXVhbGl0eTIgPSBlcXVhbGl0eTI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkaWZmc1twb2ludGVyIC0gMV1bMV0gIT09IGJlc3RFcXVhbGl0eTEpIHtcbiAgICAgICAgaWYgKGJlc3RFcXVhbGl0eTEpIHtcbiAgICAgICAgICBkaWZmc1twb2ludGVyIC0gMV1bMV0gPSBiZXN0RXF1YWxpdHkxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyIC0gMSwgMSk7XG4gICAgICAgICAgcG9pbnRlci0tO1xuICAgICAgICB9XG4gICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdID0gYmVzdEVkaXQ7XG4gICAgICAgIGlmIChiZXN0RXF1YWxpdHkyKSB7XG4gICAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzFdID0gYmVzdEVxdWFsaXR5MjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciArIDEsIDEpO1xuICAgICAgICAgIHBvaW50ZXItLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBwb2ludGVyKys7XG4gIH1cbiAgcmV0dXJuIGRpZmZzO1xufVxuZnVuY3Rpb24gY2xlYW51cE1lcmdlKHJhd0RpZmZzKSB7XG4gIGxldCBkaWZmcyA9IHJhd0RpZmZzLm1hcChkaWZmID0+IGNsb25lRGlmZihkaWZmKSk7XG4gIGRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIFwiXCJdKTtcbiAgbGV0IHBvaW50ZXIgPSAwO1xuICBsZXQgY291bnREZWxldGUgPSAwO1xuICBsZXQgY291bnRJbnNlcnQgPSAwO1xuICBsZXQgdGV4dERlbGV0ZSA9IFwiXCI7XG4gIGxldCB0ZXh0SW5zZXJ0ID0gXCJcIjtcbiAgbGV0IGNvbW1vbmxlbmd0aDtcbiAgd2hpbGUgKHBvaW50ZXIgPCBkaWZmcy5sZW5ndGgpIHtcbiAgICBzd2l0Y2ggKGRpZmZzW3BvaW50ZXJdWzBdKSB7XG4gICAgICBjYXNlIERJRkZfSU5TRVJUOlxuICAgICAgICBjb3VudEluc2VydCsrO1xuICAgICAgICB0ZXh0SW5zZXJ0ICs9IGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgICAgICBwb2ludGVyKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0RFTEVURTpcbiAgICAgICAgY291bnREZWxldGUrKztcbiAgICAgICAgdGV4dERlbGV0ZSArPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9FUVVBTDpcbiAgICAgICAgaWYgKGNvdW50RGVsZXRlICsgY291bnRJbnNlcnQgPiAxKSB7XG4gICAgICAgICAgaWYgKGNvdW50RGVsZXRlICE9PSAwICYmIGNvdW50SW5zZXJ0ICE9PSAwKSB7XG4gICAgICAgICAgICBjb21tb25sZW5ndGggPSBnZXRDb21tb25QcmVmaXgodGV4dEluc2VydCwgdGV4dERlbGV0ZSk7XG4gICAgICAgICAgICBpZiAoY29tbW9ubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgIGlmIChwb2ludGVyIC0gY291bnREZWxldGUgLSBjb3VudEluc2VydCA+IDAgJiYgZGlmZnNbcG9pbnRlciAtIGNvdW50RGVsZXRlIC0gY291bnRJbnNlcnQgLSAxXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSBjb3VudERlbGV0ZSAtIGNvdW50SW5zZXJ0IC0gMV1bMV0gKz0gdGV4dEluc2VydC5zdWJzdHJpbmcoMCwgY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaWZmcy5zcGxpY2UoMCwgMCwgW0RJRkZfRVFVQUwsIHRleHRJbnNlcnQuc3Vic3RyaW5nKDAsIGNvbW1vbmxlbmd0aCldKTtcbiAgICAgICAgICAgICAgICBwb2ludGVyKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGV4dEluc2VydCA9IHRleHRJbnNlcnQuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCk7XG4gICAgICAgICAgICAgIHRleHREZWxldGUgPSB0ZXh0RGVsZXRlLnN1YnN0cmluZyhjb21tb25sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9ubGVuZ3RoID0gZ2V0Q29tbW9uU3VmZml4KHRleHRJbnNlcnQsIHRleHREZWxldGUpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBkaWZmc1twb2ludGVyXVsxXSA9IHRleHRJbnNlcnQuc3Vic3RyaW5nKHRleHRJbnNlcnQubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKSArIGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgICAgICAgICAgICB0ZXh0SW5zZXJ0ID0gdGV4dEluc2VydC5zdWJzdHJpbmcoMCwgdGV4dEluc2VydC5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICAgICAgICAgICAgICB0ZXh0RGVsZXRlID0gdGV4dERlbGV0ZS5zdWJzdHJpbmcoMCwgdGV4dERlbGV0ZS5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwb2ludGVyIC09IGNvdW50RGVsZXRlICsgY291bnRJbnNlcnQ7XG4gICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIsIGNvdW50RGVsZXRlICsgY291bnRJbnNlcnQpO1xuICAgICAgICAgIGlmICh0ZXh0RGVsZXRlLmxlbmd0aCkge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIsIDAsIFtESUZGX0RFTEVURSwgdGV4dERlbGV0ZV0pO1xuICAgICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGV4dEluc2VydC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyLCAwLCBbRElGRl9JTlNFUlQsIHRleHRJbnNlcnRdKTtcbiAgICAgICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICB9IGVsc2UgaWYgKHBvaW50ZXIgIT09IDAgJiYgZGlmZnNbcG9pbnRlciAtIDFdWzBdID09PSBESUZGX0VRVUFMKSB7XG4gICAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdICs9IGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb2ludGVyKys7XG4gICAgICAgIH1cbiAgICAgICAgY291bnRJbnNlcnQgPSAwO1xuICAgICAgICBjb3VudERlbGV0ZSA9IDA7XG4gICAgICAgIHRleHREZWxldGUgPSBcIlwiO1xuICAgICAgICB0ZXh0SW5zZXJ0ID0gXCJcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRpZmYgb3BlcmF0aW9uXCIpO1xuICAgIH1cbiAgfVxuICBpZiAoZGlmZnNbZGlmZnMubGVuZ3RoIC0gMV1bMV0gPT09IFwiXCIpIHtcbiAgICBkaWZmcy5wb3AoKTtcbiAgfVxuICBsZXQgaGFzQ2hhbmdlcyA9IGZhbHNlO1xuICBwb2ludGVyID0gMTtcbiAgd2hpbGUgKHBvaW50ZXIgPCBkaWZmcy5sZW5ndGggLSAxKSB7XG4gICAgaWYgKGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9PT0gRElGRl9FUVVBTCAmJiBkaWZmc1twb2ludGVyICsgMV1bMF0gPT09IERJRkZfRVFVQUwpIHtcbiAgICAgIGlmIChkaWZmc1twb2ludGVyXVsxXS5zdWJzdHJpbmcoZGlmZnNbcG9pbnRlcl1bMV0ubGVuZ3RoIC0gZGlmZnNbcG9pbnRlciAtIDFdWzFdLmxlbmd0aCkgPT09IGRpZmZzW3BvaW50ZXIgLSAxXVsxXSkge1xuICAgICAgICBkaWZmc1twb2ludGVyXVsxXSA9IGRpZmZzW3BvaW50ZXIgLSAxXVsxXSArIGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZygwLCBkaWZmc1twb2ludGVyXVsxXS5sZW5ndGggLSBkaWZmc1twb2ludGVyIC0gMV1bMV0ubGVuZ3RoKTtcbiAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzFdID0gZGlmZnNbcG9pbnRlciAtIDFdWzFdICsgZGlmZnNbcG9pbnRlciArIDFdWzFdO1xuICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciAtIDEsIDEpO1xuICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZGlmZnNbcG9pbnRlcl1bMV0uc3Vic3RyaW5nKDAsIGRpZmZzW3BvaW50ZXIgKyAxXVsxXS5sZW5ndGgpID09PSBkaWZmc1twb2ludGVyICsgMV1bMV0pIHtcbiAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdICs9IGRpZmZzW3BvaW50ZXIgKyAxXVsxXTtcbiAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPSBkaWZmc1twb2ludGVyXVsxXS5zdWJzdHJpbmcoZGlmZnNbcG9pbnRlciArIDFdWzFdLmxlbmd0aCkgKyBkaWZmc1twb2ludGVyICsgMV1bMV07XG4gICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyICsgMSwgMSk7XG4gICAgICAgIGhhc0NoYW5nZXMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBwb2ludGVyKys7XG4gIH1cbiAgaWYgKGhhc0NoYW5nZXMpIHtcbiAgICBkaWZmcyA9IGNsZWFudXBNZXJnZShkaWZmcyk7XG4gIH1cbiAgcmV0dXJuIGRpZmZzO1xufVxuZnVuY3Rpb24gdHJ1ZUNvdW50KCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG4gIHJldHVybiBhcmdzLnJlZHVjZSgobiwgYm9vbCkgPT4gbiArIChib29sID8gMSA6IDApLCAwKTtcbn1cbmZ1bmN0aW9uIGNsZWFudXBFZmZpY2llbmN5KHJhd0RpZmZzKSB7XG4gIGxldCBlZGl0Q29zdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogNDtcbiAgbGV0IGRpZmZzID0gcmF3RGlmZnMubWFwKGRpZmYgPT4gY2xvbmVEaWZmKGRpZmYpKTtcbiAgbGV0IGhhc0NoYW5nZXMgPSBmYWxzZTtcbiAgY29uc3QgZXF1YWxpdGllcyA9IFtdO1xuICBsZXQgZXF1YWxpdGllc0xlbmd0aCA9IDA7XG4gIGxldCBsYXN0RXF1YWxpdHkgPSBudWxsO1xuICBsZXQgcG9pbnRlciA9IDA7XG4gIGxldCBwcmVJbnMgPSBmYWxzZTtcbiAgbGV0IHByZURlbCA9IGZhbHNlO1xuICBsZXQgcG9zdElucyA9IGZhbHNlO1xuICBsZXQgcG9zdERlbCA9IGZhbHNlO1xuICB3aGlsZSAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCkge1xuICAgIGlmIChkaWZmc1twb2ludGVyXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgaWYgKGRpZmZzW3BvaW50ZXJdWzFdLmxlbmd0aCA8IGVkaXRDb3N0ICYmIChwb3N0SW5zIHx8IHBvc3REZWwpKSB7XG4gICAgICAgIGVxdWFsaXRpZXNbZXF1YWxpdGllc0xlbmd0aCsrXSA9IHBvaW50ZXI7XG4gICAgICAgIHByZUlucyA9IHBvc3RJbnM7XG4gICAgICAgIHByZURlbCA9IHBvc3REZWw7XG4gICAgICAgIGxhc3RFcXVhbGl0eSA9IGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXF1YWxpdGllc0xlbmd0aCA9IDA7XG4gICAgICAgIGxhc3RFcXVhbGl0eSA9IG51bGw7XG4gICAgICB9XG4gICAgICBwb3N0SW5zID0gZmFsc2U7XG4gICAgICBwb3N0RGVsID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkaWZmc1twb2ludGVyXVswXSA9PT0gRElGRl9ERUxFVEUpIHtcbiAgICAgICAgcG9zdERlbCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwb3N0SW5zID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChsYXN0RXF1YWxpdHkgJiYgKHByZUlucyAmJiBwcmVEZWwgJiYgcG9zdElucyAmJiBwb3N0RGVsIHx8IGxhc3RFcXVhbGl0eS5sZW5ndGggPCBlZGl0Q29zdCAvIDIgJiYgdHJ1ZUNvdW50KHByZUlucywgcHJlRGVsLCBwb3N0SW5zLCBwb3N0RGVsKSA9PT0gMykpIHtcbiAgICAgICAgZGlmZnMuc3BsaWNlKGVxdWFsaXRpZXNbZXF1YWxpdGllc0xlbmd0aCAtIDFdLCAwLCBbRElGRl9ERUxFVEUsIGxhc3RFcXVhbGl0eV0pO1xuICAgICAgICBkaWZmc1tlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXSArIDFdWzBdID0gRElGRl9JTlNFUlQ7XG4gICAgICAgIGVxdWFsaXRpZXNMZW5ndGgtLTtcbiAgICAgICAgbGFzdEVxdWFsaXR5ID0gbnVsbDtcbiAgICAgICAgaWYgKHByZUlucyAmJiBwcmVEZWwpIHtcbiAgICAgICAgICBwb3N0SW5zID0gdHJ1ZTtcbiAgICAgICAgICBwb3N0RGVsID0gdHJ1ZTtcbiAgICAgICAgICBlcXVhbGl0aWVzTGVuZ3RoID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlcXVhbGl0aWVzTGVuZ3RoLS07XG4gICAgICAgICAgcG9pbnRlciA9IGVxdWFsaXRpZXNMZW5ndGggPiAwID8gZXF1YWxpdGllc1tlcXVhbGl0aWVzTGVuZ3RoIC0gMV0gOiAtMTtcbiAgICAgICAgICBwb3N0SW5zID0gZmFsc2U7XG4gICAgICAgICAgcG9zdERlbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGhhc0NoYW5nZXMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBwb2ludGVyKys7XG4gIH1cbiAgaWYgKGhhc0NoYW5nZXMpIHtcbiAgICBkaWZmcyA9IGNsZWFudXBNZXJnZShkaWZmcyk7XG4gIH1cbiAgcmV0dXJuIGRpZmZzO1xufVxuZnVuY3Rpb24gYmlzZWN0KHRleHQxLCB0ZXh0MiwgZGVhZGxpbmUpIHtcbiAgY29uc3QgdGV4dDFMZW5ndGggPSB0ZXh0MS5sZW5ndGg7XG4gIGNvbnN0IHRleHQyTGVuZ3RoID0gdGV4dDIubGVuZ3RoO1xuICBjb25zdCBtYXhEID0gTWF0aC5jZWlsKCh0ZXh0MUxlbmd0aCArIHRleHQyTGVuZ3RoKSAvIDIpO1xuICBjb25zdCB2T2Zmc2V0ID0gbWF4RDtcbiAgY29uc3Qgdkxlbmd0aCA9IDIgKiBtYXhEO1xuICBjb25zdCB2MSA9IG5ldyBBcnJheSh2TGVuZ3RoKTtcbiAgY29uc3QgdjIgPSBuZXcgQXJyYXkodkxlbmd0aCk7XG4gIGZvciAobGV0IHggPSAwOyB4IDwgdkxlbmd0aDsgeCsrKSB7XG4gICAgdjFbeF0gPSAtMTtcbiAgICB2Mlt4XSA9IC0xO1xuICB9XG4gIHYxW3ZPZmZzZXQgKyAxXSA9IDA7XG4gIHYyW3ZPZmZzZXQgKyAxXSA9IDA7XG4gIGNvbnN0IGRlbHRhID0gdGV4dDFMZW5ndGggLSB0ZXh0Mkxlbmd0aDtcbiAgY29uc3QgZnJvbnQgPSBkZWx0YSAlIDIgIT09IDA7XG4gIGxldCBrMXN0YXJ0ID0gMDtcbiAgbGV0IGsxZW5kID0gMDtcbiAgbGV0IGsyc3RhcnQgPSAwO1xuICBsZXQgazJlbmQgPSAwO1xuICBmb3IgKGxldCBkID0gMDsgZCA8IG1heEQ7IGQrKykge1xuICAgIGlmIChEYXRlLm5vdygpID4gZGVhZGxpbmUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBmb3IgKGxldCBrMSA9IC1kICsgazFzdGFydDsgazEgPD0gZCAtIGsxZW5kOyBrMSArPSAyKSB7XG4gICAgICBjb25zdCBrMU9mZnNldCA9IHZPZmZzZXQgKyBrMTtcbiAgICAgIGxldCB4MTtcbiAgICAgIGlmIChrMSA9PT0gLWQgfHwgazEgIT09IGQgJiYgdjFbazFPZmZzZXQgLSAxXSA8IHYxW2sxT2Zmc2V0ICsgMV0pIHtcbiAgICAgICAgeDEgPSB2MVtrMU9mZnNldCArIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeDEgPSB2MVtrMU9mZnNldCAtIDFdICsgMTtcbiAgICAgIH1cbiAgICAgIGxldCB5MSA9IHgxIC0gazE7XG4gICAgICB3aGlsZSAoeDEgPCB0ZXh0MUxlbmd0aCAmJiB5MSA8IHRleHQyTGVuZ3RoICYmIHRleHQxLmNoYXJBdCh4MSkgPT09IHRleHQyLmNoYXJBdCh5MSkpIHtcbiAgICAgICAgeDErKztcbiAgICAgICAgeTErKztcbiAgICAgIH1cbiAgICAgIHYxW2sxT2Zmc2V0XSA9IHgxO1xuICAgICAgaWYgKHgxID4gdGV4dDFMZW5ndGgpIHtcbiAgICAgICAgazFlbmQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoeTEgPiB0ZXh0Mkxlbmd0aCkge1xuICAgICAgICBrMXN0YXJ0ICs9IDI7XG4gICAgICB9IGVsc2UgaWYgKGZyb250KSB7XG4gICAgICAgIGNvbnN0IGsyT2Zmc2V0ID0gdk9mZnNldCArIGRlbHRhIC0gazE7XG4gICAgICAgIGlmIChrMk9mZnNldCA+PSAwICYmIGsyT2Zmc2V0IDwgdkxlbmd0aCAmJiB2MltrMk9mZnNldF0gIT09IC0xKSB7XG4gICAgICAgICAgY29uc3QgeDIgPSB0ZXh0MUxlbmd0aCAtIHYyW2syT2Zmc2V0XTtcbiAgICAgICAgICBpZiAoeDEgPj0geDIpIHtcbiAgICAgICAgICAgIHJldHVybiBiaXNlY3RTcGxpdCh0ZXh0MSwgdGV4dDIsIHgxLCB5MSwgZGVhZGxpbmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBrMiA9IC1kICsgazJzdGFydDsgazIgPD0gZCAtIGsyZW5kOyBrMiArPSAyKSB7XG4gICAgICBjb25zdCBrMk9mZnNldCA9IHZPZmZzZXQgKyBrMjtcbiAgICAgIGxldCB4MjtcbiAgICAgIGlmIChrMiA9PT0gLWQgfHwgazIgIT09IGQgJiYgdjJbazJPZmZzZXQgLSAxXSA8IHYyW2syT2Zmc2V0ICsgMV0pIHtcbiAgICAgICAgeDIgPSB2MltrMk9mZnNldCArIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeDIgPSB2MltrMk9mZnNldCAtIDFdICsgMTtcbiAgICAgIH1cbiAgICAgIGxldCB5MiA9IHgyIC0gazI7XG4gICAgICB3aGlsZSAoeDIgPCB0ZXh0MUxlbmd0aCAmJiB5MiA8IHRleHQyTGVuZ3RoICYmIHRleHQxLmNoYXJBdCh0ZXh0MUxlbmd0aCAtIHgyIC0gMSkgPT09IHRleHQyLmNoYXJBdCh0ZXh0Mkxlbmd0aCAtIHkyIC0gMSkpIHtcbiAgICAgICAgeDIrKztcbiAgICAgICAgeTIrKztcbiAgICAgIH1cbiAgICAgIHYyW2syT2Zmc2V0XSA9IHgyO1xuICAgICAgaWYgKHgyID4gdGV4dDFMZW5ndGgpIHtcbiAgICAgICAgazJlbmQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoeTIgPiB0ZXh0Mkxlbmd0aCkge1xuICAgICAgICBrMnN0YXJ0ICs9IDI7XG4gICAgICB9IGVsc2UgaWYgKCFmcm9udCkge1xuICAgICAgICBjb25zdCBrMU9mZnNldCA9IHZPZmZzZXQgKyBkZWx0YSAtIGsyO1xuICAgICAgICBpZiAoazFPZmZzZXQgPj0gMCAmJiBrMU9mZnNldCA8IHZMZW5ndGggJiYgdjFbazFPZmZzZXRdICE9PSAtMSkge1xuICAgICAgICAgIGNvbnN0IHgxID0gdjFbazFPZmZzZXRdO1xuICAgICAgICAgIGNvbnN0IHkxID0gdk9mZnNldCArIHgxIC0gazFPZmZzZXQ7XG4gICAgICAgICAgeDIgPSB0ZXh0MUxlbmd0aCAtIHgyO1xuICAgICAgICAgIGlmICh4MSA+PSB4Mikge1xuICAgICAgICAgICAgcmV0dXJuIGJpc2VjdFNwbGl0KHRleHQxLCB0ZXh0MiwgeDEsIHkxLCBkZWFkbGluZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV0sIFtESUZGX0lOU0VSVCwgdGV4dDJdXTtcbn1cbmZ1bmN0aW9uIGJpc2VjdFNwbGl0KHRleHQxLCB0ZXh0MiwgeCwgeSwgZGVhZGxpbmUpIHtcbiAgY29uc3QgdGV4dDFhID0gdGV4dDEuc3Vic3RyaW5nKDAsIHgpO1xuICBjb25zdCB0ZXh0MmEgPSB0ZXh0Mi5zdWJzdHJpbmcoMCwgeSk7XG4gIGNvbnN0IHRleHQxYiA9IHRleHQxLnN1YnN0cmluZyh4KTtcbiAgY29uc3QgdGV4dDJiID0gdGV4dDIuc3Vic3RyaW5nKHkpO1xuICBjb25zdCBkaWZmcyA9IGRvRGlmZih0ZXh0MWEsIHRleHQyYSwge1xuICAgIGNoZWNrTGluZXM6IGZhbHNlLFxuICAgIGRlYWRsaW5lXG4gIH0pO1xuICBjb25zdCBkaWZmc2IgPSBkb0RpZmYodGV4dDFiLCB0ZXh0MmIsIHtcbiAgICBjaGVja0xpbmVzOiBmYWxzZSxcbiAgICBkZWFkbGluZVxuICB9KTtcbiAgcmV0dXJuIGRpZmZzLmNvbmNhdChkaWZmc2IpO1xufVxuZnVuY3Rpb24gZmluZEhhbGZNYXRjaCh0ZXh0MSwgdGV4dDIpIHtcbiAgbGV0IHRpbWVvdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDE7XG4gIGlmICh0aW1lb3V0IDw9IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBsb25nVGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQxIDogdGV4dDI7XG4gIGNvbnN0IHNob3J0VGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQyIDogdGV4dDE7XG4gIGlmIChsb25nVGV4dC5sZW5ndGggPCA0IHx8IHNob3J0VGV4dC5sZW5ndGggKiAyIDwgbG9uZ1RleHQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgaGFsZk1hdGNoMSA9IGhhbGZNYXRjaEkobG9uZ1RleHQsIHNob3J0VGV4dCwgTWF0aC5jZWlsKGxvbmdUZXh0Lmxlbmd0aCAvIDQpKTtcbiAgY29uc3QgaGFsZk1hdGNoMiA9IGhhbGZNYXRjaEkobG9uZ1RleHQsIHNob3J0VGV4dCwgTWF0aC5jZWlsKGxvbmdUZXh0Lmxlbmd0aCAvIDIpKTtcbiAgbGV0IGhhbGZNYXRjaDtcbiAgaWYgKGhhbGZNYXRjaDEgJiYgaGFsZk1hdGNoMikge1xuICAgIGhhbGZNYXRjaCA9IGhhbGZNYXRjaDFbNF0ubGVuZ3RoID4gaGFsZk1hdGNoMls0XS5sZW5ndGggPyBoYWxmTWF0Y2gxIDogaGFsZk1hdGNoMjtcbiAgfSBlbHNlIGlmICghaGFsZk1hdGNoMSAmJiAhaGFsZk1hdGNoMikge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKCFoYWxmTWF0Y2gyKSB7XG4gICAgaGFsZk1hdGNoID0gaGFsZk1hdGNoMTtcbiAgfSBlbHNlIGlmICghaGFsZk1hdGNoMSkge1xuICAgIGhhbGZNYXRjaCA9IGhhbGZNYXRjaDI7XG4gIH1cbiAgaWYgKCFoYWxmTWF0Y2gpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBhIGhhbGYgbWF0Y2guXCIpO1xuICB9XG4gIGxldCB0ZXh0MUE7XG4gIGxldCB0ZXh0MUI7XG4gIGxldCB0ZXh0MkE7XG4gIGxldCB0ZXh0MkI7XG4gIGlmICh0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGgpIHtcbiAgICB0ZXh0MUEgPSBoYWxmTWF0Y2hbMF07XG4gICAgdGV4dDFCID0gaGFsZk1hdGNoWzFdO1xuICAgIHRleHQyQSA9IGhhbGZNYXRjaFsyXTtcbiAgICB0ZXh0MkIgPSBoYWxmTWF0Y2hbM107XG4gIH0gZWxzZSB7XG4gICAgdGV4dDJBID0gaGFsZk1hdGNoWzBdO1xuICAgIHRleHQyQiA9IGhhbGZNYXRjaFsxXTtcbiAgICB0ZXh0MUEgPSBoYWxmTWF0Y2hbMl07XG4gICAgdGV4dDFCID0gaGFsZk1hdGNoWzNdO1xuICB9XG4gIGNvbnN0IG1pZENvbW1vbiA9IGhhbGZNYXRjaFs0XTtcbiAgcmV0dXJuIFt0ZXh0MUEsIHRleHQxQiwgdGV4dDJBLCB0ZXh0MkIsIG1pZENvbW1vbl07XG59XG5mdW5jdGlvbiBoYWxmTWF0Y2hJKGxvbmdUZXh0LCBzaG9ydFRleHQsIGkpIHtcbiAgY29uc3Qgc2VlZCA9IGxvbmdUZXh0LnNsaWNlKGksIGkgKyBNYXRoLmZsb29yKGxvbmdUZXh0Lmxlbmd0aCAvIDQpKTtcbiAgbGV0IGogPSAtMTtcbiAgbGV0IGJlc3RDb21tb24gPSBcIlwiO1xuICBsZXQgYmVzdExvbmdUZXh0QTtcbiAgbGV0IGJlc3RMb25nVGV4dEI7XG4gIGxldCBiZXN0U2hvcnRUZXh0QTtcbiAgbGV0IGJlc3RTaG9ydFRleHRCO1xuICB3aGlsZSAoKGogPSBzaG9ydFRleHQuaW5kZXhPZihzZWVkLCBqICsgMSkpICE9PSAtMSkge1xuICAgIGNvbnN0IHByZWZpeExlbmd0aCA9IGdldENvbW1vblByZWZpeChsb25nVGV4dC5zbGljZShpKSwgc2hvcnRUZXh0LnNsaWNlKGopKTtcbiAgICBjb25zdCBzdWZmaXhMZW5ndGggPSBnZXRDb21tb25TdWZmaXgobG9uZ1RleHQuc2xpY2UoMCwgaSksIHNob3J0VGV4dC5zbGljZSgwLCBqKSk7XG4gICAgaWYgKGJlc3RDb21tb24ubGVuZ3RoIDwgc3VmZml4TGVuZ3RoICsgcHJlZml4TGVuZ3RoKSB7XG4gICAgICBiZXN0Q29tbW9uID0gc2hvcnRUZXh0LnNsaWNlKGogLSBzdWZmaXhMZW5ndGgsIGopICsgc2hvcnRUZXh0LnNsaWNlKGosIGogKyBwcmVmaXhMZW5ndGgpO1xuICAgICAgYmVzdExvbmdUZXh0QSA9IGxvbmdUZXh0LnNsaWNlKDAsIGkgLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgYmVzdExvbmdUZXh0QiA9IGxvbmdUZXh0LnNsaWNlKGkgKyBwcmVmaXhMZW5ndGgpO1xuICAgICAgYmVzdFNob3J0VGV4dEEgPSBzaG9ydFRleHQuc2xpY2UoMCwgaiAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICBiZXN0U2hvcnRUZXh0QiA9IHNob3J0VGV4dC5zbGljZShqICsgcHJlZml4TGVuZ3RoKTtcbiAgICB9XG4gIH1cbiAgaWYgKGJlc3RDb21tb24ubGVuZ3RoICogMiA+PSBsb25nVGV4dC5sZW5ndGgpIHtcbiAgICByZXR1cm4gW2Jlc3RMb25nVGV4dEEgfHwgXCJcIiwgYmVzdExvbmdUZXh0QiB8fCBcIlwiLCBiZXN0U2hvcnRUZXh0QSB8fCBcIlwiLCBiZXN0U2hvcnRUZXh0QiB8fCBcIlwiLCBiZXN0Q29tbW9uIHx8IFwiXCJdO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gY2hhcnNUb0xpbmVzKGRpZmZzLCBsaW5lQXJyYXkpIHtcbiAgZm9yIChsZXQgeCA9IDA7IHggPCBkaWZmcy5sZW5ndGg7IHgrKykge1xuICAgIGNvbnN0IGNoYXJzID0gZGlmZnNbeF1bMV07XG4gICAgY29uc3QgdGV4dCA9IFtdO1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgY2hhcnMubGVuZ3RoOyB5KyspIHtcbiAgICAgIHRleHRbeV0gPSBsaW5lQXJyYXlbY2hhcnMuY2hhckNvZGVBdCh5KV07XG4gICAgfVxuICAgIGRpZmZzW3hdWzFdID0gdGV4dC5qb2luKFwiXCIpO1xuICB9XG59XG5mdW5jdGlvbiBsaW5lc1RvQ2hhcnModGV4dEEsIHRleHRCKSB7XG4gIGNvbnN0IGxpbmVBcnJheSA9IFtdO1xuICBjb25zdCBsaW5lSGFzaCA9IHt9O1xuICBsaW5lQXJyYXlbMF0gPSBcIlwiO1xuICBmdW5jdGlvbiBkaWZmTGluZXNUb011bmdlKHRleHQpIHtcbiAgICBsZXQgY2hhcnMgPSBcIlwiO1xuICAgIGxldCBsaW5lU3RhcnQgPSAwO1xuICAgIGxldCBsaW5lRW5kID0gLTE7XG4gICAgbGV0IGxpbmVBcnJheUxlbmd0aCA9IGxpbmVBcnJheS5sZW5ndGg7XG4gICAgd2hpbGUgKGxpbmVFbmQgPCB0ZXh0Lmxlbmd0aCAtIDEpIHtcbiAgICAgIGxpbmVFbmQgPSB0ZXh0LmluZGV4T2YoXCJcXG5cIiwgbGluZVN0YXJ0KTtcbiAgICAgIGlmIChsaW5lRW5kID09PSAtMSkge1xuICAgICAgICBsaW5lRW5kID0gdGV4dC5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgICAgbGV0IGxpbmUgPSB0ZXh0LnNsaWNlKGxpbmVTdGFydCwgbGluZUVuZCArIDEpO1xuICAgICAgaWYgKGxpbmVIYXNoLmhhc093blByb3BlcnR5ID8gbGluZUhhc2guaGFzT3duUHJvcGVydHkobGluZSkgOiBsaW5lSGFzaFtsaW5lXSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGNoYXJzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobGluZUhhc2hbbGluZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGxpbmVBcnJheUxlbmd0aCA9PT0gbWF4TGluZXMpIHtcbiAgICAgICAgICBsaW5lID0gdGV4dC5zbGljZShsaW5lU3RhcnQpO1xuICAgICAgICAgIGxpbmVFbmQgPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBjaGFycyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGxpbmVBcnJheUxlbmd0aCk7XG4gICAgICAgIGxpbmVIYXNoW2xpbmVdID0gbGluZUFycmF5TGVuZ3RoO1xuICAgICAgICBsaW5lQXJyYXlbbGluZUFycmF5TGVuZ3RoKytdID0gbGluZTtcbiAgICAgIH1cbiAgICAgIGxpbmVTdGFydCA9IGxpbmVFbmQgKyAxO1xuICAgIH1cbiAgICByZXR1cm4gY2hhcnM7XG4gIH1cbiAgbGV0IG1heExpbmVzID0gNGU0O1xuICBjb25zdCBjaGFyczEgPSBkaWZmTGluZXNUb011bmdlKHRleHRBKTtcbiAgbWF4TGluZXMgPSA2NTUzNTtcbiAgY29uc3QgY2hhcnMyID0gZGlmZkxpbmVzVG9NdW5nZSh0ZXh0Qik7XG4gIHJldHVybiB7XG4gICAgY2hhcnMxLFxuICAgIGNoYXJzMixcbiAgICBsaW5lQXJyYXlcbiAgfTtcbn1cbmZ1bmN0aW9uIGRvTGluZU1vZGVEaWZmKHRleHRBLCB0ZXh0Qiwgb3B0cykge1xuICBsZXQgdGV4dDEgPSB0ZXh0QTtcbiAgbGV0IHRleHQyID0gdGV4dEI7XG4gIGNvbnN0IGEgPSBsaW5lc1RvQ2hhcnModGV4dDEsIHRleHQyKTtcbiAgdGV4dDEgPSBhLmNoYXJzMTtcbiAgdGV4dDIgPSBhLmNoYXJzMjtcbiAgY29uc3QgbGluZWFycmF5ID0gYS5saW5lQXJyYXk7XG4gIGxldCBkaWZmcyA9IGRvRGlmZih0ZXh0MSwgdGV4dDIsIHtcbiAgICBjaGVja0xpbmVzOiBmYWxzZSxcbiAgICBkZWFkbGluZTogb3B0cy5kZWFkbGluZVxuICB9KTtcbiAgY2hhcnNUb0xpbmVzKGRpZmZzLCBsaW5lYXJyYXkpO1xuICBkaWZmcyA9IGNsZWFudXBTZW1hbnRpYyhkaWZmcyk7XG4gIGRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIFwiXCJdKTtcbiAgbGV0IHBvaW50ZXIgPSAwO1xuICBsZXQgY291bnREZWxldGUgPSAwO1xuICBsZXQgY291bnRJbnNlcnQgPSAwO1xuICBsZXQgdGV4dERlbGV0ZSA9IFwiXCI7XG4gIGxldCB0ZXh0SW5zZXJ0ID0gXCJcIjtcbiAgd2hpbGUgKHBvaW50ZXIgPCBkaWZmcy5sZW5ndGgpIHtcbiAgICBzd2l0Y2ggKGRpZmZzW3BvaW50ZXJdWzBdKSB7XG4gICAgICBjYXNlIERJRkZfSU5TRVJUOlxuICAgICAgICBjb3VudEluc2VydCsrO1xuICAgICAgICB0ZXh0SW5zZXJ0ICs9IGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9ERUxFVEU6XG4gICAgICAgIGNvdW50RGVsZXRlKys7XG4gICAgICAgIHRleHREZWxldGUgKz0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0VRVUFMOlxuICAgICAgICBpZiAoY291bnREZWxldGUgPj0gMSAmJiBjb3VudEluc2VydCA+PSAxKSB7XG4gICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBjb3VudERlbGV0ZSAtIGNvdW50SW5zZXJ0LCBjb3VudERlbGV0ZSArIGNvdW50SW5zZXJ0KTtcbiAgICAgICAgICBwb2ludGVyID0gcG9pbnRlciAtIGNvdW50RGVsZXRlIC0gY291bnRJbnNlcnQ7XG4gICAgICAgICAgY29uc3QgYWEgPSBkb0RpZmYodGV4dERlbGV0ZSwgdGV4dEluc2VydCwge1xuICAgICAgICAgICAgY2hlY2tMaW5lczogZmFsc2UsXG4gICAgICAgICAgICBkZWFkbGluZTogb3B0cy5kZWFkbGluZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvciAobGV0IGogPSBhYS5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIsIDAsIGFhW2pdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcG9pbnRlciArPSBhYS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgY291bnRJbnNlcnQgPSAwO1xuICAgICAgICBjb3VudERlbGV0ZSA9IDA7XG4gICAgICAgIHRleHREZWxldGUgPSBcIlwiO1xuICAgICAgICB0ZXh0SW5zZXJ0ID0gXCJcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRpZmYgb3BlcmF0aW9uLlwiKTtcbiAgICB9XG4gICAgcG9pbnRlcisrO1xuICB9XG4gIGRpZmZzLnBvcCgpO1xuICByZXR1cm4gZGlmZnM7XG59XG5mdW5jdGlvbiBjb21wdXRlRGlmZih0ZXh0MSwgdGV4dDIsIG9wdHMpIHtcbiAgbGV0IGRpZmZzO1xuICBpZiAoIXRleHQxKSB7XG4gICAgcmV0dXJuIFtbRElGRl9JTlNFUlQsIHRleHQyXV07XG4gIH1cbiAgaWYgKCF0ZXh0Mikge1xuICAgIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV1dO1xuICB9XG4gIGNvbnN0IGxvbmd0ZXh0ID0gdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoID8gdGV4dDEgOiB0ZXh0MjtcbiAgY29uc3Qgc2hvcnR0ZXh0ID0gdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoID8gdGV4dDIgOiB0ZXh0MTtcbiAgY29uc3QgaSA9IGxvbmd0ZXh0LmluZGV4T2Yoc2hvcnR0ZXh0KTtcbiAgaWYgKGkgIT09IC0xKSB7XG4gICAgZGlmZnMgPSBbW0RJRkZfSU5TRVJULCBsb25ndGV4dC5zdWJzdHJpbmcoMCwgaSldLCBbRElGRl9FUVVBTCwgc2hvcnR0ZXh0XSwgW0RJRkZfSU5TRVJULCBsb25ndGV4dC5zdWJzdHJpbmcoaSArIHNob3J0dGV4dC5sZW5ndGgpXV07XG4gICAgaWYgKHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCkge1xuICAgICAgZGlmZnNbMF1bMF0gPSBESUZGX0RFTEVURTtcbiAgICAgIGRpZmZzWzJdWzBdID0gRElGRl9ERUxFVEU7XG4gICAgfVxuICAgIHJldHVybiBkaWZmcztcbiAgfVxuICBpZiAoc2hvcnR0ZXh0Lmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV0sIFtESUZGX0lOU0VSVCwgdGV4dDJdXTtcbiAgfVxuICBjb25zdCBoYWxmTWF0Y2ggPSBmaW5kSGFsZk1hdGNoKHRleHQxLCB0ZXh0Mik7XG4gIGlmIChoYWxmTWF0Y2gpIHtcbiAgICBjb25zdCB0ZXh0MUEgPSBoYWxmTWF0Y2hbMF07XG4gICAgY29uc3QgdGV4dDFCID0gaGFsZk1hdGNoWzFdO1xuICAgIGNvbnN0IHRleHQyQSA9IGhhbGZNYXRjaFsyXTtcbiAgICBjb25zdCB0ZXh0MkIgPSBoYWxmTWF0Y2hbM107XG4gICAgY29uc3QgbWlkQ29tbW9uID0gaGFsZk1hdGNoWzRdO1xuICAgIGNvbnN0IGRpZmZzQSA9IGRvRGlmZih0ZXh0MUEsIHRleHQyQSwgb3B0cyk7XG4gICAgY29uc3QgZGlmZnNCID0gZG9EaWZmKHRleHQxQiwgdGV4dDJCLCBvcHRzKTtcbiAgICByZXR1cm4gZGlmZnNBLmNvbmNhdChbW0RJRkZfRVFVQUwsIG1pZENvbW1vbl1dLCBkaWZmc0IpO1xuICB9XG4gIGlmIChvcHRzLmNoZWNrTGluZXMgJiYgdGV4dDEubGVuZ3RoID4gMTAwICYmIHRleHQyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybiBkb0xpbmVNb2RlRGlmZih0ZXh0MSwgdGV4dDIsIG9wdHMpO1xuICB9XG4gIHJldHVybiBiaXNlY3QodGV4dDEsIHRleHQyLCBvcHRzLmRlYWRsaW5lKTtcbn1cbmNvbnN0IERJRkZfREVMRVRFID0gLTE7XG5jb25zdCBESUZGX0lOU0VSVCA9IDE7XG5jb25zdCBESUZGX0VRVUFMID0gMDtcbmZ1bmN0aW9uIGRpZmYodGV4dEEsIHRleHRCLCBvcHRzKSB7XG4gIGlmICh0ZXh0QSA9PT0gbnVsbCB8fCB0ZXh0QiA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk51bGwgaW5wdXQuIChkaWZmKVwiKTtcbiAgfVxuICBjb25zdCBkaWZmcyA9IGRvRGlmZih0ZXh0QSwgdGV4dEIsIGNyZWF0ZUludGVybmFsT3B0cyhvcHRzIHx8IHt9KSk7XG4gIGFkanVzdERpZmZGb3JTdXJyb2dhdGVQYWlycyhkaWZmcyk7XG4gIHJldHVybiBkaWZmcztcbn1cbmZ1bmN0aW9uIGRvRGlmZih0ZXh0QSwgdGV4dEIsIG9wdGlvbnMpIHtcbiAgbGV0IHRleHQxID0gdGV4dEE7XG4gIGxldCB0ZXh0MiA9IHRleHRCO1xuICBpZiAodGV4dDEgPT09IHRleHQyKSB7XG4gICAgcmV0dXJuIHRleHQxID8gW1tESUZGX0VRVUFMLCB0ZXh0MV1dIDogW107XG4gIH1cbiAgbGV0IGNvbW1vbmxlbmd0aCA9IGdldENvbW1vblByZWZpeCh0ZXh0MSwgdGV4dDIpO1xuICBjb25zdCBjb21tb25wcmVmaXggPSB0ZXh0MS5zdWJzdHJpbmcoMCwgY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDEgPSB0ZXh0MS5zdWJzdHJpbmcoY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDIgPSB0ZXh0Mi5zdWJzdHJpbmcoY29tbW9ubGVuZ3RoKTtcbiAgY29tbW9ubGVuZ3RoID0gZ2V0Q29tbW9uU3VmZml4KHRleHQxLCB0ZXh0Mik7XG4gIGNvbnN0IGNvbW1vbnN1ZmZpeCA9IHRleHQxLnN1YnN0cmluZyh0ZXh0MS5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICB0ZXh0MSA9IHRleHQxLnN1YnN0cmluZygwLCB0ZXh0MS5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICB0ZXh0MiA9IHRleHQyLnN1YnN0cmluZygwLCB0ZXh0Mi5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICBsZXQgZGlmZnMgPSBjb21wdXRlRGlmZih0ZXh0MSwgdGV4dDIsIG9wdGlvbnMpO1xuICBpZiAoY29tbW9ucHJlZml4KSB7XG4gICAgZGlmZnMudW5zaGlmdChbRElGRl9FUVVBTCwgY29tbW9ucHJlZml4XSk7XG4gIH1cbiAgaWYgKGNvbW1vbnN1ZmZpeCkge1xuICAgIGRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIGNvbW1vbnN1ZmZpeF0pO1xuICB9XG4gIGRpZmZzID0gY2xlYW51cE1lcmdlKGRpZmZzKTtcbiAgcmV0dXJuIGRpZmZzO1xufVxuZnVuY3Rpb24gY3JlYXRlRGVhZExpbmUodGltZW91dCkge1xuICBsZXQgdCA9IDE7XG4gIGlmICh0eXBlb2YgdGltZW91dCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHQgPSB0aW1lb3V0IDw9IDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogdGltZW91dDtcbiAgfVxuICByZXR1cm4gRGF0ZS5ub3coKSArIHQgKiAxZTM7XG59XG5mdW5jdGlvbiBjcmVhdGVJbnRlcm5hbE9wdHMob3B0cykge1xuICByZXR1cm4ge1xuICAgIGNoZWNrTGluZXM6IHRydWUsXG4gICAgZGVhZGxpbmU6IGNyZWF0ZURlYWRMaW5lKG9wdHMudGltZW91dCB8fCAxKSxcbiAgICAuLi5vcHRzXG4gIH07XG59XG5mdW5jdGlvbiBjb21iaW5lQ2hhcihkYXRhLCBjaGFyLCBkaXIpIHtcbiAgcmV0dXJuIGRpciA9PT0gMSA/IGRhdGEgKyBjaGFyIDogY2hhciArIGRhdGE7XG59XG5mdW5jdGlvbiBzcGxpdENoYXIoZGF0YSwgZGlyKSB7XG4gIHJldHVybiBkaXIgPT09IDEgPyBbZGF0YS5zdWJzdHJpbmcoMCwgZGF0YS5sZW5ndGggLSAxKSwgZGF0YVtkYXRhLmxlbmd0aCAtIDFdXSA6IFtkYXRhLnN1YnN0cmluZygxKSwgZGF0YVswXV07XG59XG5mdW5jdGlvbiBoYXNTaGFyZWRDaGFyKGRpZmZzLCBpLCBqLCBkaXIpIHtcbiAgcmV0dXJuIGRpciA9PT0gMSA/IGRpZmZzW2ldWzFdW2RpZmZzW2ldWzFdLmxlbmd0aCAtIDFdID09PSBkaWZmc1tqXVsxXVtkaWZmc1tqXVsxXS5sZW5ndGggLSAxXSA6IGRpZmZzW2ldWzFdWzBdID09PSBkaWZmc1tqXVsxXVswXTtcbn1cbmZ1bmN0aW9uIGRlaXNvbGF0ZUNoYXIoZGlmZnMsIGksIGRpcikge1xuICBjb25zdCBpbnYgPSBkaXIgPT09IDEgPyAtMSA6IDE7XG4gIGxldCBpbnNlcnRJZHggPSBudWxsO1xuICBsZXQgZGVsZXRlSWR4ID0gbnVsbDtcbiAgbGV0IGogPSBpICsgZGlyO1xuICBmb3IgKDsgaiA+PSAwICYmIGogPCBkaWZmcy5sZW5ndGggJiYgKGluc2VydElkeCA9PT0gbnVsbCB8fCBkZWxldGVJZHggPT09IG51bGwpOyBqICs9IGRpcikge1xuICAgIGNvbnN0IFtvcCwgdGV4dDJdID0gZGlmZnNbal07XG4gICAgaWYgKHRleHQyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChvcCA9PT0gRElGRl9JTlNFUlQpIHtcbiAgICAgIGlmIChpbnNlcnRJZHggPT09IG51bGwpIHtcbiAgICAgICAgaW5zZXJ0SWR4ID0gajtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSBpZiAob3AgPT09IERJRkZfREVMRVRFKSB7XG4gICAgICBpZiAoZGVsZXRlSWR4ID09PSBudWxsKSB7XG4gICAgICAgIGRlbGV0ZUlkeCA9IGo7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2UgaWYgKG9wID09PSBESUZGX0VRVUFMKSB7XG4gICAgICBpZiAoaW5zZXJ0SWR4ID09PSBudWxsICYmIGRlbGV0ZUlkeCA9PT0gbnVsbCkge1xuICAgICAgICBjb25zdCBbcmVzdCwgY2hhcjJdID0gc3BsaXRDaGFyKGRpZmZzW2ldWzFdLCBkaXIpO1xuICAgICAgICBkaWZmc1tpXVsxXSA9IHJlc3Q7XG4gICAgICAgIGRpZmZzW2pdWzFdID0gY29tYmluZUNoYXIoZGlmZnNbal1bMV0sIGNoYXIyLCBpbnYpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKGluc2VydElkeCAhPT0gbnVsbCAmJiBkZWxldGVJZHggIT09IG51bGwgJiYgaGFzU2hhcmVkQ2hhcihkaWZmcywgaW5zZXJ0SWR4LCBkZWxldGVJZHgsIGRpcikpIHtcbiAgICBjb25zdCBbaW5zZXJ0VGV4dCwgaW5zZXJ0Q2hhcl0gPSBzcGxpdENoYXIoZGlmZnNbaW5zZXJ0SWR4XVsxXSwgaW52KTtcbiAgICBjb25zdCBbZGVsZXRlVGV4dF0gPSBzcGxpdENoYXIoZGlmZnNbZGVsZXRlSWR4XVsxXSwgaW52KTtcbiAgICBkaWZmc1tpbnNlcnRJZHhdWzFdID0gaW5zZXJ0VGV4dDtcbiAgICBkaWZmc1tkZWxldGVJZHhdWzFdID0gZGVsZXRlVGV4dDtcbiAgICBkaWZmc1tpXVsxXSA9IGNvbWJpbmVDaGFyKGRpZmZzW2ldWzFdLCBpbnNlcnRDaGFyLCBkaXIpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBbdGV4dCwgY2hhcl0gPSBzcGxpdENoYXIoZGlmZnNbaV1bMV0sIGRpcik7XG4gIGRpZmZzW2ldWzFdID0gdGV4dDtcbiAgaWYgKGluc2VydElkeCA9PT0gbnVsbCkge1xuICAgIGRpZmZzLnNwbGljZShqLCAwLCBbRElGRl9JTlNFUlQsIGNoYXJdKTtcbiAgICBpZiAoZGVsZXRlSWR4ICE9PSBudWxsICYmIGRlbGV0ZUlkeCA+PSBqKSBkZWxldGVJZHgrKztcbiAgfSBlbHNlIHtcbiAgICBkaWZmc1tpbnNlcnRJZHhdWzFdID0gY29tYmluZUNoYXIoZGlmZnNbaW5zZXJ0SWR4XVsxXSwgY2hhciwgaW52KTtcbiAgfVxuICBpZiAoZGVsZXRlSWR4ID09PSBudWxsKSB7XG4gICAgZGlmZnMuc3BsaWNlKGosIDAsIFtESUZGX0RFTEVURSwgY2hhcl0pO1xuICB9IGVsc2Uge1xuICAgIGRpZmZzW2RlbGV0ZUlkeF1bMV0gPSBjb21iaW5lQ2hhcihkaWZmc1tkZWxldGVJZHhdWzFdLCBjaGFyLCBpbnYpO1xuICB9XG59XG5mdW5jdGlvbiBhZGp1c3REaWZmRm9yU3Vycm9nYXRlUGFpcnMoZGlmZnMpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWZmcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IFtkaWZmVHlwZSwgZGlmZlRleHRdID0gZGlmZnNbaV07XG4gICAgaWYgKGRpZmZUZXh0Lmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgY29uc3QgZmlyc3RDaGFyID0gZGlmZlRleHRbMF07XG4gICAgY29uc3QgbGFzdENoYXIgPSBkaWZmVGV4dFtkaWZmVGV4dC5sZW5ndGggLSAxXTtcbiAgICBpZiAoaXNIaWdoU3Vycm9nYXRlKGxhc3RDaGFyKSAmJiBkaWZmVHlwZSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgZGVpc29sYXRlQ2hhcihkaWZmcywgaSwgMSk7XG4gICAgfVxuICAgIGlmIChpc0xvd1N1cnJvZ2F0ZShmaXJzdENoYXIpICYmIGRpZmZUeXBlID09PSBESUZGX0VRVUFMKSB7XG4gICAgICBkZWlzb2xhdGVDaGFyKGRpZmZzLCBpLCAtMSk7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlmZnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZGlmZnNbaV1bMV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICBkaWZmcy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9XG59XG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gIC8qKlxuICAgKiBBdCB3aGF0IHBvaW50IGlzIG5vIG1hdGNoIGRlY2xhcmVkICgwLjAgPSBwZXJmZWN0aW9uLCAxLjAgPSB2ZXJ5IGxvb3NlKS5cbiAgICovXG4gIHRocmVzaG9sZDogMC41LFxuICAvKipcbiAgICogSG93IGZhciB0byBzZWFyY2ggZm9yIGEgbWF0Y2ggKDAgPSBleGFjdCBsb2NhdGlvbiwgMTAwMCsgPSBicm9hZCBtYXRjaCkuXG4gICAqIEEgbWF0Y2ggdGhpcyBtYW55IGNoYXJhY3RlcnMgYXdheSBmcm9tIHRoZSBleHBlY3RlZCBsb2NhdGlvbiB3aWxsIGFkZFxuICAgKiAxLjAgdG8gdGhlIHNjb3JlICgwLjAgaXMgYSBwZXJmZWN0IG1hdGNoKS5cbiAgICovXG4gIGRpc3RhbmNlOiAxZTNcbn07XG5mdW5jdGlvbiBhcHBseURlZmF1bHRzKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5ERUZBVUxUX09QVElPTlMsXG4gICAgLi4ub3B0aW9uc1xuICB9O1xufVxuY29uc3QgTUFYX0JJVFMkMSA9IDMyO1xuZnVuY3Rpb24gYml0YXAodGV4dCwgcGF0dGVybiwgbG9jKSB7XG4gIGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgaWYgKHBhdHRlcm4ubGVuZ3RoID4gTUFYX0JJVFMkMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlBhdHRlcm4gdG9vIGxvbmcgZm9yIHRoaXMgYnJvd3Nlci5cIik7XG4gIH1cbiAgY29uc3Qgb3B0aW9ucyA9IGFwcGx5RGVmYXVsdHMob3B0cyk7XG4gIGNvbnN0IHMgPSBnZXRBbHBoYWJldEZyb21QYXR0ZXJuKHBhdHRlcm4pO1xuICBmdW5jdGlvbiBnZXRCaXRhcFNjb3JlKGUsIHgpIHtcbiAgICBjb25zdCBhY2N1cmFjeSA9IGUgLyBwYXR0ZXJuLmxlbmd0aDtcbiAgICBjb25zdCBwcm94aW1pdHkgPSBNYXRoLmFicyhsb2MgLSB4KTtcbiAgICBpZiAoIW9wdGlvbnMuZGlzdGFuY2UpIHtcbiAgICAgIHJldHVybiBwcm94aW1pdHkgPyAxIDogYWNjdXJhY3k7XG4gICAgfVxuICAgIHJldHVybiBhY2N1cmFjeSArIHByb3hpbWl0eSAvIG9wdGlvbnMuZGlzdGFuY2U7XG4gIH1cbiAgbGV0IHNjb3JlVGhyZXNob2xkID0gb3B0aW9ucy50aHJlc2hvbGQ7XG4gIGxldCBiZXN0TG9jID0gdGV4dC5pbmRleE9mKHBhdHRlcm4sIGxvYyk7XG4gIGlmIChiZXN0TG9jICE9PSAtMSkge1xuICAgIHNjb3JlVGhyZXNob2xkID0gTWF0aC5taW4oZ2V0Qml0YXBTY29yZSgwLCBiZXN0TG9jKSwgc2NvcmVUaHJlc2hvbGQpO1xuICAgIGJlc3RMb2MgPSB0ZXh0Lmxhc3RJbmRleE9mKHBhdHRlcm4sIGxvYyArIHBhdHRlcm4ubGVuZ3RoKTtcbiAgICBpZiAoYmVzdExvYyAhPT0gLTEpIHtcbiAgICAgIHNjb3JlVGhyZXNob2xkID0gTWF0aC5taW4oZ2V0Qml0YXBTY29yZSgwLCBiZXN0TG9jKSwgc2NvcmVUaHJlc2hvbGQpO1xuICAgIH1cbiAgfVxuICBjb25zdCBtYXRjaG1hc2sgPSAxIDw8IHBhdHRlcm4ubGVuZ3RoIC0gMTtcbiAgYmVzdExvYyA9IC0xO1xuICBsZXQgYmluTWluO1xuICBsZXQgYmluTWlkO1xuICBsZXQgYmluTWF4ID0gcGF0dGVybi5sZW5ndGggKyB0ZXh0Lmxlbmd0aDtcbiAgbGV0IGxhc3RSZCA9IFtdO1xuICBmb3IgKGxldCBkID0gMDsgZCA8IHBhdHRlcm4ubGVuZ3RoOyBkKyspIHtcbiAgICBiaW5NaW4gPSAwO1xuICAgIGJpbk1pZCA9IGJpbk1heDtcbiAgICB3aGlsZSAoYmluTWluIDwgYmluTWlkKSB7XG4gICAgICBpZiAoZ2V0Qml0YXBTY29yZShkLCBsb2MgKyBiaW5NaWQpIDw9IHNjb3JlVGhyZXNob2xkKSB7XG4gICAgICAgIGJpbk1pbiA9IGJpbk1pZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJpbk1heCA9IGJpbk1pZDtcbiAgICAgIH1cbiAgICAgIGJpbk1pZCA9IE1hdGguZmxvb3IoKGJpbk1heCAtIGJpbk1pbikgLyAyICsgYmluTWluKTtcbiAgICB9XG4gICAgYmluTWF4ID0gYmluTWlkO1xuICAgIGxldCBzdGFydCA9IE1hdGgubWF4KDEsIGxvYyAtIGJpbk1pZCArIDEpO1xuICAgIGNvbnN0IGZpbmlzaCA9IE1hdGgubWluKGxvYyArIGJpbk1pZCwgdGV4dC5sZW5ndGgpICsgcGF0dGVybi5sZW5ndGg7XG4gICAgY29uc3QgcmQgPSBuZXcgQXJyYXkoZmluaXNoICsgMik7XG4gICAgcmRbZmluaXNoICsgMV0gPSAoMSA8PCBkKSAtIDE7XG4gICAgZm9yIChsZXQgaiA9IGZpbmlzaDsgaiA+PSBzdGFydDsgai0tKSB7XG4gICAgICBjb25zdCBjaGFyTWF0Y2ggPSBzW3RleHQuY2hhckF0KGogLSAxKV07XG4gICAgICBpZiAoZCA9PT0gMCkge1xuICAgICAgICByZFtqXSA9IChyZFtqICsgMV0gPDwgMSB8IDEpICYgY2hhck1hdGNoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmRbal0gPSAocmRbaiArIDFdIDw8IDEgfCAxKSAmIGNoYXJNYXRjaCB8ICgobGFzdFJkW2ogKyAxXSB8IGxhc3RSZFtqXSkgPDwgMSB8IDEpIHwgbGFzdFJkW2ogKyAxXTtcbiAgICAgIH1cbiAgICAgIGlmIChyZFtqXSAmIG1hdGNobWFzaykge1xuICAgICAgICBjb25zdCBzY29yZSA9IGdldEJpdGFwU2NvcmUoZCwgaiAtIDEpO1xuICAgICAgICBpZiAoc2NvcmUgPD0gc2NvcmVUaHJlc2hvbGQpIHtcbiAgICAgICAgICBzY29yZVRocmVzaG9sZCA9IHNjb3JlO1xuICAgICAgICAgIGJlc3RMb2MgPSBqIC0gMTtcbiAgICAgICAgICBpZiAoYmVzdExvYyA+IGxvYykge1xuICAgICAgICAgICAgc3RhcnQgPSBNYXRoLm1heCgxLCAyICogbG9jIC0gYmVzdExvYyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZ2V0Qml0YXBTY29yZShkICsgMSwgbG9jKSA+IHNjb3JlVGhyZXNob2xkKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgbGFzdFJkID0gcmQ7XG4gIH1cbiAgcmV0dXJuIGJlc3RMb2M7XG59XG5mdW5jdGlvbiBnZXRBbHBoYWJldEZyb21QYXR0ZXJuKHBhdHRlcm4pIHtcbiAgY29uc3QgcyA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm4ubGVuZ3RoOyBpKyspIHtcbiAgICBzW3BhdHRlcm4uY2hhckF0KGkpXSA9IDA7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XG4gICAgc1twYXR0ZXJuLmNoYXJBdChpKV0gfD0gMSA8PCBwYXR0ZXJuLmxlbmd0aCAtIGkgLSAxO1xuICB9XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gbWF0Y2godGV4dCwgcGF0dGVybiwgc2VhcmNoTG9jYXRpb24pIHtcbiAgaWYgKHRleHQgPT09IG51bGwgfHwgcGF0dGVybiA9PT0gbnVsbCB8fCBzZWFyY2hMb2NhdGlvbiA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk51bGwgaW5wdXQuIChtYXRjaCgpKVwiKTtcbiAgfVxuICBjb25zdCBsb2MgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzZWFyY2hMb2NhdGlvbiwgdGV4dC5sZW5ndGgpKTtcbiAgaWYgKHRleHQgPT09IHBhdHRlcm4pIHtcbiAgICByZXR1cm4gMDtcbiAgfSBlbHNlIGlmICghdGV4dC5sZW5ndGgpIHtcbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSBpZiAodGV4dC5zdWJzdHJpbmcobG9jLCBsb2MgKyBwYXR0ZXJuLmxlbmd0aCkgPT09IHBhdHRlcm4pIHtcbiAgICByZXR1cm4gbG9jO1xuICB9XG4gIHJldHVybiBiaXRhcCh0ZXh0LCBwYXR0ZXJuLCBsb2MpO1xufVxuZnVuY3Rpb24gY3JlYXRlUGF0Y2hPYmplY3Qoc3RhcnQxLCBzdGFydDIpIHtcbiAgcmV0dXJuIHtcbiAgICBkaWZmczogW10sXG4gICAgc3RhcnQxLFxuICAgIHN0YXJ0MixcbiAgICB1dGY4U3RhcnQxOiBzdGFydDEsXG4gICAgdXRmOFN0YXJ0Mjogc3RhcnQyLFxuICAgIGxlbmd0aDE6IDAsXG4gICAgbGVuZ3RoMjogMCxcbiAgICB1dGY4TGVuZ3RoMTogMCxcbiAgICB1dGY4TGVuZ3RoMjogMFxuICB9O1xufVxuZnVuY3Rpb24gZGlmZlRleHQxKGRpZmZzKSB7XG4gIGNvbnN0IHRleHQgPSBbXTtcbiAgZm9yIChsZXQgeCA9IDA7IHggPCBkaWZmcy5sZW5ndGg7IHgrKykge1xuICAgIGlmIChkaWZmc1t4XVswXSAhPT0gRElGRl9JTlNFUlQpIHtcbiAgICAgIHRleHRbeF0gPSBkaWZmc1t4XVsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRleHQuam9pbihcIlwiKTtcbn1cbmZ1bmN0aW9uIGRpZmZUZXh0MihkaWZmcykge1xuICBjb25zdCB0ZXh0ID0gW107XG4gIGZvciAobGV0IHggPSAwOyB4IDwgZGlmZnMubGVuZ3RoOyB4KyspIHtcbiAgICBpZiAoZGlmZnNbeF1bMF0gIT09IERJRkZfREVMRVRFKSB7XG4gICAgICB0ZXh0W3hdID0gZGlmZnNbeF1bMV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0ZXh0LmpvaW4oXCJcIik7XG59XG5mdW5jdGlvbiBjb3VudFV0ZjhCeXRlcyhzdHIpIHtcbiAgbGV0IGJ5dGVzID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjb2RlUG9pbnQgPSBzdHIuY29kZVBvaW50QXQoaSk7XG4gICAgaWYgKHR5cGVvZiBjb2RlUG9pbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZXQgY29kZXBvaW50XCIpO1xuICAgIH1cbiAgICBieXRlcyArPSB1dGY4bGVuKGNvZGVQb2ludCk7XG4gIH1cbiAgcmV0dXJuIGJ5dGVzO1xufVxuZnVuY3Rpb24gYWRqdXN0SW5kaWNpZXNUb1VjczIocGF0Y2hlcywgYmFzZSkge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGxldCBieXRlT2Zmc2V0ID0gMDtcbiAgbGV0IGlkeCA9IDA7XG4gIGZ1bmN0aW9uIGFkdmFuY2VUbyh0YXJnZXQpIHtcbiAgICBmb3IgKDsgYnl0ZU9mZnNldCA8IHRhcmdldDspIHtcbiAgICAgIGNvbnN0IGNvZGVQb2ludCA9IGJhc2UuY29kZVBvaW50QXQoaWR4KTtcbiAgICAgIGlmICh0eXBlb2YgY29kZVBvaW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBpZHg7XG4gICAgICB9XG4gICAgICBieXRlT2Zmc2V0ICs9IHV0ZjhsZW4oY29kZVBvaW50KTtcbiAgICAgIGlmIChjb2RlUG9pbnQgPiA2NTUzNSkge1xuICAgICAgICBpZHggKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkeCArPSAxO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuYWxsb3dFeGNlZWRpbmdJbmRpY2VzICYmIGJ5dGVPZmZzZXQgIT09IHRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGRldGVybWluZSBieXRlIG9mZnNldFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkeDtcbiAgfVxuICBjb25zdCBhZGp1c3RlZCA9IFtdO1xuICBmb3IgKGNvbnN0IHBhdGNoIG9mIHBhdGNoZXMpIHtcbiAgICBhZGp1c3RlZC5wdXNoKHtcbiAgICAgIGRpZmZzOiBwYXRjaC5kaWZmcy5tYXAoZGlmZiA9PiBjbG9uZURpZmYoZGlmZikpLFxuICAgICAgc3RhcnQxOiBhZHZhbmNlVG8ocGF0Y2guc3RhcnQxKSxcbiAgICAgIHN0YXJ0MjogYWR2YW5jZVRvKHBhdGNoLnN0YXJ0MiksXG4gICAgICB1dGY4U3RhcnQxOiBwYXRjaC51dGY4U3RhcnQxLFxuICAgICAgdXRmOFN0YXJ0MjogcGF0Y2gudXRmOFN0YXJ0MixcbiAgICAgIGxlbmd0aDE6IHBhdGNoLmxlbmd0aDEsXG4gICAgICBsZW5ndGgyOiBwYXRjaC5sZW5ndGgyLFxuICAgICAgdXRmOExlbmd0aDE6IHBhdGNoLnV0ZjhMZW5ndGgxLFxuICAgICAgdXRmOExlbmd0aDI6IHBhdGNoLnV0ZjhMZW5ndGgyXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGFkanVzdGVkO1xufVxuZnVuY3Rpb24gdXRmOGxlbihjb2RlUG9pbnQpIHtcbiAgaWYgKGNvZGVQb2ludCA8PSAxMjcpIHJldHVybiAxO1xuICBpZiAoY29kZVBvaW50IDw9IDIwNDcpIHJldHVybiAyO1xuICBpZiAoY29kZVBvaW50IDw9IDY1NTM1KSByZXR1cm4gMztcbiAgcmV0dXJuIDQ7XG59XG5jb25zdCBNQVhfQklUUyA9IDMyO1xuY29uc3QgREVGQVVMVF9NQVJHSU4gPSA0O1xuY29uc3QgREVGQVVMVF9PUFRTID0ge1xuICBtYXJnaW46IDRcbn07XG5mdW5jdGlvbiBnZXREZWZhdWx0T3B0cygpIHtcbiAgbGV0IG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICByZXR1cm4ge1xuICAgIC4uLkRFRkFVTFRfT1BUUyxcbiAgICAuLi5vcHRzXG4gIH07XG59XG5mdW5jdGlvbiBtYWtlKGEsIGIsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBhID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBiID09PSBcInN0cmluZ1wiKSB7XG4gICAgbGV0IGRpZmZzID0gZGlmZihhLCBiLCB7XG4gICAgICBjaGVja0xpbmVzOiB0cnVlXG4gICAgfSk7XG4gICAgaWYgKGRpZmZzLmxlbmd0aCA+IDIpIHtcbiAgICAgIGRpZmZzID0gY2xlYW51cFNlbWFudGljKGRpZmZzKTtcbiAgICAgIGRpZmZzID0gY2xlYW51cEVmZmljaWVuY3koZGlmZnMpO1xuICAgIH1cbiAgICByZXR1cm4gX21ha2UoYSwgZGlmZnMsIGdldERlZmF1bHRPcHRzKG9wdGlvbnMpKTtcbiAgfVxuICBpZiAoYSAmJiBBcnJheS5pc0FycmF5KGEpICYmIHR5cGVvZiBiID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIF9tYWtlKGRpZmZUZXh0MShhKSwgYSwgZ2V0RGVmYXVsdE9wdHMob3B0aW9ucykpO1xuICB9XG4gIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIiAmJiBiICYmIEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICByZXR1cm4gX21ha2UoYSwgYiwgZ2V0RGVmYXVsdE9wdHMob3B0aW9ucykpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gY2FsbCBmb3JtYXQgdG8gbWFrZSgpXCIpO1xufVxuZnVuY3Rpb24gX21ha2UodGV4dEEsIGRpZmZzLCBvcHRpb25zKSB7XG4gIGlmIChkaWZmcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgcGF0Y2hlcyA9IFtdO1xuICBsZXQgcGF0Y2ggPSBjcmVhdGVQYXRjaE9iamVjdCgwLCAwKTtcbiAgbGV0IHBhdGNoRGlmZkxlbmd0aCA9IDA7XG4gIGxldCBjaGFyQ291bnQxID0gMDtcbiAgbGV0IGNoYXJDb3VudDIgPSAwO1xuICBsZXQgdXRmOENvdW50MSA9IDA7XG4gIGxldCB1dGY4Q291bnQyID0gMDtcbiAgbGV0IHByZXBhdGNoVGV4dCA9IHRleHRBO1xuICBsZXQgcG9zdHBhdGNoVGV4dCA9IHRleHRBO1xuICBmb3IgKGxldCB4ID0gMDsgeCA8IGRpZmZzLmxlbmd0aDsgeCsrKSB7XG4gICAgY29uc3QgY3VycmVudERpZmYgPSBkaWZmc1t4XTtcbiAgICBjb25zdCBbZGlmZlR5cGUsIGRpZmZUZXh0XSA9IGN1cnJlbnREaWZmO1xuICAgIGNvbnN0IGRpZmZUZXh0TGVuZ3RoID0gZGlmZlRleHQubGVuZ3RoO1xuICAgIGNvbnN0IGRpZmZCeXRlTGVuZ3RoID0gY291bnRVdGY4Qnl0ZXMoZGlmZlRleHQpO1xuICAgIGlmICghcGF0Y2hEaWZmTGVuZ3RoICYmIGRpZmZUeXBlICE9PSBESUZGX0VRVUFMKSB7XG4gICAgICBwYXRjaC5zdGFydDEgPSBjaGFyQ291bnQxO1xuICAgICAgcGF0Y2guc3RhcnQyID0gY2hhckNvdW50MjtcbiAgICAgIHBhdGNoLnV0ZjhTdGFydDEgPSB1dGY4Q291bnQxO1xuICAgICAgcGF0Y2gudXRmOFN0YXJ0MiA9IHV0ZjhDb3VudDI7XG4gICAgfVxuICAgIHN3aXRjaCAoZGlmZlR5cGUpIHtcbiAgICAgIGNhc2UgRElGRl9JTlNFUlQ6XG4gICAgICAgIHBhdGNoLmRpZmZzW3BhdGNoRGlmZkxlbmd0aCsrXSA9IGN1cnJlbnREaWZmO1xuICAgICAgICBwYXRjaC5sZW5ndGgyICs9IGRpZmZUZXh0TGVuZ3RoO1xuICAgICAgICBwYXRjaC51dGY4TGVuZ3RoMiArPSBkaWZmQnl0ZUxlbmd0aDtcbiAgICAgICAgcG9zdHBhdGNoVGV4dCA9IHBvc3RwYXRjaFRleHQuc3Vic3RyaW5nKDAsIGNoYXJDb3VudDIpICsgZGlmZlRleHQgKyBwb3N0cGF0Y2hUZXh0LnN1YnN0cmluZyhjaGFyQ291bnQyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfREVMRVRFOlxuICAgICAgICBwYXRjaC5sZW5ndGgxICs9IGRpZmZUZXh0TGVuZ3RoO1xuICAgICAgICBwYXRjaC51dGY4TGVuZ3RoMSArPSBkaWZmQnl0ZUxlbmd0aDtcbiAgICAgICAgcGF0Y2guZGlmZnNbcGF0Y2hEaWZmTGVuZ3RoKytdID0gY3VycmVudERpZmY7XG4gICAgICAgIHBvc3RwYXRjaFRleHQgPSBwb3N0cGF0Y2hUZXh0LnN1YnN0cmluZygwLCBjaGFyQ291bnQyKSArIHBvc3RwYXRjaFRleHQuc3Vic3RyaW5nKGNoYXJDb3VudDIgKyBkaWZmVGV4dExlbmd0aCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0VRVUFMOlxuICAgICAgICBpZiAoZGlmZlRleHRMZW5ndGggPD0gMiAqIG9wdGlvbnMubWFyZ2luICYmIHBhdGNoRGlmZkxlbmd0aCAmJiBkaWZmcy5sZW5ndGggIT09IHggKyAxKSB7XG4gICAgICAgICAgcGF0Y2guZGlmZnNbcGF0Y2hEaWZmTGVuZ3RoKytdID0gY3VycmVudERpZmY7XG4gICAgICAgICAgcGF0Y2gubGVuZ3RoMSArPSBkaWZmVGV4dExlbmd0aDtcbiAgICAgICAgICBwYXRjaC5sZW5ndGgyICs9IGRpZmZUZXh0TGVuZ3RoO1xuICAgICAgICAgIHBhdGNoLnV0ZjhMZW5ndGgxICs9IGRpZmZCeXRlTGVuZ3RoO1xuICAgICAgICAgIHBhdGNoLnV0ZjhMZW5ndGgyICs9IGRpZmZCeXRlTGVuZ3RoO1xuICAgICAgICB9IGVsc2UgaWYgKGRpZmZUZXh0TGVuZ3RoID49IDIgKiBvcHRpb25zLm1hcmdpbikge1xuICAgICAgICAgIGlmIChwYXRjaERpZmZMZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZENvbnRleHQocGF0Y2gsIHByZXBhdGNoVGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBwYXRjaGVzLnB1c2gocGF0Y2gpO1xuICAgICAgICAgICAgcGF0Y2ggPSBjcmVhdGVQYXRjaE9iamVjdCgtMSwgLTEpO1xuICAgICAgICAgICAgcGF0Y2hEaWZmTGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHByZXBhdGNoVGV4dCA9IHBvc3RwYXRjaFRleHQ7XG4gICAgICAgICAgICBjaGFyQ291bnQxID0gY2hhckNvdW50MjtcbiAgICAgICAgICAgIHV0ZjhDb3VudDEgPSB1dGY4Q291bnQyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGlmZiB0eXBlXCIpO1xuICAgIH1cbiAgICBpZiAoZGlmZlR5cGUgIT09IERJRkZfSU5TRVJUKSB7XG4gICAgICBjaGFyQ291bnQxICs9IGRpZmZUZXh0TGVuZ3RoO1xuICAgICAgdXRmOENvdW50MSArPSBkaWZmQnl0ZUxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGRpZmZUeXBlICE9PSBESUZGX0RFTEVURSkge1xuICAgICAgY2hhckNvdW50MiArPSBkaWZmVGV4dExlbmd0aDtcbiAgICAgIHV0ZjhDb3VudDIgKz0gZGlmZkJ5dGVMZW5ndGg7XG4gICAgfVxuICB9XG4gIGlmIChwYXRjaERpZmZMZW5ndGgpIHtcbiAgICBhZGRDb250ZXh0KHBhdGNoLCBwcmVwYXRjaFRleHQsIG9wdGlvbnMpO1xuICAgIHBhdGNoZXMucHVzaChwYXRjaCk7XG4gIH1cbiAgcmV0dXJuIHBhdGNoZXM7XG59XG5mdW5jdGlvbiBhZGRDb250ZXh0KHBhdGNoLCB0ZXh0LCBvcHRzKSB7XG4gIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgcGF0dGVybiA9IHRleHQuc3Vic3RyaW5nKHBhdGNoLnN0YXJ0MiwgcGF0Y2guc3RhcnQyICsgcGF0Y2gubGVuZ3RoMSk7XG4gIGxldCBwYWRkaW5nID0gMDtcbiAgd2hpbGUgKHRleHQuaW5kZXhPZihwYXR0ZXJuKSAhPT0gdGV4dC5sYXN0SW5kZXhPZihwYXR0ZXJuKSAmJiBwYXR0ZXJuLmxlbmd0aCA8IE1BWF9CSVRTIC0gb3B0cy5tYXJnaW4gLSBvcHRzLm1hcmdpbikge1xuICAgIHBhZGRpbmcgKz0gb3B0cy5tYXJnaW47XG4gICAgcGF0dGVybiA9IHRleHQuc3Vic3RyaW5nKHBhdGNoLnN0YXJ0MiAtIHBhZGRpbmcsIHBhdGNoLnN0YXJ0MiArIHBhdGNoLmxlbmd0aDEgKyBwYWRkaW5nKTtcbiAgfVxuICBwYWRkaW5nICs9IG9wdHMubWFyZ2luO1xuICBsZXQgcHJlZml4U3RhcnQgPSBwYXRjaC5zdGFydDIgLSBwYWRkaW5nO1xuICBpZiAocHJlZml4U3RhcnQgPj0gMSAmJiBpc0xvd1N1cnJvZ2F0ZSh0ZXh0W3ByZWZpeFN0YXJ0XSkpIHtcbiAgICBwcmVmaXhTdGFydC0tO1xuICB9XG4gIGNvbnN0IHByZWZpeCA9IHRleHQuc3Vic3RyaW5nKHByZWZpeFN0YXJ0LCBwYXRjaC5zdGFydDIpO1xuICBpZiAocHJlZml4KSB7XG4gICAgcGF0Y2guZGlmZnMudW5zaGlmdChbRElGRl9FUVVBTCwgcHJlZml4XSk7XG4gIH1cbiAgY29uc3QgcHJlZml4TGVuZ3RoID0gcHJlZml4Lmxlbmd0aDtcbiAgY29uc3QgcHJlZml4VXRmOExlbmd0aCA9IGNvdW50VXRmOEJ5dGVzKHByZWZpeCk7XG4gIGxldCBzdWZmaXhFbmQgPSBwYXRjaC5zdGFydDIgKyBwYXRjaC5sZW5ndGgxICsgcGFkZGluZztcbiAgaWYgKHN1ZmZpeEVuZCA8IHRleHQubGVuZ3RoICYmIGlzTG93U3Vycm9nYXRlKHRleHRbc3VmZml4RW5kXSkpIHtcbiAgICBzdWZmaXhFbmQrKztcbiAgfVxuICBjb25zdCBzdWZmaXggPSB0ZXh0LnN1YnN0cmluZyhwYXRjaC5zdGFydDIgKyBwYXRjaC5sZW5ndGgxLCBzdWZmaXhFbmQpO1xuICBpZiAoc3VmZml4KSB7XG4gICAgcGF0Y2guZGlmZnMucHVzaChbRElGRl9FUVVBTCwgc3VmZml4XSk7XG4gIH1cbiAgY29uc3Qgc3VmZml4TGVuZ3RoID0gc3VmZml4Lmxlbmd0aDtcbiAgY29uc3Qgc3VmZml4VXRmOExlbmd0aCA9IGNvdW50VXRmOEJ5dGVzKHN1ZmZpeCk7XG4gIHBhdGNoLnN0YXJ0MSAtPSBwcmVmaXhMZW5ndGg7XG4gIHBhdGNoLnN0YXJ0MiAtPSBwcmVmaXhMZW5ndGg7XG4gIHBhdGNoLnV0ZjhTdGFydDEgLT0gcHJlZml4VXRmOExlbmd0aDtcbiAgcGF0Y2gudXRmOFN0YXJ0MiAtPSBwcmVmaXhVdGY4TGVuZ3RoO1xuICBwYXRjaC5sZW5ndGgxICs9IHByZWZpeExlbmd0aCArIHN1ZmZpeExlbmd0aDtcbiAgcGF0Y2gubGVuZ3RoMiArPSBwcmVmaXhMZW5ndGggKyBzdWZmaXhMZW5ndGg7XG4gIHBhdGNoLnV0ZjhMZW5ndGgxICs9IHByZWZpeFV0ZjhMZW5ndGggKyBzdWZmaXhVdGY4TGVuZ3RoO1xuICBwYXRjaC51dGY4TGVuZ3RoMiArPSBwcmVmaXhVdGY4TGVuZ3RoICsgc3VmZml4VXRmOExlbmd0aDtcbn1cbmZ1bmN0aW9uIGxldmVuc2h0ZWluKGRpZmZzKSB7XG4gIGxldCBsZXZlbiA9IDA7XG4gIGxldCBpbnNlcnRpb25zID0gMDtcbiAgbGV0IGRlbGV0aW9ucyA9IDA7XG4gIGZvciAobGV0IHggPSAwOyB4IDwgZGlmZnMubGVuZ3RoOyB4KyspIHtcbiAgICBjb25zdCBvcCA9IGRpZmZzW3hdWzBdO1xuICAgIGNvbnN0IGRhdGEgPSBkaWZmc1t4XVsxXTtcbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlIERJRkZfSU5TRVJUOlxuICAgICAgICBpbnNlcnRpb25zICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9ERUxFVEU6XG4gICAgICAgIGRlbGV0aW9ucyArPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfRVFVQUw6XG4gICAgICAgIGxldmVuICs9IE1hdGgubWF4KGluc2VydGlvbnMsIGRlbGV0aW9ucyk7XG4gICAgICAgIGluc2VydGlvbnMgPSAwO1xuICAgICAgICBkZWxldGlvbnMgPSAwO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGlmZiBvcGVyYXRpb24uXCIpO1xuICAgIH1cbiAgfVxuICBsZXZlbiArPSBNYXRoLm1heChpbnNlcnRpb25zLCBkZWxldGlvbnMpO1xuICByZXR1cm4gbGV2ZW47XG59XG5mdW5jdGlvbiB4SW5kZXgoZGlmZnMsIGxvYykge1xuICBsZXQgY2hhcnMxID0gMDtcbiAgbGV0IGNoYXJzMiA9IDA7XG4gIGxldCBsYXN0Q2hhcnMxID0gMDtcbiAgbGV0IGxhc3RDaGFyczIgPSAwO1xuICBsZXQgeDtcbiAgZm9yICh4ID0gMDsgeCA8IGRpZmZzLmxlbmd0aDsgeCsrKSB7XG4gICAgaWYgKGRpZmZzW3hdWzBdICE9PSBESUZGX0lOU0VSVCkge1xuICAgICAgY2hhcnMxICs9IGRpZmZzW3hdWzFdLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGRpZmZzW3hdWzBdICE9PSBESUZGX0RFTEVURSkge1xuICAgICAgY2hhcnMyICs9IGRpZmZzW3hdWzFdLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGNoYXJzMSA+IGxvYykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGxhc3RDaGFyczEgPSBjaGFyczE7XG4gICAgbGFzdENoYXJzMiA9IGNoYXJzMjtcbiAgfVxuICBpZiAoZGlmZnMubGVuZ3RoICE9PSB4ICYmIGRpZmZzW3hdWzBdID09PSBESUZGX0RFTEVURSkge1xuICAgIHJldHVybiBsYXN0Q2hhcnMyO1xuICB9XG4gIHJldHVybiBsYXN0Q2hhcnMyICsgKGxvYyAtIGxhc3RDaGFyczEpO1xufVxuZnVuY3Rpb24gYWRkUGFkZGluZyhwYXRjaGVzKSB7XG4gIGxldCBtYXJnaW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IERFRkFVTFRfTUFSR0lOO1xuICBjb25zdCBwYWRkaW5nTGVuZ3RoID0gbWFyZ2luO1xuICBsZXQgbnVsbFBhZGRpbmcgPSBcIlwiO1xuICBmb3IgKGxldCB4ID0gMTsgeCA8PSBwYWRkaW5nTGVuZ3RoOyB4KyspIHtcbiAgICBudWxsUGFkZGluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHgpO1xuICB9XG4gIGZvciAoY29uc3QgcCBvZiBwYXRjaGVzKSB7XG4gICAgcC5zdGFydDEgKz0gcGFkZGluZ0xlbmd0aDtcbiAgICBwLnN0YXJ0MiArPSBwYWRkaW5nTGVuZ3RoO1xuICAgIHAudXRmOFN0YXJ0MSArPSBwYWRkaW5nTGVuZ3RoO1xuICAgIHAudXRmOFN0YXJ0MiArPSBwYWRkaW5nTGVuZ3RoO1xuICB9XG4gIGxldCBwYXRjaCA9IHBhdGNoZXNbMF07XG4gIGxldCBkaWZmcyA9IHBhdGNoLmRpZmZzO1xuICBpZiAoZGlmZnMubGVuZ3RoID09PSAwIHx8IGRpZmZzWzBdWzBdICE9PSBESUZGX0VRVUFMKSB7XG4gICAgZGlmZnMudW5zaGlmdChbRElGRl9FUVVBTCwgbnVsbFBhZGRpbmddKTtcbiAgICBwYXRjaC5zdGFydDEgLT0gcGFkZGluZ0xlbmd0aDtcbiAgICBwYXRjaC5zdGFydDIgLT0gcGFkZGluZ0xlbmd0aDtcbiAgICBwYXRjaC51dGY4U3RhcnQxIC09IHBhZGRpbmdMZW5ndGg7XG4gICAgcGF0Y2gudXRmOFN0YXJ0MiAtPSBwYWRkaW5nTGVuZ3RoO1xuICAgIHBhdGNoLmxlbmd0aDEgKz0gcGFkZGluZ0xlbmd0aDtcbiAgICBwYXRjaC5sZW5ndGgyICs9IHBhZGRpbmdMZW5ndGg7XG4gICAgcGF0Y2gudXRmOExlbmd0aDEgKz0gcGFkZGluZ0xlbmd0aDtcbiAgICBwYXRjaC51dGY4TGVuZ3RoMiArPSBwYWRkaW5nTGVuZ3RoO1xuICB9IGVsc2UgaWYgKHBhZGRpbmdMZW5ndGggPiBkaWZmc1swXVsxXS5sZW5ndGgpIHtcbiAgICBjb25zdCBmaXJzdERpZmZMZW5ndGggPSBkaWZmc1swXVsxXS5sZW5ndGg7XG4gICAgY29uc3QgZXh0cmFMZW5ndGggPSBwYWRkaW5nTGVuZ3RoIC0gZmlyc3REaWZmTGVuZ3RoO1xuICAgIGRpZmZzWzBdWzFdID0gbnVsbFBhZGRpbmcuc3Vic3RyaW5nKGZpcnN0RGlmZkxlbmd0aCkgKyBkaWZmc1swXVsxXTtcbiAgICBwYXRjaC5zdGFydDEgLT0gZXh0cmFMZW5ndGg7XG4gICAgcGF0Y2guc3RhcnQyIC09IGV4dHJhTGVuZ3RoO1xuICAgIHBhdGNoLnV0ZjhTdGFydDEgLT0gZXh0cmFMZW5ndGg7XG4gICAgcGF0Y2gudXRmOFN0YXJ0MiAtPSBleHRyYUxlbmd0aDtcbiAgICBwYXRjaC5sZW5ndGgxICs9IGV4dHJhTGVuZ3RoO1xuICAgIHBhdGNoLmxlbmd0aDIgKz0gZXh0cmFMZW5ndGg7XG4gICAgcGF0Y2gudXRmOExlbmd0aDEgKz0gZXh0cmFMZW5ndGg7XG4gICAgcGF0Y2gudXRmOExlbmd0aDIgKz0gZXh0cmFMZW5ndGg7XG4gIH1cbiAgcGF0Y2ggPSBwYXRjaGVzW3BhdGNoZXMubGVuZ3RoIC0gMV07XG4gIGRpZmZzID0gcGF0Y2guZGlmZnM7XG4gIGlmIChkaWZmcy5sZW5ndGggPT09IDAgfHwgZGlmZnNbZGlmZnMubGVuZ3RoIC0gMV1bMF0gIT09IERJRkZfRVFVQUwpIHtcbiAgICBkaWZmcy5wdXNoKFtESUZGX0VRVUFMLCBudWxsUGFkZGluZ10pO1xuICAgIHBhdGNoLmxlbmd0aDEgKz0gcGFkZGluZ0xlbmd0aDtcbiAgICBwYXRjaC5sZW5ndGgyICs9IHBhZGRpbmdMZW5ndGg7XG4gICAgcGF0Y2gudXRmOExlbmd0aDEgKz0gcGFkZGluZ0xlbmd0aDtcbiAgICBwYXRjaC51dGY4TGVuZ3RoMiArPSBwYWRkaW5nTGVuZ3RoO1xuICB9IGVsc2UgaWYgKHBhZGRpbmdMZW5ndGggPiBkaWZmc1tkaWZmcy5sZW5ndGggLSAxXVsxXS5sZW5ndGgpIHtcbiAgICBjb25zdCBleHRyYUxlbmd0aCA9IHBhZGRpbmdMZW5ndGggLSBkaWZmc1tkaWZmcy5sZW5ndGggLSAxXVsxXS5sZW5ndGg7XG4gICAgZGlmZnNbZGlmZnMubGVuZ3RoIC0gMV1bMV0gKz0gbnVsbFBhZGRpbmcuc3Vic3RyaW5nKDAsIGV4dHJhTGVuZ3RoKTtcbiAgICBwYXRjaC5sZW5ndGgxICs9IGV4dHJhTGVuZ3RoO1xuICAgIHBhdGNoLmxlbmd0aDIgKz0gZXh0cmFMZW5ndGg7XG4gICAgcGF0Y2gudXRmOExlbmd0aDEgKz0gZXh0cmFMZW5ndGg7XG4gICAgcGF0Y2gudXRmOExlbmd0aDIgKz0gZXh0cmFMZW5ndGg7XG4gIH1cbiAgcmV0dXJuIG51bGxQYWRkaW5nO1xufVxuZnVuY3Rpb24gc3BsaXRNYXgocGF0Y2hlcykge1xuICBsZXQgbWFyZ2luID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBERUZBVUxUX01BUkdJTjtcbiAgY29uc3QgcGF0Y2hTaXplID0gTUFYX0JJVFM7XG4gIGZvciAobGV0IHggPSAwOyB4IDwgcGF0Y2hlcy5sZW5ndGg7IHgrKykge1xuICAgIGlmIChwYXRjaGVzW3hdLmxlbmd0aDEgPD0gcGF0Y2hTaXplKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgYmlncGF0Y2ggPSBwYXRjaGVzW3hdO1xuICAgIHBhdGNoZXMuc3BsaWNlKHgtLSwgMSk7XG4gICAgbGV0IHN0YXJ0MSA9IGJpZ3BhdGNoLnN0YXJ0MTtcbiAgICBsZXQgc3RhcnQyID0gYmlncGF0Y2guc3RhcnQyO1xuICAgIGxldCBwcmVDb250ZXh0ID0gXCJcIjtcbiAgICB3aGlsZSAoYmlncGF0Y2guZGlmZnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICBjb25zdCBwYXRjaCA9IGNyZWF0ZVBhdGNoT2JqZWN0KHN0YXJ0MSAtIHByZUNvbnRleHQubGVuZ3RoLCBzdGFydDIgLSBwcmVDb250ZXh0Lmxlbmd0aCk7XG4gICAgICBsZXQgZW1wdHkgPSB0cnVlO1xuICAgICAgaWYgKHByZUNvbnRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgY29uc3QgcHJlY29udGV4dEJ5dGVDb3VudCA9IGNvdW50VXRmOEJ5dGVzKHByZUNvbnRleHQpO1xuICAgICAgICBwYXRjaC5sZW5ndGgxID0gcHJlQ29udGV4dC5sZW5ndGg7XG4gICAgICAgIHBhdGNoLnV0ZjhMZW5ndGgxID0gcHJlY29udGV4dEJ5dGVDb3VudDtcbiAgICAgICAgcGF0Y2gubGVuZ3RoMiA9IHByZUNvbnRleHQubGVuZ3RoO1xuICAgICAgICBwYXRjaC51dGY4TGVuZ3RoMiA9IHByZWNvbnRleHRCeXRlQ291bnQ7XG4gICAgICAgIHBhdGNoLmRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIHByZUNvbnRleHRdKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChiaWdwYXRjaC5kaWZmcy5sZW5ndGggIT09IDAgJiYgcGF0Y2gubGVuZ3RoMSA8IHBhdGNoU2l6ZSAtIG1hcmdpbikge1xuICAgICAgICBjb25zdCBkaWZmVHlwZSA9IGJpZ3BhdGNoLmRpZmZzWzBdWzBdO1xuICAgICAgICBsZXQgZGlmZlRleHQgPSBiaWdwYXRjaC5kaWZmc1swXVsxXTtcbiAgICAgICAgbGV0IGRpZmZUZXh0Qnl0ZUNvdW50ID0gY291bnRVdGY4Qnl0ZXMoZGlmZlRleHQpO1xuICAgICAgICBpZiAoZGlmZlR5cGUgPT09IERJRkZfSU5TRVJUKSB7XG4gICAgICAgICAgcGF0Y2gubGVuZ3RoMiArPSBkaWZmVGV4dC5sZW5ndGg7XG4gICAgICAgICAgcGF0Y2gudXRmOExlbmd0aDIgKz0gZGlmZlRleHRCeXRlQ291bnQ7XG4gICAgICAgICAgc3RhcnQyICs9IGRpZmZUZXh0Lmxlbmd0aDtcbiAgICAgICAgICBjb25zdCBkaWZmID0gYmlncGF0Y2guZGlmZnMuc2hpZnQoKTtcbiAgICAgICAgICBpZiAoZGlmZikge1xuICAgICAgICAgICAgcGF0Y2guZGlmZnMucHVzaChkaWZmKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChkaWZmVHlwZSA9PT0gRElGRl9ERUxFVEUgJiYgcGF0Y2guZGlmZnMubGVuZ3RoID09PSAxICYmIHBhdGNoLmRpZmZzWzBdWzBdID09PSBESUZGX0VRVUFMICYmIGRpZmZUZXh0Lmxlbmd0aCA+IDIgKiBwYXRjaFNpemUpIHtcbiAgICAgICAgICBwYXRjaC5sZW5ndGgxICs9IGRpZmZUZXh0Lmxlbmd0aDtcbiAgICAgICAgICBwYXRjaC51dGY4TGVuZ3RoMSArPSBkaWZmVGV4dEJ5dGVDb3VudDtcbiAgICAgICAgICBzdGFydDEgKz0gZGlmZlRleHQubGVuZ3RoO1xuICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgcGF0Y2guZGlmZnMucHVzaChbZGlmZlR5cGUsIGRpZmZUZXh0XSk7XG4gICAgICAgICAgYmlncGF0Y2guZGlmZnMuc2hpZnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaWZmVGV4dCA9IGRpZmZUZXh0LnN1YnN0cmluZygwLCBwYXRjaFNpemUgLSBwYXRjaC5sZW5ndGgxIC0gbWFyZ2luKTtcbiAgICAgICAgICBkaWZmVGV4dEJ5dGVDb3VudCA9IGNvdW50VXRmOEJ5dGVzKGRpZmZUZXh0KTtcbiAgICAgICAgICBwYXRjaC5sZW5ndGgxICs9IGRpZmZUZXh0Lmxlbmd0aDtcbiAgICAgICAgICBwYXRjaC51dGY4TGVuZ3RoMSArPSBkaWZmVGV4dEJ5dGVDb3VudDtcbiAgICAgICAgICBzdGFydDEgKz0gZGlmZlRleHQubGVuZ3RoO1xuICAgICAgICAgIGlmIChkaWZmVHlwZSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgICAgICAgcGF0Y2gubGVuZ3RoMiArPSBkaWZmVGV4dC5sZW5ndGg7XG4gICAgICAgICAgICBwYXRjaC51dGY4TGVuZ3RoMiArPSBkaWZmVGV4dEJ5dGVDb3VudDtcbiAgICAgICAgICAgIHN0YXJ0MiArPSBkaWZmVGV4dC5sZW5ndGg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGNoLmRpZmZzLnB1c2goW2RpZmZUeXBlLCBkaWZmVGV4dF0pO1xuICAgICAgICAgIGlmIChkaWZmVGV4dCA9PT0gYmlncGF0Y2guZGlmZnNbMF1bMV0pIHtcbiAgICAgICAgICAgIGJpZ3BhdGNoLmRpZmZzLnNoaWZ0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJpZ3BhdGNoLmRpZmZzWzBdWzFdID0gYmlncGF0Y2guZGlmZnNbMF1bMV0uc3Vic3RyaW5nKGRpZmZUZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcmVDb250ZXh0ID0gZGlmZlRleHQyKHBhdGNoLmRpZmZzKTtcbiAgICAgIHByZUNvbnRleHQgPSBwcmVDb250ZXh0LnN1YnN0cmluZyhwcmVDb250ZXh0Lmxlbmd0aCAtIG1hcmdpbik7XG4gICAgICBjb25zdCBwb3N0Q29udGV4dCA9IGRpZmZUZXh0MShiaWdwYXRjaC5kaWZmcykuc3Vic3RyaW5nKDAsIG1hcmdpbik7XG4gICAgICBjb25zdCBwb3N0Q29udGV4dEJ5dGVDb3VudCA9IGNvdW50VXRmOEJ5dGVzKHBvc3RDb250ZXh0KTtcbiAgICAgIGlmIChwb3N0Q29udGV4dCAhPT0gXCJcIikge1xuICAgICAgICBwYXRjaC5sZW5ndGgxICs9IHBvc3RDb250ZXh0Lmxlbmd0aDtcbiAgICAgICAgcGF0Y2gubGVuZ3RoMiArPSBwb3N0Q29udGV4dC5sZW5ndGg7XG4gICAgICAgIHBhdGNoLnV0ZjhMZW5ndGgxICs9IHBvc3RDb250ZXh0Qnl0ZUNvdW50O1xuICAgICAgICBwYXRjaC51dGY4TGVuZ3RoMiArPSBwb3N0Q29udGV4dEJ5dGVDb3VudDtcbiAgICAgICAgaWYgKHBhdGNoLmRpZmZzLmxlbmd0aCAhPT0gMCAmJiBwYXRjaC5kaWZmc1twYXRjaC5kaWZmcy5sZW5ndGggLSAxXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgICAgIHBhdGNoLmRpZmZzW3BhdGNoLmRpZmZzLmxlbmd0aCAtIDFdWzFdICs9IHBvc3RDb250ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGNoLmRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIHBvc3RDb250ZXh0XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghZW1wdHkpIHtcbiAgICAgICAgcGF0Y2hlcy5zcGxpY2UoKyt4LCAwLCBwYXRjaCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBhcHBseShwYXRjaGVzLCBvcmlnaW5hbFRleHQpIHtcbiAgbGV0IG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICBpZiAodHlwZW9mIHBhdGNoZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRjaGVzIG11c3QgYmUgYW4gYXJyYXkgLSBwYXNzIHRoZSBwYXRjaCB0byBgcGFyc2VQYXRjaCgpYCBmaXJzdFwiKTtcbiAgfVxuICBsZXQgdGV4dCA9IG9yaWdpbmFsVGV4dDtcbiAgaWYgKHBhdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFt0ZXh0LCBbXV07XG4gIH1cbiAgY29uc3QgcGFyc2VkID0gYWRqdXN0SW5kaWNpZXNUb1VjczIocGF0Y2hlcywgdGV4dCwge1xuICAgIGFsbG93RXhjZWVkaW5nSW5kaWNlczogb3B0cy5hbGxvd0V4Y2VlZGluZ0luZGljZXNcbiAgfSk7XG4gIGNvbnN0IG1hcmdpbiA9IG9wdHMubWFyZ2luIHx8IERFRkFVTFRfTUFSR0lOO1xuICBjb25zdCBkZWxldGVUaHJlc2hvbGQgPSBvcHRzLmRlbGV0ZVRocmVzaG9sZCB8fCAwLjQ7XG4gIGNvbnN0IG51bGxQYWRkaW5nID0gYWRkUGFkZGluZyhwYXJzZWQsIG1hcmdpbik7XG4gIHRleHQgPSBudWxsUGFkZGluZyArIHRleHQgKyBudWxsUGFkZGluZztcbiAgc3BsaXRNYXgocGFyc2VkLCBtYXJnaW4pO1xuICBsZXQgZGVsdGEgPSAwO1xuICBjb25zdCByZXN1bHRzID0gW107XG4gIGZvciAobGV0IHggPSAwOyB4IDwgcGFyc2VkLmxlbmd0aDsgeCsrKSB7XG4gICAgY29uc3QgZXhwZWN0ZWRMb2MgPSBwYXJzZWRbeF0uc3RhcnQyICsgZGVsdGE7XG4gICAgY29uc3QgdGV4dDEgPSBkaWZmVGV4dDEocGFyc2VkW3hdLmRpZmZzKTtcbiAgICBsZXQgc3RhcnRMb2M7XG4gICAgbGV0IGVuZExvYyA9IC0xO1xuICAgIGlmICh0ZXh0MS5sZW5ndGggPiBNQVhfQklUUykge1xuICAgICAgc3RhcnRMb2MgPSBtYXRjaCh0ZXh0LCB0ZXh0MS5zdWJzdHJpbmcoMCwgTUFYX0JJVFMpLCBleHBlY3RlZExvYyk7XG4gICAgICBpZiAoc3RhcnRMb2MgIT09IC0xKSB7XG4gICAgICAgIGVuZExvYyA9IG1hdGNoKHRleHQsIHRleHQxLnN1YnN0cmluZyh0ZXh0MS5sZW5ndGggLSBNQVhfQklUUyksIGV4cGVjdGVkTG9jICsgdGV4dDEubGVuZ3RoIC0gTUFYX0JJVFMpO1xuICAgICAgICBpZiAoZW5kTG9jID09PSAtMSB8fCBzdGFydExvYyA+PSBlbmRMb2MpIHtcbiAgICAgICAgICBzdGFydExvYyA9IC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0TG9jID0gbWF0Y2godGV4dCwgdGV4dDEsIGV4cGVjdGVkTG9jKTtcbiAgICB9XG4gICAgaWYgKHN0YXJ0TG9jID09PSAtMSkge1xuICAgICAgcmVzdWx0c1t4XSA9IGZhbHNlO1xuICAgICAgZGVsdGEgLT0gcGFyc2VkW3hdLmxlbmd0aDIgLSBwYXJzZWRbeF0ubGVuZ3RoMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0c1t4XSA9IHRydWU7XG4gICAgICBkZWx0YSA9IHN0YXJ0TG9jIC0gZXhwZWN0ZWRMb2M7XG4gICAgICBsZXQgdGV4dDI7XG4gICAgICBpZiAoZW5kTG9jID09PSAtMSkge1xuICAgICAgICB0ZXh0MiA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0TG9jLCBzdGFydExvYyArIHRleHQxLmxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0MiA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0TG9jLCBlbmRMb2MgKyBNQVhfQklUUyk7XG4gICAgICB9XG4gICAgICBpZiAodGV4dDEgPT09IHRleHQyKSB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBzdGFydExvYykgKyBkaWZmVGV4dDIocGFyc2VkW3hdLmRpZmZzKSArIHRleHQuc3Vic3RyaW5nKHN0YXJ0TG9jICsgdGV4dDEubGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkaWZmcyA9IGRpZmYodGV4dDEsIHRleHQyLCB7XG4gICAgICAgICAgY2hlY2tMaW5lczogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0ZXh0MS5sZW5ndGggPiBNQVhfQklUUyAmJiBsZXZlbnNodGVpbihkaWZmcykgLyB0ZXh0MS5sZW5ndGggPiBkZWxldGVUaHJlc2hvbGQpIHtcbiAgICAgICAgICByZXN1bHRzW3hdID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlmZnMgPSBjbGVhbnVwU2VtYW50aWNMb3NzbGVzcyhkaWZmcyk7XG4gICAgICAgICAgbGV0IGluZGV4MSA9IDA7XG4gICAgICAgICAgbGV0IGluZGV4MiA9IDA7XG4gICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBwYXJzZWRbeF0uZGlmZnMubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1vZCA9IHBhcnNlZFt4XS5kaWZmc1t5XTtcbiAgICAgICAgICAgIGlmIChtb2RbMF0gIT09IERJRkZfRVFVQUwpIHtcbiAgICAgICAgICAgICAgaW5kZXgyID0geEluZGV4KGRpZmZzLCBpbmRleDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vZFswXSA9PT0gRElGRl9JTlNFUlQpIHtcbiAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIHN0YXJ0TG9jICsgaW5kZXgyKSArIG1vZFsxXSArIHRleHQuc3Vic3RyaW5nKHN0YXJ0TG9jICsgaW5kZXgyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kWzBdID09PSBESUZGX0RFTEVURSkge1xuICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgc3RhcnRMb2MgKyBpbmRleDIpICsgdGV4dC5zdWJzdHJpbmcoc3RhcnRMb2MgKyB4SW5kZXgoZGlmZnMsIGluZGV4MSArIG1vZFsxXS5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb2RbMF0gIT09IERJRkZfREVMRVRFKSB7XG4gICAgICAgICAgICAgIGluZGV4MSArPSBtb2RbMV0ubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcobnVsbFBhZGRpbmcubGVuZ3RoLCB0ZXh0Lmxlbmd0aCAtIG51bGxQYWRkaW5nLmxlbmd0aCk7XG4gIHJldHVybiBbdGV4dCwgcmVzdWx0c107XG59XG5mdW5jdGlvbiBzdHJpbmdpZnkocGF0Y2hlcykge1xuICByZXR1cm4gcGF0Y2hlcy5tYXAoc3RyaW5naWZ5UGF0Y2gpLmpvaW4oXCJcIik7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlQYXRjaChwYXRjaCkge1xuICBjb25zdCB7XG4gICAgdXRmOExlbmd0aDEsXG4gICAgdXRmOExlbmd0aDIsXG4gICAgdXRmOFN0YXJ0MSxcbiAgICB1dGY4U3RhcnQyLFxuICAgIGRpZmZzXG4gIH0gPSBwYXRjaDtcbiAgbGV0IGNvb3JkczE7XG4gIGlmICh1dGY4TGVuZ3RoMSA9PT0gMCkge1xuICAgIGNvb3JkczEgPSBcIlwiLmNvbmNhdCh1dGY4U3RhcnQxLCBcIiwwXCIpO1xuICB9IGVsc2UgaWYgKHV0ZjhMZW5ndGgxID09PSAxKSB7XG4gICAgY29vcmRzMSA9IFwiXCIuY29uY2F0KHV0ZjhTdGFydDEgKyAxKTtcbiAgfSBlbHNlIHtcbiAgICBjb29yZHMxID0gXCJcIi5jb25jYXQodXRmOFN0YXJ0MSArIDEsIFwiLFwiKS5jb25jYXQodXRmOExlbmd0aDEpO1xuICB9XG4gIGxldCBjb29yZHMyO1xuICBpZiAodXRmOExlbmd0aDIgPT09IDApIHtcbiAgICBjb29yZHMyID0gXCJcIi5jb25jYXQodXRmOFN0YXJ0MiwgXCIsMFwiKTtcbiAgfSBlbHNlIGlmICh1dGY4TGVuZ3RoMiA9PT0gMSkge1xuICAgIGNvb3JkczIgPSBcIlwiLmNvbmNhdCh1dGY4U3RhcnQyICsgMSk7XG4gIH0gZWxzZSB7XG4gICAgY29vcmRzMiA9IFwiXCIuY29uY2F0KHV0ZjhTdGFydDIgKyAxLCBcIixcIikuY29uY2F0KHV0ZjhMZW5ndGgyKTtcbiAgfVxuICBjb25zdCB0ZXh0ID0gW1wiQEAgLVwiLmNvbmNhdChjb29yZHMxLCBcIiArXCIpLmNvbmNhdChjb29yZHMyLCBcIiBAQFxcblwiKV07XG4gIGxldCBvcDtcbiAgZm9yIChsZXQgeCA9IDA7IHggPCBkaWZmcy5sZW5ndGg7IHgrKykge1xuICAgIHN3aXRjaCAoZGlmZnNbeF1bMF0pIHtcbiAgICAgIGNhc2UgRElGRl9JTlNFUlQ6XG4gICAgICAgIG9wID0gXCIrXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0RFTEVURTpcbiAgICAgICAgb3AgPSBcIi1cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfRVFVQUw6XG4gICAgICAgIG9wID0gXCIgXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBwYXRjaCBvcGVyYXRpb24uXCIpO1xuICAgIH1cbiAgICB0ZXh0W3ggKyAxXSA9IFwiXCIuY29uY2F0KG9wICsgZW5jb2RlVVJJKGRpZmZzW3hdWzFdKSwgXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIHRleHQuam9pbihcIlwiKS5yZXBsYWNlKC8lMjAvZywgXCIgXCIpO1xufVxuY29uc3QgcGF0Y2hIZWFkZXIgPSAvXkBAIC0oXFxkKyksPyhcXGQqKSBcXCsoXFxkKyksPyhcXGQqKSBAQCQvO1xuZnVuY3Rpb24gcGFyc2UodGV4dGxpbmUpIHtcbiAgaWYgKCF0ZXh0bGluZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBwYXRjaGVzID0gW107XG4gIGNvbnN0IGxpbmVzID0gdGV4dGxpbmUuc3BsaXQoXCJcXG5cIik7XG4gIGxldCB0ZXh0UG9pbnRlciA9IDA7XG4gIHdoaWxlICh0ZXh0UG9pbnRlciA8IGxpbmVzLmxlbmd0aCkge1xuICAgIGNvbnN0IG0gPSBsaW5lc1t0ZXh0UG9pbnRlcl0ubWF0Y2gocGF0Y2hIZWFkZXIpO1xuICAgIGlmICghbSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXRjaCBzdHJpbmc6IFwiLmNvbmNhdChsaW5lc1t0ZXh0UG9pbnRlcl0pKTtcbiAgICB9XG4gICAgY29uc3QgcGF0Y2ggPSBjcmVhdGVQYXRjaE9iamVjdCh0b0ludChtWzFdKSwgdG9JbnQobVszXSkpO1xuICAgIHBhdGNoZXMucHVzaChwYXRjaCk7XG4gICAgaWYgKG1bMl0gPT09IFwiXCIpIHtcbiAgICAgIHBhdGNoLnN0YXJ0MS0tO1xuICAgICAgcGF0Y2gudXRmOFN0YXJ0MS0tO1xuICAgICAgcGF0Y2gubGVuZ3RoMSA9IDE7XG4gICAgICBwYXRjaC51dGY4TGVuZ3RoMSA9IDE7XG4gICAgfSBlbHNlIGlmIChtWzJdID09PSBcIjBcIikge1xuICAgICAgcGF0Y2gubGVuZ3RoMSA9IDA7XG4gICAgICBwYXRjaC51dGY4TGVuZ3RoMSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoLnN0YXJ0MS0tO1xuICAgICAgcGF0Y2gudXRmOFN0YXJ0MS0tO1xuICAgICAgcGF0Y2gudXRmOExlbmd0aDEgPSB0b0ludChtWzJdKTtcbiAgICAgIHBhdGNoLmxlbmd0aDEgPSBwYXRjaC51dGY4TGVuZ3RoMTtcbiAgICB9XG4gICAgaWYgKG1bNF0gPT09IFwiXCIpIHtcbiAgICAgIHBhdGNoLnN0YXJ0Mi0tO1xuICAgICAgcGF0Y2gudXRmOFN0YXJ0Mi0tO1xuICAgICAgcGF0Y2gubGVuZ3RoMiA9IDE7XG4gICAgICBwYXRjaC51dGY4TGVuZ3RoMiA9IDE7XG4gICAgfSBlbHNlIGlmIChtWzRdID09PSBcIjBcIikge1xuICAgICAgcGF0Y2gubGVuZ3RoMiA9IDA7XG4gICAgICBwYXRjaC51dGY4TGVuZ3RoMiA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoLnN0YXJ0Mi0tO1xuICAgICAgcGF0Y2gudXRmOFN0YXJ0Mi0tO1xuICAgICAgcGF0Y2gudXRmOExlbmd0aDIgPSB0b0ludChtWzRdKTtcbiAgICAgIHBhdGNoLmxlbmd0aDIgPSBwYXRjaC51dGY4TGVuZ3RoMjtcbiAgICB9XG4gICAgdGV4dFBvaW50ZXIrKztcbiAgICB3aGlsZSAodGV4dFBvaW50ZXIgPCBsaW5lcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRMaW5lID0gbGluZXNbdGV4dFBvaW50ZXJdO1xuICAgICAgY29uc3Qgc2lnbiA9IGN1cnJlbnRMaW5lLmNoYXJBdCgwKTtcbiAgICAgIGlmIChzaWduID09PSBcIkBcIikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChzaWduID09PSBcIlwiKSB7XG4gICAgICAgIHRleHRQb2ludGVyKys7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgbGV0IGxpbmU7XG4gICAgICB0cnkge1xuICAgICAgICBsaW5lID0gZGVjb2RlVVJJKGN1cnJlbnRMaW5lLnNsaWNlKDEpKTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgZXNjYXBlIGluIHBhcnNlOiBcIi5jb25jYXQoY3VycmVudExpbmUpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHV0ZjhEaWZmID0gY291bnRVdGY4Qnl0ZXMobGluZSkgLSBsaW5lLmxlbmd0aDtcbiAgICAgIGlmIChzaWduID09PSBcIi1cIikge1xuICAgICAgICBwYXRjaC5kaWZmcy5wdXNoKFtESUZGX0RFTEVURSwgbGluZV0pO1xuICAgICAgICBwYXRjaC5sZW5ndGgxIC09IHV0ZjhEaWZmO1xuICAgICAgfSBlbHNlIGlmIChzaWduID09PSBcIitcIikge1xuICAgICAgICBwYXRjaC5kaWZmcy5wdXNoKFtESUZGX0lOU0VSVCwgbGluZV0pO1xuICAgICAgICBwYXRjaC5sZW5ndGgyIC09IHV0ZjhEaWZmO1xuICAgICAgfSBlbHNlIGlmIChzaWduID09PSBcIiBcIikge1xuICAgICAgICBwYXRjaC5kaWZmcy5wdXNoKFtESUZGX0VRVUFMLCBsaW5lXSk7XG4gICAgICAgIHBhdGNoLmxlbmd0aDEgLT0gdXRmOERpZmY7XG4gICAgICAgIHBhdGNoLmxlbmd0aDIgLT0gdXRmOERpZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhdGNoIG1vZGUgXFxcIlwiLmNvbmNhdChzaWduLCBcIlxcXCIgaW46IFwiKS5jb25jYXQobGluZSkpO1xuICAgICAgfVxuICAgICAgdGV4dFBvaW50ZXIrKztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhdGNoZXM7XG59XG5mdW5jdGlvbiB0b0ludChudW0pIHtcbiAgcmV0dXJuIHBhcnNlSW50KG51bSwgMTApO1xufVxuZXhwb3J0IHsgRElGRl9ERUxFVEUsIERJRkZfRVFVQUwsIERJRkZfSU5TRVJULCBhZGp1c3RJbmRpY2llc1RvVWNzMiwgYXBwbHkgYXMgYXBwbHlQYXRjaGVzLCBjbGVhbnVwRWZmaWNpZW5jeSwgY2xlYW51cFNlbWFudGljLCBkaWZmIGFzIG1ha2VEaWZmLCBtYWtlIGFzIG1ha2VQYXRjaGVzLCBtYXRjaCwgcGFyc2UgYXMgcGFyc2VQYXRjaCwgc3RyaW5naWZ5UGF0Y2gsIHN0cmluZ2lmeSBhcyBzdHJpbmdpZnlQYXRjaGVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/diff-match-patch/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/diff/lib/index.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@sanity/diff/lib/index.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diffInput: () => (/* binding */ diffInput),\n/* harmony export */   wrap: () => (/* binding */ wrap)\n/* harmony export */ });\n/* harmony import */ var _sanity_diff_match_patch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sanity/diff-match-patch */ \"(ssr)/./node_modules/@sanity/diff-match-patch/dist/index.js\");\n\nfunction replaceProperty(parent, prop, value) {\n  return delete parent[prop], parent[prop] = value, value;\n}\nfunction getLongestCommonSubsequence(previous, next) {\n  const matrix = getLengthMatrix(previous, next);\n  return backtrack(matrix, previous, next);\n}\nfunction getLengthMatrix(previous, next) {\n  const len1 = previous.length, len2 = next.length;\n  let x = 0, y = 0;\n  const matrix = new Array(len1 + 1);\n  for (x = 0; x < len1 + 1; x++)\n    for (matrix[x] = [len2 + 1], y = 0; y < len2 + 1; y++)\n      matrix[x][y] = 0;\n  for (x = 1; x < len1 + 1; x++)\n    for (y = 1; y < len2 + 1; y++)\n      previous[x - 1] === next[y - 1] ? matrix[x][y] = matrix[x - 1][y - 1] + 1 : matrix[x][y] = Math.max(matrix[x - 1][y], matrix[x][y - 1]);\n  return matrix;\n}\nfunction backtrack(matrix, previous, next) {\n  let prevIndex = previous.length, nextIndex = next.length;\n  const subsequence = {\n    sequence: [],\n    prevIndices: [],\n    nextIndices: []\n  };\n  for (; prevIndex !== 0 && nextIndex !== 0; )\n    if (previous[prevIndex - 1] === next[nextIndex - 1])\n      subsequence.sequence.unshift(previous[prevIndex - 1]), subsequence.prevIndices.unshift(prevIndex - 1), subsequence.nextIndices.unshift(nextIndex - 1), --prevIndex, --nextIndex;\n    else {\n      const valueAtMatrixAbove = matrix[prevIndex][nextIndex - 1], valueAtMatrixLeft = matrix[prevIndex - 1][nextIndex];\n      valueAtMatrixAbove > valueAtMatrixLeft ? --nextIndex : --prevIndex;\n    }\n  return subsequence;\n}\nfunction diffArray(fromInput, toInput, options) {\n  if (fromInput === toInput) {\n    const fromValue = fromInput.value, toValue = toInput.value;\n    return {\n      type: \"array\",\n      action: \"unchanged\",\n      isChanged: !1,\n      fromValue,\n      toValue,\n      get items() {\n        const items2 = diffExactByPosition(fromInput, toInput, options);\n        if (!items2) throw new Error(\"invariant broken: equivalent input, but diff detected\");\n        return replaceProperty(this, \"items\", items2);\n      }\n    };\n  }\n  const keyedA = indexByKey(fromInput), keyedB = indexByKey(toInput);\n  if (keyedA && keyedB)\n    return diffArrayByKey(fromInput, keyedA, toInput, keyedB);\n  const items = diffExactByPosition(fromInput, toInput, options);\n  return items ? buildArrayDiff(fromInput, toInput, items, !1) : diffArrayByReinsert(fromInput, toInput);\n}\nfunction buildArrayDiff(fromInput, toInput, items, isChanged) {\n  const fromValue = fromInput.value, toValue = toInput.value;\n  return isChanged ? {\n    type: \"array\",\n    action: \"changed\",\n    isChanged: !0,\n    fromValue,\n    toValue,\n    items,\n    annotation: toInput.annotation\n  } : {\n    type: \"array\",\n    action: \"unchanged\",\n    isChanged: !1,\n    fromValue,\n    toValue,\n    items\n  };\n}\nfunction diffExactByPosition(fromInput, toInput, options) {\n  if (fromInput.length !== toInput.length)\n    return;\n  const items = [];\n  for (let idx = 0; idx < fromInput.length; idx++) {\n    const diff = diffInput(fromInput.at(idx), toInput.at(idx), options);\n    if (diff.isChanged)\n      return;\n    items.push({\n      fromIndex: idx,\n      toIndex: idx,\n      hasMoved: !1,\n      diff,\n      annotation: toInput.annotationAt(idx)\n    });\n  }\n  return items;\n}\nfunction diffArrayByReinsert(fromInput, toInput, options) {\n  const items = [];\n  for (let idx = 0; idx < toInput.length; idx++) {\n    const input = toInput.at(idx);\n    items.push({\n      fromIndex: void 0,\n      toIndex: idx,\n      hasMoved: !1,\n      diff: addedInput(input, void 0),\n      annotation: input.annotation\n    });\n  }\n  for (let idx = 0; idx < fromInput.length; idx++) {\n    const input = fromInput.at(idx);\n    items.push({\n      fromIndex: idx,\n      toIndex: void 0,\n      hasMoved: !1,\n      diff: removedInput(input, void 0),\n      annotation: input.annotation\n    });\n  }\n  return buildArrayDiff(fromInput, toInput, items, !0);\n}\nfunction diffArrayByKey(fromArray, fromKeyIndex, toArray, toKeyIndex, options) {\n  const items = [];\n  let isChanged = !1;\n  function diffCommon(key, fromIndex, toIndex, hasMoved) {\n    deletePositionInIndex(fromKeyIndex.index, key, fromIndex), deletePositionInIndex(toKeyIndex.index, key, toIndex);\n    const fromInput = fromArray.at(fromIndex), toInput = toArray.at(toIndex), diff = diffInput(fromInput, toInput);\n    items.push({\n      fromIndex,\n      toIndex,\n      hasMoved,\n      diff,\n      annotation: toArray.annotationAt(toIndex)\n    }), (diff.isChanged || fromIndex !== toIndex) && (isChanged = !0);\n  }\n  const lcs = getLongestCommonSubsequence(fromKeyIndex.keys, toKeyIndex.keys);\n  for (let fromIndex = 0; fromIndex < fromKeyIndex.keys.length; fromIndex++) {\n    const key = fromKeyIndex.keys[fromIndex], subsequenceIdx = lcs.prevIndices.indexOf(fromIndex);\n    if (subsequenceIdx !== -1) {\n      diffCommon(key, fromIndex, lcs.nextIndices[subsequenceIdx], !1);\n      continue;\n    }\n    const toIndexes = toKeyIndex.index.get(key), toIndex = toIndexes && toIndexes.find((idx) => !lcs.nextIndices.includes(idx));\n    if (toIndex !== void 0) {\n      diffCommon(key, fromIndex, toIndex, !0);\n      continue;\n    }\n    const input = fromArray.at(fromIndex);\n    items.push({\n      fromIndex,\n      toIndex: void 0,\n      hasMoved: !1,\n      diff: removedInput(input, void 0),\n      annotation: fromArray.annotationAt(fromIndex)\n    }), isChanged = !0;\n  }\n  for (const positions of toKeyIndex.index.values()) {\n    for (const toIndex of positions) {\n      const input = toArray.at(toIndex);\n      items.push({\n        fromIndex: void 0,\n        toIndex,\n        hasMoved: !1,\n        diff: addedInput(input, void 0),\n        annotation: toArray.annotationAt(toIndex)\n      });\n    }\n    isChanged = !0;\n  }\n  return items.sort(compareItemDiff), buildArrayDiff(fromArray, toArray, items, isChanged);\n}\nfunction compareItemDiff(a, b) {\n  if (a.toIndex !== void 0 && b.toIndex !== void 0)\n    return a.toIndex - b.toIndex;\n  if (a.fromIndex !== void 0 && b.fromIndex !== void 0)\n    return a.fromIndex - b.fromIndex;\n  if (a.fromIndex !== void 0 && b.toIndex !== void 0)\n    return -1;\n  if (a.toIndex !== void 0 && b.fromIndex !== void 0)\n    return 1;\n  throw new Error(\"invalid item diff comparison\");\n}\nfunction deletePositionInIndex(index, key, pos) {\n  const positions = index.get(key);\n  deleteArrayValue(positions, pos), positions.length === 0 && index.delete(key);\n}\nfunction deleteArrayValue(arr, value) {\n  const idx = arr.indexOf(value);\n  if (idx === -1) throw new Error(\"value not found\");\n  arr.splice(idx, 1);\n}\nfunction indexByKey(arr) {\n  const index = /* @__PURE__ */ new Map(), keys = [], length = arr.length;\n  for (let i = 0; i < length; i++) {\n    const item = arr.at(i);\n    let key = null;\n    switch (item.type) {\n      case \"string\":\n        key = `s${item.value}`;\n        break;\n      case \"number\":\n        key = item.value;\n        break;\n      case \"boolean\":\n        key = item.value;\n        break;\n      case \"null\":\n        key = \"n\";\n        break;\n      case \"object\":\n        {\n          const keyField = item.get(\"_key\");\n          if (keyField && keyField.type === \"string\" && (key = `k${keyField.value}`, index.has(key)))\n            return;\n        }\n        break;\n    }\n    if (key === null) return;\n    keys.push(key);\n    let positions = index.get(key);\n    positions || (positions = [], index.set(key, positions)), positions.push(i);\n  }\n  return { keys, index };\n}\nfunction removedArray(input, toValue, options) {\n  return {\n    type: \"array\",\n    action: \"removed\",\n    isChanged: !0,\n    fromValue: input.value,\n    toValue,\n    annotation: input.annotation,\n    get items() {\n      const items = [];\n      for (let i = 0; i < input.length; i++) {\n        const item = input.at(i);\n        items.push({\n          fromIndex: i,\n          toIndex: void 0,\n          hasMoved: !1,\n          diff: removedInput(item, void 0),\n          annotation: input.annotationAt(i)\n        });\n      }\n      return replaceProperty(this, \"items\", items);\n    }\n  };\n}\nfunction addedArray(input, fromValue, options) {\n  return {\n    type: \"array\",\n    action: \"added\",\n    isChanged: !0,\n    fromValue,\n    toValue: input.value,\n    annotation: input.annotation,\n    get items() {\n      const items = [];\n      for (let i = 0; i < input.length; i++) {\n        const item = input.at(i);\n        items.push({\n          fromIndex: void 0,\n          toIndex: i,\n          hasMoved: !1,\n          diff: addedInput(item, void 0),\n          annotation: input.annotationAt(i)\n        });\n      }\n      return replaceProperty(this, \"items\", items);\n    }\n  };\n}\nconst ignoredFields = /* @__PURE__ */ new Set([\"_id\", \"_type\", \"_createdAt\", \"_updatedAt\", \"_rev\", \"_weak\"]);\nfunction diffObject(fromInput, toInput, options) {\n  const fields = {};\n  let isChanged = !1;\n  for (const key of fromInput.keys) {\n    if (ignoredFields.has(key)) continue;\n    const fromField = fromInput.get(key), toField = toInput.get(key);\n    if (toField) {\n      const fieldDiff = diffInput(fromField, toField, options);\n      fields[key] = fieldDiff, fieldDiff.isChanged && (isChanged = !0);\n    } else\n      fields[key] = removedInput(fromField, void 0), isChanged = !0;\n  }\n  for (const key of toInput.keys) {\n    if (ignoredFields.has(key) || fromInput.get(key)) continue;\n    const toField = toInput.get(key);\n    fields[key] = addedInput(toField, void 0), isChanged = !0;\n  }\n  const fromValue = fromInput.value, toValue = toInput.value;\n  return isChanged ? {\n    type: \"object\",\n    action: \"changed\",\n    isChanged: !0,\n    fromValue,\n    toValue,\n    fields,\n    annotation: toInput.annotation\n  } : {\n    type: \"object\",\n    action: \"unchanged\",\n    isChanged: !1,\n    fromValue,\n    toValue,\n    fields\n  };\n}\nfunction removedObject(input, toValue, options) {\n  return {\n    type: \"object\",\n    action: \"removed\",\n    isChanged: !0,\n    fromValue: input.value,\n    toValue,\n    annotation: input.annotation,\n    get fields() {\n      const fields = {};\n      for (const key of input.keys) {\n        const value = input.get(key);\n        fields[key] = removedInput(value, void 0);\n      }\n      return replaceProperty(this, \"fields\", fields);\n    }\n  };\n}\nfunction addedObject(input, fromValue, options) {\n  return {\n    type: \"object\",\n    action: \"added\",\n    isChanged: !0,\n    fromValue,\n    toValue: input.value,\n    annotation: input.annotation,\n    get fields() {\n      const fields = {};\n      for (const key of input.keys) {\n        const value = input.get(key);\n        fields[key] = addedInput(value, void 0);\n      }\n      return replaceProperty(this, \"fields\", fields);\n    }\n  };\n}\nfunction diffNumber(fromInput, toInput, options) {\n  const fromValue = fromInput.value, toValue = toInput.value, type = fromInput.type;\n  return fromValue === toValue ? {\n    type,\n    action: \"unchanged\",\n    fromValue,\n    toValue,\n    isChanged: !1\n  } : {\n    type: fromInput.type,\n    action: \"changed\",\n    isChanged: !0,\n    fromValue,\n    toValue,\n    annotation: toInput.annotation\n  };\n}\nfunction diffBoolean(fromInput, toInput, options) {\n  const fromValue = fromInput.value, toValue = toInput.value, type = fromInput.type;\n  return fromValue === toValue ? {\n    type,\n    action: \"unchanged\",\n    fromValue,\n    toValue,\n    isChanged: !1\n  } : {\n    type: fromInput.type,\n    action: \"changed\",\n    isChanged: !0,\n    fromValue,\n    toValue,\n    annotation: toInput.annotation\n  };\n}\nfunction diffString(fromInput, toInput, options) {\n  const fromValue = fromInput.value, toValue = toInput.value;\n  return fromValue === toValue ? {\n    type: \"string\",\n    action: \"unchanged\",\n    isChanged: !1,\n    fromValue,\n    toValue,\n    segments: [{ type: \"stringSegment\", action: \"unchanged\", text: fromValue }]\n  } : {\n    type: \"string\",\n    action: \"changed\",\n    isChanged: !0,\n    fromValue,\n    toValue,\n    annotation: toInput.annotation,\n    // Compute and memoize string segments only when accessed\n    get segments() {\n      const segments = buildSegments(fromInput, toInput);\n      return replaceProperty(this, \"segments\", segments);\n    }\n  };\n}\nfunction buildSegments(fromInput, toInput) {\n  const segments = [], dmpDiffs = (0,_sanity_diff_match_patch__WEBPACK_IMPORTED_MODULE_0__.cleanupSemantic)((0,_sanity_diff_match_patch__WEBPACK_IMPORTED_MODULE_0__.makeDiff)(fromInput.value, toInput.value));\n  let fromIdx = 0, toIdx = 0;\n  for (const [op, text] of dmpDiffs)\n    switch (op) {\n      case _sanity_diff_match_patch__WEBPACK_IMPORTED_MODULE_0__.DIFF_EQUAL:\n        segments.push({ type: \"stringSegment\", action: \"unchanged\", text }), fromIdx += text.length, toIdx += text.length;\n        break;\n      case _sanity_diff_match_patch__WEBPACK_IMPORTED_MODULE_0__.DIFF_DELETE:\n        for (const segment of fromInput.sliceAnnotation(fromIdx, fromIdx + text.length))\n          segments.push({\n            type: \"stringSegment\",\n            action: \"removed\",\n            text: segment.text,\n            annotation: segment.annotation\n          });\n        fromIdx += text.length;\n        break;\n      case _sanity_diff_match_patch__WEBPACK_IMPORTED_MODULE_0__.DIFF_INSERT:\n        for (const segment of toInput.sliceAnnotation(toIdx, toIdx + text.length))\n          segments.push({\n            type: \"stringSegment\",\n            action: \"added\",\n            text: segment.text,\n            annotation: segment.annotation\n          });\n        toIdx += text.length;\n        break;\n      default:\n        throw new Error(`Unhandled diff-match-patch operation \"${op}\"`);\n    }\n  return segments;\n}\nfunction removedString(input, toValue, options) {\n  return {\n    type: \"string\",\n    action: \"removed\",\n    isChanged: !0,\n    fromValue: input.value,\n    toValue,\n    annotation: input.annotation,\n    get segments() {\n      const segments = input.sliceAnnotation(0, input.value.length).map((segment) => ({ type: \"stringSegment\", action: \"removed\", ...segment }));\n      return replaceProperty(this, \"segments\", segments);\n    }\n  };\n}\nfunction addedString(input, fromValue, options) {\n  return {\n    type: \"string\",\n    action: \"added\",\n    isChanged: !0,\n    fromValue,\n    toValue: input.value,\n    annotation: input.annotation,\n    get segments() {\n      const segments = input.sliceAnnotation(0, input.value.length).map((segment) => ({ type: \"stringSegment\", action: \"added\", ...segment }));\n      return replaceProperty(this, \"segments\", segments);\n    }\n  };\n}\nfunction diffTypeChange(fromInput, toInput, options) {\n  return {\n    type: \"typeChange\",\n    action: \"changed\",\n    isChanged: !0,\n    fromType: fromInput.type,\n    fromValue: fromInput.value,\n    fromDiff: removedInput(fromInput, void 0),\n    toType: toInput.type,\n    toValue: toInput.value,\n    toDiff: addedInput(toInput, void 0),\n    annotation: toInput.annotation\n  };\n}\nfunction diffInput(fromInput, toInput, options = {}) {\n  return fromInput.type !== toInput.type ? fromInput.type === \"null\" ? addedInput(toInput, null) : toInput.type === \"null\" ? removedInput(fromInput, null) : diffTypeChange(fromInput, toInput) : diffWithType(fromInput.type, fromInput, toInput, options);\n}\nfunction diffWithType(type, fromInput, toInput, options) {\n  switch (type) {\n    case \"null\":\n      return {\n        type: \"null\",\n        action: \"unchanged\",\n        isChanged: !1,\n        toValue: null,\n        fromValue: null\n      };\n    case \"boolean\":\n      return diffBoolean(fromInput, toInput);\n    case \"number\":\n      return diffNumber(fromInput, toInput);\n    case \"string\":\n      return diffString(fromInput, toInput);\n    case \"array\":\n      return diffArray(fromInput, toInput, options);\n    case \"object\":\n      return diffObject(fromInput, toInput, options);\n    default:\n      throw new Error(`Unhandled diff type \"${type}\"`);\n  }\n}\nfunction removedInput(input, toValue, options) {\n  switch (input.type) {\n    case \"null\":\n      return {\n        type: \"null\",\n        action: \"removed\",\n        isChanged: !0,\n        fromValue: null,\n        toValue,\n        annotation: input.annotation\n      };\n    case \"boolean\":\n      return {\n        type: \"boolean\",\n        action: \"removed\",\n        isChanged: !0,\n        fromValue: input.value,\n        toValue,\n        annotation: input.annotation\n      };\n    case \"number\":\n      return {\n        type: \"number\",\n        action: \"removed\",\n        isChanged: !0,\n        fromValue: input.value,\n        toValue,\n        annotation: input.annotation\n      };\n    case \"string\":\n      return removedString(input, toValue);\n    case \"array\":\n      return removedArray(input, toValue);\n    case \"object\":\n      return removedObject(input, toValue);\n    default:\n      throw new Error(\"Unhandled diff type\");\n  }\n}\nfunction addedInput(input, fromValue, options) {\n  switch (input.type) {\n    case \"null\":\n      return {\n        type: \"null\",\n        action: \"added\",\n        isChanged: !0,\n        fromValue,\n        toValue: null,\n        annotation: input.annotation\n      };\n    case \"boolean\":\n      return {\n        type: \"boolean\",\n        action: \"added\",\n        isChanged: !0,\n        fromValue,\n        toValue: input.value,\n        annotation: input.annotation\n      };\n    case \"number\":\n      return {\n        type: \"number\",\n        action: \"added\",\n        isChanged: !0,\n        fromValue,\n        toValue: input.value,\n        annotation: input.annotation\n      };\n    case \"string\":\n      return addedString(input, fromValue);\n    case \"array\":\n      return addedArray(input, fromValue);\n    case \"object\":\n      return addedObject(input, fromValue);\n    default:\n      throw new Error(\"Unhandled diff type\");\n  }\n}\nvar __defProp$3 = Object.defineProperty, __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$3 = (obj, key, value) => __defNormalProp$3(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass ArrayWrapper {\n  constructor(value, annotation) {\n    __publicField$3(this, \"type\", \"array\"), __publicField$3(this, \"length\"), __publicField$3(this, \"value\"), __publicField$3(this, \"annotation\"), __publicField$3(this, \"elements\", []), this.annotation = annotation, this.value = value, this.length = value.length;\n  }\n  at(idx) {\n    if (idx >= this.length) throw new Error(\"out of bounds\");\n    return this.elements[idx] || (this.elements[idx] = wrap(this.value[idx], this.annotation));\n  }\n  annotationAt() {\n    return this.annotation;\n  }\n}\nvar __defProp$2 = Object.defineProperty, __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$2 = (obj, key, value) => __defNormalProp$2(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass BasicWrapper {\n  constructor(type, value, annotation) {\n    __publicField$2(this, \"type\"), __publicField$2(this, \"value\"), __publicField$2(this, \"annotation\"), this.type = type, this.value = value, this.annotation = annotation;\n  }\n}\nvar __defProp$1 = Object.defineProperty, __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$1 = (obj, key, value) => __defNormalProp$1(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass ObjectWrapper {\n  constructor(value, annotation) {\n    __publicField$1(this, \"type\", \"object\"), __publicField$1(this, \"value\"), __publicField$1(this, \"keys\"), __publicField$1(this, \"annotation\"), __publicField$1(this, \"fields\", {}), this.value = value, this.annotation = annotation, this.keys = Object.keys(value);\n  }\n  get(key) {\n    const input = this.fields[key];\n    if (input)\n      return input;\n    if (!this.value.hasOwnProperty(key))\n      return;\n    const raw = this.value[key];\n    return this.fields[key] = wrap(raw, this.annotation);\n  }\n}\nvar __defProp = Object.defineProperty, __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField = (obj, key, value) => __defNormalProp(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass StringWrapper {\n  constructor(value, annotation) {\n    __publicField(this, \"type\", \"string\"), __publicField(this, \"value\"), __publicField(this, \"annotation\"), this.value = value, this.annotation = annotation;\n  }\n  sliceAnnotation(start, end) {\n    return [{ text: this.value.slice(start, end), annotation: this.annotation }];\n  }\n}\nfunction wrap(input, annotation) {\n  if (Array.isArray(input))\n    return new ArrayWrapper(input, annotation);\n  if (input === null)\n    return new BasicWrapper(\"null\", input, annotation);\n  const type = typeof input;\n  switch (type) {\n    case \"number\":\n      return new BasicWrapper(type, input, annotation);\n    case \"boolean\":\n      return new BasicWrapper(type, input, annotation);\n    case \"object\":\n      return new ObjectWrapper(input, annotation);\n    case \"string\":\n      return new StringWrapper(input, annotation);\n    default:\n      throw new Error(`cannot wrap value of type: ${type}`);\n  }\n}\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9kaWZmL2xpYi9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJHO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUIsd0NBQXdDLGNBQWM7QUFDdEQ7QUFDQSxjQUFjLGNBQWM7QUFDNUIsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG9DQUFvQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0JBQXdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9CQUFvQix3QkFBd0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwwQkFB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlIQUFpSCx1REFBdUQ7QUFDeEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUVBQWlFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxLQUFLO0FBQ3pEO0FBQ0E7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2RpZmYvbGliL2luZGV4Lm1qcz84ZmE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsZWFudXBTZW1hbnRpYywgbWFrZURpZmYsIERJRkZfSU5TRVJULCBESUZGX0RFTEVURSwgRElGRl9FUVVBTCB9IGZyb20gXCJAc2FuaXR5L2RpZmYtbWF0Y2gtcGF0Y2hcIjtcbmZ1bmN0aW9uIHJlcGxhY2VQcm9wZXJ0eShwYXJlbnQsIHByb3AsIHZhbHVlKSB7XG4gIHJldHVybiBkZWxldGUgcGFyZW50W3Byb3BdLCBwYXJlbnRbcHJvcF0gPSB2YWx1ZSwgdmFsdWU7XG59XG5mdW5jdGlvbiBnZXRMb25nZXN0Q29tbW9uU3Vic2VxdWVuY2UocHJldmlvdXMsIG5leHQpIHtcbiAgY29uc3QgbWF0cml4ID0gZ2V0TGVuZ3RoTWF0cml4KHByZXZpb3VzLCBuZXh0KTtcbiAgcmV0dXJuIGJhY2t0cmFjayhtYXRyaXgsIHByZXZpb3VzLCBuZXh0KTtcbn1cbmZ1bmN0aW9uIGdldExlbmd0aE1hdHJpeChwcmV2aW91cywgbmV4dCkge1xuICBjb25zdCBsZW4xID0gcHJldmlvdXMubGVuZ3RoLCBsZW4yID0gbmV4dC5sZW5ndGg7XG4gIGxldCB4ID0gMCwgeSA9IDA7XG4gIGNvbnN0IG1hdHJpeCA9IG5ldyBBcnJheShsZW4xICsgMSk7XG4gIGZvciAoeCA9IDA7IHggPCBsZW4xICsgMTsgeCsrKVxuICAgIGZvciAobWF0cml4W3hdID0gW2xlbjIgKyAxXSwgeSA9IDA7IHkgPCBsZW4yICsgMTsgeSsrKVxuICAgICAgbWF0cml4W3hdW3ldID0gMDtcbiAgZm9yICh4ID0gMTsgeCA8IGxlbjEgKyAxOyB4KyspXG4gICAgZm9yICh5ID0gMTsgeSA8IGxlbjIgKyAxOyB5KyspXG4gICAgICBwcmV2aW91c1t4IC0gMV0gPT09IG5leHRbeSAtIDFdID8gbWF0cml4W3hdW3ldID0gbWF0cml4W3ggLSAxXVt5IC0gMV0gKyAxIDogbWF0cml4W3hdW3ldID0gTWF0aC5tYXgobWF0cml4W3ggLSAxXVt5XSwgbWF0cml4W3hdW3kgLSAxXSk7XG4gIHJldHVybiBtYXRyaXg7XG59XG5mdW5jdGlvbiBiYWNrdHJhY2sobWF0cml4LCBwcmV2aW91cywgbmV4dCkge1xuICBsZXQgcHJldkluZGV4ID0gcHJldmlvdXMubGVuZ3RoLCBuZXh0SW5kZXggPSBuZXh0Lmxlbmd0aDtcbiAgY29uc3Qgc3Vic2VxdWVuY2UgPSB7XG4gICAgc2VxdWVuY2U6IFtdLFxuICAgIHByZXZJbmRpY2VzOiBbXSxcbiAgICBuZXh0SW5kaWNlczogW11cbiAgfTtcbiAgZm9yICg7IHByZXZJbmRleCAhPT0gMCAmJiBuZXh0SW5kZXggIT09IDA7IClcbiAgICBpZiAocHJldmlvdXNbcHJldkluZGV4IC0gMV0gPT09IG5leHRbbmV4dEluZGV4IC0gMV0pXG4gICAgICBzdWJzZXF1ZW5jZS5zZXF1ZW5jZS51bnNoaWZ0KHByZXZpb3VzW3ByZXZJbmRleCAtIDFdKSwgc3Vic2VxdWVuY2UucHJldkluZGljZXMudW5zaGlmdChwcmV2SW5kZXggLSAxKSwgc3Vic2VxdWVuY2UubmV4dEluZGljZXMudW5zaGlmdChuZXh0SW5kZXggLSAxKSwgLS1wcmV2SW5kZXgsIC0tbmV4dEluZGV4O1xuICAgIGVsc2Uge1xuICAgICAgY29uc3QgdmFsdWVBdE1hdHJpeEFib3ZlID0gbWF0cml4W3ByZXZJbmRleF1bbmV4dEluZGV4IC0gMV0sIHZhbHVlQXRNYXRyaXhMZWZ0ID0gbWF0cml4W3ByZXZJbmRleCAtIDFdW25leHRJbmRleF07XG4gICAgICB2YWx1ZUF0TWF0cml4QWJvdmUgPiB2YWx1ZUF0TWF0cml4TGVmdCA/IC0tbmV4dEluZGV4IDogLS1wcmV2SW5kZXg7XG4gICAgfVxuICByZXR1cm4gc3Vic2VxdWVuY2U7XG59XG5mdW5jdGlvbiBkaWZmQXJyYXkoZnJvbUlucHV0LCB0b0lucHV0LCBvcHRpb25zKSB7XG4gIGlmIChmcm9tSW5wdXQgPT09IHRvSW5wdXQpIHtcbiAgICBjb25zdCBmcm9tVmFsdWUgPSBmcm9tSW5wdXQudmFsdWUsIHRvVmFsdWUgPSB0b0lucHV0LnZhbHVlO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICBhY3Rpb246IFwidW5jaGFuZ2VkXCIsXG4gICAgICBpc0NoYW5nZWQ6ICExLFxuICAgICAgZnJvbVZhbHVlLFxuICAgICAgdG9WYWx1ZSxcbiAgICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgY29uc3QgaXRlbXMyID0gZGlmZkV4YWN0QnlQb3NpdGlvbihmcm9tSW5wdXQsIHRvSW5wdXQsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIWl0ZW1zMikgdGhyb3cgbmV3IEVycm9yKFwiaW52YXJpYW50IGJyb2tlbjogZXF1aXZhbGVudCBpbnB1dCwgYnV0IGRpZmYgZGV0ZWN0ZWRcIik7XG4gICAgICAgIHJldHVybiByZXBsYWNlUHJvcGVydHkodGhpcywgXCJpdGVtc1wiLCBpdGVtczIpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgY29uc3Qga2V5ZWRBID0gaW5kZXhCeUtleShmcm9tSW5wdXQpLCBrZXllZEIgPSBpbmRleEJ5S2V5KHRvSW5wdXQpO1xuICBpZiAoa2V5ZWRBICYmIGtleWVkQilcbiAgICByZXR1cm4gZGlmZkFycmF5QnlLZXkoZnJvbUlucHV0LCBrZXllZEEsIHRvSW5wdXQsIGtleWVkQik7XG4gIGNvbnN0IGl0ZW1zID0gZGlmZkV4YWN0QnlQb3NpdGlvbihmcm9tSW5wdXQsIHRvSW5wdXQsIG9wdGlvbnMpO1xuICByZXR1cm4gaXRlbXMgPyBidWlsZEFycmF5RGlmZihmcm9tSW5wdXQsIHRvSW5wdXQsIGl0ZW1zLCAhMSkgOiBkaWZmQXJyYXlCeVJlaW5zZXJ0KGZyb21JbnB1dCwgdG9JbnB1dCk7XG59XG5mdW5jdGlvbiBidWlsZEFycmF5RGlmZihmcm9tSW5wdXQsIHRvSW5wdXQsIGl0ZW1zLCBpc0NoYW5nZWQpIHtcbiAgY29uc3QgZnJvbVZhbHVlID0gZnJvbUlucHV0LnZhbHVlLCB0b1ZhbHVlID0gdG9JbnB1dC52YWx1ZTtcbiAgcmV0dXJuIGlzQ2hhbmdlZCA/IHtcbiAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgYWN0aW9uOiBcImNoYW5nZWRcIixcbiAgICBpc0NoYW5nZWQ6ICEwLFxuICAgIGZyb21WYWx1ZSxcbiAgICB0b1ZhbHVlLFxuICAgIGl0ZW1zLFxuICAgIGFubm90YXRpb246IHRvSW5wdXQuYW5ub3RhdGlvblxuICB9IDoge1xuICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICBhY3Rpb246IFwidW5jaGFuZ2VkXCIsXG4gICAgaXNDaGFuZ2VkOiAhMSxcbiAgICBmcm9tVmFsdWUsXG4gICAgdG9WYWx1ZSxcbiAgICBpdGVtc1xuICB9O1xufVxuZnVuY3Rpb24gZGlmZkV4YWN0QnlQb3NpdGlvbihmcm9tSW5wdXQsIHRvSW5wdXQsIG9wdGlvbnMpIHtcbiAgaWYgKGZyb21JbnB1dC5sZW5ndGggIT09IHRvSW5wdXQubGVuZ3RoKVxuICAgIHJldHVybjtcbiAgY29uc3QgaXRlbXMgPSBbXTtcbiAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZnJvbUlucHV0Lmxlbmd0aDsgaWR4KyspIHtcbiAgICBjb25zdCBkaWZmID0gZGlmZklucHV0KGZyb21JbnB1dC5hdChpZHgpLCB0b0lucHV0LmF0KGlkeCksIG9wdGlvbnMpO1xuICAgIGlmIChkaWZmLmlzQ2hhbmdlZClcbiAgICAgIHJldHVybjtcbiAgICBpdGVtcy5wdXNoKHtcbiAgICAgIGZyb21JbmRleDogaWR4LFxuICAgICAgdG9JbmRleDogaWR4LFxuICAgICAgaGFzTW92ZWQ6ICExLFxuICAgICAgZGlmZixcbiAgICAgIGFubm90YXRpb246IHRvSW5wdXQuYW5ub3RhdGlvbkF0KGlkeClcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaXRlbXM7XG59XG5mdW5jdGlvbiBkaWZmQXJyYXlCeVJlaW5zZXJ0KGZyb21JbnB1dCwgdG9JbnB1dCwgb3B0aW9ucykge1xuICBjb25zdCBpdGVtcyA9IFtdO1xuICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB0b0lucHV0Lmxlbmd0aDsgaWR4KyspIHtcbiAgICBjb25zdCBpbnB1dCA9IHRvSW5wdXQuYXQoaWR4KTtcbiAgICBpdGVtcy5wdXNoKHtcbiAgICAgIGZyb21JbmRleDogdm9pZCAwLFxuICAgICAgdG9JbmRleDogaWR4LFxuICAgICAgaGFzTW92ZWQ6ICExLFxuICAgICAgZGlmZjogYWRkZWRJbnB1dChpbnB1dCwgdm9pZCAwKSxcbiAgICAgIGFubm90YXRpb246IGlucHV0LmFubm90YXRpb25cbiAgICB9KTtcbiAgfVxuICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBmcm9tSW5wdXQubGVuZ3RoOyBpZHgrKykge1xuICAgIGNvbnN0IGlucHV0ID0gZnJvbUlucHV0LmF0KGlkeCk7XG4gICAgaXRlbXMucHVzaCh7XG4gICAgICBmcm9tSW5kZXg6IGlkeCxcbiAgICAgIHRvSW5kZXg6IHZvaWQgMCxcbiAgICAgIGhhc01vdmVkOiAhMSxcbiAgICAgIGRpZmY6IHJlbW92ZWRJbnB1dChpbnB1dCwgdm9pZCAwKSxcbiAgICAgIGFubm90YXRpb246IGlucHV0LmFubm90YXRpb25cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gYnVpbGRBcnJheURpZmYoZnJvbUlucHV0LCB0b0lucHV0LCBpdGVtcywgITApO1xufVxuZnVuY3Rpb24gZGlmZkFycmF5QnlLZXkoZnJvbUFycmF5LCBmcm9tS2V5SW5kZXgsIHRvQXJyYXksIHRvS2V5SW5kZXgsIG9wdGlvbnMpIHtcbiAgY29uc3QgaXRlbXMgPSBbXTtcbiAgbGV0IGlzQ2hhbmdlZCA9ICExO1xuICBmdW5jdGlvbiBkaWZmQ29tbW9uKGtleSwgZnJvbUluZGV4LCB0b0luZGV4LCBoYXNNb3ZlZCkge1xuICAgIGRlbGV0ZVBvc2l0aW9uSW5JbmRleChmcm9tS2V5SW5kZXguaW5kZXgsIGtleSwgZnJvbUluZGV4KSwgZGVsZXRlUG9zaXRpb25JbkluZGV4KHRvS2V5SW5kZXguaW5kZXgsIGtleSwgdG9JbmRleCk7XG4gICAgY29uc3QgZnJvbUlucHV0ID0gZnJvbUFycmF5LmF0KGZyb21JbmRleCksIHRvSW5wdXQgPSB0b0FycmF5LmF0KHRvSW5kZXgpLCBkaWZmID0gZGlmZklucHV0KGZyb21JbnB1dCwgdG9JbnB1dCk7XG4gICAgaXRlbXMucHVzaCh7XG4gICAgICBmcm9tSW5kZXgsXG4gICAgICB0b0luZGV4LFxuICAgICAgaGFzTW92ZWQsXG4gICAgICBkaWZmLFxuICAgICAgYW5ub3RhdGlvbjogdG9BcnJheS5hbm5vdGF0aW9uQXQodG9JbmRleClcbiAgICB9KSwgKGRpZmYuaXNDaGFuZ2VkIHx8IGZyb21JbmRleCAhPT0gdG9JbmRleCkgJiYgKGlzQ2hhbmdlZCA9ICEwKTtcbiAgfVxuICBjb25zdCBsY3MgPSBnZXRMb25nZXN0Q29tbW9uU3Vic2VxdWVuY2UoZnJvbUtleUluZGV4LmtleXMsIHRvS2V5SW5kZXgua2V5cyk7XG4gIGZvciAobGV0IGZyb21JbmRleCA9IDA7IGZyb21JbmRleCA8IGZyb21LZXlJbmRleC5rZXlzLmxlbmd0aDsgZnJvbUluZGV4KyspIHtcbiAgICBjb25zdCBrZXkgPSBmcm9tS2V5SW5kZXgua2V5c1tmcm9tSW5kZXhdLCBzdWJzZXF1ZW5jZUlkeCA9IGxjcy5wcmV2SW5kaWNlcy5pbmRleE9mKGZyb21JbmRleCk7XG4gICAgaWYgKHN1YnNlcXVlbmNlSWR4ICE9PSAtMSkge1xuICAgICAgZGlmZkNvbW1vbihrZXksIGZyb21JbmRleCwgbGNzLm5leHRJbmRpY2VzW3N1YnNlcXVlbmNlSWR4XSwgITEpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IHRvSW5kZXhlcyA9IHRvS2V5SW5kZXguaW5kZXguZ2V0KGtleSksIHRvSW5kZXggPSB0b0luZGV4ZXMgJiYgdG9JbmRleGVzLmZpbmQoKGlkeCkgPT4gIWxjcy5uZXh0SW5kaWNlcy5pbmNsdWRlcyhpZHgpKTtcbiAgICBpZiAodG9JbmRleCAhPT0gdm9pZCAwKSB7XG4gICAgICBkaWZmQ29tbW9uKGtleSwgZnJvbUluZGV4LCB0b0luZGV4LCAhMCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgaW5wdXQgPSBmcm9tQXJyYXkuYXQoZnJvbUluZGV4KTtcbiAgICBpdGVtcy5wdXNoKHtcbiAgICAgIGZyb21JbmRleCxcbiAgICAgIHRvSW5kZXg6IHZvaWQgMCxcbiAgICAgIGhhc01vdmVkOiAhMSxcbiAgICAgIGRpZmY6IHJlbW92ZWRJbnB1dChpbnB1dCwgdm9pZCAwKSxcbiAgICAgIGFubm90YXRpb246IGZyb21BcnJheS5hbm5vdGF0aW9uQXQoZnJvbUluZGV4KVxuICAgIH0pLCBpc0NoYW5nZWQgPSAhMDtcbiAgfVxuICBmb3IgKGNvbnN0IHBvc2l0aW9ucyBvZiB0b0tleUluZGV4LmluZGV4LnZhbHVlcygpKSB7XG4gICAgZm9yIChjb25zdCB0b0luZGV4IG9mIHBvc2l0aW9ucykge1xuICAgICAgY29uc3QgaW5wdXQgPSB0b0FycmF5LmF0KHRvSW5kZXgpO1xuICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgIGZyb21JbmRleDogdm9pZCAwLFxuICAgICAgICB0b0luZGV4LFxuICAgICAgICBoYXNNb3ZlZDogITEsXG4gICAgICAgIGRpZmY6IGFkZGVkSW5wdXQoaW5wdXQsIHZvaWQgMCksXG4gICAgICAgIGFubm90YXRpb246IHRvQXJyYXkuYW5ub3RhdGlvbkF0KHRvSW5kZXgpXG4gICAgICB9KTtcbiAgICB9XG4gICAgaXNDaGFuZ2VkID0gITA7XG4gIH1cbiAgcmV0dXJuIGl0ZW1zLnNvcnQoY29tcGFyZUl0ZW1EaWZmKSwgYnVpbGRBcnJheURpZmYoZnJvbUFycmF5LCB0b0FycmF5LCBpdGVtcywgaXNDaGFuZ2VkKTtcbn1cbmZ1bmN0aW9uIGNvbXBhcmVJdGVtRGlmZihhLCBiKSB7XG4gIGlmIChhLnRvSW5kZXggIT09IHZvaWQgMCAmJiBiLnRvSW5kZXggIT09IHZvaWQgMClcbiAgICByZXR1cm4gYS50b0luZGV4IC0gYi50b0luZGV4O1xuICBpZiAoYS5mcm9tSW5kZXggIT09IHZvaWQgMCAmJiBiLmZyb21JbmRleCAhPT0gdm9pZCAwKVxuICAgIHJldHVybiBhLmZyb21JbmRleCAtIGIuZnJvbUluZGV4O1xuICBpZiAoYS5mcm9tSW5kZXggIT09IHZvaWQgMCAmJiBiLnRvSW5kZXggIT09IHZvaWQgMClcbiAgICByZXR1cm4gLTE7XG4gIGlmIChhLnRvSW5kZXggIT09IHZvaWQgMCAmJiBiLmZyb21JbmRleCAhPT0gdm9pZCAwKVxuICAgIHJldHVybiAxO1xuICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGl0ZW0gZGlmZiBjb21wYXJpc29uXCIpO1xufVxuZnVuY3Rpb24gZGVsZXRlUG9zaXRpb25JbkluZGV4KGluZGV4LCBrZXksIHBvcykge1xuICBjb25zdCBwb3NpdGlvbnMgPSBpbmRleC5nZXQoa2V5KTtcbiAgZGVsZXRlQXJyYXlWYWx1ZShwb3NpdGlvbnMsIHBvcyksIHBvc2l0aW9ucy5sZW5ndGggPT09IDAgJiYgaW5kZXguZGVsZXRlKGtleSk7XG59XG5mdW5jdGlvbiBkZWxldGVBcnJheVZhbHVlKGFyciwgdmFsdWUpIHtcbiAgY29uc3QgaWR4ID0gYXJyLmluZGV4T2YodmFsdWUpO1xuICBpZiAoaWR4ID09PSAtMSkgdGhyb3cgbmV3IEVycm9yKFwidmFsdWUgbm90IGZvdW5kXCIpO1xuICBhcnIuc3BsaWNlKGlkeCwgMSk7XG59XG5mdW5jdGlvbiBpbmRleEJ5S2V5KGFycikge1xuICBjb25zdCBpbmRleCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIGtleXMgPSBbXSwgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGl0ZW0gPSBhcnIuYXQoaSk7XG4gICAgbGV0IGtleSA9IG51bGw7XG4gICAgc3dpdGNoIChpdGVtLnR5cGUpIHtcbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAga2V5ID0gYHMke2l0ZW0udmFsdWV9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGtleSA9IGl0ZW0udmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAga2V5ID0gaXRlbS52YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICBrZXkgPSBcIm5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBrZXlGaWVsZCA9IGl0ZW0uZ2V0KFwiX2tleVwiKTtcbiAgICAgICAgICBpZiAoa2V5RmllbGQgJiYga2V5RmllbGQudHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAoa2V5ID0gYGske2tleUZpZWxkLnZhbHVlfWAsIGluZGV4LmhhcyhrZXkpKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGtleXMucHVzaChrZXkpO1xuICAgIGxldCBwb3NpdGlvbnMgPSBpbmRleC5nZXQoa2V5KTtcbiAgICBwb3NpdGlvbnMgfHwgKHBvc2l0aW9ucyA9IFtdLCBpbmRleC5zZXQoa2V5LCBwb3NpdGlvbnMpKSwgcG9zaXRpb25zLnB1c2goaSk7XG4gIH1cbiAgcmV0dXJuIHsga2V5cywgaW5kZXggfTtcbn1cbmZ1bmN0aW9uIHJlbW92ZWRBcnJheShpbnB1dCwgdG9WYWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICBhY3Rpb246IFwicmVtb3ZlZFwiLFxuICAgIGlzQ2hhbmdlZDogITAsXG4gICAgZnJvbVZhbHVlOiBpbnB1dC52YWx1ZSxcbiAgICB0b1ZhbHVlLFxuICAgIGFubm90YXRpb246IGlucHV0LmFubm90YXRpb24sXG4gICAgZ2V0IGl0ZW1zKCkge1xuICAgICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGlucHV0LmF0KGkpO1xuICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICBmcm9tSW5kZXg6IGksXG4gICAgICAgICAgdG9JbmRleDogdm9pZCAwLFxuICAgICAgICAgIGhhc01vdmVkOiAhMSxcbiAgICAgICAgICBkaWZmOiByZW1vdmVkSW5wdXQoaXRlbSwgdm9pZCAwKSxcbiAgICAgICAgICBhbm5vdGF0aW9uOiBpbnB1dC5hbm5vdGF0aW9uQXQoaSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVwbGFjZVByb3BlcnR5KHRoaXMsIFwiaXRlbXNcIiwgaXRlbXMpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGFkZGVkQXJyYXkoaW5wdXQsIGZyb21WYWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICBhY3Rpb246IFwiYWRkZWRcIixcbiAgICBpc0NoYW5nZWQ6ICEwLFxuICAgIGZyb21WYWx1ZSxcbiAgICB0b1ZhbHVlOiBpbnB1dC52YWx1ZSxcbiAgICBhbm5vdGF0aW9uOiBpbnB1dC5hbm5vdGF0aW9uLFxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpbnB1dC5hdChpKTtcbiAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgZnJvbUluZGV4OiB2b2lkIDAsXG4gICAgICAgICAgdG9JbmRleDogaSxcbiAgICAgICAgICBoYXNNb3ZlZDogITEsXG4gICAgICAgICAgZGlmZjogYWRkZWRJbnB1dChpdGVtLCB2b2lkIDApLFxuICAgICAgICAgIGFubm90YXRpb246IGlucHV0LmFubm90YXRpb25BdChpKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXBsYWNlUHJvcGVydHkodGhpcywgXCJpdGVtc1wiLCBpdGVtcyk7XG4gICAgfVxuICB9O1xufVxuY29uc3QgaWdub3JlZEZpZWxkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcIl9pZFwiLCBcIl90eXBlXCIsIFwiX2NyZWF0ZWRBdFwiLCBcIl91cGRhdGVkQXRcIiwgXCJfcmV2XCIsIFwiX3dlYWtcIl0pO1xuZnVuY3Rpb24gZGlmZk9iamVjdChmcm9tSW5wdXQsIHRvSW5wdXQsIG9wdGlvbnMpIHtcbiAgY29uc3QgZmllbGRzID0ge307XG4gIGxldCBpc0NoYW5nZWQgPSAhMTtcbiAgZm9yIChjb25zdCBrZXkgb2YgZnJvbUlucHV0LmtleXMpIHtcbiAgICBpZiAoaWdub3JlZEZpZWxkcy5oYXMoa2V5KSkgY29udGludWU7XG4gICAgY29uc3QgZnJvbUZpZWxkID0gZnJvbUlucHV0LmdldChrZXkpLCB0b0ZpZWxkID0gdG9JbnB1dC5nZXQoa2V5KTtcbiAgICBpZiAodG9GaWVsZCkge1xuICAgICAgY29uc3QgZmllbGREaWZmID0gZGlmZklucHV0KGZyb21GaWVsZCwgdG9GaWVsZCwgb3B0aW9ucyk7XG4gICAgICBmaWVsZHNba2V5XSA9IGZpZWxkRGlmZiwgZmllbGREaWZmLmlzQ2hhbmdlZCAmJiAoaXNDaGFuZ2VkID0gITApO1xuICAgIH0gZWxzZVxuICAgICAgZmllbGRzW2tleV0gPSByZW1vdmVkSW5wdXQoZnJvbUZpZWxkLCB2b2lkIDApLCBpc0NoYW5nZWQgPSAhMDtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBvZiB0b0lucHV0LmtleXMpIHtcbiAgICBpZiAoaWdub3JlZEZpZWxkcy5oYXMoa2V5KSB8fCBmcm9tSW5wdXQuZ2V0KGtleSkpIGNvbnRpbnVlO1xuICAgIGNvbnN0IHRvRmllbGQgPSB0b0lucHV0LmdldChrZXkpO1xuICAgIGZpZWxkc1trZXldID0gYWRkZWRJbnB1dCh0b0ZpZWxkLCB2b2lkIDApLCBpc0NoYW5nZWQgPSAhMDtcbiAgfVxuICBjb25zdCBmcm9tVmFsdWUgPSBmcm9tSW5wdXQudmFsdWUsIHRvVmFsdWUgPSB0b0lucHV0LnZhbHVlO1xuICByZXR1cm4gaXNDaGFuZ2VkID8ge1xuICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgYWN0aW9uOiBcImNoYW5nZWRcIixcbiAgICBpc0NoYW5nZWQ6ICEwLFxuICAgIGZyb21WYWx1ZSxcbiAgICB0b1ZhbHVlLFxuICAgIGZpZWxkcyxcbiAgICBhbm5vdGF0aW9uOiB0b0lucHV0LmFubm90YXRpb25cbiAgfSA6IHtcbiAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgIGFjdGlvbjogXCJ1bmNoYW5nZWRcIixcbiAgICBpc0NoYW5nZWQ6ICExLFxuICAgIGZyb21WYWx1ZSxcbiAgICB0b1ZhbHVlLFxuICAgIGZpZWxkc1xuICB9O1xufVxuZnVuY3Rpb24gcmVtb3ZlZE9iamVjdChpbnB1dCwgdG9WYWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgYWN0aW9uOiBcInJlbW92ZWRcIixcbiAgICBpc0NoYW5nZWQ6ICEwLFxuICAgIGZyb21WYWx1ZTogaW5wdXQudmFsdWUsXG4gICAgdG9WYWx1ZSxcbiAgICBhbm5vdGF0aW9uOiBpbnB1dC5hbm5vdGF0aW9uLFxuICAgIGdldCBmaWVsZHMoKSB7XG4gICAgICBjb25zdCBmaWVsZHMgPSB7fTtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGlucHV0LmtleXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbnB1dC5nZXQoa2V5KTtcbiAgICAgICAgZmllbGRzW2tleV0gPSByZW1vdmVkSW5wdXQodmFsdWUsIHZvaWQgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVwbGFjZVByb3BlcnR5KHRoaXMsIFwiZmllbGRzXCIsIGZpZWxkcyk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gYWRkZWRPYmplY3QoaW5wdXQsIGZyb21WYWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgYWN0aW9uOiBcImFkZGVkXCIsXG4gICAgaXNDaGFuZ2VkOiAhMCxcbiAgICBmcm9tVmFsdWUsXG4gICAgdG9WYWx1ZTogaW5wdXQudmFsdWUsXG4gICAgYW5ub3RhdGlvbjogaW5wdXQuYW5ub3RhdGlvbixcbiAgICBnZXQgZmllbGRzKCkge1xuICAgICAgY29uc3QgZmllbGRzID0ge307XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBpbnB1dC5rZXlzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaW5wdXQuZ2V0KGtleSk7XG4gICAgICAgIGZpZWxkc1trZXldID0gYWRkZWRJbnB1dCh2YWx1ZSwgdm9pZCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXBsYWNlUHJvcGVydHkodGhpcywgXCJmaWVsZHNcIiwgZmllbGRzKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBkaWZmTnVtYmVyKGZyb21JbnB1dCwgdG9JbnB1dCwgb3B0aW9ucykge1xuICBjb25zdCBmcm9tVmFsdWUgPSBmcm9tSW5wdXQudmFsdWUsIHRvVmFsdWUgPSB0b0lucHV0LnZhbHVlLCB0eXBlID0gZnJvbUlucHV0LnR5cGU7XG4gIHJldHVybiBmcm9tVmFsdWUgPT09IHRvVmFsdWUgPyB7XG4gICAgdHlwZSxcbiAgICBhY3Rpb246IFwidW5jaGFuZ2VkXCIsXG4gICAgZnJvbVZhbHVlLFxuICAgIHRvVmFsdWUsXG4gICAgaXNDaGFuZ2VkOiAhMVxuICB9IDoge1xuICAgIHR5cGU6IGZyb21JbnB1dC50eXBlLFxuICAgIGFjdGlvbjogXCJjaGFuZ2VkXCIsXG4gICAgaXNDaGFuZ2VkOiAhMCxcbiAgICBmcm9tVmFsdWUsXG4gICAgdG9WYWx1ZSxcbiAgICBhbm5vdGF0aW9uOiB0b0lucHV0LmFubm90YXRpb25cbiAgfTtcbn1cbmZ1bmN0aW9uIGRpZmZCb29sZWFuKGZyb21JbnB1dCwgdG9JbnB1dCwgb3B0aW9ucykge1xuICBjb25zdCBmcm9tVmFsdWUgPSBmcm9tSW5wdXQudmFsdWUsIHRvVmFsdWUgPSB0b0lucHV0LnZhbHVlLCB0eXBlID0gZnJvbUlucHV0LnR5cGU7XG4gIHJldHVybiBmcm9tVmFsdWUgPT09IHRvVmFsdWUgPyB7XG4gICAgdHlwZSxcbiAgICBhY3Rpb246IFwidW5jaGFuZ2VkXCIsXG4gICAgZnJvbVZhbHVlLFxuICAgIHRvVmFsdWUsXG4gICAgaXNDaGFuZ2VkOiAhMVxuICB9IDoge1xuICAgIHR5cGU6IGZyb21JbnB1dC50eXBlLFxuICAgIGFjdGlvbjogXCJjaGFuZ2VkXCIsXG4gICAgaXNDaGFuZ2VkOiAhMCxcbiAgICBmcm9tVmFsdWUsXG4gICAgdG9WYWx1ZSxcbiAgICBhbm5vdGF0aW9uOiB0b0lucHV0LmFubm90YXRpb25cbiAgfTtcbn1cbmZ1bmN0aW9uIGRpZmZTdHJpbmcoZnJvbUlucHV0LCB0b0lucHV0LCBvcHRpb25zKSB7XG4gIGNvbnN0IGZyb21WYWx1ZSA9IGZyb21JbnB1dC52YWx1ZSwgdG9WYWx1ZSA9IHRvSW5wdXQudmFsdWU7XG4gIHJldHVybiBmcm9tVmFsdWUgPT09IHRvVmFsdWUgPyB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICBhY3Rpb246IFwidW5jaGFuZ2VkXCIsXG4gICAgaXNDaGFuZ2VkOiAhMSxcbiAgICBmcm9tVmFsdWUsXG4gICAgdG9WYWx1ZSxcbiAgICBzZWdtZW50czogW3sgdHlwZTogXCJzdHJpbmdTZWdtZW50XCIsIGFjdGlvbjogXCJ1bmNoYW5nZWRcIiwgdGV4dDogZnJvbVZhbHVlIH1dXG4gIH0gOiB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICBhY3Rpb246IFwiY2hhbmdlZFwiLFxuICAgIGlzQ2hhbmdlZDogITAsXG4gICAgZnJvbVZhbHVlLFxuICAgIHRvVmFsdWUsXG4gICAgYW5ub3RhdGlvbjogdG9JbnB1dC5hbm5vdGF0aW9uLFxuICAgIC8vIENvbXB1dGUgYW5kIG1lbW9pemUgc3RyaW5nIHNlZ21lbnRzIG9ubHkgd2hlbiBhY2Nlc3NlZFxuICAgIGdldCBzZWdtZW50cygpIHtcbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gYnVpbGRTZWdtZW50cyhmcm9tSW5wdXQsIHRvSW5wdXQpO1xuICAgICAgcmV0dXJuIHJlcGxhY2VQcm9wZXJ0eSh0aGlzLCBcInNlZ21lbnRzXCIsIHNlZ21lbnRzKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBidWlsZFNlZ21lbnRzKGZyb21JbnB1dCwgdG9JbnB1dCkge1xuICBjb25zdCBzZWdtZW50cyA9IFtdLCBkbXBEaWZmcyA9IGNsZWFudXBTZW1hbnRpYyhtYWtlRGlmZihmcm9tSW5wdXQudmFsdWUsIHRvSW5wdXQudmFsdWUpKTtcbiAgbGV0IGZyb21JZHggPSAwLCB0b0lkeCA9IDA7XG4gIGZvciAoY29uc3QgW29wLCB0ZXh0XSBvZiBkbXBEaWZmcylcbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlIERJRkZfRVFVQUw6XG4gICAgICAgIHNlZ21lbnRzLnB1c2goeyB0eXBlOiBcInN0cmluZ1NlZ21lbnRcIiwgYWN0aW9uOiBcInVuY2hhbmdlZFwiLCB0ZXh0IH0pLCBmcm9tSWR4ICs9IHRleHQubGVuZ3RoLCB0b0lkeCArPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfREVMRVRFOlxuICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2YgZnJvbUlucHV0LnNsaWNlQW5ub3RhdGlvbihmcm9tSWR4LCBmcm9tSWR4ICsgdGV4dC5sZW5ndGgpKVxuICAgICAgICAgIHNlZ21lbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdTZWdtZW50XCIsXG4gICAgICAgICAgICBhY3Rpb246IFwicmVtb3ZlZFwiLFxuICAgICAgICAgICAgdGV4dDogc2VnbWVudC50ZXh0LFxuICAgICAgICAgICAgYW5ub3RhdGlvbjogc2VnbWVudC5hbm5vdGF0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIGZyb21JZHggKz0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0lOU0VSVDpcbiAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHRvSW5wdXQuc2xpY2VBbm5vdGF0aW9uKHRvSWR4LCB0b0lkeCArIHRleHQubGVuZ3RoKSlcbiAgICAgICAgICBzZWdtZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nU2VnbWVudFwiLFxuICAgICAgICAgICAgYWN0aW9uOiBcImFkZGVkXCIsXG4gICAgICAgICAgICB0ZXh0OiBzZWdtZW50LnRleHQsXG4gICAgICAgICAgICBhbm5vdGF0aW9uOiBzZWdtZW50LmFubm90YXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgdG9JZHggKz0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgZGlmZi1tYXRjaC1wYXRjaCBvcGVyYXRpb24gXCIke29wfVwiYCk7XG4gICAgfVxuICByZXR1cm4gc2VnbWVudHM7XG59XG5mdW5jdGlvbiByZW1vdmVkU3RyaW5nKGlucHV0LCB0b1ZhbHVlLCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICBhY3Rpb246IFwicmVtb3ZlZFwiLFxuICAgIGlzQ2hhbmdlZDogITAsXG4gICAgZnJvbVZhbHVlOiBpbnB1dC52YWx1ZSxcbiAgICB0b1ZhbHVlLFxuICAgIGFubm90YXRpb246IGlucHV0LmFubm90YXRpb24sXG4gICAgZ2V0IHNlZ21lbnRzKCkge1xuICAgICAgY29uc3Qgc2VnbWVudHMgPSBpbnB1dC5zbGljZUFubm90YXRpb24oMCwgaW5wdXQudmFsdWUubGVuZ3RoKS5tYXAoKHNlZ21lbnQpID0+ICh7IHR5cGU6IFwic3RyaW5nU2VnbWVudFwiLCBhY3Rpb246IFwicmVtb3ZlZFwiLCAuLi5zZWdtZW50IH0pKTtcbiAgICAgIHJldHVybiByZXBsYWNlUHJvcGVydHkodGhpcywgXCJzZWdtZW50c1wiLCBzZWdtZW50cyk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gYWRkZWRTdHJpbmcoaW5wdXQsIGZyb21WYWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgYWN0aW9uOiBcImFkZGVkXCIsXG4gICAgaXNDaGFuZ2VkOiAhMCxcbiAgICBmcm9tVmFsdWUsXG4gICAgdG9WYWx1ZTogaW5wdXQudmFsdWUsXG4gICAgYW5ub3RhdGlvbjogaW5wdXQuYW5ub3RhdGlvbixcbiAgICBnZXQgc2VnbWVudHMoKSB7XG4gICAgICBjb25zdCBzZWdtZW50cyA9IGlucHV0LnNsaWNlQW5ub3RhdGlvbigwLCBpbnB1dC52YWx1ZS5sZW5ndGgpLm1hcCgoc2VnbWVudCkgPT4gKHsgdHlwZTogXCJzdHJpbmdTZWdtZW50XCIsIGFjdGlvbjogXCJhZGRlZFwiLCAuLi5zZWdtZW50IH0pKTtcbiAgICAgIHJldHVybiByZXBsYWNlUHJvcGVydHkodGhpcywgXCJzZWdtZW50c1wiLCBzZWdtZW50cyk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZGlmZlR5cGVDaGFuZ2UoZnJvbUlucHV0LCB0b0lucHV0LCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJ0eXBlQ2hhbmdlXCIsXG4gICAgYWN0aW9uOiBcImNoYW5nZWRcIixcbiAgICBpc0NoYW5nZWQ6ICEwLFxuICAgIGZyb21UeXBlOiBmcm9tSW5wdXQudHlwZSxcbiAgICBmcm9tVmFsdWU6IGZyb21JbnB1dC52YWx1ZSxcbiAgICBmcm9tRGlmZjogcmVtb3ZlZElucHV0KGZyb21JbnB1dCwgdm9pZCAwKSxcbiAgICB0b1R5cGU6IHRvSW5wdXQudHlwZSxcbiAgICB0b1ZhbHVlOiB0b0lucHV0LnZhbHVlLFxuICAgIHRvRGlmZjogYWRkZWRJbnB1dCh0b0lucHV0LCB2b2lkIDApLFxuICAgIGFubm90YXRpb246IHRvSW5wdXQuYW5ub3RhdGlvblxuICB9O1xufVxuZnVuY3Rpb24gZGlmZklucHV0KGZyb21JbnB1dCwgdG9JbnB1dCwgb3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBmcm9tSW5wdXQudHlwZSAhPT0gdG9JbnB1dC50eXBlID8gZnJvbUlucHV0LnR5cGUgPT09IFwibnVsbFwiID8gYWRkZWRJbnB1dCh0b0lucHV0LCBudWxsKSA6IHRvSW5wdXQudHlwZSA9PT0gXCJudWxsXCIgPyByZW1vdmVkSW5wdXQoZnJvbUlucHV0LCBudWxsKSA6IGRpZmZUeXBlQ2hhbmdlKGZyb21JbnB1dCwgdG9JbnB1dCkgOiBkaWZmV2l0aFR5cGUoZnJvbUlucHV0LnR5cGUsIGZyb21JbnB1dCwgdG9JbnB1dCwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBkaWZmV2l0aFR5cGUodHlwZSwgZnJvbUlucHV0LCB0b0lucHV0LCBvcHRpb25zKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJudWxsXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcIm51bGxcIixcbiAgICAgICAgYWN0aW9uOiBcInVuY2hhbmdlZFwiLFxuICAgICAgICBpc0NoYW5nZWQ6ICExLFxuICAgICAgICB0b1ZhbHVlOiBudWxsLFxuICAgICAgICBmcm9tVmFsdWU6IG51bGxcbiAgICAgIH07XG4gICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgIHJldHVybiBkaWZmQm9vbGVhbihmcm9tSW5wdXQsIHRvSW5wdXQpO1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIHJldHVybiBkaWZmTnVtYmVyKGZyb21JbnB1dCwgdG9JbnB1dCk7XG4gICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgcmV0dXJuIGRpZmZTdHJpbmcoZnJvbUlucHV0LCB0b0lucHV0KTtcbiAgICBjYXNlIFwiYXJyYXlcIjpcbiAgICAgIHJldHVybiBkaWZmQXJyYXkoZnJvbUlucHV0LCB0b0lucHV0LCBvcHRpb25zKTtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICByZXR1cm4gZGlmZk9iamVjdChmcm9tSW5wdXQsIHRvSW5wdXQsIG9wdGlvbnMpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCBkaWZmIHR5cGUgXCIke3R5cGV9XCJgKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlZElucHV0KGlucHV0LCB0b1ZhbHVlLCBvcHRpb25zKSB7XG4gIHN3aXRjaCAoaW5wdXQudHlwZSkge1xuICAgIGNhc2UgXCJudWxsXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcIm51bGxcIixcbiAgICAgICAgYWN0aW9uOiBcInJlbW92ZWRcIixcbiAgICAgICAgaXNDaGFuZ2VkOiAhMCxcbiAgICAgICAgZnJvbVZhbHVlOiBudWxsLFxuICAgICAgICB0b1ZhbHVlLFxuICAgICAgICBhbm5vdGF0aW9uOiBpbnB1dC5hbm5vdGF0aW9uXG4gICAgICB9O1xuICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICAgICAgYWN0aW9uOiBcInJlbW92ZWRcIixcbiAgICAgICAgaXNDaGFuZ2VkOiAhMCxcbiAgICAgICAgZnJvbVZhbHVlOiBpbnB1dC52YWx1ZSxcbiAgICAgICAgdG9WYWx1ZSxcbiAgICAgICAgYW5ub3RhdGlvbjogaW5wdXQuYW5ub3RhdGlvblxuICAgICAgfTtcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBhY3Rpb246IFwicmVtb3ZlZFwiLFxuICAgICAgICBpc0NoYW5nZWQ6ICEwLFxuICAgICAgICBmcm9tVmFsdWU6IGlucHV0LnZhbHVlLFxuICAgICAgICB0b1ZhbHVlLFxuICAgICAgICBhbm5vdGF0aW9uOiBpbnB1dC5hbm5vdGF0aW9uXG4gICAgICB9O1xuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgIHJldHVybiByZW1vdmVkU3RyaW5nKGlucHV0LCB0b1ZhbHVlKTtcbiAgICBjYXNlIFwiYXJyYXlcIjpcbiAgICAgIHJldHVybiByZW1vdmVkQXJyYXkoaW5wdXQsIHRvVmFsdWUpO1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgIHJldHVybiByZW1vdmVkT2JqZWN0KGlucHV0LCB0b1ZhbHVlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5oYW5kbGVkIGRpZmYgdHlwZVwiKTtcbiAgfVxufVxuZnVuY3Rpb24gYWRkZWRJbnB1dChpbnB1dCwgZnJvbVZhbHVlLCBvcHRpb25zKSB7XG4gIHN3aXRjaCAoaW5wdXQudHlwZSkge1xuICAgIGNhc2UgXCJudWxsXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcIm51bGxcIixcbiAgICAgICAgYWN0aW9uOiBcImFkZGVkXCIsXG4gICAgICAgIGlzQ2hhbmdlZDogITAsXG4gICAgICAgIGZyb21WYWx1ZSxcbiAgICAgICAgdG9WYWx1ZTogbnVsbCxcbiAgICAgICAgYW5ub3RhdGlvbjogaW5wdXQuYW5ub3RhdGlvblxuICAgICAgfTtcbiAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgICAgIGFjdGlvbjogXCJhZGRlZFwiLFxuICAgICAgICBpc0NoYW5nZWQ6ICEwLFxuICAgICAgICBmcm9tVmFsdWUsXG4gICAgICAgIHRvVmFsdWU6IGlucHV0LnZhbHVlLFxuICAgICAgICBhbm5vdGF0aW9uOiBpbnB1dC5hbm5vdGF0aW9uXG4gICAgICB9O1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGFjdGlvbjogXCJhZGRlZFwiLFxuICAgICAgICBpc0NoYW5nZWQ6ICEwLFxuICAgICAgICBmcm9tVmFsdWUsXG4gICAgICAgIHRvVmFsdWU6IGlucHV0LnZhbHVlLFxuICAgICAgICBhbm5vdGF0aW9uOiBpbnB1dC5hbm5vdGF0aW9uXG4gICAgICB9O1xuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgIHJldHVybiBhZGRlZFN0cmluZyhpbnB1dCwgZnJvbVZhbHVlKTtcbiAgICBjYXNlIFwiYXJyYXlcIjpcbiAgICAgIHJldHVybiBhZGRlZEFycmF5KGlucHV0LCBmcm9tVmFsdWUpO1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgIHJldHVybiBhZGRlZE9iamVjdChpbnB1dCwgZnJvbVZhbHVlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5oYW5kbGVkIGRpZmYgdHlwZVwiKTtcbiAgfVxufVxudmFyIF9fZGVmUHJvcCQzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AkMyA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkMyhvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQkMyA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcCQzKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgQXJyYXlXcmFwcGVyIHtcbiAgY29uc3RydWN0b3IodmFsdWUsIGFubm90YXRpb24pIHtcbiAgICBfX3B1YmxpY0ZpZWxkJDModGhpcywgXCJ0eXBlXCIsIFwiYXJyYXlcIiksIF9fcHVibGljRmllbGQkMyh0aGlzLCBcImxlbmd0aFwiKSwgX19wdWJsaWNGaWVsZCQzKHRoaXMsIFwidmFsdWVcIiksIF9fcHVibGljRmllbGQkMyh0aGlzLCBcImFubm90YXRpb25cIiksIF9fcHVibGljRmllbGQkMyh0aGlzLCBcImVsZW1lbnRzXCIsIFtdKSwgdGhpcy5hbm5vdGF0aW9uID0gYW5ub3RhdGlvbiwgdGhpcy52YWx1ZSA9IHZhbHVlLCB0aGlzLmxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgfVxuICBhdChpZHgpIHtcbiAgICBpZiAoaWR4ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJvdXQgb2YgYm91bmRzXCIpO1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRzW2lkeF0gfHwgKHRoaXMuZWxlbWVudHNbaWR4XSA9IHdyYXAodGhpcy52YWx1ZVtpZHhdLCB0aGlzLmFubm90YXRpb24pKTtcbiAgfVxuICBhbm5vdGF0aW9uQXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuYW5ub3RhdGlvbjtcbiAgfVxufVxudmFyIF9fZGVmUHJvcCQyID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AkMiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkMihvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQkMiA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcCQyKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgQmFzaWNXcmFwcGVyIHtcbiAgY29uc3RydWN0b3IodHlwZSwgdmFsdWUsIGFubm90YXRpb24pIHtcbiAgICBfX3B1YmxpY0ZpZWxkJDIodGhpcywgXCJ0eXBlXCIpLCBfX3B1YmxpY0ZpZWxkJDIodGhpcywgXCJ2YWx1ZVwiKSwgX19wdWJsaWNGaWVsZCQyKHRoaXMsIFwiYW5ub3RhdGlvblwiKSwgdGhpcy50eXBlID0gdHlwZSwgdGhpcy52YWx1ZSA9IHZhbHVlLCB0aGlzLmFubm90YXRpb24gPSBhbm5vdGF0aW9uO1xuICB9XG59XG52YXIgX19kZWZQcm9wJDEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCQxID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQxKG9iaiwga2V5LCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZSwgX19wdWJsaWNGaWVsZCQxID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wJDEob2JqLCB0eXBlb2Yga2V5ICE9IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5jbGFzcyBPYmplY3RXcmFwcGVyIHtcbiAgY29uc3RydWN0b3IodmFsdWUsIGFubm90YXRpb24pIHtcbiAgICBfX3B1YmxpY0ZpZWxkJDEodGhpcywgXCJ0eXBlXCIsIFwib2JqZWN0XCIpLCBfX3B1YmxpY0ZpZWxkJDEodGhpcywgXCJ2YWx1ZVwiKSwgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwia2V5c1wiKSwgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwiYW5ub3RhdGlvblwiKSwgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwiZmllbGRzXCIsIHt9KSwgdGhpcy52YWx1ZSA9IHZhbHVlLCB0aGlzLmFubm90YXRpb24gPSBhbm5vdGF0aW9uLCB0aGlzLmtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIH1cbiAgZ2V0KGtleSkge1xuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5maWVsZHNba2V5XTtcbiAgICBpZiAoaW5wdXQpXG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgaWYgKCF0aGlzLnZhbHVlLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgcmF3ID0gdGhpcy52YWx1ZVtrZXldO1xuICAgIHJldHVybiB0aGlzLmZpZWxkc1trZXldID0gd3JhcChyYXcsIHRoaXMuYW5ub3RhdGlvbik7XG4gIH1cbn1cbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgU3RyaW5nV3JhcHBlciB7XG4gIGNvbnN0cnVjdG9yKHZhbHVlLCBhbm5vdGF0aW9uKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInR5cGVcIiwgXCJzdHJpbmdcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJ2YWx1ZVwiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcImFubm90YXRpb25cIiksIHRoaXMudmFsdWUgPSB2YWx1ZSwgdGhpcy5hbm5vdGF0aW9uID0gYW5ub3RhdGlvbjtcbiAgfVxuICBzbGljZUFubm90YXRpb24oc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBbeyB0ZXh0OiB0aGlzLnZhbHVlLnNsaWNlKHN0YXJ0LCBlbmQpLCBhbm5vdGF0aW9uOiB0aGlzLmFubm90YXRpb24gfV07XG4gIH1cbn1cbmZ1bmN0aW9uIHdyYXAoaW5wdXQsIGFubm90YXRpb24pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKVxuICAgIHJldHVybiBuZXcgQXJyYXlXcmFwcGVyKGlucHV0LCBhbm5vdGF0aW9uKTtcbiAgaWYgKGlucHV0ID09PSBudWxsKVxuICAgIHJldHVybiBuZXcgQmFzaWNXcmFwcGVyKFwibnVsbFwiLCBpbnB1dCwgYW5ub3RhdGlvbik7XG4gIGNvbnN0IHR5cGUgPSB0eXBlb2YgaW5wdXQ7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIHJldHVybiBuZXcgQmFzaWNXcmFwcGVyKHR5cGUsIGlucHV0LCBhbm5vdGF0aW9uKTtcbiAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgcmV0dXJuIG5ldyBCYXNpY1dyYXBwZXIodHlwZSwgaW5wdXQsIGFubm90YXRpb24pO1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgIHJldHVybiBuZXcgT2JqZWN0V3JhcHBlcihpbnB1dCwgYW5ub3RhdGlvbik7XG4gICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgcmV0dXJuIG5ldyBTdHJpbmdXcmFwcGVyKGlucHV0LCBhbm5vdGF0aW9uKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3Qgd3JhcCB2YWx1ZSBvZiB0eXBlOiAke3R5cGV9YCk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIGRpZmZJbnB1dCxcbiAgd3JhcFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/diff/lib/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/icons/dist/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/icons/dist/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessDeniedIcon: () => (/* binding */ AccessDeniedIcon),\n/* harmony export */   ActivityIcon: () => (/* binding */ ActivityIcon),\n/* harmony export */   AddCircleIcon: () => (/* binding */ AddCircleIcon),\n/* harmony export */   AddCommentIcon: () => (/* binding */ AddCommentIcon),\n/* harmony export */   AddDocumentIcon: () => (/* binding */ AddDocumentIcon),\n/* harmony export */   AddIcon: () => (/* binding */ AddIcon),\n/* harmony export */   ApiIcon: () => (/* binding */ ApiIcon),\n/* harmony export */   ArchiveIcon: () => (/* binding */ ArchiveIcon),\n/* harmony export */   ArrowDownIcon: () => (/* binding */ ArrowDownIcon),\n/* harmony export */   ArrowLeftIcon: () => (/* binding */ ArrowLeftIcon),\n/* harmony export */   ArrowRightIcon: () => (/* binding */ ArrowRightIcon),\n/* harmony export */   ArrowTopRightIcon: () => (/* binding */ ArrowTopRightIcon),\n/* harmony export */   ArrowUpIcon: () => (/* binding */ ArrowUpIcon),\n/* harmony export */   AsteriskIcon: () => (/* binding */ AsteriskIcon),\n/* harmony export */   BarChartIcon: () => (/* binding */ BarChartIcon),\n/* harmony export */   BasketIcon: () => (/* binding */ BasketIcon),\n/* harmony export */   BellIcon: () => (/* binding */ BellIcon),\n/* harmony export */   BillIcon: () => (/* binding */ BillIcon),\n/* harmony export */   BinaryDocumentIcon: () => (/* binding */ BinaryDocumentIcon),\n/* harmony export */   BlockContentIcon: () => (/* binding */ BlockContentIcon),\n/* harmony export */   BlockElementIcon: () => (/* binding */ BlockElementIcon),\n/* harmony export */   BlockquoteIcon: () => (/* binding */ BlockquoteIcon),\n/* harmony export */   BoldIcon: () => (/* binding */ BoldIcon),\n/* harmony export */   BoltIcon: () => (/* binding */ BoltIcon),\n/* harmony export */   BookIcon: () => (/* binding */ BookIcon),\n/* harmony export */   BottleIcon: () => (/* binding */ BottleIcon),\n/* harmony export */   BulbFilledIcon: () => (/* binding */ BulbFilledIcon),\n/* harmony export */   BulbOutlineIcon: () => (/* binding */ BulbOutlineIcon),\n/* harmony export */   CalendarIcon: () => (/* binding */ CalendarIcon),\n/* harmony export */   CaseIcon: () => (/* binding */ CaseIcon),\n/* harmony export */   ChartUpwardIcon: () => (/* binding */ ChartUpwardIcon),\n/* harmony export */   CheckmarkCircleIcon: () => (/* binding */ CheckmarkCircleIcon),\n/* harmony export */   CheckmarkIcon: () => (/* binding */ CheckmarkIcon),\n/* harmony export */   ChevronDownIcon: () => (/* binding */ ChevronDownIcon),\n/* harmony export */   ChevronLeftIcon: () => (/* binding */ ChevronLeftIcon),\n/* harmony export */   ChevronRightIcon: () => (/* binding */ ChevronRightIcon),\n/* harmony export */   ChevronUpIcon: () => (/* binding */ ChevronUpIcon),\n/* harmony export */   CircleIcon: () => (/* binding */ CircleIcon),\n/* harmony export */   ClipboardIcon: () => (/* binding */ ClipboardIcon),\n/* harmony export */   ClipboardImageIcon: () => (/* binding */ ClipboardImageIcon),\n/* harmony export */   ClockIcon: () => (/* binding */ ClockIcon),\n/* harmony export */   CloseCircleIcon: () => (/* binding */ CloseCircleIcon),\n/* harmony export */   CloseIcon: () => (/* binding */ CloseIcon),\n/* harmony export */   CodeBlockIcon: () => (/* binding */ CodeBlockIcon),\n/* harmony export */   CodeIcon: () => (/* binding */ CodeIcon),\n/* harmony export */   CogIcon: () => (/* binding */ CogIcon),\n/* harmony export */   CollapseIcon: () => (/* binding */ CollapseIcon),\n/* harmony export */   ColorWheelIcon: () => (/* binding */ ColorWheelIcon),\n/* harmony export */   CommentIcon: () => (/* binding */ CommentIcon),\n/* harmony export */   ComponentIcon: () => (/* binding */ ComponentIcon),\n/* harmony export */   ComposeIcon: () => (/* binding */ ComposeIcon),\n/* harmony export */   ConfettiIcon: () => (/* binding */ ConfettiIcon),\n/* harmony export */   ControlsIcon: () => (/* binding */ ControlsIcon),\n/* harmony export */   CopyIcon: () => (/* binding */ CopyIcon),\n/* harmony export */   CreditCardIcon: () => (/* binding */ CreditCardIcon),\n/* harmony export */   CropIcon: () => (/* binding */ CropIcon),\n/* harmony export */   CubeIcon: () => (/* binding */ CubeIcon),\n/* harmony export */   DashboardIcon: () => (/* binding */ DashboardIcon),\n/* harmony export */   DatabaseIcon: () => (/* binding */ DatabaseIcon),\n/* harmony export */   DesktopIcon: () => (/* binding */ DesktopIcon),\n/* harmony export */   DiamondIcon: () => (/* binding */ DiamondIcon),\n/* harmony export */   DocumentIcon: () => (/* binding */ DocumentIcon),\n/* harmony export */   DocumentPdfIcon: () => (/* binding */ DocumentPdfIcon),\n/* harmony export */   DocumentRemoveIcon: () => (/* binding */ DocumentRemoveIcon),\n/* harmony export */   DocumentSheetIcon: () => (/* binding */ DocumentSheetIcon),\n/* harmony export */   DocumentTextIcon: () => (/* binding */ DocumentTextIcon),\n/* harmony export */   DocumentVideoIcon: () => (/* binding */ DocumentVideoIcon),\n/* harmony export */   DocumentWordIcon: () => (/* binding */ DocumentWordIcon),\n/* harmony export */   DocumentZipIcon: () => (/* binding */ DocumentZipIcon),\n/* harmony export */   DocumentsIcon: () => (/* binding */ DocumentsIcon),\n/* harmony export */   DotIcon: () => (/* binding */ DotIcon),\n/* harmony export */   DoubleChevronDownIcon: () => (/* binding */ DoubleChevronDownIcon),\n/* harmony export */   DoubleChevronLeftIcon: () => (/* binding */ DoubleChevronLeftIcon),\n/* harmony export */   DoubleChevronRightIcon: () => (/* binding */ DoubleChevronRightIcon),\n/* harmony export */   DoubleChevronUpIcon: () => (/* binding */ DoubleChevronUpIcon),\n/* harmony export */   DownloadIcon: () => (/* binding */ DownloadIcon),\n/* harmony export */   DragHandleIcon: () => (/* binding */ DragHandleIcon),\n/* harmony export */   DropIcon: () => (/* binding */ DropIcon),\n/* harmony export */   EarthAmericasIcon: () => (/* binding */ EarthAmericasIcon),\n/* harmony export */   EarthGlobeIcon: () => (/* binding */ EarthGlobeIcon),\n/* harmony export */   EditIcon: () => (/* binding */ EditIcon),\n/* harmony export */   EllipsisHorizontalIcon: () => (/* binding */ EllipsisHorizontalIcon),\n/* harmony export */   EllipsisVerticalIcon: () => (/* binding */ EllipsisVerticalIcon),\n/* harmony export */   EnterIcon: () => (/* binding */ EnterIcon),\n/* harmony export */   EnterRightIcon: () => (/* binding */ EnterRightIcon),\n/* harmony export */   EnvelopeIcon: () => (/* binding */ EnvelopeIcon),\n/* harmony export */   EqualIcon: () => (/* binding */ EqualIcon),\n/* harmony export */   ErrorFilledIcon: () => (/* binding */ ErrorFilledIcon),\n/* harmony export */   ErrorOutlineIcon: () => (/* binding */ ErrorOutlineIcon),\n/* harmony export */   ExpandIcon: () => (/* binding */ ExpandIcon),\n/* harmony export */   EyeClosedIcon: () => (/* binding */ EyeClosedIcon),\n/* harmony export */   EyeOpenIcon: () => (/* binding */ EyeOpenIcon),\n/* harmony export */   FilterIcon: () => (/* binding */ FilterIcon),\n/* harmony export */   FolderIcon: () => (/* binding */ FolderIcon),\n/* harmony export */   GenerateIcon: () => (/* binding */ GenerateIcon),\n/* harmony export */   GroqIcon: () => (/* binding */ GroqIcon),\n/* harmony export */   HashIcon: () => (/* binding */ HashIcon),\n/* harmony export */   HeartFilledIcon: () => (/* binding */ HeartFilledIcon),\n/* harmony export */   HeartIcon: () => (/* binding */ HeartIcon),\n/* harmony export */   HelpCircleIcon: () => (/* binding */ HelpCircleIcon),\n/* harmony export */   HighlightIcon: () => (/* binding */ HighlightIcon),\n/* harmony export */   HomeIcon: () => (/* binding */ HomeIcon),\n/* harmony export */   IceCreamIcon: () => (/* binding */ IceCreamIcon),\n/* harmony export */   Icon: () => (/* binding */ Icon),\n/* harmony export */   ImageIcon: () => (/* binding */ ImageIcon),\n/* harmony export */   ImageRemoveIcon: () => (/* binding */ ImageRemoveIcon),\n/* harmony export */   ImagesIcon: () => (/* binding */ ImagesIcon),\n/* harmony export */   InfoFilledIcon: () => (/* binding */ InfoFilledIcon),\n/* harmony export */   InfoOutlineIcon: () => (/* binding */ InfoOutlineIcon),\n/* harmony export */   InlineElementIcon: () => (/* binding */ InlineElementIcon),\n/* harmony export */   InlineIcon: () => (/* binding */ InlineIcon),\n/* harmony export */   InsertAboveIcon: () => (/* binding */ InsertAboveIcon),\n/* harmony export */   InsertBelowIcon: () => (/* binding */ InsertBelowIcon),\n/* harmony export */   ItalicIcon: () => (/* binding */ ItalicIcon),\n/* harmony export */   JoystickIcon: () => (/* binding */ JoystickIcon),\n/* harmony export */   JsonIcon: () => (/* binding */ JsonIcon),\n/* harmony export */   LaunchIcon: () => (/* binding */ LaunchIcon),\n/* harmony export */   LeaveIcon: () => (/* binding */ LeaveIcon),\n/* harmony export */   LemonIcon: () => (/* binding */ LemonIcon),\n/* harmony export */   LinkIcon: () => (/* binding */ LinkIcon),\n/* harmony export */   LinkRemovedIcon: () => (/* binding */ LinkRemovedIcon),\n/* harmony export */   LockIcon: () => (/* binding */ LockIcon),\n/* harmony export */   LogoJsIcon: () => (/* binding */ LogoJsIcon),\n/* harmony export */   LogoTsIcon: () => (/* binding */ LogoTsIcon),\n/* harmony export */   MasterDetailIcon: () => (/* binding */ MasterDetailIcon),\n/* harmony export */   MenuIcon: () => (/* binding */ MenuIcon),\n/* harmony export */   MobileDeviceIcon: () => (/* binding */ MobileDeviceIcon),\n/* harmony export */   MoonIcon: () => (/* binding */ MoonIcon),\n/* harmony export */   NumberIcon: () => (/* binding */ NumberIcon),\n/* harmony export */   OkHandIcon: () => (/* binding */ OkHandIcon),\n/* harmony export */   OlistIcon: () => (/* binding */ OlistIcon),\n/* harmony export */   OverageIcon: () => (/* binding */ OverageIcon),\n/* harmony export */   PackageIcon: () => (/* binding */ PackageIcon),\n/* harmony export */   PanelLeftIcon: () => (/* binding */ PanelLeftIcon),\n/* harmony export */   PanelRightIcon: () => (/* binding */ PanelRightIcon),\n/* harmony export */   PauseIcon: () => (/* binding */ PauseIcon),\n/* harmony export */   PinIcon: () => (/* binding */ PinIcon),\n/* harmony export */   PinRemovedIcon: () => (/* binding */ PinRemovedIcon),\n/* harmony export */   PlayIcon: () => (/* binding */ PlayIcon),\n/* harmony export */   PlugIcon: () => (/* binding */ PlugIcon),\n/* harmony export */   PresentationIcon: () => (/* binding */ PresentationIcon),\n/* harmony export */   ProjectsIcon: () => (/* binding */ ProjectsIcon),\n/* harmony export */   PublishIcon: () => (/* binding */ PublishIcon),\n/* harmony export */   ReadOnlyIcon: () => (/* binding */ ReadOnlyIcon),\n/* harmony export */   RedoIcon: () => (/* binding */ RedoIcon),\n/* harmony export */   RefreshIcon: () => (/* binding */ RefreshIcon),\n/* harmony export */   RemoveCircleIcon: () => (/* binding */ RemoveCircleIcon),\n/* harmony export */   RemoveIcon: () => (/* binding */ RemoveIcon),\n/* harmony export */   ResetIcon: () => (/* binding */ ResetIcon),\n/* harmony export */   RestoreIcon: () => (/* binding */ RestoreIcon),\n/* harmony export */   RetrieveIcon: () => (/* binding */ RetrieveIcon),\n/* harmony export */   RetryIcon: () => (/* binding */ RetryIcon),\n/* harmony export */   RevertIcon: () => (/* binding */ RevertIcon),\n/* harmony export */   RobotIcon: () => (/* binding */ RobotIcon),\n/* harmony export */   RocketIcon: () => (/* binding */ RocketIcon),\n/* harmony export */   SchemaIcon: () => (/* binding */ SchemaIcon),\n/* harmony export */   SearchIcon: () => (/* binding */ SearchIcon),\n/* harmony export */   SelectIcon: () => (/* binding */ SelectIcon),\n/* harmony export */   ShareIcon: () => (/* binding */ ShareIcon),\n/* harmony export */   SortIcon: () => (/* binding */ SortIcon),\n/* harmony export */   SparkleIcon: () => (/* binding */ SparkleIcon),\n/* harmony export */   SparklesIcon: () => (/* binding */ SparklesIcon),\n/* harmony export */   SpinnerIcon: () => (/* binding */ SpinnerIcon),\n/* harmony export */   SplitHorizontalIcon: () => (/* binding */ SplitHorizontalIcon),\n/* harmony export */   SplitVerticalIcon: () => (/* binding */ SplitVerticalIcon),\n/* harmony export */   SquareIcon: () => (/* binding */ SquareIcon),\n/* harmony export */   StackCompactIcon: () => (/* binding */ StackCompactIcon),\n/* harmony export */   StackIcon: () => (/* binding */ StackIcon),\n/* harmony export */   StarIcon: () => (/* binding */ StarIcon),\n/* harmony export */   StopIcon: () => (/* binding */ StopIcon),\n/* harmony export */   StrikethroughIcon: () => (/* binding */ StrikethroughIcon),\n/* harmony export */   StringIcon: () => (/* binding */ StringIcon),\n/* harmony export */   SunIcon: () => (/* binding */ SunIcon),\n/* harmony export */   SyncIcon: () => (/* binding */ SyncIcon),\n/* harmony export */   TabletDeviceIcon: () => (/* binding */ TabletDeviceIcon),\n/* harmony export */   TagIcon: () => (/* binding */ TagIcon),\n/* harmony export */   TagsIcon: () => (/* binding */ TagsIcon),\n/* harmony export */   TaskIcon: () => (/* binding */ TaskIcon),\n/* harmony export */   TerminalIcon: () => (/* binding */ TerminalIcon),\n/* harmony export */   TextIcon: () => (/* binding */ TextIcon),\n/* harmony export */   ThLargeIcon: () => (/* binding */ ThLargeIcon),\n/* harmony export */   ThListIcon: () => (/* binding */ ThListIcon),\n/* harmony export */   TiersIcon: () => (/* binding */ TiersIcon),\n/* harmony export */   ToggleArrowRightIcon: () => (/* binding */ ToggleArrowRightIcon),\n/* harmony export */   TokenIcon: () => (/* binding */ TokenIcon),\n/* harmony export */   TransferIcon: () => (/* binding */ TransferIcon),\n/* harmony export */   TranslateIcon: () => (/* binding */ TranslateIcon),\n/* harmony export */   TrashIcon: () => (/* binding */ TrashIcon),\n/* harmony export */   TrendUpwardIcon: () => (/* binding */ TrendUpwardIcon),\n/* harmony export */   TriangleOutlineIcon: () => (/* binding */ TriangleOutlineIcon),\n/* harmony export */   TrolleyIcon: () => (/* binding */ TrolleyIcon),\n/* harmony export */   TruncateIcon: () => (/* binding */ TruncateIcon),\n/* harmony export */   TwitterIcon: () => (/* binding */ TwitterIcon),\n/* harmony export */   UlistIcon: () => (/* binding */ UlistIcon),\n/* harmony export */   UnderlineIcon: () => (/* binding */ UnderlineIcon),\n/* harmony export */   UndoIcon: () => (/* binding */ UndoIcon),\n/* harmony export */   UnknownIcon: () => (/* binding */ UnknownIcon),\n/* harmony export */   UnlinkIcon: () => (/* binding */ UnlinkIcon),\n/* harmony export */   UnlockIcon: () => (/* binding */ UnlockIcon),\n/* harmony export */   UnpublishIcon: () => (/* binding */ UnpublishIcon),\n/* harmony export */   UploadIcon: () => (/* binding */ UploadIcon),\n/* harmony export */   UserIcon: () => (/* binding */ UserIcon),\n/* harmony export */   UsersIcon: () => (/* binding */ UsersIcon),\n/* harmony export */   WarningFilledIcon: () => (/* binding */ WarningFilledIcon),\n/* harmony export */   WarningOutlineIcon: () => (/* binding */ WarningOutlineIcon),\n/* harmony export */   WrenchIcon: () => (/* binding */ WrenchIcon),\n/* harmony export */   icons: () => (/* binding */ icons)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\nconst AccessDeniedIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"access-denied\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ActivityIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"activity\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M21 15H19L15.5 7L11 18L8 12L6 15H4\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), AddCircleIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"add-circle\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), AddCommentIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"add-comment\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M13 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5H9.5V20.5L13.5 16.5H16.5C17.6046 16.5 18.5 15.6046 18.5 14.5V12M15 6.5H22M18.5 10V3\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), AddDocumentIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"add-document\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M11.5 4.5V9.5H6.5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M11.5 4.5H18.5V12M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5M6.5 9.5V19.5H11M20 17.5H16.5M16.5 17.5H13M16.5 17.5V14M16.5 17.5V21\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), AddIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"add\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 5V20M5 12.5H20\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ApiIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"api\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z\",\n            fill: \"currentColor\"\n          }\n        )\n      ]\n    }\n  );\n}), ArchiveIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"archive\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M4.5 7.5H20.5M16 14L12.5 17.5L9 14\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), ArrowDownIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"arrow-down\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M12.5 19.5V5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M18 14L12.5 19.5L7 14\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), ArrowLeftIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"arrow-left\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M5.5 12.5H20\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M11 18L5.5 12.5L11 7\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), ArrowRightIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"arrow-right\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M19.5 12.5H5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M14 7L19.5 12.5L14 18\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), ArrowTopRightIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"arrow-top-right\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M16.5 8.5L7 18\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M9 8.5H16.5V16\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" })\n      ]\n    }\n  );\n}), ArrowUpIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"arrow-up\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M7 11L12.5 5.5L18 11\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M12.5 5.5V20\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" })\n      ]\n    }\n  );\n}), AsteriskIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"asterisk\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 4V21M16.75 5.13879L8.25 19.8612M19.8612 8.25L5.13878 16.75M4.00002 12.5H21M5.13881 8.25L19.8612 16.75M8.25002 5.13879L16.75 19.8612\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), BarChartIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"bar-chart\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), BasketIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"basket\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), BellIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"bell\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), BillIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"bill\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), BinaryDocumentIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"binary-document\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M11.5 4.5V9.5H6.5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinecap: \"square\",\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), BlockContentIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"block-content\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            fillRule: \"evenodd\",\n            clipRule: \"evenodd\",\n            d: \"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            fillRule: \"evenodd\",\n            clipRule: \"evenodd\",\n            d: \"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            fillRule: \"evenodd\",\n            clipRule: \"evenodd\",\n            d: \"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            fillRule: \"evenodd\",\n            clipRule: \"evenodd\",\n            d: \"M21 18.6002H4V17.4002H21V18.6002Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z\",\n            fill: \"currentColor\"\n          }\n        )\n      ]\n    }\n  );\n}), BlockElementIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"block-element\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), BlockquoteIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"blockquote\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), BoldIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"bold\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), BoltIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"bolt\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), BookIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"book\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), BottleIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"bottle\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), BulbFilledIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"bulb-filled\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            fillRule: \"evenodd\",\n            clipRule: \"evenodd\",\n            d: \"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z\",\n            fill: \"currentColor\"\n          }\n        )\n      ]\n    }\n  );\n}), BulbOutlineIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"bulb-outline\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2\n        }\n      )\n    }\n  );\n}), CalendarIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"calendar\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CaseIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"case\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ChartUpwardIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"chart-upward\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CheckmarkCircleIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"checkmark-circle\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CheckmarkIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"checkmark\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5.5 11.5L10.5 16.5L19.5 7.60001\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ChevronDownIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"chevron-down\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M17 10.5L12.5 15L8 10.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ChevronLeftIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"chevron-left\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M14.5 17L10 12.5L14.5 8\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ChevronRightIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"chevron-right\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10.5 8L15 12.5L10.5 17\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ChevronUpIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"chevron-up\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8 14.5L12.5 10L17 14.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CircleIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"circle\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"circle\",\n        {\n          cx: 12.5,\n          cy: 12.5,\n          r: 8,\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ClipboardIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"clipboard\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ClipboardImageIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"clipboard-image\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ClockIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"clock\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CloseCircleIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"close-circle\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CloseIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"close\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M18 7L7 18M7 7L18 18\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CodeBlockIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"code-block\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CodeIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"code\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CogIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"cog\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), CollapseIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"collapse\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M10.5 14.5L6 19M14.5 10.5L19 6\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), ColorWheelIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"color-wheel\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CommentIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"comment\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ComponentIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"component\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ComposeIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"compose\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ConfettiIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"confetti\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            fillRule: \"evenodd\",\n            clipRule: \"evenodd\",\n            d: \"M16.5 6.25C16.9142 6.25 17.25 5.91421 17.25 5.5C17.25 5.08579 16.9142 4.75 16.5 4.75C16.0858 4.75 15.75 5.08579 15.75 5.5C15.75 5.91421 16.0858 6.25 16.5 6.25ZM19.5 16.25C19.9142 16.25 20.25 15.9142 20.25 15.5C20.25 15.0858 19.9142 14.75 19.5 14.75C19.0858 14.75 18.75 15.0858 18.75 15.5C18.75 15.9142 19.0858 16.25 19.5 16.25Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M13 4C11 6 14.5 5.5 12.5 7.5M21 12C19 14 19.5 10.5 17.5 12.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M6.99288 20.296L7.21541 20.8532L6.99288 20.296ZM15.3657 16.952L15.1432 16.3948L15.3657 16.952ZM4.48221 17.7853L5.03942 18.0078L4.48221 17.7853ZM7.82614 9.41242L8.38334 9.63495L8.38334 9.63495L7.82614 9.41242ZM4.9038 19.8744L4.47954 20.2986L4.9038 19.8744ZM20.6 5C20.6 4.66863 20.3314 4.4 20 4.4C19.6686 4.4 19.4 4.66863 19.4 5L20.6 5ZM15.6417 16.0661C15.6727 16.0352 15.6429 16.1034 15.3784 16.0633C15.1285 16.0255 14.78 15.9035 14.3486 15.6771C13.4924 15.2279 12.4323 14.4325 11.389 13.3892L10.5405 14.2377C11.645 15.3423 12.8008 16.2201 13.791 16.7397C14.2827 16.9977 14.7649 17.1841 15.1987 17.2498C15.6178 17.3133 16.1246 17.2803 16.4903 16.9146L15.6417 16.0661ZM11.389 13.3892C10.3457 12.3459 9.55032 11.2858 9.10105 10.4296C8.87467 9.99821 8.75268 9.64963 8.71484 9.39979C8.67477 9.13524 8.74302 9.10551 8.71208 9.13645L7.86355 8.28792C7.49788 8.65359 7.46489 9.1604 7.52837 9.5795C7.59408 10.0133 7.78043 10.4955 8.03847 10.9872C8.55805 11.9774 9.4359 13.1332 10.5405 14.2377L11.389 13.3892ZM8.71208 9.13645C8.68114 9.16739 8.71088 9.09913 8.97542 9.1392C9.22526 9.17705 9.57384 9.29904 10.0052 9.52542C10.8614 9.97469 11.9215 10.77 12.9648 11.8134L13.8134 10.9648C12.7088 9.86026 11.553 8.98242 10.5628 8.46283C10.0711 8.20479 9.58894 8.01844 9.15513 7.95274C8.73603 7.88926 8.22923 7.92224 7.86355 8.28792L8.71208 9.13645ZM12.9648 11.8134C14.0081 12.8567 14.8035 13.9168 15.2528 14.7729C15.4791 15.2043 15.6011 15.5529 15.639 15.8028C15.679 16.0673 15.6108 16.097 15.6417 16.0661L16.4903 16.9146C16.8559 16.5489 16.8889 16.0421 16.8254 15.623C16.7597 15.1892 16.5734 14.7071 16.3153 14.2153C15.7958 13.2252 14.9179 12.0694 13.8134 10.9648L12.9648 11.8134ZM7.21541 20.8532L15.5883 17.5092L15.1432 16.3948L6.77034 19.7387L7.21541 20.8532ZM5.03942 18.0078L8.38334 9.63495L7.26893 9.18988L3.92501 17.5628L5.03942 18.0078ZM7.86355 8.28792C7.60626 8.54522 7.40381 8.85216 7.26893 9.18988L8.38334 9.63495C8.45773 9.44869 8.5696 9.27894 8.71208 9.13644L7.86355 8.28792ZM3.92501 17.5628C3.54833 18.5059 3.76251 19.5816 4.47954 20.2986L5.32807 19.4501C4.95514 19.0772 4.83814 18.5118 5.03942 18.0078L3.92501 17.5628ZM15.6417 16.0661C15.4993 16.2086 15.3295 16.3204 15.1432 16.3948L15.5883 17.5092C15.926 17.3744 16.2329 17.1719 16.4903 16.9146L15.6417 16.0661ZM6.77034 19.7387C6.26637 19.94 5.70099 19.823 5.32807 19.4501L4.47954 20.2986C5.19657 21.0157 6.27225 21.2298 7.21541 20.8532L6.77034 19.7387ZM19.4 5C19.4 7.17816 18.8838 8.08287 18.3136 8.50727C17.6938 8.96864 16.8379 9.02116 15.7269 9.06388C14.7129 9.10288 13.4438 9.13208 12.4699 9.857C11.4463 10.6189 10.9 12.005 10.9 14.3269H12.1C12.1 12.1487 12.6162 11.244 13.1864 10.8196C13.8062 10.3582 14.6621 10.3057 15.7731 10.263C16.7871 10.224 18.0562 10.1948 19.0301 9.46988C20.0537 8.70799 20.6 7.32184 20.6 5L19.4 5Z\",\n            fill: \"currentColor\"\n          }\n        )\n      ]\n    }\n  );\n}), ControlsIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"controls\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CopyIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"copy\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CreditCardIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"credit-card\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M20.5 9.5H4.5V11.5H20.5V9.5Z\",\n            fill: \"currentColor\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), CropIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"crop\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M9.5 5V15.5H20M5 9.5H15.5V20\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), CubeIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"cube\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), DashboardIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"dashboard\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), DatabaseIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"database\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), DesktopIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"desktop\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), DiamondIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"diamond\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M21 10.5L12.5 21M21 10.5L18 5.5H11M21 10.5H16M12.5 21L4 10.5M12.5 21L9 10.5M12.5 21L16 10.5M4 10.5L7 5.5H11M4 10.5H9M9 10.5H12.5H16M9 10.5L11 5.5M16 10.5L14.5 5.5H11\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), DocumentIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"document\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M11.5 4.5V9.5H6.5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), DocumentPdfIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"document-pdf\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M11.5 4.5V9.5H6.5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), DocumentRemoveIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"document-remove\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M11.5 4.5V9.5H6.5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), DocumentSheetIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"document-sheet\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M11.5 4.5V9.5H6.5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), DocumentTextIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"document-text\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M11.5 4.5V9.5H6.5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), DocumentVideoIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"document-video\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M11.5 16.5V13.5L14 15L11.5 16.5Z\",\n            fill: \"currentColor\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M11.5 4.5V9.5H6.5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), DocumentWordIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"document-word\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M11.5 4.5V9.5H6.5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), DocumentZipIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"document-zip\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M11.5 4.5V9.5H6.5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), DocumentsIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"documents\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M10.5 4.5V9.5H5.5\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), DotIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"dot\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"circle\",\n        {\n          cx: 12.5,\n          cy: 12.5,\n          r: 2.5,\n          fill: \"currentColor\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2\n        }\n      )\n    }\n  );\n}), DoubleChevronDownIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"double-chevron-down\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M17 8L12.5 12.5L8 8M17 13L12.5 17.5L8 13\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), DoubleChevronLeftIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"double-chevron-left\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12 17L7.5 12.5L12 8M17 17L12.5 12.5L17 8\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), DoubleChevronRightIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"double-chevron-right\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M13 8L17.5 12.5L13 17M8 8L12.5 12.5L8 17\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), DoubleChevronUpIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"double-chevron-up\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8 12L12.5 7.5L17 12M8 17L12.5 12.5L17 17\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), DownloadIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"download\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M19.5 17V19.5H5.5V17M12.5 16L12.5 5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M17.5 11L12.5 16L7.5 11\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), DragHandleIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"drag-handle\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z\",\n            fill: \"currentColor\"\n          }\n        )\n      ]\n    }\n  );\n}), DropIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"drop\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), EarthAmericasIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"earth-americas\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z\",\n            fill: \"currentColor\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"circle\",\n          {\n            cx: 12.5,\n            cy: 12.5,\n            r: 8,\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), EarthGlobeIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"earth-globe\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), EditIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"edit\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), EllipsisHorizontalIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"ellipsis-horizontal\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z\",\n            fill: \"currentColor\"\n          }\n        )\n      ]\n    }\n  );\n}), EllipsisVerticalIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"ellipsis-vertical\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z\",\n            fill: \"currentColor\"\n          }\n        )\n      ]\n    }\n  );\n}), EnterIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"enter\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M6 14.5H19.5V7\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M10 18.5L6 14.5L10 10.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), EnterRightIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"enter-right\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M19 14.5H5.5V7\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M15 18.5L19 14.5L15 10.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), EnvelopeIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"envelope\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M20.5 18.5H4.5V6.5H20.5V18.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), EqualIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"equal\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M7.5 4.5H3.5V20.5H7.5\", stroke: \"currentColor\", strokeWidth: 1.2 }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5\", stroke: \"currentColor\", strokeWidth: 1.2 }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M9 10.5H16\", stroke: \"currentColor\", strokeWidth: 1.2 }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M9 14.5H16\", stroke: \"currentColor\", strokeWidth: 1.2 })\n      ]\n    }\n  );\n}), ErrorFilledIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"error-filled\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          fillRule: \"evenodd\",\n          clipRule: \"evenodd\",\n          d: \"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), ErrorOutlineIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"error-outline\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ExpandIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"expand\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M14 6.5H18.5V11M11 18.5H6.5V14\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M18.5 6.5L14 11M6.5 18.5L11 14\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), EyeClosedIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"eye-closed\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), EyeOpenIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"eye-open\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            fillRule: \"evenodd\",\n            clipRule: \"evenodd\",\n            d: \"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), FilterIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"filter\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinecap: \"square\",\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), FolderIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"folder\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), GenerateIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"generate\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M16 11L12.5 14.5L9 11\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), GroqIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"groq\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M13 13H21L13 21L13 13Z\", fill: \"currentColor\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M12 12V4L4 12H12Z\", fill: \"currentColor\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M12 13H4L12 21V13Z\", fill: \"currentColor\" })\n      ]\n    }\n  );\n}), HashIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"hash\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8.33894 16.1002H5.44615L5.63077 14.9002H8.52356L9.26202 10.1002H6.36923L6.55384 8.90018H9.44663L9.89281 6H11.1069L10.6608 8.90018H15.4466L15.8928 6H17.1069L16.6608 8.90018H19.5539L19.3693 10.1002H16.4761L15.7377 14.9002H18.6308L18.4462 16.1002H15.5531L15.1069 19H13.8928L14.3389 16.1002H9.55306L9.10693 19H7.89281L8.33894 16.1002ZM10.4761 10.1002L9.73767 14.9002H14.5236L15.262 10.1002H10.4761Z\",\n          fillRule: \"evenodd\",\n          clipRule: \"evenodd\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), HeartFilledIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"heart-filled\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z\",\n          fill: \"currentColor\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), HeartIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"heart\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), HelpCircleIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"help-circle\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), HighlightIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"highlight\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"m20.25 9.005-2.719 4.71M10.75 3.504l-2.725 4.72m9.506 5.49-9.506-5.49m9.506 5.49L16.5 15.5l-3.268.634L12 18l-.586-.352m-3.39-9.423L7 10l1 3-1 2 .586.351m0 0L4.902 20h5.155l1.357-2.352m-3.828-2.297 3.828 2.297M13 20h7\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), HomeIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"home\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), IceCreamIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"ice-cream\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ImageIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"image\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ImageRemoveIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"image-remove\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ImagesIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"images\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), InfoFilledIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"info-filled\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          fillRule: \"evenodd\",\n          clipRule: \"evenodd\",\n          d: \"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), InfoOutlineIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"info-outline\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), InlineElementIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"inline-element\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), InlineIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"inline\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), InsertAboveIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"insert-above\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinecap: \"square\",\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), InsertBelowIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"insert-below\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinecap: \"square\",\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ItalicIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"italic\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), JoystickIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"joystick\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), JsonIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"json\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), LaunchIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"launch\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M14 5.5H19.5V11\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" })\n      ]\n    }\n  );\n}), LeaveIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"leave\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M18 9L21.5 12.5L18 16\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), LemonIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"lemon\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), LinkIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"link\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), LinkRemovedIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"link-removed\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), LockIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"lock\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), LogoJsIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"logo-js\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          fillRule: \"evenodd\",\n          clipRule: \"evenodd\",\n          d: \"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), LogoTsIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"logo-ts\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          fillRule: \"evenodd\",\n          clipRule: \"evenodd\",\n          d: \"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), MasterDetailIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"master-detail\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), MenuIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"menu\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M6 7.5H19M6 17.5H19M6 12.5H19\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), MobileDeviceIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"mobile-device\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), MoonIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"moon\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), NumberIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"number\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            fillRule: \"evenodd\",\n            clipRule: \"evenodd\",\n            d: \"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z\",\n            fill: \"currentColor\"\n          }\n        )\n      ]\n    }\n  );\n}), OkHandIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"ok-hand\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), OlistIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"olist\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), OverageIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"overage\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M18.5 11V6.5H14\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), PackageIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"package\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), PanelLeftIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"panel-left\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), PanelRightIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"panel-right\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), PauseIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"pause\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M10.5 7.5H8.5V17.5H10.5V7.5Z\", fill: \"currentColor\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M16.5 7.5H14.5V17.5H16.5V7.5Z\", fill: \"currentColor\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M10.5 7.5H8.5V17.5H10.5V7.5Z\", stroke: \"currentColor\", strokeWidth: 1.2 }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M16.5 7.5H14.5V17.5H16.5V7.5Z\", stroke: \"currentColor\", strokeWidth: 1.2 })\n      ]\n    }\n  );\n}), PinIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"pin\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), PinRemovedIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"pin-removed\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), PlayIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"play\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z\",\n          fill: \"currentColor\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), PlugIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"plug\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), PresentationIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"presentation\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ProjectsIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"projects\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M21 17.5H14M17.5 14V21M4.5 14.5H10.5V20.5H4.5V14.5ZM14.5 4.5H20.5V10.5H14.5V4.5ZM4.5 4.5H10.5V10.5H4.5V4.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), PublishIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"publish\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M4.99997 5.50006H20M12.5 9.00005V20\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M7.5 14L12.5 9.00006L17.5 14\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), ReadOnlyIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"read-only\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), RedoIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"redo\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M15 13.5L19 9.5L15 5.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), RefreshIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"refresh\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M11.5 10.5L15.5 6.5L11.5 2.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), RemoveCircleIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"remove-circle\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), RemoveIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"remove\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M5 12.5H20\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" })\n    }\n  );\n}), ResetIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"reset\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), RestoreIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"restore\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M7 11L4.5 13.5L2 11\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), RetrieveIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"retrieve\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M16 14L12.5 10.5L9 14M5.5 7.5H19.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), RetryIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"retry\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M15 13.5L19 9.5L15 5.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), RevertIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"revert\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M10 13.5L6 9.5L10 5.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), RobotIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"robot\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), RocketIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"rocket\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), SchemaIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"schema\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), SearchIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"search\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), SelectIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"select\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ShareIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"share\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M9 7L12.5 3.5L16 7\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" })\n      ]\n    }\n  );\n}), SortIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"sort\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), SparkleIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"sparkle\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), SparklesIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"sparkles\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), SpinnerIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"spinner\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), SplitHorizontalIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"split-horizontal\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), SplitVerticalIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"split-vertical\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), SquareIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"square\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"rect\",\n        {\n          x: 5.5,\n          y: 5.5,\n          width: 14,\n          height: 14,\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), StackCompactIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"stack-compact\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), StackIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"stack\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), StarIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"star\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), StopIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"stop\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"rect\",\n        {\n          x: 7.5,\n          y: 7.5,\n          width: 10,\n          height: 10,\n          fill: \"currentColor\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), StrikethroughIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"strikethrough\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M7 13.1H18V11.9H7V13.1Z\", fill: \"currentColor\" })\n      ]\n    }\n  );\n}), StringIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"string\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            fillRule: \"evenodd\",\n            clipRule: \"evenodd\",\n            d: \"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z\",\n            fill: \"currentColor\"\n          }\n        )\n      ]\n    }\n  );\n}), SunIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"sun\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), SyncIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"sync\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), TabletDeviceIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"tablet-device\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), TagIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"tag\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), TagsIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"tags\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), TaskIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"task\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M4.88281 10.75V19.75H20.8828V10.75M4.88281 10.75V5.75H20.8828V10.75M4.88281 10.75H12.8828H20.8828M17.8828 8.25V3.25M7.88281 8.25V3.25\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M10.083 14.7358L12.083 16.7358L15.683 13.1758\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), TerminalIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"terminal\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), TextIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"text\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ThLargeIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"th-large\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ThListIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"th-list\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), TiersIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"tiers\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), ToggleArrowRightIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"toggle-arrow-right\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M10 16.5V8.5L16 12.5L10 16.5Z\",\n          fill: \"currentColor\",\n          stroke: \"currentColor\",\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), TokenIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"token\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), TransferIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"transfer\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M19.5 16.5H6M5.5 8.5L19 8.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), TranslateIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"translate\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          fillRule: \"evenodd\",\n          clipRule: \"evenodd\",\n          d: \"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), TrashIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"trash\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), TrendUpwardIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"trend-upward\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M20.5 11V6.5H16\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" })\n      ]\n    }\n  );\n}), TriangleOutlineIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"triangle-outline\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), TrolleyIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"trolley\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), TruncateIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"truncate\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), TwitterIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"twitter\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), UlistIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"ulist\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M10 7.5H19M10 17.5H19M10 12.5H19\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), UnderlineIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"underline\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z\",\n            fill: \"currentColor\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M7 20.5H18\", stroke: \"currentColor\", strokeWidth: 1.2, strokeLinejoin: \"round\" })\n      ]\n    }\n  );\n}), UndoIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"undo\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M10 13.5L6 9.5L10 5.5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), UnknownIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"unknown\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), UnlinkIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"unlink\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M15 13.5L17.5 11C18.281 10.219 18.281 8.78105 17.5 8L17 7.5C16.2189 6.71895 14.781 6.71895 14 7.5L11.5 10M10 11.5L7.5 14C6.71896 14.781 6.71895 16.219 7.5 17L8 17.5C8.78105 18.281 10.2189 18.281 11 17.5L13.5 15M9.5 8V5M8 9.5H5M17 15.5H20M15.5 17V20\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), UnlockIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"unlock\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), UnpublishIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"unpublish\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M5 19.5H20M12.5 16V5\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M17.5 11L12.5 16L7.5 11\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), UploadIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"upload\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M7.5 11L12.5 6.00003L17.5 11\",\n            stroke: \"currentColor\",\n            strokeWidth: 1.2,\n            strokeLinejoin: \"round\"\n          }\n        )\n      ]\n    }\n  );\n}), UserIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"user\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), UsersIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"users\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), WarningFilledIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"warning-filled\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          fillRule: \"evenodd\",\n          clipRule: \"evenodd\",\n          d: \"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), WarningOutlineIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"warning-outline\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z\",\n          stroke: \"currentColor\",\n          strokeWidth: 1.2,\n          strokeLinejoin: \"round\"\n        }\n      )\n    }\n  );\n}), WrenchIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"wrench\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 25 25\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ref,\n      ...props,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"path\",\n        {\n          d: \"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n}), icons = {\n  \"access-denied\": AccessDeniedIcon,\n  activity: ActivityIcon,\n  \"add-circle\": AddCircleIcon,\n  \"add-comment\": AddCommentIcon,\n  \"add-document\": AddDocumentIcon,\n  add: AddIcon,\n  api: ApiIcon,\n  archive: ArchiveIcon,\n  \"arrow-down\": ArrowDownIcon,\n  \"arrow-left\": ArrowLeftIcon,\n  \"arrow-right\": ArrowRightIcon,\n  \"arrow-top-right\": ArrowTopRightIcon,\n  \"arrow-up\": ArrowUpIcon,\n  asterisk: AsteriskIcon,\n  \"bar-chart\": BarChartIcon,\n  basket: BasketIcon,\n  bell: BellIcon,\n  bill: BillIcon,\n  \"binary-document\": BinaryDocumentIcon,\n  \"block-content\": BlockContentIcon,\n  \"block-element\": BlockElementIcon,\n  blockquote: BlockquoteIcon,\n  bold: BoldIcon,\n  bolt: BoltIcon,\n  book: BookIcon,\n  bottle: BottleIcon,\n  \"bulb-filled\": BulbFilledIcon,\n  \"bulb-outline\": BulbOutlineIcon,\n  calendar: CalendarIcon,\n  case: CaseIcon,\n  \"chart-upward\": ChartUpwardIcon,\n  \"checkmark-circle\": CheckmarkCircleIcon,\n  checkmark: CheckmarkIcon,\n  \"chevron-down\": ChevronDownIcon,\n  \"chevron-left\": ChevronLeftIcon,\n  \"chevron-right\": ChevronRightIcon,\n  \"chevron-up\": ChevronUpIcon,\n  circle: CircleIcon,\n  clipboard: ClipboardIcon,\n  \"clipboard-image\": ClipboardImageIcon,\n  clock: ClockIcon,\n  \"close-circle\": CloseCircleIcon,\n  close: CloseIcon,\n  \"code-block\": CodeBlockIcon,\n  code: CodeIcon,\n  cog: CogIcon,\n  collapse: CollapseIcon,\n  \"color-wheel\": ColorWheelIcon,\n  comment: CommentIcon,\n  component: ComponentIcon,\n  compose: ComposeIcon,\n  confetti: ConfettiIcon,\n  controls: ControlsIcon,\n  copy: CopyIcon,\n  \"credit-card\": CreditCardIcon,\n  crop: CropIcon,\n  cube: CubeIcon,\n  dashboard: DashboardIcon,\n  database: DatabaseIcon,\n  desktop: DesktopIcon,\n  diamond: DiamondIcon,\n  document: DocumentIcon,\n  \"document-pdf\": DocumentPdfIcon,\n  \"document-remove\": DocumentRemoveIcon,\n  \"document-sheet\": DocumentSheetIcon,\n  \"document-text\": DocumentTextIcon,\n  \"document-video\": DocumentVideoIcon,\n  \"document-word\": DocumentWordIcon,\n  \"document-zip\": DocumentZipIcon,\n  documents: DocumentsIcon,\n  dot: DotIcon,\n  \"double-chevron-down\": DoubleChevronDownIcon,\n  \"double-chevron-left\": DoubleChevronLeftIcon,\n  \"double-chevron-right\": DoubleChevronRightIcon,\n  \"double-chevron-up\": DoubleChevronUpIcon,\n  download: DownloadIcon,\n  \"drag-handle\": DragHandleIcon,\n  drop: DropIcon,\n  \"earth-americas\": EarthAmericasIcon,\n  \"earth-globe\": EarthGlobeIcon,\n  edit: EditIcon,\n  \"ellipsis-horizontal\": EllipsisHorizontalIcon,\n  \"ellipsis-vertical\": EllipsisVerticalIcon,\n  enter: EnterIcon,\n  \"enter-right\": EnterRightIcon,\n  envelope: EnvelopeIcon,\n  equal: EqualIcon,\n  \"error-filled\": ErrorFilledIcon,\n  \"error-outline\": ErrorOutlineIcon,\n  expand: ExpandIcon,\n  \"eye-closed\": EyeClosedIcon,\n  \"eye-open\": EyeOpenIcon,\n  filter: FilterIcon,\n  folder: FolderIcon,\n  generate: GenerateIcon,\n  groq: GroqIcon,\n  hash: HashIcon,\n  \"heart-filled\": HeartFilledIcon,\n  heart: HeartIcon,\n  \"help-circle\": HelpCircleIcon,\n  highlight: HighlightIcon,\n  home: HomeIcon,\n  \"ice-cream\": IceCreamIcon,\n  image: ImageIcon,\n  \"image-remove\": ImageRemoveIcon,\n  images: ImagesIcon,\n  \"info-filled\": InfoFilledIcon,\n  \"info-outline\": InfoOutlineIcon,\n  \"inline-element\": InlineElementIcon,\n  inline: InlineIcon,\n  \"insert-above\": InsertAboveIcon,\n  \"insert-below\": InsertBelowIcon,\n  italic: ItalicIcon,\n  joystick: JoystickIcon,\n  json: JsonIcon,\n  launch: LaunchIcon,\n  leave: LeaveIcon,\n  lemon: LemonIcon,\n  link: LinkIcon,\n  \"link-removed\": LinkRemovedIcon,\n  lock: LockIcon,\n  \"logo-js\": LogoJsIcon,\n  \"logo-ts\": LogoTsIcon,\n  \"master-detail\": MasterDetailIcon,\n  menu: MenuIcon,\n  \"mobile-device\": MobileDeviceIcon,\n  moon: MoonIcon,\n  number: NumberIcon,\n  \"ok-hand\": OkHandIcon,\n  olist: OlistIcon,\n  overage: OverageIcon,\n  package: PackageIcon,\n  \"panel-left\": PanelLeftIcon,\n  \"panel-right\": PanelRightIcon,\n  pause: PauseIcon,\n  pin: PinIcon,\n  \"pin-removed\": PinRemovedIcon,\n  play: PlayIcon,\n  plug: PlugIcon,\n  presentation: PresentationIcon,\n  projects: ProjectsIcon,\n  publish: PublishIcon,\n  \"read-only\": ReadOnlyIcon,\n  redo: RedoIcon,\n  refresh: RefreshIcon,\n  \"remove-circle\": RemoveCircleIcon,\n  remove: RemoveIcon,\n  reset: ResetIcon,\n  restore: RestoreIcon,\n  retrieve: RetrieveIcon,\n  retry: RetryIcon,\n  revert: RevertIcon,\n  robot: RobotIcon,\n  rocket: RocketIcon,\n  schema: SchemaIcon,\n  search: SearchIcon,\n  select: SelectIcon,\n  share: ShareIcon,\n  sort: SortIcon,\n  sparkle: SparkleIcon,\n  sparkles: SparklesIcon,\n  spinner: SpinnerIcon,\n  \"split-horizontal\": SplitHorizontalIcon,\n  \"split-vertical\": SplitVerticalIcon,\n  square: SquareIcon,\n  \"stack-compact\": StackCompactIcon,\n  stack: StackIcon,\n  star: StarIcon,\n  stop: StopIcon,\n  strikethrough: StrikethroughIcon,\n  string: StringIcon,\n  sun: SunIcon,\n  sync: SyncIcon,\n  \"tablet-device\": TabletDeviceIcon,\n  tag: TagIcon,\n  tags: TagsIcon,\n  task: TaskIcon,\n  terminal: TerminalIcon,\n  text: TextIcon,\n  \"th-large\": ThLargeIcon,\n  \"th-list\": ThListIcon,\n  tiers: TiersIcon,\n  \"toggle-arrow-right\": ToggleArrowRightIcon,\n  token: TokenIcon,\n  transfer: TransferIcon,\n  translate: TranslateIcon,\n  trash: TrashIcon,\n  \"trend-upward\": TrendUpwardIcon,\n  \"triangle-outline\": TriangleOutlineIcon,\n  trolley: TrolleyIcon,\n  truncate: TruncateIcon,\n  twitter: TwitterIcon,\n  ulist: UlistIcon,\n  underline: UnderlineIcon,\n  undo: UndoIcon,\n  unknown: UnknownIcon,\n  unlink: UnlinkIcon,\n  unlock: UnlockIcon,\n  unpublish: UnpublishIcon,\n  upload: UploadIcon,\n  user: UserIcon,\n  users: UsersIcon,\n  \"warning-filled\": WarningFilledIcon,\n  \"warning-outline\": WarningOutlineIcon,\n  wrench: WrenchIcon\n}, Icon = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { symbol, ...restProps } = props, IconComponent = icons[symbol];\n  return IconComponent ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconComponent, { ...restProps, ref }) : null;\n});\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pY29ucy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThDO0FBQ1g7QUFDbkMseUJBQXlCLGlEQUFVO0FBQ25DLHlCQUF5QixzREFBRztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzREFBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0JBQWtCLGlEQUFVO0FBQzdCLHlCQUF5QixzREFBRztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzREFBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsbUJBQW1CLGlEQUFVO0FBQzlCLHlCQUF5QixzREFBRztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzREFBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0JBQW9CLGlEQUFVO0FBQy9CLHlCQUF5QixzREFBRztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzREFBRztB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LHNEQUFHO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0IsaURBQVU7QUFDbkMseUJBQXlCLHNEQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNEQUFHO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQkFBZ0IsaURBQVU7QUFDM0IseUJBQXlCLHNEQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNEQUFHO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLFNBQVMsaURBQVU7QUFDcEIsVUFBVSx1QkFBdUI7QUFDakMseUNBQXlDLHNEQUFHLGtCQUFrQixtQkFBbUI7QUFDakYsQ0FBQztBQWlOQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2ljb25zL2Rpc3QvaW5kZXguanM/MDNjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3gsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IGZvcndhcmRSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmNvbnN0IEFjY2Vzc0RlbmllZEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJhY2Nlc3MtZGVuaWVkXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE4LjE1NjggNi44NDMxNUMyMS4yODEgOS45NjczNCAyMS4yODEgMTUuMDMyNyAxOC4xNTY4IDE4LjE1NjlDMTUuMDMyNiAyMS4yODEgOS45NjczMyAyMS4yODEgNi44NDMxMyAxOC4xNTY5QzMuNzE4OTQgMTUuMDMyNyAzLjcxODk0IDkuOTY3MzQgNi44NDMxMyA2Ljg0MzE1QzkuOTY3MzMgMy43MTg5NSAxNS4wMzI2IDMuNzE4OTUgMTguMTU2OCA2Ljg0MzE1Wk0xOC4xNTY4IDYuODQzMTVMNi44NDQgMTguMTU2XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEFjdGl2aXR5SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImFjdGl2aXR5XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTIxIDE1SDE5TDE1LjUgN0wxMSAxOEw4IDEyTDYgMTVINFwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBBZGRDaXJjbGVJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiYWRkLWNpcmNsZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk04IDEyLjRIMTdNMTIuNSA4VjE3TTIwLjUgMTIuNUMyMC41IDE2LjkxODMgMTYuOTE4MyAyMC41IDEyLjUgMjAuNUM4LjA4MTcyIDIwLjUgNC41IDE2LjkxODMgNC41IDEyLjVDNC41IDguMDgxNzIgOC4wODE3MiA0LjUgMTIuNSA0LjVDMTYuOTE4MyA0LjUgMjAuNSA4LjA4MTcyIDIwLjUgMTIuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgQWRkQ29tbWVudEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJhZGQtY29tbWVudFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMyA2LjVINy41QzYuMzk1NDMgNi41IDUuNSA3LjM5NTQzIDUuNSA4LjVWMTQuNUM1LjUgMTUuNjA0NiA2LjM5NTQzIDE2LjUgNy41IDE2LjVIOS41VjIwLjVMMTMuNSAxNi41SDE2LjVDMTcuNjA0NiAxNi41IDE4LjUgMTUuNjA0NiAxOC41IDE0LjVWMTJNMTUgNi41SDIyTTE4LjUgMTBWM1wiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBBZGREb2N1bWVudEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiYWRkLWRvY3VtZW50XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTEuNSA0LjVWOS41SDYuNVwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAxLjIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTEuNSA0LjVIMTguNVYxMk0xMS41IDQuNUw2LjUgOS41TTExLjUgNC41VjkuNUg2LjVNNi41IDkuNVYxOS41SDExTTIwIDE3LjVIMTYuNU0xNi41IDE3LjVIMTNNMTYuNSAxNy41VjE0TTE2LjUgMTcuNVYyMVwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgQWRkSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImFkZFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMi41IDVWMjBNNSAxMi41SDIwXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEFwaUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiYXBpXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNS45MzA0NyAxMy4yMTA3TDYuNjY3ODIgMTAuMzcyOEg2LjczMDg5TDcuNDU4NTQgMTMuMjEwN0g1LjkzMDQ3Wk04LjE3MTY0IDE2SDkuNjYwODlMNy41NjA0MSA5SDUuOTMwNDdMMy44Mjk5OSAxNkg1LjIwNzY3TDUuNjUzOTYgMTQuMjg3Nkg3LjczNTA1TDguMTcxNjQgMTZaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTEwLjUzODkgOVYxNkgxMS45MTY2VjEzLjc3ODJIMTMuMDMyM0MxNC41NDEgMTMuNzc4MiAxNS41MDE1IDEyLjg1MTcgMTUuNTAxNSAxMS4zOTY0QzE1LjUwMTUgOS45MjY1NCAxNC41NzAxIDkgMTMuMTAwMyA5SDEwLjUzODlaTTExLjkxNjYgMTAuMTMwM0gxMi43NTFDMTMuNjUzMyAxMC4xMzAzIDE0LjEwNDQgMTAuNTQ3NSAxNC4xMDQ0IDExLjM4NjdDMTQuMTA0NCAxMi4yMzA4IDEzLjY1MzMgMTIuNjQzMSAxMi43NTEgMTIuNjQzMUgxMS45MTY2VjEwLjEzMDNaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTIxLjE2NzUgMTZWMTQuODE2NEgxOS43MTdWMTAuMTgzNkgyMS4xNjc1VjlIMTYuODg4OVYxMC4xODM2SDE4LjMzOTNWMTQuODE2NEgxNi44ODg5VjE2SDIxLjE2NzVaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIEFyY2hpdmVJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImFyY2hpdmVcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMi41IDEwLjVWMTdNMjAuNSA3LjVWMjAuNUg0LjVWNy41TDcuNSA0LjVIMTcuNUwyMC41IDcuNVpcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTQuNSA3LjVIMjAuNU0xNiAxNEwxMi41IDE3LjVMOSAxNFwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgQXJyb3dEb3duSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJhcnJvdy1kb3duXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTIuNSAxOS41VjVcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTE4IDE0TDEyLjUgMTkuNUw3IDE0XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBBcnJvd0xlZnRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImFycm93LWxlZnRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk01LjUgMTIuNUgyMFwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAxLjIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTEgMThMNS41IDEyLjVMMTEgN1wiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgQXJyb3dSaWdodEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiYXJyb3ctcmlnaHRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xOS41IDEyLjVINVwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAxLjIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTQgN0wxOS41IDEyLjVMMTQgMThcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIEFycm93VG9wUmlnaHRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImFycm93LXRvcC1yaWdodFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTE2LjUgOC41TDcgMThcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTkgOC41SDE2LjVWMTZcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIEFycm93VXBJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImFycm93LXVwXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNyAxMUwxMi41IDUuNUwxOCAxMVwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTIuNSA1LjVWMjBcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIEFzdGVyaXNrSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImFzdGVyaXNrXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTEyLjUgNFYyMU0xNi43NSA1LjEzODc5TDguMjUgMTkuODYxMk0xOS44NjEyIDguMjVMNS4xMzg3OCAxNi43NU00LjAwMDAyIDEyLjVIMjFNNS4xMzg4MSA4LjI1TDE5Ljg2MTIgMTYuNzVNOC4yNTAwMiA1LjEzODc5TDE2Ljc1IDE5Ljg2MTJcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgQmFyQ2hhcnRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiYmFyLWNoYXJ0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTUuNSA1VjE5LjVIMjBNOC41IDE4VjEzTTExLjUgMThWOU0xNC41IDE4VjExTTE3LjUgMThWN1wiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBCYXNrZXRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiYmFza2V0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTguNSAxMC41SDVMNi41IDE5LjVIMTguNUwyMCAxMC41SDE2LjVNOC41IDEwLjVMMTAuMjcyMSA1LjE4Mzc3QzEwLjQwODIgNC43NzU0MyAxMC43OTAzIDQuNSAxMS4yMjA4IDQuNUgxMy43NzkyQzE0LjIwOTcgNC41IDE0LjU5MTggNC43NzU0MyAxNC43Mjc5IDUuMTgzNzdMMTYuNSAxMC41TTguNSAxMC41SDE2LjVNOC41IDEwLjVMOS41IDE5LjVNMTYuNSAxMC41TDE1LjUgMTkuNU0xMi41IDEwLjVWMTkuNU0xOS41IDEzLjVINS41TTE5IDE2LjVINlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBCZWxsSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImJlbGxcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTAuNSAxNy41VjE4LjVDMTAuNSAyMCAxMS41IDIwLjUgMTIuNSAyMC41QzEzLjUgMjAuNSAxNC41IDIwIDE0LjUgMTguNVYxNy41TTUuNSAxNy41QzYuNSAxNiA2LjUgMTUgNi41IDEyQzYuNSA4IDguNSA1LjUgMTIuNSA1LjVDMTYuNSA1LjUgMTguNSA4IDE4LjUgMTJDMTguNSAxNSAxOC41IDE2IDE5LjUgMTcuNUg1LjVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEJpbGxJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiYmlsbFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk02LjUwMDAxIDUuNUM4LjUwMDAzIDUuNSA4LjUwMDAzIDggOC41MDAwMyA4VjkuNU02LjUwMDAxIDUuNUM0LjUgNS41IDQuNSA4IDQuNSA4TDQuNTAwMDEgOS41SDguNTAwMDNNNi41MDAwMSA1LjVDNi41MDAwMSA1LjUgMTUuODMzMyA1LjUgMTcuNjY2NyA1LjVDMTkuNSA1LjUgMTkuNSA4LjUgMTkuNSA4LjVWMjBMMTcuNjY2NyAxOUwxNS44MzMzIDIwTDE0IDE5TDEyLjE2NjcgMjBMMTAuMzMzNCAxOUw4LjUwMDAzIDIwVjkuNU0xMSAxMi41SDE1TTExIDkuNUgxNk0xMSAxNS41SDE2XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEJpbmFyeURvY3VtZW50SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJiaW5hcnktZG9jdW1lbnRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xMS41IDQuNVY5LjVINi41XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IDEuMiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk05LjUgMTIuNVYxNy41TTExLjUgNC41SDE4LjVWMjAuNUg2LjVWOS41TDExLjUgNC41Wk0xMi41IDEyLjVWMTcuNUgxNS41VjEyLjVIMTIuNVpcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lY2FwOiBcInNxdWFyZVwiLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBCbG9ja0NvbnRlbnRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImJsb2NrLWNvbnRlbnRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgICBkOiBcIk0yMSA3LjYwMDAyTDExIDcuNjAwMDNWNi40MDAwM0wyMSA2LjQwMDAyVjcuNjAwMDJaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgICAgIGQ6IFwiTTIxIDExLjI2NjdMMTIuNDgzMyAxMS4yNjY3VjEwLjA2NjdMMjEgMTAuMDY2N1YxMS4yNjY3WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgICBkOiBcIk0yMSAxNC45MzM0SDEzLjkyNTRWMTMuNzMzNEwyMSAxMy43MzM0VjE0LjkzMzRaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgICAgIGQ6IFwiTTIxIDE4LjYwMDJINFYxNy40MDAySDIxVjE4LjYwMDJaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTkuODY0MzggMTUuNkgxMS4yTDguMjc2MjMgNy42MDAwM0g2LjkyMzc3TDQgMTUuNkg1LjI5MDcyTDYuMDM3MSAxMy40NzY3SDkuMTIzNjJMOS44NjQzOCAxNS42Wk03LjUzNTQ2IDkuMDUyNTVINy42MzA4Nkw4LjgwMzc0IDEyLjQzNDRINi4zNTY5OEw3LjUzNTQ2IDkuMDUyNTVaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIEJsb2NrRWxlbWVudEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJibG9jay1lbGVtZW50XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTUgMTkuNUgyME01IDUuNUgyME02LjUgOC41SDE4LjVWMTYuNUg2LjVWOC41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBCbG9ja3F1b3RlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImJsb2NrcXVvdGVcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTAgMTcuNUgxOU02IDcuNUgxOU0xMCAxMi41SDE3TTYuNSAxMlYxOFwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBCb2xkSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImJvbGRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTMuMjA4NyAxOEMxNS41MzIyIDE4IDE2Ljk3MzEgMTYuNzkzIDE2Ljk3MzEgMTQuODg0NEMxNi45NzMxIDEzLjQ4MTIgMTUuOTI0NSAxMi4zOTQ5IDE0LjQ4MzYgMTIuMjg5MlYxMi4xNTM0QzE1LjYwMDEgMTEuOTg3NSAxNi40NTI2IDEwLjk4NDEgMTYuNDUyNiA5LjgyOTkxQzE2LjQ1MjYgOC4xNDc2MSAxNS4xOTI3IDcuMTE0MDkgMTMuMDgwNCA3LjExNDA5SDguMzIwMTlWMThIMTMuMjA4N1pNMTAuNTk4NSA4Ljg1Njc0SDEyLjQ5OTVDMTMuNTg1OSA4Ljg1Njc0IDE0LjIxMiA5LjM3NzI3IDE0LjIxMiAxMC4yNDQ4QzE0LjIxMiAxMS4xMTk5IDEzLjU0MDYgMTEuNjI1NCAxMi4zMTA5IDExLjYyNTRIMTAuNTk4NVY4Ljg1Njc0Wk0xMC41OTg1IDE2LjI1NzRWMTMuMTY0M0gxMi41NzVDMTMuOTE3OCAxMy4xNjQzIDE0LjY0OTYgMTMuNjkyNCAxNC42NDk2IDE0LjY4ODJDMTQuNjQ5NiAxNS43MDY2IDEzLjk0MDQgMTYuMjU3NCAxMi42Mjc4IDE2LjI1NzRIMTAuNTk4NVpcIixcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgQm9sdEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJib2x0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE4IDExLjVMOSAyMUwxMSAxMy41SDdMMTYgNEwxNCAxMS41SDE4WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBCb29rSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImJvb2tcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMjAuNSAxNy41VjUuNUwxMi41IDYuNU0yMC41IDE3LjVMMTIuNSAxOC41TTIwLjUgMTcuNVYxOC41TTQuNSAxNy41VjUuNUwxMi41IDYuNU00LjUgMTcuNUwxMi41IDE4LjVNNC41IDE3LjVWMTguNU0xMi41IDE4LjVMNC41IDE5LjVWMTguNU0xMi41IDE4LjVMMjAuNSAxOS41VjE4LjVNMTIuNSAxOC41VjYuNU0xMi41IDE4LjVINC41TTEyLjUgMTguNUgyMC41XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEJvdHRsZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJib3R0bGVcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNNy41IDE3LjVMMTcuNSAxNy41TTE3LjUgMTNDMTcuNSAxMi4wODcgMTcuNSAxMS4zNTE4IDE3LjUgMTFDMTcuNSA4LjUgMTQuNSA5IDE0LjUgNy4zNzQ5NEwxNC41IDUuNU0xNy41IDEzQzE3LjUgMTUuMTIyOSAxNy41IDE4Ljc1NDMgMTcuNSAyMC41MDIyQzE3LjUgMjEuMDU0NSAxNy4wNTIzIDIxLjUgMTYuNSAyMS41TDguNSAyMS41QzcuOTQ3NzIgMjEuNSA3LjUgMjEuMDU0NyA3LjUgMjAuNTAyNEM3LjUgMTguODE1NyA3LjUgMTUuMzU0NiA3LjUgMTNNMTcuNSAxM0w3LjUgMTNNNy41IDEzQzcuNSAxMi4yNTM4IDcuNSAxMS41NjQ4IDcuNSAxMUM3LjUgOC41IDEwLjUgOSAxMC41IDcuMzc0OTRMMTAuNSA1LjVNMTAuNSA1LjVMMTAuNSAzLjk5OTk5QzEwLjUgMy43MjM4NSAxMC43MjM5IDMuNDk5OTkgMTEgMy40OTk5OUwxNCAzLjQ5OTk5QzE0LjI3NjEgMy40OTk5OSAxNC41IDMuNzIzODUgMTQuNSAzLjk5OTk5TDE0LjUgNS41TTEwLjUgNS41TDE0LjUgNS41XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEJ1bGJGaWxsZWRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImJ1bGItZmlsbGVkXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICAgICAgZDogXCJNMTYuNDI3MiAxNC4zMzY4QzE1LjgyNzMgMTUuMTc3MyAxNS41IDE2LjE3OTQgMTUuNSAxNy4yMTJWMTguNUMxNS41IDE5LjA1MjMgMTUuMDUyMyAxOS41IDE0LjUgMTkuNUgxNFYyMC41QzE0IDIxLjA1MjMgMTMuNTUyMyAyMS41IDEzIDIxLjVIMTJDMTEuNDQ3NyAyMS41IDExIDIxLjA1MjMgMTEgMjAuNVYxOS41SDEwLjVDOS45NDc3MiAxOS41IDkuNSAxOS4wNTIzIDkuNSAxOC41VjE3LjIxMkM5LjUgMTYuMTc5NCA5LjE3MjY2IDE1LjE3NzMgOC41NzI4NCAxNC4zMzY4QzcuNjAyMTYgMTIuOTc2NyA3IDExLjk0IDcgMTBDNyA3IDkuNSA0LjUgMTIuNSA0LjVDMTUuNSA0LjUgMTggNyAxOCAxMEMxOCAxMS45NCAxNy4zOTc4IDEyLjk3NjcgMTYuNDI3MiAxNC4zMzY4WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNi40MjcyIDE0LjMzNjhMMTUuOTM4OCAxMy45ODgzTDE2LjQyNzIgMTQuMzM2OFpNMTQgMTkuNVYxOC45SDEzLjRWMTkuNUgxNFpNMTEgMTkuNUgxMS42VjE4LjlIMTFWMTkuNVpNOC41NzI4NCAxNC4zMzY4TDkuMDYxMjIgMTMuOTg4M0g5LjA2MTIyTDguNTcyODQgMTQuMzM2OFpNMTYuMSAxNy4yMTJDMTYuMSAxNi4zMDY5IDE2LjM4NjggMTUuNDI2MSAxNi45MTU1IDE0LjY4NTNMMTUuOTM4OCAxMy45ODgzQzE1LjI2NzggMTQuOTI4NCAxNC45IDE2LjA1MTkgMTQuOSAxNy4yMTJIMTYuMVpNMTYuMSAxOC41VjE3LjIxMkgxNC45VjE4LjVIMTYuMVpNMTQuNSAyMC4xQzE1LjM4MzcgMjAuMSAxNi4xIDE5LjM4MzcgMTYuMSAxOC41SDE0LjlDMTQuOSAxOC43MjA5IDE0LjcyMDkgMTguOSAxNC41IDE4LjlWMjAuMVpNMTQgMjAuMUgxNC41VjE4LjlIMTRWMjAuMVpNMTMuNCAxOS41VjIwLjVIMTQuNlYxOS41SDEzLjRaTTEzLjQgMjAuNUMxMy40IDIwLjcyMDkgMTMuMjIwOSAyMC45IDEzIDIwLjlWMjIuMUMxMy44ODM3IDIyLjEgMTQuNiAyMS4zODM3IDE0LjYgMjAuNUgxMy40Wk0xMyAyMC45SDEyVjIyLjFIMTNWMjAuOVpNMTIgMjAuOUMxMS43NzkxIDIwLjkgMTEuNiAyMC43MjA5IDExLjYgMjAuNUgxMC40QzEwLjQgMjEuMzgzNyAxMS4xMTYzIDIyLjEgMTIgMjIuMVYyMC45Wk0xMS42IDIwLjVWMTkuNUgxMC40VjIwLjVIMTEuNlpNMTAuNSAyMC4xSDExVjE4LjlIMTAuNVYyMC4xWk04LjkgMTguNUM4LjkgMTkuMzgzNyA5LjYxNjM0IDIwLjEgMTAuNSAyMC4xVjE4LjlDMTAuMjc5MSAxOC45IDEwLjEgMTguNzIwOSAxMC4xIDE4LjVIOC45Wk04LjkgMTcuMjEyVjE4LjVIMTAuMVYxNy4yMTJIOC45Wk04LjA4NDQ2IDE0LjY4NTNDOC42MTMxNSAxNS40MjYxIDguOSAxNi4zMDY5IDguOSAxNy4yMTJIMTAuMUMxMC4xIDE2LjA1MTkgOS43MzIxNyAxNC45Mjg0IDkuMDYxMjIgMTMuOTg4M0w4LjA4NDQ2IDE0LjY4NTNaTTYuNCAxMEM2LjQgMTEuMDM3NyA2LjU2MjA4IDExLjg1OTUgNi44NjYyNCAxMi42MTFDNy4xNjYyNCAxMy4zNTIxIDcuNTk0OTUgMTMuOTk5NSA4LjA4NDQ2IDE0LjY4NTNMOS4wNjEyMiAxMy45ODgzQzguNTgwMDQgMTMuMzE0IDguMjIyMzMgMTIuNzYyOSA3Ljk3ODU4IDEyLjE2MDdDNy43MzkgMTEuNTY4OCA3LjYgMTAuOTAyMyA3LjYgMTBINi40Wk0xMi41IDMuOUM5LjE2ODYzIDMuOSA2LjQgNi42Njg2MyA2LjQgMTBINy42QzcuNiA3LjMzMTM3IDkuODMxMzcgNS4xIDEyLjUgNS4xVjMuOVpNMTguNiAxMEMxOC42IDYuNjY4NjMgMTUuODMxNCAzLjkgMTIuNSAzLjlWNS4xQzE1LjE2ODYgNS4xIDE3LjQgNy4zMzEzNyAxNy40IDEwSDE4LjZaTTE2LjkxNTUgMTQuNjg1M0MxNy40MDUxIDEzLjk5OTUgMTcuODMzOCAxMy4zNTIxIDE4LjEzMzggMTIuNjExQzE4LjQzNzkgMTEuODU5NSAxOC42IDExLjAzNzcgMTguNiAxMEgxNy40QzE3LjQgMTAuOTAyMyAxNy4yNjEgMTEuNTY4OCAxNy4wMjE0IDEyLjE2MDdDMTYuNzc3NyAxMi43NjI5IDE2LjQyIDEzLjMxNCAxNS45Mzg4IDEzLjk4ODNMMTYuOTE1NSAxNC42ODUzWlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBCdWxiT3V0bGluZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJidWxiLW91dGxpbmVcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNOS41IDE2LjVIMTUuNU0xMSAyMFYyMC41QzExIDIxLjA1MjMgMTEuNDQ3NyAyMS41IDEyIDIxLjVIMTNDMTMuNTUyMyAyMS41IDE0IDIxLjA1MjMgMTQgMjAuNVYyME0xOCAxMEMxOCAxMS45NCAxNy4zOTc4IDEyLjk3NjcgMTYuNDI3MiAxNC4zMzY4QzE1LjgyNzMgMTUuMTc3MyAxNS41IDE2LjE3OTQgMTUuNSAxNy4yMTJWMTguNUMxNS41IDE5LjA1MjMgMTUuMDUyMyAxOS41IDE0LjUgMTkuNUgxMC41QzkuOTQ3NzIgMTkuNSA5LjUgMTkuMDUyMyA5LjUgMTguNVYxNy4yMTJDOS41IDE2LjE3OTQgOS4xNzI2NiAxNS4xNzczIDguNTcyODQgMTQuMzM2OEM3LjYwMjE2IDEyLjk3NjcgNyAxMS45NCA3IDEwQzcgNyA5LjUgNC41IDEyLjUgNC41QzE1LjUgNC41IDE4IDcgMTggMTBaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDYWxlbmRhckljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJjYWxlbmRhclwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk00LjUgMTAuNVYxOS41SDIwLjVWMTAuNU00LjUgMTAuNVY1LjVIMjAuNVYxMC41TTQuNSAxMC41SDEyLjVIMjAuNU0yMC41IDEzLjVIMTYuNU0xNi41IDEzLjVIMTIuNU0xNi41IDEzLjVWMTAuNU0xNi41IDEzLjVWMTYuNU0xMi41IDEzLjVIOC41TTEyLjUgMTMuNVYxNi41TTEyLjUgMTMuNVYxMC41TTguNSAxMy41SDQuNU04LjUgMTMuNVYxMC41TTguNSAxMy41VjE2LjVNMjAuNSAxNi41SDE2LjVNMTYuNSAxNi41SDEyLjVNMTYuNSAxNi41VjE5LjVNMTIuNSAxNi41SDguNU0xMi41IDE2LjVWMTkuNU04LjUgMTYuNUg0LjVNOC41IDE2LjVWMTkuNU0xNy41IDhWM003LjUgOFYzXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIENhc2VJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY2FzZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk05IDguNTEyMlY2QzkgNS40NDc3MiA5LjQ0NzcyIDUgMTAgNUgxNUMxNS41NTIzIDUgMTYgNS40NDc3MiAxNiA2VjguNTEyMk00LjUgMTJWMTguNUM0LjUgMTkuMDUyMyA0Ljk0NzcyIDE5LjUgNS41IDE5LjVIMTkuNUMyMC4wNTIzIDE5LjUgMjAuNSAxOS4wNTIzIDIwLjUgMTguNVYxMk00LjUgMTJWOS41MTIyQzQuNSA4Ljk1OTkxIDQuOTQ3NzIgOC41MTIyIDUuNSA4LjUxMjJIMTkuNUMyMC4wNTIzIDguNTEyMiAyMC41IDguOTU5OTEgMjAuNSA5LjUxMjJWMTJNNC41IDEyTDExLjc5NzggMTQuNzM2N0MxMi4yNTA1IDE0LjkwNjQgMTIuNzQ5NSAxNC45MDY0IDEzLjIwMjIgMTQuNzM2N0wyMC41IDEyXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIENoYXJ0VXB3YXJkSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImNoYXJ0LXVwd2FyZFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk01LjUgNVYxOS41SDIwTTcuNSAxNkwxMS41IDExLjVMMTUuNSAxNEwxOS41IDguNVwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDaGVja21hcmtDaXJjbGVJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY2hlY2ttYXJrLWNpcmNsZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk05LjUgMTIuMTMxNkwxMS43NDE0IDE0LjVMMTYgMTBNMjAuNSAxMi41QzIwLjUgMTYuOTE4MyAxNi45MTgzIDIwLjUgMTIuNSAyMC41QzguMDgxNzIgMjAuNSA0LjUgMTYuOTE4MyA0LjUgMTIuNUM0LjUgOC4wODE3MiA4LjA4MTcyIDQuNSAxMi41IDQuNUMxNi45MTgzIDQuNSAyMC41IDguMDgxNzIgMjAuNSAxMi41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDaGVja21hcmtJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY2hlY2ttYXJrXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTUuNSAxMS41TDEwLjUgMTYuNUwxOS41IDcuNjAwMDFcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgQ2hldnJvbkRvd25JY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY2hldnJvbi1kb3duXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE3IDEwLjVMMTIuNSAxNUw4IDEwLjVcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgQ2hldnJvbkxlZnRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY2hldnJvbi1sZWZ0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE0LjUgMTdMMTAgMTIuNUwxNC41IDhcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgQ2hldnJvblJpZ2h0SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImNoZXZyb24tcmlnaHRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTAuNSA4TDE1IDEyLjVMMTAuNSAxN1wiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDaGV2cm9uVXBJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY2hldnJvbi11cFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk04IDE0LjVMMTIuNSAxMEwxNyAxNC41XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIENpcmNsZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJjaXJjbGVcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwiY2lyY2xlXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBjeDogMTIuNSxcbiAgICAgICAgICBjeTogMTIuNSxcbiAgICAgICAgICByOiA4LFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDbGlwYm9hcmRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY2xpcGJvYXJkXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTggNS41SDYuNVYxOS41SDE4LjVWNS41SDE3TTEyLjUgM0MxMS41IDMgMTEuNSA0LjUgMTEgNC41QzEwIDQuNSA5LjUgNSA5LjUgNi41SDE1LjZDMTUuNiA1IDE1IDQuNSAxNCA0LjVDMTMuNSA0LjUgMTMuNSAzIDEyLjUgM1pcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgQ2xpcGJvYXJkSW1hZ2VJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY2xpcGJvYXJkLWltYWdlXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTggNS41SDYuNVYxOS41SDEwLjVNMTcgNS41SDE4LjVWMTEuNU0xMC41IDE4LjVMMTIuNzMgMTUuODk4M0MxMy4xMzI3IDE1LjQyODUgMTMuODYxMyAxNS40MzM1IDE0LjI1NzUgMTUuOTA5TDE1LjI5OSAxNy4xNTg4QzE1LjY3NTQgMTcuNjEwNSAxNi4zNTg1IDE3LjY0MTUgMTYuNzc0MyAxNy4yMjU3TDE2Ljk5MDMgMTcuMDA5N0MxNy4yOTQ3IDE2LjcwNTMgMTcuNzU5NyAxNi42Mjk4IDE4LjE0NDcgMTYuODIyM0wyMC41IDE4TTEwLjUgMTEuNUgyMC41VjIxLjVIMTAuNVYxMS41Wk0xMi41IDNDMTEuNSAzIDExLjUgNC41IDExIDQuNUMxMCA0LjUgOS41IDUgOS41IDYuNUgxNS42QzE1LjYgNSAxNSA0LjUgMTQgNC41QzEzLjUgNC41IDEzLjUgMyAxMi41IDNaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIENsb2NrSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImNsb2NrXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTEyLjUgOFYxMi41TDE1LjUgMTUuNU0yMC41IDEyLjVDMjAuNSAxNi45MTgzIDE2LjkxODMgMjAuNSAxMi41IDIwLjVDOC4wODE3MiAyMC41IDQuNSAxNi45MTgzIDQuNSAxMi41QzQuNSA4LjA4MTcyIDguMDgxNzIgNC41IDEyLjUgNC41QzE2LjkxODMgNC41IDIwLjUgOC4wODE3MiAyMC41IDEyLjVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIENsb3NlQ2lyY2xlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImNsb3NlLWNpcmNsZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk05LjUgMTUuNUwxMi41IDEyLjVNMTIuNSAxMi41TDE1LjUgOS41TTEyLjUgMTIuNUw5LjUgOS41TTEyLjUgMTIuNUwxNS41IDE1LjVNMjAuNSAxMi41QzIwLjUgMTYuOTE4MyAxNi45MTgzIDIwLjUgMTIuNSAyMC41QzguMDgxNzIgMjAuNSA0LjUgMTYuOTE4MyA0LjUgMTIuNUM0LjUgOC4wODE3MiA4LjA4MTcyIDQuNSAxMi41IDQuNUMxNi45MTgzIDQuNSAyMC41IDguMDgxNzIgMjAuNSAxMi41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDbG9zZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJjbG9zZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xOCA3TDcgMThNNyA3TDE4IDE4XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIENvZGVCbG9ja0ljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJjb2RlLWJsb2NrXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTExIDE1TDguNSAxMi41TDExIDEwTTE0IDEwTDE2LjUgMTIuNUwxNCAxNU01LjUgNi41SDE5LjVWMTguNUg1LjVWNi41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDb2RlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImNvZGVcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTEgMTZMNy41IDEyLjVMMTEgOU0xNCA5TDE3LjUgMTIuNUwxNCAxNlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDb2dJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImNvZ1wiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTE0LjI2MjQgNS40MDYwN0wxMy44NzE0IDQuNDI4NDhDMTMuNjQ3MSAzLjg2NzcxIDEzLjEwNCAzLjUgMTIuNSAzLjVDMTEuODk2IDMuNSAxMS4zNTI5IDMuODY3NzEgMTEuMTI4NiA0LjQyODQ4TDEwLjczNzYgNS40MDYwN0MxMC41ODU3IDUuNzg1ODUgMTAuMjg2OSA2LjA4ODI2IDkuOTA5MDEgNi4yNDQ4QzkuNTMxMTEgNi40MDEzMyA5LjEwNjAzIDYuMzk4NzQgOC43MzAwNiA2LjIzNzYxTDcuNzYyMjkgNS44MjI4NUM3LjIwNzE2IDUuNTg0OTQgNi41NjMxMSA1LjcwODk3IDYuMTM2MDQgNi4xMzYwNEM1LjcwODk3IDYuNTYzMTEgNS41ODQ5NCA3LjIwNzE2IDUuODIyODUgNy43NjIyOUw2LjIzNzYxIDguNzMwMDZDNi4zOTg3NCA5LjEwNjAyIDYuNDAxMzMgOS41MzExMSA2LjI0NDggOS45MDkwMUM2LjA4ODI2IDEwLjI4NjkgNS43ODU4NSAxMC41ODU3IDUuNDA2MDcgMTAuNzM3Nkw0LjQyODQ4IDExLjEyODZDMy44Njc3MSAxMS4zNTI5IDMuNSAxMS44OTYgMy41IDEyLjVDMy41IDEzLjEwNCAzLjg2NzcxIDEzLjY0NzEgNC40Mjg0OCAxMy44NzE0TDUuNDA2MDcgMTQuMjYyNEM1Ljc4NTg1IDE0LjQxNDMgNi4wODgyNiAxNC43MTMxIDYuMjQ0OCAxNS4wOTFDNi40MDEzMyAxNS40Njg5IDYuMzk4NzQgMTUuODk0IDYuMjM3NjEgMTYuMjY5OUw1LjgyMjg1IDE3LjIzNzdDNS41ODQ5NCAxNy43OTI4IDUuNzA4OTcgMTguNDM2OSA2LjEzNjA0IDE4Ljg2NEM2LjU2MzExIDE5LjI5MSA3LjIwNzE2IDE5LjQxNTEgNy43NjIyOSAxOS4xNzcyTDguNzMwMDYgMTguNzYyNEM5LjEwNjAzIDE4LjYwMTMgOS41MzExMSAxOC41OTg3IDkuOTA5MDEgMTguNzU1MkMxMC4yODY5IDE4LjkxMTcgMTAuNTg1NyAxOS4yMTQxIDEwLjczNzYgMTkuNTkzOUwxMS4xMjg2IDIwLjU3MTVDMTEuMzUyOSAyMS4xMzIzIDExLjg5NiAyMS41IDEyLjUgMjEuNUMxMy4xMDQgMjEuNSAxMy42NDcxIDIxLjEzMjMgMTMuODcxNCAyMC41NzE1TDE0LjI2MjQgMTkuNTkzOUMxNC40MTQzIDE5LjIxNDEgMTQuNzEzMSAxOC45MTE3IDE1LjA5MSAxOC43NTUyQzE1LjQ2ODkgMTguNTk4NyAxNS44OTQgMTguNjAxMyAxNi4yNjk5IDE4Ljc2MjRMMTcuMjM3NyAxOS4xNzcxQzE3Ljc5MjggMTkuNDE1MSAxOC40MzY5IDE5LjI5MSAxOC44NjQgMTguODY0QzE5LjI5MSAxOC40MzY5IDE5LjQxNTEgMTcuNzkyOCAxOS4xNzcxIDE3LjIzNzdMMTguNzYyNCAxNi4yNjk5QzE4LjYwMTMgMTUuODk0IDE4LjU5ODcgMTUuNDY4OSAxOC43NTUyIDE1LjA5MUMxOC45MTE3IDE0LjcxMzEgMTkuMjE0MSAxNC40MTQzIDE5LjU5MzkgMTQuMjYyNEwyMC41NzE1IDEzLjg3MTRDMjEuMTMyMyAxMy42NDcxIDIxLjUgMTMuMTA0IDIxLjUgMTIuNUMyMS41IDExLjg5NiAyMS4xMzIzIDExLjM1MjkgMjAuNTcxNSAxMS4xMjg2TDE5LjU5MzkgMTAuNzM3NkMxOS4yMTQxIDEwLjU4NTcgMTguOTExNyAxMC4yODY5IDE4Ljc1NTIgOS45MDkwMUMxOC41OTg3IDkuNTMxMTEgMTguNjAxMyA5LjEwNjAyIDE4Ljc2MjQgOC43MzAwNkwxOS4xNzcyIDcuNzYyMjlDMTkuNDE1MSA3LjIwNzE2IDE5LjI5MSA2LjU2MzExIDE4Ljg2NCA2LjEzNjA0QzE4LjQzNjkgNS43MDg5NyAxNy43OTI4IDUuNTg0OTQgMTcuMjM3NyA1LjgyMjg1TDE2LjI2OTkgNi4yMzc2MUMxNS44OTQgNi4zOTg3NCAxNS40Njg5IDYuNDAxMzMgMTUuMDkxIDYuMjQ0OEMxNC43MTMxIDYuMDg4MjYgMTQuNDE0MyA1Ljc4NTg1IDE0LjI2MjQgNS40MDYwN1pcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTE2LjUgMTIuNUMxNi41IDE0LjcwOTEgMTQuNzA5MSAxNi41IDEyLjUgMTYuNUMxMC4yOTA5IDE2LjUgOC41IDE0LjcwOTEgOC41IDEyLjVDOC41IDEwLjI5MDkgMTAuMjkwOSA4LjUgMTIuNSA4LjVDMTQuNzA5MSA4LjUgMTYuNSAxMC4yOTA5IDE2LjUgMTIuNVpcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIENvbGxhcHNlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJjb2xsYXBzZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTYgMTQuNUwxMC41IDE0LjVWMTlNMTkgMTAuNUgxNC41TDE0LjUgNlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTAuNSAxNC41TDYgMTlNMTQuNSAxMC41TDE5IDZcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIENvbG9yV2hlZWxJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY29sb3Itd2hlZWxcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNOS40Mzg1MyA1LjEwODk2TDExLjE2MDYgOS4yNjY0Mk0xMy44Mzk0IDE1LjczMzZMMTUuNTYxNSAxOS44OTFNMTUuNzMzNiAxMS4xNjA2TDE5Ljg5MSA5LjQzODUzTTkuMjY2NDIgMTMuODM5NEw1LjEwODk2IDE1LjU2MTVNNS4zMTM5IDkuNTIzNDJMOS4yMzM1OSAxMS4xNDdNMTUuNzY2NCAxMy44NTNMMTkuNjg2MSAxNS40NzY2TTEzLjg1MyA5LjIzMzU5TDE1LjQ3NjYgNS4zMTM5TTkuNTIzNDIgMTkuNjg2MUwxMS4xNDcgMTUuNzY2NE0yMC41IDEyLjVDMjAuNSAxNi45MTgzIDE2LjkxODMgMjAuNSAxMi41IDIwLjVDOC4wODE3MiAyMC41IDQuNSAxNi45MTgzIDQuNSAxMi41QzQuNSA4LjA4MTcyIDguMDgxNzIgNC41IDEyLjUgNC41QzE2LjkxODMgNC41IDIwLjUgOC4wODE3MiAyMC41IDEyLjVaTTE2IDEyLjVDMTYgMTQuNDMzIDE0LjQzMyAxNiAxMi41IDE2QzEwLjU2NyAxNiA5IDE0LjQzMyA5IDEyLjVDOSAxMC41NjcgMTAuNTY3IDkgMTIuNSA5QzE0LjQzMyA5IDE2IDEwLjU2NyAxNiAxMi41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDb21tZW50SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImNvbW1lbnRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNNy41IDE2LjVIOS41VjIwLjVMMTMuNSAxNi41SDE3LjVDMTguNjA0NiAxNi41IDE5LjUgMTUuNjA0NiAxOS41IDE0LjVWOC41QzE5LjUgNy4zOTU0MyAxOC42MDQ2IDYuNSAxNy41IDYuNUg3LjVDNi4zOTU0MyA2LjUgNS41IDcuMzk1NDMgNS41IDguNVYxNC41QzUuNSAxNS42MDQ2IDYuMzk1NDMgMTYuNSA3LjUgMTYuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgQ29tcG9uZW50SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImNvbXBvbmVudFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk04LjUgOC41TDEyLjUgMTIuNU0xMi41IDEyLjVMMTYuNSAxNi41TTEyLjUgMTIuNUwxNi41IDguNU0xMi41IDEyLjVMOC41IDE2LjVNMTIuNSA0TDIxIDEyLjVMMTIuNSAyMUw0IDEyLjVMMTIuNSA0WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDb21wb3NlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImNvbXBvc2VcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTcgNkwxOSA4TTE0IDUuNUg1LjVWMTkuNUgxOS41VjExTTkgMTZMOS41IDEzLjVMMTkgNEwyMSA2TDExLjUgMTUuNUw5IDE2WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDb25mZXR0aUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY29uZmV0dGlcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgICBkOiBcIk0xNi41IDYuMjVDMTYuOTE0MiA2LjI1IDE3LjI1IDUuOTE0MjEgMTcuMjUgNS41QzE3LjI1IDUuMDg1NzkgMTYuOTE0MiA0Ljc1IDE2LjUgNC43NUMxNi4wODU4IDQuNzUgMTUuNzUgNS4wODU3OSAxNS43NSA1LjVDMTUuNzUgNS45MTQyMSAxNi4wODU4IDYuMjUgMTYuNSA2LjI1Wk0xOS41IDE2LjI1QzE5LjkxNDIgMTYuMjUgMjAuMjUgMTUuOTE0MiAyMC4yNSAxNS41QzIwLjI1IDE1LjA4NTggMTkuOTE0MiAxNC43NSAxOS41IDE0Ljc1QzE5LjA4NTggMTQuNzUgMTguNzUgMTUuMDg1OCAxOC43NSAxNS41QzE4Ljc1IDE1LjkxNDIgMTkuMDg1OCAxNi4yNSAxOS41IDE2LjI1WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMyA0QzExIDYgMTQuNSA1LjUgMTIuNSA3LjVNMjEgMTJDMTkgMTQgMTkuNSAxMC41IDE3LjUgMTIuNVwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNi45OTI4OCAyMC4yOTZMNy4yMTU0MSAyMC44NTMyTDYuOTkyODggMjAuMjk2Wk0xNS4zNjU3IDE2Ljk1MkwxNS4xNDMyIDE2LjM5NDhMMTUuMzY1NyAxNi45NTJaTTQuNDgyMjEgMTcuNzg1M0w1LjAzOTQyIDE4LjAwNzhMNC40ODIyMSAxNy43ODUzWk03LjgyNjE0IDkuNDEyNDJMOC4zODMzNCA5LjYzNDk1TDguMzgzMzQgOS42MzQ5NUw3LjgyNjE0IDkuNDEyNDJaTTQuOTAzOCAxOS44NzQ0TDQuNDc5NTQgMjAuMjk4Nkw0LjkwMzggMTkuODc0NFpNMjAuNiA1QzIwLjYgNC42Njg2MyAyMC4zMzE0IDQuNCAyMCA0LjRDMTkuNjY4NiA0LjQgMTkuNCA0LjY2ODYzIDE5LjQgNUwyMC42IDVaTTE1LjY0MTcgMTYuMDY2MUMxNS42NzI3IDE2LjAzNTIgMTUuNjQyOSAxNi4xMDM0IDE1LjM3ODQgMTYuMDYzM0MxNS4xMjg1IDE2LjAyNTUgMTQuNzggMTUuOTAzNSAxNC4zNDg2IDE1LjY3NzFDMTMuNDkyNCAxNS4yMjc5IDEyLjQzMjMgMTQuNDMyNSAxMS4zODkgMTMuMzg5MkwxMC41NDA1IDE0LjIzNzdDMTEuNjQ1IDE1LjM0MjMgMTIuODAwOCAxNi4yMjAxIDEzLjc5MSAxNi43Mzk3QzE0LjI4MjcgMTYuOTk3NyAxNC43NjQ5IDE3LjE4NDEgMTUuMTk4NyAxNy4yNDk4QzE1LjYxNzggMTcuMzEzMyAxNi4xMjQ2IDE3LjI4MDMgMTYuNDkwMyAxNi45MTQ2TDE1LjY0MTcgMTYuMDY2MVpNMTEuMzg5IDEzLjM4OTJDMTAuMzQ1NyAxMi4zNDU5IDkuNTUwMzIgMTEuMjg1OCA5LjEwMTA1IDEwLjQyOTZDOC44NzQ2NyA5Ljk5ODIxIDguNzUyNjggOS42NDk2MyA4LjcxNDg0IDkuMzk5NzlDOC42NzQ3NyA5LjEzNTI0IDguNzQzMDIgOS4xMDU1MSA4LjcxMjA4IDkuMTM2NDVMNy44NjM1NSA4LjI4NzkyQzcuNDk3ODggOC42NTM1OSA3LjQ2NDg5IDkuMTYwNCA3LjUyODM3IDkuNTc5NUM3LjU5NDA4IDEwLjAxMzMgNy43ODA0MyAxMC40OTU1IDguMDM4NDcgMTAuOTg3MkM4LjU1ODA1IDExLjk3NzQgOS40MzU5IDEzLjEzMzIgMTAuNTQwNSAxNC4yMzc3TDExLjM4OSAxMy4zODkyWk04LjcxMjA4IDkuMTM2NDVDOC42ODExNCA5LjE2NzM5IDguNzEwODggOS4wOTkxMyA4Ljk3NTQyIDkuMTM5MkM5LjIyNTI2IDkuMTc3MDUgOS41NzM4NCA5LjI5OTA0IDEwLjAwNTIgOS41MjU0MkMxMC44NjE0IDkuOTc0NjkgMTEuOTIxNSAxMC43NyAxMi45NjQ4IDExLjgxMzRMMTMuODEzNCAxMC45NjQ4QzEyLjcwODggOS44NjAyNiAxMS41NTMgOC45ODI0MiAxMC41NjI4IDguNDYyODNDMTAuMDcxMSA4LjIwNDc5IDkuNTg4OTQgOC4wMTg0NCA5LjE1NTEzIDcuOTUyNzRDOC43MzYwMyA3Ljg4OTI2IDguMjI5MjMgNy45MjIyNCA3Ljg2MzU1IDguMjg3OTJMOC43MTIwOCA5LjEzNjQ1Wk0xMi45NjQ4IDExLjgxMzRDMTQuMDA4MSAxMi44NTY3IDE0LjgwMzUgMTMuOTE2OCAxNS4yNTI4IDE0Ljc3MjlDMTUuNDc5MSAxNS4yMDQzIDE1LjYwMTEgMTUuNTUyOSAxNS42MzkgMTUuODAyOEMxNS42NzkgMTYuMDY3MyAxNS42MTA4IDE2LjA5NyAxNS42NDE3IDE2LjA2NjFMMTYuNDkwMyAxNi45MTQ2QzE2Ljg1NTkgMTYuNTQ4OSAxNi44ODg5IDE2LjA0MjEgMTYuODI1NCAxNS42MjNDMTYuNzU5NyAxNS4xODkyIDE2LjU3MzQgMTQuNzA3MSAxNi4zMTUzIDE0LjIxNTNDMTUuNzk1OCAxMy4yMjUyIDE0LjkxNzkgMTIuMDY5NCAxMy44MTM0IDEwLjk2NDhMMTIuOTY0OCAxMS44MTM0Wk03LjIxNTQxIDIwLjg1MzJMMTUuNTg4MyAxNy41MDkyTDE1LjE0MzIgMTYuMzk0OEw2Ljc3MDM0IDE5LjczODdMNy4yMTU0MSAyMC44NTMyWk01LjAzOTQyIDE4LjAwNzhMOC4zODMzNCA5LjYzNDk1TDcuMjY4OTMgOS4xODk4OEwzLjkyNTAxIDE3LjU2MjhMNS4wMzk0MiAxOC4wMDc4Wk03Ljg2MzU1IDguMjg3OTJDNy42MDYyNiA4LjU0NTIyIDcuNDAzODEgOC44NTIxNiA3LjI2ODkzIDkuMTg5ODhMOC4zODMzNCA5LjYzNDk1QzguNDU3NzMgOS40NDg2OSA4LjU2OTYgOS4yNzg5NCA4LjcxMjA4IDkuMTM2NDRMNy44NjM1NSA4LjI4NzkyWk0zLjkyNTAxIDE3LjU2MjhDMy41NDgzMyAxOC41MDU5IDMuNzYyNTEgMTkuNTgxNiA0LjQ3OTU0IDIwLjI5ODZMNS4zMjgwNyAxOS40NTAxQzQuOTU1MTQgMTkuMDc3MiA0LjgzODE0IDE4LjUxMTggNS4wMzk0MiAxOC4wMDc4TDMuOTI1MDEgMTcuNTYyOFpNMTUuNjQxNyAxNi4wNjYxQzE1LjQ5OTMgMTYuMjA4NiAxNS4zMjk1IDE2LjMyMDQgMTUuMTQzMiAxNi4zOTQ4TDE1LjU4ODMgMTcuNTA5MkMxNS45MjYgMTcuMzc0NCAxNi4yMzI5IDE3LjE3MTkgMTYuNDkwMyAxNi45MTQ2TDE1LjY0MTcgMTYuMDY2MVpNNi43NzAzNCAxOS43Mzg3QzYuMjY2MzcgMTkuOTQgNS43MDA5OSAxOS44MjMgNS4zMjgwNyAxOS40NTAxTDQuNDc5NTQgMjAuMjk4NkM1LjE5NjU3IDIxLjAxNTcgNi4yNzIyNSAyMS4yMjk4IDcuMjE1NDEgMjAuODUzMkw2Ljc3MDM0IDE5LjczODdaTTE5LjQgNUMxOS40IDcuMTc4MTYgMTguODgzOCA4LjA4Mjg3IDE4LjMxMzYgOC41MDcyN0MxNy42OTM4IDguOTY4NjQgMTYuODM3OSA5LjAyMTE2IDE1LjcyNjkgOS4wNjM4OEMxNC43MTI5IDkuMTAyODggMTMuNDQzOCA5LjEzMjA4IDEyLjQ2OTkgOS44NTdDMTEuNDQ2MyAxMC42MTg5IDEwLjkgMTIuMDA1IDEwLjkgMTQuMzI2OUgxMi4xQzEyLjEgMTIuMTQ4NyAxMi42MTYyIDExLjI0NCAxMy4xODY0IDEwLjgxOTZDMTMuODA2MiAxMC4zNTgyIDE0LjY2MjEgMTAuMzA1NyAxNS43NzMxIDEwLjI2M0MxNi43ODcxIDEwLjIyNCAxOC4wNTYyIDEwLjE5NDggMTkuMDMwMSA5LjQ2OTg4QzIwLjA1MzcgOC43MDc5OSAyMC42IDcuMzIxODQgMjAuNiA1TDE5LjQgNVpcIixcbiAgICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgQ29udHJvbHNJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY29udHJvbHNcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNNi41IDVWNy41TTYuNSA3LjVDNS4zOTU0MyA3LjUgNC41IDguMzk1NDMgNC41IDkuNUM0LjUgMTAuNjA0NiA1LjM5NTQzIDExLjUgNi41IDExLjVNNi41IDcuNUM3LjYwNDU3IDcuNSA4LjUgOC4zOTU0MyA4LjUgOS41QzguNSAxMC42MDQ2IDcuNjA0NTcgMTEuNSA2LjUgMTEuNU02LjUgMTEuNVYyME0xMi41IDVWMTMuNU0xMi41IDEzLjVDMTEuMzk1NCAxMy41IDEwLjUgMTQuMzk1NCAxMC41IDE1LjVDMTAuNSAxNi42MDQ2IDExLjM5NTQgMTcuNSAxMi41IDE3LjVNMTIuNSAxMy41QzEzLjYwNDYgMTMuNSAxNC41IDE0LjM5NTQgMTQuNSAxNS41QzE0LjUgMTYuNjA0NiAxMy42MDQ2IDE3LjUgMTIuNSAxNy41TTEyLjUgMTcuNVYyME0xOC41IDVWNy41TTE4LjUgNy41QzE3LjM5NTQgNy41IDE2LjUgOC4zOTU0MyAxNi41IDkuNUMxNi41IDEwLjYwNDYgMTcuMzk1NCAxMS41IDE4LjUgMTEuNU0xOC41IDcuNUMxOS42MDQ2IDcuNSAyMC41IDguMzk1NDMgMjAuNSA5LjVDMjAuNSAxMC42MDQ2IDE5LjYwNDYgMTEuNSAxOC41IDExLjVNMTguNSAxMS41VjIwXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIENvcHlJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY29weVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk04LjUgOC41SDUuNVYyMC41SDE2LjVWMTYuNU0xOS41IDQuNUg4LjVWMTYuNUgxOS41VjQuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgQ3JlZGl0Q2FyZEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiY3JlZGl0LWNhcmRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0yMC41IDkuNUg0LjVWMTEuNUgyMC41VjkuNVpcIixcbiAgICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk03IDE1LjVIMTRNNS41IDE4LjVIMTkuNUMyMC4wNTIzIDE4LjUgMjAuNSAxOC4wNTIzIDIwLjUgMTcuNVY3LjVDMjAuNSA2Ljk0NzcyIDIwLjA1MjMgNi41IDE5LjUgNi41SDUuNUM0Ljk0NzcyIDYuNSA0LjUgNi45NDc3MiA0LjUgNy41VjE3LjVDNC41IDE4LjA1MjMgNC45NDc3MiAxOC41IDUuNSAxOC41WlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgQ3JvcEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJjcm9wXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTkuNSA1VjE1LjVIMjBNNSA5LjVIMTUuNVYyMFwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBDdWJlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJjdWJlXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNC41IDhMMTIuNSAzTDIwLjUgOFYxN0wxMi41IDIyTDQuNSAxN1Y4WlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTIuNSAyMlYxM00xMi41IDEzTDQuNSA4TTEyLjUgMTNMMjAuNSA4XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBEYXNoYm9hcmRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZGFzaGJvYXJkXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE0LjUgMTkuNVYxMi41TTEwLjUgMTIuNVY1LjVNNS41IDEyLjVIMTkuNU01LjUgMTkuNUgxOS41VjUuNUg1LjVWMTkuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgRGF0YWJhc2VJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZGF0YWJhc2VcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTguNSA3VjE3LjVDMTguNSAxOS4wNTk0IDE2LjA1MDQgMjAuNSAxMi41IDIwLjVDOC45NDk2IDIwLjUgNi41IDE5LjA1OTQgNi41IDE3LjVWN00xOC41IDdDMTguNSA4LjQ1NTQzIDE1LjgxMzcgOS41IDEyLjUgOS41QzkuMTg2MjkgOS41IDYuNSA4LjQ1NTQzIDYuNSA3QzYuNSA1LjU0NDU3IDkuMTg2MjkgNC41IDEyLjUgNC41QzE1LjgxMzcgNC41IDE4LjUgNS41NDQ1NyAxOC41IDdaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIERlc2t0b3BJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZGVza3RvcFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk00LjUgMTMuNVYxNS41QzQuNSAxNi4wNTIzIDQuOTQ3NzIgMTYuNSA1LjUgMTYuNUgxMi41TTQuNSAxMy41VjYuNUM0LjUgNS45NDc3MiA0Ljk0NzcyIDUuNSA1LjUgNS41SDE5LjVDMjAuMDUyMyA1LjUgMjAuNSA1Ljk0NzcyIDIwLjUgNi41VjEzLjVNNC41IDEzLjVIMjAuNU0yMC41IDEzLjVWMTUuNUMyMC41IDE2LjA1MjMgMjAuMDUyMyAxNi41IDE5LjUgMTYuNUgxMi41TTEyLjUgMTYuNVYxOS41TTEyLjUgMTkuNUg4TTEyLjUgMTkuNUgxN1wiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBEaWFtb25kSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImRpYW1vbmRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMjEgMTAuNUwxMi41IDIxTTIxIDEwLjVMMTggNS41SDExTTIxIDEwLjVIMTZNMTIuNSAyMUw0IDEwLjVNMTIuNSAyMUw5IDEwLjVNMTIuNSAyMUwxNiAxMC41TTQgMTAuNUw3IDUuNUgxMU00IDEwLjVIOU05IDEwLjVIMTIuNUgxNk05IDEwLjVMMTEgNS41TTE2IDEwLjVMMTQuNSA1LjVIMTFcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgRG9jdW1lbnRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImRvY3VtZW50XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTEuNSA0LjVWOS41SDYuNVwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAxLjIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTEuNSA0LjVIMTguNVYyMC41SDYuNUw2LjUgOS41TTExLjUgNC41TDYuNSA5LjVNMTEuNSA0LjVWOS41SDYuNVwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgRG9jdW1lbnRQZGZJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImRvY3VtZW50LXBkZlwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTEyLjcxMjcgMTMuODAxMkwxMi43MTkzIDEzLjc3QzEyLjg0ODggMTMuMjM2NiAxMy4wMTE3IDEyLjU3MTYgMTIuODg0NSAxMS45NjlDMTIuNzk5NyAxMS40OTM3IDEyLjQ0OTMgMTEuMzA4NCAxMi4xNTAzIDExLjI5NUMxMS43OTc3IDExLjI3OTQgMTEuNDgzIDExLjQ4MDMgMTEuNDA0OSAxMS43NzI2QzExLjI1NzYgMTIuMzA4MiAxMS4zODkzIDEzLjA0MDIgMTEuNjMwMyAxMy45NzNDMTEuMzI2OCAxNC42OTYxIDEwLjg0MjUgMTUuNzQ3MiAxMC40ODc3IDE2LjM3MjFDOS44MjcxIDE2LjcxMzUgOC45NDExMyAxNy4yNDAyIDguODA5NDYgMTcuOTA1M0M4Ljc4MjY4IDE4LjAyOCA4LjgxMzkyIDE4LjE4NDIgOC44ODc1NyAxOC4zMjQ4QzguOTcwMTQgMTguNDgxIDkuMTAxODEgMTguNjAxNSA5LjI1NTc5IDE4LjY1OTZDOS4zMjI3NCAxOC42ODQxIDkuNDAzMDggMTguNzA0MiA5LjQ5NjgxIDE4LjcwNDJDOS44ODk1OSAxOC43MDQyIDEwLjUyNTYgMTguMzg3MyAxMS4zNzM2IDE2LjkzMjJDMTEuNTAzMSAxNi44ODk4IDExLjYzNyAxNi44NDUyIDExLjc2NjQgMTYuODAwNkMxMi4zNzM0IDE2LjU5NTMgMTMuMDAyOCAxNi4zODEgMTMuNTcxOCAxNi4yODUxQzE0LjIwMTIgMTYuNjIyIDE0LjkxNzUgMTYuODM4NSAxNS40MDQgMTYuODM4NUMxNS44ODYxIDE2LjgzODUgMTYuMDc1OCAxNi41NTI5IDE2LjE0NzIgMTYuMzgxQzE2LjI3MjIgMTYuMDc5NyAxNi4yMTE5IDE1LjcwMDQgMTYuMDA4OCAxNS40OTczQzE1LjcxNDMgMTUuMjA3MiAxNC45OTc5IDE1LjEzMTMgMTMuODgyIDE1LjI2OTZDMTMuMzMzMSAxNC45MzQ5IDEyLjk3MzggMTQuNDc5NiAxMi43MTI3IDEzLjgwMTJaTTEwLjI2NDUgMTcuMTkxMUM5Ljk1NDMxIDE3LjY0MTkgOS43MTk5OCAxNy44NjczIDkuNTkyNzggMTcuOTY1NUM5Ljc0MjMgMTcuNjkxIDEwLjAzNDYgMTcuNDAwOSAxMC4yNjQ1IDE3LjE5MTFaTTEyLjIxOTUgMTEuOTM1NUMxMi4zMzU1IDEyLjEzNDEgMTIuMzE5OSAxMi43MzQ1IDEyLjIzMDYgMTMuMDM4QzEyLjEyMTMgMTIuNTkzOSAxMi4xMDU2IDExLjk2NDUgMTIuMTcwNCAxMS44OTA5TDEyLjIxOTUgMTEuOTM1NVpNMTIuMTgzNyAxNC42MjQ3QzEyLjQyMjUgMTUuMDM3NiAxMi43MjM4IDE1LjM5MjQgMTMuMDU2MyAxNS42NTU3QzEyLjU3NDMgMTUuNzY1MSAxMi4xMzQ2IDE1Ljk0NTggMTEuNzQxOSAxNi4xMDY1QzExLjY0ODEgMTYuMTQ0NSAxMS41NTY2IDE2LjE4MjQgMTEuNDY3NCAxNi4yMTgxQzExLjc2NDIgMTUuNjgwMyAxMi4wMTE5IDE1LjA3MSAxMi4xODM3IDE0LjYyNDdaTTE1LjY1NjIgMTYuMDg2NEwxNS42NDI4IDE2LjEwNjVDMTUuNjQyOCAxNi4xMDY1IDE1LjQzNzUgMTYuMjMxNSAxNC42NDk3IDE1LjkyMTNDMTUuNTU1OCAxNS44Nzg5IDE1LjY1NjIgMTYuMDg2NCAxNS42NTYyIDE2LjA4NjRaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTExLjUgNC41VjkuNUg2LjVcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTExLjUgNC41SDE4LjVWMjAuNUg2LjVWOS41TDExLjUgNC41WlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgRG9jdW1lbnRSZW1vdmVJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImRvY3VtZW50LXJlbW92ZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTExLjUgNC41VjkuNUg2LjVcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTYuNSAxNFYyMC41SDE4LjVWMTRNNi41IDExVjkuNUwxMS41IDQuNUgxOC41VjExTTMgMTIuNUgyMlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgRG9jdW1lbnRTaGVldEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZG9jdW1lbnQtc2hlZXRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xMS41IDQuNVY5LjVINi41XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IDEuMiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMC40IDE5VjE2LjRNMTAuNCAxNi40TDEwLjQgMTMuNE0xMC40IDE2LjRIOE0xMC40IDE2LjRIMTQuNE0xMC40IDEzLjRWMTFNMTAuNCAxMy40SDhNMTAuNCAxMy40SDE0LjRNMTQuNCAxOVYxNi40TTE0LjQgMTYuNFYxMy40TTE0LjQgMTYuNEgxN00xNC40IDEzLjRWMTFNMTQuNCAxMy40SDE3TTExLjUgNC41SDE4LjVWMjAuNUg2LjVWOS41TDExLjUgNC41WlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgRG9jdW1lbnRUZXh0SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJkb2N1bWVudC10ZXh0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTEuNSA0LjVWOS41SDYuNVwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAxLjIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTYgMTNIOU0xNCAxNkg5TTExLjUgNC41SDE4LjVWMjAuNUg2LjVWOS41TDExLjUgNC41WlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgRG9jdW1lbnRWaWRlb0ljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZG9jdW1lbnQtdmlkZW9cIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMS41IDE2LjVWMTMuNUwxNCAxNUwxMS41IDE2LjVaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xMS41IDQuNVY5LjVINi41XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IDEuMiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMS41IDQuNUgxOC41VjIwLjVINi41VjkuNUwxMS41IDQuNVpcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIERvY3VtZW50V29yZEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZG9jdW1lbnQtd29yZFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTEyLjQ2OTkgMTMuNDU4OEgxMi41MjYzTDEzLjYzMjggMTdIMTQuNTQzNUwxNiAxMkgxNC45OTUyTDE0LjA2NTYgMTUuNzIxNEgxNC4wMTI5TDEyLjkyOSAxMkgxMi4wNjcyTDEwLjk5ODQgMTUuNzIxNEgxMC45NDE5TDEwLjAxMjQgMTJIOUwxMC40NTY1IDE3SDExLjM3MUwxMi40Njk5IDEzLjQ1ODhaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTExLjUgNC41VjkuNUg2LjVcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTExLjUgNC41SDE4LjVWMjAuNUg2LjVWOS41TDExLjUgNC41WlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgRG9jdW1lbnRaaXBJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImRvY3VtZW50LXppcFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTExLjUgNC41VjkuNUg2LjVcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTE1IDQuNUwxMy41IDVMMTUuNSA2TDEzLjUgN0wxNS41IDhMMTMuNSA5TDE1LjUgMTBMMTMuNSAxMUwxNC41IDExLjVWMTNNMTEuNSA0LjVIMTguNVYyMC41SDYuNVY5LjVMMTEuNSA0LjVaTTEzLjUgMTNIMTUuNUwxNiAxN0gxM0wxMy41IDEzWlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgRG9jdW1lbnRzSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJkb2N1bWVudHNcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xMC41IDQuNVY5LjVINS41XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IDEuMiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNi41IDcuNUgxOS41VjIxLjVIOC41VjE4LjVNMTAuNSA0LjVIMTYuNVYxOC41SDUuNVY5LjVMMTAuNSA0LjVaXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBEb3RJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZG90XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcImNpcmNsZVwiLFxuICAgICAgICB7XG4gICAgICAgICAgY3g6IDEyLjUsXG4gICAgICAgICAgY3k6IDEyLjUsXG4gICAgICAgICAgcjogMi41LFxuICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBEb3VibGVDaGV2cm9uRG93bkljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJkb3VibGUtY2hldnJvbi1kb3duXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE3IDhMMTIuNSAxMi41TDggOE0xNyAxM0wxMi41IDE3LjVMOCAxM1wiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBEb3VibGVDaGV2cm9uTGVmdEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJkb3VibGUtY2hldnJvbi1sZWZ0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTEyIDE3TDcuNSAxMi41TDEyIDhNMTcgMTdMMTIuNSAxMi41TDE3IDhcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgRG91YmxlQ2hldnJvblJpZ2h0SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImRvdWJsZS1jaGV2cm9uLXJpZ2h0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTEzIDhMMTcuNSAxMi41TDEzIDE3TTggOEwxMi41IDEyLjVMOCAxN1wiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBEb3VibGVDaGV2cm9uVXBJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZG91YmxlLWNoZXZyb24tdXBcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNOCAxMkwxMi41IDcuNUwxNyAxMk04IDE3TDEyLjUgMTIuNUwxNyAxN1wiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBEb3dubG9hZEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZG93bmxvYWRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xOS41IDE3VjE5LjVINS41VjE3TTEyLjUgMTZMMTIuNSA1XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNy41IDExTDEyLjUgMTZMNy41IDExXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBEcmFnSGFuZGxlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJkcmFnLWhhbmRsZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTkuNSA4QzEwLjMyODQgOCAxMSA3LjMyODQzIDExIDYuNUMxMSA1LjY3MTU3IDEwLjMyODQgNSA5LjUgNUM4LjY3MTU3IDUgOCA1LjY3MTU3IDggNi41QzggNy4zMjg0MyA4LjY3MTU3IDggOS41IDhaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTkuNSAxNEMxMC4zMjg0IDE0IDExIDEzLjMyODQgMTEgMTIuNUMxMSAxMS42NzE2IDEwLjMyODQgMTEgOS41IDExQzguNjcxNTcgMTEgOCAxMS42NzE2IDggMTIuNUM4IDEzLjMyODQgOC42NzE1NyAxNCA5LjUgMTRaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTExIDE4LjVDMTEgMTkuMzI4NCAxMC4zMjg0IDIwIDkuNSAyMEM4LjY3MTU3IDIwIDggMTkuMzI4NCA4IDE4LjVDOCAxNy42NzE2IDguNjcxNTcgMTcgOS41IDE3QzEwLjMyODQgMTcgMTEgMTcuNjcxNiAxMSAxOC41WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNS41IDhDMTYuMzI4NCA4IDE3IDcuMzI4NDMgMTcgNi41QzE3IDUuNjcxNTcgMTYuMzI4NCA1IDE1LjUgNUMxNC42NzE2IDUgMTQgNS42NzE1NyAxNCA2LjVDMTQgNy4zMjg0MyAxNC42NzE2IDggMTUuNSA4WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNyAxMi41QzE3IDEzLjMyODQgMTYuMzI4NCAxNCAxNS41IDE0QzE0LjY3MTYgMTQgMTQgMTMuMzI4NCAxNCAxMi41QzE0IDExLjY3MTYgMTQuNjcxNiAxMSAxNS41IDExQzE2LjMyODQgMTEgMTcgMTEuNjcxNiAxNyAxMi41WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNS41IDIwQzE2LjMyODQgMjAgMTcgMTkuMzI4NCAxNyAxOC41QzE3IDE3LjY3MTYgMTYuMzI4NCAxNyAxNS41IDE3QzE0LjY3MTYgMTcgMTQgMTcuNjcxNiAxNCAxOC41QzE0IDE5LjMyODQgMTQuNjcxNiAyMCAxNS41IDIwWlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBEcm9wSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImRyb3BcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTguNSAxNC41QzE4LjUgMTggMTYgMjAuNSAxMi41IDIwLjVDOSAyMC41IDYuNSAxOCA2LjUgMTQuNUM2LjUgMTEgOS41IDcuNTAwMDEgMTIuNSA0LjVDMTUuNSA3LjUgMTguNSAxMSAxOC41IDE0LjVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEVhcnRoQW1lcmljYXNJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImVhcnRoLWFtZXJpY2FzXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNyAxM0w1LjUgOUwxMCA1SDE1VjEwTDE0IDlIMTFMOS41IDExTDEwLjUgMTJIMTJWMTNMMTMgMTQuNUgxNS41TDE4LjUgMTdMMTUuNSAxOS41TDEwLjUgMjBWMTdMMTIuNSAxNUw5IDEzTDcgMTAuNVYxM1pcIixcbiAgICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcImNpcmNsZVwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGN4OiAxMi41LFxuICAgICAgICAgICAgY3k6IDEyLjUsXG4gICAgICAgICAgICByOiA4LFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgRWFydGhHbG9iZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJlYXJ0aC1nbG9iZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk01LjUgMTYuNUgxOS41TTUuNSA4LjVIMTkuNU00LjUgMTIuNUgyMC41TTEyLjUgMjAuNUMxMi41IDIwLjUgOCAxOC41IDggMTIuNUM4IDYuNSAxMi41IDQuNSAxMi41IDQuNU0xMi41IDQuNUMxMi41IDQuNSAxNyA2LjUgMTcgMTIuNUMxNyAxOC41IDEyLjUgMjAuNSAxMi41IDIwLjVNMTIuNSA0LjVWMjAuNU0yMC41IDEyLjVDMjAuNSAxNi45MTgzIDE2LjkxODMgMjAuNSAxMi41IDIwLjVDOC4wODE3MiAyMC41IDQuNSAxNi45MTgzIDQuNSAxMi41QzQuNSA4LjA4MTcyIDguMDgxNzIgNC41IDEyLjUgNC41QzE2LjkxODMgNC41IDIwLjUgOC4wODE3MiAyMC41IDEyLjVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEVkaXRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZWRpdFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xNSA3TDE4IDEwTTYgMTlMNyAxNUwxNyA1TDIwIDhMMTAgMThMNiAxOVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgRWxsaXBzaXNIb3Jpem9udGFsSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJlbGxpcHNpcy1ob3Jpem9udGFsXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNi41IDExQzcuMzI4NDMgMTEgOCAxMS42NzE2IDggMTIuNUM4IDEzLjMyODQgNy4zMjg0MyAxNCA2LjUgMTRDNS42NzE1NyAxNCA1IDEzLjMyODQgNSAxMi41QzUgMTEuNjcxNiA1LjY3MTU3IDExIDYuNSAxMVpcIixcbiAgICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTIuNSAxMUMxMy4zMjg0IDExIDE0IDExLjY3MTYgMTQgMTIuNUMxNCAxMy4zMjg0IDEzLjMyODQgMTQgMTIuNSAxNEMxMS42NzE2IDE0IDExIDEzLjMyODQgMTEgMTIuNUMxMSAxMS42NzE2IDExLjY3MTYgMTEgMTIuNSAxMVpcIixcbiAgICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTguNSAxMUMxOS4zMjg0IDExIDIwIDExLjY3MTYgMjAgMTIuNUMyMCAxMy4zMjg0IDE5LjMyODQgMTQgMTguNSAxNEMxNy42NzE2IDE0IDE3IDEzLjMyODQgMTcgMTIuNUMxNyAxMS42NzE2IDE3LjY3MTYgMTEgMTguNSAxMVpcIixcbiAgICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgRWxsaXBzaXNWZXJ0aWNhbEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZWxsaXBzaXMtdmVydGljYWxcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNCA2LjVDMTQgNy4zMjg0MyAxMy4zMjg0IDggMTIuNSA4QzExLjY3MTYgOCAxMSA3LjMyODQzIDExIDYuNUMxMSA1LjY3MTU3IDExLjY3MTYgNSAxMi41IDVDMTMuMzI4NCA1IDE0IDUuNjcxNTcgMTQgNi41WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNCAxMi41QzE0IDEzLjMyODQgMTMuMzI4NCAxNCAxMi41IDE0QzExLjY3MTYgMTQgMTEgMTMuMzI4NCAxMSAxMi41QzExIDExLjY3MTYgMTEuNjcxNiAxMSAxMi41IDExQzEzLjMyODQgMTEgMTQgMTEuNjcxNiAxNCAxMi41WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNCAxOC41QzE0IDE5LjMyODQgMTMuMzI4NCAyMCAxMi41IDIwQzExLjY3MTYgMjAgMTEgMTkuMzI4NCAxMSAxOC41QzExIDE3LjY3MTYgMTEuNjcxNiAxNyAxMi41IDE3QzEzLjMyODQgMTcgMTQgMTcuNjcxNiAxNCAxOC41WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBFbnRlckljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZW50ZXJcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk02IDE0LjVIMTkuNVY3XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IDEuMiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMCAxOC41TDYgMTQuNUwxMCAxMC41XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBFbnRlclJpZ2h0SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJlbnRlci1yaWdodFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTE5IDE0LjVINS41VjdcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTE1IDE4LjVMMTkgMTQuNUwxNSAxMC41XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBFbnZlbG9wZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZW52ZWxvcGVcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0yMC41IDE4LjVINC41VjYuNUgyMC41VjE4LjVaXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0yMC41IDE4LjVMMTcuNzUgMTUuNUwxNSAxMi41TTQuNSAxOC41TDEwIDEyLjVNMjAuNSA2LjVMMTIuNSAxNUw0LjUgNi41XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBFcXVhbEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiZXF1YWxcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk03LjUgNC41SDMuNVYyMC41SDcuNVwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAxLjIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTcuNSAyMC41TDIxLjUgMjAuNUwyMS41IDQuNUwxNy41IDQuNVwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAxLjIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNOSAxMC41SDE2XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IDEuMiB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk05IDE0LjVIMTZcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yIH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIEVycm9yRmlsbGVkSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImVycm9yLWZpbGxlZFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICAgIGQ6IFwiTTQgMTIuNUM0IDcuODA1NTggNy44MDU1OCA0IDEyLjUgNEMxNy4xOTQ0IDQgMjEgNy44MDU1OCAyMSAxMi41QzIxIDE3LjE5NDQgMTcuMTk0NCAyMSAxMi41IDIxQzcuODA1NTggMjEgNCAxNy4xOTQ0IDQgMTIuNVpNMTMgMTQuNVYxNkgxMlYxNC41SDEzWk0xMiA5VjEzSDEzVjlIMTJaXCIsXG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEVycm9yT3V0bGluZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJlcnJvci1vdXRsaW5lXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTEyLjUgMTZWMTQuNU0xMi41IDlWMTNNMjAuNSAxMi41QzIwLjUgMTYuOTE4MyAxNi45MTgzIDIwLjUgMTIuNSAyMC41QzguMDgxNzIgMjAuNSA0LjUgMTYuOTE4MyA0LjUgMTIuNUM0LjUgOC4wODE3MiA4LjA4MTcyIDQuNSAxMi41IDQuNUMxNi45MTgzIDQuNSAyMC41IDguMDgxNzIgMjAuNSAxMi41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBFeHBhbmRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImV4cGFuZFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTE0IDYuNUgxOC41VjExTTExIDE4LjVINi41VjE0XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xOC41IDYuNUwxNCAxMU02LjUgMTguNUwxMSAxNFwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgRXllQ2xvc2VkSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImV5ZS1jbG9zZWRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNNyAxNS41TDUuNSAxNy41TTIwLjUgMTIuNUMxOS44NjEyIDEzLjU2NDcgMTkuMDQxIDE0LjYyOTQgMTguMDAwOCAxNS41MDFNMTguMDAwOCAxNS41MDFDMTYuNTk4NSAxNi42NzYgMTQuNzk2NSAxNy41IDEyLjUgMTcuNU0xOC4wMDA4IDE1LjUwMUwxOCAxNS41TTE4LjAwMDggMTUuNTAxTDE5LjUgMTcuNU0xMi41IDE3LjVDOC41IDE3LjUgNiAxNSA0LjUgMTIuNU0xMi41IDE3LjVWMjBNMTUuNSAxN0wxNi41IDE5LjVNOS41IDE3TDguNSAxOS41XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEV5ZU9wZW5JY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImV5ZS1vcGVuXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICAgICAgZDogXCJNOS4zOTk5OSAxMi41QzkuMzk5OTkgMTAuNzg3OSAxMC43ODc5IDkuMzk5OTkgMTIuNSA5LjM5OTk5QzE0LjIxMjEgOS4zOTk5OSAxNS42IDEwLjc4NzkgMTUuNiAxMi41QzE1LjYgMTQuMjEyMSAxNC4yMTIxIDE1LjYgMTIuNSAxNS42QzEwLjc4NzkgMTUuNiA5LjM5OTk5IDE0LjIxMjEgOS4zOTk5OSAxMi41WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMi41IDcuNUM4LjUgNy41IDYgMTAgNC41IDEyLjVDNiAxNSA4LjUgMTcuNSAxMi41IDE3LjVDMTYuNSAxNy41IDE5IDE1IDIwLjUgMTIuNUMxOSAxMCAxNi41IDcuNSAxMi41IDcuNVpcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIEZpbHRlckljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJmaWx0ZXJcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTEgMTJMNiA3VjZMMTkgNkwxOSA3TDE0IDEyVjE3TDExIDE5VjEyWlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVjYXA6IFwic3F1YXJlXCIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEZvbGRlckljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJmb2xkZXJcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTEuNSA4LjVIMTkuNVYxOC41SDUuNVY1LjVIMTAuNUwxMS41IDguNVpNMTEuNSA4LjVINS41XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEdlbmVyYXRlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJnZW5lcmF0ZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTkgNS4zMDQyM0M2LjMzNTc2IDYuNjAyNTMgNC41IDkuMzM2ODggNC41IDEyLjVDNC41IDE2LjkxODMgOC4wODE3MiAyMC41IDEyLjUgMjAuNUMxNi45MTgzIDIwLjUgMjAuNSAxNi45MTgzIDIwLjUgMTIuNUMyMC41IDguMDgxNzIgMTYuOTE4MyA0LjUgMTIuNSA0LjVWMTQuNVwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTYgMTFMMTIuNSAxNC41TDkgMTFcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIEdyb3FJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImdyb3FcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xMyAxM0gyMUwxMyAyMUwxMyAxM1pcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xMiAxMlY0TDQgMTJIMTJaXCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTIgMTNINEwxMiAyMVYxM1pcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9KVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBIYXNoSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImhhc2hcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNOC4zMzg5NCAxNi4xMDAySDUuNDQ2MTVMNS42MzA3NyAxNC45MDAySDguNTIzNTZMOS4yNjIwMiAxMC4xMDAySDYuMzY5MjNMNi41NTM4NCA4LjkwMDE4SDkuNDQ2NjNMOS44OTI4MSA2SDExLjEwNjlMMTAuNjYwOCA4LjkwMDE4SDE1LjQ0NjZMMTUuODkyOCA2SDE3LjEwNjlMMTYuNjYwOCA4LjkwMDE4SDE5LjU1MzlMMTkuMzY5MyAxMC4xMDAySDE2LjQ3NjFMMTUuNzM3NyAxNC45MDAySDE4LjYzMDhMMTguNDQ2MiAxNi4xMDAySDE1LjU1MzFMMTUuMTA2OSAxOUgxMy44OTI4TDE0LjMzODkgMTYuMTAwMkg5LjU1MzA2TDkuMTA2OTMgMTlINy44OTI4MUw4LjMzODk0IDE2LjEwMDJaTTEwLjQ3NjEgMTAuMTAwMkw5LjczNzY3IDE0LjkwMDJIMTQuNTIzNkwxNS4yNjIgMTAuMTAwMkgxMC40NzYxWlwiLFxuICAgICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEhlYXJ0RmlsbGVkSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImhlYXJ0LWZpbGxlZFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xNyAxNkMxNS44IDE3LjMyMzUgMTIuNSAyMC41IDEyLjUgMjAuNUMxMi41IDIwLjUgOS4yIDE3LjMyMzUgOCAxNkM1LjIgMTIuOTExOCA0LjUgMTEuNzA1OSA0LjUgOS41QzQuNSA3LjI5NDEyIDYuMSA1LjUgOC41IDUuNUMxMC41IDUuNSAxMS43IDYuODIzNTMgMTIuNSA4LjE0NzA2QzEzLjMgNi44MjM1MyAxNC41IDUuNSAxNi41IDUuNUMxOC45IDUuNSAyMC41IDcuMjk0MTIgMjAuNSA5LjVDMjAuNSAxMS43MDU5IDE5LjggMTIuOTExOCAxNyAxNlpcIixcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBIZWFydEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJoZWFydFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xNyAxNkMxNS44IDE3LjMyMzUgMTIuNSAyMC41IDEyLjUgMjAuNUMxMi41IDIwLjUgOS4yIDE3LjMyMzUgOCAxNkM1LjIgMTIuOTExOCA0LjUgMTEuNzA1OSA0LjUgOS41QzQuNSA3LjI5NDEyIDYuMSA1LjUgOC41IDUuNUMxMC41IDUuNSAxMS43IDYuODIzNTMgMTIuNSA4LjE0NzA2QzEzLjMgNi44MjM1MyAxNC41IDUuNSAxNi41IDUuNUMxOC45IDUuNSAyMC41IDcuMjk0MTIgMjAuNSA5LjVDMjAuNSAxMS43MDU5IDE5LjggMTIuOTExOCAxNyAxNlpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgSGVscENpcmNsZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJoZWxwLWNpcmNsZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMi41IDEzQzEyLjUgMTEgMTQgMTEuNSAxNCAxMEMxNCA5LjM0Mzc1IDEzLjUgOC41IDEyLjUgOC41QzExLjUgOC41IDExIDkgMTAuNSA5LjVNMTIuNSAxNlYxNC41TTIwLjUgMTIuNUMyMC41IDE2LjkxODMgMTYuOTE4MyAyMC41IDEyLjUgMjAuNUM4LjA4MTcyIDIwLjUgNC41IDE2LjkxODMgNC41IDEyLjVDNC41IDguMDgxNzIgOC4wODE3MiA0LjUgMTIuNSA0LjVDMTYuOTE4MyA0LjUgMjAuNSA4LjA4MTcyIDIwLjUgMTIuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgSGlnaGxpZ2h0SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImhpZ2hsaWdodFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIm0yMC4yNSA5LjAwNS0yLjcxOSA0LjcxTTEwLjc1IDMuNTA0bC0yLjcyNSA0LjcybTkuNTA2IDUuNDktOS41MDYtNS40OW05LjUwNiA1LjQ5TDE2LjUgMTUuNWwtMy4yNjguNjM0TDEyIDE4bC0uNTg2LS4zNTJtLTMuMzktOS40MjNMNyAxMGwxIDMtMSAyIC41ODYuMzUxbTAgMEw0LjkwMiAyMGg1LjE1NWwxLjM1Ny0yLjM1Mm0tMy44MjgtMi4yOTcgMy44MjggMi4yOTdNMTMgMjBoN1wiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgSG9tZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJob21lXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTYuNSA4Ljc1VjE4LjVIMTguNVY4Ljc1TTQuNSAxMEwxMi41IDVMMjAuNSAxME0xNC41IDE4LjVWMTEuNUgxMC41VjE4LjVcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgSWNlQ3JlYW1JY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiaWNlLWNyZWFtXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTkuNSAxMy41TDEyLjUgMjAuNUwxNS41IDEzLjVNMTIuNSA4LjI2Mzg5QzExLjk2OTIgNy43ODg4NSAxMS4yNjg0IDcuNSAxMC41IDcuNUM4Ljg0MzE1IDcuNSA3LjUgOC44NDMxNSA3LjUgMTAuNUM3LjUgMTIuMTU2OSA4Ljg0MzE1IDEzLjUgMTAuNSAxMy41QzExLjI2ODQgMTMuNSAxMS45NjkyIDEzLjIxMTEgMTIuNSAxMi43MzYxTTkuNSA3LjVDOS41IDUuODQzMTUgMTAuODQzMSA0LjUgMTIuNSA0LjVDMTQuMTU2OSA0LjUgMTUuNSA1Ljg0MzE1IDE1LjUgNy41TTE3LjUgMTAuNUMxNy41IDEyLjE1NjkgMTYuMTU2OSAxMy41IDE0LjUgMTMuNUMxMi44NDMxIDEzLjUgMTEuNSAxMi4xNTY5IDExLjUgMTAuNUMxMS41IDguODQzMTUgMTIuODQzMSA3LjUgMTQuNSA3LjVDMTYuMTU2OSA3LjUgMTcuNSA4Ljg0MzE1IDE3LjUgMTAuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgSW1hZ2VJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiaW1hZ2VcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNNS41IDE1LjVMOC43OTI4OSAxMi4yMDcxQzkuMTgzNDIgMTEuODE2NiA5LjgxNjU4IDExLjgxNjYgMTAuMjA3MSAxMi4yMDcxTDEyLjg4NjcgMTQuODg2N0MxMy4yMzg2IDE1LjIzODYgMTMuNzk1NyAxNS4yNzgyIDE0LjE5MzggMTQuOTc5NkwxNS4xMTkyIDE0LjI4NTZDMTUuMzYwMSAxNC4xMDQ5IDE1LjY2OTYgMTQuMDQyNCAxNS45NjE4IDE0LjExNTRMMTkuNSAxNU01LjUgNi41SDE5LjVWMTguNUg1LjVWNi41Wk0xNS41IDEwLjVDMTUuNSAxMS4wNTIzIDE1LjA1MjMgMTEuNSAxNC41IDExLjVDMTMuOTQ3NyAxMS41IDEzLjUgMTEuMDUyMyAxMy41IDEwLjVDMTMuNSA5Ljk0NzcyIDEzLjk0NzcgOS41IDE0LjUgOS41QzE1LjA1MjMgOS41IDE1LjUgOS45NDc3MiAxNS41IDEwLjVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEltYWdlUmVtb3ZlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImltYWdlLXJlbW92ZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk01LjUgMTFWNi41SDE5LjVWMTFNNS41IDE0VjE4LjVIMTkuNVYxNE0zIDEyLjVIMjJcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgSW1hZ2VzSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImltYWdlc1wiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xOC41IDcuNUgyMC41VjE5LjVINi41VjE3LjVNNC41IDE0LjVMNy43OTI4OSAxMS4yMDcxQzguMTgzNDIgMTAuODE2NiA4LjgxNjU4IDEwLjgxNjYgOS4yMDcxMSAxMS4yMDcxTDExLjg4NjcgMTMuODg2N0MxMi4yMzg2IDE0LjIzODYgMTIuNzk1NyAxNC4yNzgyIDEzLjE5MzggMTMuOTc5NkwxNC4xMTkyIDEzLjI4NTZDMTQuMzYwMSAxMy4xMDQ5IDE0LjY2OTYgMTMuMDQyNCAxNC45NjE4IDEzLjExNTRMMTguNSAxNE00LjUgNS41SDE4LjVWMTcuNUg0LjVWNS41Wk0xNC41IDkuNUMxNC41IDEwLjA1MjMgMTQuMDUyMyAxMC41IDEzLjUgMTAuNUMxMi45NDc3IDEwLjUgMTIuNSAxMC4wNTIzIDEyLjUgOS41QzEyLjUgOC45NDc3MiAxMi45NDc3IDguNSAxMy41IDguNUMxNC4wNTIzIDguNSAxNC41IDguOTQ3NzIgMTQuNSA5LjVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEluZm9GaWxsZWRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiaW5mby1maWxsZWRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgICBkOiBcIk0yMSAxMi41QzIxIDE3LjE5NDQgMTcuMTk0NCAyMSAxMi41IDIxQzcuODA1NTggMjEgNCAxNy4xOTQ0IDQgMTIuNUM0IDcuODA1NTggNy44MDU1OCA0IDEyLjUgNEMxNy4xOTQ0IDQgMjEgNy44MDU1OCAyMSAxMi41Wk0xMiAxMC41VjlIMTNWMTAuNUgxMlpNMTMgMTZWMTJIMTJWMTZIMTNaXCIsXG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEluZm9PdXRsaW5lSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImluZm8tb3V0bGluZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMi41IDEwLjVWOU0xMi41IDEyVjE2TTIwLjUgMTIuNUMyMC41IDE2LjkxODMgMTYuOTE4MyAyMC41IDEyLjUgMjAuNUM4LjA4MTcyIDIwLjUgNC41IDE2LjkxODMgNC41IDEyLjVDNC41IDguMDgxNzIgOC4wODE3MiA0LjUgMTIuNSA0LjVDMTYuOTE4MyA0LjUgMjAuNSA4LjA4MTcyIDIwLjUgMTIuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgSW5saW5lRWxlbWVudEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJpbmxpbmUtZWxlbWVudFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk01LjUgNVYyME0xOS41IDVWMjBNOC41IDYuNUgxNi41VjE4LjVIOC41VjYuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgSW5saW5lSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImlubGluZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMi41IDYuNUgxOS41VjE4LjVIMTIuNU0xMi41IDYuNUg1LjVWMTguNUgxMi41TTEyLjUgNi41VjE4LjVcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgSW5zZXJ0QWJvdmVJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiaW5zZXJ0LWFib3ZlXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE0LjUgMTAuNTU1NkwxMC41IDEwLjU1NTZNMTIuNSAxMi41TDEyLjUgOC41TTE4LjUgNS41TDYuNSA1LjVNMTguNSAxOS41TDYuNSAxOS41TDYuNSAxNS41TDE4LjUgMTUuNUwxOC41IDE5LjVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWNhcDogXCJzcXVhcmVcIixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgSW5zZXJ0QmVsb3dJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwiaW5zZXJ0LWJlbG93XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTEwLjUgMTQuNUgxNC41TTEyLjUgMTIuNVYxNi41TTYuNSAxOS41SDE4LjVNNi41IDUuNUgxOC41VjkuNUg2LjVWNS41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVjYXA6IFwic3F1YXJlXCIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIEl0YWxpY0ljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJpdGFsaWNcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTAuNDMgMThIMTEuNzI3NkwxMy40NTUxIDkuODY3NjNIMTIuMTU3NkwxMC40MyAxOFpNMTMuMzA0MyA4LjI5ODQ5QzEzLjgwMjIgOC4yOTg0OSAxNC4yMDk1IDcuODkxMTIgMTQuMjA5NSA3LjM5MzIyQzE0LjIwOTUgNi44OTUzMiAxMy44MDIyIDYuNDg3OTUgMTMuMzA0MyA2LjQ4Nzk1QzEyLjgwNjQgNi40ODc5NSAxMi4zOTkgNi44OTUzMiAxMi4zOTkgNy4zOTMyMkMxMi4zOTkgNy44OTExMiAxMi44MDY0IDguMjk4NDkgMTMuMzA0MyA4LjI5ODQ5WlwiLFxuICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBKb3lzdGlja0ljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJqb3lzdGlja1wiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk05LjUgMTZWMTQuNUgxNS41VjE2TTEzLjUgMTAuNVYxNC41TTExLjUgMTAuNVYxNC41TTE1LjUgNy41QzE1LjUgOS4xNTY4NSAxNC4xNTY5IDEwLjUgMTIuNSAxMC41QzEwLjg0MzEgMTAuNSA5LjUgOS4xNTY4NSA5LjUgNy41QzkuNSA1Ljg0MzE1IDEwLjg0MzEgNC41IDEyLjUgNC41QzE0LjE1NjkgNC41IDE1LjUgNS44NDMxNSAxNS41IDcuNVpNMTguNSAxOS41SDYuNUM1Ljk0NzcyIDE5LjUgNS41IDE5LjA1MjMgNS41IDE4LjVWMTcuNUM1LjUgMTYuOTQ3NyA1Ljk0NzcyIDE2LjUgNi41IDE2LjVIMTguNUMxOS4wNTIzIDE2LjUgMTkuNSAxNi45NDc3IDE5LjUgMTcuNVYxOC41QzE5LjUgMTkuMDUyMyAxOS4wNTIzIDE5LjUgMTguNSAxOS41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBKc29uSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImpzb25cIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTEgNS41SDkuNUM4LjM5NTQzIDUuNSA3LjUgNi4zOTU0MyA3LjUgNy41VjEyLjVNNy41IDEyLjVINE03LjUgMTIuNVYxNy41QzcuNSAxOC42MDQ2IDguMzk1NDMgMTkuNSA5LjUgMTkuNUgxMU0xNCA1LjVIMTUuNUMxNi42MDQ2IDUuNSAxNy41IDYuMzk1NDMgMTcuNSA3LjVWMTIuNU0xNy41IDEyLjVIMjFNMTcuNSAxMi41VjE3LjVDMTcuNSAxOC42MDQ2IDE2LjYwNDYgMTkuNSAxNS41IDE5LjVIMTRcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgTGF1bmNoSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJsYXVuY2hcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMiA3LjVINi41VjE4LjVIMTcuNVYxM00xOS41IDUuNUwxMC41IDE0LjVcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTE0IDUuNUgxOS41VjExXCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IDEuMiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBMZWF2ZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwibGVhdmVcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNC41IDE1VjE4LjVINS41VjYuNUgxNC41VjEwTTkgMTIuNUgyMS41XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xOCA5TDIxLjUgMTIuNUwxOCAxNlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgTGVtb25JY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwibGVtb25cIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTAuNjU2OSAxMC4zNDMxTDYuNDE0MjIgMTQuNTg1OEM3LjU4NTc5IDE1Ljc1NzQgOS4xMjEzMiAxNi4zNDMxIDEwLjY1NjkgMTYuMzQzMU0xMC42NTY5IDEwLjM0MzFMMTQuODk5NSA2LjEwMDVDMTYuMDcxMSA3LjI3MjA4IDE2LjY1NjkgOC44MDc2MSAxNi42NTY5IDEwLjM0MzFNMTAuNjU2OSAxMC4zNDMxTDEwLjY1NjkgMTYuMzQzMU0xMC42NTY5IDEwLjM0MzFMMTYuNjU2OSAxMC4zNDMxTTEwLjY1NjkgMTAuMzQzMUwxNC44OTk1IDE0LjU4NThNMTQuODk5NSAxNC41ODU4QzEzLjcyNzkgMTUuNzU3NCAxMi4xOTI0IDE2LjM0MzEgMTAuNjU2OSAxNi4zNDMxTTE0Ljg5OTUgMTQuNTg1OEMxNi4wNzExIDEzLjQxNDIgMTYuNjU2OSAxMS44Nzg3IDE2LjY1NjkgMTAuMzQzMU0xNi4zMTM3IDQuNjg2MjlDMTkuNDM3OSA3LjgxMDQ5IDE5LjQzNzkgMTIuODc1OCAxNi4zMTM3IDE2QzEzLjE4OTUgMTkuMTI0MiA4LjEyNDE5IDE5LjEyNDIgNSAxNkwxNi4zMTM3IDQuNjg2MjlaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIExpbmtJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwibGlua1wiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMSAxMi41TDEyLjUgMTRDMTMuMjgxIDE0Ljc4MSAxNC43MTkgMTQuNzgxIDE1LjUgMTRMMTguNSAxMUMxOS4yODEgMTAuMjE5IDE5LjI4MSA4Ljc4MTA1IDE4LjUgOEwxOCA3LjVDMTcuMjE4OSA2LjcxODk1IDE1Ljc4MSA2LjcxODk1IDE1IDcuNUwxMyA5LjVNMTIgMTUuNUwxMCAxNy41QzkuMjE4OTUgMTguMjgxIDcuNzgxMDUgMTguMjgxIDcgMTcuNUw2LjUgMTdDNS43MTg5NSAxNi4yMTkgNS43MTg5NiAxNC43ODEgNi41IDE0TDkuNTAwMDEgMTFDMTAuMjgxMSAxMC4yMTkgMTEuNzE5IDEwLjIxODkgMTIuNSAxMUwxNCAxMi41XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIExpbmtSZW1vdmVkSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImxpbmstcmVtb3ZlZFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xOC41IDExQzE5LjI4MSAxMC4yMTkgMTkuMjgxIDguNzgxMDggMTguNSA4LjAwMDAzTDE4IDcuNTAwMDNDMTcuMjE4OSA2LjcxODk4IDE1Ljc4MSA2LjcxODk4IDE1IDcuNTAwMDNMMTMgOS41MDAwM00xNS41IDE0QzE0LjcxODkgMTQuNzgxMSAxMy4yODEgMTQuNzgxMSAxMi41IDE0TTYuNSAxNEM1LjcxODk1IDE0Ljc4MTEgNS43MTg5NCAxNi4yMTkgNi40OTk5OSAxN0w2Ljk5OTk5IDE3LjVDNy43ODEwNCAxOC4yODExIDkuMjE4OTQgMTguMjgxMSA5Ljk5OTk5IDE3LjVMMTIgMTUuNU0xMi41IDExQzExLjcxOSAxMC4yMTkgMTAuMjgxIDEwLjIxOSA5LjUgMTFNMyAxMi41SDIyXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIExvY2tJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwibG9ja1wiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xNS41IDExLjVWOC41QzE1LjUgNi41IDE0IDUuNSAxMi41IDUuNUMxMSA1LjUgOS41IDYuNSA5LjUgOC41VjExLjVNNy41IDExLjVIMTcuNVYxOS41SDcuNVYxMS41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBMb2dvSnNJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwibG9nby1qc1wiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICAgIGQ6IFwiTTIwIDVINVYyMEgyMFY1Wk0xMi41MjU0IDE2LjE1NzJDMTIuNTI1NCAxNy40MTg5IDExLjc3NDIgMTguMTUzNiAxMC40NzkyIDE4LjE1MzZDOS4yNDI0MyAxOC4xNTM2IDguNDkxMjEgMTcuNDE4OSA4LjQ1ODAxIDE2LjI5NDJWMTYuMjYxSDkuNjc0MDdWMTYuMjg1OUM5LjY5ODk3IDE2Ljc0NjYgOS45NzI5IDE3LjA3MDMgMTAuNDYyNiAxNy4wNzAzQzEwLjk5MzkgMTcuMDcwMyAxMS4yNzIgMTYuNzUwNyAxMS4yNzIgMTYuMTQ4OVYxMi4wMTFIMTIuNTI1NFYxNi4xNTcyWk0xOC4yODkzIDE2LjIxNTNDMTguMjg5MyAxNy40MDIzIDE3LjM2NzkgMTguMTUzNiAxNS44NzM4IDE4LjE1MzZDMTQuNDQxOSAxOC4xNTM2IDEzLjUzNzEgMTcuNDY4OCAxMy40NjY2IDE2LjQwNjJMMTMuNDYyNCAxNi4zMzk4SDE0LjY3MDJMMTQuNjc0MyAxNi4zODEzQzE0LjcyIDE2LjgyOTYgMTUuMjA1NiAxNy4xMzI2IDE1LjkwNyAxNy4xMzI2QzE2LjU3NTIgMTcuMTMyNiAxNy4wMzU5IDE2LjgxMyAxNy4wMzU5IDE2LjM1MjNWMTYuMzQ4MUMxNy4wMzU5IDE1Ljk1MzkgMTYuNzQxMiAxNS43MzM5IDE1Ljk5ODMgMTUuNTgwM0wxNS4zNjc0IDE1LjQ1MTdDMTQuMTIyMyAxNS4xOTg1IDEzLjU4NjkgMTQuNjE3NCAxMy41ODY5IDEzLjcwODVWMTMuNzA0M0MxMy41ODY5IDEyLjU5MiAxNC41NDE1IDExLjg1NzQgMTUuODY5NiAxMS44NTc0QzE3LjI2ODMgMTEuODU3NCAxOC4wOTAxIDEyLjU5NjIgMTguMTY4OSAxMy41OTY0TDE4LjE3MzEgMTMuNjUwNEgxNi45OTQ0TDE2Ljk4NjEgMTMuNjAwNkMxNi45MTU1IDEzLjE3MzEgMTYuNTAwNSAxMi44NzQzIDE1Ljg2OTYgMTIuODc0M0MxNS4yNTEyIDEyLjg3ODQgMTQuODQwMyAxMy4xNjA2IDE0Ljg0MDMgMTMuNjA4OVYxMy42MTNDMTQuODQwMyAxNC4wMDMyIDE1LjEzMDkgMTQuMjM1NiAxNS44MzY0IDE0LjM4MDlMMTYuNDcxNCAxNC41MDk1QzE3LjczNzMgMTQuNzcxIDE4LjI4OTMgMTUuMjc3MyAxOC4yODkzIDE2LjIxMTJWMTYuMjE1M1pcIixcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgTG9nb1RzSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImxvZ28tdHNcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgICBkOiBcIk0yMCA1SDVWMjBIMjBWNVpNMTEuMDc2OSAxOEg5LjgyMzQ5VjEzLjA0NDRIOC4wMjYzN1YxMi4wMTFIMTIuODc0VjEzLjA0NDRIMTEuMDc2OVYxOFpNMTguMjg5MyAxNi4yMTUzQzE4LjI4OTMgMTcuNDAyMyAxNy4zNjc5IDE4LjE1MzYgMTUuODczOCAxOC4xNTM2QzE0LjQ0MTkgMTguMTUzNiAxMy41MzcxIDE3LjQ2ODggMTMuNDY2NiAxNi40MDYyTDEzLjQ2MjQgMTYuMzM5OEgxNC42NzAyTDE0LjY3NDMgMTYuMzgxM0MxNC43MiAxNi44Mjk2IDE1LjIwNTYgMTcuMTMyNiAxNS45MDcgMTcuMTMyNkMxNi41NzUyIDE3LjEzMjYgMTcuMDM1OSAxNi44MTMgMTcuMDM1OSAxNi4zNTIzVjE2LjM0ODFDMTcuMDM1OSAxNS45NTM5IDE2Ljc0MTIgMTUuNzMzOSAxNS45OTgzIDE1LjU4MDNMMTUuMzY3NCAxNS40NTE3QzE0LjEyMjMgMTUuMTk4NSAxMy41ODY5IDE0LjYxNzQgMTMuNTg2OSAxMy43MDg1VjEzLjcwNDNDMTMuNTg2OSAxMi41OTIgMTQuNTQxNSAxMS44NTc0IDE1Ljg2OTYgMTEuODU3NEMxNy4yNjgzIDExLjg1NzQgMTguMDkwMSAxMi41OTYyIDE4LjE2ODkgMTMuNTk2NEwxOC4xNzMxIDEzLjY1MDRIMTYuOTk0NEwxNi45ODYxIDEzLjYwMDZDMTYuOTE1NSAxMy4xNzMxIDE2LjUwMDUgMTIuODc0MyAxNS44Njk2IDEyLjg3NDNDMTUuMjUxMiAxMi44Nzg0IDE0Ljg0MDMgMTMuMTYwNiAxNC44NDAzIDEzLjYwODlWMTMuNjEzQzE0Ljg0MDMgMTQuMDAzMiAxNS4xMzA5IDE0LjIzNTYgMTUuODM2NCAxNC4zODA5TDE2LjQ3MTQgMTQuNTA5NUMxNy43MzczIDE0Ljc3MSAxOC4yODkzIDE1LjI3NzMgMTguMjg5MyAxNi4yMTEyVjE2LjIxNTNaXCIsXG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIE1hc3RlckRldGFpbEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJtYXN0ZXItZGV0YWlsXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTcgOS41SDEwTTExLjUgNi41VjE4LjVNNyAxMi41SDEwTTEzIDkuNUgxOE03IDE1LjVIMTBNNS41IDYuNUgxOS41VjE4LjVINS41VjYuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgTWVudUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJtZW51XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTYgNy41SDE5TTYgMTcuNUgxOU02IDEyLjVIMTlcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgTW9iaWxlRGV2aWNlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJtb2JpbGUtZGV2aWNlXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNy41IDYuNUM3LjUgNS4zOTU0MyA4LjM5NTQzIDQuNSA5LjUgNC41SDE1LjVDMTYuNjA0NiA0LjUgMTcuNSA1LjM5NTQzIDE3LjUgNi41VjE4LjVDMTcuNSAxOS42MDQ2IDE2LjYwNDYgMjAuNSAxNS41IDIwLjVIOS41QzguMzk1NDMgMjAuNSA3LjUgMTkuNjA0NiA3LjUgMTguNVY2LjVaXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMy41IDE3LjVDMTMuNSAxOC4wNTIzIDEzLjA1MjMgMTguNSAxMi41IDE4LjVDMTEuOTQ3NyAxOC41IDExLjUgMTguMDUyMyAxMS41IDE3LjVDMTEuNSAxNi45NDc3IDExLjk0NzcgMTYuNSAxMi41IDE2LjVDMTMuMDUyMyAxNi41IDEzLjUgMTYuOTQ3NyAxMy41IDE3LjVaXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBNb29uSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcIm1vb25cIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTkuNjA2NSAxNi4xNzc1QzE4Ljk0MTcgMTYuMzg3IDE4LjIzNCAxNi41IDE3LjUgMTYuNUMxMy42MzQgMTYuNSAxMC41IDEzLjM2NiAxMC41IDkuNUMxMC41IDcuNTQxNjMgMTEuMzA0MiA1Ljc3MTA5IDEyLjYwMDQgNC41MDA2MkMxMi41NjcgNC41MDAyMSAxMi41MzM1IDQuNSAxMi41IDQuNUM4LjA4MTcyIDQuNSA0LjUgOC4wODE3MiA0LjUgMTIuNUM0LjUgMTYuOTE4MyA4LjA4MTcyIDIwLjUgMTIuNSAyMC41QzE1LjU5MjQgMjAuNSAxOC4yNzUgMTguNzQ1NCAxOS42MDY1IDE2LjE3NzVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIE51bWJlckljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwibnVtYmVyXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICAgICAgZDogXCJNMjEuMDE2NSAxNy42MzM2SDMuODM2MzZWMTYuNDMzNkgyMS4wMTY1VjE3LjYzMzZaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTcuMDk4MDggMTMuMzk2N1Y3LjUwOEg1Ljc0MDY2TDMuODM2MzYgOC43ODI0MVYxMC4wOTFMNS42NTI3NyA4Ljg4NDk1SDUuNzQwNjZWMTMuMzk2N0gzLjg0MTI1VjE0LjU1MzlIOC44OTk4NFYxMy4zOTY3SDcuMDk4MDhaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTkuODE3ODEgOS42MzIwMlY5LjY2MTMySDExLjEwNjlWOS42MjcxNEMxMS4xMDY5IDguOTUzMzEgMTEuNTc1NiA4LjQ5NDMyIDEyLjI3MzkgOC40OTQzMkMxMi45NTc1IDguNDk0MzIgMTMuNDAxOCA4Ljg5NDcxIDEzLjQwMTggOS41MDUwN0MxMy40MDE4IDkuOTc4NyAxMy4xNTI4IDEwLjM0OTggMTIuMTkwOSAxMS4zMTE3TDkuODk1OTQgMTMuNTgyMlYxNC41NTM5SDE0Ljg2MThWMTMuMzg2OUgxMS43ODA3VjEzLjI5OUwxMy4xNTc3IDExLjk4NTVDMTQuMzQ5MSAxMC44NDMgMTQuNzU0MyAxMC4xODM4IDE0Ljc1NDMgOS40MTIyOUMxNC43NTQzIDguMTkxNTkgMTMuNzcyOSA3LjM2NjM5IDEyLjMxNzggNy4zNjYzOUMxMC44MzgzIDcuMzY2MzkgOS44MTc4MSA4LjI4NDM2IDkuODE3ODEgOS42MzIwMlpcIixcbiAgICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTcuNjY5NCAxMS40NjMxSDE4LjUwOTJDMTkuMzE5OCAxMS40NjMxIDE5Ljg0MjIgMTEuODY4MyAxOS44NDIyIDEyLjQ5ODJDMTkuODQyMiAxMy4xMTgzIDE5LjMyOTUgMTMuNTEzOSAxOC41MjM5IDEzLjUxMzlDMTcuNzY3IDEzLjUxMzkgMTcuMjU5MiAxMy4xMzMgMTcuMjEwNCAxMi41MzI0SDE1LjkyNjJDMTUuOTg5NyAxMy44NTA4IDE3LjAyNDggMTQuNjk1NSAxOC41NjI5IDE0LjY5NTVDMjAuMTQwMSAxNC42OTU1IDIxLjIxOTIgMTMuODQxIDIxLjIxOTIgMTIuNTkxQzIxLjIxOTIgMTEuNjU4NCAyMC42NTI4IDExLjAzMzQgMTkuNzAwNiAxMC45MjExVjEwLjgzMzJDMjAuNDcyMSAxMC42NzY5IDIwLjk0NTcgMTAuMDY2NiAyMC45NDU3IDkuMjM2NTFDMjAuOTQ1NyA4LjEyMzIzIDE5Ljk3NDEgNy4zNjYzOSAxOC41NDM0IDcuMzY2MzlDMTcuMDU0MSA3LjM2NjM5IDE2LjExMTggOC4xNzY5NCAxNi4wNjI5IDkuNTAwMThIMTcuMjk4M0MxNy4zNDIyIDguODgwMDcgMTcuODA2MSA4LjQ4NDU2IDE4LjQ5OTUgOC40ODQ1NkMxOS4yMDc1IDguNDg0NTYgMTkuNjU2NyA4Ljg1NTY1IDE5LjY1NjcgOS40NDE1OUMxOS42NTY3IDEwLjAzMjQgMTkuMTk3NyAxMC40MTgyIDE4LjQ5NDYgMTAuNDE4MkgxNy42Njk0VjExLjQ2MzFaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIE9rSGFuZEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJvay1oYW5kXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE1Ljk5NTcgMTEuNUMxNC44MTk3IDEwLjkxMiAxMS45OTU3IDkgMTAuNDk1NyA5QzguOTk1NyA5IDUuMTc4MjUgMTEuNzY3NCA2IDEzQzcgMTQuNSA5LjE1MTM0IDExLjcyNTYgMTAuNDk1NyAxMkMxMS44NDAxIDEyLjI3NDQgMTMgMTMuNSAxMyAxNC41QzEzIDE1LjUgMTEuODQwMSAxNi45MzkgMTAuNDk1NyAxNi41QzkuMTUxMzQgMTYuMDYxIDguNTg2NjUgMTQuMzQxNSA3LjQ5NTcgMTRDNi4yMTI3MiAxMy41OTg0IDUuMDU4NDMgMTQuNjE2OCA1LjUgMTUuNUM1Ljk0MTU3IDE2LjM4MzIgNy4xMDY4OCAxNy42MDA2IDguNDk1NyAxOUM5Ljc0MjI5IDIwLjI1NjEgMTEuOTk1NyAyMS41IDE0Ljk5NTcgMjBDMTcuOTk1NyAxOC41IDE4LjUgMTYuMjQ5OCAxOC41IDEzQzE4LjUgMTEuNSAxMy43MzMyIDUuMzY4NzUgMTEuOTk1NyA0LjVDMTAuOTk1NyA0IDEwIDUgMTAuOTk1NyA2LjVDMTEuNjE0IDcuNDMxNDkgMTMuNSA5LjI3NzA1IDE0IDEwLjM3NTFNMTUuNSA4QzE1LjUgOCAxNS4zNzA3IDcuNSAxNC45OTU3IDZDMTQuNDk1NyA0IDE1Ljk5NTcgMy41IDE2LjQ5NTcgNC41QzE3LjEyODEgNS43NjQ5MSAxOC4yODcyIDEwLjkxNDcgMTguNDk1NyAxM1wiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBPbGlzdEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJvbGlzdFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMCA3LjVIMTlNMTAgMTIuNUgxOU0xMCAxNy41SDE5TTUgMTguNUg3LjVMNyAxNy41TDcuNSAxNi41SDVNNSA2LjVINi41VjguNU01IDguNUg2LjVNNi41IDguNUg4TTggMTMuNUg2TDcgMTEuNUg1XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIE92ZXJhZ2VJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcIm92ZXJhZ2VcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xOC41IDExVjYuNUgxNFwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAxLjIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNi41IDE4LjVMOSAxNkwxMiAxM0wxOC41IDYuNU0zIDEzLjVIMjJcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIFBhY2thZ2VJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwicGFja2FnZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMi41IDEzVjIyTTEyLjUgMTNMNC41IDhNMTIuNSAxM0wyMC41IDhNOC41IDUuNUwxNi41IDEwLjVNNC41IDhMMTIuNSAzTDIwLjUgOFYxN0wxMi41IDIyTDQuNSAxN1Y4WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBQYW5lbExlZnRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwicGFuZWwtbGVmdFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMC41IDYuNUgxOS41VjE4LjVIMTAuNU0xMC41IDYuNUg1LjVWMTguNUgxMC41TTEwLjUgNi41VjE4LjVcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgUGFuZWxSaWdodEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJwYW5lbC1yaWdodFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xNC41IDYuNUgxOS41VjE4LjVIMTQuNU0xNC41IDYuNUg1LjVWMTguNUgxNC41TTE0LjUgNi41VjE4LjVcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgUGF1c2VJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInBhdXNlXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTAuNSA3LjVIOC41VjE3LjVIMTAuNVY3LjVaXCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTYuNSA3LjVIMTQuNVYxNy41SDE2LjVWNy41WlwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTEwLjUgNy41SDguNVYxNy41SDEwLjVWNy41WlwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAxLjIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTYuNSA3LjVIMTQuNVYxNy41SDE2LjVWNy41WlwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAxLjIgfSlcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgUGluSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJwaW5cIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk02LjUgMTAuNUM2LjUgNyA5IDQuNSAxMi41IDQuNUMxNiA0LjUgMTguNSA3IDE4LjUgMTAuNUMxOC41IDE0IDE1LjUgMTcuNSAxMi41IDIwLjVDOS41IDE3LjUgNi41IDE0IDYuNSAxMC41WlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTQgMTAuNUMxNCAxMS4zMjg0IDEzLjMyODQgMTIgMTIuNSAxMkMxMS42NzE2IDEyIDExIDExLjMyODQgMTEgMTAuNUMxMSA5LjY3MTU3IDExLjY3MTYgOSAxMi41IDlDMTMuMzI4NCA5IDE0IDkuNjcxNTcgMTQgMTAuNVpcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIFBpblJlbW92ZWRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwicGluLXJlbW92ZWRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNNy4zOTc4NyAxNEM4LjUxMDc1IDE2LjI4OTcgMTAuNTA1NCAxOC41MDU0IDEyLjUgMjAuNUMxNC40OTQ2IDE4LjUwNTQgMTYuNDg5MiAxNi4yODk3IDE3LjYwMjEgMTRNNi41MjAwOSAxMUM2LjUwNjgxIDEwLjgzMzQgNi41IDEwLjY2NjcgNi41IDEwLjVDNi41IDcgOSA0LjUgMTIuNSA0LjVDMTYgNC41IDE4LjUgNyAxOC41IDEwLjVDMTguNSAxMC42NjY3IDE4LjQ5MzIgMTAuODMzNCAxOC40Nzk5IDExTTMgMTIuNUgyMlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBQbGF5SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInBsYXlcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNNy41IDE4LjVWNi41TDE3LjUgMTIuNUw3LjUgMTguNVpcIixcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBQbHVnSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInBsdWdcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTMuMjUgOC41TDE2Ljc1IDVNMTYuMjUgMTEuNUwxOS43NSA4TTkuMjUgMTUuNUw1LjI1IDE5LjVNNy43NSAxNEw5Ljc1IDEyQzguMjUgMTAgOC43NSA5IDkuNzUgOEMxMC4xNSA3LjYgMTEuMjUgNi41IDExLjI1IDYuNUwxOC4yNSAxMy41QzE4LjI1IDEzLjUgMTcuMzgyNSAxNC4zNjc1IDE2Ljc1IDE1QzE1Ljc1IDE2IDE0Ljc1IDE2LjUgMTIuNzUgMTVMMTAuNzUgMTdMNy43NSAxNFpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgUHJlc2VudGF0aW9uSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInByZXNlbnRhdGlvblwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMC41IDE4SDUuNVY4LjVIMTkuNVYxOEgxNC41TTEwLjUgMThMOSAyMk0xMC41IDE4SDE0LjVNMTQuNSAxOEwxNiAyMk00LjUgOC41SDIwLjVWNi41SDQuNVY4LjVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFByb2plY3RzSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInByb2plY3RzXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTIxIDE3LjVIMTRNMTcuNSAxNFYyMU00LjUgMTQuNUgxMC41VjIwLjVINC41VjE0LjVaTTE0LjUgNC41SDIwLjVWMTAuNUgxNC41VjQuNVpNNC41IDQuNUgxMC41VjEwLjVINC41VjQuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgUHVibGlzaEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwicHVibGlzaFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTQuOTk5OTcgNS41MDAwNkgyME0xMi41IDkuMDAwMDVWMjBcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTcuNSAxNEwxMi41IDkuMDAwMDZMMTcuNSAxNFwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgUmVhZE9ubHlJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwicmVhZC1vbmx5XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE1IDdMMTggMTBNMTAgMTJMNyAxNUw2IDE5TDEwIDE4TDEzIDE1TTEyIDEwTDE3IDVMMjAgOEwxNSAxM00xOSAxOUw1IDVcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgUmVkb0ljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwicmVkb1wiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTE5IDkuNUwxMCA5LjVDNy41MTQ3MiA5LjUgNS41IDExLjUxNDcgNS41IDE0QzUuNSAxNi40ODUzIDcuNTE0NzIgMTguNSAxMCAxOC41SDE5XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNSAxMy41TDE5IDkuNUwxNSA1LjVcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIFJlZnJlc2hJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInJlZnJlc2hcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xOS41IDEzLjVDMTkuNSAxNy4zNjYgMTYuMzY2IDIwLjUgMTIuNSAyMC41QzguNjM0MDEgMjAuNSA1LjUgMTcuMzY2IDUuNSAxMy41QzUuNSA5LjYzNDAxIDguNjM0MDEgNi41IDEyLjUgNi41SDE1LjVcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTExLjUgMTAuNUwxNS41IDYuNUwxMS41IDIuNVwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgUmVtb3ZlQ2lyY2xlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInJlbW92ZS1jaXJjbGVcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNOCAxMi40SDE3TTIwLjUgMTIuNUMyMC41IDE2LjkxODMgMTYuOTE4MyAyMC41IDEyLjUgMjAuNUM4LjA4MTcyIDIwLjUgNC41IDE2LjkxODMgNC41IDEyLjVDNC41IDguMDgxNzIgOC4wODE3MiA0LjUgMTIuNSA0LjVDMTYuOTE4MyA0LjUgMjAuNSA4LjA4MTcyIDIwLjUgMTIuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgUmVtb3ZlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInJlbW92ZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk01IDEyLjVIMjBcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pXG4gICAgfVxuICApO1xufSksIFJlc2V0SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInJlc2V0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTQuNTYxODkgMTMuNUw0LjE0Mjg1IDEzLjkyOTRDNC4yNTY3NiAxNC4wNDA2IDQuNDEwMTcgMTQuMTAxOSA0LjU2OTMyIDE0LjFDNC43Mjg0NyAxNC4wOTggNC44ODAzMiAxNC4wMzI5IDQuOTkxNDQgMTMuOTE4OUw0LjU2MTg5IDEzLjVaTTkuOTI0MjcgMTUuOTI0M0wxNS45MjQzIDkuOTI0MjdMMTUuMDc1NyA5LjA3NTc0TDkuMDc1NzQgMTUuMDc1N0w5LjkyNDI3IDE1LjkyNDNaTTkuMDc1NzQgOS45MjQyNkwxNS4wNzU3IDE1LjkyNDNMMTUuOTI0MyAxNS4wNzU3TDkuOTI0MjYgOS4wNzU3NEw5LjA3NTc0IDkuOTI0MjZaTTE5LjkgMTIuNUMxOS45IDE2LjU4NjkgMTYuNTg2OSAxOS45IDEyLjUgMTkuOVYyMS4xQzE3LjI0OTYgMjEuMSAyMS4xIDE3LjI0OTYgMjEuMSAxMi41SDE5LjlaTTUuMSAxMi41QzUuMSA4LjQxMzA5IDguNDEzMDkgNS4xIDEyLjUgNS4xVjMuOUM3Ljc1MDM1IDMuOSAzLjkgNy43NTAzNSAzLjkgMTIuNUg1LjFaTTEyLjUgNS4xQzE2LjU4NjkgNS4xIDE5LjkgOC40MTMwOSAxOS45IDEyLjVIMjEuMUMyMS4xIDcuNzUwMzUgMTcuMjQ5NiAzLjkgMTIuNSAzLjlWNS4xWk01LjE1NzI4IDEzLjQyNThDNS4xMTk1IDEzLjEyMjcgNS4xIDEyLjgxMzggNS4xIDEyLjVIMy45QzMuOSAxMi44NjM1IDMuOTIyNTkgMTMuMjIyMSAzLjk2NjUgMTMuNTc0Mkw1LjE1NzI4IDEzLjQyNThaTTEyLjUgMTkuOUM5Ljk1NzEgMTkuOSA3LjcxMzQ3IDE4LjYxNzkgNi4zODA0OCAxNi42NjIxTDUuMzg4ODggMTcuMzM3OUM2LjkzNTg0IDE5LjYwNzYgOS41NDM1NSAyMS4xIDEyLjUgMjEuMVYxOS45Wk00Ljk5MTQ0IDEzLjkxODlMNy40Mjk1NSAxMS40MTg5TDYuNTcwNDUgMTAuNTgxMUw0LjEzMjM1IDEzLjA4MTFMNC45OTE0NCAxMy45MTg5Wk00Ljk4MDk0IDEzLjA3MDZMMi40MTkwNSAxMC41NzA2TDEuNTgwOTUgMTEuNDI5NEw0LjE0Mjg1IDEzLjkyOTRMNC45ODA5NCAxMy4wNzA2WlwiLFxuICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBSZXN0b3JlSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJyZXN0b3JlXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNS44ODQ2OCAxN0M3LjMyNDY2IDE5LjExMjggOS43NTAzMyAyMC41IDEyLjUgMjAuNUMxNi45MTgzIDIwLjUgMjAuNSAxNi45MTgzIDIwLjUgMTIuNUMyMC41IDguMDgxNzIgMTYuOTE4MyA0LjUgMTIuNSA0LjVDOC4wODE3MiA0LjUgNC41IDguMDgxNzIgNC41IDEyLjVWMTMuNU0xMi41IDhWMTIuNUwxNS41IDE1LjVcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTcgMTFMNC41IDEzLjVMMiAxMVwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgUmV0cmlldmVJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInJldHJpZXZlXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTYgMTRMMTIuNSAxMC41TDkgMTRNNS41IDcuNUgxOS41XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMi41IDEwLjVMMTIuNSAxNy41TTE5LjUgNy41VjE5LjVINS41VjcuNUw3LjUgNS41SDE3LjVMMTkuNSA3LjVaXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBSZXRyeUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwicmV0cnlcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xOSA5LjVMMTAgOS41QzcuNTE0NzIgOS41IDUuNSAxMS41MTQ3IDUuNSAxNEM1LjUgMTYuNDg1MyA3LjUxNDcyIDE4LjUgMTAgMTguNUgxOVwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTUgMTMuNUwxOSA5LjVMMTUgNS41XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBSZXZlcnRJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInJldmVydFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTYgOS41TDE1IDkuNUMxNy40ODUzIDkuNSAxOS41IDExLjUxNDcgMTkuNSAxNEMxOS41IDE2LjQ4NTMgMTcuNDg1MyAxOC41IDE1IDE4LjVINlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTAgMTMuNUw2IDkuNUwxMCA1LjVcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIFJvYm90SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInJvYm90XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTEyLjUgMTUuNVYxNy41TTEyLjUgOC41VjYuNU0xMi41IDYuNUMxMy4zMjg0IDYuNSAxNCA1LjgyODQzIDE0IDVDMTQgNC4xNzE1NyAxMy4zMjg0IDMuNSAxMi41IDMuNUMxMS42NzE2IDMuNSAxMSA0LjE3MTU3IDExIDVDMTEgNS44Mjg0MyAxMS42NzE2IDYuNSAxMi41IDYuNVpNMjAuNSAyMC41VjE5LjVDMjAuNSAxOC4zOTU0IDE5LjYwNDYgMTcuNSAxOC41IDE3LjVINi41QzUuMzk1NDMgMTcuNSA0LjUgMTguMzk1NCA0LjUgMTkuNVYyMC41SDIwLjVaTTExLjUgMTJDMTEuNSAxMi41NTIzIDExLjA1MjMgMTMgMTAuNSAxM0M5Ljk0NzcyIDEzIDkuNSAxMi41NTIzIDkuNSAxMkM5LjUgMTEuNDQ3NyA5Ljk0NzcyIDExIDEwLjUgMTFDMTEuMDUyMyAxMSAxMS41IDExLjQ0NzcgMTEuNSAxMlpNMTUuNSAxMkMxNS41IDEyLjU1MjMgMTUuMDUyMyAxMyAxNC41IDEzQzEzLjk0NzcgMTMgMTMuNSAxMi41NTIzIDEzLjUgMTJDMTMuNSAxMS40NDc3IDEzLjk0NzcgMTEgMTQuNSAxMUMxNS4wNTIzIDExIDE1LjUgMTEuNDQ3NyAxNS41IDEyWk04LjUgMTUuNUgxNi41QzE3LjYwNDYgMTUuNSAxOC41IDE0LjYwNDYgMTguNSAxMy41VjEwLjVDMTguNSA5LjM5NTQzIDE3LjYwNDYgOC41IDE2LjUgOC41SDguNUM3LjM5NTQzIDguNSA2LjUgOS4zOTU0MyA2LjUgMTAuNVYxMy41QzYuNSAxNC42MDQ2IDcuMzk1NDMgMTUuNSA4LjUgMTUuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgUm9ja2V0SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInJvY2tldFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMi41IDIwLjVMMTUuNSAxNE0xMSA5LjQ5OTk5TDQuNSAxMi41TTkgMTRDOSAxNCA3LjU0Njg4IDE0Ljk1MzEgNi41IDE2QzUuNSAxNyA0LjUgMjAuNSA0LjUgMjAuNUM0LjUgMjAuNSA4IDE5LjUgOSAxOC41QzEwIDE3LjUgMTEgMTYgMTEgMTZNOSAxNEM5IDE0IDEwLjEgOS45IDEyLjUgNy41QzE1LjUgNC41IDIwLjUgNC41IDIwLjUgNC41QzIwLjUgNC41IDIwLjUgOS41IDE3LjUgMTIuNUMxNS43NDkyIDE0LjI1MDggMTEgMTYgMTEgMTZMOSAxNFpNMTYuNSA5Ljk5OTk5QzE2LjUgMTAuODI4NCAxNS44Mjg0IDExLjUgMTUgMTEuNUMxNC4xNzE2IDExLjUgMTMuNSAxMC44Mjg0IDEzLjUgOS45OTk5OUMxMy41IDkuMTcxNTcgMTQuMTcxNiA4LjQ5OTk5IDE1IDguNDk5OTlDMTUuODI4NCA4LjQ5OTk5IDE2LjUgOS4xNzE1NyAxNi41IDkuOTk5OTlaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFNjaGVtYUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJzY2hlbWFcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTIuNSA5LjVWMTIuNU0xMi41IDEyLjVIOC41VjE1LjVNMTIuNSAxMi41SDE2LjVWMTUuNU0xMC41IDUuNUgxNC41VjkuNUgxMC41VjUuNVpNNi41IDE1LjVIMTAuNVYxOS41SDYuNVYxNS41Wk0xNC41IDE1LjVIMTguNVYxOS41SDE0LjVWMTUuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgU2VhcmNoSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInNlYXJjaFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xNS4wMzU1IDE1LjAzNTVMMjAgMjBNMTYuNSAxMS41QzE2LjUgMTQuMjYxNCAxNC4yNjE0IDE2LjUgMTEuNSAxNi41QzguNzM4NTggMTYuNSA2LjUgMTQuMjYxNCA2LjUgMTEuNUM2LjUgOC43Mzg1OCA4LjczODU4IDYuNSAxMS41IDYuNUMxNC4yNjE0IDYuNSAxNi41IDguNzM4NTggMTYuNSAxMS41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBTZWxlY3RJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwic2VsZWN0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE2LjUgMTUuNUwxMi41IDE5LjVMOC41IDE1LjVNOC41IDkuNUwxMi41IDUuNUwxNi41IDkuNVwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBTaGFyZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwic2hhcmVcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNSAxMC41SDE4LjVWMTkuNUg2LjVMNi41IDEwLjVIMTBNMTIuNSAxNlYzLjVcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTkgN0wxMi41IDMuNUwxNiA3XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IDEuMiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBTb3J0SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInNvcnRcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNOC41IDE4LjVWNk0xNi41IDE5VjYuNU0xMiAxNUw4LjUgMTguNUw1IDE1TTEzIDEwTDE2LjUgNi41TDIwIDEwXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFNwYXJrbGVJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwic3BhcmtsZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMC41IDEwLjVDOC41IDEyLjUgNSAxMi41IDUgMTIuNUM1IDEyLjUgOC41IDEyLjUgMTAuNSAxNC41QzEyLjUgMTYuNSAxMi41IDIwIDEyLjUgMjBDMTIuNSAyMCAxMi41IDE2LjUgMTQuNSAxNC41QzE2LjUgMTIuNSAyMCAxMi41IDIwIDEyLjVDMjAgMTIuNSAxNi41IDEyLjUgMTQuNSAxMC41QzEyLjUgOC41IDEyLjUgNSAxMi41IDVDMTIuNSA1IDEyLjUgOC41IDEwLjUgMTAuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgU3BhcmtsZXNJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwic3BhcmtsZXNcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTEgMy41VjVNMTEgNVY2LjVNMTEgNUgxMi41TTExIDVIOS41TTkuNSAxNUM5LjUgMTUgMTIuMjMwOCAxNC43NjkyIDEzLjUgMTMuNUMxNC43NjkyIDEyLjIzMDggMTUgOS41IDE1IDkuNUMxNSA5LjUgMTUuMjMwOCAxMi4yMzA4IDE2LjUgMTMuNUMxNy43NjkyIDE0Ljc2OTIgMjAuNSAxNSAyMC41IDE1QzIwLjUgMTUgMTcuNzY5MiAxNS4yMzA4IDE2LjUgMTYuNUMxNS4yMzA4IDE3Ljc2OTIgMTUgMjAuNSAxNSAyMC41QzE1IDIwLjUgMTQuNzY5MiAxNy43NjkyIDEzLjUgMTYuNUMxMi4yMzA4IDE1LjIzMDggOS41IDE1IDkuNSAxNVpNNC41IDEwQzQuNSAxMCA1LjcyMzA4IDkuODc2OTIgNi4zIDkuM0M2Ljg3NjkyIDguNzIzMDggNyA3LjUgNyA3LjVDNyA3LjUgNy4xMjMwOCA4LjcyMzA4IDcuNyA5LjNDOC4yNzY5MiA5Ljg3NjkyIDkuNSAxMCA5LjUgMTBDOS41IDEwIDguMjc2OTIgMTAuMTIzMSA3LjcgMTAuN0M3LjEyMzA4IDExLjI3NjkgNyAxMi41IDcgMTIuNUM3IDEyLjUgNi44NzY5MiAxMS4yNzY5IDYuMyAxMC43QzUuNzIzMDggMTAuMTIzMSA0LjUgMTAgNC41IDEwWlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgU3Bpbm5lckljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJzcGlubmVyXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTQuNSAxMi41QzQuNSAxNi45MTgzIDguMDgxNzIgMjAuNSAxMi41IDIwLjVDMTYuOTE4MyAyMC41IDIwLjUgMTYuOTE4MyAyMC41IDEyLjVDMjAuNSA4LjA4MTcyIDE2LjkxODMgNC41IDEyLjUgNC41XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFNwbGl0SG9yaXpvbnRhbEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJzcGxpdC1ob3Jpem9udGFsXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE5LjUgMTAuNVYyMC41SDUuNVYxMC41TTE5LjUgMTAuNUg1LjVNMTkuNSAxMC41VjQuNUg1LjVWMTAuNU0xMi41IDEzVjE1LjVNMTIuNSAxOFYxNS41TTEyLjUgMTUuNUgxNU0xMi41IDE1LjVIMTBcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgU3BsaXRWZXJ0aWNhbEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJzcGxpdC12ZXJ0aWNhbFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMC41IDUuNVYxOS41TTEzIDEyLjVIMTUuNU0xOCAxMi41SDE1LjVNMTUuNSAxMi41VjE1TTE1LjUgMTIuNVYxME00LjUgNS41SDIwLjVWMTkuNUg0LjVWNS41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBTcXVhcmVJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwic3F1YXJlXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInJlY3RcIixcbiAgICAgICAge1xuICAgICAgICAgIHg6IDUuNSxcbiAgICAgICAgICB5OiA1LjUsXG4gICAgICAgICAgd2lkdGg6IDE0LFxuICAgICAgICAgIGhlaWdodDogMTQsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFN0YWNrQ29tcGFjdEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJzdGFjay1jb21wYWN0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTUuNSAxNS41VjE4LjVIMTkuNVYxNS41TTUuNSAxNS41SDE5LjVNNS41IDE1LjVWOS41TTE5LjUgMTUuNVY5LjVNNS41IDkuNVY2LjVIMTkuNVY5LjVNNS41IDkuNUgxOS41TTUuNSAxMi41SDE5LjVcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgU3RhY2tJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwic3RhY2tcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNNS41IDEyLjVIMTkuNU01LjUgMTguNUgxOS41VjYuNUg1LjVWMTguNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgU3Rhckljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJzdGFyXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTEzIDRMMTUuMjc0NyA5Ljg2OTFMMjEuNTU5NSAxMC4yMTg4TDE2LjY4MDYgMTQuMTk1OUwxOC4yOTAxIDIwLjI4MTJMMTMgMTYuODdMNy43MDk5MyAyMC4yODEyTDkuMzE5NDEgMTQuMTk1OUw0LjQ0MDQ5IDEwLjIxODhMMTAuNzI1MyA5Ljg2OTFMMTMgNFpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgU3RvcEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJzdG9wXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInJlY3RcIixcbiAgICAgICAge1xuICAgICAgICAgIHg6IDcuNSxcbiAgICAgICAgICB5OiA3LjUsXG4gICAgICAgICAgd2lkdGg6IDEwLFxuICAgICAgICAgIGhlaWdodDogMTAsXG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgU3RyaWtldGhyb3VnaEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwic3RyaWtldGhyb3VnaFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTEyLjU2NTYgNy43MzQzOEMxMS4wNjU2IDcuNzM0MzggMTAuMDczNCA4LjQ4NDM4IDEwLjA3MzQgOS42MjVDMTAuMDczNCAxMC4yMzE3IDEwLjM2NDkgMTAuNjYxMyAxMS4wNTE5IDExSDguOTAzNThDOC43MTcwMyAxMC42MTk5IDguNjI4MTMgMTAuMTgwMSA4LjYyODEzIDkuNjcxODhDOC42MjgxMyA3Ljc1NzgxIDEwLjIyOTcgNi40NjA5NCAxMi42MTI1IDYuNDYwOTRDMTQuNzkyMiA2LjQ2MDk0IDE2LjQxNzIgNy43NTc4MSAxNi41MzQ0IDkuNTc4MTJIMTUuMTIwM0MxNC45MjUgOC40MjE4OCAxMy45NzE5IDcuNzM0MzggMTIuNTY1NiA3LjczNDM4WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMi40ODc1IDE4LjI2NTZDMTAuMDk2OSAxOC4yNjU2IDguNDQ4NDQgMTcgOC4zIDE1LjA1NDdIOS43MjE4OEM5Ljg5Mzc1IDE2LjIzNDQgMTEuMDE4OCAxNi45ODQ0IDEyLjYyMDMgMTYuOTg0NEMxNC4xMzU5IDE2Ljk4NDQgMTUuMjUzMSAxNi4xNjQxIDE1LjI1MzEgMTUuMDQ2OUMxNS4yNTMxIDE0LjYzNzUgMTUuMTI1NSAxNC4yOTIgMTQuODU4OSAxNEgxNi41OTEyQzE2LjY2MzggMTQuMjY2IDE2LjY5ODQgMTQuNTU2NiAxNi42OTg0IDE0Ljg3NUMxNi42OTg0IDE2Ljk0NTMgMTUuMDY1NiAxOC4yNjU2IDEyLjQ4NzUgMTguMjY1NlpcIixcbiAgICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNNyAxMy4xSDE4VjExLjlIN1YxMy4xWlwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIFN0cmluZ0ljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwic3RyaW5nXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTEuNjc0OCAxNS41MjI3SDEzLjE4NTVMOS44Nzg0MiA2LjM2MzA0SDguMzQ4NjNMNS4wNDE1IDE1LjUyMjdINi41MDE0Nkw3LjM0NTcgMTMuMDkxNkgxMC44MzY5TDExLjY3NDggMTUuNTIyN1pNOS4wNDA1MyA4LjAyNjEySDkuMTQ4NDRMMTAuNDc1MSAxMS44OTgySDcuNzA3NTJMOS4wNDA1MyA4LjAyNjEyWlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNi44MTAxIDE0LjQ4OEMxNi4wNjc0IDE0LjQ4OCAxNS41Mjc4IDE0LjEyNjIgMTUuNTI3OCAxMy41MDQyQzE1LjUyNzggMTIuODk0OCAxNS45NTk1IDEyLjU3MSAxNi45MTE2IDEyLjUwNzZMMTguNjAwMSAxMi4zOTk3VjEyLjk3NzNDMTguNjAwMSAxMy44MzQyIDE3LjgzODQgMTQuNDg4IDE2LjgxMDEgMTQuNDg4Wk0xNi40NjA5IDE1LjYzN0MxNy4zNjg3IDE1LjYzNyAxOC4xMjQgMTUuMjQzNCAxOC41MzY2IDE0LjU1MTVIMTguNjQ0NVYxNS41MjI3SDE5Ljk1ODVWMTAuOEMxOS45NTg1IDkuMzQwMDkgMTguOTgxIDguNDc2ODEgMTcuMjQ4IDguNDc2ODFDMTUuNjgwMiA4LjQ3NjgxIDE0LjU2MyA5LjIzODUzIDE0LjQyMzMgMTAuNDI1NUgxNS43NDM3QzE1Ljg5NiA5LjkzNjc3IDE2LjQyMjkgOS42NTc0NyAxNy4xODQ2IDkuNjU3NDdDMTguMTE3NyA5LjY1NzQ3IDE4LjYwMDEgMTAuMDcwMSAxOC42MDAxIDEwLjhWMTEuMzk2N0wxNi43Mjc1IDExLjUwNDZDMTUuMDgzNSAxMS42MDYyIDE0LjE1NjcgMTIuMzIzNSAxNC4xNTY3IDEzLjU2NzZDMTQuMTU2NyAxNC44MzA4IDE1LjEyNzkgMTUuNjM3IDE2LjQ2MDkgMTUuNjM3WlwiLFxuICAgICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgICBkOiBcIk0xOS45NTg1IDE4LjYzN0w1LjA0MTUgMTguNjM3VjE3LjQzN0wxOS45NTg1IDE3LjQzN1YxOC42MzdaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIFN1bkljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJzdW5cIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTkgMTIuNUgyMk0zIDEyLjVINk0xMi41IDZWM00xMi41IDIyVjE5TTE3LjM4OTEgNy42MTA5MUwxOS41MTA0IDUuNDg5NTlNNS40ODk1OSAxOS41MTA0TDcuNjEwOTEgMTcuMzg5MU03LjYxMDkxIDcuNjEwOTFMNS40ODk1OSA1LjQ4OTU5TTE5LjUxMDQgMTkuNTEwNEwxNy4zODkxIDE3LjM4OTFNMTYgMTIuNUMxNiAxNC40MzMgMTQuNDMzIDE2IDEyLjUgMTZDMTAuNTY3IDE2IDkgMTQuNDMzIDkgMTIuNUM5IDEwLjU2NyAxMC41NjcgOSAxMi41IDlDMTQuNDMzIDkgMTYgMTAuNTY3IDE2IDEyLjVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFN5bmNJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInN5bmNcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMy41IDQuNUgxMi41QzguMDgxNzIgNC41IDQuNSA4LjA4MTcyIDQuNSAxMi41QzQuNSAxNS42NjMxIDYuMzM1NzYgMTguMzk3NSA5IDE5LjY5NThNMTEuNSAyMC41SDEyLjVDMTYuOTE4MyAyMC41IDIwLjUgMTYuOTE4MyAyMC41IDEyLjVDMjAuNSA5LjMzNjg4IDE4LjY2NDIgNi42MDI1MyAxNiA1LjMwNDIzXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xNCAxNy41NjE5TDExLjUgMjAuNUwxNC41IDIzLjA2MTlNMTEgNy40MzgxMUwxMy41IDQuNTAwMDFMMTAuNSAxLjkzODExXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBUYWJsZXREZXZpY2VJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInRhYmxldC1kZXZpY2VcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk01LjUgNS41QzUuNSA0Ljk0NzcyIDUuOTQ3NzIgNC41IDYuNSA0LjVIMTguNUMxOS4wNTIzIDQuNSAxOS41IDQuOTQ3NzIgMTkuNSA1LjVWMTkuNUMxOS41IDIwLjA1MjMgMTkuMDUyMyAyMC41IDE4LjUgMjAuNUg2LjVDNS45NDc3MiAyMC41IDUuNSAyMC4wNTIzIDUuNSAxOS41VjUuNVpcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTEzIDE4QzEzIDE4LjI3NjEgMTIuNzc2MSAxOC41IDEyLjUgMTguNUMxMi4yMjM5IDE4LjUgMTIgMTguMjc2MSAxMiAxOEMxMiAxNy43MjM5IDEyLjIyMzkgMTcuNSAxMi41IDE3LjVDMTIuNzc2MSAxNy41IDEzIDE3LjcyMzkgMTMgMThaXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBUYWdJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInRhZ1wiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTEyLjUgMjBMNSAyMEw1IDEyLjVMMTIuNSA1TDIwIDEyLjVMMTIuNSAyMFpcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTExIDE1LjVDMTEgMTYuMzI4NCAxMC4zMjg0IDE3IDkuNSAxN0M4LjY3MTU3IDE3IDggMTYuMzI4NCA4IDE1LjVDOCAxNC42NzE2IDguNjcxNTcgMTQgOS41IDE0QzEwLjMyODQgMTQgMTEgMTQuNjcxNiAxMSAxNS41WlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgVGFnc0ljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJ0YWdzXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTEyLjE1NjIgNy45MzE3OUwxMy45NzE3IDYuMTE2MzNMMjAuMzU1MyAxMi41TDEzLjk3MTcgMTguODgzNkwxMC42ODU1IDE4Ljg4MzZNMTEuMDI4MyAxOC44ODM2TDE3LjQxMTkgMTIuNUwxMS4wMjgzIDYuMTE2MzNMNC42NDQ2MiAxMi41TDQuNjQ0NjIgMTguODgzNkwxMS4wMjgzIDE4Ljg4MzZaTTkuNzUxNTMgMTUuMDUzNEM5Ljc1MTUzIDE1Ljc1ODUgOS4xNzk5MiAxNi4zMzAyIDguNDc0ODEgMTYuMzMwMkM3Ljc2OTY5IDE2LjMzMDIgNy4xOTgwOCAxNS43NTg1IDcuMTk4MDggMTUuMDUzNEM3LjE5ODA4IDE0LjM0ODMgNy43Njk2OSAxMy43NzY3IDguNDc0ODEgMTMuNzc2N0M5LjE3OTkyIDEzLjc3NjcgOS43NTE1MyAxNC4zNDgzIDkuNzUxNTMgMTUuMDUzNFpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgVGFza0ljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwidGFza1wiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTQuODgyODEgMTAuNzVWMTkuNzVIMjAuODgyOFYxMC43NU00Ljg4MjgxIDEwLjc1VjUuNzVIMjAuODgyOFYxMC43NU00Ljg4MjgxIDEwLjc1SDEyLjg4MjhIMjAuODgyOE0xNy44ODI4IDguMjVWMy4yNU03Ljg4MjgxIDguMjVWMy4yNVwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTAuMDgzIDE0LjczNThMMTIuMDgzIDE2LjczNThMMTUuNjgzIDEzLjE3NThcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIFRlcm1pbmFsSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInRlcm1pbmFsXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTguNSA5LjVMMTEuNSAxMi41TDguNSAxNS41TTEzIDE1LjVIMTdNNS41IDYuNUgxOS41VjE4LjVINS41VjYuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgVGV4dEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJ0ZXh0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTcuNSA5VjYuNUgxNy41VjlNMTIuNSAxOC41VjYuNU0xMCAxOC41SDE1XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFRoTGFyZ2VJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwidGgtbGFyZ2VcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTIuNSA2LjVWMTIuNU0xMi41IDEyLjVWMTguNU0xMi41IDEyLjVIMjAuNU0xMi41IDEyLjVINC41TTQuNSA2LjVIMjAuNVYxOC41SDQuNVY2LjVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFRoTGlzdEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJ0aC1saXN0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTkuNSA2LjVWMTAuNU05LjUgMTAuNVYxNC41TTkuNSAxMC41SDIwLjVNOS41IDEwLjVINC41TTkuNSAxNC41VjE4LjVNOS41IDE0LjVIMjAuNU05LjUgMTQuNUg0LjVNNC41IDYuNUgyMC41VjE4LjVINC41VjYuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgVGllcnNJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwidGllcnNcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTYuNSAxNC41TDIwLjUgMTYuNUwxMi41IDIwLjVMNC41IDE2LjVMOC41IDE0LjVNMTYuNSAxMC41TDIwLjUgMTIuNUwxMi41IDE2LjVMNC41IDEyLjVMOC41IDEwLjVNMTIuNSAxMi41TDIwLjUgOC41TDEyLjUgNC41TDQuNSA4LjVMMTIuNSAxMi41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBUb2dnbGVBcnJvd1JpZ2h0SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInRvZ2dsZS1hcnJvdy1yaWdodFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMCAxNi41VjguNUwxNiAxMi41TDEwIDE2LjVaXCIsXG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFRva2VuSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInRva2VuXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE3LjU3MTEgMTIuNUMxNy41NzExIDE1LjI2MTQgMTUuMzMyNSAxNy41IDEyLjU3MTEgMTcuNU03LjU3MTA3IDEyLjVDNy41NzEwNyA5LjczODU4IDkuODA5NjQgNy41IDEyLjU3MTEgNy41TTIwLjUgMTIuNUMyMC41IDE2LjkxODMgMTYuOTE4MyAyMC41IDEyLjUgMjAuNUM4LjA4MTcyIDIwLjUgNC41IDE2LjkxODMgNC41IDEyLjVDNC41IDguMDgxNzIgOC4wODE3MiA0LjUgMTIuNSA0LjVDMTYuOTE4MyA0LjUgMjAuNSA4LjA4MTcyIDIwLjUgMTIuNVpcIixcbiAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgVHJhbnNmZXJJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInRyYW5zZmVyXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTkuNSAxNi41SDZNNS41IDguNUwxOSA4LjVcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTE2IDEzTDE5LjUgMTYuNUwxNiAyME05IDEyTDUuNSA4LjVMOSA1XCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBUcmFuc2xhdGVJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwidHJhbnNsYXRlXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgZDogXCJNOS40IDUuNEg0VjYuNkgxMy4yMTg5QzEzLjE2MTIgNi43ODQ3OCAxMy4wODk1IDYuOTk1NzggMTMuMDAyNSA3LjIyMjExQzEyLjcwMzIgOC4wMDAzMSAxMi4yNDAyIDguOTExMjUgMTEuNTc1NyA5LjU3NTc0TDEwIDExLjE1MTVMOS40MjQyNiAxMC41NzU3QzguNzIxMDIgOS44NzI1IDguMjUyOTcgOS4xNjk4NyA3Ljk2MTk5IDguNjQ2MTFDNy44MTY2OCA4LjM4NDU1IDcuNzE2MTcgOC4xNjg3NCA3LjY1MzA1IDguMDIxNDZDNy42MjE1MSA3Ljk0Nzg3IDcuNTk5MzcgNy44OTE1NCA3LjU4NTcgNy44NTUzNEM3LjU3ODg2IDcuODM3MjUgNy41NzQxNSA3LjgyNDIgNy41NzE0NCA3LjgxNjU3TDcuNTY4ODYgNy44MDkyMkM3LjU2ODg2IDcuODA5MjIgNy41NjkyMSA3LjgxMDI2IDcgOEM2LjQzMDc5IDguMTg5NzQgNi40MzA5MSA4LjE5MDA5IDYuNDMwOTEgOC4xOTAwOUw2LjQzMTMzIDguMTkxMzVMNi40MzIwNiA4LjE5MzUxTDYuNDM0MSA4LjE5OTQ4TDYuNDQwNTIgOC4yMTc4NkM2LjQ0NTg3IDguMjMyOTIgNi40NTMzNiA4LjI1MzU3IDYuNDYzMTMgOC4yNzk0MkM2LjQ4MjY2IDguMzMxMTIgNi41MTEzIDguNDAzNjkgNi41NTAwOCA4LjQ5NDE2QzYuNjI3NTggOC42NzUwMSA2Ljc0NTgyIDguOTI3OTUgNi45MTMwMSA5LjIyODg5QzcuMjQ3MDMgOS44MzAxMyA3Ljc3ODk4IDEwLjYyNzUgOC41NzU3NCAxMS40MjQzTDkuMTUxNDcgMTJMNC41Nzk2NCAxNi41NzE4TDQuNTc2NTUgMTYuNTc0OUw0LjU3NTc3IDE2LjU3NTdMNS40MjQzIDE3LjQyNDJMNS40MjY4OCAxNy40MjE2TDEwLjAzNjggMTIuODExN0wxMi42MTU5IDE0Ljk2MDlMMTMuMzg0MSAxNC4wMzkxTDEwLjg4ODggMTEuOTU5N0wxMi40MjQzIDEwLjQyNDNDMTMuMjU5OCA5LjU4ODc1IDEzLjc5NjggOC40OTk2OSAxNC4xMjI1IDcuNjUyODlDMTQuMjgxOCA3LjIzODYzIDE0LjM5NSA2Ljg3MDcyIDE0LjQ2OTYgNi42SDE2VjUuNEgxMC42VjRIOS40VjUuNFpNMTcuNDQwNSAxMEwyMS41NTMgMTkuNzY3MkgyMC4yNTA5TDE5LjEyNzkgMTcuMUgxNC44NzIxTDEzLjc0OTEgMTkuNzY3MkgxMi40NDdMMTYuNTU5NSAxMEgxNy40NDA1Wk0xNS4zNzczIDE1LjlIMTguNjIyN0wxNyAxMi4wNDYyTDE1LjM3NzMgMTUuOVpcIixcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgVHJhc2hJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwidHJhc2hcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNNSA2LjVIMjBNMTAgNi41VjQuNUMxMCAzLjk0NzcyIDEwLjQ0NzcgMy41IDExIDMuNUgxNEMxNC41NTIzIDMuNSAxNSAzLjk0NzcyIDE1IDQuNVY2LjVNMTIuNSA5VjE3TTE1LjUgOUwxNSAxN005LjUgOUwxMCAxN00xOC41IDYuNUwxNy41NzEgMTguNTc2N0MxNy41MzA5IDE5LjA5NzcgMTcuMDk2NSAxOS41IDE2LjU3NCAxOS41SDguNDI2MDNDNy45MDM0OSAxOS41IDcuNDY5MDUgMTkuMDk3NyA3LjQyODk4IDE4LjU3NjdMNi41IDYuNUgxOC41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBUcmVuZFVwd2FyZEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwidHJlbmQtdXB3YXJkXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNC41IDE4LjVMMTEuNSAxMC41TDEzLjUgMTQuNUwyMC41IDYuNVwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMjAuNSAxMVY2LjVIMTZcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMS4yLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIFRyaWFuZ2xlT3V0bGluZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJ0cmlhbmdsZS1vdXRsaW5lXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTIwLjUgMTguNUg0LjVMMTIuNSA1LjVMMjAuNSAxOC41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBUcm9sbGV5SWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInRyb2xsZXlcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNOCAxNy41TDUuODE3NjMgNi4yNjc3MkM1LjcxMDEzIDUuODE3NTcgNS4zMDc3OSA1LjUgNC44NDQ5OCA1LjVIM004IDE3LjVIMTdNOCAxNy41QzguODI4NDMgMTcuNSA5LjUgMTguMTcxNiA5LjUgMTlDOS41IDE5LjgyODQgOC44Mjg0MyAyMC41IDggMjAuNUM3LjE3MTU3IDIwLjUgNi41IDE5LjgyODQgNi41IDE5QzYuNSAxOC4xNzE2IDcuMTcxNTcgMTcuNSA4IDE3LjVaTTE3IDE3LjVDMTcuODI4NCAxNy41IDE4LjUgMTguMTcxNiAxOC41IDE5QzE4LjUgMTkuODI4NCAxNy44Mjg0IDIwLjUgMTcgMjAuNUMxNi4xNzE2IDIwLjUgMTUuNSAxOS44Mjg0IDE1LjUgMTlDMTUuNSAxOC4xNzE2IDE2LjE3MTYgMTcuNSAxNyAxNy41Wk03Ljc4MzU3IDE0LjVIMTcuNUwxOSA3LjVINlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBUcnVuY2F0ZUljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJ0cnVuY2F0ZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk01IDEyLjVIMjBNOC41IDE5LjVMMTIuNSAxNS41TDE2LjUgMTkuNU0xNi41IDUuNUwxMi41IDkuNUw4LjUgNS41XCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFR3aXR0ZXJJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwidHdpdHRlclwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xOC44NzM4IDYuNjU3NTFDMTguMTk5NCA1Ljk0NDcgMTcuMjQ0NSA1LjUgMTYuMTg1NyA1LjVDMTQuMTQyMyA1LjUgMTIuNDg1NyA3LjE1NjU1IDEyLjQ4NTcgOS4yQzEyLjQ4NTcgOS41NTI2MyAxMi41MzUgOS44OTM3NCAxMi42MjcyIDEwLjIxNjhDNy4wODI2IDkuNTY0MjIgNC41NTcwMyA2LjAyODU3IDQuNTU3MDMgNi4wMjg1N0M0LjU1NzAzIDYuMDI4NTcgNC4wMjg0NiA5LjIgNi4xNDI3NCAxMS4zMTQzQzUuMDg1NzEgMTEuMzE0MyA0LjU1NzAzIDEwLjc4NTcgNC41NTcwMyAxMC43ODU3QzQuNTU3MDMgMTAuNzg1NyA0LjU1NzAzIDEzLjQyODYgNy4xOTk4OSAxNC40ODU3QzYuNjcxNDMgMTUuMDE0MyA1LjYxNDE3IDE0LjQ4NTcgNS42MTQxNyAxNC40ODU3QzUuOTc1MzMgMTUuOTMwMyA3LjQ1NjA2IDE2Ljg1NjIgOC44MjEzMyAxNy4xMzU4QzYuNjcyOTggMTkuMTY3NiAzLjUgMTguNzE0MyAzLjUgMTguNzE0M0M1LjE0NTYyIDE5Ljc3MSA3LjIxMzM0IDIwLjMgOS4zMTQyOSAyMC4zQzE2LjEyMTQgMjAuMyAxOS44MTYyIDE1LjYzMTUgMTkuODg0OCA5LjM3NzYyQzIwLjg3MjIgOC41ODk0MyAyMiA3LjA4NTcxIDIyIDcuMDg1NzFDMjIgNy4wODU3MSAyMS4yNzcgNy40NTQ1OCAxOS42OTEzIDcuOTgzMTVDMjEuMjc3IDYuOTI2MDEgMjEuNDcxNCA1LjUgMjEuNDcxNCA1LjVDMjEuNDcxNCA1LjUgMjAuNDEzNSA2LjU1Nzg5IDE4Ljg3MzggNi42NTc1MVpcIixcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgVWxpc3RJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInVsaXN0XCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNy4xMDE1MyAxNy41MDAxQzcuMTAxNTMgMTcuODMyMyA2LjgzMjIxIDE4LjEwMTYgNi41IDE4LjEwMTZDNi4xNjc3OCAxOC4xMDE2IDUuODk4NDcgMTcuODMyMyA1Ljg5ODQ3IDE3LjUwMDFDNS44OTg0NyAxNy4xNjc4IDYuMTY3NzggMTYuODk4NSA2LjUgMTYuODk4NUM2LjgzMjIxIDE2Ljg5ODUgNy4xMDE1MyAxNy4xNjc4IDcuMTAxNTMgMTcuNTAwMVpcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTcuMTAxNTMgNy41QzcuMTAxNTMgNy44MzIyMSA2LjgzMjIxIDguMTAxNTMgNi41IDguMTAxNTNDNi4xNjc3OCA4LjEwMTUzIDUuODk4NDcgNy44MzIyMSA1Ljg5ODQ3IDcuNUM1Ljg5ODQ3IDcuMTY3NzggNi4xNjc3OCA2Ljg5ODQ3IDYuNSA2Ljg5ODQ3QzYuODMyMjEgNi44OTg0NyA3LjEwMTUzIDcuMTY3NzggNy4xMDE1MyA3LjVaXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk03LjEwMTUzIDEyLjVDNy4xMDE1MyAxMi44MzIyIDYuODMyMjEgMTMuMTAxNSA2LjUgMTMuMTAxNUM2LjE2Nzc4IDEzLjEwMTUgNS44OTg0NyAxMi44MzIyIDUuODk4NDcgMTIuNUM1Ljg5ODQ3IDEyLjE2NzggNi4xNjc3OCAxMS44OTg1IDYuNSAxMS44OTg1QzYuODMyMjEgMTEuODk4NSA3LjEwMTUzIDEyLjE2NzggNy4xMDE1MyAxMi41WlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTAgNy41SDE5TTEwIDE3LjVIMTlNMTAgMTIuNUgxOVwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgVW5kZXJsaW5lSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJ1bmRlcmxpbmVcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk05LjUyNzkxIDcuMTE0MDdIOC4xN1YxNC4yNTgyQzguMTcgMTYuNTgxNyA5Ljc5MTk1IDE4LjI1NjUgMTIuNDkyNyAxOC4yNTY1QzE1LjE5MzQgMTguMjU2NSAxNi44MTU0IDE2LjU4MTcgMTYuODE1NCAxNC4yNTgyVjcuMTE0MDdIMTUuNDU3NFYxNC4xNjc3QzE1LjQ1NzQgMTUuODEyMiAxNC4zNzg3IDE3LjAwNDIgMTIuNDkyNyAxNy4wMDQyQzEwLjYwNjcgMTcuMDA0MiA5LjUyNzkxIDE1LjgxMjIgOS41Mjc5MSAxNC4xNjc3VjcuMTE0MDdaXCIsXG4gICAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTcgMjAuNUgxOFwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAxLjIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSlcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgVW5kb0ljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwidW5kb1wiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTYgOS41TDE1IDkuNUMxNy40ODUzIDkuNSAxOS41IDExLjUxNDcgMTkuNSAxNEMxOS41IDE2LjQ4NTMgMTcuNDg1MyAxOC41IDE1IDE4LjVINlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTAgMTMuNUw2IDkuNUwxMCA1LjVcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIFVua25vd25JY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwidW5rbm93blwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMi41IDEzQzEyLjUgMTEgMTQgMTEuNSAxNCAxMEMxNCA5LjM0Mzc1IDEzLjUgOC41IDEyLjUgOC41QzExLjUgOC41IDExIDkgMTAuNSA5LjVNMTIuNSAxNlYxNC41TTUuNSA1LjVIMTkuNVYxOS41SDUuNVY1LjVaXCIsXG4gICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFVubGlua0ljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJ1bmxpbmtcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNMTUgMTMuNUwxNy41IDExQzE4LjI4MSAxMC4yMTkgMTguMjgxIDguNzgxMDUgMTcuNSA4TDE3IDcuNUMxNi4yMTg5IDYuNzE4OTUgMTQuNzgxIDYuNzE4OTUgMTQgNy41TDExLjUgMTBNMTAgMTEuNUw3LjUgMTRDNi43MTg5NiAxNC43ODEgNi43MTg5NSAxNi4yMTkgNy41IDE3TDggMTcuNUM4Ljc4MTA1IDE4LjI4MSAxMC4yMTg5IDE4LjI4MSAxMSAxNy41TDEzLjUgMTVNOS41IDhWNU04IDkuNUg1TTE3IDE1LjVIMjBNMTUuNSAxN1YyMFwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBVbmxvY2tJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwidW5sb2NrXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTkuNSAxMS41VjguNUM5LjUgNi41IDggNS41IDYuNSA1LjVDNSA1LjUgMy41IDYuNSAzLjUgOC41VjExLjVNNy41IDExLjVIMTcuNVYxOS41SDcuNVYxMS41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBVbnB1Ymxpc2hJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInVucHVibGlzaFwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTUgMTkuNUgyME0xMi41IDE2VjVcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTE3LjUgMTFMMTIuNSAxNkw3LjUgMTFcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjIsXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIFVwbG9hZEljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwidXBsb2FkXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMTIuNSA2LjAwMDAzVjE1LjVNNS41IDE1LjVIMTkuNVYxOS41SDUuNVYxNS41WlwiLFxuICAgICAgICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEuMixcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNNy41IDExTDEyLjUgNi4wMDAwM0wxNy41IDExXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBVc2VySWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInVzZXJcIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjVcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHJlZixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZDogXCJNOCAxNC41QzcgMTUgNS41IDE2IDUuNSAxOS41SDE5LjVDMTkuNSAxNiAxOC4zNDE2IDE1LjE3MDggMTcgMTQuNUMxNiAxNCAxNCAxNCAxNCAxMi41QzE0IDExIDE1IDEwLjI1IDE1IDguMjVDMTUgNi4yNSAxNCA1LjI1IDEyLjUgNS4yNUMxMSA1LjI1IDEwIDYuMjUgMTAgOC4yNUMxMCAxMC4yNSAxMSAxMSAxMSAxMi41QzExIDE0IDkgMTQgOCAxNC41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBVc2Vyc0ljb24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJ1c2Vyc1wiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xNy41IDE4LjVIMjEuNUMyMS41IDE1IDIwLjg0MTYgMTQuMTcwOCAxOS41IDEzLjVDMTguNSAxMyAxNi41IDEyLjUgMTYuNSAxMUMxNi41IDkuNSAxNy41IDkgMTcuNSA3QzE3LjUgNSAxNi41IDQgMTUgNEMxMy42NjI4IDQgMTIuNzIzIDQuNzk0NzIgMTIuNTM0NyA2LjM4NDE1TTQuNSAyMC41QzQuNSAxNyA1LjUgMTYgNi41IDE1LjVDNy41IDE1IDkuNSAxNC41IDkuNSAxM0M5LjUgMTEuNSA4LjUgMTEgOC41IDlDOC41IDcgOS41IDYgMTEgNkMxMi41IDYgMTMuNSA3IDEzLjUgOUMxMy41IDExIDEyLjUgMTEuNSAxMi41IDEzQzEyLjUgMTQuNSAxNC41IDE1IDE1LjUgMTUuNUMxNi44NDE2IDE2LjE3MDggMTcuNSAxNyAxNy41IDIwLjVINC41WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBXYXJuaW5nRmlsbGVkSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcIndhcm5pbmctZmlsbGVkXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgZDogXCJNMTQuNzQxIDUuMTI2MzdDMTMuNzM1NyAzLjQxNzM3IDExLjI2NDMgMy40MTczNyAxMC4yNTkgNS4xMjYzN0wzLjc1NTggMTYuMTgxOEMyLjczNjI0IDE3LjkxNSAzLjk4NTk1IDIwLjEgNS45OTY4MyAyMC4xSDE5LjAwMzJDMjEuMDE0IDIwLjEgMjIuMjYzNyAxNy45MTUgMjEuMjQ0MiAxNi4xODE4TDE0Ljc0MSA1LjEyNjM3Wk0xMS45IDlWMTNIMTMuMVY5SDExLjlaTTEzLjEgMTZWMTQuNUgxMS45VjE2SDEzLjFaXCIsXG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIFdhcm5pbmdPdXRsaW5lSWNvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcIndhcm5pbmctb3V0bGluZVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgcmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkOiBcIk0xMi41IDlWMTNNMTIuNSAxNlYxNC41TTE0LjIyMzkgNS40MzA1OEwyMC43MjcgMTYuNDg2QzIxLjUxMTMgMTcuODE5MiAyMC41NSAxOS41IDE5LjAwMzIgMTkuNUg1Ljk5NjgzQzQuNDUgMTkuNSAzLjQ4ODY5IDE3LjgxOTIgNC4yNzI5NyAxNi40ODZMMTAuNzc2MSA1LjQzMDU4QzExLjU0OTQgNC4xMTU5NiAxMy40NTA2IDQuMTE1OTYgMTQuMjIzOSA1LjQzMDU4WlwiLFxuICAgICAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4yLFxuICAgICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBXcmVuY2hJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwic3ZnXCIsXG4gICAge1xuICAgICAgXCJkYXRhLXNhbml0eS1pY29uXCI6IFwid3JlbmNoXCIsXG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICByZWYsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTE3LjA0MDcgNS4xNDYyNEwxNy40NjQ5IDUuNTcwNTFDMTcuNjE2NiA1LjQxODg3IDE3LjY3NTcgNS4xOTc4MyAxNy42MjAyIDQuOTkwNzFDMTcuNTY0NiA0Ljc4MzU5IDE3LjQwMjcgNC42MjE4OSAxNy4xOTU1IDQuNTY2NTZMMTcuMDQwNyA1LjE0NjI0Wk0xNC40MDEzIDcuNzg1NkwxMy45NzcgNy4zNjEzNEMxMy44Mjg4IDcuNTA5NTkgMTMuNzY4NyA3LjcyNDQ3IDEzLjgxODUgNy45MjgxM0wxNC40MDEzIDcuNzg1NlpNMTIuODc3OCA2LjI2MjExTDEyLjQ1MzUgNS44Mzc4NFY1LjgzNzg0TDEyLjg3NzggNi4yNjIxMVpNMTEuODMwOSAxMC42NTY4TDEyLjI1NTIgMTEuMDgxMUMxMi40MTUyIDEwLjkyMTEgMTIuNDcxNiAxMC42ODQ3IDEyLjQwMSAxMC40Njk3TDExLjgzMDkgMTAuNjU2OFpNNS42MzkyNSAxNi44NDg1TDUuMjE0OTggMTYuNDI0Mkg1LjIxNDk4TDUuNjM5MjUgMTYuODQ4NVpNNS42MzkyNSAxOS45MzVMNi4wNjM1MSAxOS41MTA4SDYuMDYzNTFMNS42MzkyNSAxOS45MzVaTTguNzI1ODEgMTkuOTM1TDkuMTUwMDcgMjAuMzU5M0w4LjcyNTgxIDE5LjkzNVpNMTUuMTE4NCAxMy41NDI1TDE1LjIzMDEgMTIuOTUzQzE1LjAzNTEgMTIuOTE2IDE0LjgzNDQgMTIuOTc3OSAxNC42OTQxIDEzLjExODJMMTUuMTE4NCAxMy41NDI1Wk0xOC45NzE4IDEyLjM1NjFMMTkuMzk2MSAxMi43ODA0TDE4Ljk3MTggMTIuMzU2MVpNMjAuMDg3NyA4LjE5MzI0TDIwLjY2NzQgOC4wMzg0M0MyMC42MTIgNy44MzEyNSAyMC40NTAzIDcuNjY5MzQgMjAuMjQzMiA3LjYxMzc1QzIwLjAzNjEgNy41NTgxNiAxOS44MTUgNy42MTczNCAxOS42NjM0IDcuNzY4OThMMjAuMDg3NyA4LjE5MzI0Wk0xNy40NDgzIDEwLjgzMjZMMTcuMzA1OCAxMS40MTU0QzE3LjUwOTQgMTEuNDY1MiAxNy43MjQzIDExLjQwNTEgMTcuODcyNiAxMS4yNTY5TDE3LjQ0ODMgMTAuODMyNlpNMTUgMTAuMjMzOUwxNC40MTcyIDEwLjM3NjRDMTQuNDcwNCAxMC41OTM4IDE0LjY0MDEgMTAuNzYzNSAxNC44NTc1IDEwLjgxNjdMMTUgMTAuMjMzOVpNMTYuNjE2NCA0LjcyMTk4TDEzLjk3NyA3LjM2MTM0TDE0LjgyNTYgOC4yMDk4NkwxNy40NjQ5IDUuNTcwNTFMMTYuNjE2NCA0LjcyMTk4Wk0xMy4zMDIxIDYuNjg2MzdDMTQuMjcyMyA1LjcxNjEyIDE1LjY0NjcgNS4zOTUwMSAxNi44ODU5IDUuNzI1OTNMMTcuMTk1NSA0LjU2NjU2QzE1LjU1OTUgNC4xMjk2NiAxMy43Mzg5IDQuNTUyNDUgMTIuNDUzNSA1LjgzNzg0TDEzLjMwMjEgNi42ODYzN1pNMTIuNDAxIDEwLjQ2OTdDMTEuOTc3OSA5LjE4MTA5IDEyLjI3OTQgNy43MDkwNyAxMy4zMDIxIDYuNjg2MzdMMTIuNDUzNSA1LjgzNzg0QzExLjA5ODUgNy4xOTI4NCAxMC43MDIxIDkuMTQyMTggMTEuMjYwOCAxMC44NDRMMTIuNDAxIDEwLjQ2OTdaTTExLjQwNjYgMTAuMjMyNkw1LjIxNDk4IDE2LjQyNDJMNi4wNjM1MSAxNy4yNzI3TDEyLjI1NTIgMTEuMDgxMUwxMS40MDY2IDEwLjIzMjZaTTUuMjE0OTggMTYuNDI0MkM0LjEyODM0IDE3LjUxMDkgNC4xMjgzNCAxOS4yNzI3IDUuMjE0OTggMjAuMzU5M0w2LjA2MzUxIDE5LjUxMDhDNS40NDU1IDE4Ljg5MjggNS40NDU1IDE3Ljg5MDggNi4wNjM1MSAxNy4yNzI3TDUuMjE0OTggMTYuNDI0MlpNNS4yMTQ5OCAyMC4zNTkzQzYuMzAxNjMgMjEuNDQ2IDguMDYzNDMgMjEuNDQ2IDkuMTUwMDcgMjAuMzU5M0w4LjMwMTU1IDE5LjUxMDhDNy42ODM1MyAyMC4xMjg4IDYuNjgxNTMgMjAuMTI4OCA2LjA2MzUxIDE5LjUxMDhMNS4yMTQ5OCAyMC4zNTkzWk05LjE1MDA3IDIwLjM1OTNMMTUuNTQyNiAxMy45NjY4TDE0LjY5NDEgMTMuMTE4Mkw4LjMwMTU1IDE5LjUxMDhMOS4xNTAwNyAyMC4zNTkzWk0xOC41NDc1IDExLjkzMThDMTcuNjQ2MyAxMi44MzMxIDE2LjM5NjggMTMuMTc0MiAxNS4yMzAxIDEyLjk1M0wxNS4wMDY2IDE0LjEzMkMxNi41NDY2IDE0LjQyMzkgMTguMjAyMyAxMy45NzQxIDE5LjM5NjEgMTIuNzgwNEwxOC41NDc1IDExLjkzMThaTTE5LjUwOCA4LjM0ODA0QzE5LjgzODkgOS41ODcyMSAxOS41MTc4IDEwLjk2MTYgMTguNTQ3NSAxMS45MzE4TDE5LjM5NjEgMTIuNzgwNEMyMC42ODE1IDExLjQ5NSAyMS4xMDQzIDkuNjc0NDUgMjAuNjY3NCA4LjAzODQzTDE5LjUwOCA4LjM0ODA0Wk0xNy44NzI2IDExLjI1NjlMMjAuNTExOSA4LjYxNzVMMTkuNjYzNCA3Ljc2ODk4TDE3LjAyNCAxMC40MDgzTDE3Ljg3MjYgMTEuMjU2OVpNMTQuODU3NSAxMC44MTY3TDE3LjMwNTggMTEuNDE1NEwxNy41OTA4IDEwLjI0OThMMTUuMTQyNiA5LjY1MTA2TDE0Ljg1NzUgMTAuODE2N1pNMTMuODE4NSA3LjkyODEzTDE0LjQxNzIgMTAuMzc2NEwxNS41ODI5IDEwLjA5MTRMMTQuOTg0MSA3LjY0MzA3TDEzLjgxODUgNy45MjgxM1pcIixcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KSwgaWNvbnMgPSB7XG4gIFwiYWNjZXNzLWRlbmllZFwiOiBBY2Nlc3NEZW5pZWRJY29uLFxuICBhY3Rpdml0eTogQWN0aXZpdHlJY29uLFxuICBcImFkZC1jaXJjbGVcIjogQWRkQ2lyY2xlSWNvbixcbiAgXCJhZGQtY29tbWVudFwiOiBBZGRDb21tZW50SWNvbixcbiAgXCJhZGQtZG9jdW1lbnRcIjogQWRkRG9jdW1lbnRJY29uLFxuICBhZGQ6IEFkZEljb24sXG4gIGFwaTogQXBpSWNvbixcbiAgYXJjaGl2ZTogQXJjaGl2ZUljb24sXG4gIFwiYXJyb3ctZG93blwiOiBBcnJvd0Rvd25JY29uLFxuICBcImFycm93LWxlZnRcIjogQXJyb3dMZWZ0SWNvbixcbiAgXCJhcnJvdy1yaWdodFwiOiBBcnJvd1JpZ2h0SWNvbixcbiAgXCJhcnJvdy10b3AtcmlnaHRcIjogQXJyb3dUb3BSaWdodEljb24sXG4gIFwiYXJyb3ctdXBcIjogQXJyb3dVcEljb24sXG4gIGFzdGVyaXNrOiBBc3Rlcmlza0ljb24sXG4gIFwiYmFyLWNoYXJ0XCI6IEJhckNoYXJ0SWNvbixcbiAgYmFza2V0OiBCYXNrZXRJY29uLFxuICBiZWxsOiBCZWxsSWNvbixcbiAgYmlsbDogQmlsbEljb24sXG4gIFwiYmluYXJ5LWRvY3VtZW50XCI6IEJpbmFyeURvY3VtZW50SWNvbixcbiAgXCJibG9jay1jb250ZW50XCI6IEJsb2NrQ29udGVudEljb24sXG4gIFwiYmxvY2stZWxlbWVudFwiOiBCbG9ja0VsZW1lbnRJY29uLFxuICBibG9ja3F1b3RlOiBCbG9ja3F1b3RlSWNvbixcbiAgYm9sZDogQm9sZEljb24sXG4gIGJvbHQ6IEJvbHRJY29uLFxuICBib29rOiBCb29rSWNvbixcbiAgYm90dGxlOiBCb3R0bGVJY29uLFxuICBcImJ1bGItZmlsbGVkXCI6IEJ1bGJGaWxsZWRJY29uLFxuICBcImJ1bGItb3V0bGluZVwiOiBCdWxiT3V0bGluZUljb24sXG4gIGNhbGVuZGFyOiBDYWxlbmRhckljb24sXG4gIGNhc2U6IENhc2VJY29uLFxuICBcImNoYXJ0LXVwd2FyZFwiOiBDaGFydFVwd2FyZEljb24sXG4gIFwiY2hlY2ttYXJrLWNpcmNsZVwiOiBDaGVja21hcmtDaXJjbGVJY29uLFxuICBjaGVja21hcms6IENoZWNrbWFya0ljb24sXG4gIFwiY2hldnJvbi1kb3duXCI6IENoZXZyb25Eb3duSWNvbixcbiAgXCJjaGV2cm9uLWxlZnRcIjogQ2hldnJvbkxlZnRJY29uLFxuICBcImNoZXZyb24tcmlnaHRcIjogQ2hldnJvblJpZ2h0SWNvbixcbiAgXCJjaGV2cm9uLXVwXCI6IENoZXZyb25VcEljb24sXG4gIGNpcmNsZTogQ2lyY2xlSWNvbixcbiAgY2xpcGJvYXJkOiBDbGlwYm9hcmRJY29uLFxuICBcImNsaXBib2FyZC1pbWFnZVwiOiBDbGlwYm9hcmRJbWFnZUljb24sXG4gIGNsb2NrOiBDbG9ja0ljb24sXG4gIFwiY2xvc2UtY2lyY2xlXCI6IENsb3NlQ2lyY2xlSWNvbixcbiAgY2xvc2U6IENsb3NlSWNvbixcbiAgXCJjb2RlLWJsb2NrXCI6IENvZGVCbG9ja0ljb24sXG4gIGNvZGU6IENvZGVJY29uLFxuICBjb2c6IENvZ0ljb24sXG4gIGNvbGxhcHNlOiBDb2xsYXBzZUljb24sXG4gIFwiY29sb3Itd2hlZWxcIjogQ29sb3JXaGVlbEljb24sXG4gIGNvbW1lbnQ6IENvbW1lbnRJY29uLFxuICBjb21wb25lbnQ6IENvbXBvbmVudEljb24sXG4gIGNvbXBvc2U6IENvbXBvc2VJY29uLFxuICBjb25mZXR0aTogQ29uZmV0dGlJY29uLFxuICBjb250cm9sczogQ29udHJvbHNJY29uLFxuICBjb3B5OiBDb3B5SWNvbixcbiAgXCJjcmVkaXQtY2FyZFwiOiBDcmVkaXRDYXJkSWNvbixcbiAgY3JvcDogQ3JvcEljb24sXG4gIGN1YmU6IEN1YmVJY29uLFxuICBkYXNoYm9hcmQ6IERhc2hib2FyZEljb24sXG4gIGRhdGFiYXNlOiBEYXRhYmFzZUljb24sXG4gIGRlc2t0b3A6IERlc2t0b3BJY29uLFxuICBkaWFtb25kOiBEaWFtb25kSWNvbixcbiAgZG9jdW1lbnQ6IERvY3VtZW50SWNvbixcbiAgXCJkb2N1bWVudC1wZGZcIjogRG9jdW1lbnRQZGZJY29uLFxuICBcImRvY3VtZW50LXJlbW92ZVwiOiBEb2N1bWVudFJlbW92ZUljb24sXG4gIFwiZG9jdW1lbnQtc2hlZXRcIjogRG9jdW1lbnRTaGVldEljb24sXG4gIFwiZG9jdW1lbnQtdGV4dFwiOiBEb2N1bWVudFRleHRJY29uLFxuICBcImRvY3VtZW50LXZpZGVvXCI6IERvY3VtZW50VmlkZW9JY29uLFxuICBcImRvY3VtZW50LXdvcmRcIjogRG9jdW1lbnRXb3JkSWNvbixcbiAgXCJkb2N1bWVudC16aXBcIjogRG9jdW1lbnRaaXBJY29uLFxuICBkb2N1bWVudHM6IERvY3VtZW50c0ljb24sXG4gIGRvdDogRG90SWNvbixcbiAgXCJkb3VibGUtY2hldnJvbi1kb3duXCI6IERvdWJsZUNoZXZyb25Eb3duSWNvbixcbiAgXCJkb3VibGUtY2hldnJvbi1sZWZ0XCI6IERvdWJsZUNoZXZyb25MZWZ0SWNvbixcbiAgXCJkb3VibGUtY2hldnJvbi1yaWdodFwiOiBEb3VibGVDaGV2cm9uUmlnaHRJY29uLFxuICBcImRvdWJsZS1jaGV2cm9uLXVwXCI6IERvdWJsZUNoZXZyb25VcEljb24sXG4gIGRvd25sb2FkOiBEb3dubG9hZEljb24sXG4gIFwiZHJhZy1oYW5kbGVcIjogRHJhZ0hhbmRsZUljb24sXG4gIGRyb3A6IERyb3BJY29uLFxuICBcImVhcnRoLWFtZXJpY2FzXCI6IEVhcnRoQW1lcmljYXNJY29uLFxuICBcImVhcnRoLWdsb2JlXCI6IEVhcnRoR2xvYmVJY29uLFxuICBlZGl0OiBFZGl0SWNvbixcbiAgXCJlbGxpcHNpcy1ob3Jpem9udGFsXCI6IEVsbGlwc2lzSG9yaXpvbnRhbEljb24sXG4gIFwiZWxsaXBzaXMtdmVydGljYWxcIjogRWxsaXBzaXNWZXJ0aWNhbEljb24sXG4gIGVudGVyOiBFbnRlckljb24sXG4gIFwiZW50ZXItcmlnaHRcIjogRW50ZXJSaWdodEljb24sXG4gIGVudmVsb3BlOiBFbnZlbG9wZUljb24sXG4gIGVxdWFsOiBFcXVhbEljb24sXG4gIFwiZXJyb3ItZmlsbGVkXCI6IEVycm9yRmlsbGVkSWNvbixcbiAgXCJlcnJvci1vdXRsaW5lXCI6IEVycm9yT3V0bGluZUljb24sXG4gIGV4cGFuZDogRXhwYW5kSWNvbixcbiAgXCJleWUtY2xvc2VkXCI6IEV5ZUNsb3NlZEljb24sXG4gIFwiZXllLW9wZW5cIjogRXllT3Blbkljb24sXG4gIGZpbHRlcjogRmlsdGVySWNvbixcbiAgZm9sZGVyOiBGb2xkZXJJY29uLFxuICBnZW5lcmF0ZTogR2VuZXJhdGVJY29uLFxuICBncm9xOiBHcm9xSWNvbixcbiAgaGFzaDogSGFzaEljb24sXG4gIFwiaGVhcnQtZmlsbGVkXCI6IEhlYXJ0RmlsbGVkSWNvbixcbiAgaGVhcnQ6IEhlYXJ0SWNvbixcbiAgXCJoZWxwLWNpcmNsZVwiOiBIZWxwQ2lyY2xlSWNvbixcbiAgaGlnaGxpZ2h0OiBIaWdobGlnaHRJY29uLFxuICBob21lOiBIb21lSWNvbixcbiAgXCJpY2UtY3JlYW1cIjogSWNlQ3JlYW1JY29uLFxuICBpbWFnZTogSW1hZ2VJY29uLFxuICBcImltYWdlLXJlbW92ZVwiOiBJbWFnZVJlbW92ZUljb24sXG4gIGltYWdlczogSW1hZ2VzSWNvbixcbiAgXCJpbmZvLWZpbGxlZFwiOiBJbmZvRmlsbGVkSWNvbixcbiAgXCJpbmZvLW91dGxpbmVcIjogSW5mb091dGxpbmVJY29uLFxuICBcImlubGluZS1lbGVtZW50XCI6IElubGluZUVsZW1lbnRJY29uLFxuICBpbmxpbmU6IElubGluZUljb24sXG4gIFwiaW5zZXJ0LWFib3ZlXCI6IEluc2VydEFib3ZlSWNvbixcbiAgXCJpbnNlcnQtYmVsb3dcIjogSW5zZXJ0QmVsb3dJY29uLFxuICBpdGFsaWM6IEl0YWxpY0ljb24sXG4gIGpveXN0aWNrOiBKb3lzdGlja0ljb24sXG4gIGpzb246IEpzb25JY29uLFxuICBsYXVuY2g6IExhdW5jaEljb24sXG4gIGxlYXZlOiBMZWF2ZUljb24sXG4gIGxlbW9uOiBMZW1vbkljb24sXG4gIGxpbms6IExpbmtJY29uLFxuICBcImxpbmstcmVtb3ZlZFwiOiBMaW5rUmVtb3ZlZEljb24sXG4gIGxvY2s6IExvY2tJY29uLFxuICBcImxvZ28tanNcIjogTG9nb0pzSWNvbixcbiAgXCJsb2dvLXRzXCI6IExvZ29Uc0ljb24sXG4gIFwibWFzdGVyLWRldGFpbFwiOiBNYXN0ZXJEZXRhaWxJY29uLFxuICBtZW51OiBNZW51SWNvbixcbiAgXCJtb2JpbGUtZGV2aWNlXCI6IE1vYmlsZURldmljZUljb24sXG4gIG1vb246IE1vb25JY29uLFxuICBudW1iZXI6IE51bWJlckljb24sXG4gIFwib2staGFuZFwiOiBPa0hhbmRJY29uLFxuICBvbGlzdDogT2xpc3RJY29uLFxuICBvdmVyYWdlOiBPdmVyYWdlSWNvbixcbiAgcGFja2FnZTogUGFja2FnZUljb24sXG4gIFwicGFuZWwtbGVmdFwiOiBQYW5lbExlZnRJY29uLFxuICBcInBhbmVsLXJpZ2h0XCI6IFBhbmVsUmlnaHRJY29uLFxuICBwYXVzZTogUGF1c2VJY29uLFxuICBwaW46IFBpbkljb24sXG4gIFwicGluLXJlbW92ZWRcIjogUGluUmVtb3ZlZEljb24sXG4gIHBsYXk6IFBsYXlJY29uLFxuICBwbHVnOiBQbHVnSWNvbixcbiAgcHJlc2VudGF0aW9uOiBQcmVzZW50YXRpb25JY29uLFxuICBwcm9qZWN0czogUHJvamVjdHNJY29uLFxuICBwdWJsaXNoOiBQdWJsaXNoSWNvbixcbiAgXCJyZWFkLW9ubHlcIjogUmVhZE9ubHlJY29uLFxuICByZWRvOiBSZWRvSWNvbixcbiAgcmVmcmVzaDogUmVmcmVzaEljb24sXG4gIFwicmVtb3ZlLWNpcmNsZVwiOiBSZW1vdmVDaXJjbGVJY29uLFxuICByZW1vdmU6IFJlbW92ZUljb24sXG4gIHJlc2V0OiBSZXNldEljb24sXG4gIHJlc3RvcmU6IFJlc3RvcmVJY29uLFxuICByZXRyaWV2ZTogUmV0cmlldmVJY29uLFxuICByZXRyeTogUmV0cnlJY29uLFxuICByZXZlcnQ6IFJldmVydEljb24sXG4gIHJvYm90OiBSb2JvdEljb24sXG4gIHJvY2tldDogUm9ja2V0SWNvbixcbiAgc2NoZW1hOiBTY2hlbWFJY29uLFxuICBzZWFyY2g6IFNlYXJjaEljb24sXG4gIHNlbGVjdDogU2VsZWN0SWNvbixcbiAgc2hhcmU6IFNoYXJlSWNvbixcbiAgc29ydDogU29ydEljb24sXG4gIHNwYXJrbGU6IFNwYXJrbGVJY29uLFxuICBzcGFya2xlczogU3BhcmtsZXNJY29uLFxuICBzcGlubmVyOiBTcGlubmVySWNvbixcbiAgXCJzcGxpdC1ob3Jpem9udGFsXCI6IFNwbGl0SG9yaXpvbnRhbEljb24sXG4gIFwic3BsaXQtdmVydGljYWxcIjogU3BsaXRWZXJ0aWNhbEljb24sXG4gIHNxdWFyZTogU3F1YXJlSWNvbixcbiAgXCJzdGFjay1jb21wYWN0XCI6IFN0YWNrQ29tcGFjdEljb24sXG4gIHN0YWNrOiBTdGFja0ljb24sXG4gIHN0YXI6IFN0YXJJY29uLFxuICBzdG9wOiBTdG9wSWNvbixcbiAgc3RyaWtldGhyb3VnaDogU3RyaWtldGhyb3VnaEljb24sXG4gIHN0cmluZzogU3RyaW5nSWNvbixcbiAgc3VuOiBTdW5JY29uLFxuICBzeW5jOiBTeW5jSWNvbixcbiAgXCJ0YWJsZXQtZGV2aWNlXCI6IFRhYmxldERldmljZUljb24sXG4gIHRhZzogVGFnSWNvbixcbiAgdGFnczogVGFnc0ljb24sXG4gIHRhc2s6IFRhc2tJY29uLFxuICB0ZXJtaW5hbDogVGVybWluYWxJY29uLFxuICB0ZXh0OiBUZXh0SWNvbixcbiAgXCJ0aC1sYXJnZVwiOiBUaExhcmdlSWNvbixcbiAgXCJ0aC1saXN0XCI6IFRoTGlzdEljb24sXG4gIHRpZXJzOiBUaWVyc0ljb24sXG4gIFwidG9nZ2xlLWFycm93LXJpZ2h0XCI6IFRvZ2dsZUFycm93UmlnaHRJY29uLFxuICB0b2tlbjogVG9rZW5JY29uLFxuICB0cmFuc2ZlcjogVHJhbnNmZXJJY29uLFxuICB0cmFuc2xhdGU6IFRyYW5zbGF0ZUljb24sXG4gIHRyYXNoOiBUcmFzaEljb24sXG4gIFwidHJlbmQtdXB3YXJkXCI6IFRyZW5kVXB3YXJkSWNvbixcbiAgXCJ0cmlhbmdsZS1vdXRsaW5lXCI6IFRyaWFuZ2xlT3V0bGluZUljb24sXG4gIHRyb2xsZXk6IFRyb2xsZXlJY29uLFxuICB0cnVuY2F0ZTogVHJ1bmNhdGVJY29uLFxuICB0d2l0dGVyOiBUd2l0dGVySWNvbixcbiAgdWxpc3Q6IFVsaXN0SWNvbixcbiAgdW5kZXJsaW5lOiBVbmRlcmxpbmVJY29uLFxuICB1bmRvOiBVbmRvSWNvbixcbiAgdW5rbm93bjogVW5rbm93bkljb24sXG4gIHVubGluazogVW5saW5rSWNvbixcbiAgdW5sb2NrOiBVbmxvY2tJY29uLFxuICB1bnB1Ymxpc2g6IFVucHVibGlzaEljb24sXG4gIHVwbG9hZDogVXBsb2FkSWNvbixcbiAgdXNlcjogVXNlckljb24sXG4gIHVzZXJzOiBVc2Vyc0ljb24sXG4gIFwid2FybmluZy1maWxsZWRcIjogV2FybmluZ0ZpbGxlZEljb24sXG4gIFwid2FybmluZy1vdXRsaW5lXCI6IFdhcm5pbmdPdXRsaW5lSWNvbixcbiAgd3JlbmNoOiBXcmVuY2hJY29uXG59LCBJY29uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIGNvbnN0IHsgc3ltYm9sLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzLCBJY29uQ29tcG9uZW50ID0gaWNvbnNbc3ltYm9sXTtcbiAgcmV0dXJuIEljb25Db21wb25lbnQgPyAvKiBAX19QVVJFX18gKi8ganN4KEljb25Db21wb25lbnQsIHsgLi4ucmVzdFByb3BzLCByZWYgfSkgOiBudWxsO1xufSk7XG5leHBvcnQge1xuICBBY2Nlc3NEZW5pZWRJY29uLFxuICBBY3Rpdml0eUljb24sXG4gIEFkZENpcmNsZUljb24sXG4gIEFkZENvbW1lbnRJY29uLFxuICBBZGREb2N1bWVudEljb24sXG4gIEFkZEljb24sXG4gIEFwaUljb24sXG4gIEFyY2hpdmVJY29uLFxuICBBcnJvd0Rvd25JY29uLFxuICBBcnJvd0xlZnRJY29uLFxuICBBcnJvd1JpZ2h0SWNvbixcbiAgQXJyb3dUb3BSaWdodEljb24sXG4gIEFycm93VXBJY29uLFxuICBBc3Rlcmlza0ljb24sXG4gIEJhckNoYXJ0SWNvbixcbiAgQmFza2V0SWNvbixcbiAgQmVsbEljb24sXG4gIEJpbGxJY29uLFxuICBCaW5hcnlEb2N1bWVudEljb24sXG4gIEJsb2NrQ29udGVudEljb24sXG4gIEJsb2NrRWxlbWVudEljb24sXG4gIEJsb2NrcXVvdGVJY29uLFxuICBCb2xkSWNvbixcbiAgQm9sdEljb24sXG4gIEJvb2tJY29uLFxuICBCb3R0bGVJY29uLFxuICBCdWxiRmlsbGVkSWNvbixcbiAgQnVsYk91dGxpbmVJY29uLFxuICBDYWxlbmRhckljb24sXG4gIENhc2VJY29uLFxuICBDaGFydFVwd2FyZEljb24sXG4gIENoZWNrbWFya0NpcmNsZUljb24sXG4gIENoZWNrbWFya0ljb24sXG4gIENoZXZyb25Eb3duSWNvbixcbiAgQ2hldnJvbkxlZnRJY29uLFxuICBDaGV2cm9uUmlnaHRJY29uLFxuICBDaGV2cm9uVXBJY29uLFxuICBDaXJjbGVJY29uLFxuICBDbGlwYm9hcmRJY29uLFxuICBDbGlwYm9hcmRJbWFnZUljb24sXG4gIENsb2NrSWNvbixcbiAgQ2xvc2VDaXJjbGVJY29uLFxuICBDbG9zZUljb24sXG4gIENvZGVCbG9ja0ljb24sXG4gIENvZGVJY29uLFxuICBDb2dJY29uLFxuICBDb2xsYXBzZUljb24sXG4gIENvbG9yV2hlZWxJY29uLFxuICBDb21tZW50SWNvbixcbiAgQ29tcG9uZW50SWNvbixcbiAgQ29tcG9zZUljb24sXG4gIENvbmZldHRpSWNvbixcbiAgQ29udHJvbHNJY29uLFxuICBDb3B5SWNvbixcbiAgQ3JlZGl0Q2FyZEljb24sXG4gIENyb3BJY29uLFxuICBDdWJlSWNvbixcbiAgRGFzaGJvYXJkSWNvbixcbiAgRGF0YWJhc2VJY29uLFxuICBEZXNrdG9wSWNvbixcbiAgRGlhbW9uZEljb24sXG4gIERvY3VtZW50SWNvbixcbiAgRG9jdW1lbnRQZGZJY29uLFxuICBEb2N1bWVudFJlbW92ZUljb24sXG4gIERvY3VtZW50U2hlZXRJY29uLFxuICBEb2N1bWVudFRleHRJY29uLFxuICBEb2N1bWVudFZpZGVvSWNvbixcbiAgRG9jdW1lbnRXb3JkSWNvbixcbiAgRG9jdW1lbnRaaXBJY29uLFxuICBEb2N1bWVudHNJY29uLFxuICBEb3RJY29uLFxuICBEb3VibGVDaGV2cm9uRG93bkljb24sXG4gIERvdWJsZUNoZXZyb25MZWZ0SWNvbixcbiAgRG91YmxlQ2hldnJvblJpZ2h0SWNvbixcbiAgRG91YmxlQ2hldnJvblVwSWNvbixcbiAgRG93bmxvYWRJY29uLFxuICBEcmFnSGFuZGxlSWNvbixcbiAgRHJvcEljb24sXG4gIEVhcnRoQW1lcmljYXNJY29uLFxuICBFYXJ0aEdsb2JlSWNvbixcbiAgRWRpdEljb24sXG4gIEVsbGlwc2lzSG9yaXpvbnRhbEljb24sXG4gIEVsbGlwc2lzVmVydGljYWxJY29uLFxuICBFbnRlckljb24sXG4gIEVudGVyUmlnaHRJY29uLFxuICBFbnZlbG9wZUljb24sXG4gIEVxdWFsSWNvbixcbiAgRXJyb3JGaWxsZWRJY29uLFxuICBFcnJvck91dGxpbmVJY29uLFxuICBFeHBhbmRJY29uLFxuICBFeWVDbG9zZWRJY29uLFxuICBFeWVPcGVuSWNvbixcbiAgRmlsdGVySWNvbixcbiAgRm9sZGVySWNvbixcbiAgR2VuZXJhdGVJY29uLFxuICBHcm9xSWNvbixcbiAgSGFzaEljb24sXG4gIEhlYXJ0RmlsbGVkSWNvbixcbiAgSGVhcnRJY29uLFxuICBIZWxwQ2lyY2xlSWNvbixcbiAgSGlnaGxpZ2h0SWNvbixcbiAgSG9tZUljb24sXG4gIEljZUNyZWFtSWNvbixcbiAgSWNvbixcbiAgSW1hZ2VJY29uLFxuICBJbWFnZVJlbW92ZUljb24sXG4gIEltYWdlc0ljb24sXG4gIEluZm9GaWxsZWRJY29uLFxuICBJbmZvT3V0bGluZUljb24sXG4gIElubGluZUVsZW1lbnRJY29uLFxuICBJbmxpbmVJY29uLFxuICBJbnNlcnRBYm92ZUljb24sXG4gIEluc2VydEJlbG93SWNvbixcbiAgSXRhbGljSWNvbixcbiAgSm95c3RpY2tJY29uLFxuICBKc29uSWNvbixcbiAgTGF1bmNoSWNvbixcbiAgTGVhdmVJY29uLFxuICBMZW1vbkljb24sXG4gIExpbmtJY29uLFxuICBMaW5rUmVtb3ZlZEljb24sXG4gIExvY2tJY29uLFxuICBMb2dvSnNJY29uLFxuICBMb2dvVHNJY29uLFxuICBNYXN0ZXJEZXRhaWxJY29uLFxuICBNZW51SWNvbixcbiAgTW9iaWxlRGV2aWNlSWNvbixcbiAgTW9vbkljb24sXG4gIE51bWJlckljb24sXG4gIE9rSGFuZEljb24sXG4gIE9saXN0SWNvbixcbiAgT3ZlcmFnZUljb24sXG4gIFBhY2thZ2VJY29uLFxuICBQYW5lbExlZnRJY29uLFxuICBQYW5lbFJpZ2h0SWNvbixcbiAgUGF1c2VJY29uLFxuICBQaW5JY29uLFxuICBQaW5SZW1vdmVkSWNvbixcbiAgUGxheUljb24sXG4gIFBsdWdJY29uLFxuICBQcmVzZW50YXRpb25JY29uLFxuICBQcm9qZWN0c0ljb24sXG4gIFB1Ymxpc2hJY29uLFxuICBSZWFkT25seUljb24sXG4gIFJlZG9JY29uLFxuICBSZWZyZXNoSWNvbixcbiAgUmVtb3ZlQ2lyY2xlSWNvbixcbiAgUmVtb3ZlSWNvbixcbiAgUmVzZXRJY29uLFxuICBSZXN0b3JlSWNvbixcbiAgUmV0cmlldmVJY29uLFxuICBSZXRyeUljb24sXG4gIFJldmVydEljb24sXG4gIFJvYm90SWNvbixcbiAgUm9ja2V0SWNvbixcbiAgU2NoZW1hSWNvbixcbiAgU2VhcmNoSWNvbixcbiAgU2VsZWN0SWNvbixcbiAgU2hhcmVJY29uLFxuICBTb3J0SWNvbixcbiAgU3BhcmtsZUljb24sXG4gIFNwYXJrbGVzSWNvbixcbiAgU3Bpbm5lckljb24sXG4gIFNwbGl0SG9yaXpvbnRhbEljb24sXG4gIFNwbGl0VmVydGljYWxJY29uLFxuICBTcXVhcmVJY29uLFxuICBTdGFja0NvbXBhY3RJY29uLFxuICBTdGFja0ljb24sXG4gIFN0YXJJY29uLFxuICBTdG9wSWNvbixcbiAgU3RyaWtldGhyb3VnaEljb24sXG4gIFN0cmluZ0ljb24sXG4gIFN1bkljb24sXG4gIFN5bmNJY29uLFxuICBUYWJsZXREZXZpY2VJY29uLFxuICBUYWdJY29uLFxuICBUYWdzSWNvbixcbiAgVGFza0ljb24sXG4gIFRlcm1pbmFsSWNvbixcbiAgVGV4dEljb24sXG4gIFRoTGFyZ2VJY29uLFxuICBUaExpc3RJY29uLFxuICBUaWVyc0ljb24sXG4gIFRvZ2dsZUFycm93UmlnaHRJY29uLFxuICBUb2tlbkljb24sXG4gIFRyYW5zZmVySWNvbixcbiAgVHJhbnNsYXRlSWNvbixcbiAgVHJhc2hJY29uLFxuICBUcmVuZFVwd2FyZEljb24sXG4gIFRyaWFuZ2xlT3V0bGluZUljb24sXG4gIFRyb2xsZXlJY29uLFxuICBUcnVuY2F0ZUljb24sXG4gIFR3aXR0ZXJJY29uLFxuICBVbGlzdEljb24sXG4gIFVuZGVybGluZUljb24sXG4gIFVuZG9JY29uLFxuICBVbmtub3duSWNvbixcbiAgVW5saW5rSWNvbixcbiAgVW5sb2NrSWNvbixcbiAgVW5wdWJsaXNoSWNvbixcbiAgVXBsb2FkSWNvbixcbiAgVXNlckljb24sXG4gIFVzZXJzSWNvbixcbiAgV2FybmluZ0ZpbGxlZEljb24sXG4gIFdhcm5pbmdPdXRsaW5lSWNvbixcbiAgV3JlbmNoSWNvbixcbiAgaWNvbnNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/icons/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/insert-menu/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@sanity/insert-menu/dist/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InsertMenu: () => (/* binding */ InsertMenu)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sanity/icons */ \"(ssr)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sanity/ui */ \"(ssr)/./node_modules/@sanity/ui/dist/index.mjs\");\n/* harmony import */ var lodash_startcase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.startcase */ \"(ssr)/./node_modules/lodash.startcase/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_is__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-is */ \"(ssr)/./node_modules/react-is/index.js\");\n\n\n\n\n\n\nfunction getSchemaTypeIcon(schemaType) {\n  var _a, _b, _c, _d;\n  const referenceIcon = isReferenceSchemaType(schemaType) && ((_a = schemaType.to) != null ? _a : []).length === 1 ? schemaType.to[0].icon : void 0;\n  return (_d = (_c = schemaType.icon) != null ? _c : (_b = schemaType.type) == null ? void 0 : _b.icon) != null ? _d : referenceIcon;\n}\nfunction isReferenceSchemaType(type) {\n  return isRecord(type) && (type.name === \"reference\" || isReferenceSchemaType(type.type));\n}\nfunction isRecord(value) {\n  return !!value && (typeof value == \"object\" || typeof value == \"function\");\n}\nfunction fullInsertMenuReducer(state, event) {\n  return {\n    query: event.type === \"change query\" ? event.query : state.query,\n    groups: event.type === \"select group\" ? state.groups.map((group) => ({ ...group, selected: event.name === group.name })) : state.groups,\n    views: event.type === \"toggle view\" ? state.views.map((view) => ({ ...view, selected: event.name === view.name })) : state.views\n  };\n}\nconst ALL_ITEMS_GROUP_NAME = \"all-items\", gridStyle = {\n  gridTemplateColumns: \"repeat(auto-fill, minmax(118px, 1fr))\"\n};\nfunction InsertMenu(props) {\n  var _a;\n  const showIcons = props.showIcons === void 0 ? !0 : props.showIcons, showFilter = props.filter === void 0 || props.filter === \"auto\" ? props.schemaTypes.length > 5 : props.filter, [state, send] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useReducer)(fullInsertMenuReducer, {\n    query: \"\",\n    groups: props.groups ? [\n      {\n        name: ALL_ITEMS_GROUP_NAME,\n        title: props.labels[\"insert-menu.filter.all-items\"],\n        selected: !0\n      },\n      ...props.groups.map((group) => ({ ...group, selected: !1 }))\n    ] : [],\n    views: ((_a = props.views) != null ? _a : [{ name: \"list\" }]).map((view, index) => ({\n      ...view,\n      selected: index === 0\n    }))\n  }), filteredSchemaTypes = filterSchemaTypes(props.schemaTypes, state.query, state.groups), selectedView = state.views.find((view) => view.selected), showingFilterOrViews = showFilter || state.views.length > 1, showingTabs = state.groups && state.groups.length > 0;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Menu, { padding: 0, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Flex, { direction: \"column\", height: \"fill\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n      _sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Box,\n      {\n        ...showingFilterOrViews || showingTabs ? {\n          style: { borderBottom: \"1px solid var(--card-border-color)\" },\n          paddingBottom: 1\n        } : {},\n        children: [\n          showingFilterOrViews ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Flex, { flex: \"none\", align: \"center\", paddingTop: 1, paddingX: 1, gap: 1, children: [\n            showFilter ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Box, { flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n              _sanity_ui__WEBPACK_IMPORTED_MODULE_4__.TextInput,\n              {\n                autoFocus: !0,\n                border: !1,\n                fontSize: 1,\n                icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_5__.SearchIcon,\n                onChange: (event) => {\n                  send({ type: \"change query\", query: event.target.value });\n                },\n                placeholder: props.labels[\"insert-menu.search.placeholder\"],\n                value: state.query\n              }\n            ) }) : null,\n            state.views.length > 1 ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Box, { flex: \"none\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n              ViewToggle,\n              {\n                views: state.views,\n                onToggle: (name) => {\n                  send({ type: \"toggle view\", name });\n                },\n                labels: props.labels\n              }\n            ) }) : null\n          ] }) : null,\n          showingTabs ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Box, { paddingTop: 1, paddingX: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.TabList, { space: 1, children: state.groups.map((group) => {\n            var _a2;\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n              _sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Tab,\n              {\n                id: `${group.name}-tab`,\n                \"aria-controls\": `${group.name}-panel`,\n                label: (_a2 = group.title) != null ? _a2 : lodash_startcase__WEBPACK_IMPORTED_MODULE_1__(group.name),\n                selected: group.selected,\n                onClick: () => {\n                  send({ type: \"select group\", name: group.name });\n                }\n              },\n              group.name\n            );\n          }) }) }) : null\n        ]\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Box, { padding: 1, children: filteredSchemaTypes.length === 0 ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Box, { padding: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Text, { muted: !0, size: 1, children: props.labels[\"insert-menu.search.no-results\"] }) }) : selectedView ? selectedView.name === \"grid\" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Grid, { autoRows: \"auto\", flex: 1, gap: 1, style: gridStyle, children: filteredSchemaTypes.map((schemaType) => {\n      var _a2;\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        GridMenuItem,\n        {\n          icon: showIcons ? getSchemaTypeIcon(schemaType) : void 0,\n          onClick: () => {\n            props.onSelect(schemaType);\n          },\n          previewImageUrl: (_a2 = selectedView.previewImageUrl) == null ? void 0 : _a2.call(selectedView, schemaType.name),\n          schemaType\n        },\n        schemaType.name\n      );\n    }) }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Stack, { flex: 1, space: 1, children: filteredSchemaTypes.map((schemaType) => {\n      var _a2;\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        _sanity_ui__WEBPACK_IMPORTED_MODULE_4__.MenuItem,\n        {\n          icon: showIcons ? getSchemaTypeIcon(schemaType) : void 0,\n          onClick: () => {\n            props.onSelect(schemaType);\n          },\n          text: (_a2 = schemaType.title) != null ? _a2 : lodash_startcase__WEBPACK_IMPORTED_MODULE_1__(schemaType.name)\n        },\n        schemaType.name\n      );\n    }) }) : null })\n  ] }) });\n}\nconst viewToggleIcon = {\n  grid: _sanity_icons__WEBPACK_IMPORTED_MODULE_5__.ThLargeIcon,\n  list: _sanity_icons__WEBPACK_IMPORTED_MODULE_5__.UlistIcon\n}, viewToggleTooltip = {\n  grid: \"insert-menu.toggle-grid-view.tooltip\",\n  list: \"insert-menu.toggle-list-view.tooltip\"\n};\nfunction ViewToggle(props) {\n  var _a;\n  const viewIndex = props.views.findIndex((view) => view.selected), nextView = (_a = props.views[viewIndex + 1]) != null ? _a : props.views[0];\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    _sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Tooltip,\n    {\n      content: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Text, { size: 1, children: props.labels[viewToggleTooltip[nextView.name]] }),\n      placeholder: \"top\",\n      portal: !0,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        _sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Button,\n        {\n          mode: \"bleed\",\n          icon: viewToggleIcon[nextView.name],\n          onClick: () => {\n            props.onToggle(nextView.name);\n          }\n        }\n      )\n    }\n  );\n}\nfunction GridMenuItem(props) {\n  var _a;\n  const [failedToLoad, setFailedToLoad] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.MenuItem, { padding: 0, radius: 2, onClick: props.onClick, style: { overflow: \"hidden\" }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Flex, { direction: \"column\", gap: 1, padding: 1, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n      _sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Box,\n      {\n        flex: \"none\",\n        style: {\n          backgroundColor: \"var(--card-muted-bg-color)\",\n          paddingBottom: \"66.6%\",\n          position: \"relative\"\n        },\n        children: [\n          (0,react_is__WEBPACK_IMPORTED_MODULE_3__.isValidElementType)(props.icon) ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            _sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Flex,\n            {\n              align: \"center\",\n              justify: \"center\",\n              style: {\n                position: \"absolute\",\n                top: 0,\n                left: 0,\n                width: \"100%\",\n                height: \"100%\"\n              },\n              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Text, { size: 1, children: (0,react__WEBPACK_IMPORTED_MODULE_2__.createElement)(props.icon) })\n            }\n          ) : null,\n          !props.previewImageUrl || failedToLoad ? null : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            \"img\",\n            {\n              src: props.previewImageUrl,\n              style: {\n                objectFit: \"contain\",\n                width: \"100%\",\n                height: \"100%\",\n                position: \"absolute\",\n                inset: 0\n              },\n              onError: () => {\n                setFailedToLoad(!0);\n              }\n            }\n          ),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            \"div\",\n            {\n              style: {\n                position: \"absolute\",\n                top: 0,\n                left: 0,\n                width: \"100%\",\n                height: \"100%\",\n                boxShadow: \"inset 0 0 0 0.5px var(--card-fg-color)\",\n                opacity: 0.1\n              }\n            }\n          )\n        ]\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Box, { flex: 1, padding: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_4__.Text, { size: 1, weight: \"medium\", children: (_a = props.schemaType.title) != null ? _a : props.schemaType.name }) })\n  ] }) });\n}\nfunction filterSchemaTypes(schemaTypes, query, groups) {\n  return schemaTypes.filter(\n    (schemaType) => passesGroupFilter(schemaType, groups) && passesQueryFilter(schemaType, query)\n  );\n}\nfunction passesQueryFilter(schemaType, query) {\n  var _a;\n  const sanitizedQuery = query.trim().toLowerCase();\n  return schemaType.title ? (_a = schemaType.title) == null ? void 0 : _a.toLowerCase().includes(sanitizedQuery) : schemaType.name.includes(sanitizedQuery);\n}\nfunction passesGroupFilter(schemaType, groups) {\n  var _a;\n  const selectedGroup = groups.find((group) => group.selected);\n  return selectedGroup ? selectedGroup.name === ALL_ITEMS_GROUP_NAME ? !0 : (_a = selectedGroup.of) == null ? void 0 : _a.includes(schemaType.name) : !0;\n}\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbnNlcnQtbWVudS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEM7QUFDcUI7QUFDaUQ7QUFDM0U7QUFDbUI7QUFDZDtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLCtDQUErQztBQUMxSCx1RUFBdUUsNkNBQTZDO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc01BQXNNLGlEQUFVO0FBQ2hOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCx3Q0FBd0Msd0JBQXdCO0FBQ2hFO0FBQ0EsaURBQWlELGNBQWM7QUFDL0Q7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gseUJBQXlCLHNEQUFHLENBQUMsNENBQUksSUFBSSxzQ0FBc0MsdURBQUksQ0FBQyw0Q0FBSSxJQUFJO0FBQ3hGLG9CQUFvQix1REFBSTtBQUN4QixNQUFNLDJDQUFHO0FBQ1Q7QUFDQTtBQUNBLG1CQUFtQixvREFBb0Q7QUFDdkU7QUFDQSxVQUFVLElBQUk7QUFDZDtBQUNBLGlEQUFpRCx1REFBSSxDQUFDLDRDQUFJLElBQUk7QUFDOUQseUNBQXlDLHNEQUFHLENBQUMsMkNBQUcsSUFBSSxtQ0FBbUMsc0RBQUc7QUFDMUYsY0FBYyxpREFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxREFBVTtBQUNoQztBQUNBLHlCQUF5QixpREFBaUQ7QUFDMUUsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixxREFBcUQsc0RBQUcsQ0FBQywyQ0FBRyxJQUFJLHdDQUF3QyxzREFBRztBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyQkFBMkI7QUFDcEQsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsYUFBYTtBQUNiLHdDQUF3QyxzREFBRyxDQUFDLDJDQUFHLElBQUksc0RBQXNELHNEQUFHLENBQUMsK0NBQU8sSUFBSTtBQUN4SDtBQUNBLG1DQUFtQyxzREFBRztBQUN0QyxjQUFjLDJDQUFHO0FBQ2pCO0FBQ0EsdUJBQXVCLFdBQVc7QUFDbEMsb0NBQW9DLFdBQVc7QUFDL0MsMkRBQTJELDZDQUFTO0FBQ3BFO0FBQ0E7QUFDQSx5QkFBeUIsd0NBQXdDO0FBQ2pFO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxXQUFXLEdBQUcsR0FBRztBQUNqQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQUcsQ0FBQywyQ0FBRyxJQUFJLHlFQUF5RSxzREFBRyxDQUFDLDJDQUFHLElBQUksc0NBQXNDLHNEQUFHLENBQUMsNENBQUksSUFBSSw2RUFBNkUsR0FBRyxrRUFBa0Usc0RBQUcsQ0FBQyw0Q0FBSSxJQUFJO0FBQ25VO0FBQ0EsNkJBQTZCLHNEQUFHO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSyxHQUFHLG9CQUFvQixzREFBRyxDQUFDLDZDQUFLLElBQUk7QUFDekM7QUFDQSw2QkFBNkIsc0RBQUc7QUFDaEMsUUFBUSxnREFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCx5REFBeUQsNkNBQVM7QUFDbEUsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLLEdBQUcsVUFBVTtBQUNsQixLQUFLLEdBQUc7QUFDUjtBQUNBO0FBQ0EsUUFBUSxzREFBVztBQUNuQixRQUFRLG9EQUFTO0FBQ2pCLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQUc7QUFDNUIsSUFBSSwrQ0FBTztBQUNYO0FBQ0EsK0JBQStCLHNEQUFHLENBQUMsNENBQUksSUFBSSxtRUFBbUU7QUFDOUc7QUFDQTtBQUNBLGdDQUFnQyxzREFBRztBQUNuQyxRQUFRLDhDQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsK0NBQVE7QUFDbEQseUJBQXlCLHNEQUFHLENBQUMsZ0RBQVEsSUFBSSx3REFBd0Qsb0JBQW9CLDRCQUE0Qix1REFBSSxDQUFDLDRDQUFJLElBQUk7QUFDOUosb0JBQW9CLHVEQUFJO0FBQ3hCLE1BQU0sMkNBQUc7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxVQUFVLDREQUFrQiwrQkFBK0Isc0RBQUc7QUFDOUQsWUFBWSw0Q0FBSTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Ysd0NBQXdDLHNEQUFHLENBQUMsNENBQUksSUFBSSxtQkFBbUIsb0RBQWEsY0FBYztBQUNsRztBQUNBO0FBQ0EsMEVBQTBFLHNEQUFHO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNEQUFHO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNEQUFHLENBQUMsMkNBQUcsSUFBSSwrQ0FBK0Msc0RBQUcsQ0FBQyw0Q0FBSSxJQUFJLHlHQUF5RyxHQUFHO0FBQ3RNLEtBQUssR0FBRztBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbnNlcnQtbWVudS9kaXN0L2luZGV4LmpzPzBjYTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4LCBqc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyBTZWFyY2hJY29uLCBUaExhcmdlSWNvbiwgVWxpc3RJY29uIH0gZnJvbSBcIkBzYW5pdHkvaWNvbnNcIjtcbmltcG9ydCB7IE1lbnUsIEZsZXgsIEJveCwgVGV4dElucHV0LCBUYWJMaXN0LCBUYWIsIFRleHQsIEdyaWQsIFN0YWNrLCBNZW51SXRlbSwgVG9vbHRpcCwgQnV0dG9uIH0gZnJvbSBcIkBzYW5pdHkvdWlcIjtcbmltcG9ydCBzdGFydENhc2UgZnJvbSBcImxvZGFzaC5zdGFydGNhc2VcIjtcbmltcG9ydCB7IHVzZVJlZHVjZXIsIHVzZVN0YXRlLCBjcmVhdGVFbGVtZW50IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBpc1ZhbGlkRWxlbWVudFR5cGUgfSBmcm9tIFwicmVhY3QtaXNcIjtcbmZ1bmN0aW9uIGdldFNjaGVtYVR5cGVJY29uKHNjaGVtYVR5cGUpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBjb25zdCByZWZlcmVuY2VJY29uID0gaXNSZWZlcmVuY2VTY2hlbWFUeXBlKHNjaGVtYVR5cGUpICYmICgoX2EgPSBzY2hlbWFUeXBlLnRvKSAhPSBudWxsID8gX2EgOiBbXSkubGVuZ3RoID09PSAxID8gc2NoZW1hVHlwZS50b1swXS5pY29uIDogdm9pZCAwO1xuICByZXR1cm4gKF9kID0gKF9jID0gc2NoZW1hVHlwZS5pY29uKSAhPSBudWxsID8gX2MgOiAoX2IgPSBzY2hlbWFUeXBlLnR5cGUpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pY29uKSAhPSBudWxsID8gX2QgOiByZWZlcmVuY2VJY29uO1xufVxuZnVuY3Rpb24gaXNSZWZlcmVuY2VTY2hlbWFUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIGlzUmVjb3JkKHR5cGUpICYmICh0eXBlLm5hbWUgPT09IFwicmVmZXJlbmNlXCIgfHwgaXNSZWZlcmVuY2VTY2hlbWFUeXBlKHR5cGUudHlwZSkpO1xufVxuZnVuY3Rpb24gaXNSZWNvcmQodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiIHx8IHR5cGVvZiB2YWx1ZSA9PSBcImZ1bmN0aW9uXCIpO1xufVxuZnVuY3Rpb24gZnVsbEluc2VydE1lbnVSZWR1Y2VyKHN0YXRlLCBldmVudCkge1xuICByZXR1cm4ge1xuICAgIHF1ZXJ5OiBldmVudC50eXBlID09PSBcImNoYW5nZSBxdWVyeVwiID8gZXZlbnQucXVlcnkgOiBzdGF0ZS5xdWVyeSxcbiAgICBncm91cHM6IGV2ZW50LnR5cGUgPT09IFwic2VsZWN0IGdyb3VwXCIgPyBzdGF0ZS5ncm91cHMubWFwKChncm91cCkgPT4gKHsgLi4uZ3JvdXAsIHNlbGVjdGVkOiBldmVudC5uYW1lID09PSBncm91cC5uYW1lIH0pKSA6IHN0YXRlLmdyb3VwcyxcbiAgICB2aWV3czogZXZlbnQudHlwZSA9PT0gXCJ0b2dnbGUgdmlld1wiID8gc3RhdGUudmlld3MubWFwKCh2aWV3KSA9PiAoeyAuLi52aWV3LCBzZWxlY3RlZDogZXZlbnQubmFtZSA9PT0gdmlldy5uYW1lIH0pKSA6IHN0YXRlLnZpZXdzXG4gIH07XG59XG5jb25zdCBBTExfSVRFTVNfR1JPVVBfTkFNRSA9IFwiYWxsLWl0ZW1zXCIsIGdyaWRTdHlsZSA9IHtcbiAgZ3JpZFRlbXBsYXRlQ29sdW1uczogXCJyZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMTE4cHgsIDFmcikpXCJcbn07XG5mdW5jdGlvbiBJbnNlcnRNZW51KHByb3BzKSB7XG4gIHZhciBfYTtcbiAgY29uc3Qgc2hvd0ljb25zID0gcHJvcHMuc2hvd0ljb25zID09PSB2b2lkIDAgPyAhMCA6IHByb3BzLnNob3dJY29ucywgc2hvd0ZpbHRlciA9IHByb3BzLmZpbHRlciA9PT0gdm9pZCAwIHx8IHByb3BzLmZpbHRlciA9PT0gXCJhdXRvXCIgPyBwcm9wcy5zY2hlbWFUeXBlcy5sZW5ndGggPiA1IDogcHJvcHMuZmlsdGVyLCBbc3RhdGUsIHNlbmRdID0gdXNlUmVkdWNlcihmdWxsSW5zZXJ0TWVudVJlZHVjZXIsIHtcbiAgICBxdWVyeTogXCJcIixcbiAgICBncm91cHM6IHByb3BzLmdyb3VwcyA/IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogQUxMX0lURU1TX0dST1VQX05BTUUsXG4gICAgICAgIHRpdGxlOiBwcm9wcy5sYWJlbHNbXCJpbnNlcnQtbWVudS5maWx0ZXIuYWxsLWl0ZW1zXCJdLFxuICAgICAgICBzZWxlY3RlZDogITBcbiAgICAgIH0sXG4gICAgICAuLi5wcm9wcy5ncm91cHMubWFwKChncm91cCkgPT4gKHsgLi4uZ3JvdXAsIHNlbGVjdGVkOiAhMSB9KSlcbiAgICBdIDogW10sXG4gICAgdmlld3M6ICgoX2EgPSBwcm9wcy52aWV3cykgIT0gbnVsbCA/IF9hIDogW3sgbmFtZTogXCJsaXN0XCIgfV0pLm1hcCgodmlldywgaW5kZXgpID0+ICh7XG4gICAgICAuLi52aWV3LFxuICAgICAgc2VsZWN0ZWQ6IGluZGV4ID09PSAwXG4gICAgfSkpXG4gIH0pLCBmaWx0ZXJlZFNjaGVtYVR5cGVzID0gZmlsdGVyU2NoZW1hVHlwZXMocHJvcHMuc2NoZW1hVHlwZXMsIHN0YXRlLnF1ZXJ5LCBzdGF0ZS5ncm91cHMpLCBzZWxlY3RlZFZpZXcgPSBzdGF0ZS52aWV3cy5maW5kKCh2aWV3KSA9PiB2aWV3LnNlbGVjdGVkKSwgc2hvd2luZ0ZpbHRlck9yVmlld3MgPSBzaG93RmlsdGVyIHx8IHN0YXRlLnZpZXdzLmxlbmd0aCA+IDEsIHNob3dpbmdUYWJzID0gc3RhdGUuZ3JvdXBzICYmIHN0YXRlLmdyb3Vwcy5sZW5ndGggPiAwO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChNZW51LCB7IHBhZGRpbmc6IDAsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhGbGV4LCB7IGRpcmVjdGlvbjogXCJjb2x1bW5cIiwgaGVpZ2h0OiBcImZpbGxcIiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgIEJveCxcbiAgICAgIHtcbiAgICAgICAgLi4uc2hvd2luZ0ZpbHRlck9yVmlld3MgfHwgc2hvd2luZ1RhYnMgPyB7XG4gICAgICAgICAgc3R5bGU6IHsgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCB2YXIoLS1jYXJkLWJvcmRlci1jb2xvcilcIiB9LFxuICAgICAgICAgIHBhZGRpbmdCb3R0b206IDFcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIHNob3dpbmdGaWx0ZXJPclZpZXdzID8gLyogQF9fUFVSRV9fICovIGpzeHMoRmxleCwgeyBmbGV4OiBcIm5vbmVcIiwgYWxpZ246IFwiY2VudGVyXCIsIHBhZGRpbmdUb3A6IDEsIHBhZGRpbmdYOiAxLCBnYXA6IDEsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICBzaG93RmlsdGVyID8gLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgZmxleDogMSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgIFRleHRJbnB1dCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF1dG9Gb2N1czogITAsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAhMSxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMSxcbiAgICAgICAgICAgICAgICBpY29uOiBTZWFyY2hJY29uLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcImNoYW5nZSBxdWVyeVwiLCBxdWVyeTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHByb3BzLmxhYmVsc1tcImluc2VydC1tZW51LnNlYXJjaC5wbGFjZWhvbGRlclwiXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3RhdGUucXVlcnlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSB9KSA6IG51bGwsXG4gICAgICAgICAgICBzdGF0ZS52aWV3cy5sZW5ndGggPiAxID8gLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgZmxleDogXCJub25lXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICBWaWV3VG9nZ2xlLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmlld3M6IHN0YXRlLnZpZXdzLFxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlOiAobmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwidG9nZ2xlIHZpZXdcIiwgbmFtZSB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxhYmVsczogcHJvcHMubGFiZWxzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICkgfSkgOiBudWxsXG4gICAgICAgICAgXSB9KSA6IG51bGwsXG4gICAgICAgICAgc2hvd2luZ1RhYnMgPyAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBwYWRkaW5nVG9wOiAxLCBwYWRkaW5nWDogMSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVGFiTGlzdCwgeyBzcGFjZTogMSwgY2hpbGRyZW46IHN0YXRlLmdyb3Vwcy5tYXAoKGdyb3VwKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EyO1xuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgIFRhYixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiBgJHtncm91cC5uYW1lfS10YWJgLFxuICAgICAgICAgICAgICAgIFwiYXJpYS1jb250cm9sc1wiOiBgJHtncm91cC5uYW1lfS1wYW5lbGAsXG4gICAgICAgICAgICAgICAgbGFiZWw6IChfYTIgPSBncm91cC50aXRsZSkgIT0gbnVsbCA/IF9hMiA6IHN0YXJ0Q2FzZShncm91cC5uYW1lKSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogZ3JvdXAuc2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwic2VsZWN0IGdyb3VwXCIsIG5hbWU6IGdyb3VwLm5hbWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBncm91cC5uYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pIH0pIH0pIDogbnVsbFxuICAgICAgICBdXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBwYWRkaW5nOiAxLCBjaGlsZHJlbjogZmlsdGVyZWRTY2hlbWFUeXBlcy5sZW5ndGggPT09IDAgPyAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBwYWRkaW5nOiAyLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IG11dGVkOiAhMCwgc2l6ZTogMSwgY2hpbGRyZW46IHByb3BzLmxhYmVsc1tcImluc2VydC1tZW51LnNlYXJjaC5uby1yZXN1bHRzXCJdIH0pIH0pIDogc2VsZWN0ZWRWaWV3ID8gc2VsZWN0ZWRWaWV3Lm5hbWUgPT09IFwiZ3JpZFwiID8gLyogQF9fUFVSRV9fICovIGpzeChHcmlkLCB7IGF1dG9Sb3dzOiBcImF1dG9cIiwgZmxleDogMSwgZ2FwOiAxLCBzdHlsZTogZ3JpZFN0eWxlLCBjaGlsZHJlbjogZmlsdGVyZWRTY2hlbWFUeXBlcy5tYXAoKHNjaGVtYVR5cGUpID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgR3JpZE1lbnVJdGVtLFxuICAgICAgICB7XG4gICAgICAgICAgaWNvbjogc2hvd0ljb25zID8gZ2V0U2NoZW1hVHlwZUljb24oc2NoZW1hVHlwZSkgOiB2b2lkIDAsXG4gICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgcHJvcHMub25TZWxlY3Qoc2NoZW1hVHlwZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcmV2aWV3SW1hZ2VVcmw6IChfYTIgPSBzZWxlY3RlZFZpZXcucHJldmlld0ltYWdlVXJsKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmNhbGwoc2VsZWN0ZWRWaWV3LCBzY2hlbWFUeXBlLm5hbWUpLFxuICAgICAgICAgIHNjaGVtYVR5cGVcbiAgICAgICAgfSxcbiAgICAgICAgc2NoZW1hVHlwZS5uYW1lXG4gICAgICApO1xuICAgIH0pIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChTdGFjaywgeyBmbGV4OiAxLCBzcGFjZTogMSwgY2hpbGRyZW46IGZpbHRlcmVkU2NoZW1hVHlwZXMubWFwKChzY2hlbWFUeXBlKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIE1lbnVJdGVtLFxuICAgICAgICB7XG4gICAgICAgICAgaWNvbjogc2hvd0ljb25zID8gZ2V0U2NoZW1hVHlwZUljb24oc2NoZW1hVHlwZSkgOiB2b2lkIDAsXG4gICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgcHJvcHMub25TZWxlY3Qoc2NoZW1hVHlwZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0ZXh0OiAoX2EyID0gc2NoZW1hVHlwZS50aXRsZSkgIT0gbnVsbCA/IF9hMiA6IHN0YXJ0Q2FzZShzY2hlbWFUeXBlLm5hbWUpXG4gICAgICAgIH0sXG4gICAgICAgIHNjaGVtYVR5cGUubmFtZVxuICAgICAgKTtcbiAgICB9KSB9KSA6IG51bGwgfSlcbiAgXSB9KSB9KTtcbn1cbmNvbnN0IHZpZXdUb2dnbGVJY29uID0ge1xuICBncmlkOiBUaExhcmdlSWNvbixcbiAgbGlzdDogVWxpc3RJY29uXG59LCB2aWV3VG9nZ2xlVG9vbHRpcCA9IHtcbiAgZ3JpZDogXCJpbnNlcnQtbWVudS50b2dnbGUtZ3JpZC12aWV3LnRvb2x0aXBcIixcbiAgbGlzdDogXCJpbnNlcnQtbWVudS50b2dnbGUtbGlzdC12aWV3LnRvb2x0aXBcIlxufTtcbmZ1bmN0aW9uIFZpZXdUb2dnbGUocHJvcHMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB2aWV3SW5kZXggPSBwcm9wcy52aWV3cy5maW5kSW5kZXgoKHZpZXcpID0+IHZpZXcuc2VsZWN0ZWQpLCBuZXh0VmlldyA9IChfYSA9IHByb3BzLnZpZXdzW3ZpZXdJbmRleCArIDFdKSAhPSBudWxsID8gX2EgOiBwcm9wcy52aWV3c1swXTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgVG9vbHRpcCxcbiAgICB7XG4gICAgICBjb250ZW50OiAvKiBAX19QVVJFX18gKi8ganN4KFRleHQsIHsgc2l6ZTogMSwgY2hpbGRyZW46IHByb3BzLmxhYmVsc1t2aWV3VG9nZ2xlVG9vbHRpcFtuZXh0Vmlldy5uYW1lXV0gfSksXG4gICAgICBwbGFjZWhvbGRlcjogXCJ0b3BcIixcbiAgICAgIHBvcnRhbDogITAsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgQnV0dG9uLFxuICAgICAgICB7XG4gICAgICAgICAgbW9kZTogXCJibGVlZFwiLFxuICAgICAgICAgIGljb246IHZpZXdUb2dnbGVJY29uW25leHRWaWV3Lm5hbWVdLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHByb3BzLm9uVG9nZ2xlKG5leHRWaWV3Lm5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIEdyaWRNZW51SXRlbShwcm9wcykge1xuICB2YXIgX2E7XG4gIGNvbnN0IFtmYWlsZWRUb0xvYWQsIHNldEZhaWxlZFRvTG9hZF0gPSB1c2VTdGF0ZSghMSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVJdGVtLCB7IHBhZGRpbmc6IDAsIHJhZGl1czogMiwgb25DbGljazogcHJvcHMub25DbGljaywgc3R5bGU6IHsgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZsZXgsIHsgZGlyZWN0aW9uOiBcImNvbHVtblwiLCBnYXA6IDEsIHBhZGRpbmc6IDEsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgICBCb3gsXG4gICAgICB7XG4gICAgICAgIGZsZXg6IFwibm9uZVwiLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jYXJkLW11dGVkLWJnLWNvbG9yKVwiLFxuICAgICAgICAgIHBhZGRpbmdCb3R0b206IFwiNjYuNiVcIixcbiAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgaXNWYWxpZEVsZW1lbnRUeXBlKHByb3BzLmljb24pID8gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgIEZsZXgsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyBzaXplOiAxLCBjaGlsZHJlbjogY3JlYXRlRWxlbWVudChwcm9wcy5pY29uKSB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICkgOiBudWxsLFxuICAgICAgICAgICFwcm9wcy5wcmV2aWV3SW1hZ2VVcmwgfHwgZmFpbGVkVG9Mb2FkID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICBcImltZ1wiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzcmM6IHByb3BzLnByZXZpZXdJbWFnZVVybCxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBvYmplY3RGaXQ6IFwiY29udGFpblwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgaW5zZXQ6IDBcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgb25FcnJvcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEZhaWxlZFRvTG9hZCghMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBcImluc2V0IDAgMCAwIDAuNXB4IHZhcigtLWNhcmQtZmctY29sb3IpXCIsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMC4xXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICApLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGZsZXg6IDEsIHBhZGRpbmc6IDIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFRleHQsIHsgc2l6ZTogMSwgd2VpZ2h0OiBcIm1lZGl1bVwiLCBjaGlsZHJlbjogKF9hID0gcHJvcHMuc2NoZW1hVHlwZS50aXRsZSkgIT0gbnVsbCA/IF9hIDogcHJvcHMuc2NoZW1hVHlwZS5uYW1lIH0pIH0pXG4gIF0gfSkgfSk7XG59XG5mdW5jdGlvbiBmaWx0ZXJTY2hlbWFUeXBlcyhzY2hlbWFUeXBlcywgcXVlcnksIGdyb3Vwcykge1xuICByZXR1cm4gc2NoZW1hVHlwZXMuZmlsdGVyKFxuICAgIChzY2hlbWFUeXBlKSA9PiBwYXNzZXNHcm91cEZpbHRlcihzY2hlbWFUeXBlLCBncm91cHMpICYmIHBhc3Nlc1F1ZXJ5RmlsdGVyKHNjaGVtYVR5cGUsIHF1ZXJ5KVxuICApO1xufVxuZnVuY3Rpb24gcGFzc2VzUXVlcnlGaWx0ZXIoc2NoZW1hVHlwZSwgcXVlcnkpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBzYW5pdGl6ZWRRdWVyeSA9IHF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gc2NoZW1hVHlwZS50aXRsZSA/IChfYSA9IHNjaGVtYVR5cGUudGl0bGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNhbml0aXplZFF1ZXJ5KSA6IHNjaGVtYVR5cGUubmFtZS5pbmNsdWRlcyhzYW5pdGl6ZWRRdWVyeSk7XG59XG5mdW5jdGlvbiBwYXNzZXNHcm91cEZpbHRlcihzY2hlbWFUeXBlLCBncm91cHMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBzZWxlY3RlZEdyb3VwID0gZ3JvdXBzLmZpbmQoKGdyb3VwKSA9PiBncm91cC5zZWxlY3RlZCk7XG4gIHJldHVybiBzZWxlY3RlZEdyb3VwID8gc2VsZWN0ZWRHcm91cC5uYW1lID09PSBBTExfSVRFTVNfR1JPVVBfTkFNRSA/ICEwIDogKF9hID0gc2VsZWN0ZWRHcm91cC5vZikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKHNjaGVtYVR5cGUubmFtZSkgOiAhMDtcbn1cbmV4cG9ydCB7XG4gIEluc2VydE1lbnVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/insert-menu/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/logos/dist/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/logos/dist/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GroqLogo: () => (/* binding */ GroqLogo),\n/* harmony export */   GroqMonogram: () => (/* binding */ GroqMonogram),\n/* harmony export */   SanityLogo: () => (/* binding */ SanityLogo),\n/* harmony export */   SanityMonogram: () => (/* binding */ SanityMonogram)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var _sanity_color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sanity/color */ \"(ssr)/./node_modules/@sanity/color/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\n\nconst GroqLogo = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"groq-logo\",\n      height: \"1em\",\n      viewBox: \"0 0 304 64\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ...props,\n      ref,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M32 0L0 32H32V0Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.magenta[400].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M32 32H0L32 64V32Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.green[300].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M64 32H32V64L64 32Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.purple[300].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M112 0L80 32H112V0Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.green[300].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M112 0H80V32L112 0Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.purple[300].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M112 32H80L112 64V32Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.yellow[200].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M144 64L112 32V64H144Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.blue[300].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M80 32V64H112L80 32Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.orange[400].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M112 0V32H144L112 0Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.magenta[400].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M192 0L160 32H192V0Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.yellow[200].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M192 32H160L192 64V32Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.orange[400].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M224 32H192V64L224 32Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.green[300].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M192 0V32H224L192 0Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.blue[300].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M272 0L240 32H272V0Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.purple[300].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M304 32L272 64H304V32Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.magenta[400].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M272 32H240L272 64V32Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.blue[300].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M304 32H272V64L304 32Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.yellow[200].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M272 0V32H304L272 0Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.green[300].hex })\n      ]\n    }\n  );\n}), GroqMonogram = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"groq-monogram\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 128 128\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ...props,\n      ref,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"rect\", { width: \"128\", height: \"128\", rx: \"8\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.green[950].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"rect\", { y: \"32\", width: \"64\", height: \"64\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.green[800].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M64 32L32 64H64V32Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.magenta[400].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M64 64H32L64 96V64Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.green[300].hex }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M96 64H64V96L96 64Z\", fill: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.purple[300].hex })\n      ]\n    }\n  );\n}), schemes = {\n  light: [_sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.red[200].hex, _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.red[300].hex, _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.red[500].hex],\n  dark: [_sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.gray[500].hex, _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.gray[300].hex, _sanity_color__WEBPACK_IMPORTED_MODULE_2__.white.hex]\n}, SanityLogo = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { dark, ...svgProps } = props, scheme = schemes[dark ? \"dark\" : \"light\"];\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"sanity-logo\",\n      height: \"1em\",\n      viewBox: \"0 0 352 100\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ...svgProps,\n      ref,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M311.14 57.234V80.0016H298.499V57.234\", fill: scheme[1] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z\", fill: scheme[2] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z\",\n            fill: scheme[1]\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z\", fill: scheme[1] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z\",\n            fill: scheme[0]\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z\",\n            fill: scheme[2]\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z\", fill: scheme[2] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z\", fill: scheme[1] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z\",\n            fill: scheme[2]\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z\", fill: scheme[1] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z\",\n            fill: scheme[0]\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z\",\n            fill: scheme[1]\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { d: \"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z\", fill: scheme[2] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926\",\n            fill: scheme[2]\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748\",\n            fill: scheme[1]\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124\",\n            fill: scheme[1]\n          }\n        )\n      ]\n    }\n  );\n}), SANITY_MONOGRAM_COLOR = {\n  bg1: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.red[500].hex,\n  bg2: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.hues.red[200].hex,\n  fg: _sanity_color__WEBPACK_IMPORTED_MODULE_2__.white.hex\n}, SanityMonogram = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { color = SANITY_MONOGRAM_COLOR, ...restProps } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"svg\",\n    {\n      \"data-sanity-icon\": \"sanity-monogram\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 128 128\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      ...restProps,\n      ref,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"rect\", { width: \"128\", height: \"128\", rx: \"8\", fill: color.bg1 }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163\",\n            fill: color.fg\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995\",\n            fill: color.bg2\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682\",\n            fill: color.bg2\n          }\n        )\n      ]\n    }\n  );\n});\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9sb2dvcy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEM7QUFDRjtBQUNUO0FBQ25DLGlCQUFpQixpREFBVTtBQUMzQix5QkFBeUIsdURBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQUcsV0FBVyw2QkFBNkIsK0NBQUksbUJBQW1CO0FBQzFGLHdCQUF3QixzREFBRyxXQUFXLCtCQUErQiwrQ0FBSSxpQkFBaUI7QUFDMUYsd0JBQXdCLHNEQUFHLFdBQVcsZ0NBQWdDLCtDQUFJLGtCQUFrQjtBQUM1Rix3QkFBd0Isc0RBQUcsV0FBVyxnQ0FBZ0MsK0NBQUksaUJBQWlCO0FBQzNGLHdCQUF3QixzREFBRyxXQUFXLGdDQUFnQywrQ0FBSSxrQkFBa0I7QUFDNUYsd0JBQXdCLHNEQUFHLFdBQVcsa0NBQWtDLCtDQUFJLGtCQUFrQjtBQUM5Rix3QkFBd0Isc0RBQUcsV0FBVyxtQ0FBbUMsK0NBQUksZ0JBQWdCO0FBQzdGLHdCQUF3QixzREFBRyxXQUFXLGlDQUFpQywrQ0FBSSxrQkFBa0I7QUFDN0Ysd0JBQXdCLHNEQUFHLFdBQVcsaUNBQWlDLCtDQUFJLG1CQUFtQjtBQUM5Rix3QkFBd0Isc0RBQUcsV0FBVyxpQ0FBaUMsK0NBQUksa0JBQWtCO0FBQzdGLHdCQUF3QixzREFBRyxXQUFXLG1DQUFtQywrQ0FBSSxrQkFBa0I7QUFDL0Ysd0JBQXdCLHNEQUFHLFdBQVcsbUNBQW1DLCtDQUFJLGlCQUFpQjtBQUM5Rix3QkFBd0Isc0RBQUcsV0FBVyxpQ0FBaUMsK0NBQUksZ0JBQWdCO0FBQzNGLHdCQUF3QixzREFBRyxXQUFXLGlDQUFpQywrQ0FBSSxrQkFBa0I7QUFDN0Ysd0JBQXdCLHNEQUFHLFdBQVcsbUNBQW1DLCtDQUFJLG1CQUFtQjtBQUNoRyx3QkFBd0Isc0RBQUcsV0FBVyxtQ0FBbUMsK0NBQUksZ0JBQWdCO0FBQzdGLHdCQUF3QixzREFBRyxXQUFXLG1DQUFtQywrQ0FBSSxrQkFBa0I7QUFDL0Ysd0JBQXdCLHNEQUFHLFdBQVcsaUNBQWlDLCtDQUFJLGlCQUFpQjtBQUM1RjtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtCQUFrQixpREFBVTtBQUM3Qix5QkFBeUIsdURBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBRyxXQUFXLDRDQUE0QywrQ0FBSSxpQkFBaUI7QUFDdkcsd0JBQXdCLHNEQUFHLFdBQVcsMENBQTBDLCtDQUFJLGlCQUFpQjtBQUNyRyx3QkFBd0Isc0RBQUcsV0FBVyxnQ0FBZ0MsK0NBQUksbUJBQW1CO0FBQzdGLHdCQUF3QixzREFBRyxXQUFXLGdDQUFnQywrQ0FBSSxpQkFBaUI7QUFDM0Ysd0JBQXdCLHNEQUFHLFdBQVcsZ0NBQWdDLCtDQUFJLGtCQUFrQjtBQUM1RjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsVUFBVSwrQ0FBSSxlQUFlLCtDQUFJLGVBQWUsK0NBQUk7QUFDcEQsU0FBUywrQ0FBSSxnQkFBZ0IsK0NBQUksZ0JBQWdCLGdEQUFLO0FBQ3RELENBQUMsZUFBZSxpREFBVTtBQUMxQixVQUFVLG9CQUFvQjtBQUM5Qix5QkFBeUIsdURBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQUcsV0FBVyw2REFBNkQ7QUFDbkcsd0JBQXdCLHNEQUFHLFdBQVcsd0ZBQXdGO0FBQzlILHdCQUF3QixzREFBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQUcsV0FBVyxpRkFBaUY7QUFDdkgsd0JBQXdCLHNEQUFHO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQUcsV0FBVyx5RUFBeUU7QUFDL0csd0JBQXdCLHNEQUFHLFdBQVcsK0VBQStFO0FBQ3JILHdCQUF3QixzREFBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQUcsV0FBVyxpRkFBaUY7QUFDdkgsd0JBQXdCLHNEQUFHO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQUcsV0FBVyxzRkFBc0Y7QUFDNUgsd0JBQXdCLHNEQUFHO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQUc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELE9BQU8sK0NBQUk7QUFDWCxPQUFPLCtDQUFJO0FBQ1gsTUFBTSxnREFBSztBQUNYLENBQUMsbUJBQW1CLGlEQUFVO0FBQzlCLFVBQVUsOENBQThDO0FBQ3hELHlCQUF5Qix1REFBSTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNEQUFHLFdBQVcsdURBQXVEO0FBQzdGLHdCQUF3QixzREFBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQUc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNEQUFHO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFNQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2xvZ29zL2Rpc3QvaW5kZXguanM/MTllMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3hzLCBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IGh1ZXMsIHdoaXRlIH0gZnJvbSBcIkBzYW5pdHkvY29sb3JcIjtcbmltcG9ydCB7IGZvcndhcmRSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmNvbnN0IEdyb3FMb2dvID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImdyb3EtbG9nb1wiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzA0IDY0XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHJlZixcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMzIgMEwwIDMySDMyVjBaXCIsIGZpbGw6IGh1ZXMubWFnZW50YVs0MDBdLmhleCB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0zMiAzMkgwTDMyIDY0VjMyWlwiLCBmaWxsOiBodWVzLmdyZWVuWzMwMF0uaGV4IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTY0IDMySDMyVjY0TDY0IDMyWlwiLCBmaWxsOiBodWVzLnB1cnBsZVszMDBdLmhleCB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xMTIgMEw4MCAzMkgxMTJWMFpcIiwgZmlsbDogaHVlcy5ncmVlblszMDBdLmhleCB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xMTIgMEg4MFYzMkwxMTIgMFpcIiwgZmlsbDogaHVlcy5wdXJwbGVbMzAwXS5oZXggfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTEyIDMySDgwTDExMiA2NFYzMlpcIiwgZmlsbDogaHVlcy55ZWxsb3dbMjAwXS5oZXggfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTQ0IDY0TDExMiAzMlY2NEgxNDRaXCIsIGZpbGw6IGh1ZXMuYmx1ZVszMDBdLmhleCB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk04MCAzMlY2NEgxMTJMODAgMzJaXCIsIGZpbGw6IGh1ZXMub3JhbmdlWzQwMF0uaGV4IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTExMiAwVjMySDE0NEwxMTIgMFpcIiwgZmlsbDogaHVlcy5tYWdlbnRhWzQwMF0uaGV4IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTE5MiAwTDE2MCAzMkgxOTJWMFpcIiwgZmlsbDogaHVlcy55ZWxsb3dbMjAwXS5oZXggfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMTkyIDMySDE2MEwxOTIgNjRWMzJaXCIsIGZpbGw6IGh1ZXMub3JhbmdlWzQwMF0uaGV4IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTIyNCAzMkgxOTJWNjRMMjI0IDMyWlwiLCBmaWxsOiBodWVzLmdyZWVuWzMwMF0uaGV4IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTE5MiAwVjMySDIyNEwxOTIgMFpcIiwgZmlsbDogaHVlcy5ibHVlWzMwMF0uaGV4IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTI3MiAwTDI0MCAzMkgyNzJWMFpcIiwgZmlsbDogaHVlcy5wdXJwbGVbMzAwXS5oZXggfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMzA0IDMyTDI3MiA2NEgzMDRWMzJaXCIsIGZpbGw6IGh1ZXMubWFnZW50YVs0MDBdLmhleCB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0yNzIgMzJIMjQwTDI3MiA2NFYzMlpcIiwgZmlsbDogaHVlcy5ibHVlWzMwMF0uaGV4IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTMwNCAzMkgyNzJWNjRMMzA0IDMyWlwiLCBmaWxsOiBodWVzLnllbGxvd1syMDBdLmhleCB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0yNzIgMFYzMkgzMDRMMjcyIDBaXCIsIGZpbGw6IGh1ZXMuZ3JlZW5bMzAwXS5oZXggfSlcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KSwgR3JvcU1vbm9ncmFtID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcImdyb3EtbW9ub2dyYW1cIixcbiAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTI4IDEyOFwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICByZWYsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicmVjdFwiLCB7IHdpZHRoOiBcIjEyOFwiLCBoZWlnaHQ6IFwiMTI4XCIsIHJ4OiBcIjhcIiwgZmlsbDogaHVlcy5ncmVlbls5NTBdLmhleCB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInJlY3RcIiwgeyB5OiBcIjMyXCIsIHdpZHRoOiBcIjY0XCIsIGhlaWdodDogXCI2NFwiLCBmaWxsOiBodWVzLmdyZWVuWzgwMF0uaGV4IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTY0IDMyTDMyIDY0SDY0VjMyWlwiLCBmaWxsOiBodWVzLm1hZ2VudGFbNDAwXS5oZXggfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNNjQgNjRIMzJMNjQgOTZWNjRaXCIsIGZpbGw6IGh1ZXMuZ3JlZW5bMzAwXS5oZXggfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNOTYgNjRINjRWOTZMOTYgNjRaXCIsIGZpbGw6IGh1ZXMucHVycGxlWzMwMF0uaGV4IH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufSksIHNjaGVtZXMgPSB7XG4gIGxpZ2h0OiBbaHVlcy5yZWRbMjAwXS5oZXgsIGh1ZXMucmVkWzMwMF0uaGV4LCBodWVzLnJlZFs1MDBdLmhleF0sXG4gIGRhcms6IFtodWVzLmdyYXlbNTAwXS5oZXgsIGh1ZXMuZ3JheVszMDBdLmhleCwgd2hpdGUuaGV4XVxufSwgU2FuaXR5TG9nbyA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7IGRhcmssIC4uLnN2Z1Byb3BzIH0gPSBwcm9wcywgc2NoZW1lID0gc2NoZW1lc1tkYXJrID8gXCJkYXJrXCIgOiBcImxpZ2h0XCJdO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICBcImRhdGEtc2FuaXR5LWljb25cIjogXCJzYW5pdHktbG9nb1wiLFxuICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzUyIDEwMFwiLFxuICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgLi4uc3ZnUHJvcHMsXG4gICAgICByZWYsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTMxMS4xNCA1Ny4yMzRWODAuMDAxNkgyOTguNDk5VjU3LjIzNFwiLCBmaWxsOiBzY2hlbWVbMV0gfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMjk4LjQ5OSA1Ny4yMzQxTDMxOS44ODkgMjAuMDAxN0gzMzMuMzE2TDMxMS4xNCA1Ny4yMzQxSDI5OC40OTlaXCIsIGZpbGw6IHNjaGVtZVsyXSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0yOTguNDk5IDU3LjIzNDFMMjc2LjUxNSAyMC4wMDE3SDI5MC4zNDVMMzA1LjIzOSA0NS41MTYxTDI5OC40OTkgNTcuMjM0MVpcIixcbiAgICAgICAgICAgIGZpbGw6IHNjaGVtZVsxXVxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0yNTMuODM5IDQwLjk2MjVWODAuMDAxN0gyNDEuMDA3VjQ3LjYyNzVMMjUzLjgzOSA0MC45NjI1WlwiLCBmaWxsOiBzY2hlbWVbMV0gfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMjQxLjAwNyA0Ny41OTQ0TDI3My41MzggMzAuOTQ2OUwyNjguMDQyIDIxLjY1MTlMMjQxLjAwNyAzNC44NjMzVjQ3LjU5NDRaXCIsXG4gICAgICAgICAgICBmaWxsOiBzY2hlbWVbMF1cbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMjQxLjAwNyAzMC45NDY5SDIyMS40MDRWMjAuMDAxN0gyNjcuMDY0TDI3My41MzggMzAuOTQ2OUgyNTMuODM5SDI0MS4wMDdaXCIsXG4gICAgICAgICAgICBmaWxsOiBzY2hlbWVbMl1cbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgZDogXCJNMjE0LjA0NyAyMC4wMDE3SDIwMS4zMTFWODAuMDEyMUgyMTQuMDQ3VjIwLjAwMTdaXCIsIGZpbGw6IHNjaGVtZVsyXSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xNDkuMzkgMzcuODcxMlY4MC4wMDE3SDEzNy4xNTNWMjAuMDAxN0wxNDkuMzkgMzcuODcxMlpcIiwgZmlsbDogc2NoZW1lWzFdIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTE1MS4yODIgMjAuMDAxN0wxNzguMjMxIDYwLjk5MzlWODAuMDAxN0wxMzcuMTUzIDIwLjAwMTdIMTUxLjI4MlpcIixcbiAgICAgICAgICAgIGZpbGw6IHNjaGVtZVsyXVxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBkOiBcIk0xNzguMjMxIDU3LjkxMjlWMjAuMDAxN0gxOTAuNDY3VjgwLjAwMTdIMTc4LjIzMVY1Ny45MTI5WlwiLCBmaWxsOiBzY2hlbWVbMV0gfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNODIuMTE2OCA4MC45ODM0TDExMi4xMDIgNjUuMzA1M0wxMDguNDA1IDU1LjczMDNMODguNjY0NCA2NC45MzYyTDgyLjExNjggODAuOTgzNFpcIixcbiAgICAgICAgICAgIGZpbGw6IHNjaGVtZVswXVxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk0xMDAuNjU3IDM1LjU0MjJMODIuMTE2NyA4MC45ODM0TDcyLjU4MDcgNzIuNzc0NUw5NC42NzE5IDIwLjAwMTdMMTAwLjY1NyAzNS41NDIyWlwiLFxuICAgICAgICAgICAgZmlsbDogc2NoZW1lWzFdXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IGQ6IFwiTTk0LjY3MiAyMC4wMDE3SDEwNy4zMTJMMTMwLjY5IDgwLjAwMTdIMTE3Ljc1Mkw5NC42NzIgMjAuMDAxN1pcIiwgZmlsbDogc2NoZW1lWzJdIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTI1LjEzNDcgMjYuOTI2QzI1LjEzNDcgMzUuMjgxMSAzMC4zODY0IDQwLjI1MjQgNDAuOTAwNCA0Mi44NzM4TDUyLjA0MTcgNDUuNDExN0M2MS45OTIzIDQ3LjY1NzEgNjguMDUxOSA1My4yMzQxIDY4LjA1MTkgNjIuMzIwM0M2OC4xMjkzIDY2LjI3ODcgNjYuODE5NCA3MC4xNDI5IDY0LjM0MTcgNzMuMjY1NEM2NC4zNDE3IDY0LjIwMDIgNTkuNTY4NCA1OS4zMDIgNDguMDU1MSA1Ni4zNTY4TDM3LjExNTggNTMuOTEzQzI4LjM1NTkgNTEuOTQ5NSAyMS41OTQ2IDQ3LjM2NDcgMjEuNTk0NiAzNy40OTUyQzIxLjU0ODUgMzMuNjgzOSAyMi43OTM5IDI5Ljk2NTggMjUuMTM0NyAyNi45MjZcIixcbiAgICAgICAgICAgIGZpbGw6IHNjaGVtZVsyXVxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk01Ny40OTU0IDYwLjA5NTdDNjIuMjQ3NSA2My4wODI3IDY0LjMzMTEgNjcuMjYwMiA2NC4zMzExIDczLjI1NUM2MC4zOTc3IDc4LjIwNTQgNTMuNDg3NSA4MC45ODM0IDQ1LjM2NTUgODAuOTgzNEMzMS42OTQxIDgwLjk4MzQgMjIuMTI2MiA3NC4zNzI1IDIwIDYyLjg4NDJIMzMuMTI5MkMzNC44MTk2IDY4LjE1ODQgMzkuMjk1MiA3MC42MDIyIDQ1LjI2OTggNzAuNjAyMkM1Mi41NjI2IDcwLjYwMjIgNTcuNDEwNCA2Ni43Nzk4IDU3LjUwNiA2MC4wNzQ4XCIsXG4gICAgICAgICAgICBmaWxsOiBzY2hlbWVbMV1cbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZDogXCJNMzEuOTU5OCAzOS4zMTI0QzI5Ljc4OTggMzguMDQ1NSAyOC4wMDk1IDM2LjIyNSAyNi44MDc5IDM0LjA0NDJDMjUuNjA2MiAzMS44NjM0IDI1LjAyOCAyOS40MDM2IDI1LjEzNDcgMjYuOTI2QzI4LjkzIDIyLjAxNzQgMzUuNTMxOCAxOS4wMiA0My41Nzk0IDE5LjAyQzU3LjUwNiAxOS4wMiA2NS41NjQzIDI2LjI0NzIgNjcuNTUyMyAzNi40MTk1SDU0LjkyMjdDNTMuNTMgMzIuNDA5IDUwLjA0MzEgMjkuMjg2MyA0My42ODU4IDI5LjI4NjNDMzYuODkyNiAyOS4yODYzIDMyLjI1NzUgMzMuMTcxNSAzMS45OTE3IDM5LjMxMjRcIixcbiAgICAgICAgICAgIGZpbGw6IHNjaGVtZVsxXVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBTQU5JVFlfTU9OT0dSQU1fQ09MT1IgPSB7XG4gIGJnMTogaHVlcy5yZWRbNTAwXS5oZXgsXG4gIGJnMjogaHVlcy5yZWRbMjAwXS5oZXgsXG4gIGZnOiB3aGl0ZS5oZXhcbn0sIFNhbml0eU1vbm9ncmFtID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIGNvbnN0IHsgY29sb3IgPSBTQU5JVFlfTU9OT0dSQU1fQ09MT1IsIC4uLnJlc3RQcm9wcyB9ID0gcHJvcHM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1zYW5pdHktaWNvblwiOiBcInNhbml0eS1tb25vZ3JhbVwiLFxuICAgICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMjggMTI4XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICByZWYsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicmVjdFwiLCB7IHdpZHRoOiBcIjEyOFwiLCBoZWlnaHQ6IFwiMTI4XCIsIHJ4OiBcIjhcIiwgZmlsbDogY29sb3IuYmcxIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTM5LjQyMyAzMy4xNjNDMzkuNDIzIDQ0LjE2MTUgNDYuMzM2MyA1MC43MDU2IDYwLjE3NjggNTQuMTU2NEw3NC44NDMgNTcuNDk3MkM4Ny45NDE4IDYwLjQ1MyA5NS45MTg2IDY3Ljc5NDUgOTUuOTE4NiA3OS43NTU0Qzk2LjAyMDUgODQuOTY2MiA5NC4yOTYxIDkwLjA1MzEgOTEuMDM0NSA5NC4xNjM1QzkxLjAzNDUgODIuMjMwMSA4NC43NTEgNzUuNzgyMiA2OS41OTUgNzEuOTA1Mkw1NS4xOTQ4IDY4LjY4ODJDNDMuNjYzMyA2Ni4xMDM1IDM0Ljc2MjkgNjAuMDY4MSAzNC43NjI5IDQ3LjA3NjFDMzQuNzAyMiA0Mi4wNTg5IDM2LjM0MTYgMzcuMTY0NCAzOS40MjMgMzMuMTYzXCIsXG4gICAgICAgICAgICBmaWxsOiBjb2xvci5mZ1xuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk04Mi4wMjIxIDc2LjgyN0M4OC4yNzc2IDgwLjc1OSA5MS4wMjA2IDg2LjI1ODIgOTEuMDIwNiA5NC4xNDk3Qzg1Ljg0MjYgMTAwLjY2NiA3Ni43NDYyIDEwNC4zMjMgNjYuMDU0NSAxMDQuMzIzQzQ4LjA1NzYgMTA0LjMyMyAzNS40NjI2IDk1LjYyMDcgMzIuNjYzNyA4MC40OTc3SDQ5Ljk0NjhDNTIuMTcyIDg3LjQ0MDYgNTguMDYzNiA5MC42NTc2IDY1LjkyODUgOTAuNjU3NkM3NS41Mjg3IDkwLjY1NzYgODEuOTEwMiA4NS42MjU4IDgyLjAzNjEgNzYuNzk5NVwiLFxuICAgICAgICAgICAgZmlsbDogY29sb3IuYmcyXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGQ6IFwiTTQ4LjQwNzUgNDkuNDY4MkM0NS41NTEgNDcuODAwNCA0My4yMDc0IDQ1LjQwNCA0MS42MjU2IDQyLjUzMzJDNDAuMDQzNyAzOS42NjI0IDM5LjI4MjYgMzYuNDI0NCAzOS40MjMxIDMzLjE2MjlDNDQuNDE5MSAyNi43MDEzIDUzLjEwOTYgMjIuNzU1NiA2My43MDM0IDIyLjc1NTZDODIuMDM2MiAyMi43NTU2IDkyLjY0MzkgMzIuMjY5MyA5NS4yNjA5IDQ1LjY2SDc4LjYzNTVDNzYuODAyMiA0MC4zODA3IDcyLjIxMjEgMzYuMjcgNjMuODQzNCAzNi4yN0M1NC45MDA5IDM2LjI3IDQ4Ljc5OTMgNDEuMzg0MyA0OC40NDk1IDQ5LjQ2ODJcIixcbiAgICAgICAgICAgIGZpbGw6IGNvbG9yLmJnMlxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pO1xuZXhwb3J0IHtcbiAgR3JvcUxvZ28sXG4gIEdyb3FNb25vZ3JhbSxcbiAgU2FuaXR5TG9nbyxcbiAgU2FuaXR5TW9ub2dyYW1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/logos/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/mutator/lib/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@sanity/mutator/lib/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BufferedDocument: () => (/* binding */ BufferedDocument),\n/* harmony export */   Mutation: () => (/* binding */ Mutation),\n/* harmony export */   arrayToJSONMatchPath: () => (/* binding */ arrayToJSONMatchPath),\n/* harmony export */   extract: () => (/* binding */ extract),\n/* harmony export */   extractWithPath: () => (/* binding */ extractWithPath)\n/* harmony export */ });\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/isEqual.js */ \"(ssr)/./node_modules/lodash/isEqual.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var lodash_flatten_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/flatten.js */ \"(ssr)/./node_modules/lodash/flatten.js\");\n/* harmony import */ var _sanity_diff_match_patch__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sanity/diff-match-patch */ \"(ssr)/./node_modules/@sanity/diff-match-patch/dist/index.js\");\n/* harmony import */ var lodash_max_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/max.js */ \"(ssr)/./node_modules/lodash/max.js\");\n/* harmony import */ var lodash_min_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/min.js */ \"(ssr)/./node_modules/lodash/min.js\");\n/* harmony import */ var _sanity_uuid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sanity/uuid */ \"(ssr)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var lodash_compact_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/compact.js */ \"(ssr)/./node_modules/lodash/compact.js\");\n\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__(\"mutator-document\");\nvar __defProp$h = Object.defineProperty, __defNormalProp$h = (obj, key, value) => key in obj ? __defProp$h(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$h = (obj, key, value) => __defNormalProp$h(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass ImmutableAccessor {\n  constructor(value, path) {\n    __publicField$h(this, \"_value\"), __publicField$h(this, \"path\"), this._value = value, this.path = path || [];\n  }\n  containerType() {\n    return Array.isArray(this._value) ? \"array\" : this._value !== null && typeof this._value == \"object\" ? \"object\" : \"primitive\";\n  }\n  // Common reader, supported by all containers\n  get() {\n    return this._value;\n  }\n  // Array reader\n  length() {\n    if (!Array.isArray(this._value))\n      throw new Error(\"Won't return length of non-indexable _value\");\n    return this._value.length;\n  }\n  getIndex(i) {\n    return Array.isArray(this._value) ? i >= this.length() ? null : new ImmutableAccessor(this._value[i], this.path.concat(i)) : !1;\n  }\n  // Object reader\n  hasAttribute(key) {\n    return isRecord$1(this._value) ? this._value.hasOwnProperty(key) : !1;\n  }\n  attributeKeys() {\n    return isRecord$1(this._value) ? Object.keys(this._value) : [];\n  }\n  getAttribute(key) {\n    if (!isRecord$1(this._value))\n      throw new Error(\"getAttribute only applies to plain objects\");\n    return this.hasAttribute(key) ? new ImmutableAccessor(this._value[key], this.path.concat(key)) : null;\n  }\n  // Common writer, supported by all containers\n  set(value) {\n    return value === this._value ? this : new ImmutableAccessor(value, this.path);\n  }\n  // array writer interface\n  setIndex(i, value) {\n    if (!Array.isArray(this._value))\n      throw new Error(\"setIndex only applies to arrays\");\n    if (Object.is(value, this._value[i]))\n      return this;\n    const nextValue = this._value.slice();\n    return nextValue[i] = value, new ImmutableAccessor(nextValue, this.path);\n  }\n  setIndexAccessor(i, accessor) {\n    return this.setIndex(i, accessor.get());\n  }\n  unsetIndices(indices) {\n    if (!Array.isArray(this._value))\n      throw new Error(\"unsetIndices only applies to arrays\");\n    const length = this._value.length, nextValue = [];\n    for (let i = 0; i < length; i++)\n      indices.indexOf(i) === -1 && nextValue.push(this._value[i]);\n    return new ImmutableAccessor(nextValue, this.path);\n  }\n  insertItemsAt(pos, items) {\n    if (!Array.isArray(this._value))\n      throw new Error(\"insertItemsAt only applies to arrays\");\n    let nextValue;\n    return this._value.length === 0 && pos === 0 ? nextValue = items : nextValue = this._value.slice(0, pos).concat(items).concat(this._value.slice(pos)), new ImmutableAccessor(nextValue, this.path);\n  }\n  // Object writer interface\n  setAttribute(key, value) {\n    if (!isRecord$1(this._value))\n      throw new Error(\"Unable to set attribute of non-object container\");\n    if (Object.is(value, this._value[key]))\n      return this;\n    const nextValue = Object.assign({}, this._value, { [key]: value });\n    return new ImmutableAccessor(nextValue, this.path);\n  }\n  setAttributeAccessor(key, accessor) {\n    return this.setAttribute(key, accessor.get());\n  }\n  unsetAttribute(key) {\n    if (!isRecord$1(this._value))\n      throw new Error(\"Unable to unset attribute of non-object container\");\n    const nextValue = Object.assign({}, this._value);\n    return delete nextValue[key], new ImmutableAccessor(nextValue, this.path);\n  }\n}\nfunction isRecord$1(value) {\n  return value !== null && typeof value == \"object\";\n}\nfunction isRecord(value) {\n  return value !== null && typeof value == \"object\";\n}\nconst IS_DOTTABLE = /^[a-z_$]+/;\nfunction arrayToJSONMatchPath(pathArray) {\n  let path = \"\";\n  return pathArray.forEach((segment, index) => {\n    path += stringifySegment(segment, index === 0);\n  }), path;\n}\nfunction stringifySegment(segment, hasLeading) {\n  if (typeof segment == \"number\")\n    return `[${segment}]`;\n  if (isRecord(segment)) {\n    const seg = segment;\n    return Object.keys(segment).map((key) => isPrimitiveValue(seg[key]) ? `[${key}==\"${seg[key]}\"]` : \"\").join(\"\");\n  }\n  return typeof segment == \"string\" && IS_DOTTABLE.test(segment) ? hasLeading ? segment : `.${segment}` : `['${segment}']`;\n}\nfunction isPrimitiveValue(val) {\n  switch (typeof val) {\n    case \"number\":\n    case \"string\":\n    case \"boolean\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction descend$1(tail) {\n  const [head, newTail] = splitIfPath(tail);\n  if (!head)\n    throw new Error(\"Head cannot be null\");\n  return spreadIfUnionHead(head, newTail);\n}\nfunction splitIfPath(tail) {\n  if (tail.type !== \"path\")\n    return [tail, null];\n  const nodes = tail.nodes;\n  return nodes.length === 0 ? [null, null] : nodes.length === 1 ? [nodes[0], null] : [nodes[0], { type: \"path\", nodes: nodes.slice(1) }];\n}\nfunction concatPaths(path1, path2) {\n  if (!path1 && !path2)\n    return null;\n  const nodes1 = path1 ? path1.nodes : [], nodes2 = path2 ? path2.nodes : [];\n  return {\n    type: \"path\",\n    nodes: nodes1.concat(nodes2)\n  };\n}\nfunction spreadIfUnionHead(head, tail) {\n  return head.type !== \"union\" ? [[head, tail]] : head.nodes.map((node) => {\n    if (node.type === \"path\") {\n      const [subHead, subTail] = splitIfPath(node);\n      return [subHead, concatPaths(subTail, tail)];\n    }\n    return [node, tail];\n  });\n}\nvar __defProp$g = Object.defineProperty, __defNormalProp$g = (obj, key, value) => key in obj ? __defProp$g(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$g = (obj, key, value) => __defNormalProp$g(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nconst digitChar = /[0-9]/, attributeCharMatcher = /^[a-zA-Z0-9_]$/, attributeFirstCharMatcher = /^[a-zA-Z_]$/, symbols = {\n  // NOTE: These are compared against in order of definition,\n  // thus '==' must come before '=', '>=' before '>', etc.\n  operator: [\"..\", \".\", \",\", \":\", \"?\"],\n  comparator: [\">=\", \"<=\", \"<\", \">\", \"==\", \"!=\"],\n  keyword: [\"$\", \"@\"],\n  boolean: [\"true\", \"false\"],\n  paren: [\"[\", \"]\"]\n}, symbolClasses = Object.keys(symbols);\nclass Tokenizer {\n  constructor(path) {\n    __publicField$g(this, \"source\"), __publicField$g(this, \"i\"), __publicField$g(this, \"length\"), __publicField$g(this, \"tokenizers\"), this.source = path, this.length = path.length, this.i = 0, this.tokenizers = [\n      this.tokenizeSymbol,\n      this.tokenizeIdentifier,\n      this.tokenizeNumber,\n      this.tokenizeQuoted\n    ].map((fn) => fn.bind(this));\n  }\n  tokenize() {\n    const result = [];\n    for (; !this.EOF(); ) {\n      this.chompWhitespace();\n      let token = null;\n      if (!this.tokenizers.some((tokenizer) => (token = tokenizer(), !!token)) || !token)\n        throw new Error(`Invalid tokens in jsonpath '${this.source}' @ ${this.i}`);\n      result.push(token);\n    }\n    return result;\n  }\n  takeWhile(fn) {\n    const start = this.i;\n    let result = \"\";\n    for (; !this.EOF(); ) {\n      const nextChar = fn(this.source[this.i]);\n      if (nextChar === null)\n        break;\n      result += nextChar, this.i++;\n    }\n    return this.i === start ? null : result;\n  }\n  EOF() {\n    return this.i >= this.length;\n  }\n  peek() {\n    return this.EOF() ? null : this.source[this.i];\n  }\n  consume(str) {\n    if (this.i + str.length > this.length)\n      throw new Error(`Expected ${str} at end of jsonpath`);\n    if (str === this.source.slice(this.i, this.i + str.length))\n      this.i += str.length;\n    else\n      throw new Error(`Expected \"${str}\", but source contained \"${this.source.slice()}`);\n  }\n  // Tries to match the upcoming bit of string with the provided string. If it matches, returns\n  // the string, then advances the read pointer to the next bit. If not, returns null and nothing\n  // happens.\n  tryConsume(str) {\n    if (this.i + str.length > this.length)\n      return null;\n    if (str === this.source.slice(this.i, this.i + str.length)) {\n      if (str[0].match(attributeCharMatcher) && this.length > this.i + str.length) {\n        const nextChar = this.source[this.i + str.length];\n        if (nextChar && nextChar.match(attributeCharMatcher))\n          return null;\n      }\n      return this.i += str.length, str;\n    }\n    return null;\n  }\n  chompWhitespace() {\n    this.takeWhile((char) => char === \" \" ? \"\" : null);\n  }\n  tokenizeQuoted() {\n    const quote = this.peek();\n    if (quote === \"'\" || quote === '\"') {\n      this.consume(quote);\n      let escape = !1;\n      const inner = this.takeWhile((char) => escape ? (escape = !1, char) : char === \"\\\\\" ? (escape = !0, \"\") : char != quote ? char : null);\n      return this.consume(quote), {\n        type: \"quoted\",\n        value: inner,\n        quote: quote === '\"' ? \"double\" : \"single\"\n      };\n    }\n    return null;\n  }\n  tokenizeIdentifier() {\n    let first = !0;\n    const identifier = this.takeWhile((char) => first ? (first = !1, char.match(attributeFirstCharMatcher) ? char : null) : char.match(attributeCharMatcher) ? char : null);\n    return identifier !== null ? {\n      type: \"identifier\",\n      name: identifier\n    } : null;\n  }\n  tokenizeNumber() {\n    const start = this.i;\n    let dotSeen = !1, digitSeen = !1, negative = !1;\n    this.peek() === \"-\" && (negative = !0, this.consume(\"-\"));\n    const number = this.takeWhile((char) => char === \".\" && !dotSeen && digitSeen ? (dotSeen = !0, char) : (digitSeen = !0, char.match(digitChar) ? char : null));\n    return number !== null ? {\n      type: \"number\",\n      value: negative ? -number : +number,\n      raw: negative ? `-${number}` : number\n    } : (this.i = start, null);\n  }\n  tokenizeSymbol() {\n    for (const symbolClass of symbolClasses) {\n      const symbol = symbols[symbolClass].find((pattern) => this.tryConsume(pattern));\n      if (symbol)\n        return {\n          type: symbolClass,\n          symbol\n        };\n    }\n    return null;\n  }\n}\nfunction tokenize(jsonpath) {\n  return new Tokenizer(jsonpath).tokenize();\n}\nvar __defProp$f = Object.defineProperty, __defNormalProp$f = (obj, key, value) => key in obj ? __defProp$f(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$f = (obj, key, value) => __defNormalProp$f(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass Parser {\n  constructor(path) {\n    __publicField$f(this, \"tokens\"), __publicField$f(this, \"length\"), __publicField$f(this, \"i\"), this.tokens = tokenize(path), this.length = this.tokens.length, this.i = 0;\n  }\n  parse() {\n    return this.parsePath();\n  }\n  EOF() {\n    return this.i >= this.length;\n  }\n  // Look at upcoming token\n  peek() {\n    return this.EOF() ? null : this.tokens[this.i];\n  }\n  consume() {\n    const result = this.peek();\n    return this.i += 1, result;\n  }\n  // Return next token if it matches the pattern\n  probe(pattern) {\n    const token = this.peek();\n    if (!token)\n      return null;\n    const record = token;\n    return Object.keys(pattern).every((key) => key in token && pattern[key] === record[key]) ? token : null;\n  }\n  // Return and consume next token if it matches the pattern\n  match(pattern) {\n    return this.probe(pattern) ? this.consume() : null;\n  }\n  parseAttribute() {\n    const token = this.match({ type: \"identifier\" });\n    if (token && token.type === \"identifier\")\n      return {\n        type: \"attribute\",\n        name: token.name\n      };\n    const quoted = this.match({ type: \"quoted\", quote: \"single\" });\n    return quoted && quoted.type === \"quoted\" ? {\n      type: \"attribute\",\n      name: quoted.value || \"\"\n    } : null;\n  }\n  parseAlias() {\n    return this.match({ type: \"keyword\", symbol: \"@\" }) || this.match({ type: \"keyword\", symbol: \"$\" }) ? {\n      type: \"alias\",\n      target: \"self\"\n    } : null;\n  }\n  parseNumber() {\n    const token = this.match({ type: \"number\" });\n    return token && token.type === \"number\" ? {\n      type: \"number\",\n      value: token.value\n    } : null;\n  }\n  parseNumberValue() {\n    const expr = this.parseNumber();\n    return expr ? expr.value : null;\n  }\n  parseSliceSelector() {\n    const start = this.i, rangeStart = this.parseNumberValue();\n    if (!this.match({ type: \"operator\", symbol: \":\" }))\n      return rangeStart === null ? (this.i = start, null) : { type: \"index\", value: rangeStart };\n    const result = {\n      type: \"range\",\n      start: rangeStart,\n      end: this.parseNumberValue()\n    };\n    return this.match({ type: \"operator\", symbol: \":\" }) && (result.step = this.parseNumberValue()), result.start === null && result.end === null ? (this.i = start, null) : result;\n  }\n  parseValueReference() {\n    return this.parseAttribute() || this.parseSliceSelector();\n  }\n  parseLiteralValue() {\n    const literalString = this.match({ type: \"quoted\", quote: \"double\" });\n    if (literalString && literalString.type === \"quoted\")\n      return {\n        type: \"string\",\n        value: literalString.value || \"\"\n      };\n    const literalBoolean = this.match({ type: \"boolean\" });\n    return literalBoolean && literalBoolean.type === \"boolean\" ? {\n      type: \"boolean\",\n      value: literalBoolean.symbol === \"true\"\n    } : this.parseNumber();\n  }\n  // TODO: Reorder constraints so that literal value is always on rhs, and variable is always\n  // on lhs.\n  parseFilterExpression() {\n    const start = this.i, expr = this.parseAttribute() || this.parseAlias();\n    if (!expr)\n      return null;\n    if (this.match({ type: \"operator\", symbol: \"?\" }))\n      return {\n        type: \"constraint\",\n        operator: \"?\",\n        lhs: expr\n      };\n    const binOp = this.match({ type: \"comparator\" });\n    if (!binOp || binOp.type !== \"comparator\")\n      return this.i = start, null;\n    const lhs = expr, rhs = this.parseLiteralValue();\n    if (!rhs)\n      throw new Error(`Operator ${binOp.symbol} needs a literal value at the right hand side`);\n    return {\n      type: \"constraint\",\n      operator: binOp.symbol,\n      lhs,\n      rhs\n    };\n  }\n  parseExpression() {\n    return this.parseFilterExpression() || this.parseValueReference();\n  }\n  parseUnion() {\n    if (!this.match({ type: \"paren\", symbol: \"[\" }))\n      return null;\n    const terms = [];\n    let expr = this.parseFilterExpression() || this.parsePath() || this.parseValueReference();\n    for (; expr && (terms.push(expr), !this.match({ type: \"paren\", symbol: \"]\" })); ) {\n      if (!this.match({ type: \"operator\", symbol: \",\" }))\n        throw new Error(\"Expected ]\");\n      if (expr = this.parseFilterExpression() || this.parsePath() || this.parseValueReference(), !expr)\n        throw new Error(\"Expected expression following ','\");\n    }\n    return {\n      type: \"union\",\n      nodes: terms\n    };\n  }\n  parseRecursive() {\n    if (!this.match({ type: \"operator\", symbol: \"..\" }))\n      return null;\n    const subpath = this.parsePath();\n    if (!subpath)\n      throw new Error(\"Expected path following '..' operator\");\n    return {\n      type: \"recursive\",\n      term: subpath\n    };\n  }\n  parsePath() {\n    const nodes = [], expr = this.parseAttribute() || this.parseUnion() || this.parseRecursive();\n    if (!expr)\n      return null;\n    for (nodes.push(expr); !this.EOF(); )\n      if (this.match({ type: \"operator\", symbol: \".\" })) {\n        const attr = this.parseAttribute();\n        if (!attr)\n          throw new Error(\"Expected attribute name following '.\");\n        nodes.push(attr);\n        continue;\n      } else if (this.probe({ type: \"paren\", symbol: \"[\" })) {\n        const union = this.parseUnion();\n        if (!union)\n          throw new Error(\"Expected union following '['\");\n        nodes.push(union);\n      } else {\n        const recursive = this.parseRecursive();\n        recursive && nodes.push(recursive);\n        break;\n      }\n    return nodes.length === 1 ? nodes[0] : {\n      type: \"path\",\n      nodes\n    };\n  }\n}\nfunction parseJsonPath(path) {\n  const parsed = new Parser(path).parse();\n  if (!parsed)\n    throw new Error(`Failed to parse JSON path \"${path}\"`);\n  return parsed;\n}\nfunction toPath(expr) {\n  return toPathInner(expr, !1);\n}\nfunction toPathInner(expr, inUnion) {\n  switch (expr.type) {\n    case \"attribute\":\n      return expr.name;\n    case \"alias\":\n      return expr.target === \"self\" ? \"@\" : \"$\";\n    case \"number\":\n      return `${expr.value}`;\n    case \"range\": {\n      const result = [];\n      return inUnion || result.push(\"[\"), expr.start && result.push(`${expr.start}`), result.push(\":\"), expr.end && result.push(`${expr.end}`), expr.step && result.push(`:${expr.step}`), inUnion || result.push(\"]\"), result.join(\"\");\n    }\n    case \"index\":\n      return inUnion ? `${expr.value}` : `[${expr.value}]`;\n    case \"constraint\": {\n      const rhs = expr.rhs ? ` ${toPathInner(expr.rhs, !1)}` : \"\", inner = `${toPathInner(expr.lhs, !1)} ${expr.operator}${rhs}`;\n      return inUnion ? inner : `[${inner}]`;\n    }\n    case \"string\":\n      return JSON.stringify(expr.value);\n    case \"path\": {\n      const result = [], nodes = expr.nodes.slice();\n      for (; nodes.length > 0; ) {\n        const node = nodes.shift();\n        node && result.push(toPath(node));\n        const upcoming = nodes[0];\n        upcoming && toPathInner(upcoming, !1)[0] !== \"[\" && result.push(\".\");\n      }\n      return result.join(\"\");\n    }\n    case \"union\":\n      return `[${expr.nodes.map((e) => toPathInner(e, !0)).join(\",\")}]`;\n    default:\n      throw new Error(`Unknown node type ${expr.type}`);\n    case \"recursive\":\n      return `..${toPathInner(expr.term, !1)}`;\n  }\n}\nvar __defProp$e = Object.defineProperty, __defNormalProp$e = (obj, key, value) => key in obj ? __defProp$e(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$e = (obj, key, value) => __defNormalProp$e(obj, key + \"\", value);\nclass Expression {\n  constructor(expr) {\n    if (__publicField$e(this, \"expr\"), !expr)\n      throw new Error(\"Attempted to create Expression from null-value\");\n    if (\"expr\" in expr ? this.expr = expr.expr : this.expr = expr, !(\"type\" in this.expr))\n      throw new Error(\"Attempt to create Expression for expression with no type\");\n  }\n  isPath() {\n    return this.expr.type === \"path\";\n  }\n  isUnion() {\n    return this.expr.type === \"union\";\n  }\n  isCollection() {\n    return this.isPath() || this.isUnion();\n  }\n  isConstraint() {\n    return this.expr.type === \"constraint\";\n  }\n  isRecursive() {\n    return this.expr.type === \"recursive\";\n  }\n  isExistenceConstraint() {\n    return this.expr.type === \"constraint\" && this.expr.operator === \"?\";\n  }\n  isIndex() {\n    return this.expr.type === \"index\";\n  }\n  isRange() {\n    return this.expr.type === \"range\";\n  }\n  expandRange(probe) {\n    const probeLength = () => {\n      if (!probe)\n        throw new Error(\"expandRange() required a probe that was not passed\");\n      return probe.length();\n    };\n    let start = \"start\" in this.expr && this.expr.start || 0;\n    start = interpretNegativeIndex(start, probe);\n    let end = \"end\" in this.expr && this.expr.end || probeLength();\n    end = interpretNegativeIndex(end, probe);\n    const step = \"step\" in this.expr && this.expr.step || 1;\n    return { start, end, step };\n  }\n  isAttributeReference() {\n    return this.expr.type === \"attribute\";\n  }\n  // Is a range or index -> something referencing indexes\n  isIndexReference() {\n    return this.isIndex() || this.isRange();\n  }\n  name() {\n    return \"name\" in this.expr ? this.expr.name : \"\";\n  }\n  isSelfReference() {\n    return this.expr.type === \"alias\" && this.expr.target === \"self\";\n  }\n  constraintTargetIsSelf() {\n    return this.expr.type === \"constraint\" && this.expr.lhs.type === \"alias\" && this.expr.lhs.target === \"self\";\n  }\n  constraintTargetIsAttribute() {\n    return this.expr.type === \"constraint\" && this.expr.lhs.type === \"attribute\";\n  }\n  testConstraint(probe) {\n    const expr = this.expr;\n    if (expr.type === \"constraint\" && expr.lhs.type === \"alias\" && expr.lhs.target === \"self\") {\n      if (probe.containerType() !== \"primitive\")\n        return !1;\n      if (expr.type === \"constraint\" && expr.operator === \"?\")\n        return !0;\n      const lhs2 = probe.get(), rhs2 = expr.rhs && \"value\" in expr.rhs ? expr.rhs.value : void 0;\n      return testBinaryOperator(lhs2, expr.operator, rhs2);\n    }\n    if (expr.type !== \"constraint\")\n      return !1;\n    const lhs = expr.lhs;\n    if (!lhs)\n      throw new Error(\"No LHS of expression\");\n    if (lhs.type !== \"attribute\")\n      throw new Error(`Constraint target ${lhs.type} not supported`);\n    if (probe.containerType() !== \"object\")\n      return !1;\n    const lhsValue = probe.getAttribute(lhs.name);\n    if (lhsValue == null || lhsValue.containerType() !== \"primitive\")\n      return !1;\n    if (this.isExistenceConstraint())\n      return !0;\n    const rhs = expr.rhs && \"value\" in expr.rhs ? expr.rhs.value : void 0;\n    return testBinaryOperator(lhsValue.get(), expr.operator, rhs);\n  }\n  pathNodes() {\n    return this.expr.type === \"path\" ? this.expr.nodes : [this.expr];\n  }\n  prepend(node) {\n    return node ? new Expression({\n      type: \"path\",\n      nodes: node.pathNodes().concat(this.pathNodes())\n    }) : this;\n  }\n  concat(other) {\n    return other ? other.prepend(this) : this;\n  }\n  descend() {\n    return descend$1(this.expr).map((headTail) => {\n      const [head, tail] = headTail;\n      return {\n        head: head ? new Expression(head) : null,\n        tail: tail ? new Expression(tail) : null\n      };\n    });\n  }\n  unwrapRecursive() {\n    if (this.expr.type !== \"recursive\")\n      throw new Error(`Attempt to unwrap recursive on type ${this.expr.type}`);\n    return new Expression(this.expr.term);\n  }\n  toIndicies(probe) {\n    if (this.expr.type !== \"index\" && this.expr.type !== \"range\")\n      throw new Error(\"Node cannot be converted to indexes\");\n    if (this.expr.type === \"index\")\n      return [interpretNegativeIndex(this.expr.value, probe)];\n    const result = [], range = this.expandRange(probe);\n    let { start, end } = range;\n    range.step < 0 && ([start, end] = [end, start]);\n    for (let i = start; i < end; i++)\n      result.push(i);\n    return result;\n  }\n  toFieldReferences() {\n    if (this.isIndexReference())\n      return this.toIndicies();\n    if (this.expr.type === \"attribute\")\n      return [this.expr.name];\n    throw new Error(`Can't convert ${this.expr.type} to field references`);\n  }\n  toString() {\n    return toPath(this.expr);\n  }\n  static fromPath(path) {\n    const parsed = parseJsonPath(path);\n    if (!parsed)\n      throw new Error(`Failed to parse path \"${path}\"`);\n    return new Expression(parsed);\n  }\n  static attributeReference(name) {\n    return new Expression({\n      type: \"attribute\",\n      name\n    });\n  }\n  static indexReference(i) {\n    return new Expression({\n      type: \"index\",\n      value: i\n    });\n  }\n}\nfunction testBinaryOperator(lhsValue, operator, rhsValue) {\n  switch (operator) {\n    case \">\":\n      return lhsValue > rhsValue;\n    case \">=\":\n      return lhsValue >= rhsValue;\n    case \"<\":\n      return lhsValue < rhsValue;\n    case \"<=\":\n      return lhsValue <= rhsValue;\n    case \"==\":\n      return lhsValue === rhsValue;\n    case \"!=\":\n      return lhsValue !== rhsValue;\n    default:\n      throw new Error(`Unsupported binary operator ${operator}`);\n  }\n}\nfunction interpretNegativeIndex(index, probe) {\n  if (index >= 0)\n    return index;\n  if (!probe)\n    throw new Error(\"interpretNegativeIndex() must have a probe when < 0\");\n  return index + probe.length();\n}\nvar __defProp$d = Object.defineProperty, __defNormalProp$d = (obj, key, value) => key in obj ? __defProp$d(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$d = (obj, key, value) => __defNormalProp$d(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass Descender {\n  constructor(head, tail) {\n    __publicField$d(this, \"head\"), __publicField$d(this, \"tail\"), this.head = head, this.tail = tail;\n  }\n  // Iterate this descender once processing any constraints that are\n  // resolvable on the current value. Returns an array of new descenders\n  // that are guaranteed to be without constraints in the head\n  iterate(probe) {\n    let result = [this];\n    if (this.head && this.head.isConstraint()) {\n      let anyConstraints = !0;\n      for (; anyConstraints; )\n        result = lodash_flatten_js__WEBPACK_IMPORTED_MODULE_2__(\n          result.map((descender) => descender.iterateConstraints(probe))\n        ), anyConstraints = result.some((descender) => descender.head && descender.head.isConstraint());\n    }\n    return result;\n  }\n  isRecursive() {\n    return !!(this.head && this.head.isRecursive());\n  }\n  hasArrived() {\n    return this.head === null && this.tail === null;\n  }\n  extractRecursives() {\n    if (this.head && this.head.isRecursive()) {\n      const term = this.head.unwrapRecursive();\n      return new Descender(null, term.concat(this.tail)).descend();\n    }\n    return [];\n  }\n  iterateConstraints(probe) {\n    const head = this.head;\n    if (head === null || !head.isConstraint())\n      return [this];\n    const result = [];\n    if (probe.containerType() === \"primitive\" && head.constraintTargetIsSelf())\n      return head.testConstraint(probe) && result.push(...this.descend()), result;\n    if (probe.containerType() === \"array\") {\n      const length = probe.length();\n      for (let i = 0; i < length; i++) {\n        const constraint = probe.getIndex(i);\n        constraint && head.testConstraint(constraint) && result.push(new Descender(new Expression({ type: \"index\", value: i }), this.tail));\n      }\n      return result;\n    }\n    return probe.containerType() === \"object\" ? head.constraintTargetIsSelf() ? [] : head.testConstraint(probe) ? this.descend() : result : result;\n  }\n  descend() {\n    return this.tail ? this.tail.descend().map((ht) => new Descender(ht.head, ht.tail)) : [new Descender(null, null)];\n  }\n  toString() {\n    const result = [\"<\"];\n    return this.head && result.push(this.head.toString()), result.push(\"|\"), this.tail && result.push(this.tail.toString()), result.push(\">\"), result.join(\"\");\n  }\n}\nvar __defProp$c = Object.defineProperty, __defNormalProp$c = (obj, key, value) => key in obj ? __defProp$c(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$c = (obj, key, value) => __defNormalProp$c(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass Matcher {\n  constructor(active, parent) {\n    __publicField$c(this, \"active\"), __publicField$c(this, \"recursives\"), __publicField$c(this, \"payload\"), this.active = active || [], parent ? (this.recursives = parent.recursives, this.payload = parent.payload) : this.recursives = [], this.extractRecursives();\n  }\n  setPayload(payload) {\n    return this.payload = payload, this;\n  }\n  // Moves any recursive descenders onto the recursive track, removing them from\n  // the active set\n  extractRecursives() {\n    this.active = this.active.filter((descender) => descender.isRecursive() ? (this.recursives.push(...descender.extractRecursives()), !1) : !0);\n  }\n  // Find recursives that are relevant now and should be considered part of the active set\n  activeRecursives(probe) {\n    return this.recursives.filter((descender) => {\n      const head = descender.head;\n      return head ? head.isConstraint() || probe.containerType() === \"array\" && head.isIndexReference() ? !0 : probe.containerType() === \"object\" ? head.isAttributeReference() && probe.hasAttribute(head.name()) : !1 : !1;\n    });\n  }\n  match(probe) {\n    return this.iterate(probe).extractMatches(probe);\n  }\n  iterate(probe) {\n    const newActiveSet = [];\n    return this.active.concat(this.activeRecursives(probe)).forEach((descender) => {\n      newActiveSet.push(...descender.iterate(probe));\n    }), new Matcher(newActiveSet, this);\n  }\n  // Returns true if any of the descenders in the active or recursive set\n  // consider the current state a final destination\n  isDestination() {\n    return this.active.some((descender) => descender.hasArrived());\n  }\n  hasRecursives() {\n    return this.recursives.length > 0;\n  }\n  // Returns any payload delivieries and leads that needs to be followed to complete\n  // the process.\n  extractMatches(probe) {\n    const leads = [], targets = [];\n    if (this.active.forEach((descender) => {\n      if (descender.hasArrived()) {\n        targets.push(\n          new Expression({\n            type: \"alias\",\n            target: \"self\"\n          })\n        );\n        return;\n      }\n      const descenderHead = descender.head;\n      if (descenderHead && !(probe.containerType() === \"array\" && !descenderHead.isIndexReference()) && !(probe.containerType() === \"object\" && !descenderHead.isAttributeReference()))\n        if (descender.tail) {\n          const matcher = new Matcher(descender.descend(), this);\n          descenderHead.toFieldReferences().forEach(() => {\n            leads.push({\n              target: descenderHead,\n              matcher\n            });\n          });\n        } else\n          targets.push(descenderHead);\n    }), this.hasRecursives()) {\n      const recursivesMatcher = new Matcher([], this);\n      if (probe.containerType() === \"array\") {\n        const length = probe.length();\n        for (let i = 0; i < length; i++)\n          leads.push({\n            target: Expression.indexReference(i),\n            matcher: recursivesMatcher\n          });\n      } else probe.containerType() === \"object\" && probe.attributeKeys().forEach((name) => {\n        leads.push({\n          target: Expression.attributeReference(name),\n          matcher: recursivesMatcher\n        });\n      });\n    }\n    return targets.length > 0 ? { leads, delivery: { targets, payload: this.payload } } : { leads };\n  }\n  static fromPath(jsonpath) {\n    const path = parseJsonPath(jsonpath);\n    if (!path)\n      throw new Error(`Failed to parse path from \"${jsonpath}\"`);\n    const descender = new Descender(null, new Expression(path));\n    return new Matcher(descender.descend());\n  }\n}\nvar __defProp$b = Object.defineProperty, __defNormalProp$b = (obj, key, value) => key in obj ? __defProp$b(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$b = (obj, key, value) => __defNormalProp$b(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass PlainProbe {\n  constructor(value, path) {\n    __publicField$b(this, \"_value\"), __publicField$b(this, \"path\"), this._value = value, this.path = path || [];\n  }\n  containerType() {\n    return Array.isArray(this._value) ? \"array\" : this._value !== null && typeof this._value == \"object\" ? \"object\" : \"primitive\";\n  }\n  length() {\n    if (!Array.isArray(this._value))\n      throw new Error(\"Won't return length of non-indexable _value\");\n    return this._value.length;\n  }\n  getIndex(i) {\n    return Array.isArray(this._value) ? i >= this.length() ? null : new PlainProbe(this._value[i], this.path.concat(i)) : !1;\n  }\n  hasAttribute(key) {\n    return isRecord(this._value) ? this._value.hasOwnProperty(key) : !1;\n  }\n  attributeKeys() {\n    return isRecord(this._value) ? Object.keys(this._value) : [];\n  }\n  getAttribute(key) {\n    if (!isRecord(this._value))\n      throw new Error(\"getAttribute only applies to plain objects\");\n    return this.hasAttribute(key) ? new PlainProbe(this._value[key], this.path.concat(key)) : null;\n  }\n  get() {\n    return this._value;\n  }\n}\nfunction extractAccessors(path, value) {\n  const result = [], matcher = Matcher.fromPath(path).setPayload(function(values) {\n    result.push(...values);\n  }), accessor = new PlainProbe(value);\n  return descend(matcher, accessor), result;\n}\nfunction descend(matcher, accessor) {\n  const { leads, delivery } = matcher.match(accessor);\n  leads.forEach((lead) => {\n    accessorsFromTarget(lead.target, accessor).forEach((childAccessor) => {\n      descend(lead.matcher, childAccessor);\n    });\n  }), delivery && delivery.targets.forEach((target) => {\n    typeof delivery.payload == \"function\" && delivery.payload(accessorsFromTarget(target, accessor));\n  });\n}\nfunction accessorsFromTarget(target, accessor) {\n  const result = [];\n  if (target.isIndexReference())\n    target.toIndicies(accessor).forEach((i) => {\n      result.push(accessor.getIndex(i));\n    });\n  else if (target.isAttributeReference())\n    result.push(accessor.getAttribute(target.name()));\n  else if (target.isSelfReference())\n    result.push(accessor);\n  else\n    throw new Error(`Unable to derive accessor for target ${target.toString()}`);\n  return lodash_compact_js__WEBPACK_IMPORTED_MODULE_5__(result);\n}\nfunction extract(path, value) {\n  return extractAccessors(path, value).map((acc) => acc.get());\n}\nfunction extractWithPath(path, value) {\n  return extractAccessors(path, value).map((acc) => ({ path: acc.path, value: acc.get() }));\n}\nvar __defProp$a = Object.defineProperty, __defNormalProp$a = (obj, key, value) => key in obj ? __defProp$a(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$a = (obj, key, value) => __defNormalProp$a(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nfunction applyPatch(patch, oldValue) {\n  if (typeof oldValue != \"string\") return oldValue;\n  const [result] = (0,_sanity_diff_match_patch__WEBPACK_IMPORTED_MODULE_6__.applyPatches)(patch, oldValue, { allowExceedingIndices: !0 });\n  return result;\n}\nclass DiffMatchPatch {\n  constructor(id, path, dmpPatchSrc) {\n    __publicField$a(this, \"path\"), __publicField$a(this, \"dmpPatch\"), __publicField$a(this, \"id\"), this.id = id, this.path = path, this.dmpPatch = (0,_sanity_diff_match_patch__WEBPACK_IMPORTED_MODULE_6__.parsePatch)(dmpPatchSrc);\n  }\n  apply(targets, accessor) {\n    let result = accessor;\n    if (result.containerType() === \"primitive\")\n      return result;\n    for (const target of targets) {\n      if (target.isIndexReference()) {\n        for (const index of target.toIndicies(accessor)) {\n          const item = result.getIndex(index);\n          if (!item)\n            continue;\n          const oldValue = item.get(), nextValue = applyPatch(this.dmpPatch, oldValue);\n          result = result.setIndex(index, nextValue);\n        }\n        continue;\n      }\n      if (target.isAttributeReference() && result.hasAttribute(target.name())) {\n        const attribute = result.getAttribute(target.name());\n        if (!attribute)\n          continue;\n        const oldValue = attribute.get(), nextValue = applyPatch(this.dmpPatch, oldValue);\n        result = result.setAttribute(target.name(), nextValue);\n        continue;\n      }\n      throw new Error(`Unable to apply diffMatchPatch to target ${target.toString()}`);\n    }\n    return result;\n  }\n}\nvar __defProp$9 = Object.defineProperty, __defNormalProp$9 = (obj, key, value) => key in obj ? __defProp$9(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$9 = (obj, key, value) => __defNormalProp$9(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nfunction performIncrement(previousValue, delta) {\n  return typeof previousValue != \"number\" || !Number.isFinite(previousValue) ? previousValue : previousValue + delta;\n}\nclass IncPatch {\n  constructor(id, path, value) {\n    __publicField$9(this, \"path\"), __publicField$9(this, \"value\"), __publicField$9(this, \"id\"), this.path = path, this.value = value, this.id = id;\n  }\n  apply(targets, accessor) {\n    let result = accessor;\n    if (result.containerType() === \"primitive\")\n      return result;\n    for (const target of targets) {\n      if (target.isIndexReference()) {\n        for (const index of target.toIndicies(accessor)) {\n          const item = result.getIndex(index);\n          if (!item)\n            continue;\n          const previousValue = item.get();\n          result = result.setIndex(index, performIncrement(previousValue, this.value));\n        }\n        continue;\n      }\n      if (target.isAttributeReference()) {\n        const attribute = result.getAttribute(target.name());\n        if (!attribute)\n          continue;\n        const previousValue = attribute.get();\n        result = result.setAttribute(target.name(), performIncrement(previousValue, this.value));\n        continue;\n      }\n      throw new Error(`Unable to apply to target ${target.toString()}`);\n    }\n    return result;\n  }\n}\nfunction targetsToIndicies(targets, accessor) {\n  const result = [];\n  return targets.forEach((target) => {\n    target.isIndexReference() && result.push(...target.toIndicies(accessor));\n  }), result.sort();\n}\nvar __defProp$8 = Object.defineProperty, __defNormalProp$8 = (obj, key, value) => key in obj ? __defProp$8(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$8 = (obj, key, value) => __defNormalProp$8(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass InsertPatch {\n  constructor(id, location, path, items) {\n    __publicField$8(this, \"location\"), __publicField$8(this, \"path\"), __publicField$8(this, \"items\"), __publicField$8(this, \"id\"), this.id = id, this.location = location, this.path = path, this.items = items;\n  }\n  apply(targets, accessor) {\n    let result = accessor;\n    if (accessor.containerType() !== \"array\")\n      throw new Error(\"Attempt to apply insert patch to non-array value\");\n    switch (this.location) {\n      case \"before\": {\n        const pos = minIndex(targets, accessor);\n        result = result.insertItemsAt(pos, this.items);\n        break;\n      }\n      case \"after\": {\n        const pos = maxIndex(targets, accessor);\n        result = result.insertItemsAt(pos + 1, this.items);\n        break;\n      }\n      case \"replace\": {\n        const indicies = targetsToIndicies(targets, accessor);\n        result = result.unsetIndices(indicies), result = result.insertItemsAt(indicies[0], this.items);\n        break;\n      }\n      default:\n        throw new Error(`Unsupported location atm: ${this.location}`);\n    }\n    return result;\n  }\n}\nfunction minIndex(targets, accessor) {\n  let result = lodash_min_js__WEBPACK_IMPORTED_MODULE_4__(targetsToIndicies(targets, accessor)) || 0;\n  return targets.forEach((target) => {\n    if (target.isRange()) {\n      const { start } = target.expandRange();\n      start < result && (result = start);\n    }\n  }), result;\n}\nfunction maxIndex(targets, accessor) {\n  let result = lodash_max_js__WEBPACK_IMPORTED_MODULE_3__(targetsToIndicies(targets, accessor)) || 0;\n  return targets.forEach((target) => {\n    if (target.isRange()) {\n      const { end } = target.expandRange();\n      end > result && (result = end);\n    }\n  }), result;\n}\nvar __defProp$7 = Object.defineProperty, __defNormalProp$7 = (obj, key, value) => key in obj ? __defProp$7(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$7 = (obj, key, value) => __defNormalProp$7(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass SetIfMissingPatch {\n  constructor(id, path, value) {\n    __publicField$7(this, \"id\"), __publicField$7(this, \"path\"), __publicField$7(this, \"value\"), this.id = id, this.path = path, this.value = value;\n  }\n  apply(targets, accessor) {\n    let result = accessor;\n    return targets.forEach((target) => {\n      if (!target.isIndexReference())\n        if (target.isAttributeReference())\n          result.containerType() === \"primitive\" ? result = result.set({ [target.name()]: this.value }) : result.hasAttribute(target.name()) || (result = accessor.setAttribute(target.name(), this.value));\n        else\n          throw new Error(`Unable to apply to target ${target.toString()}`);\n    }), result;\n  }\n}\nvar __defProp$6 = Object.defineProperty, __defNormalProp$6 = (obj, key, value) => key in obj ? __defProp$6(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$6 = (obj, key, value) => __defNormalProp$6(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass SetPatch {\n  constructor(id, path, value) {\n    __publicField$6(this, \"id\"), __publicField$6(this, \"path\"), __publicField$6(this, \"value\"), this.id = id, this.path = path, this.value = value;\n  }\n  apply(targets, accessor) {\n    let result = accessor;\n    return targets.forEach((target) => {\n      if (target.isSelfReference())\n        result = result.set(this.value);\n      else if (target.isIndexReference())\n        target.toIndicies(accessor).forEach((i) => {\n          result = result.setIndex(i, this.value);\n        });\n      else if (target.isAttributeReference())\n        result.containerType() === \"primitive\" ? result = result.set({ [target.name()]: this.value }) : result = result.setAttribute(target.name(), this.value);\n      else\n        throw new Error(`Unable to apply to target ${target.toString()}`);\n    }), result;\n  }\n}\nvar __defProp$5 = Object.defineProperty, __defNormalProp$5 = (obj, key, value) => key in obj ? __defProp$5(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$5 = (obj, key, value) => __defNormalProp$5(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass UnsetPatch {\n  constructor(id, path) {\n    __publicField$5(this, \"id\"), __publicField$5(this, \"path\"), __publicField$5(this, \"value\"), this.id = id, this.path = path;\n  }\n  // eslint-disable-next-line class-methods-use-this\n  apply(targets, accessor) {\n    let result = accessor;\n    switch (accessor.containerType()) {\n      case \"array\":\n        result = result.unsetIndices(targetsToIndicies(targets, accessor));\n        break;\n      case \"object\":\n        targets.forEach((target) => {\n          result = result.unsetAttribute(target.name());\n        });\n        break;\n      default:\n        throw new Error(\n          \"Target value is neither indexable or an object. This error should potentially just be silently ignored?\"\n        );\n    }\n    return result;\n  }\n}\nfunction parsePatch(patch) {\n  const result = [];\n  if (Array.isArray(patch))\n    return patch.reduce((r, p) => r.concat(parsePatch(p)), result);\n  const { set, setIfMissing, unset, diffMatchPatch, inc, dec, insert } = patch;\n  if (setIfMissing && Object.keys(setIfMissing).forEach((path) => {\n    result.push(new SetIfMissingPatch(patch.id, path, setIfMissing[path]));\n  }), set && Object.keys(set).forEach((path) => {\n    result.push(new SetPatch(patch.id, path, set[path]));\n  }), unset && unset.forEach((path) => {\n    result.push(new UnsetPatch(patch.id, path));\n  }), diffMatchPatch && Object.keys(diffMatchPatch).forEach((path) => {\n    result.push(new DiffMatchPatch(patch.id, path, diffMatchPatch[path]));\n  }), inc && Object.keys(inc).forEach((path) => {\n    result.push(new IncPatch(patch.id, path, inc[path]));\n  }), dec && Object.keys(dec).forEach((path) => {\n    result.push(new IncPatch(patch.id, path, -dec[path]));\n  }), insert) {\n    let location, path;\n    const spec = insert;\n    if (\"before\" in spec)\n      location = \"before\", path = spec.before;\n    else if (\"after\" in spec)\n      location = \"after\", path = spec.after;\n    else if (\"replace\" in spec)\n      location = \"replace\", path = spec.replace;\n    else\n      throw new Error(\"Invalid insert patch\");\n    result.push(new InsertPatch(patch.id, location, path, spec.items));\n  }\n  return result;\n}\nvar __defProp$4 = Object.defineProperty, __defNormalProp$4 = (obj, key, value) => key in obj ? __defProp$4(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$4 = (obj, key, value) => __defNormalProp$4(obj, key + \"\", value);\nclass Patcher {\n  constructor(patch) {\n    __publicField$4(this, \"patches\"), this.patches = parsePatch(patch);\n  }\n  apply(value) {\n    const accessor = new ImmutableAccessor(value);\n    return this.applyViaAccessor(accessor).get();\n  }\n  // If you want to use your own accessor implementation, you can use this method\n  // to invoke the patcher. Since all subsequent accessors for children of this accessor\n  // are obtained through the methods in the accessors, you retain full control of the\n  // implementation throguhgout the application. Have a look in ImmutableAccessor\n  // to see an example of how accessors are implemented.\n  applyViaAccessor(accessor) {\n    let result = accessor;\n    const idAccessor = accessor.getAttribute(\"_id\");\n    if (!idAccessor)\n      throw new Error(\"Cannot apply patch to document with no _id\");\n    const id = idAccessor.get();\n    for (const patch of this.patches) {\n      if (patch.id !== id)\n        continue;\n      const matcher = Matcher.fromPath(patch.path).setPayload(patch);\n      result = process(matcher, result);\n    }\n    return result;\n  }\n}\nfunction process(matcher, accessor) {\n  const isSetPatch = matcher.payload instanceof SetPatch || matcher.payload instanceof SetIfMissingPatch;\n  let result = accessor;\n  const { leads, delivery } = matcher.match(accessor);\n  return leads.forEach((lead) => {\n    if (lead.target.isIndexReference())\n      lead.target.toIndicies().forEach((i) => {\n        const item = result.getIndex(i);\n        if (!item)\n          throw new Error(\"Index out of bounds\");\n        result = result.setIndexAccessor(i, process(lead.matcher, item));\n      });\n    else if (lead.target.isAttributeReference()) {\n      isSetPatch && result.containerType() === \"primitive\" && (result = result.set({}));\n      let oldValueAccessor = result.getAttribute(lead.target.name());\n      if (!oldValueAccessor && isSetPatch && (result = result.setAttribute(lead.target.name(), {}), oldValueAccessor = result.getAttribute(lead.target.name())), !oldValueAccessor)\n        return;\n      const newValueAccessor = process(lead.matcher, oldValueAccessor);\n      oldValueAccessor !== newValueAccessor && (result = result.setAttributeAccessor(lead.target.name(), newValueAccessor));\n    } else\n      throw new Error(`Unable to handle target ${lead.target.toString()}`);\n  }), delivery && isPatcher(delivery.payload) && (result = delivery.payload.apply(delivery.targets, result)), result;\n}\nfunction isPatcher(payload) {\n  return !!(payload && typeof payload == \"object\" && payload !== null && \"apply\" in payload && typeof payload.apply == \"function\");\n}\nconst luid = _sanity_uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\nvar __defProp$3 = Object.defineProperty, __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$3 = (obj, key, value) => __defNormalProp$3(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass Mutation {\n  constructor(options) {\n    __publicField$3(this, \"params\"), __publicField$3(this, \"compiled\"), __publicField$3(this, \"_appliesToMissingDocument\"), this.params = options;\n  }\n  get transactionId() {\n    return this.params.transactionId;\n  }\n  get transition() {\n    return this.params.transition;\n  }\n  get identity() {\n    return this.params.identity;\n  }\n  get previousRev() {\n    return this.params.previousRev;\n  }\n  get resultRev() {\n    return this.params.resultRev;\n  }\n  get mutations() {\n    return this.params.mutations;\n  }\n  get timestamp() {\n    if (typeof this.params.timestamp == \"string\")\n      return new Date(this.params.timestamp);\n  }\n  get effects() {\n    return this.params.effects;\n  }\n  assignRandomTransactionId() {\n    this.params.transactionId = luid(), this.params.resultRev = this.params.transactionId;\n  }\n  appliesToMissingDocument() {\n    if (typeof this._appliesToMissingDocument < \"u\")\n      return this._appliesToMissingDocument;\n    const firstMut = this.mutations[0];\n    return firstMut ? this._appliesToMissingDocument = !!(firstMut.create || firstMut.createIfNotExists || firstMut.createOrReplace) : this._appliesToMissingDocument = !0, this._appliesToMissingDocument;\n  }\n  // Compiles all mutations into a handy function\n  compile() {\n    const operations = [];\n    this.mutations.forEach((mutation) => {\n      if (mutation.create) {\n        const create = mutation.create || {};\n        operations.push((doc) => doc || Object.assign(create, {\n          _createdAt: create._createdAt || this.params.timestamp\n        }));\n        return;\n      }\n      if (mutation.createIfNotExists) {\n        const createIfNotExists = mutation.createIfNotExists || {};\n        operations.push(\n          (doc) => doc === null ? Object.assign(createIfNotExists, {\n            _createdAt: createIfNotExists._createdAt || this.params.timestamp\n          }) : doc\n        );\n        return;\n      }\n      if (mutation.createOrReplace) {\n        const createOrReplace = mutation.createOrReplace || {};\n        operations.push(\n          () => Object.assign(createOrReplace, {\n            _createdAt: createOrReplace._createdAt || this.params.timestamp\n          })\n        );\n        return;\n      }\n      if (mutation.delete) {\n        operations.push(() => null);\n        return;\n      }\n      if (mutation.patch) {\n        if (\"query\" in mutation.patch)\n          return;\n        const patch = new Patcher(mutation.patch);\n        operations.push((doc) => patch.apply(doc));\n        return;\n      }\n      throw new Error(`Unsupported mutation ${JSON.stringify(mutation, null, 2)}`);\n    }), typeof this.params.timestamp == \"string\" && operations.push((doc) => doc ? Object.assign(doc, { _updatedAt: this.params.timestamp }) : null);\n    const prevRev = this.previousRev, rev = this.resultRev || this.transactionId;\n    this.compiled = (doc) => {\n      if (prevRev && doc && prevRev !== doc._rev)\n        throw new Error(\n          `Previous revision for this mutation was ${prevRev}, but the document revision is ${doc._rev}`\n        );\n      let result = doc;\n      for (const operation of operations)\n        result = operation(result);\n      return result && rev && (result === doc && (result = Object.assign({}, doc)), result._rev = rev), result;\n    };\n  }\n  apply(document) {\n    debug(\"Applying mutation %O to document %O\", this.mutations, document), this.compiled || this.compile();\n    const result = this.compiled(document);\n    return debug(\"  => %O\", result), result;\n  }\n  static applyAll(document, mutations) {\n    return mutations.reduce((doc, mutation) => mutation.apply(doc), document);\n  }\n  // Given a number of yet-to-be-committed mutation objects, collects them into one big mutation\n  // any metadata like transactionId is ignored and must be submitted by the client. It is assumed\n  // that all mutations are on the same document.\n  // TOOO: Optimize mutations, eliminating mutations that overwrite themselves!\n  static squash(document, mutations) {\n    const squashed = mutations.reduce(\n      (result, mutation) => result.concat(...mutation.mutations),\n      []\n    );\n    return new Mutation({ mutations: squashed });\n  }\n}\nvar __defProp$2 = Object.defineProperty, __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$2 = (obj, key, value) => __defNormalProp$2(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass Document {\n  constructor(doc) {\n    __publicField$2(this, \"incoming\", []), __publicField$2(this, \"submitted\", []), __publicField$2(this, \"pending\", []), __publicField$2(this, \"HEAD\"), __publicField$2(this, \"EDGE\"), __publicField$2(this, \"onRebase\"), __publicField$2(this, \"onMutation\"), __publicField$2(this, \"onConsistencyChanged\"), __publicField$2(this, \"onRemoteMutation\"), __publicField$2(this, \"inconsistentAt\", null), __publicField$2(this, \"lastStagedAt\", null), this.reset(doc), this.HEAD = doc, this.EDGE = doc;\n  }\n  // Reset the state of the Document, used to recover from unsavory states by reloading the document\n  reset(doc) {\n    this.incoming = [], this.submitted = [], this.pending = [], this.inconsistentAt = null, this.HEAD = doc, this.EDGE = doc, this.considerIncoming(), this.updateConsistencyFlag();\n  }\n  // Call when a mutation arrives from Sanity\n  arrive(mutation) {\n    this.incoming.push(mutation), this.considerIncoming(), this.updateConsistencyFlag();\n  }\n  // Call to signal that we are submitting a mutation. Returns a callback object with a\n  // success and failure handler that must be called according to the outcome of our\n  // submission.\n  stage(mutation, silent) {\n    if (!mutation.transactionId)\n      throw new Error(\"Mutations _must_ have transactionId when submitted\");\n    this.lastStagedAt = /* @__PURE__ */ new Date(), debug(\"Staging mutation %s (pushed to pending)\", mutation.transactionId), this.pending.push(mutation), this.EDGE = mutation.apply(this.EDGE), this.onMutation && !silent && this.onMutation({\n      mutation,\n      document: this.EDGE,\n      remote: !1\n    });\n    const txnId = mutation.transactionId;\n    return this.updateConsistencyFlag(), {\n      success: () => {\n        this.pendingSuccessfullySubmitted(txnId), this.updateConsistencyFlag();\n      },\n      failure: () => {\n        this.pendingFailed(txnId), this.updateConsistencyFlag();\n      }\n    };\n  }\n  // Call to check if everything is nice and quiet and there are no unresolved mutations.\n  // Means this model thinks both HEAD and EDGE is up to date with what the server sees.\n  isConsistent() {\n    return !this.inconsistentAt;\n  }\n  // Private\n  // Attempts to apply any resolvable incoming patches to HEAD. Will keep patching as long as there\n  // are applicable patches to be applied\n  considerIncoming() {\n    let mustRebase = !1, nextMut;\n    const rebaseMutations = [];\n    if (this.HEAD && this.HEAD._updatedAt) {\n      const updatedAt = new Date(this.HEAD._updatedAt);\n      this.incoming.find((mut) => mut.timestamp && mut.timestamp < updatedAt) && (this.incoming = this.incoming.filter((mut) => mut.timestamp && mut.timestamp < updatedAt));\n    }\n    let protect = 0;\n    do {\n      if (this.HEAD) {\n        const HEAD = this.HEAD;\n        nextMut = HEAD._rev ? this.incoming.find((mut) => mut.previousRev === HEAD._rev) : void 0;\n      } else\n        nextMut = this.incoming.find((mut) => mut.appliesToMissingDocument());\n      if (nextMut) {\n        const applied = this.applyIncoming(nextMut);\n        if (mustRebase = mustRebase || applied, mustRebase && rebaseMutations.push(nextMut), protect++ > 10)\n          throw new Error(\n            `Mutator stuck flushing incoming mutations. Probably stuck here: ${JSON.stringify(\n              nextMut\n            )}`\n          );\n      }\n    } while (nextMut);\n    this.incoming.length > 0 && debug.enabled && debug(\n      \"Unable to apply mutations %s\",\n      this.incoming.map((mut) => mut.transactionId).join(\", \")\n    ), mustRebase && this.rebase(rebaseMutations);\n  }\n  // check current consistency state, update flag and invoke callback if needed\n  updateConsistencyFlag() {\n    const wasConsistent = this.isConsistent(), isConsistent = this.pending.length === 0 && this.submitted.length === 0 && this.incoming.length === 0;\n    isConsistent ? this.inconsistentAt = null : this.inconsistentAt || (this.inconsistentAt = /* @__PURE__ */ new Date()), wasConsistent != isConsistent && this.onConsistencyChanged && (debug(isConsistent ? \"Buffered document is inconsistent\" : \"Buffered document is consistent\"), this.onConsistencyChanged(isConsistent));\n  }\n  // apply an incoming patch that has been prequalified as the next in line for this document\n  applyIncoming(mut) {\n    if (!mut)\n      return !1;\n    if (!mut.transactionId)\n      throw new Error(\"Received incoming mutation without a transaction ID\");\n    if (debug(\n      \"Applying mutation %s -> %s to rev %s\",\n      mut.previousRev,\n      mut.resultRev,\n      this.HEAD && this.HEAD._rev\n    ), this.HEAD = mut.apply(this.HEAD), this.onRemoteMutation && this.onRemoteMutation(mut), this.incoming = this.incoming.filter((m) => m.transactionId !== mut.transactionId), this.hasUnresolvedMutations()) {\n      const needRebase = this.consumeUnresolved(mut.transactionId);\n      return debug.enabled && (debug(\n        `Incoming mutation ${mut.transactionId} appeared while there were pending or submitted local mutations`\n      ), debug(`Submitted txnIds: ${this.submitted.map((m) => m.transactionId).join(\", \")}`), debug(`Pending txnIds: ${this.pending.map((m) => m.transactionId).join(\", \")}`), debug(\"needRebase === %s\", needRebase)), needRebase;\n    }\n    return debug(\n      \"Remote mutation %s arrived w/o any pending or submitted local mutations\",\n      mut.transactionId\n    ), this.EDGE = this.HEAD, this.onMutation && this.onMutation({\n      mutation: mut,\n      document: this.EDGE,\n      remote: !0\n    }), !1;\n  }\n  /**\n   * Returns true if there are unresolved mutations between HEAD and EDGE, meaning we have\n   * mutations that are still waiting to be either submitted, or to be confirmed by the server.\n   *\n   * @returns true if there are unresolved mutations between HEAD and EDGE, false otherwise\n   */\n  hasUnresolvedMutations() {\n    return this.submitted.length > 0 || this.pending.length > 0;\n  }\n  /**\n   * When an incoming mutation is applied to HEAD, this is called to remove the mutation from\n   * the unresolved state. If the newly applied patch is the next upcoming unresolved mutation,\n   * no rebase is needed, but we might have the wrong idea about the ordering of mutations, so in\n   * that case we are given the flag `needRebase` to tell us that this mutation arrived out of\n   * order in terms of our optimistic version, so a rebase is needed.\n   *\n   * @param txnId - Transaction ID of the remote mutation\n   * @returns true if rebase is needed, false otherwise\n   */\n  consumeUnresolved(txnId) {\n    if (this.submitted.length === 0 && this.pending.length === 0)\n      return !1;\n    if (this.submitted.length !== 0) {\n      if (this.submitted[0].transactionId === txnId)\n        return debug(\n          \"Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer\",\n          txnId\n        ), this.submitted.shift(), !1;\n    } else if (this.pending.length > 0 && this.pending[0].transactionId === txnId)\n      return debug(\n        \"Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer\",\n        txnId\n      ), this.pending.shift(), !1;\n    return debug(\n      \"The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d\",\n      this.pending.length,\n      this.submitted.length\n    ), this.submitted = this.submitted.filter((mut) => mut.transactionId !== txnId), this.pending = this.pending.filter((mut) => mut.transactionId !== txnId), debug(\"After scrubbing: Pending: %d, Submitted: %d\", this.pending.length, this.submitted.length), !0;\n  }\n  pendingSuccessfullySubmitted(pendingTxnId) {\n    if (this.pending.length === 0)\n      return;\n    const first = this.pending[0];\n    if (first.transactionId === pendingTxnId) {\n      this.pending.shift(), this.submitted.push(first);\n      return;\n    }\n    let justSubmitted;\n    const stillPending = [];\n    this.pending.forEach((mutation) => {\n      if (mutation.transactionId === pendingTxnId) {\n        justSubmitted = mutation;\n        return;\n      }\n      stillPending.push(mutation);\n    }), justSubmitted && this.submitted.push(justSubmitted), this.pending = stillPending, this.rebase([]);\n  }\n  pendingFailed(pendingTxnId) {\n    this.pending = this.pending.filter((mutation) => mutation.transactionId !== pendingTxnId), this.rebase([]);\n  }\n  rebase(incomingMutations) {\n    const oldEdge = this.EDGE;\n    this.EDGE = Mutation.applyAll(this.HEAD, this.submitted.concat(this.pending)), oldEdge !== null && this.EDGE !== null && (oldEdge._rev = this.EDGE._rev), !lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_0__(this.EDGE, oldEdge) && this.onRebase && this.onRebase(this.EDGE, incomingMutations, this.pending);\n  }\n}\nvar __defProp$1 = Object.defineProperty, __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$1 = (obj, key, value) => __defNormalProp$1(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass SquashingBuffer {\n  constructor(doc) {\n    __publicField$1(this, \"BASIS\"), __publicField$1(this, \"PRESTAGE\"), __publicField$1(this, \"setOperations\"), __publicField$1(this, \"documentPresent\"), __publicField$1(this, \"out\", []), __publicField$1(this, \"staged\"), doc ? debug(\"Reset mutation buffer to rev %s\", doc._rev) : debug(\"Reset mutation buffer state to document being deleted\"), this.staged = [], this.setOperations = {}, this.documentPresent = !1, this.BASIS = doc, this.PRESTAGE = doc;\n  }\n  add(mut) {\n    mut.mutations.forEach((op) => this.addOperation(op));\n  }\n  hasChanges() {\n    return this.out.length > 0 || Object.keys(this.setOperations).length > 0;\n  }\n  /**\n   * Extracts the mutations in this buffer.\n   * After this is done, the buffer lifecycle is over and the client should\n   * create an new one with the new, updated BASIS.\n   *\n   * @param txnId - Transaction ID\n   * @returns A `Mutation` instance if we had outgoing mutations pending, null otherwise\n   */\n  purge(txnId) {\n    this.stashStagedOperations();\n    let result = null;\n    return this.out.length > 0 && (debug(\"Purged mutation buffer\"), result = new Mutation({\n      mutations: this.out,\n      resultRev: txnId,\n      transactionId: txnId\n    })), this.out = [], this.documentPresent = !1, result;\n  }\n  addOperation(op) {\n    var _a;\n    if (op.patch && op.patch.set && \"id\" in op.patch && op.patch.id === ((_a = this.PRESTAGE) == null ? void 0 : _a._id) && Object.keys(op.patch).length === 2) {\n      const setPatch = op.patch.set, unoptimizable = {};\n      for (const path of Object.keys(setPatch))\n        setPatch.hasOwnProperty(path) && (this.optimiseSetOperation(path, setPatch[path]) || (unoptimizable[path] = setPatch[path]));\n      Object.keys(unoptimizable).length > 0 && (debug(\"Unoptimizable set-operation detected, purging optimization buffer\"), this.staged.push({ patch: { id: this.PRESTAGE._id, set: unoptimizable } }), this.stashStagedOperations());\n      return;\n    }\n    if (op.createIfNotExists && this.PRESTAGE && op.createIfNotExists._id === this.PRESTAGE._id) {\n      this.documentPresent || (this.staged.push(op), this.documentPresent = !0, this.stashStagedOperations());\n      return;\n    }\n    debug(\"Unoptimizable mutation detected, purging optimization buffer\"), this.staged.push(op), this.stashStagedOperations();\n  }\n  /**\n     * Attempt to perform one single set operation in an optimised manner, return value\n     * reflects whether or not the operation could be performed.\n  \n     * @param path - The JSONPath to the set operation in question\n     * @param nextValue - The value to be set\n     * @returns True of optimized, false otherwise\n     */\n  optimiseSetOperation(path, nextValue) {\n    if (typeof nextValue == \"object\")\n      return !1;\n    const matches = extractWithPath(path, this.PRESTAGE);\n    if (matches.length !== 1)\n      return !1;\n    const match = matches[0];\n    if (typeof match.value == \"object\" || !this.PRESTAGE)\n      return !1;\n    let op = null;\n    if (match.value === nextValue)\n      op = null;\n    else if (typeof match.value == \"string\" && typeof nextValue == \"string\")\n      try {\n        const patch = (0,_sanity_diff_match_patch__WEBPACK_IMPORTED_MODULE_6__.stringifyPatches)((0,_sanity_diff_match_patch__WEBPACK_IMPORTED_MODULE_6__.makePatches)(match.value, nextValue));\n        op = { patch: { id: this.PRESTAGE._id, diffMatchPatch: { [path]: patch } } };\n      } catch {\n        return !1;\n      }\n    else\n      op = { patch: { id: this.PRESTAGE._id, set: { [path]: nextValue } } };\n    const canonicalPath = arrayToJSONMatchPath(match.path);\n    return op ? this.setOperations[canonicalPath] = op : delete this.setOperations[canonicalPath], !0;\n  }\n  stashStagedOperations() {\n    const nextOps = [];\n    Object.keys(this.setOperations).forEach((key) => {\n      const op = this.setOperations[key];\n      op && nextOps.push(op);\n    }), nextOps.push(...this.staged), nextOps.length > 0 && (this.PRESTAGE = new Mutation({ mutations: nextOps }).apply(this.PRESTAGE), this.staged = [], this.setOperations = {}), this.out.push(...nextOps);\n  }\n  /**\n   * Rebases given the new base-document\n   *\n   * @param newBasis - New base document to rebase on\n   * @returns New \"edge\" document with buffered changes integrated\n   */\n  rebase(newBasis) {\n    return this.stashStagedOperations(), newBasis === null ? (this.out = [], this.BASIS = newBasis, this.PRESTAGE = newBasis, this.documentPresent = !1) : (this.BASIS = newBasis, this.out ? this.PRESTAGE = new Mutation({ mutations: this.out }).apply(this.BASIS) : this.PRESTAGE = this.BASIS), this.PRESTAGE;\n  }\n}\nvar __defProp = Object.defineProperty, __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField = (obj, key, value) => __defNormalProp(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nconst ONE_MINUTE = 1e3 * 60;\nclass Commit {\n  constructor(mutations, { resolve, reject }) {\n    __publicField(this, \"mutations\"), __publicField(this, \"tries\"), __publicField(this, \"resolve\"), __publicField(this, \"reject\"), this.mutations = mutations, this.tries = 0, this.resolve = resolve, this.reject = reject;\n  }\n  apply(doc) {\n    return Mutation.applyAll(doc, this.mutations);\n  }\n  squash(doc) {\n    const result = Mutation.squash(doc, this.mutations);\n    return result.assignRandomTransactionId(), result;\n  }\n}\nconst mutReducerFn = (acc, mut) => acc.concat(mut.mutations);\nclass BufferedDocument {\n  constructor(doc) {\n    __publicField(this, \"mutations\"), __publicField(this, \"document\"), __publicField(this, \"LOCAL\"), __publicField(this, \"commits\"), __publicField(this, \"buffer\"), __publicField(this, \"onMutation\"), __publicField(this, \"onRemoteMutation\"), __publicField(this, \"onRebase\"), __publicField(this, \"onDelete\"), __publicField(this, \"onConsistencyChanged\"), __publicField(this, \"commitHandler\"), __publicField(this, \"committerRunning\", !1), this.buffer = new SquashingBuffer(doc), this.document = new Document(doc), this.document.onMutation = (msg) => this.handleDocMutation(msg), this.document.onRemoteMutation = (mut) => this.onRemoteMutation && this.onRemoteMutation(mut), this.document.onRebase = (edge, remoteMutations, localMutations) => this.handleDocRebase(edge, remoteMutations, localMutations), this.document.onConsistencyChanged = (msg) => this.handleDocConsistencyChanged(msg), this.LOCAL = doc, this.mutations = [], this.commits = [];\n  }\n  // Used to reset the state of the local document model. If the model has been inconsistent\n  // for too long, it has probably missed a notification, and should reload the document from the server\n  reset(doc) {\n    doc ? debug(\"Document state reset to revision %s\", doc._rev) : debug(\"Document state reset to being deleted\"), this.document.reset(doc), this.rebase([], []), this.handleDocConsistencyChanged(this.document.isConsistent());\n  }\n  // Add a change to the buffer\n  add(mutation) {\n    this.onConsistencyChanged && this.onConsistencyChanged(!1), debug(\"Staged local mutation\"), this.buffer.add(mutation);\n    const oldLocal = this.LOCAL;\n    this.LOCAL = mutation.apply(this.LOCAL), this.onMutation && oldLocal !== this.LOCAL && (debug(\"onMutation fired\"), this.onMutation({\n      mutation,\n      document: this.LOCAL,\n      remote: !1\n    }), this.LOCAL === null && this.onDelete && this.onDelete(this.LOCAL));\n  }\n  // Call when a mutation arrives from Sanity\n  arrive(mutation) {\n    if (debug(\"Remote mutation arrived %s -> %s\", mutation.previousRev, mutation.resultRev), mutation.previousRev === mutation.resultRev)\n      throw new Error(\n        `Mutation ${mutation.transactionId} has previousRev === resultRev (${mutation.previousRev})`\n      );\n    return this.document.arrive(mutation);\n  }\n  // Submit all mutations in the buffer to be committed\n  commit() {\n    return new Promise((resolve, reject) => {\n      if (!this.buffer.hasChanges()) {\n        resolve();\n        return;\n      }\n      debug(\"Committing local changes\");\n      const pendingMutations = this.buffer.purge();\n      this.commits.push(new Commit(pendingMutations ? [pendingMutations] : [], { resolve, reject })), this.buffer = new SquashingBuffer(this.LOCAL), this.performCommits();\n    });\n  }\n  // Starts the committer that will try to committ all staged commits to the database\n  // by calling the commitHandler. Will keep running until all commits are successfully\n  // committed.\n  performCommits() {\n    if (!this.commitHandler)\n      throw new Error(\"No commitHandler configured for this BufferedDocument\");\n    this.committerRunning || this._cycleCommitter();\n  }\n  // TODO: Error handling, right now retries after every error\n  _cycleCommitter() {\n    const commit = this.commits.shift();\n    if (!commit) {\n      this.committerRunning = !1;\n      return;\n    }\n    this.committerRunning = !0;\n    const squashed = commit.squash(this.LOCAL), docResponder = this.document.stage(squashed, !0), responder = {\n      success: () => {\n        debug(\"Commit succeeded\"), docResponder.success(), commit.resolve(), this._cycleCommitter();\n      },\n      failure: () => {\n        debug(\"Commit failed\"), commit.tries += 1, this.LOCAL !== null && this.commits.unshift(commit), docResponder.failure(), commit.tries < 200 && setTimeout(() => this._cycleCommitter(), Math.min(commit.tries * 1e3, ONE_MINUTE));\n      },\n      cancel: (error) => {\n        this.commits.forEach((comm) => comm.reject(error)), this.commits = [], this.reset(this.document.HEAD), this.buffer = new SquashingBuffer(this.LOCAL), this.committerRunning = !1;\n      }\n    };\n    debug(\"Posting commit\"), this.commitHandler && this.commitHandler({\n      mutation: squashed,\n      success: responder.success,\n      failure: responder.failure,\n      cancel: responder.cancel\n    });\n  }\n  handleDocRebase(edge, remoteMutations, localMutations) {\n    this.rebase(remoteMutations, localMutations);\n  }\n  handleDocumentDeleted() {\n    debug(\"Document deleted\"), this.LOCAL !== null && this.onDelete && this.onDelete(this.LOCAL), this.commits = [], this.mutations = [];\n  }\n  handleDocMutation(msg) {\n    if (this.commits.length === 0 && !this.buffer.hasChanges()) {\n      debug(\"Document mutated from remote with no local changes\"), this.LOCAL = this.document.EDGE, this.buffer = new SquashingBuffer(this.LOCAL), this.onMutation && this.onMutation(msg);\n      return;\n    }\n    debug(\"Document mutated from remote with local changes\"), this.document.EDGE === null && this.handleDocumentDeleted(), this.rebase([msg.mutation], []);\n  }\n  rebase(remoteMutations, localMutations) {\n    debug(\"Rebasing document\"), this.document.EDGE === null && this.handleDocumentDeleted();\n    const oldLocal = this.LOCAL;\n    this.LOCAL = this.commits.reduce((doc, commit) => commit.apply(doc), this.document.EDGE), this.LOCAL = this.buffer.rebase(this.LOCAL), oldLocal !== null && this.LOCAL !== null && (oldLocal._rev = this.LOCAL._rev), !lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_0__(this.LOCAL, oldLocal) && this.onRebase && this.onRebase(\n      this.LOCAL,\n      remoteMutations.reduce(mutReducerFn, []),\n      localMutations.reduce(mutReducerFn, [])\n    );\n  }\n  handleDocConsistencyChanged(isConsistent) {\n    if (!this.onConsistencyChanged)\n      return;\n    const hasLocalChanges = this.commits.length > 0 || this.buffer.hasChanges();\n    isConsistent && !hasLocalChanges && this.onConsistencyChanged(!0), isConsistent || this.onConsistencyChanged(!1);\n  }\n}\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9tdXRhdG9yL2xpYi9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QztBQUNaO0FBQ1k7QUFDMkU7QUFDbkY7QUFDQTtBQUNJO0FBQ0k7QUFDeEMsY0FBYyxrQ0FBTztBQUNyQix1SEFBdUgsdURBQXVEO0FBQzlLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGlCQUFpQixjQUFjO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBLDhFQUE4RSxJQUFJLEtBQUssU0FBUztBQUNoRztBQUNBLDhGQUE4RixRQUFRLFNBQVMsUUFBUTtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUN4SztBQUNBO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdCQUF3QixpQ0FBaUMscUJBQXFCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixpQkFBaUI7QUFDbEcsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJOQUEyTiw4Q0FBTztBQUNsTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L211dGF0b3IvbGliL2luZGV4Lm1qcz8wMzUzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpc0VxdWFsIGZyb20gXCJsb2Rhc2gvaXNFcXVhbC5qc1wiO1xuaW1wb3J0IGRlYnVnSXQgZnJvbSBcImRlYnVnXCI7XG5pbXBvcnQgZmxhdHRlbiBmcm9tIFwibG9kYXNoL2ZsYXR0ZW4uanNcIjtcbmltcG9ydCB7IHBhcnNlUGF0Y2ggYXMgcGFyc2VQYXRjaCQxLCBhcHBseVBhdGNoZXMsIHN0cmluZ2lmeVBhdGNoZXMsIG1ha2VQYXRjaGVzIH0gZnJvbSBcIkBzYW5pdHkvZGlmZi1tYXRjaC1wYXRjaFwiO1xuaW1wb3J0IG1heCBmcm9tIFwibG9kYXNoL21heC5qc1wiO1xuaW1wb3J0IG1pbiBmcm9tIFwibG9kYXNoL21pbi5qc1wiO1xuaW1wb3J0IHsgdXVpZCB9IGZyb20gXCJAc2FuaXR5L3V1aWRcIjtcbmltcG9ydCBjb21wYWN0IGZyb20gXCJsb2Rhc2gvY29tcGFjdC5qc1wiO1xuY29uc3QgZGVidWcgPSBkZWJ1Z0l0KFwibXV0YXRvci1kb2N1bWVudFwiKTtcbnZhciBfX2RlZlByb3AkaCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgX19kZWZOb3JtYWxQcm9wJGggPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJGgob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkJGggPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3AkaChvYmosIHR5cGVvZiBrZXkgIT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmNsYXNzIEltbXV0YWJsZUFjY2Vzc29yIHtcbiAgY29uc3RydWN0b3IodmFsdWUsIHBhdGgpIHtcbiAgICBfX3B1YmxpY0ZpZWxkJGgodGhpcywgXCJfdmFsdWVcIiksIF9fcHVibGljRmllbGQkaCh0aGlzLCBcInBhdGhcIiksIHRoaXMuX3ZhbHVlID0gdmFsdWUsIHRoaXMucGF0aCA9IHBhdGggfHwgW107XG4gIH1cbiAgY29udGFpbmVyVHlwZSgpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLl92YWx1ZSkgPyBcImFycmF5XCIgOiB0aGlzLl92YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpcy5fdmFsdWUgPT0gXCJvYmplY3RcIiA/IFwib2JqZWN0XCIgOiBcInByaW1pdGl2ZVwiO1xuICB9XG4gIC8vIENvbW1vbiByZWFkZXIsIHN1cHBvcnRlZCBieSBhbGwgY29udGFpbmVyc1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIC8vIEFycmF5IHJlYWRlclxuICBsZW5ndGgoKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuX3ZhbHVlKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvbid0IHJldHVybiBsZW5ndGggb2Ygbm9uLWluZGV4YWJsZSBfdmFsdWVcIik7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlLmxlbmd0aDtcbiAgfVxuICBnZXRJbmRleChpKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5fdmFsdWUpID8gaSA+PSB0aGlzLmxlbmd0aCgpID8gbnVsbCA6IG5ldyBJbW11dGFibGVBY2Nlc3Nvcih0aGlzLl92YWx1ZVtpXSwgdGhpcy5wYXRoLmNvbmNhdChpKSkgOiAhMTtcbiAgfVxuICAvLyBPYmplY3QgcmVhZGVyXG4gIGhhc0F0dHJpYnV0ZShrZXkpIHtcbiAgICByZXR1cm4gaXNSZWNvcmQkMSh0aGlzLl92YWx1ZSkgPyB0aGlzLl92YWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpIDogITE7XG4gIH1cbiAgYXR0cmlidXRlS2V5cygpIHtcbiAgICByZXR1cm4gaXNSZWNvcmQkMSh0aGlzLl92YWx1ZSkgPyBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZSkgOiBbXTtcbiAgfVxuICBnZXRBdHRyaWJ1dGUoa2V5KSB7XG4gICAgaWYgKCFpc1JlY29yZCQxKHRoaXMuX3ZhbHVlKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImdldEF0dHJpYnV0ZSBvbmx5IGFwcGxpZXMgdG8gcGxhaW4gb2JqZWN0c1wiKTtcbiAgICByZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoa2V5KSA/IG5ldyBJbW11dGFibGVBY2Nlc3Nvcih0aGlzLl92YWx1ZVtrZXldLCB0aGlzLnBhdGguY29uY2F0KGtleSkpIDogbnVsbDtcbiAgfVxuICAvLyBDb21tb24gd3JpdGVyLCBzdXBwb3J0ZWQgYnkgYWxsIGNvbnRhaW5lcnNcbiAgc2V0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB0aGlzLl92YWx1ZSA/IHRoaXMgOiBuZXcgSW1tdXRhYmxlQWNjZXNzb3IodmFsdWUsIHRoaXMucGF0aCk7XG4gIH1cbiAgLy8gYXJyYXkgd3JpdGVyIGludGVyZmFjZVxuICBzZXRJbmRleChpLCB2YWx1ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLl92YWx1ZSkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzZXRJbmRleCBvbmx5IGFwcGxpZXMgdG8gYXJyYXlzXCIpO1xuICAgIGlmIChPYmplY3QuaXModmFsdWUsIHRoaXMuX3ZhbHVlW2ldKSlcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIGNvbnN0IG5leHRWYWx1ZSA9IHRoaXMuX3ZhbHVlLnNsaWNlKCk7XG4gICAgcmV0dXJuIG5leHRWYWx1ZVtpXSA9IHZhbHVlLCBuZXcgSW1tdXRhYmxlQWNjZXNzb3IobmV4dFZhbHVlLCB0aGlzLnBhdGgpO1xuICB9XG4gIHNldEluZGV4QWNjZXNzb3IoaSwgYWNjZXNzb3IpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRJbmRleChpLCBhY2Nlc3Nvci5nZXQoKSk7XG4gIH1cbiAgdW5zZXRJbmRpY2VzKGluZGljZXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5fdmFsdWUpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zZXRJbmRpY2VzIG9ubHkgYXBwbGllcyB0byBhcnJheXNcIik7XG4gICAgY29uc3QgbGVuZ3RoID0gdGhpcy5fdmFsdWUubGVuZ3RoLCBuZXh0VmFsdWUgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgICAgaW5kaWNlcy5pbmRleE9mKGkpID09PSAtMSAmJiBuZXh0VmFsdWUucHVzaCh0aGlzLl92YWx1ZVtpXSk7XG4gICAgcmV0dXJuIG5ldyBJbW11dGFibGVBY2Nlc3NvcihuZXh0VmFsdWUsIHRoaXMucGF0aCk7XG4gIH1cbiAgaW5zZXJ0SXRlbXNBdChwb3MsIGl0ZW1zKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuX3ZhbHVlKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImluc2VydEl0ZW1zQXQgb25seSBhcHBsaWVzIHRvIGFycmF5c1wiKTtcbiAgICBsZXQgbmV4dFZhbHVlO1xuICAgIHJldHVybiB0aGlzLl92YWx1ZS5sZW5ndGggPT09IDAgJiYgcG9zID09PSAwID8gbmV4dFZhbHVlID0gaXRlbXMgOiBuZXh0VmFsdWUgPSB0aGlzLl92YWx1ZS5zbGljZSgwLCBwb3MpLmNvbmNhdChpdGVtcykuY29uY2F0KHRoaXMuX3ZhbHVlLnNsaWNlKHBvcykpLCBuZXcgSW1tdXRhYmxlQWNjZXNzb3IobmV4dFZhbHVlLCB0aGlzLnBhdGgpO1xuICB9XG4gIC8vIE9iamVjdCB3cml0ZXIgaW50ZXJmYWNlXG4gIHNldEF0dHJpYnV0ZShrZXksIHZhbHVlKSB7XG4gICAgaWYgKCFpc1JlY29yZCQxKHRoaXMuX3ZhbHVlKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBzZXQgYXR0cmlidXRlIG9mIG5vbi1vYmplY3QgY29udGFpbmVyXCIpO1xuICAgIGlmIChPYmplY3QuaXModmFsdWUsIHRoaXMuX3ZhbHVlW2tleV0pKVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgY29uc3QgbmV4dFZhbHVlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fdmFsdWUsIHsgW2tleV06IHZhbHVlIH0pO1xuICAgIHJldHVybiBuZXcgSW1tdXRhYmxlQWNjZXNzb3IobmV4dFZhbHVlLCB0aGlzLnBhdGgpO1xuICB9XG4gIHNldEF0dHJpYnV0ZUFjY2Vzc29yKGtleSwgYWNjZXNzb3IpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoa2V5LCBhY2Nlc3Nvci5nZXQoKSk7XG4gIH1cbiAgdW5zZXRBdHRyaWJ1dGUoa2V5KSB7XG4gICAgaWYgKCFpc1JlY29yZCQxKHRoaXMuX3ZhbHVlKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byB1bnNldCBhdHRyaWJ1dGUgb2Ygbm9uLW9iamVjdCBjb250YWluZXJcIik7XG4gICAgY29uc3QgbmV4dFZhbHVlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fdmFsdWUpO1xuICAgIHJldHVybiBkZWxldGUgbmV4dFZhbHVlW2tleV0sIG5ldyBJbW11dGFibGVBY2Nlc3NvcihuZXh0VmFsdWUsIHRoaXMucGF0aCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzUmVjb3JkJDEodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiO1xufVxuZnVuY3Rpb24gaXNSZWNvcmQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiO1xufVxuY29uc3QgSVNfRE9UVEFCTEUgPSAvXlthLXpfJF0rLztcbmZ1bmN0aW9uIGFycmF5VG9KU09OTWF0Y2hQYXRoKHBhdGhBcnJheSkge1xuICBsZXQgcGF0aCA9IFwiXCI7XG4gIHJldHVybiBwYXRoQXJyYXkuZm9yRWFjaCgoc2VnbWVudCwgaW5kZXgpID0+IHtcbiAgICBwYXRoICs9IHN0cmluZ2lmeVNlZ21lbnQoc2VnbWVudCwgaW5kZXggPT09IDApO1xuICB9KSwgcGF0aDtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVNlZ21lbnQoc2VnbWVudCwgaGFzTGVhZGluZykge1xuICBpZiAodHlwZW9mIHNlZ21lbnQgPT0gXCJudW1iZXJcIilcbiAgICByZXR1cm4gYFske3NlZ21lbnR9XWA7XG4gIGlmIChpc1JlY29yZChzZWdtZW50KSkge1xuICAgIGNvbnN0IHNlZyA9IHNlZ21lbnQ7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNlZ21lbnQpLm1hcCgoa2V5KSA9PiBpc1ByaW1pdGl2ZVZhbHVlKHNlZ1trZXldKSA/IGBbJHtrZXl9PT1cIiR7c2VnW2tleV19XCJdYCA6IFwiXCIpLmpvaW4oXCJcIik7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgJiYgSVNfRE9UVEFCTEUudGVzdChzZWdtZW50KSA/IGhhc0xlYWRpbmcgPyBzZWdtZW50IDogYC4ke3NlZ21lbnR9YCA6IGBbJyR7c2VnbWVudH0nXWA7XG59XG5mdW5jdGlvbiBpc1ByaW1pdGl2ZVZhbHVlKHZhbCkge1xuICBzd2l0Y2ggKHR5cGVvZiB2YWwpIHtcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgY2FzZSBcInN0cmluZ1wiOlxuICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICByZXR1cm4gITA7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAhMTtcbiAgfVxufVxuZnVuY3Rpb24gZGVzY2VuZCQxKHRhaWwpIHtcbiAgY29uc3QgW2hlYWQsIG5ld1RhaWxdID0gc3BsaXRJZlBhdGgodGFpbCk7XG4gIGlmICghaGVhZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZWFkIGNhbm5vdCBiZSBudWxsXCIpO1xuICByZXR1cm4gc3ByZWFkSWZVbmlvbkhlYWQoaGVhZCwgbmV3VGFpbCk7XG59XG5mdW5jdGlvbiBzcGxpdElmUGF0aCh0YWlsKSB7XG4gIGlmICh0YWlsLnR5cGUgIT09IFwicGF0aFwiKVxuICAgIHJldHVybiBbdGFpbCwgbnVsbF07XG4gIGNvbnN0IG5vZGVzID0gdGFpbC5ub2RlcztcbiAgcmV0dXJuIG5vZGVzLmxlbmd0aCA9PT0gMCA/IFtudWxsLCBudWxsXSA6IG5vZGVzLmxlbmd0aCA9PT0gMSA/IFtub2Rlc1swXSwgbnVsbF0gOiBbbm9kZXNbMF0sIHsgdHlwZTogXCJwYXRoXCIsIG5vZGVzOiBub2Rlcy5zbGljZSgxKSB9XTtcbn1cbmZ1bmN0aW9uIGNvbmNhdFBhdGhzKHBhdGgxLCBwYXRoMikge1xuICBpZiAoIXBhdGgxICYmICFwYXRoMilcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3Qgbm9kZXMxID0gcGF0aDEgPyBwYXRoMS5ub2RlcyA6IFtdLCBub2RlczIgPSBwYXRoMiA/IHBhdGgyLm5vZGVzIDogW107XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJwYXRoXCIsXG4gICAgbm9kZXM6IG5vZGVzMS5jb25jYXQobm9kZXMyKVxuICB9O1xufVxuZnVuY3Rpb24gc3ByZWFkSWZVbmlvbkhlYWQoaGVhZCwgdGFpbCkge1xuICByZXR1cm4gaGVhZC50eXBlICE9PSBcInVuaW9uXCIgPyBbW2hlYWQsIHRhaWxdXSA6IGhlYWQubm9kZXMubWFwKChub2RlKSA9PiB7XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gXCJwYXRoXCIpIHtcbiAgICAgIGNvbnN0IFtzdWJIZWFkLCBzdWJUYWlsXSA9IHNwbGl0SWZQYXRoKG5vZGUpO1xuICAgICAgcmV0dXJuIFtzdWJIZWFkLCBjb25jYXRQYXRocyhzdWJUYWlsLCB0YWlsKV07XG4gICAgfVxuICAgIHJldHVybiBbbm9kZSwgdGFpbF07XG4gIH0pO1xufVxudmFyIF9fZGVmUHJvcCRnID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AkZyA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkZyhvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQkZyA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcCRnKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY29uc3QgZGlnaXRDaGFyID0gL1swLTldLywgYXR0cmlidXRlQ2hhck1hdGNoZXIgPSAvXlthLXpBLVowLTlfXSQvLCBhdHRyaWJ1dGVGaXJzdENoYXJNYXRjaGVyID0gL15bYS16QS1aX10kLywgc3ltYm9scyA9IHtcbiAgLy8gTk9URTogVGhlc2UgYXJlIGNvbXBhcmVkIGFnYWluc3QgaW4gb3JkZXIgb2YgZGVmaW5pdGlvbixcbiAgLy8gdGh1cyAnPT0nIG11c3QgY29tZSBiZWZvcmUgJz0nLCAnPj0nIGJlZm9yZSAnPicsIGV0Yy5cbiAgb3BlcmF0b3I6IFtcIi4uXCIsIFwiLlwiLCBcIixcIiwgXCI6XCIsIFwiP1wiXSxcbiAgY29tcGFyYXRvcjogW1wiPj1cIiwgXCI8PVwiLCBcIjxcIiwgXCI+XCIsIFwiPT1cIiwgXCIhPVwiXSxcbiAga2V5d29yZDogW1wiJFwiLCBcIkBcIl0sXG4gIGJvb2xlYW46IFtcInRydWVcIiwgXCJmYWxzZVwiXSxcbiAgcGFyZW46IFtcIltcIiwgXCJdXCJdXG59LCBzeW1ib2xDbGFzc2VzID0gT2JqZWN0LmtleXMoc3ltYm9scyk7XG5jbGFzcyBUb2tlbml6ZXIge1xuICBjb25zdHJ1Y3RvcihwYXRoKSB7XG4gICAgX19wdWJsaWNGaWVsZCRnKHRoaXMsIFwic291cmNlXCIpLCBfX3B1YmxpY0ZpZWxkJGcodGhpcywgXCJpXCIpLCBfX3B1YmxpY0ZpZWxkJGcodGhpcywgXCJsZW5ndGhcIiksIF9fcHVibGljRmllbGQkZyh0aGlzLCBcInRva2VuaXplcnNcIiksIHRoaXMuc291cmNlID0gcGF0aCwgdGhpcy5sZW5ndGggPSBwYXRoLmxlbmd0aCwgdGhpcy5pID0gMCwgdGhpcy50b2tlbml6ZXJzID0gW1xuICAgICAgdGhpcy50b2tlbml6ZVN5bWJvbCxcbiAgICAgIHRoaXMudG9rZW5pemVJZGVudGlmaWVyLFxuICAgICAgdGhpcy50b2tlbml6ZU51bWJlcixcbiAgICAgIHRoaXMudG9rZW5pemVRdW90ZWRcbiAgICBdLm1hcCgoZm4pID0+IGZuLmJpbmQodGhpcykpO1xuICB9XG4gIHRva2VuaXplKCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAoOyAhdGhpcy5FT0YoKTsgKSB7XG4gICAgICB0aGlzLmNob21wV2hpdGVzcGFjZSgpO1xuICAgICAgbGV0IHRva2VuID0gbnVsbDtcbiAgICAgIGlmICghdGhpcy50b2tlbml6ZXJzLnNvbWUoKHRva2VuaXplcikgPT4gKHRva2VuID0gdG9rZW5pemVyKCksICEhdG9rZW4pKSB8fCAhdG9rZW4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0b2tlbnMgaW4ganNvbnBhdGggJyR7dGhpcy5zb3VyY2V9JyBAICR7dGhpcy5pfWApO1xuICAgICAgcmVzdWx0LnB1c2godG9rZW4pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIHRha2VXaGlsZShmbikge1xuICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pO1xuICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgIGZvciAoOyAhdGhpcy5FT0YoKTsgKSB7XG4gICAgICBjb25zdCBuZXh0Q2hhciA9IGZuKHRoaXMuc291cmNlW3RoaXMuaV0pO1xuICAgICAgaWYgKG5leHRDaGFyID09PSBudWxsKVxuICAgICAgICBicmVhaztcbiAgICAgIHJlc3VsdCArPSBuZXh0Q2hhciwgdGhpcy5pKys7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmkgPT09IHN0YXJ0ID8gbnVsbCA6IHJlc3VsdDtcbiAgfVxuICBFT0YoKSB7XG4gICAgcmV0dXJuIHRoaXMuaSA+PSB0aGlzLmxlbmd0aDtcbiAgfVxuICBwZWVrKCkge1xuICAgIHJldHVybiB0aGlzLkVPRigpID8gbnVsbCA6IHRoaXMuc291cmNlW3RoaXMuaV07XG4gIH1cbiAgY29uc3VtZShzdHIpIHtcbiAgICBpZiAodGhpcy5pICsgc3RyLmxlbmd0aCA+IHRoaXMubGVuZ3RoKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCAke3N0cn0gYXQgZW5kIG9mIGpzb25wYXRoYCk7XG4gICAgaWYgKHN0ciA9PT0gdGhpcy5zb3VyY2Uuc2xpY2UodGhpcy5pLCB0aGlzLmkgKyBzdHIubGVuZ3RoKSlcbiAgICAgIHRoaXMuaSArPSBzdHIubGVuZ3RoO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgXCIke3N0cn1cIiwgYnV0IHNvdXJjZSBjb250YWluZWQgXCIke3RoaXMuc291cmNlLnNsaWNlKCl9YCk7XG4gIH1cbiAgLy8gVHJpZXMgdG8gbWF0Y2ggdGhlIHVwY29taW5nIGJpdCBvZiBzdHJpbmcgd2l0aCB0aGUgcHJvdmlkZWQgc3RyaW5nLiBJZiBpdCBtYXRjaGVzLCByZXR1cm5zXG4gIC8vIHRoZSBzdHJpbmcsIHRoZW4gYWR2YW5jZXMgdGhlIHJlYWQgcG9pbnRlciB0byB0aGUgbmV4dCBiaXQuIElmIG5vdCwgcmV0dXJucyBudWxsIGFuZCBub3RoaW5nXG4gIC8vIGhhcHBlbnMuXG4gIHRyeUNvbnN1bWUoc3RyKSB7XG4gICAgaWYgKHRoaXMuaSArIHN0ci5sZW5ndGggPiB0aGlzLmxlbmd0aClcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChzdHIgPT09IHRoaXMuc291cmNlLnNsaWNlKHRoaXMuaSwgdGhpcy5pICsgc3RyLmxlbmd0aCkpIHtcbiAgICAgIGlmIChzdHJbMF0ubWF0Y2goYXR0cmlidXRlQ2hhck1hdGNoZXIpICYmIHRoaXMubGVuZ3RoID4gdGhpcy5pICsgc3RyLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBuZXh0Q2hhciA9IHRoaXMuc291cmNlW3RoaXMuaSArIHN0ci5sZW5ndGhdO1xuICAgICAgICBpZiAobmV4dENoYXIgJiYgbmV4dENoYXIubWF0Y2goYXR0cmlidXRlQ2hhck1hdGNoZXIpKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuaSArPSBzdHIubGVuZ3RoLCBzdHI7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNob21wV2hpdGVzcGFjZSgpIHtcbiAgICB0aGlzLnRha2VXaGlsZSgoY2hhcikgPT4gY2hhciA9PT0gXCIgXCIgPyBcIlwiIDogbnVsbCk7XG4gIH1cbiAgdG9rZW5pemVRdW90ZWQoKSB7XG4gICAgY29uc3QgcXVvdGUgPSB0aGlzLnBlZWsoKTtcbiAgICBpZiAocXVvdGUgPT09IFwiJ1wiIHx8IHF1b3RlID09PSAnXCInKSB7XG4gICAgICB0aGlzLmNvbnN1bWUocXVvdGUpO1xuICAgICAgbGV0IGVzY2FwZSA9ICExO1xuICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLnRha2VXaGlsZSgoY2hhcikgPT4gZXNjYXBlID8gKGVzY2FwZSA9ICExLCBjaGFyKSA6IGNoYXIgPT09IFwiXFxcXFwiID8gKGVzY2FwZSA9ICEwLCBcIlwiKSA6IGNoYXIgIT0gcXVvdGUgPyBjaGFyIDogbnVsbCk7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdW1lKHF1b3RlKSwge1xuICAgICAgICB0eXBlOiBcInF1b3RlZFwiLFxuICAgICAgICB2YWx1ZTogaW5uZXIsXG4gICAgICAgIHF1b3RlOiBxdW90ZSA9PT0gJ1wiJyA/IFwiZG91YmxlXCIgOiBcInNpbmdsZVwiXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB0b2tlbml6ZUlkZW50aWZpZXIoKSB7XG4gICAgbGV0IGZpcnN0ID0gITA7XG4gICAgY29uc3QgaWRlbnRpZmllciA9IHRoaXMudGFrZVdoaWxlKChjaGFyKSA9PiBmaXJzdCA/IChmaXJzdCA9ICExLCBjaGFyLm1hdGNoKGF0dHJpYnV0ZUZpcnN0Q2hhck1hdGNoZXIpID8gY2hhciA6IG51bGwpIDogY2hhci5tYXRjaChhdHRyaWJ1dGVDaGFyTWF0Y2hlcikgPyBjaGFyIDogbnVsbCk7XG4gICAgcmV0dXJuIGlkZW50aWZpZXIgIT09IG51bGwgPyB7XG4gICAgICB0eXBlOiBcImlkZW50aWZpZXJcIixcbiAgICAgIG5hbWU6IGlkZW50aWZpZXJcbiAgICB9IDogbnVsbDtcbiAgfVxuICB0b2tlbml6ZU51bWJlcigpIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuaTtcbiAgICBsZXQgZG90U2VlbiA9ICExLCBkaWdpdFNlZW4gPSAhMSwgbmVnYXRpdmUgPSAhMTtcbiAgICB0aGlzLnBlZWsoKSA9PT0gXCItXCIgJiYgKG5lZ2F0aXZlID0gITAsIHRoaXMuY29uc3VtZShcIi1cIikpO1xuICAgIGNvbnN0IG51bWJlciA9IHRoaXMudGFrZVdoaWxlKChjaGFyKSA9PiBjaGFyID09PSBcIi5cIiAmJiAhZG90U2VlbiAmJiBkaWdpdFNlZW4gPyAoZG90U2VlbiA9ICEwLCBjaGFyKSA6IChkaWdpdFNlZW4gPSAhMCwgY2hhci5tYXRjaChkaWdpdENoYXIpID8gY2hhciA6IG51bGwpKTtcbiAgICByZXR1cm4gbnVtYmVyICE9PSBudWxsID8ge1xuICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgIHZhbHVlOiBuZWdhdGl2ZSA/IC1udW1iZXIgOiArbnVtYmVyLFxuICAgICAgcmF3OiBuZWdhdGl2ZSA/IGAtJHtudW1iZXJ9YCA6IG51bWJlclxuICAgIH0gOiAodGhpcy5pID0gc3RhcnQsIG51bGwpO1xuICB9XG4gIHRva2VuaXplU3ltYm9sKCkge1xuICAgIGZvciAoY29uc3Qgc3ltYm9sQ2xhc3Mgb2Ygc3ltYm9sQ2xhc3Nlcykge1xuICAgICAgY29uc3Qgc3ltYm9sID0gc3ltYm9sc1tzeW1ib2xDbGFzc10uZmluZCgocGF0dGVybikgPT4gdGhpcy50cnlDb25zdW1lKHBhdHRlcm4pKTtcbiAgICAgIGlmIChzeW1ib2wpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogc3ltYm9sQ2xhc3MsXG4gICAgICAgICAgc3ltYm9sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5mdW5jdGlvbiB0b2tlbml6ZShqc29ucGF0aCkge1xuICByZXR1cm4gbmV3IFRva2VuaXplcihqc29ucGF0aCkudG9rZW5pemUoKTtcbn1cbnZhciBfX2RlZlByb3AkZiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgX19kZWZOb3JtYWxQcm9wJGYgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJGYob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkJGYgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3AkZihvYmosIHR5cGVvZiBrZXkgIT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmNsYXNzIFBhcnNlciB7XG4gIGNvbnN0cnVjdG9yKHBhdGgpIHtcbiAgICBfX3B1YmxpY0ZpZWxkJGYodGhpcywgXCJ0b2tlbnNcIiksIF9fcHVibGljRmllbGQkZih0aGlzLCBcImxlbmd0aFwiKSwgX19wdWJsaWNGaWVsZCRmKHRoaXMsIFwiaVwiKSwgdGhpcy50b2tlbnMgPSB0b2tlbml6ZShwYXRoKSwgdGhpcy5sZW5ndGggPSB0aGlzLnRva2Vucy5sZW5ndGgsIHRoaXMuaSA9IDA7XG4gIH1cbiAgcGFyc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2VQYXRoKCk7XG4gIH1cbiAgRU9GKCkge1xuICAgIHJldHVybiB0aGlzLmkgPj0gdGhpcy5sZW5ndGg7XG4gIH1cbiAgLy8gTG9vayBhdCB1cGNvbWluZyB0b2tlblxuICBwZWVrKCkge1xuICAgIHJldHVybiB0aGlzLkVPRigpID8gbnVsbCA6IHRoaXMudG9rZW5zW3RoaXMuaV07XG4gIH1cbiAgY29uc3VtZSgpIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnBlZWsoKTtcbiAgICByZXR1cm4gdGhpcy5pICs9IDEsIHJlc3VsdDtcbiAgfVxuICAvLyBSZXR1cm4gbmV4dCB0b2tlbiBpZiBpdCBtYXRjaGVzIHRoZSBwYXR0ZXJuXG4gIHByb2JlKHBhdHRlcm4pIHtcbiAgICBjb25zdCB0b2tlbiA9IHRoaXMucGVlaygpO1xuICAgIGlmICghdG9rZW4pXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCByZWNvcmQgPSB0b2tlbjtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocGF0dGVybikuZXZlcnkoKGtleSkgPT4ga2V5IGluIHRva2VuICYmIHBhdHRlcm5ba2V5XSA9PT0gcmVjb3JkW2tleV0pID8gdG9rZW4gOiBudWxsO1xuICB9XG4gIC8vIFJldHVybiBhbmQgY29uc3VtZSBuZXh0IHRva2VuIGlmIGl0IG1hdGNoZXMgdGhlIHBhdHRlcm5cbiAgbWF0Y2gocGF0dGVybikge1xuICAgIHJldHVybiB0aGlzLnByb2JlKHBhdHRlcm4pID8gdGhpcy5jb25zdW1lKCkgOiBudWxsO1xuICB9XG4gIHBhcnNlQXR0cmlidXRlKCkge1xuICAgIGNvbnN0IHRva2VuID0gdGhpcy5tYXRjaCh7IHR5cGU6IFwiaWRlbnRpZmllclwiIH0pO1xuICAgIGlmICh0b2tlbiAmJiB0b2tlbi50eXBlID09PSBcImlkZW50aWZpZXJcIilcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiYXR0cmlidXRlXCIsXG4gICAgICAgIG5hbWU6IHRva2VuLm5hbWVcbiAgICAgIH07XG4gICAgY29uc3QgcXVvdGVkID0gdGhpcy5tYXRjaCh7IHR5cGU6IFwicXVvdGVkXCIsIHF1b3RlOiBcInNpbmdsZVwiIH0pO1xuICAgIHJldHVybiBxdW90ZWQgJiYgcXVvdGVkLnR5cGUgPT09IFwicXVvdGVkXCIgPyB7XG4gICAgICB0eXBlOiBcImF0dHJpYnV0ZVwiLFxuICAgICAgbmFtZTogcXVvdGVkLnZhbHVlIHx8IFwiXCJcbiAgICB9IDogbnVsbDtcbiAgfVxuICBwYXJzZUFsaWFzKCkge1xuICAgIHJldHVybiB0aGlzLm1hdGNoKHsgdHlwZTogXCJrZXl3b3JkXCIsIHN5bWJvbDogXCJAXCIgfSkgfHwgdGhpcy5tYXRjaCh7IHR5cGU6IFwia2V5d29yZFwiLCBzeW1ib2w6IFwiJFwiIH0pID8ge1xuICAgICAgdHlwZTogXCJhbGlhc1wiLFxuICAgICAgdGFyZ2V0OiBcInNlbGZcIlxuICAgIH0gOiBudWxsO1xuICB9XG4gIHBhcnNlTnVtYmVyKCkge1xuICAgIGNvbnN0IHRva2VuID0gdGhpcy5tYXRjaCh7IHR5cGU6IFwibnVtYmVyXCIgfSk7XG4gICAgcmV0dXJuIHRva2VuICYmIHRva2VuLnR5cGUgPT09IFwibnVtYmVyXCIgPyB7XG4gICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgdmFsdWU6IHRva2VuLnZhbHVlXG4gICAgfSA6IG51bGw7XG4gIH1cbiAgcGFyc2VOdW1iZXJWYWx1ZSgpIHtcbiAgICBjb25zdCBleHByID0gdGhpcy5wYXJzZU51bWJlcigpO1xuICAgIHJldHVybiBleHByID8gZXhwci52YWx1ZSA6IG51bGw7XG4gIH1cbiAgcGFyc2VTbGljZVNlbGVjdG9yKCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pLCByYW5nZVN0YXJ0ID0gdGhpcy5wYXJzZU51bWJlclZhbHVlKCk7XG4gICAgaWYgKCF0aGlzLm1hdGNoKHsgdHlwZTogXCJvcGVyYXRvclwiLCBzeW1ib2w6IFwiOlwiIH0pKVxuICAgICAgcmV0dXJuIHJhbmdlU3RhcnQgPT09IG51bGwgPyAodGhpcy5pID0gc3RhcnQsIG51bGwpIDogeyB0eXBlOiBcImluZGV4XCIsIHZhbHVlOiByYW5nZVN0YXJ0IH07XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgdHlwZTogXCJyYW5nZVwiLFxuICAgICAgc3RhcnQ6IHJhbmdlU3RhcnQsXG4gICAgICBlbmQ6IHRoaXMucGFyc2VOdW1iZXJWYWx1ZSgpXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5tYXRjaCh7IHR5cGU6IFwib3BlcmF0b3JcIiwgc3ltYm9sOiBcIjpcIiB9KSAmJiAocmVzdWx0LnN0ZXAgPSB0aGlzLnBhcnNlTnVtYmVyVmFsdWUoKSksIHJlc3VsdC5zdGFydCA9PT0gbnVsbCAmJiByZXN1bHQuZW5kID09PSBudWxsID8gKHRoaXMuaSA9IHN0YXJ0LCBudWxsKSA6IHJlc3VsdDtcbiAgfVxuICBwYXJzZVZhbHVlUmVmZXJlbmNlKCkge1xuICAgIHJldHVybiB0aGlzLnBhcnNlQXR0cmlidXRlKCkgfHwgdGhpcy5wYXJzZVNsaWNlU2VsZWN0b3IoKTtcbiAgfVxuICBwYXJzZUxpdGVyYWxWYWx1ZSgpIHtcbiAgICBjb25zdCBsaXRlcmFsU3RyaW5nID0gdGhpcy5tYXRjaCh7IHR5cGU6IFwicXVvdGVkXCIsIHF1b3RlOiBcImRvdWJsZVwiIH0pO1xuICAgIGlmIChsaXRlcmFsU3RyaW5nICYmIGxpdGVyYWxTdHJpbmcudHlwZSA9PT0gXCJxdW90ZWRcIilcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIHZhbHVlOiBsaXRlcmFsU3RyaW5nLnZhbHVlIHx8IFwiXCJcbiAgICAgIH07XG4gICAgY29uc3QgbGl0ZXJhbEJvb2xlYW4gPSB0aGlzLm1hdGNoKHsgdHlwZTogXCJib29sZWFuXCIgfSk7XG4gICAgcmV0dXJuIGxpdGVyYWxCb29sZWFuICYmIGxpdGVyYWxCb29sZWFuLnR5cGUgPT09IFwiYm9vbGVhblwiID8ge1xuICAgICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgICB2YWx1ZTogbGl0ZXJhbEJvb2xlYW4uc3ltYm9sID09PSBcInRydWVcIlxuICAgIH0gOiB0aGlzLnBhcnNlTnVtYmVyKCk7XG4gIH1cbiAgLy8gVE9ETzogUmVvcmRlciBjb25zdHJhaW50cyBzbyB0aGF0IGxpdGVyYWwgdmFsdWUgaXMgYWx3YXlzIG9uIHJocywgYW5kIHZhcmlhYmxlIGlzIGFsd2F5c1xuICAvLyBvbiBsaHMuXG4gIHBhcnNlRmlsdGVyRXhwcmVzc2lvbigpIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuaSwgZXhwciA9IHRoaXMucGFyc2VBdHRyaWJ1dGUoKSB8fCB0aGlzLnBhcnNlQWxpYXMoKTtcbiAgICBpZiAoIWV4cHIpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAodGhpcy5tYXRjaCh7IHR5cGU6IFwib3BlcmF0b3JcIiwgc3ltYm9sOiBcIj9cIiB9KSlcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiY29uc3RyYWludFwiLFxuICAgICAgICBvcGVyYXRvcjogXCI/XCIsXG4gICAgICAgIGxoczogZXhwclxuICAgICAgfTtcbiAgICBjb25zdCBiaW5PcCA9IHRoaXMubWF0Y2goeyB0eXBlOiBcImNvbXBhcmF0b3JcIiB9KTtcbiAgICBpZiAoIWJpbk9wIHx8IGJpbk9wLnR5cGUgIT09IFwiY29tcGFyYXRvclwiKVxuICAgICAgcmV0dXJuIHRoaXMuaSA9IHN0YXJ0LCBudWxsO1xuICAgIGNvbnN0IGxocyA9IGV4cHIsIHJocyA9IHRoaXMucGFyc2VMaXRlcmFsVmFsdWUoKTtcbiAgICBpZiAoIXJocylcbiAgICAgIHRocm93IG5ldyBFcnJvcihgT3BlcmF0b3IgJHtiaW5PcC5zeW1ib2x9IG5lZWRzIGEgbGl0ZXJhbCB2YWx1ZSBhdCB0aGUgcmlnaHQgaGFuZCBzaWRlYCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiY29uc3RyYWludFwiLFxuICAgICAgb3BlcmF0b3I6IGJpbk9wLnN5bWJvbCxcbiAgICAgIGxocyxcbiAgICAgIHJoc1xuICAgIH07XG4gIH1cbiAgcGFyc2VFeHByZXNzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLnBhcnNlRmlsdGVyRXhwcmVzc2lvbigpIHx8IHRoaXMucGFyc2VWYWx1ZVJlZmVyZW5jZSgpO1xuICB9XG4gIHBhcnNlVW5pb24oKSB7XG4gICAgaWYgKCF0aGlzLm1hdGNoKHsgdHlwZTogXCJwYXJlblwiLCBzeW1ib2w6IFwiW1wiIH0pKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgdGVybXMgPSBbXTtcbiAgICBsZXQgZXhwciA9IHRoaXMucGFyc2VGaWx0ZXJFeHByZXNzaW9uKCkgfHwgdGhpcy5wYXJzZVBhdGgoKSB8fCB0aGlzLnBhcnNlVmFsdWVSZWZlcmVuY2UoKTtcbiAgICBmb3IgKDsgZXhwciAmJiAodGVybXMucHVzaChleHByKSwgIXRoaXMubWF0Y2goeyB0eXBlOiBcInBhcmVuXCIsIHN5bWJvbDogXCJdXCIgfSkpOyApIHtcbiAgICAgIGlmICghdGhpcy5tYXRjaCh7IHR5cGU6IFwib3BlcmF0b3JcIiwgc3ltYm9sOiBcIixcIiB9KSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgXVwiKTtcbiAgICAgIGlmIChleHByID0gdGhpcy5wYXJzZUZpbHRlckV4cHJlc3Npb24oKSB8fCB0aGlzLnBhcnNlUGF0aCgpIHx8IHRoaXMucGFyc2VWYWx1ZVJlZmVyZW5jZSgpLCAhZXhwcilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgZXhwcmVzc2lvbiBmb2xsb3dpbmcgJywnXCIpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ1bmlvblwiLFxuICAgICAgbm9kZXM6IHRlcm1zXG4gICAgfTtcbiAgfVxuICBwYXJzZVJlY3Vyc2l2ZSgpIHtcbiAgICBpZiAoIXRoaXMubWF0Y2goeyB0eXBlOiBcIm9wZXJhdG9yXCIsIHN5bWJvbDogXCIuLlwiIH0pKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3Qgc3VicGF0aCA9IHRoaXMucGFyc2VQYXRoKCk7XG4gICAgaWYgKCFzdWJwYXRoKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgcGF0aCBmb2xsb3dpbmcgJy4uJyBvcGVyYXRvclwiKTtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJyZWN1cnNpdmVcIixcbiAgICAgIHRlcm06IHN1YnBhdGhcbiAgICB9O1xuICB9XG4gIHBhcnNlUGF0aCgpIHtcbiAgICBjb25zdCBub2RlcyA9IFtdLCBleHByID0gdGhpcy5wYXJzZUF0dHJpYnV0ZSgpIHx8IHRoaXMucGFyc2VVbmlvbigpIHx8IHRoaXMucGFyc2VSZWN1cnNpdmUoKTtcbiAgICBpZiAoIWV4cHIpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBmb3IgKG5vZGVzLnB1c2goZXhwcik7ICF0aGlzLkVPRigpOyApXG4gICAgICBpZiAodGhpcy5tYXRjaCh7IHR5cGU6IFwib3BlcmF0b3JcIiwgc3ltYm9sOiBcIi5cIiB9KSkge1xuICAgICAgICBjb25zdCBhdHRyID0gdGhpcy5wYXJzZUF0dHJpYnV0ZSgpO1xuICAgICAgICBpZiAoIWF0dHIpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgYXR0cmlidXRlIG5hbWUgZm9sbG93aW5nICcuXCIpO1xuICAgICAgICBub2Rlcy5wdXNoKGF0dHIpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9iZSh7IHR5cGU6IFwicGFyZW5cIiwgc3ltYm9sOiBcIltcIiB9KSkge1xuICAgICAgICBjb25zdCB1bmlvbiA9IHRoaXMucGFyc2VVbmlvbigpO1xuICAgICAgICBpZiAoIXVuaW9uKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIHVuaW9uIGZvbGxvd2luZyAnWydcIik7XG4gICAgICAgIG5vZGVzLnB1c2godW5pb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVjdXJzaXZlID0gdGhpcy5wYXJzZVJlY3Vyc2l2ZSgpO1xuICAgICAgICByZWN1cnNpdmUgJiYgbm9kZXMucHVzaChyZWN1cnNpdmUpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICByZXR1cm4gbm9kZXMubGVuZ3RoID09PSAxID8gbm9kZXNbMF0gOiB7XG4gICAgICB0eXBlOiBcInBhdGhcIixcbiAgICAgIG5vZGVzXG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gcGFyc2VKc29uUGF0aChwYXRoKSB7XG4gIGNvbnN0IHBhcnNlZCA9IG5ldyBQYXJzZXIocGF0aCkucGFyc2UoKTtcbiAgaWYgKCFwYXJzZWQpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2UgSlNPTiBwYXRoIFwiJHtwYXRofVwiYCk7XG4gIHJldHVybiBwYXJzZWQ7XG59XG5mdW5jdGlvbiB0b1BhdGgoZXhwcikge1xuICByZXR1cm4gdG9QYXRoSW5uZXIoZXhwciwgITEpO1xufVxuZnVuY3Rpb24gdG9QYXRoSW5uZXIoZXhwciwgaW5Vbmlvbikge1xuICBzd2l0Y2ggKGV4cHIudHlwZSkge1xuICAgIGNhc2UgXCJhdHRyaWJ1dGVcIjpcbiAgICAgIHJldHVybiBleHByLm5hbWU7XG4gICAgY2FzZSBcImFsaWFzXCI6XG4gICAgICByZXR1cm4gZXhwci50YXJnZXQgPT09IFwic2VsZlwiID8gXCJAXCIgOiBcIiRcIjtcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICByZXR1cm4gYCR7ZXhwci52YWx1ZX1gO1xuICAgIGNhc2UgXCJyYW5nZVwiOiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgIHJldHVybiBpblVuaW9uIHx8IHJlc3VsdC5wdXNoKFwiW1wiKSwgZXhwci5zdGFydCAmJiByZXN1bHQucHVzaChgJHtleHByLnN0YXJ0fWApLCByZXN1bHQucHVzaChcIjpcIiksIGV4cHIuZW5kICYmIHJlc3VsdC5wdXNoKGAke2V4cHIuZW5kfWApLCBleHByLnN0ZXAgJiYgcmVzdWx0LnB1c2goYDoke2V4cHIuc3RlcH1gKSwgaW5VbmlvbiB8fCByZXN1bHQucHVzaChcIl1cIiksIHJlc3VsdC5qb2luKFwiXCIpO1xuICAgIH1cbiAgICBjYXNlIFwiaW5kZXhcIjpcbiAgICAgIHJldHVybiBpblVuaW9uID8gYCR7ZXhwci52YWx1ZX1gIDogYFske2V4cHIudmFsdWV9XWA7XG4gICAgY2FzZSBcImNvbnN0cmFpbnRcIjoge1xuICAgICAgY29uc3QgcmhzID0gZXhwci5yaHMgPyBgICR7dG9QYXRoSW5uZXIoZXhwci5yaHMsICExKX1gIDogXCJcIiwgaW5uZXIgPSBgJHt0b1BhdGhJbm5lcihleHByLmxocywgITEpfSAke2V4cHIub3BlcmF0b3J9JHtyaHN9YDtcbiAgICAgIHJldHVybiBpblVuaW9uID8gaW5uZXIgOiBgWyR7aW5uZXJ9XWA7XG4gICAgfVxuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShleHByLnZhbHVlKTtcbiAgICBjYXNlIFwicGF0aFwiOiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBbXSwgbm9kZXMgPSBleHByLm5vZGVzLnNsaWNlKCk7XG4gICAgICBmb3IgKDsgbm9kZXMubGVuZ3RoID4gMDsgKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlcy5zaGlmdCgpO1xuICAgICAgICBub2RlICYmIHJlc3VsdC5wdXNoKHRvUGF0aChub2RlKSk7XG4gICAgICAgIGNvbnN0IHVwY29taW5nID0gbm9kZXNbMF07XG4gICAgICAgIHVwY29taW5nICYmIHRvUGF0aElubmVyKHVwY29taW5nLCAhMSlbMF0gIT09IFwiW1wiICYmIHJlc3VsdC5wdXNoKFwiLlwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcbiAgICB9XG4gICAgY2FzZSBcInVuaW9uXCI6XG4gICAgICByZXR1cm4gYFske2V4cHIubm9kZXMubWFwKChlKSA9PiB0b1BhdGhJbm5lcihlLCAhMCkpLmpvaW4oXCIsXCIpfV1gO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbm9kZSB0eXBlICR7ZXhwci50eXBlfWApO1xuICAgIGNhc2UgXCJyZWN1cnNpdmVcIjpcbiAgICAgIHJldHVybiBgLi4ke3RvUGF0aElubmVyKGV4cHIudGVybSwgITEpfWA7XG4gIH1cbn1cbnZhciBfX2RlZlByb3AkZSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgX19kZWZOb3JtYWxQcm9wJGUgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJGUob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkJGUgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3AkZShvYmosIGtleSArIFwiXCIsIHZhbHVlKTtcbmNsYXNzIEV4cHJlc3Npb24ge1xuICBjb25zdHJ1Y3RvcihleHByKSB7XG4gICAgaWYgKF9fcHVibGljRmllbGQkZSh0aGlzLCBcImV4cHJcIiksICFleHByKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGNyZWF0ZSBFeHByZXNzaW9uIGZyb20gbnVsbC12YWx1ZVwiKTtcbiAgICBpZiAoXCJleHByXCIgaW4gZXhwciA/IHRoaXMuZXhwciA9IGV4cHIuZXhwciA6IHRoaXMuZXhwciA9IGV4cHIsICEoXCJ0eXBlXCIgaW4gdGhpcy5leHByKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHQgdG8gY3JlYXRlIEV4cHJlc3Npb24gZm9yIGV4cHJlc3Npb24gd2l0aCBubyB0eXBlXCIpO1xuICB9XG4gIGlzUGF0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5leHByLnR5cGUgPT09IFwicGF0aFwiO1xuICB9XG4gIGlzVW5pb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhwci50eXBlID09PSBcInVuaW9uXCI7XG4gIH1cbiAgaXNDb2xsZWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmlzUGF0aCgpIHx8IHRoaXMuaXNVbmlvbigpO1xuICB9XG4gIGlzQ29uc3RyYWludCgpIHtcbiAgICByZXR1cm4gdGhpcy5leHByLnR5cGUgPT09IFwiY29uc3RyYWludFwiO1xuICB9XG4gIGlzUmVjdXJzaXZlKCkge1xuICAgIHJldHVybiB0aGlzLmV4cHIudHlwZSA9PT0gXCJyZWN1cnNpdmVcIjtcbiAgfVxuICBpc0V4aXN0ZW5jZUNvbnN0cmFpbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhwci50eXBlID09PSBcImNvbnN0cmFpbnRcIiAmJiB0aGlzLmV4cHIub3BlcmF0b3IgPT09IFwiP1wiO1xuICB9XG4gIGlzSW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhwci50eXBlID09PSBcImluZGV4XCI7XG4gIH1cbiAgaXNSYW5nZSgpIHtcbiAgICByZXR1cm4gdGhpcy5leHByLnR5cGUgPT09IFwicmFuZ2VcIjtcbiAgfVxuICBleHBhbmRSYW5nZShwcm9iZSkge1xuICAgIGNvbnN0IHByb2JlTGVuZ3RoID0gKCkgPT4ge1xuICAgICAgaWYgKCFwcm9iZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZXhwYW5kUmFuZ2UoKSByZXF1aXJlZCBhIHByb2JlIHRoYXQgd2FzIG5vdCBwYXNzZWRcIik7XG4gICAgICByZXR1cm4gcHJvYmUubGVuZ3RoKCk7XG4gICAgfTtcbiAgICBsZXQgc3RhcnQgPSBcInN0YXJ0XCIgaW4gdGhpcy5leHByICYmIHRoaXMuZXhwci5zdGFydCB8fCAwO1xuICAgIHN0YXJ0ID0gaW50ZXJwcmV0TmVnYXRpdmVJbmRleChzdGFydCwgcHJvYmUpO1xuICAgIGxldCBlbmQgPSBcImVuZFwiIGluIHRoaXMuZXhwciAmJiB0aGlzLmV4cHIuZW5kIHx8IHByb2JlTGVuZ3RoKCk7XG4gICAgZW5kID0gaW50ZXJwcmV0TmVnYXRpdmVJbmRleChlbmQsIHByb2JlKTtcbiAgICBjb25zdCBzdGVwID0gXCJzdGVwXCIgaW4gdGhpcy5leHByICYmIHRoaXMuZXhwci5zdGVwIHx8IDE7XG4gICAgcmV0dXJuIHsgc3RhcnQsIGVuZCwgc3RlcCB9O1xuICB9XG4gIGlzQXR0cmlidXRlUmVmZXJlbmNlKCkge1xuICAgIHJldHVybiB0aGlzLmV4cHIudHlwZSA9PT0gXCJhdHRyaWJ1dGVcIjtcbiAgfVxuICAvLyBJcyBhIHJhbmdlIG9yIGluZGV4IC0+IHNvbWV0aGluZyByZWZlcmVuY2luZyBpbmRleGVzXG4gIGlzSW5kZXhSZWZlcmVuY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNJbmRleCgpIHx8IHRoaXMuaXNSYW5nZSgpO1xuICB9XG4gIG5hbWUoKSB7XG4gICAgcmV0dXJuIFwibmFtZVwiIGluIHRoaXMuZXhwciA/IHRoaXMuZXhwci5uYW1lIDogXCJcIjtcbiAgfVxuICBpc1NlbGZSZWZlcmVuY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhwci50eXBlID09PSBcImFsaWFzXCIgJiYgdGhpcy5leHByLnRhcmdldCA9PT0gXCJzZWxmXCI7XG4gIH1cbiAgY29uc3RyYWludFRhcmdldElzU2VsZigpIHtcbiAgICByZXR1cm4gdGhpcy5leHByLnR5cGUgPT09IFwiY29uc3RyYWludFwiICYmIHRoaXMuZXhwci5saHMudHlwZSA9PT0gXCJhbGlhc1wiICYmIHRoaXMuZXhwci5saHMudGFyZ2V0ID09PSBcInNlbGZcIjtcbiAgfVxuICBjb25zdHJhaW50VGFyZ2V0SXNBdHRyaWJ1dGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhwci50eXBlID09PSBcImNvbnN0cmFpbnRcIiAmJiB0aGlzLmV4cHIubGhzLnR5cGUgPT09IFwiYXR0cmlidXRlXCI7XG4gIH1cbiAgdGVzdENvbnN0cmFpbnQocHJvYmUpIHtcbiAgICBjb25zdCBleHByID0gdGhpcy5leHByO1xuICAgIGlmIChleHByLnR5cGUgPT09IFwiY29uc3RyYWludFwiICYmIGV4cHIubGhzLnR5cGUgPT09IFwiYWxpYXNcIiAmJiBleHByLmxocy50YXJnZXQgPT09IFwic2VsZlwiKSB7XG4gICAgICBpZiAocHJvYmUuY29udGFpbmVyVHlwZSgpICE9PSBcInByaW1pdGl2ZVwiKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBpZiAoZXhwci50eXBlID09PSBcImNvbnN0cmFpbnRcIiAmJiBleHByLm9wZXJhdG9yID09PSBcIj9cIilcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgY29uc3QgbGhzMiA9IHByb2JlLmdldCgpLCByaHMyID0gZXhwci5yaHMgJiYgXCJ2YWx1ZVwiIGluIGV4cHIucmhzID8gZXhwci5yaHMudmFsdWUgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gdGVzdEJpbmFyeU9wZXJhdG9yKGxoczIsIGV4cHIub3BlcmF0b3IsIHJoczIpO1xuICAgIH1cbiAgICBpZiAoZXhwci50eXBlICE9PSBcImNvbnN0cmFpbnRcIilcbiAgICAgIHJldHVybiAhMTtcbiAgICBjb25zdCBsaHMgPSBleHByLmxocztcbiAgICBpZiAoIWxocylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIExIUyBvZiBleHByZXNzaW9uXCIpO1xuICAgIGlmIChsaHMudHlwZSAhPT0gXCJhdHRyaWJ1dGVcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ29uc3RyYWludCB0YXJnZXQgJHtsaHMudHlwZX0gbm90IHN1cHBvcnRlZGApO1xuICAgIGlmIChwcm9iZS5jb250YWluZXJUeXBlKCkgIT09IFwib2JqZWN0XCIpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgbGhzVmFsdWUgPSBwcm9iZS5nZXRBdHRyaWJ1dGUobGhzLm5hbWUpO1xuICAgIGlmIChsaHNWYWx1ZSA9PSBudWxsIHx8IGxoc1ZhbHVlLmNvbnRhaW5lclR5cGUoKSAhPT0gXCJwcmltaXRpdmVcIilcbiAgICAgIHJldHVybiAhMTtcbiAgICBpZiAodGhpcy5pc0V4aXN0ZW5jZUNvbnN0cmFpbnQoKSlcbiAgICAgIHJldHVybiAhMDtcbiAgICBjb25zdCByaHMgPSBleHByLnJocyAmJiBcInZhbHVlXCIgaW4gZXhwci5yaHMgPyBleHByLnJocy52YWx1ZSA6IHZvaWQgMDtcbiAgICByZXR1cm4gdGVzdEJpbmFyeU9wZXJhdG9yKGxoc1ZhbHVlLmdldCgpLCBleHByLm9wZXJhdG9yLCByaHMpO1xuICB9XG4gIHBhdGhOb2RlcygpIHtcbiAgICByZXR1cm4gdGhpcy5leHByLnR5cGUgPT09IFwicGF0aFwiID8gdGhpcy5leHByLm5vZGVzIDogW3RoaXMuZXhwcl07XG4gIH1cbiAgcHJlcGVuZChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgPyBuZXcgRXhwcmVzc2lvbih7XG4gICAgICB0eXBlOiBcInBhdGhcIixcbiAgICAgIG5vZGVzOiBub2RlLnBhdGhOb2RlcygpLmNvbmNhdCh0aGlzLnBhdGhOb2RlcygpKVxuICAgIH0pIDogdGhpcztcbiAgfVxuICBjb25jYXQob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIgPyBvdGhlci5wcmVwZW5kKHRoaXMpIDogdGhpcztcbiAgfVxuICBkZXNjZW5kKCkge1xuICAgIHJldHVybiBkZXNjZW5kJDEodGhpcy5leHByKS5tYXAoKGhlYWRUYWlsKSA9PiB7XG4gICAgICBjb25zdCBbaGVhZCwgdGFpbF0gPSBoZWFkVGFpbDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlYWQ6IGhlYWQgPyBuZXcgRXhwcmVzc2lvbihoZWFkKSA6IG51bGwsXG4gICAgICAgIHRhaWw6IHRhaWwgPyBuZXcgRXhwcmVzc2lvbih0YWlsKSA6IG51bGxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgdW53cmFwUmVjdXJzaXZlKCkge1xuICAgIGlmICh0aGlzLmV4cHIudHlwZSAhPT0gXCJyZWN1cnNpdmVcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdCB0byB1bndyYXAgcmVjdXJzaXZlIG9uIHR5cGUgJHt0aGlzLmV4cHIudHlwZX1gKTtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb24odGhpcy5leHByLnRlcm0pO1xuICB9XG4gIHRvSW5kaWNpZXMocHJvYmUpIHtcbiAgICBpZiAodGhpcy5leHByLnR5cGUgIT09IFwiaW5kZXhcIiAmJiB0aGlzLmV4cHIudHlwZSAhPT0gXCJyYW5nZVwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm9kZSBjYW5ub3QgYmUgY29udmVydGVkIHRvIGluZGV4ZXNcIik7XG4gICAgaWYgKHRoaXMuZXhwci50eXBlID09PSBcImluZGV4XCIpXG4gICAgICByZXR1cm4gW2ludGVycHJldE5lZ2F0aXZlSW5kZXgodGhpcy5leHByLnZhbHVlLCBwcm9iZSldO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdLCByYW5nZSA9IHRoaXMuZXhwYW5kUmFuZ2UocHJvYmUpO1xuICAgIGxldCB7IHN0YXJ0LCBlbmQgfSA9IHJhbmdlO1xuICAgIHJhbmdlLnN0ZXAgPCAwICYmIChbc3RhcnQsIGVuZF0gPSBbZW5kLCBzdGFydF0pO1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKVxuICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICB0b0ZpZWxkUmVmZXJlbmNlcygpIHtcbiAgICBpZiAodGhpcy5pc0luZGV4UmVmZXJlbmNlKCkpXG4gICAgICByZXR1cm4gdGhpcy50b0luZGljaWVzKCk7XG4gICAgaWYgKHRoaXMuZXhwci50eXBlID09PSBcImF0dHJpYnV0ZVwiKVxuICAgICAgcmV0dXJuIFt0aGlzLmV4cHIubmFtZV07XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBjb252ZXJ0ICR7dGhpcy5leHByLnR5cGV9IHRvIGZpZWxkIHJlZmVyZW5jZXNgKTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdG9QYXRoKHRoaXMuZXhwcik7XG4gIH1cbiAgc3RhdGljIGZyb21QYXRoKHBhdGgpIHtcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUpzb25QYXRoKHBhdGgpO1xuICAgIGlmICghcGFyc2VkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2UgcGF0aCBcIiR7cGF0aH1cImApO1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbihwYXJzZWQpO1xuICB9XG4gIHN0YXRpYyBhdHRyaWJ1dGVSZWZlcmVuY2UobmFtZSkge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbih7XG4gICAgICB0eXBlOiBcImF0dHJpYnV0ZVwiLFxuICAgICAgbmFtZVxuICAgIH0pO1xuICB9XG4gIHN0YXRpYyBpbmRleFJlZmVyZW5jZShpKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uKHtcbiAgICAgIHR5cGU6IFwiaW5kZXhcIixcbiAgICAgIHZhbHVlOiBpXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRlc3RCaW5hcnlPcGVyYXRvcihsaHNWYWx1ZSwgb3BlcmF0b3IsIHJoc1ZhbHVlKSB7XG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwiPlwiOlxuICAgICAgcmV0dXJuIGxoc1ZhbHVlID4gcmhzVmFsdWU7XG4gICAgY2FzZSBcIj49XCI6XG4gICAgICByZXR1cm4gbGhzVmFsdWUgPj0gcmhzVmFsdWU7XG4gICAgY2FzZSBcIjxcIjpcbiAgICAgIHJldHVybiBsaHNWYWx1ZSA8IHJoc1ZhbHVlO1xuICAgIGNhc2UgXCI8PVwiOlxuICAgICAgcmV0dXJuIGxoc1ZhbHVlIDw9IHJoc1ZhbHVlO1xuICAgIGNhc2UgXCI9PVwiOlxuICAgICAgcmV0dXJuIGxoc1ZhbHVlID09PSByaHNWYWx1ZTtcbiAgICBjYXNlIFwiIT1cIjpcbiAgICAgIHJldHVybiBsaHNWYWx1ZSAhPT0gcmhzVmFsdWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgYmluYXJ5IG9wZXJhdG9yICR7b3BlcmF0b3J9YCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGludGVycHJldE5lZ2F0aXZlSW5kZXgoaW5kZXgsIHByb2JlKSB7XG4gIGlmIChpbmRleCA+PSAwKVxuICAgIHJldHVybiBpbmRleDtcbiAgaWYgKCFwcm9iZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnRlcnByZXROZWdhdGl2ZUluZGV4KCkgbXVzdCBoYXZlIGEgcHJvYmUgd2hlbiA8IDBcIik7XG4gIHJldHVybiBpbmRleCArIHByb2JlLmxlbmd0aCgpO1xufVxudmFyIF9fZGVmUHJvcCRkID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AkZCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkZChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQkZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcCRkKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgRGVzY2VuZGVyIHtcbiAgY29uc3RydWN0b3IoaGVhZCwgdGFpbCkge1xuICAgIF9fcHVibGljRmllbGQkZCh0aGlzLCBcImhlYWRcIiksIF9fcHVibGljRmllbGQkZCh0aGlzLCBcInRhaWxcIiksIHRoaXMuaGVhZCA9IGhlYWQsIHRoaXMudGFpbCA9IHRhaWw7XG4gIH1cbiAgLy8gSXRlcmF0ZSB0aGlzIGRlc2NlbmRlciBvbmNlIHByb2Nlc3NpbmcgYW55IGNvbnN0cmFpbnRzIHRoYXQgYXJlXG4gIC8vIHJlc29sdmFibGUgb24gdGhlIGN1cnJlbnQgdmFsdWUuIFJldHVybnMgYW4gYXJyYXkgb2YgbmV3IGRlc2NlbmRlcnNcbiAgLy8gdGhhdCBhcmUgZ3VhcmFudGVlZCB0byBiZSB3aXRob3V0IGNvbnN0cmFpbnRzIGluIHRoZSBoZWFkXG4gIGl0ZXJhdGUocHJvYmUpIHtcbiAgICBsZXQgcmVzdWx0ID0gW3RoaXNdO1xuICAgIGlmICh0aGlzLmhlYWQgJiYgdGhpcy5oZWFkLmlzQ29uc3RyYWludCgpKSB7XG4gICAgICBsZXQgYW55Q29uc3RyYWludHMgPSAhMDtcbiAgICAgIGZvciAoOyBhbnlDb25zdHJhaW50czsgKVxuICAgICAgICByZXN1bHQgPSBmbGF0dGVuKFxuICAgICAgICAgIHJlc3VsdC5tYXAoKGRlc2NlbmRlcikgPT4gZGVzY2VuZGVyLml0ZXJhdGVDb25zdHJhaW50cyhwcm9iZSkpXG4gICAgICAgICksIGFueUNvbnN0cmFpbnRzID0gcmVzdWx0LnNvbWUoKGRlc2NlbmRlcikgPT4gZGVzY2VuZGVyLmhlYWQgJiYgZGVzY2VuZGVyLmhlYWQuaXNDb25zdHJhaW50KCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGlzUmVjdXJzaXZlKCkge1xuICAgIHJldHVybiAhISh0aGlzLmhlYWQgJiYgdGhpcy5oZWFkLmlzUmVjdXJzaXZlKCkpO1xuICB9XG4gIGhhc0Fycml2ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZCA9PT0gbnVsbCAmJiB0aGlzLnRhaWwgPT09IG51bGw7XG4gIH1cbiAgZXh0cmFjdFJlY3Vyc2l2ZXMoKSB7XG4gICAgaWYgKHRoaXMuaGVhZCAmJiB0aGlzLmhlYWQuaXNSZWN1cnNpdmUoKSkge1xuICAgICAgY29uc3QgdGVybSA9IHRoaXMuaGVhZC51bndyYXBSZWN1cnNpdmUoKTtcbiAgICAgIHJldHVybiBuZXcgRGVzY2VuZGVyKG51bGwsIHRlcm0uY29uY2F0KHRoaXMudGFpbCkpLmRlc2NlbmQoKTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGl0ZXJhdGVDb25zdHJhaW50cyhwcm9iZSkge1xuICAgIGNvbnN0IGhlYWQgPSB0aGlzLmhlYWQ7XG4gICAgaWYgKGhlYWQgPT09IG51bGwgfHwgIWhlYWQuaXNDb25zdHJhaW50KCkpXG4gICAgICByZXR1cm4gW3RoaXNdO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGlmIChwcm9iZS5jb250YWluZXJUeXBlKCkgPT09IFwicHJpbWl0aXZlXCIgJiYgaGVhZC5jb25zdHJhaW50VGFyZ2V0SXNTZWxmKCkpXG4gICAgICByZXR1cm4gaGVhZC50ZXN0Q29uc3RyYWludChwcm9iZSkgJiYgcmVzdWx0LnB1c2goLi4udGhpcy5kZXNjZW5kKCkpLCByZXN1bHQ7XG4gICAgaWYgKHByb2JlLmNvbnRhaW5lclR5cGUoKSA9PT0gXCJhcnJheVwiKSB7XG4gICAgICBjb25zdCBsZW5ndGggPSBwcm9iZS5sZW5ndGgoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY29uc3RyYWludCA9IHByb2JlLmdldEluZGV4KGkpO1xuICAgICAgICBjb25zdHJhaW50ICYmIGhlYWQudGVzdENvbnN0cmFpbnQoY29uc3RyYWludCkgJiYgcmVzdWx0LnB1c2gobmV3IERlc2NlbmRlcihuZXcgRXhwcmVzc2lvbih7IHR5cGU6IFwiaW5kZXhcIiwgdmFsdWU6IGkgfSksIHRoaXMudGFpbCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHByb2JlLmNvbnRhaW5lclR5cGUoKSA9PT0gXCJvYmplY3RcIiA/IGhlYWQuY29uc3RyYWludFRhcmdldElzU2VsZigpID8gW10gOiBoZWFkLnRlc3RDb25zdHJhaW50KHByb2JlKSA/IHRoaXMuZGVzY2VuZCgpIDogcmVzdWx0IDogcmVzdWx0O1xuICB9XG4gIGRlc2NlbmQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFpbCA/IHRoaXMudGFpbC5kZXNjZW5kKCkubWFwKChodCkgPT4gbmV3IERlc2NlbmRlcihodC5oZWFkLCBodC50YWlsKSkgOiBbbmV3IERlc2NlbmRlcihudWxsLCBudWxsKV07XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW1wiPFwiXTtcbiAgICByZXR1cm4gdGhpcy5oZWFkICYmIHJlc3VsdC5wdXNoKHRoaXMuaGVhZC50b1N0cmluZygpKSwgcmVzdWx0LnB1c2goXCJ8XCIpLCB0aGlzLnRhaWwgJiYgcmVzdWx0LnB1c2godGhpcy50YWlsLnRvU3RyaW5nKCkpLCByZXN1bHQucHVzaChcIj5cIiksIHJlc3VsdC5qb2luKFwiXCIpO1xuICB9XG59XG52YXIgX19kZWZQcm9wJGMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCRjID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCRjKG9iaiwga2V5LCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZSwgX19wdWJsaWNGaWVsZCRjID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wJGMob2JqLCB0eXBlb2Yga2V5ICE9IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5jbGFzcyBNYXRjaGVyIHtcbiAgY29uc3RydWN0b3IoYWN0aXZlLCBwYXJlbnQpIHtcbiAgICBfX3B1YmxpY0ZpZWxkJGModGhpcywgXCJhY3RpdmVcIiksIF9fcHVibGljRmllbGQkYyh0aGlzLCBcInJlY3Vyc2l2ZXNcIiksIF9fcHVibGljRmllbGQkYyh0aGlzLCBcInBheWxvYWRcIiksIHRoaXMuYWN0aXZlID0gYWN0aXZlIHx8IFtdLCBwYXJlbnQgPyAodGhpcy5yZWN1cnNpdmVzID0gcGFyZW50LnJlY3Vyc2l2ZXMsIHRoaXMucGF5bG9hZCA9IHBhcmVudC5wYXlsb2FkKSA6IHRoaXMucmVjdXJzaXZlcyA9IFtdLCB0aGlzLmV4dHJhY3RSZWN1cnNpdmVzKCk7XG4gIH1cbiAgc2V0UGF5bG9hZChwYXlsb2FkKSB7XG4gICAgcmV0dXJuIHRoaXMucGF5bG9hZCA9IHBheWxvYWQsIHRoaXM7XG4gIH1cbiAgLy8gTW92ZXMgYW55IHJlY3Vyc2l2ZSBkZXNjZW5kZXJzIG9udG8gdGhlIHJlY3Vyc2l2ZSB0cmFjaywgcmVtb3ZpbmcgdGhlbSBmcm9tXG4gIC8vIHRoZSBhY3RpdmUgc2V0XG4gIGV4dHJhY3RSZWN1cnNpdmVzKCkge1xuICAgIHRoaXMuYWN0aXZlID0gdGhpcy5hY3RpdmUuZmlsdGVyKChkZXNjZW5kZXIpID0+IGRlc2NlbmRlci5pc1JlY3Vyc2l2ZSgpID8gKHRoaXMucmVjdXJzaXZlcy5wdXNoKC4uLmRlc2NlbmRlci5leHRyYWN0UmVjdXJzaXZlcygpKSwgITEpIDogITApO1xuICB9XG4gIC8vIEZpbmQgcmVjdXJzaXZlcyB0aGF0IGFyZSByZWxldmFudCBub3cgYW5kIHNob3VsZCBiZSBjb25zaWRlcmVkIHBhcnQgb2YgdGhlIGFjdGl2ZSBzZXRcbiAgYWN0aXZlUmVjdXJzaXZlcyhwcm9iZSkge1xuICAgIHJldHVybiB0aGlzLnJlY3Vyc2l2ZXMuZmlsdGVyKChkZXNjZW5kZXIpID0+IHtcbiAgICAgIGNvbnN0IGhlYWQgPSBkZXNjZW5kZXIuaGVhZDtcbiAgICAgIHJldHVybiBoZWFkID8gaGVhZC5pc0NvbnN0cmFpbnQoKSB8fCBwcm9iZS5jb250YWluZXJUeXBlKCkgPT09IFwiYXJyYXlcIiAmJiBoZWFkLmlzSW5kZXhSZWZlcmVuY2UoKSA/ICEwIDogcHJvYmUuY29udGFpbmVyVHlwZSgpID09PSBcIm9iamVjdFwiID8gaGVhZC5pc0F0dHJpYnV0ZVJlZmVyZW5jZSgpICYmIHByb2JlLmhhc0F0dHJpYnV0ZShoZWFkLm5hbWUoKSkgOiAhMSA6ICExO1xuICAgIH0pO1xuICB9XG4gIG1hdGNoKHByb2JlKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlcmF0ZShwcm9iZSkuZXh0cmFjdE1hdGNoZXMocHJvYmUpO1xuICB9XG4gIGl0ZXJhdGUocHJvYmUpIHtcbiAgICBjb25zdCBuZXdBY3RpdmVTZXQgPSBbXTtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmUuY29uY2F0KHRoaXMuYWN0aXZlUmVjdXJzaXZlcyhwcm9iZSkpLmZvckVhY2goKGRlc2NlbmRlcikgPT4ge1xuICAgICAgbmV3QWN0aXZlU2V0LnB1c2goLi4uZGVzY2VuZGVyLml0ZXJhdGUocHJvYmUpKTtcbiAgICB9KSwgbmV3IE1hdGNoZXIobmV3QWN0aXZlU2V0LCB0aGlzKTtcbiAgfVxuICAvLyBSZXR1cm5zIHRydWUgaWYgYW55IG9mIHRoZSBkZXNjZW5kZXJzIGluIHRoZSBhY3RpdmUgb3IgcmVjdXJzaXZlIHNldFxuICAvLyBjb25zaWRlciB0aGUgY3VycmVudCBzdGF0ZSBhIGZpbmFsIGRlc3RpbmF0aW9uXG4gIGlzRGVzdGluYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlLnNvbWUoKGRlc2NlbmRlcikgPT4gZGVzY2VuZGVyLmhhc0Fycml2ZWQoKSk7XG4gIH1cbiAgaGFzUmVjdXJzaXZlcygpIHtcbiAgICByZXR1cm4gdGhpcy5yZWN1cnNpdmVzLmxlbmd0aCA+IDA7XG4gIH1cbiAgLy8gUmV0dXJucyBhbnkgcGF5bG9hZCBkZWxpdmllcmllcyBhbmQgbGVhZHMgdGhhdCBuZWVkcyB0byBiZSBmb2xsb3dlZCB0byBjb21wbGV0ZVxuICAvLyB0aGUgcHJvY2Vzcy5cbiAgZXh0cmFjdE1hdGNoZXMocHJvYmUpIHtcbiAgICBjb25zdCBsZWFkcyA9IFtdLCB0YXJnZXRzID0gW107XG4gICAgaWYgKHRoaXMuYWN0aXZlLmZvckVhY2goKGRlc2NlbmRlcikgPT4ge1xuICAgICAgaWYgKGRlc2NlbmRlci5oYXNBcnJpdmVkKCkpIHtcbiAgICAgICAgdGFyZ2V0cy5wdXNoKFxuICAgICAgICAgIG5ldyBFeHByZXNzaW9uKHtcbiAgICAgICAgICAgIHR5cGU6IFwiYWxpYXNcIixcbiAgICAgICAgICAgIHRhcmdldDogXCJzZWxmXCJcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZXNjZW5kZXJIZWFkID0gZGVzY2VuZGVyLmhlYWQ7XG4gICAgICBpZiAoZGVzY2VuZGVySGVhZCAmJiAhKHByb2JlLmNvbnRhaW5lclR5cGUoKSA9PT0gXCJhcnJheVwiICYmICFkZXNjZW5kZXJIZWFkLmlzSW5kZXhSZWZlcmVuY2UoKSkgJiYgIShwcm9iZS5jb250YWluZXJUeXBlKCkgPT09IFwib2JqZWN0XCIgJiYgIWRlc2NlbmRlckhlYWQuaXNBdHRyaWJ1dGVSZWZlcmVuY2UoKSkpXG4gICAgICAgIGlmIChkZXNjZW5kZXIudGFpbCkge1xuICAgICAgICAgIGNvbnN0IG1hdGNoZXIgPSBuZXcgTWF0Y2hlcihkZXNjZW5kZXIuZGVzY2VuZCgpLCB0aGlzKTtcbiAgICAgICAgICBkZXNjZW5kZXJIZWFkLnRvRmllbGRSZWZlcmVuY2VzKCkuZm9yRWFjaCgoKSA9PiB7XG4gICAgICAgICAgICBsZWFkcy5wdXNoKHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiBkZXNjZW5kZXJIZWFkLFxuICAgICAgICAgICAgICBtYXRjaGVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgdGFyZ2V0cy5wdXNoKGRlc2NlbmRlckhlYWQpO1xuICAgIH0pLCB0aGlzLmhhc1JlY3Vyc2l2ZXMoKSkge1xuICAgICAgY29uc3QgcmVjdXJzaXZlc01hdGNoZXIgPSBuZXcgTWF0Y2hlcihbXSwgdGhpcyk7XG4gICAgICBpZiAocHJvYmUuY29udGFpbmVyVHlwZSgpID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gcHJvYmUubGVuZ3RoKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICAgICAgbGVhZHMucHVzaCh7XG4gICAgICAgICAgICB0YXJnZXQ6IEV4cHJlc3Npb24uaW5kZXhSZWZlcmVuY2UoaSksXG4gICAgICAgICAgICBtYXRjaGVyOiByZWN1cnNpdmVzTWF0Y2hlclxuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHByb2JlLmNvbnRhaW5lclR5cGUoKSA9PT0gXCJvYmplY3RcIiAmJiBwcm9iZS5hdHRyaWJ1dGVLZXlzKCkuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICBsZWFkcy5wdXNoKHtcbiAgICAgICAgICB0YXJnZXQ6IEV4cHJlc3Npb24uYXR0cmlidXRlUmVmZXJlbmNlKG5hbWUpLFxuICAgICAgICAgIG1hdGNoZXI6IHJlY3Vyc2l2ZXNNYXRjaGVyXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRzLmxlbmd0aCA+IDAgPyB7IGxlYWRzLCBkZWxpdmVyeTogeyB0YXJnZXRzLCBwYXlsb2FkOiB0aGlzLnBheWxvYWQgfSB9IDogeyBsZWFkcyB9O1xuICB9XG4gIHN0YXRpYyBmcm9tUGF0aChqc29ucGF0aCkge1xuICAgIGNvbnN0IHBhdGggPSBwYXJzZUpzb25QYXRoKGpzb25wYXRoKTtcbiAgICBpZiAoIXBhdGgpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBwYXRoIGZyb20gXCIke2pzb25wYXRofVwiYCk7XG4gICAgY29uc3QgZGVzY2VuZGVyID0gbmV3IERlc2NlbmRlcihudWxsLCBuZXcgRXhwcmVzc2lvbihwYXRoKSk7XG4gICAgcmV0dXJuIG5ldyBNYXRjaGVyKGRlc2NlbmRlci5kZXNjZW5kKCkpO1xuICB9XG59XG52YXIgX19kZWZQcm9wJGIgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCRiID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCRiKG9iaiwga2V5LCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZSwgX19wdWJsaWNGaWVsZCRiID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wJGIob2JqLCB0eXBlb2Yga2V5ICE9IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5jbGFzcyBQbGFpblByb2JlIHtcbiAgY29uc3RydWN0b3IodmFsdWUsIHBhdGgpIHtcbiAgICBfX3B1YmxpY0ZpZWxkJGIodGhpcywgXCJfdmFsdWVcIiksIF9fcHVibGljRmllbGQkYih0aGlzLCBcInBhdGhcIiksIHRoaXMuX3ZhbHVlID0gdmFsdWUsIHRoaXMucGF0aCA9IHBhdGggfHwgW107XG4gIH1cbiAgY29udGFpbmVyVHlwZSgpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLl92YWx1ZSkgPyBcImFycmF5XCIgOiB0aGlzLl92YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpcy5fdmFsdWUgPT0gXCJvYmplY3RcIiA/IFwib2JqZWN0XCIgOiBcInByaW1pdGl2ZVwiO1xuICB9XG4gIGxlbmd0aCgpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5fdmFsdWUpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV29uJ3QgcmV0dXJuIGxlbmd0aCBvZiBub24taW5kZXhhYmxlIF92YWx1ZVwiKTtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUubGVuZ3RoO1xuICB9XG4gIGdldEluZGV4KGkpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLl92YWx1ZSkgPyBpID49IHRoaXMubGVuZ3RoKCkgPyBudWxsIDogbmV3IFBsYWluUHJvYmUodGhpcy5fdmFsdWVbaV0sIHRoaXMucGF0aC5jb25jYXQoaSkpIDogITE7XG4gIH1cbiAgaGFzQXR0cmlidXRlKGtleSkge1xuICAgIHJldHVybiBpc1JlY29yZCh0aGlzLl92YWx1ZSkgPyB0aGlzLl92YWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpIDogITE7XG4gIH1cbiAgYXR0cmlidXRlS2V5cygpIHtcbiAgICByZXR1cm4gaXNSZWNvcmQodGhpcy5fdmFsdWUpID8gT2JqZWN0LmtleXModGhpcy5fdmFsdWUpIDogW107XG4gIH1cbiAgZ2V0QXR0cmlidXRlKGtleSkge1xuICAgIGlmICghaXNSZWNvcmQodGhpcy5fdmFsdWUpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2V0QXR0cmlidXRlIG9ubHkgYXBwbGllcyB0byBwbGFpbiBvYmplY3RzXCIpO1xuICAgIHJldHVybiB0aGlzLmhhc0F0dHJpYnV0ZShrZXkpID8gbmV3IFBsYWluUHJvYmUodGhpcy5fdmFsdWVba2V5XSwgdGhpcy5wYXRoLmNvbmNhdChrZXkpKSA6IG51bGw7XG4gIH1cbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gZXh0cmFjdEFjY2Vzc29ycyhwYXRoLCB2YWx1ZSkge1xuICBjb25zdCByZXN1bHQgPSBbXSwgbWF0Y2hlciA9IE1hdGNoZXIuZnJvbVBhdGgocGF0aCkuc2V0UGF5bG9hZChmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICByZXN1bHQucHVzaCguLi52YWx1ZXMpO1xuICB9KSwgYWNjZXNzb3IgPSBuZXcgUGxhaW5Qcm9iZSh2YWx1ZSk7XG4gIHJldHVybiBkZXNjZW5kKG1hdGNoZXIsIGFjY2Vzc29yKSwgcmVzdWx0O1xufVxuZnVuY3Rpb24gZGVzY2VuZChtYXRjaGVyLCBhY2Nlc3Nvcikge1xuICBjb25zdCB7IGxlYWRzLCBkZWxpdmVyeSB9ID0gbWF0Y2hlci5tYXRjaChhY2Nlc3Nvcik7XG4gIGxlYWRzLmZvckVhY2goKGxlYWQpID0+IHtcbiAgICBhY2Nlc3NvcnNGcm9tVGFyZ2V0KGxlYWQudGFyZ2V0LCBhY2Nlc3NvcikuZm9yRWFjaCgoY2hpbGRBY2Nlc3NvcikgPT4ge1xuICAgICAgZGVzY2VuZChsZWFkLm1hdGNoZXIsIGNoaWxkQWNjZXNzb3IpO1xuICAgIH0pO1xuICB9KSwgZGVsaXZlcnkgJiYgZGVsaXZlcnkudGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IHtcbiAgICB0eXBlb2YgZGVsaXZlcnkucGF5bG9hZCA9PSBcImZ1bmN0aW9uXCIgJiYgZGVsaXZlcnkucGF5bG9hZChhY2Nlc3NvcnNGcm9tVGFyZ2V0KHRhcmdldCwgYWNjZXNzb3IpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBhY2Nlc3NvcnNGcm9tVGFyZ2V0KHRhcmdldCwgYWNjZXNzb3IpIHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGlmICh0YXJnZXQuaXNJbmRleFJlZmVyZW5jZSgpKVxuICAgIHRhcmdldC50b0luZGljaWVzKGFjY2Vzc29yKS5mb3JFYWNoKChpKSA9PiB7XG4gICAgICByZXN1bHQucHVzaChhY2Nlc3Nvci5nZXRJbmRleChpKSk7XG4gICAgfSk7XG4gIGVsc2UgaWYgKHRhcmdldC5pc0F0dHJpYnV0ZVJlZmVyZW5jZSgpKVxuICAgIHJlc3VsdC5wdXNoKGFjY2Vzc29yLmdldEF0dHJpYnV0ZSh0YXJnZXQubmFtZSgpKSk7XG4gIGVsc2UgaWYgKHRhcmdldC5pc1NlbGZSZWZlcmVuY2UoKSlcbiAgICByZXN1bHQucHVzaChhY2Nlc3Nvcik7XG4gIGVsc2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBkZXJpdmUgYWNjZXNzb3IgZm9yIHRhcmdldCAke3RhcmdldC50b1N0cmluZygpfWApO1xuICByZXR1cm4gY29tcGFjdChyZXN1bHQpO1xufVxuZnVuY3Rpb24gZXh0cmFjdChwYXRoLCB2YWx1ZSkge1xuICByZXR1cm4gZXh0cmFjdEFjY2Vzc29ycyhwYXRoLCB2YWx1ZSkubWFwKChhY2MpID0+IGFjYy5nZXQoKSk7XG59XG5mdW5jdGlvbiBleHRyYWN0V2l0aFBhdGgocGF0aCwgdmFsdWUpIHtcbiAgcmV0dXJuIGV4dHJhY3RBY2Nlc3NvcnMocGF0aCwgdmFsdWUpLm1hcCgoYWNjKSA9PiAoeyBwYXRoOiBhY2MucGF0aCwgdmFsdWU6IGFjYy5nZXQoKSB9KSk7XG59XG52YXIgX19kZWZQcm9wJGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCRhID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCRhKG9iaiwga2V5LCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZSwgX19wdWJsaWNGaWVsZCRhID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wJGEob2JqLCB0eXBlb2Yga2V5ICE9IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5mdW5jdGlvbiBhcHBseVBhdGNoKHBhdGNoLCBvbGRWYWx1ZSkge1xuICBpZiAodHlwZW9mIG9sZFZhbHVlICE9IFwic3RyaW5nXCIpIHJldHVybiBvbGRWYWx1ZTtcbiAgY29uc3QgW3Jlc3VsdF0gPSBhcHBseVBhdGNoZXMocGF0Y2gsIG9sZFZhbHVlLCB7IGFsbG93RXhjZWVkaW5nSW5kaWNlczogITAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5jbGFzcyBEaWZmTWF0Y2hQYXRjaCB7XG4gIGNvbnN0cnVjdG9yKGlkLCBwYXRoLCBkbXBQYXRjaFNyYykge1xuICAgIF9fcHVibGljRmllbGQkYSh0aGlzLCBcInBhdGhcIiksIF9fcHVibGljRmllbGQkYSh0aGlzLCBcImRtcFBhdGNoXCIpLCBfX3B1YmxpY0ZpZWxkJGEodGhpcywgXCJpZFwiKSwgdGhpcy5pZCA9IGlkLCB0aGlzLnBhdGggPSBwYXRoLCB0aGlzLmRtcFBhdGNoID0gcGFyc2VQYXRjaCQxKGRtcFBhdGNoU3JjKTtcbiAgfVxuICBhcHBseSh0YXJnZXRzLCBhY2Nlc3Nvcikge1xuICAgIGxldCByZXN1bHQgPSBhY2Nlc3NvcjtcbiAgICBpZiAocmVzdWx0LmNvbnRhaW5lclR5cGUoKSA9PT0gXCJwcmltaXRpdmVcIilcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgZm9yIChjb25zdCB0YXJnZXQgb2YgdGFyZ2V0cykge1xuICAgICAgaWYgKHRhcmdldC5pc0luZGV4UmVmZXJlbmNlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiB0YXJnZXQudG9JbmRpY2llcyhhY2Nlc3NvcikpIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gcmVzdWx0LmdldEluZGV4KGluZGV4KTtcbiAgICAgICAgICBpZiAoIWl0ZW0pXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGl0ZW0uZ2V0KCksIG5leHRWYWx1ZSA9IGFwcGx5UGF0Y2godGhpcy5kbXBQYXRjaCwgb2xkVmFsdWUpO1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zZXRJbmRleChpbmRleCwgbmV4dFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQuaXNBdHRyaWJ1dGVSZWZlcmVuY2UoKSAmJiByZXN1bHQuaGFzQXR0cmlidXRlKHRhcmdldC5uYW1lKCkpKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHJlc3VsdC5nZXRBdHRyaWJ1dGUodGFyZ2V0Lm5hbWUoKSk7XG4gICAgICAgIGlmICghYXR0cmlidXRlKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGF0dHJpYnV0ZS5nZXQoKSwgbmV4dFZhbHVlID0gYXBwbHlQYXRjaCh0aGlzLmRtcFBhdGNoLCBvbGRWYWx1ZSk7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zZXRBdHRyaWJ1dGUodGFyZ2V0Lm5hbWUoKSwgbmV4dFZhbHVlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBhcHBseSBkaWZmTWF0Y2hQYXRjaCB0byB0YXJnZXQgJHt0YXJnZXQudG9TdHJpbmcoKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxudmFyIF9fZGVmUHJvcCQ5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AkOSA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkOShvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQkOSA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcCQ5KG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuZnVuY3Rpb24gcGVyZm9ybUluY3JlbWVudChwcmV2aW91c1ZhbHVlLCBkZWx0YSkge1xuICByZXR1cm4gdHlwZW9mIHByZXZpb3VzVmFsdWUgIT0gXCJudW1iZXJcIiB8fCAhTnVtYmVyLmlzRmluaXRlKHByZXZpb3VzVmFsdWUpID8gcHJldmlvdXNWYWx1ZSA6IHByZXZpb3VzVmFsdWUgKyBkZWx0YTtcbn1cbmNsYXNzIEluY1BhdGNoIHtcbiAgY29uc3RydWN0b3IoaWQsIHBhdGgsIHZhbHVlKSB7XG4gICAgX19wdWJsaWNGaWVsZCQ5KHRoaXMsIFwicGF0aFwiKSwgX19wdWJsaWNGaWVsZCQ5KHRoaXMsIFwidmFsdWVcIiksIF9fcHVibGljRmllbGQkOSh0aGlzLCBcImlkXCIpLCB0aGlzLnBhdGggPSBwYXRoLCB0aGlzLnZhbHVlID0gdmFsdWUsIHRoaXMuaWQgPSBpZDtcbiAgfVxuICBhcHBseSh0YXJnZXRzLCBhY2Nlc3Nvcikge1xuICAgIGxldCByZXN1bHQgPSBhY2Nlc3NvcjtcbiAgICBpZiAocmVzdWx0LmNvbnRhaW5lclR5cGUoKSA9PT0gXCJwcmltaXRpdmVcIilcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgZm9yIChjb25zdCB0YXJnZXQgb2YgdGFyZ2V0cykge1xuICAgICAgaWYgKHRhcmdldC5pc0luZGV4UmVmZXJlbmNlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiB0YXJnZXQudG9JbmRpY2llcyhhY2Nlc3NvcikpIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gcmVzdWx0LmdldEluZGV4KGluZGV4KTtcbiAgICAgICAgICBpZiAoIWl0ZW0pXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gaXRlbS5nZXQoKTtcbiAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2V0SW5kZXgoaW5kZXgsIHBlcmZvcm1JbmNyZW1lbnQocHJldmlvdXNWYWx1ZSwgdGhpcy52YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldC5pc0F0dHJpYnV0ZVJlZmVyZW5jZSgpKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHJlc3VsdC5nZXRBdHRyaWJ1dGUodGFyZ2V0Lm5hbWUoKSk7XG4gICAgICAgIGlmICghYXR0cmlidXRlKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gYXR0cmlidXRlLmdldCgpO1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuc2V0QXR0cmlidXRlKHRhcmdldC5uYW1lKCksIHBlcmZvcm1JbmNyZW1lbnQocHJldmlvdXNWYWx1ZSwgdGhpcy52YWx1ZSkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGFwcGx5IHRvIHRhcmdldCAke3RhcmdldC50b1N0cmluZygpfWApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5mdW5jdGlvbiB0YXJnZXRzVG9JbmRpY2llcyh0YXJnZXRzLCBhY2Nlc3Nvcikge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgcmV0dXJuIHRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiB7XG4gICAgdGFyZ2V0LmlzSW5kZXhSZWZlcmVuY2UoKSAmJiByZXN1bHQucHVzaCguLi50YXJnZXQudG9JbmRpY2llcyhhY2Nlc3NvcikpO1xuICB9KSwgcmVzdWx0LnNvcnQoKTtcbn1cbnZhciBfX2RlZlByb3AkOCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgX19kZWZOb3JtYWxQcm9wJDggPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDgob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkJDggPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3AkOChvYmosIHR5cGVvZiBrZXkgIT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmNsYXNzIEluc2VydFBhdGNoIHtcbiAgY29uc3RydWN0b3IoaWQsIGxvY2F0aW9uLCBwYXRoLCBpdGVtcykge1xuICAgIF9fcHVibGljRmllbGQkOCh0aGlzLCBcImxvY2F0aW9uXCIpLCBfX3B1YmxpY0ZpZWxkJDgodGhpcywgXCJwYXRoXCIpLCBfX3B1YmxpY0ZpZWxkJDgodGhpcywgXCJpdGVtc1wiKSwgX19wdWJsaWNGaWVsZCQ4KHRoaXMsIFwiaWRcIiksIHRoaXMuaWQgPSBpZCwgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uLCB0aGlzLnBhdGggPSBwYXRoLCB0aGlzLml0ZW1zID0gaXRlbXM7XG4gIH1cbiAgYXBwbHkodGFyZ2V0cywgYWNjZXNzb3IpIHtcbiAgICBsZXQgcmVzdWx0ID0gYWNjZXNzb3I7XG4gICAgaWYgKGFjY2Vzc29yLmNvbnRhaW5lclR5cGUoKSAhPT0gXCJhcnJheVwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdCB0byBhcHBseSBpbnNlcnQgcGF0Y2ggdG8gbm9uLWFycmF5IHZhbHVlXCIpO1xuICAgIHN3aXRjaCAodGhpcy5sb2NhdGlvbikge1xuICAgICAgY2FzZSBcImJlZm9yZVwiOiB7XG4gICAgICAgIGNvbnN0IHBvcyA9IG1pbkluZGV4KHRhcmdldHMsIGFjY2Vzc29yKTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0Lmluc2VydEl0ZW1zQXQocG9zLCB0aGlzLml0ZW1zKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiYWZ0ZXJcIjoge1xuICAgICAgICBjb25zdCBwb3MgPSBtYXhJbmRleCh0YXJnZXRzLCBhY2Nlc3Nvcik7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5pbnNlcnRJdGVtc0F0KHBvcyArIDEsIHRoaXMuaXRlbXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJyZXBsYWNlXCI6IHtcbiAgICAgICAgY29uc3QgaW5kaWNpZXMgPSB0YXJnZXRzVG9JbmRpY2llcyh0YXJnZXRzLCBhY2Nlc3Nvcik7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC51bnNldEluZGljZXMoaW5kaWNpZXMpLCByZXN1bHQgPSByZXN1bHQuaW5zZXJ0SXRlbXNBdChpbmRpY2llc1swXSwgdGhpcy5pdGVtcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBsb2NhdGlvbiBhdG06ICR7dGhpcy5sb2NhdGlvbn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuZnVuY3Rpb24gbWluSW5kZXgodGFyZ2V0cywgYWNjZXNzb3IpIHtcbiAgbGV0IHJlc3VsdCA9IG1pbih0YXJnZXRzVG9JbmRpY2llcyh0YXJnZXRzLCBhY2Nlc3NvcikpIHx8IDA7XG4gIHJldHVybiB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuICAgIGlmICh0YXJnZXQuaXNSYW5nZSgpKSB7XG4gICAgICBjb25zdCB7IHN0YXJ0IH0gPSB0YXJnZXQuZXhwYW5kUmFuZ2UoKTtcbiAgICAgIHN0YXJ0IDwgcmVzdWx0ICYmIChyZXN1bHQgPSBzdGFydCk7XG4gICAgfVxuICB9KSwgcmVzdWx0O1xufVxuZnVuY3Rpb24gbWF4SW5kZXgodGFyZ2V0cywgYWNjZXNzb3IpIHtcbiAgbGV0IHJlc3VsdCA9IG1heCh0YXJnZXRzVG9JbmRpY2llcyh0YXJnZXRzLCBhY2Nlc3NvcikpIHx8IDA7XG4gIHJldHVybiB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuICAgIGlmICh0YXJnZXQuaXNSYW5nZSgpKSB7XG4gICAgICBjb25zdCB7IGVuZCB9ID0gdGFyZ2V0LmV4cGFuZFJhbmdlKCk7XG4gICAgICBlbmQgPiByZXN1bHQgJiYgKHJlc3VsdCA9IGVuZCk7XG4gICAgfVxuICB9KSwgcmVzdWx0O1xufVxudmFyIF9fZGVmUHJvcCQ3ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AkNyA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkNyhvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQkNyA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcCQ3KG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgU2V0SWZNaXNzaW5nUGF0Y2gge1xuICBjb25zdHJ1Y3RvcihpZCwgcGF0aCwgdmFsdWUpIHtcbiAgICBfX3B1YmxpY0ZpZWxkJDcodGhpcywgXCJpZFwiKSwgX19wdWJsaWNGaWVsZCQ3KHRoaXMsIFwicGF0aFwiKSwgX19wdWJsaWNGaWVsZCQ3KHRoaXMsIFwidmFsdWVcIiksIHRoaXMuaWQgPSBpZCwgdGhpcy5wYXRoID0gcGF0aCwgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIGFwcGx5KHRhcmdldHMsIGFjY2Vzc29yKSB7XG4gICAgbGV0IHJlc3VsdCA9IGFjY2Vzc29yO1xuICAgIHJldHVybiB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuICAgICAgaWYgKCF0YXJnZXQuaXNJbmRleFJlZmVyZW5jZSgpKVxuICAgICAgICBpZiAodGFyZ2V0LmlzQXR0cmlidXRlUmVmZXJlbmNlKCkpXG4gICAgICAgICAgcmVzdWx0LmNvbnRhaW5lclR5cGUoKSA9PT0gXCJwcmltaXRpdmVcIiA/IHJlc3VsdCA9IHJlc3VsdC5zZXQoeyBbdGFyZ2V0Lm5hbWUoKV06IHRoaXMudmFsdWUgfSkgOiByZXN1bHQuaGFzQXR0cmlidXRlKHRhcmdldC5uYW1lKCkpIHx8IChyZXN1bHQgPSBhY2Nlc3Nvci5zZXRBdHRyaWJ1dGUodGFyZ2V0Lm5hbWUoKSwgdGhpcy52YWx1ZSkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gYXBwbHkgdG8gdGFyZ2V0ICR7dGFyZ2V0LnRvU3RyaW5nKCl9YCk7XG4gICAgfSksIHJlc3VsdDtcbiAgfVxufVxudmFyIF9fZGVmUHJvcCQ2ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AkNiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkNihvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQkNiA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcCQ2KG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgU2V0UGF0Y2gge1xuICBjb25zdHJ1Y3RvcihpZCwgcGF0aCwgdmFsdWUpIHtcbiAgICBfX3B1YmxpY0ZpZWxkJDYodGhpcywgXCJpZFwiKSwgX19wdWJsaWNGaWVsZCQ2KHRoaXMsIFwicGF0aFwiKSwgX19wdWJsaWNGaWVsZCQ2KHRoaXMsIFwidmFsdWVcIiksIHRoaXMuaWQgPSBpZCwgdGhpcy5wYXRoID0gcGF0aCwgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIGFwcGx5KHRhcmdldHMsIGFjY2Vzc29yKSB7XG4gICAgbGV0IHJlc3VsdCA9IGFjY2Vzc29yO1xuICAgIHJldHVybiB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuICAgICAgaWYgKHRhcmdldC5pc1NlbGZSZWZlcmVuY2UoKSlcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNldCh0aGlzLnZhbHVlKTtcbiAgICAgIGVsc2UgaWYgKHRhcmdldC5pc0luZGV4UmVmZXJlbmNlKCkpXG4gICAgICAgIHRhcmdldC50b0luZGljaWVzKGFjY2Vzc29yKS5mb3JFYWNoKChpKSA9PiB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNldEluZGV4KGksIHRoaXMudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIGVsc2UgaWYgKHRhcmdldC5pc0F0dHJpYnV0ZVJlZmVyZW5jZSgpKVxuICAgICAgICByZXN1bHQuY29udGFpbmVyVHlwZSgpID09PSBcInByaW1pdGl2ZVwiID8gcmVzdWx0ID0gcmVzdWx0LnNldCh7IFt0YXJnZXQubmFtZSgpXTogdGhpcy52YWx1ZSB9KSA6IHJlc3VsdCA9IHJlc3VsdC5zZXRBdHRyaWJ1dGUodGFyZ2V0Lm5hbWUoKSwgdGhpcy52YWx1ZSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGFwcGx5IHRvIHRhcmdldCAke3RhcmdldC50b1N0cmluZygpfWApO1xuICAgIH0pLCByZXN1bHQ7XG4gIH1cbn1cbnZhciBfX2RlZlByb3AkNSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgX19kZWZOb3JtYWxQcm9wJDUgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDUob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkJDUgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3AkNShvYmosIHR5cGVvZiBrZXkgIT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmNsYXNzIFVuc2V0UGF0Y2gge1xuICBjb25zdHJ1Y3RvcihpZCwgcGF0aCkge1xuICAgIF9fcHVibGljRmllbGQkNSh0aGlzLCBcImlkXCIpLCBfX3B1YmxpY0ZpZWxkJDUodGhpcywgXCJwYXRoXCIpLCBfX3B1YmxpY0ZpZWxkJDUodGhpcywgXCJ2YWx1ZVwiKSwgdGhpcy5pZCA9IGlkLCB0aGlzLnBhdGggPSBwYXRoO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gIGFwcGx5KHRhcmdldHMsIGFjY2Vzc29yKSB7XG4gICAgbGV0IHJlc3VsdCA9IGFjY2Vzc29yO1xuICAgIHN3aXRjaCAoYWNjZXNzb3IuY29udGFpbmVyVHlwZSgpKSB7XG4gICAgICBjYXNlIFwiYXJyYXlcIjpcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnVuc2V0SW5kaWNlcyh0YXJnZXRzVG9JbmRpY2llcyh0YXJnZXRzLCBhY2Nlc3NvcikpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgdGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IHtcbiAgICAgICAgICByZXN1bHQgPSByZXN1bHQudW5zZXRBdHRyaWJ1dGUodGFyZ2V0Lm5hbWUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIlRhcmdldCB2YWx1ZSBpcyBuZWl0aGVyIGluZGV4YWJsZSBvciBhbiBvYmplY3QuIFRoaXMgZXJyb3Igc2hvdWxkIHBvdGVudGlhbGx5IGp1c3QgYmUgc2lsZW50bHkgaWdub3JlZD9cIlxuICAgICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5mdW5jdGlvbiBwYXJzZVBhdGNoKHBhdGNoKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBpZiAoQXJyYXkuaXNBcnJheShwYXRjaCkpXG4gICAgcmV0dXJuIHBhdGNoLnJlZHVjZSgociwgcCkgPT4gci5jb25jYXQocGFyc2VQYXRjaChwKSksIHJlc3VsdCk7XG4gIGNvbnN0IHsgc2V0LCBzZXRJZk1pc3NpbmcsIHVuc2V0LCBkaWZmTWF0Y2hQYXRjaCwgaW5jLCBkZWMsIGluc2VydCB9ID0gcGF0Y2g7XG4gIGlmIChzZXRJZk1pc3NpbmcgJiYgT2JqZWN0LmtleXMoc2V0SWZNaXNzaW5nKS5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgcmVzdWx0LnB1c2gobmV3IFNldElmTWlzc2luZ1BhdGNoKHBhdGNoLmlkLCBwYXRoLCBzZXRJZk1pc3NpbmdbcGF0aF0pKTtcbiAgfSksIHNldCAmJiBPYmplY3Qua2V5cyhzZXQpLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICByZXN1bHQucHVzaChuZXcgU2V0UGF0Y2gocGF0Y2guaWQsIHBhdGgsIHNldFtwYXRoXSkpO1xuICB9KSwgdW5zZXQgJiYgdW5zZXQuZm9yRWFjaCgocGF0aCkgPT4ge1xuICAgIHJlc3VsdC5wdXNoKG5ldyBVbnNldFBhdGNoKHBhdGNoLmlkLCBwYXRoKSk7XG4gIH0pLCBkaWZmTWF0Y2hQYXRjaCAmJiBPYmplY3Qua2V5cyhkaWZmTWF0Y2hQYXRjaCkuZm9yRWFjaCgocGF0aCkgPT4ge1xuICAgIHJlc3VsdC5wdXNoKG5ldyBEaWZmTWF0Y2hQYXRjaChwYXRjaC5pZCwgcGF0aCwgZGlmZk1hdGNoUGF0Y2hbcGF0aF0pKTtcbiAgfSksIGluYyAmJiBPYmplY3Qua2V5cyhpbmMpLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICByZXN1bHQucHVzaChuZXcgSW5jUGF0Y2gocGF0Y2guaWQsIHBhdGgsIGluY1twYXRoXSkpO1xuICB9KSwgZGVjICYmIE9iamVjdC5rZXlzKGRlYykuZm9yRWFjaCgocGF0aCkgPT4ge1xuICAgIHJlc3VsdC5wdXNoKG5ldyBJbmNQYXRjaChwYXRjaC5pZCwgcGF0aCwgLWRlY1twYXRoXSkpO1xuICB9KSwgaW5zZXJ0KSB7XG4gICAgbGV0IGxvY2F0aW9uLCBwYXRoO1xuICAgIGNvbnN0IHNwZWMgPSBpbnNlcnQ7XG4gICAgaWYgKFwiYmVmb3JlXCIgaW4gc3BlYylcbiAgICAgIGxvY2F0aW9uID0gXCJiZWZvcmVcIiwgcGF0aCA9IHNwZWMuYmVmb3JlO1xuICAgIGVsc2UgaWYgKFwiYWZ0ZXJcIiBpbiBzcGVjKVxuICAgICAgbG9jYXRpb24gPSBcImFmdGVyXCIsIHBhdGggPSBzcGVjLmFmdGVyO1xuICAgIGVsc2UgaWYgKFwicmVwbGFjZVwiIGluIHNwZWMpXG4gICAgICBsb2NhdGlvbiA9IFwicmVwbGFjZVwiLCBwYXRoID0gc3BlYy5yZXBsYWNlO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5zZXJ0IHBhdGNoXCIpO1xuICAgIHJlc3VsdC5wdXNoKG5ldyBJbnNlcnRQYXRjaChwYXRjaC5pZCwgbG9jYXRpb24sIHBhdGgsIHNwZWMuaXRlbXMpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxudmFyIF9fZGVmUHJvcCQ0ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AkNCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkNChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQkNCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcCQ0KG9iaiwga2V5ICsgXCJcIiwgdmFsdWUpO1xuY2xhc3MgUGF0Y2hlciB7XG4gIGNvbnN0cnVjdG9yKHBhdGNoKSB7XG4gICAgX19wdWJsaWNGaWVsZCQ0KHRoaXMsIFwicGF0Y2hlc1wiKSwgdGhpcy5wYXRjaGVzID0gcGFyc2VQYXRjaChwYXRjaCk7XG4gIH1cbiAgYXBwbHkodmFsdWUpIHtcbiAgICBjb25zdCBhY2Nlc3NvciA9IG5ldyBJbW11dGFibGVBY2Nlc3Nvcih2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuYXBwbHlWaWFBY2Nlc3NvcihhY2Nlc3NvcikuZ2V0KCk7XG4gIH1cbiAgLy8gSWYgeW91IHdhbnQgdG8gdXNlIHlvdXIgb3duIGFjY2Vzc29yIGltcGxlbWVudGF0aW9uLCB5b3UgY2FuIHVzZSB0aGlzIG1ldGhvZFxuICAvLyB0byBpbnZva2UgdGhlIHBhdGNoZXIuIFNpbmNlIGFsbCBzdWJzZXF1ZW50IGFjY2Vzc29ycyBmb3IgY2hpbGRyZW4gb2YgdGhpcyBhY2Nlc3NvclxuICAvLyBhcmUgb2J0YWluZWQgdGhyb3VnaCB0aGUgbWV0aG9kcyBpbiB0aGUgYWNjZXNzb3JzLCB5b3UgcmV0YWluIGZ1bGwgY29udHJvbCBvZiB0aGVcbiAgLy8gaW1wbGVtZW50YXRpb24gdGhyb2d1aGdvdXQgdGhlIGFwcGxpY2F0aW9uLiBIYXZlIGEgbG9vayBpbiBJbW11dGFibGVBY2Nlc3NvclxuICAvLyB0byBzZWUgYW4gZXhhbXBsZSBvZiBob3cgYWNjZXNzb3JzIGFyZSBpbXBsZW1lbnRlZC5cbiAgYXBwbHlWaWFBY2Nlc3NvcihhY2Nlc3Nvcikge1xuICAgIGxldCByZXN1bHQgPSBhY2Nlc3NvcjtcbiAgICBjb25zdCBpZEFjY2Vzc29yID0gYWNjZXNzb3IuZ2V0QXR0cmlidXRlKFwiX2lkXCIpO1xuICAgIGlmICghaWRBY2Nlc3NvcilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBhcHBseSBwYXRjaCB0byBkb2N1bWVudCB3aXRoIG5vIF9pZFwiKTtcbiAgICBjb25zdCBpZCA9IGlkQWNjZXNzb3IuZ2V0KCk7XG4gICAgZm9yIChjb25zdCBwYXRjaCBvZiB0aGlzLnBhdGNoZXMpIHtcbiAgICAgIGlmIChwYXRjaC5pZCAhPT0gaWQpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgY29uc3QgbWF0Y2hlciA9IE1hdGNoZXIuZnJvbVBhdGgocGF0Y2gucGF0aCkuc2V0UGF5bG9hZChwYXRjaCk7XG4gICAgICByZXN1bHQgPSBwcm9jZXNzKG1hdGNoZXIsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHByb2Nlc3MobWF0Y2hlciwgYWNjZXNzb3IpIHtcbiAgY29uc3QgaXNTZXRQYXRjaCA9IG1hdGNoZXIucGF5bG9hZCBpbnN0YW5jZW9mIFNldFBhdGNoIHx8IG1hdGNoZXIucGF5bG9hZCBpbnN0YW5jZW9mIFNldElmTWlzc2luZ1BhdGNoO1xuICBsZXQgcmVzdWx0ID0gYWNjZXNzb3I7XG4gIGNvbnN0IHsgbGVhZHMsIGRlbGl2ZXJ5IH0gPSBtYXRjaGVyLm1hdGNoKGFjY2Vzc29yKTtcbiAgcmV0dXJuIGxlYWRzLmZvckVhY2goKGxlYWQpID0+IHtcbiAgICBpZiAobGVhZC50YXJnZXQuaXNJbmRleFJlZmVyZW5jZSgpKVxuICAgICAgbGVhZC50YXJnZXQudG9JbmRpY2llcygpLmZvckVhY2goKGkpID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHJlc3VsdC5nZXRJbmRleChpKTtcbiAgICAgICAgaWYgKCFpdGVtKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluZGV4IG91dCBvZiBib3VuZHNcIik7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zZXRJbmRleEFjY2Vzc29yKGksIHByb2Nlc3MobGVhZC5tYXRjaGVyLCBpdGVtKSk7XG4gICAgICB9KTtcbiAgICBlbHNlIGlmIChsZWFkLnRhcmdldC5pc0F0dHJpYnV0ZVJlZmVyZW5jZSgpKSB7XG4gICAgICBpc1NldFBhdGNoICYmIHJlc3VsdC5jb250YWluZXJUeXBlKCkgPT09IFwicHJpbWl0aXZlXCIgJiYgKHJlc3VsdCA9IHJlc3VsdC5zZXQoe30pKTtcbiAgICAgIGxldCBvbGRWYWx1ZUFjY2Vzc29yID0gcmVzdWx0LmdldEF0dHJpYnV0ZShsZWFkLnRhcmdldC5uYW1lKCkpO1xuICAgICAgaWYgKCFvbGRWYWx1ZUFjY2Vzc29yICYmIGlzU2V0UGF0Y2ggJiYgKHJlc3VsdCA9IHJlc3VsdC5zZXRBdHRyaWJ1dGUobGVhZC50YXJnZXQubmFtZSgpLCB7fSksIG9sZFZhbHVlQWNjZXNzb3IgPSByZXN1bHQuZ2V0QXR0cmlidXRlKGxlYWQudGFyZ2V0Lm5hbWUoKSkpLCAhb2xkVmFsdWVBY2Nlc3NvcilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgbmV3VmFsdWVBY2Nlc3NvciA9IHByb2Nlc3MobGVhZC5tYXRjaGVyLCBvbGRWYWx1ZUFjY2Vzc29yKTtcbiAgICAgIG9sZFZhbHVlQWNjZXNzb3IgIT09IG5ld1ZhbHVlQWNjZXNzb3IgJiYgKHJlc3VsdCA9IHJlc3VsdC5zZXRBdHRyaWJ1dGVBY2Nlc3NvcihsZWFkLnRhcmdldC5uYW1lKCksIG5ld1ZhbHVlQWNjZXNzb3IpKTtcbiAgICB9IGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGhhbmRsZSB0YXJnZXQgJHtsZWFkLnRhcmdldC50b1N0cmluZygpfWApO1xuICB9KSwgZGVsaXZlcnkgJiYgaXNQYXRjaGVyKGRlbGl2ZXJ5LnBheWxvYWQpICYmIChyZXN1bHQgPSBkZWxpdmVyeS5wYXlsb2FkLmFwcGx5KGRlbGl2ZXJ5LnRhcmdldHMsIHJlc3VsdCkpLCByZXN1bHQ7XG59XG5mdW5jdGlvbiBpc1BhdGNoZXIocGF5bG9hZCkge1xuICByZXR1cm4gISEocGF5bG9hZCAmJiB0eXBlb2YgcGF5bG9hZCA9PSBcIm9iamVjdFwiICYmIHBheWxvYWQgIT09IG51bGwgJiYgXCJhcHBseVwiIGluIHBheWxvYWQgJiYgdHlwZW9mIHBheWxvYWQuYXBwbHkgPT0gXCJmdW5jdGlvblwiKTtcbn1cbmNvbnN0IGx1aWQgPSB1dWlkO1xudmFyIF9fZGVmUHJvcCQzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AkMyA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkMyhvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQkMyA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcCQzKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgTXV0YXRpb24ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgX19wdWJsaWNGaWVsZCQzKHRoaXMsIFwicGFyYW1zXCIpLCBfX3B1YmxpY0ZpZWxkJDModGhpcywgXCJjb21waWxlZFwiKSwgX19wdWJsaWNGaWVsZCQzKHRoaXMsIFwiX2FwcGxpZXNUb01pc3NpbmdEb2N1bWVudFwiKSwgdGhpcy5wYXJhbXMgPSBvcHRpb25zO1xuICB9XG4gIGdldCB0cmFuc2FjdGlvbklkKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy50cmFuc2FjdGlvbklkO1xuICB9XG4gIGdldCB0cmFuc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy50cmFuc2l0aW9uO1xuICB9XG4gIGdldCBpZGVudGl0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMuaWRlbnRpdHk7XG4gIH1cbiAgZ2V0IHByZXZpb3VzUmV2KCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy5wcmV2aW91c1JldjtcbiAgfVxuICBnZXQgcmVzdWx0UmV2KCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy5yZXN1bHRSZXY7XG4gIH1cbiAgZ2V0IG11dGF0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMubXV0YXRpb25zO1xuICB9XG4gIGdldCB0aW1lc3RhbXAoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnBhcmFtcy50aW1lc3RhbXAgPT0gXCJzdHJpbmdcIilcbiAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnBhcmFtcy50aW1lc3RhbXApO1xuICB9XG4gIGdldCBlZmZlY3RzKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy5lZmZlY3RzO1xuICB9XG4gIGFzc2lnblJhbmRvbVRyYW5zYWN0aW9uSWQoKSB7XG4gICAgdGhpcy5wYXJhbXMudHJhbnNhY3Rpb25JZCA9IGx1aWQoKSwgdGhpcy5wYXJhbXMucmVzdWx0UmV2ID0gdGhpcy5wYXJhbXMudHJhbnNhY3Rpb25JZDtcbiAgfVxuICBhcHBsaWVzVG9NaXNzaW5nRG9jdW1lbnQoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9hcHBsaWVzVG9NaXNzaW5nRG9jdW1lbnQgPCBcInVcIilcbiAgICAgIHJldHVybiB0aGlzLl9hcHBsaWVzVG9NaXNzaW5nRG9jdW1lbnQ7XG4gICAgY29uc3QgZmlyc3RNdXQgPSB0aGlzLm11dGF0aW9uc1swXTtcbiAgICByZXR1cm4gZmlyc3RNdXQgPyB0aGlzLl9hcHBsaWVzVG9NaXNzaW5nRG9jdW1lbnQgPSAhIShmaXJzdE11dC5jcmVhdGUgfHwgZmlyc3RNdXQuY3JlYXRlSWZOb3RFeGlzdHMgfHwgZmlyc3RNdXQuY3JlYXRlT3JSZXBsYWNlKSA6IHRoaXMuX2FwcGxpZXNUb01pc3NpbmdEb2N1bWVudCA9ICEwLCB0aGlzLl9hcHBsaWVzVG9NaXNzaW5nRG9jdW1lbnQ7XG4gIH1cbiAgLy8gQ29tcGlsZXMgYWxsIG11dGF0aW9ucyBpbnRvIGEgaGFuZHkgZnVuY3Rpb25cbiAgY29tcGlsZSgpIHtcbiAgICBjb25zdCBvcGVyYXRpb25zID0gW107XG4gICAgdGhpcy5tdXRhdGlvbnMuZm9yRWFjaCgobXV0YXRpb24pID0+IHtcbiAgICAgIGlmIChtdXRhdGlvbi5jcmVhdGUpIHtcbiAgICAgICAgY29uc3QgY3JlYXRlID0gbXV0YXRpb24uY3JlYXRlIHx8IHt9O1xuICAgICAgICBvcGVyYXRpb25zLnB1c2goKGRvYykgPT4gZG9jIHx8IE9iamVjdC5hc3NpZ24oY3JlYXRlLCB7XG4gICAgICAgICAgX2NyZWF0ZWRBdDogY3JlYXRlLl9jcmVhdGVkQXQgfHwgdGhpcy5wYXJhbXMudGltZXN0YW1wXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG11dGF0aW9uLmNyZWF0ZUlmTm90RXhpc3RzKSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUlmTm90RXhpc3RzID0gbXV0YXRpb24uY3JlYXRlSWZOb3RFeGlzdHMgfHwge307XG4gICAgICAgIG9wZXJhdGlvbnMucHVzaChcbiAgICAgICAgICAoZG9jKSA9PiBkb2MgPT09IG51bGwgPyBPYmplY3QuYXNzaWduKGNyZWF0ZUlmTm90RXhpc3RzLCB7XG4gICAgICAgICAgICBfY3JlYXRlZEF0OiBjcmVhdGVJZk5vdEV4aXN0cy5fY3JlYXRlZEF0IHx8IHRoaXMucGFyYW1zLnRpbWVzdGFtcFxuICAgICAgICAgIH0pIDogZG9jXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChtdXRhdGlvbi5jcmVhdGVPclJlcGxhY2UpIHtcbiAgICAgICAgY29uc3QgY3JlYXRlT3JSZXBsYWNlID0gbXV0YXRpb24uY3JlYXRlT3JSZXBsYWNlIHx8IHt9O1xuICAgICAgICBvcGVyYXRpb25zLnB1c2goXG4gICAgICAgICAgKCkgPT4gT2JqZWN0LmFzc2lnbihjcmVhdGVPclJlcGxhY2UsIHtcbiAgICAgICAgICAgIF9jcmVhdGVkQXQ6IGNyZWF0ZU9yUmVwbGFjZS5fY3JlYXRlZEF0IHx8IHRoaXMucGFyYW1zLnRpbWVzdGFtcFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChtdXRhdGlvbi5kZWxldGUpIHtcbiAgICAgICAgb3BlcmF0aW9ucy5wdXNoKCgpID0+IG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAobXV0YXRpb24ucGF0Y2gpIHtcbiAgICAgICAgaWYgKFwicXVlcnlcIiBpbiBtdXRhdGlvbi5wYXRjaClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHBhdGNoID0gbmV3IFBhdGNoZXIobXV0YXRpb24ucGF0Y2gpO1xuICAgICAgICBvcGVyYXRpb25zLnB1c2goKGRvYykgPT4gcGF0Y2guYXBwbHkoZG9jKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgbXV0YXRpb24gJHtKU09OLnN0cmluZ2lmeShtdXRhdGlvbiwgbnVsbCwgMil9YCk7XG4gICAgfSksIHR5cGVvZiB0aGlzLnBhcmFtcy50aW1lc3RhbXAgPT0gXCJzdHJpbmdcIiAmJiBvcGVyYXRpb25zLnB1c2goKGRvYykgPT4gZG9jID8gT2JqZWN0LmFzc2lnbihkb2MsIHsgX3VwZGF0ZWRBdDogdGhpcy5wYXJhbXMudGltZXN0YW1wIH0pIDogbnVsbCk7XG4gICAgY29uc3QgcHJldlJldiA9IHRoaXMucHJldmlvdXNSZXYsIHJldiA9IHRoaXMucmVzdWx0UmV2IHx8IHRoaXMudHJhbnNhY3Rpb25JZDtcbiAgICB0aGlzLmNvbXBpbGVkID0gKGRvYykgPT4ge1xuICAgICAgaWYgKHByZXZSZXYgJiYgZG9jICYmIHByZXZSZXYgIT09IGRvYy5fcmV2KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFByZXZpb3VzIHJldmlzaW9uIGZvciB0aGlzIG11dGF0aW9uIHdhcyAke3ByZXZSZXZ9LCBidXQgdGhlIGRvY3VtZW50IHJldmlzaW9uIGlzICR7ZG9jLl9yZXZ9YFxuICAgICAgICApO1xuICAgICAgbGV0IHJlc3VsdCA9IGRvYztcbiAgICAgIGZvciAoY29uc3Qgb3BlcmF0aW9uIG9mIG9wZXJhdGlvbnMpXG4gICAgICAgIHJlc3VsdCA9IG9wZXJhdGlvbihyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdCAmJiByZXYgJiYgKHJlc3VsdCA9PT0gZG9jICYmIChyZXN1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBkb2MpKSwgcmVzdWx0Ll9yZXYgPSByZXYpLCByZXN1bHQ7XG4gICAgfTtcbiAgfVxuICBhcHBseShkb2N1bWVudCkge1xuICAgIGRlYnVnKFwiQXBwbHlpbmcgbXV0YXRpb24gJU8gdG8gZG9jdW1lbnQgJU9cIiwgdGhpcy5tdXRhdGlvbnMsIGRvY3VtZW50KSwgdGhpcy5jb21waWxlZCB8fCB0aGlzLmNvbXBpbGUoKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNvbXBpbGVkKGRvY3VtZW50KTtcbiAgICByZXR1cm4gZGVidWcoXCIgID0+ICVPXCIsIHJlc3VsdCksIHJlc3VsdDtcbiAgfVxuICBzdGF0aWMgYXBwbHlBbGwoZG9jdW1lbnQsIG11dGF0aW9ucykge1xuICAgIHJldHVybiBtdXRhdGlvbnMucmVkdWNlKChkb2MsIG11dGF0aW9uKSA9PiBtdXRhdGlvbi5hcHBseShkb2MpLCBkb2N1bWVudCk7XG4gIH1cbiAgLy8gR2l2ZW4gYSBudW1iZXIgb2YgeWV0LXRvLWJlLWNvbW1pdHRlZCBtdXRhdGlvbiBvYmplY3RzLCBjb2xsZWN0cyB0aGVtIGludG8gb25lIGJpZyBtdXRhdGlvblxuICAvLyBhbnkgbWV0YWRhdGEgbGlrZSB0cmFuc2FjdGlvbklkIGlzIGlnbm9yZWQgYW5kIG11c3QgYmUgc3VibWl0dGVkIGJ5IHRoZSBjbGllbnQuIEl0IGlzIGFzc3VtZWRcbiAgLy8gdGhhdCBhbGwgbXV0YXRpb25zIGFyZSBvbiB0aGUgc2FtZSBkb2N1bWVudC5cbiAgLy8gVE9PTzogT3B0aW1pemUgbXV0YXRpb25zLCBlbGltaW5hdGluZyBtdXRhdGlvbnMgdGhhdCBvdmVyd3JpdGUgdGhlbXNlbHZlcyFcbiAgc3RhdGljIHNxdWFzaChkb2N1bWVudCwgbXV0YXRpb25zKSB7XG4gICAgY29uc3Qgc3F1YXNoZWQgPSBtdXRhdGlvbnMucmVkdWNlKFxuICAgICAgKHJlc3VsdCwgbXV0YXRpb24pID0+IHJlc3VsdC5jb25jYXQoLi4ubXV0YXRpb24ubXV0YXRpb25zKSxcbiAgICAgIFtdXG4gICAgKTtcbiAgICByZXR1cm4gbmV3IE11dGF0aW9uKHsgbXV0YXRpb25zOiBzcXVhc2hlZCB9KTtcbiAgfVxufVxudmFyIF9fZGVmUHJvcCQyID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AkMiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkMihvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQkMiA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcCQyKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgRG9jdW1lbnQge1xuICBjb25zdHJ1Y3Rvcihkb2MpIHtcbiAgICBfX3B1YmxpY0ZpZWxkJDIodGhpcywgXCJpbmNvbWluZ1wiLCBbXSksIF9fcHVibGljRmllbGQkMih0aGlzLCBcInN1Ym1pdHRlZFwiLCBbXSksIF9fcHVibGljRmllbGQkMih0aGlzLCBcInBlbmRpbmdcIiwgW10pLCBfX3B1YmxpY0ZpZWxkJDIodGhpcywgXCJIRUFEXCIpLCBfX3B1YmxpY0ZpZWxkJDIodGhpcywgXCJFREdFXCIpLCBfX3B1YmxpY0ZpZWxkJDIodGhpcywgXCJvblJlYmFzZVwiKSwgX19wdWJsaWNGaWVsZCQyKHRoaXMsIFwib25NdXRhdGlvblwiKSwgX19wdWJsaWNGaWVsZCQyKHRoaXMsIFwib25Db25zaXN0ZW5jeUNoYW5nZWRcIiksIF9fcHVibGljRmllbGQkMih0aGlzLCBcIm9uUmVtb3RlTXV0YXRpb25cIiksIF9fcHVibGljRmllbGQkMih0aGlzLCBcImluY29uc2lzdGVudEF0XCIsIG51bGwpLCBfX3B1YmxpY0ZpZWxkJDIodGhpcywgXCJsYXN0U3RhZ2VkQXRcIiwgbnVsbCksIHRoaXMucmVzZXQoZG9jKSwgdGhpcy5IRUFEID0gZG9jLCB0aGlzLkVER0UgPSBkb2M7XG4gIH1cbiAgLy8gUmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBEb2N1bWVudCwgdXNlZCB0byByZWNvdmVyIGZyb20gdW5zYXZvcnkgc3RhdGVzIGJ5IHJlbG9hZGluZyB0aGUgZG9jdW1lbnRcbiAgcmVzZXQoZG9jKSB7XG4gICAgdGhpcy5pbmNvbWluZyA9IFtdLCB0aGlzLnN1Ym1pdHRlZCA9IFtdLCB0aGlzLnBlbmRpbmcgPSBbXSwgdGhpcy5pbmNvbnNpc3RlbnRBdCA9IG51bGwsIHRoaXMuSEVBRCA9IGRvYywgdGhpcy5FREdFID0gZG9jLCB0aGlzLmNvbnNpZGVySW5jb21pbmcoKSwgdGhpcy51cGRhdGVDb25zaXN0ZW5jeUZsYWcoKTtcbiAgfVxuICAvLyBDYWxsIHdoZW4gYSBtdXRhdGlvbiBhcnJpdmVzIGZyb20gU2FuaXR5XG4gIGFycml2ZShtdXRhdGlvbikge1xuICAgIHRoaXMuaW5jb21pbmcucHVzaChtdXRhdGlvbiksIHRoaXMuY29uc2lkZXJJbmNvbWluZygpLCB0aGlzLnVwZGF0ZUNvbnNpc3RlbmN5RmxhZygpO1xuICB9XG4gIC8vIENhbGwgdG8gc2lnbmFsIHRoYXQgd2UgYXJlIHN1Ym1pdHRpbmcgYSBtdXRhdGlvbi4gUmV0dXJucyBhIGNhbGxiYWNrIG9iamVjdCB3aXRoIGFcbiAgLy8gc3VjY2VzcyBhbmQgZmFpbHVyZSBoYW5kbGVyIHRoYXQgbXVzdCBiZSBjYWxsZWQgYWNjb3JkaW5nIHRvIHRoZSBvdXRjb21lIG9mIG91clxuICAvLyBzdWJtaXNzaW9uLlxuICBzdGFnZShtdXRhdGlvbiwgc2lsZW50KSB7XG4gICAgaWYgKCFtdXRhdGlvbi50cmFuc2FjdGlvbklkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXV0YXRpb25zIF9tdXN0XyBoYXZlIHRyYW5zYWN0aW9uSWQgd2hlbiBzdWJtaXR0ZWRcIik7XG4gICAgdGhpcy5sYXN0U3RhZ2VkQXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSwgZGVidWcoXCJTdGFnaW5nIG11dGF0aW9uICVzIChwdXNoZWQgdG8gcGVuZGluZylcIiwgbXV0YXRpb24udHJhbnNhY3Rpb25JZCksIHRoaXMucGVuZGluZy5wdXNoKG11dGF0aW9uKSwgdGhpcy5FREdFID0gbXV0YXRpb24uYXBwbHkodGhpcy5FREdFKSwgdGhpcy5vbk11dGF0aW9uICYmICFzaWxlbnQgJiYgdGhpcy5vbk11dGF0aW9uKHtcbiAgICAgIG11dGF0aW9uLFxuICAgICAgZG9jdW1lbnQ6IHRoaXMuRURHRSxcbiAgICAgIHJlbW90ZTogITFcbiAgICB9KTtcbiAgICBjb25zdCB0eG5JZCA9IG11dGF0aW9uLnRyYW5zYWN0aW9uSWQ7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlQ29uc2lzdGVuY3lGbGFnKCksIHtcbiAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgICAgdGhpcy5wZW5kaW5nU3VjY2Vzc2Z1bGx5U3VibWl0dGVkKHR4bklkKSwgdGhpcy51cGRhdGVDb25zaXN0ZW5jeUZsYWcoKTtcbiAgICAgIH0sXG4gICAgICBmYWlsdXJlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMucGVuZGluZ0ZhaWxlZCh0eG5JZCksIHRoaXMudXBkYXRlQ29uc2lzdGVuY3lGbGFnKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvLyBDYWxsIHRvIGNoZWNrIGlmIGV2ZXJ5dGhpbmcgaXMgbmljZSBhbmQgcXVpZXQgYW5kIHRoZXJlIGFyZSBubyB1bnJlc29sdmVkIG11dGF0aW9ucy5cbiAgLy8gTWVhbnMgdGhpcyBtb2RlbCB0aGlua3MgYm90aCBIRUFEIGFuZCBFREdFIGlzIHVwIHRvIGRhdGUgd2l0aCB3aGF0IHRoZSBzZXJ2ZXIgc2Vlcy5cbiAgaXNDb25zaXN0ZW50KCkge1xuICAgIHJldHVybiAhdGhpcy5pbmNvbnNpc3RlbnRBdDtcbiAgfVxuICAvLyBQcml2YXRlXG4gIC8vIEF0dGVtcHRzIHRvIGFwcGx5IGFueSByZXNvbHZhYmxlIGluY29taW5nIHBhdGNoZXMgdG8gSEVBRC4gV2lsbCBrZWVwIHBhdGNoaW5nIGFzIGxvbmcgYXMgdGhlcmVcbiAgLy8gYXJlIGFwcGxpY2FibGUgcGF0Y2hlcyB0byBiZSBhcHBsaWVkXG4gIGNvbnNpZGVySW5jb21pbmcoKSB7XG4gICAgbGV0IG11c3RSZWJhc2UgPSAhMSwgbmV4dE11dDtcbiAgICBjb25zdCByZWJhc2VNdXRhdGlvbnMgPSBbXTtcbiAgICBpZiAodGhpcy5IRUFEICYmIHRoaXMuSEVBRC5fdXBkYXRlZEF0KSB7XG4gICAgICBjb25zdCB1cGRhdGVkQXQgPSBuZXcgRGF0ZSh0aGlzLkhFQUQuX3VwZGF0ZWRBdCk7XG4gICAgICB0aGlzLmluY29taW5nLmZpbmQoKG11dCkgPT4gbXV0LnRpbWVzdGFtcCAmJiBtdXQudGltZXN0YW1wIDwgdXBkYXRlZEF0KSAmJiAodGhpcy5pbmNvbWluZyA9IHRoaXMuaW5jb21pbmcuZmlsdGVyKChtdXQpID0+IG11dC50aW1lc3RhbXAgJiYgbXV0LnRpbWVzdGFtcCA8IHVwZGF0ZWRBdCkpO1xuICAgIH1cbiAgICBsZXQgcHJvdGVjdCA9IDA7XG4gICAgZG8ge1xuICAgICAgaWYgKHRoaXMuSEVBRCkge1xuICAgICAgICBjb25zdCBIRUFEID0gdGhpcy5IRUFEO1xuICAgICAgICBuZXh0TXV0ID0gSEVBRC5fcmV2ID8gdGhpcy5pbmNvbWluZy5maW5kKChtdXQpID0+IG11dC5wcmV2aW91c1JldiA9PT0gSEVBRC5fcmV2KSA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZVxuICAgICAgICBuZXh0TXV0ID0gdGhpcy5pbmNvbWluZy5maW5kKChtdXQpID0+IG11dC5hcHBsaWVzVG9NaXNzaW5nRG9jdW1lbnQoKSk7XG4gICAgICBpZiAobmV4dE11dCkge1xuICAgICAgICBjb25zdCBhcHBsaWVkID0gdGhpcy5hcHBseUluY29taW5nKG5leHRNdXQpO1xuICAgICAgICBpZiAobXVzdFJlYmFzZSA9IG11c3RSZWJhc2UgfHwgYXBwbGllZCwgbXVzdFJlYmFzZSAmJiByZWJhc2VNdXRhdGlvbnMucHVzaChuZXh0TXV0KSwgcHJvdGVjdCsrID4gMTApXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYE11dGF0b3Igc3R1Y2sgZmx1c2hpbmcgaW5jb21pbmcgbXV0YXRpb25zLiBQcm9iYWJseSBzdHVjayBoZXJlOiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICBuZXh0TXV0XG4gICAgICAgICAgICApfWBcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKG5leHRNdXQpO1xuICAgIHRoaXMuaW5jb21pbmcubGVuZ3RoID4gMCAmJiBkZWJ1Zy5lbmFibGVkICYmIGRlYnVnKFxuICAgICAgXCJVbmFibGUgdG8gYXBwbHkgbXV0YXRpb25zICVzXCIsXG4gICAgICB0aGlzLmluY29taW5nLm1hcCgobXV0KSA9PiBtdXQudHJhbnNhY3Rpb25JZCkuam9pbihcIiwgXCIpXG4gICAgKSwgbXVzdFJlYmFzZSAmJiB0aGlzLnJlYmFzZShyZWJhc2VNdXRhdGlvbnMpO1xuICB9XG4gIC8vIGNoZWNrIGN1cnJlbnQgY29uc2lzdGVuY3kgc3RhdGUsIHVwZGF0ZSBmbGFnIGFuZCBpbnZva2UgY2FsbGJhY2sgaWYgbmVlZGVkXG4gIHVwZGF0ZUNvbnNpc3RlbmN5RmxhZygpIHtcbiAgICBjb25zdCB3YXNDb25zaXN0ZW50ID0gdGhpcy5pc0NvbnNpc3RlbnQoKSwgaXNDb25zaXN0ZW50ID0gdGhpcy5wZW5kaW5nLmxlbmd0aCA9PT0gMCAmJiB0aGlzLnN1Ym1pdHRlZC5sZW5ndGggPT09IDAgJiYgdGhpcy5pbmNvbWluZy5sZW5ndGggPT09IDA7XG4gICAgaXNDb25zaXN0ZW50ID8gdGhpcy5pbmNvbnNpc3RlbnRBdCA9IG51bGwgOiB0aGlzLmluY29uc2lzdGVudEF0IHx8ICh0aGlzLmluY29uc2lzdGVudEF0ID0gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLCB3YXNDb25zaXN0ZW50ICE9IGlzQ29uc2lzdGVudCAmJiB0aGlzLm9uQ29uc2lzdGVuY3lDaGFuZ2VkICYmIChkZWJ1Zyhpc0NvbnNpc3RlbnQgPyBcIkJ1ZmZlcmVkIGRvY3VtZW50IGlzIGluY29uc2lzdGVudFwiIDogXCJCdWZmZXJlZCBkb2N1bWVudCBpcyBjb25zaXN0ZW50XCIpLCB0aGlzLm9uQ29uc2lzdGVuY3lDaGFuZ2VkKGlzQ29uc2lzdGVudCkpO1xuICB9XG4gIC8vIGFwcGx5IGFuIGluY29taW5nIHBhdGNoIHRoYXQgaGFzIGJlZW4gcHJlcXVhbGlmaWVkIGFzIHRoZSBuZXh0IGluIGxpbmUgZm9yIHRoaXMgZG9jdW1lbnRcbiAgYXBwbHlJbmNvbWluZyhtdXQpIHtcbiAgICBpZiAoIW11dClcbiAgICAgIHJldHVybiAhMTtcbiAgICBpZiAoIW11dC50cmFuc2FjdGlvbklkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVjZWl2ZWQgaW5jb21pbmcgbXV0YXRpb24gd2l0aG91dCBhIHRyYW5zYWN0aW9uIElEXCIpO1xuICAgIGlmIChkZWJ1ZyhcbiAgICAgIFwiQXBwbHlpbmcgbXV0YXRpb24gJXMgLT4gJXMgdG8gcmV2ICVzXCIsXG4gICAgICBtdXQucHJldmlvdXNSZXYsXG4gICAgICBtdXQucmVzdWx0UmV2LFxuICAgICAgdGhpcy5IRUFEICYmIHRoaXMuSEVBRC5fcmV2XG4gICAgKSwgdGhpcy5IRUFEID0gbXV0LmFwcGx5KHRoaXMuSEVBRCksIHRoaXMub25SZW1vdGVNdXRhdGlvbiAmJiB0aGlzLm9uUmVtb3RlTXV0YXRpb24obXV0KSwgdGhpcy5pbmNvbWluZyA9IHRoaXMuaW5jb21pbmcuZmlsdGVyKChtKSA9PiBtLnRyYW5zYWN0aW9uSWQgIT09IG11dC50cmFuc2FjdGlvbklkKSwgdGhpcy5oYXNVbnJlc29sdmVkTXV0YXRpb25zKCkpIHtcbiAgICAgIGNvbnN0IG5lZWRSZWJhc2UgPSB0aGlzLmNvbnN1bWVVbnJlc29sdmVkKG11dC50cmFuc2FjdGlvbklkKTtcbiAgICAgIHJldHVybiBkZWJ1Zy5lbmFibGVkICYmIChkZWJ1ZyhcbiAgICAgICAgYEluY29taW5nIG11dGF0aW9uICR7bXV0LnRyYW5zYWN0aW9uSWR9IGFwcGVhcmVkIHdoaWxlIHRoZXJlIHdlcmUgcGVuZGluZyBvciBzdWJtaXR0ZWQgbG9jYWwgbXV0YXRpb25zYFxuICAgICAgKSwgZGVidWcoYFN1Ym1pdHRlZCB0eG5JZHM6ICR7dGhpcy5zdWJtaXR0ZWQubWFwKChtKSA9PiBtLnRyYW5zYWN0aW9uSWQpLmpvaW4oXCIsIFwiKX1gKSwgZGVidWcoYFBlbmRpbmcgdHhuSWRzOiAke3RoaXMucGVuZGluZy5tYXAoKG0pID0+IG0udHJhbnNhY3Rpb25JZCkuam9pbihcIiwgXCIpfWApLCBkZWJ1ZyhcIm5lZWRSZWJhc2UgPT09ICVzXCIsIG5lZWRSZWJhc2UpKSwgbmVlZFJlYmFzZTtcbiAgICB9XG4gICAgcmV0dXJuIGRlYnVnKFxuICAgICAgXCJSZW1vdGUgbXV0YXRpb24gJXMgYXJyaXZlZCB3L28gYW55IHBlbmRpbmcgb3Igc3VibWl0dGVkIGxvY2FsIG11dGF0aW9uc1wiLFxuICAgICAgbXV0LnRyYW5zYWN0aW9uSWRcbiAgICApLCB0aGlzLkVER0UgPSB0aGlzLkhFQUQsIHRoaXMub25NdXRhdGlvbiAmJiB0aGlzLm9uTXV0YXRpb24oe1xuICAgICAgbXV0YXRpb246IG11dCxcbiAgICAgIGRvY3VtZW50OiB0aGlzLkVER0UsXG4gICAgICByZW1vdGU6ICEwXG4gICAgfSksICExO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlcmUgYXJlIHVucmVzb2x2ZWQgbXV0YXRpb25zIGJldHdlZW4gSEVBRCBhbmQgRURHRSwgbWVhbmluZyB3ZSBoYXZlXG4gICAqIG11dGF0aW9ucyB0aGF0IGFyZSBzdGlsbCB3YWl0aW5nIHRvIGJlIGVpdGhlciBzdWJtaXR0ZWQsIG9yIHRvIGJlIGNvbmZpcm1lZCBieSB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZXJlIGFyZSB1bnJlc29sdmVkIG11dGF0aW9ucyBiZXR3ZWVuIEhFQUQgYW5kIEVER0UsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgaGFzVW5yZXNvbHZlZE11dGF0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5zdWJtaXR0ZWQubGVuZ3RoID4gMCB8fCB0aGlzLnBlbmRpbmcubGVuZ3RoID4gMDtcbiAgfVxuICAvKipcbiAgICogV2hlbiBhbiBpbmNvbWluZyBtdXRhdGlvbiBpcyBhcHBsaWVkIHRvIEhFQUQsIHRoaXMgaXMgY2FsbGVkIHRvIHJlbW92ZSB0aGUgbXV0YXRpb24gZnJvbVxuICAgKiB0aGUgdW5yZXNvbHZlZCBzdGF0ZS4gSWYgdGhlIG5ld2x5IGFwcGxpZWQgcGF0Y2ggaXMgdGhlIG5leHQgdXBjb21pbmcgdW5yZXNvbHZlZCBtdXRhdGlvbixcbiAgICogbm8gcmViYXNlIGlzIG5lZWRlZCwgYnV0IHdlIG1pZ2h0IGhhdmUgdGhlIHdyb25nIGlkZWEgYWJvdXQgdGhlIG9yZGVyaW5nIG9mIG11dGF0aW9ucywgc28gaW5cbiAgICogdGhhdCBjYXNlIHdlIGFyZSBnaXZlbiB0aGUgZmxhZyBgbmVlZFJlYmFzZWAgdG8gdGVsbCB1cyB0aGF0IHRoaXMgbXV0YXRpb24gYXJyaXZlZCBvdXQgb2ZcbiAgICogb3JkZXIgaW4gdGVybXMgb2Ygb3VyIG9wdGltaXN0aWMgdmVyc2lvbiwgc28gYSByZWJhc2UgaXMgbmVlZGVkLlxuICAgKlxuICAgKiBAcGFyYW0gdHhuSWQgLSBUcmFuc2FjdGlvbiBJRCBvZiB0aGUgcmVtb3RlIG11dGF0aW9uXG4gICAqIEByZXR1cm5zIHRydWUgaWYgcmViYXNlIGlzIG5lZWRlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBjb25zdW1lVW5yZXNvbHZlZCh0eG5JZCkge1xuICAgIGlmICh0aGlzLnN1Ym1pdHRlZC5sZW5ndGggPT09IDAgJiYgdGhpcy5wZW5kaW5nLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiAhMTtcbiAgICBpZiAodGhpcy5zdWJtaXR0ZWQubGVuZ3RoICE9PSAwKSB7XG4gICAgICBpZiAodGhpcy5zdWJtaXR0ZWRbMF0udHJhbnNhY3Rpb25JZCA9PT0gdHhuSWQpXG4gICAgICAgIHJldHVybiBkZWJ1ZyhcbiAgICAgICAgICBcIlJlbW90ZSBtdXRhdGlvbiAlcyBtYXRjaGVzIHVwY29taW5nIHN1Ym1pdHRlZCBtdXRhdGlvbiwgY29uc3VtZWQgZnJvbSAnc3VibWl0dGVkJyBidWZmZXJcIixcbiAgICAgICAgICB0eG5JZFxuICAgICAgICApLCB0aGlzLnN1Ym1pdHRlZC5zaGlmdCgpLCAhMTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucGVuZGluZy5sZW5ndGggPiAwICYmIHRoaXMucGVuZGluZ1swXS50cmFuc2FjdGlvbklkID09PSB0eG5JZClcbiAgICAgIHJldHVybiBkZWJ1ZyhcbiAgICAgICAgXCJSZW1vdGUgbXV0YXRpb24gJXMgbWF0Y2hlcyB1cGNvbWluZyBwZW5kaW5nIG11dGF0aW9uLCBjb25zdW1lZCBmcm9tICdwZW5kaW5nJyBidWZmZXJcIixcbiAgICAgICAgdHhuSWRcbiAgICAgICksIHRoaXMucGVuZGluZy5zaGlmdCgpLCAhMTtcbiAgICByZXR1cm4gZGVidWcoXG4gICAgICBcIlRoZSBtdXRhdGlvbiB3YXMgbm90IHRoZSB1cGNvbWluZyBtdXRhdGlvbiwgc2NydWJiaW5nLiBQZW5kaW5nOiAlZCwgU3VibWl0dGVkOiAlZFwiLFxuICAgICAgdGhpcy5wZW5kaW5nLmxlbmd0aCxcbiAgICAgIHRoaXMuc3VibWl0dGVkLmxlbmd0aFxuICAgICksIHRoaXMuc3VibWl0dGVkID0gdGhpcy5zdWJtaXR0ZWQuZmlsdGVyKChtdXQpID0+IG11dC50cmFuc2FjdGlvbklkICE9PSB0eG5JZCksIHRoaXMucGVuZGluZyA9IHRoaXMucGVuZGluZy5maWx0ZXIoKG11dCkgPT4gbXV0LnRyYW5zYWN0aW9uSWQgIT09IHR4bklkKSwgZGVidWcoXCJBZnRlciBzY3J1YmJpbmc6IFBlbmRpbmc6ICVkLCBTdWJtaXR0ZWQ6ICVkXCIsIHRoaXMucGVuZGluZy5sZW5ndGgsIHRoaXMuc3VibWl0dGVkLmxlbmd0aCksICEwO1xuICB9XG4gIHBlbmRpbmdTdWNjZXNzZnVsbHlTdWJtaXR0ZWQocGVuZGluZ1R4bklkKSB7XG4gICAgaWYgKHRoaXMucGVuZGluZy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZmlyc3QgPSB0aGlzLnBlbmRpbmdbMF07XG4gICAgaWYgKGZpcnN0LnRyYW5zYWN0aW9uSWQgPT09IHBlbmRpbmdUeG5JZCkge1xuICAgICAgdGhpcy5wZW5kaW5nLnNoaWZ0KCksIHRoaXMuc3VibWl0dGVkLnB1c2goZmlyc3QpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQganVzdFN1Ym1pdHRlZDtcbiAgICBjb25zdCBzdGlsbFBlbmRpbmcgPSBbXTtcbiAgICB0aGlzLnBlbmRpbmcuZm9yRWFjaCgobXV0YXRpb24pID0+IHtcbiAgICAgIGlmIChtdXRhdGlvbi50cmFuc2FjdGlvbklkID09PSBwZW5kaW5nVHhuSWQpIHtcbiAgICAgICAganVzdFN1Ym1pdHRlZCA9IG11dGF0aW9uO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzdGlsbFBlbmRpbmcucHVzaChtdXRhdGlvbik7XG4gICAgfSksIGp1c3RTdWJtaXR0ZWQgJiYgdGhpcy5zdWJtaXR0ZWQucHVzaChqdXN0U3VibWl0dGVkKSwgdGhpcy5wZW5kaW5nID0gc3RpbGxQZW5kaW5nLCB0aGlzLnJlYmFzZShbXSk7XG4gIH1cbiAgcGVuZGluZ0ZhaWxlZChwZW5kaW5nVHhuSWQpIHtcbiAgICB0aGlzLnBlbmRpbmcgPSB0aGlzLnBlbmRpbmcuZmlsdGVyKChtdXRhdGlvbikgPT4gbXV0YXRpb24udHJhbnNhY3Rpb25JZCAhPT0gcGVuZGluZ1R4bklkKSwgdGhpcy5yZWJhc2UoW10pO1xuICB9XG4gIHJlYmFzZShpbmNvbWluZ011dGF0aW9ucykge1xuICAgIGNvbnN0IG9sZEVkZ2UgPSB0aGlzLkVER0U7XG4gICAgdGhpcy5FREdFID0gTXV0YXRpb24uYXBwbHlBbGwodGhpcy5IRUFELCB0aGlzLnN1Ym1pdHRlZC5jb25jYXQodGhpcy5wZW5kaW5nKSksIG9sZEVkZ2UgIT09IG51bGwgJiYgdGhpcy5FREdFICE9PSBudWxsICYmIChvbGRFZGdlLl9yZXYgPSB0aGlzLkVER0UuX3JldiksICFpc0VxdWFsKHRoaXMuRURHRSwgb2xkRWRnZSkgJiYgdGhpcy5vblJlYmFzZSAmJiB0aGlzLm9uUmViYXNlKHRoaXMuRURHRSwgaW5jb21pbmdNdXRhdGlvbnMsIHRoaXMucGVuZGluZyk7XG4gIH1cbn1cbnZhciBfX2RlZlByb3AkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgX19kZWZOb3JtYWxQcm9wJDEgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDEob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkJDEgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3AkMShvYmosIHR5cGVvZiBrZXkgIT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmNsYXNzIFNxdWFzaGluZ0J1ZmZlciB7XG4gIGNvbnN0cnVjdG9yKGRvYykge1xuICAgIF9fcHVibGljRmllbGQkMSh0aGlzLCBcIkJBU0lTXCIpLCBfX3B1YmxpY0ZpZWxkJDEodGhpcywgXCJQUkVTVEFHRVwiKSwgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwic2V0T3BlcmF0aW9uc1wiKSwgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwiZG9jdW1lbnRQcmVzZW50XCIpLCBfX3B1YmxpY0ZpZWxkJDEodGhpcywgXCJvdXRcIiwgW10pLCBfX3B1YmxpY0ZpZWxkJDEodGhpcywgXCJzdGFnZWRcIiksIGRvYyA/IGRlYnVnKFwiUmVzZXQgbXV0YXRpb24gYnVmZmVyIHRvIHJldiAlc1wiLCBkb2MuX3JldikgOiBkZWJ1ZyhcIlJlc2V0IG11dGF0aW9uIGJ1ZmZlciBzdGF0ZSB0byBkb2N1bWVudCBiZWluZyBkZWxldGVkXCIpLCB0aGlzLnN0YWdlZCA9IFtdLCB0aGlzLnNldE9wZXJhdGlvbnMgPSB7fSwgdGhpcy5kb2N1bWVudFByZXNlbnQgPSAhMSwgdGhpcy5CQVNJUyA9IGRvYywgdGhpcy5QUkVTVEFHRSA9IGRvYztcbiAgfVxuICBhZGQobXV0KSB7XG4gICAgbXV0Lm11dGF0aW9ucy5mb3JFYWNoKChvcCkgPT4gdGhpcy5hZGRPcGVyYXRpb24ob3ApKTtcbiAgfVxuICBoYXNDaGFuZ2VzKCkge1xuICAgIHJldHVybiB0aGlzLm91dC5sZW5ndGggPiAwIHx8IE9iamVjdC5rZXlzKHRoaXMuc2V0T3BlcmF0aW9ucykubGVuZ3RoID4gMDtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdHMgdGhlIG11dGF0aW9ucyBpbiB0aGlzIGJ1ZmZlci5cbiAgICogQWZ0ZXIgdGhpcyBpcyBkb25lLCB0aGUgYnVmZmVyIGxpZmVjeWNsZSBpcyBvdmVyIGFuZCB0aGUgY2xpZW50IHNob3VsZFxuICAgKiBjcmVhdGUgYW4gbmV3IG9uZSB3aXRoIHRoZSBuZXcsIHVwZGF0ZWQgQkFTSVMuXG4gICAqXG4gICAqIEBwYXJhbSB0eG5JZCAtIFRyYW5zYWN0aW9uIElEXG4gICAqIEByZXR1cm5zIEEgYE11dGF0aW9uYCBpbnN0YW5jZSBpZiB3ZSBoYWQgb3V0Z29pbmcgbXV0YXRpb25zIHBlbmRpbmcsIG51bGwgb3RoZXJ3aXNlXG4gICAqL1xuICBwdXJnZSh0eG5JZCkge1xuICAgIHRoaXMuc3Rhc2hTdGFnZWRPcGVyYXRpb25zKCk7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXMub3V0Lmxlbmd0aCA+IDAgJiYgKGRlYnVnKFwiUHVyZ2VkIG11dGF0aW9uIGJ1ZmZlclwiKSwgcmVzdWx0ID0gbmV3IE11dGF0aW9uKHtcbiAgICAgIG11dGF0aW9uczogdGhpcy5vdXQsXG4gICAgICByZXN1bHRSZXY6IHR4bklkLFxuICAgICAgdHJhbnNhY3Rpb25JZDogdHhuSWRcbiAgICB9KSksIHRoaXMub3V0ID0gW10sIHRoaXMuZG9jdW1lbnRQcmVzZW50ID0gITEsIHJlc3VsdDtcbiAgfVxuICBhZGRPcGVyYXRpb24ob3ApIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKG9wLnBhdGNoICYmIG9wLnBhdGNoLnNldCAmJiBcImlkXCIgaW4gb3AucGF0Y2ggJiYgb3AucGF0Y2guaWQgPT09ICgoX2EgPSB0aGlzLlBSRVNUQUdFKSA9PSBudWxsID8gdm9pZCAwIDogX2EuX2lkKSAmJiBPYmplY3Qua2V5cyhvcC5wYXRjaCkubGVuZ3RoID09PSAyKSB7XG4gICAgICBjb25zdCBzZXRQYXRjaCA9IG9wLnBhdGNoLnNldCwgdW5vcHRpbWl6YWJsZSA9IHt9O1xuICAgICAgZm9yIChjb25zdCBwYXRoIG9mIE9iamVjdC5rZXlzKHNldFBhdGNoKSlcbiAgICAgICAgc2V0UGF0Y2guaGFzT3duUHJvcGVydHkocGF0aCkgJiYgKHRoaXMub3B0aW1pc2VTZXRPcGVyYXRpb24ocGF0aCwgc2V0UGF0Y2hbcGF0aF0pIHx8ICh1bm9wdGltaXphYmxlW3BhdGhdID0gc2V0UGF0Y2hbcGF0aF0pKTtcbiAgICAgIE9iamVjdC5rZXlzKHVub3B0aW1pemFibGUpLmxlbmd0aCA+IDAgJiYgKGRlYnVnKFwiVW5vcHRpbWl6YWJsZSBzZXQtb3BlcmF0aW9uIGRldGVjdGVkLCBwdXJnaW5nIG9wdGltaXphdGlvbiBidWZmZXJcIiksIHRoaXMuc3RhZ2VkLnB1c2goeyBwYXRjaDogeyBpZDogdGhpcy5QUkVTVEFHRS5faWQsIHNldDogdW5vcHRpbWl6YWJsZSB9IH0pLCB0aGlzLnN0YXNoU3RhZ2VkT3BlcmF0aW9ucygpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wLmNyZWF0ZUlmTm90RXhpc3RzICYmIHRoaXMuUFJFU1RBR0UgJiYgb3AuY3JlYXRlSWZOb3RFeGlzdHMuX2lkID09PSB0aGlzLlBSRVNUQUdFLl9pZCkge1xuICAgICAgdGhpcy5kb2N1bWVudFByZXNlbnQgfHwgKHRoaXMuc3RhZ2VkLnB1c2gob3ApLCB0aGlzLmRvY3VtZW50UHJlc2VudCA9ICEwLCB0aGlzLnN0YXNoU3RhZ2VkT3BlcmF0aW9ucygpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVidWcoXCJVbm9wdGltaXphYmxlIG11dGF0aW9uIGRldGVjdGVkLCBwdXJnaW5nIG9wdGltaXphdGlvbiBidWZmZXJcIiksIHRoaXMuc3RhZ2VkLnB1c2gob3ApLCB0aGlzLnN0YXNoU3RhZ2VkT3BlcmF0aW9ucygpO1xuICB9XG4gIC8qKlxuICAgICAqIEF0dGVtcHQgdG8gcGVyZm9ybSBvbmUgc2luZ2xlIHNldCBvcGVyYXRpb24gaW4gYW4gb3B0aW1pc2VkIG1hbm5lciwgcmV0dXJuIHZhbHVlXG4gICAgICogcmVmbGVjdHMgd2hldGhlciBvciBub3QgdGhlIG9wZXJhdGlvbiBjb3VsZCBiZSBwZXJmb3JtZWQuXG4gIFxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIEpTT05QYXRoIHRvIHRoZSBzZXQgb3BlcmF0aW9uIGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIG5leHRWYWx1ZSAtIFRoZSB2YWx1ZSB0byBiZSBzZXRcbiAgICAgKiBAcmV0dXJucyBUcnVlIG9mIG9wdGltaXplZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gIG9wdGltaXNlU2V0T3BlcmF0aW9uKHBhdGgsIG5leHRWYWx1ZSkge1xuICAgIGlmICh0eXBlb2YgbmV4dFZhbHVlID09IFwib2JqZWN0XCIpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgbWF0Y2hlcyA9IGV4dHJhY3RXaXRoUGF0aChwYXRoLCB0aGlzLlBSRVNUQUdFKTtcbiAgICBpZiAobWF0Y2hlcy5sZW5ndGggIT09IDEpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgbWF0Y2ggPSBtYXRjaGVzWzBdO1xuICAgIGlmICh0eXBlb2YgbWF0Y2gudmFsdWUgPT0gXCJvYmplY3RcIiB8fCAhdGhpcy5QUkVTVEFHRSlcbiAgICAgIHJldHVybiAhMTtcbiAgICBsZXQgb3AgPSBudWxsO1xuICAgIGlmIChtYXRjaC52YWx1ZSA9PT0gbmV4dFZhbHVlKVxuICAgICAgb3AgPSBudWxsO1xuICAgIGVsc2UgaWYgKHR5cGVvZiBtYXRjaC52YWx1ZSA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBuZXh0VmFsdWUgPT0gXCJzdHJpbmdcIilcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhdGNoID0gc3RyaW5naWZ5UGF0Y2hlcyhtYWtlUGF0Y2hlcyhtYXRjaC52YWx1ZSwgbmV4dFZhbHVlKSk7XG4gICAgICAgIG9wID0geyBwYXRjaDogeyBpZDogdGhpcy5QUkVTVEFHRS5faWQsIGRpZmZNYXRjaFBhdGNoOiB7IFtwYXRoXTogcGF0Y2ggfSB9IH07XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgIGVsc2VcbiAgICAgIG9wID0geyBwYXRjaDogeyBpZDogdGhpcy5QUkVTVEFHRS5faWQsIHNldDogeyBbcGF0aF06IG5leHRWYWx1ZSB9IH0gfTtcbiAgICBjb25zdCBjYW5vbmljYWxQYXRoID0gYXJyYXlUb0pTT05NYXRjaFBhdGgobWF0Y2gucGF0aCk7XG4gICAgcmV0dXJuIG9wID8gdGhpcy5zZXRPcGVyYXRpb25zW2Nhbm9uaWNhbFBhdGhdID0gb3AgOiBkZWxldGUgdGhpcy5zZXRPcGVyYXRpb25zW2Nhbm9uaWNhbFBhdGhdLCAhMDtcbiAgfVxuICBzdGFzaFN0YWdlZE9wZXJhdGlvbnMoKSB7XG4gICAgY29uc3QgbmV4dE9wcyA9IFtdO1xuICAgIE9iamVjdC5rZXlzKHRoaXMuc2V0T3BlcmF0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBvcCA9IHRoaXMuc2V0T3BlcmF0aW9uc1trZXldO1xuICAgICAgb3AgJiYgbmV4dE9wcy5wdXNoKG9wKTtcbiAgICB9KSwgbmV4dE9wcy5wdXNoKC4uLnRoaXMuc3RhZ2VkKSwgbmV4dE9wcy5sZW5ndGggPiAwICYmICh0aGlzLlBSRVNUQUdFID0gbmV3IE11dGF0aW9uKHsgbXV0YXRpb25zOiBuZXh0T3BzIH0pLmFwcGx5KHRoaXMuUFJFU1RBR0UpLCB0aGlzLnN0YWdlZCA9IFtdLCB0aGlzLnNldE9wZXJhdGlvbnMgPSB7fSksIHRoaXMub3V0LnB1c2goLi4ubmV4dE9wcyk7XG4gIH1cbiAgLyoqXG4gICAqIFJlYmFzZXMgZ2l2ZW4gdGhlIG5ldyBiYXNlLWRvY3VtZW50XG4gICAqXG4gICAqIEBwYXJhbSBuZXdCYXNpcyAtIE5ldyBiYXNlIGRvY3VtZW50IHRvIHJlYmFzZSBvblxuICAgKiBAcmV0dXJucyBOZXcgXCJlZGdlXCIgZG9jdW1lbnQgd2l0aCBidWZmZXJlZCBjaGFuZ2VzIGludGVncmF0ZWRcbiAgICovXG4gIHJlYmFzZShuZXdCYXNpcykge1xuICAgIHJldHVybiB0aGlzLnN0YXNoU3RhZ2VkT3BlcmF0aW9ucygpLCBuZXdCYXNpcyA9PT0gbnVsbCA/ICh0aGlzLm91dCA9IFtdLCB0aGlzLkJBU0lTID0gbmV3QmFzaXMsIHRoaXMuUFJFU1RBR0UgPSBuZXdCYXNpcywgdGhpcy5kb2N1bWVudFByZXNlbnQgPSAhMSkgOiAodGhpcy5CQVNJUyA9IG5ld0Jhc2lzLCB0aGlzLm91dCA/IHRoaXMuUFJFU1RBR0UgPSBuZXcgTXV0YXRpb24oeyBtdXRhdGlvbnM6IHRoaXMub3V0IH0pLmFwcGx5KHRoaXMuQkFTSVMpIDogdGhpcy5QUkVTVEFHRSA9IHRoaXMuQkFTSVMpLCB0aGlzLlBSRVNUQUdFO1xuICB9XG59XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZSwgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmNvbnN0IE9ORV9NSU5VVEUgPSAxZTMgKiA2MDtcbmNsYXNzIENvbW1pdCB7XG4gIGNvbnN0cnVjdG9yKG11dGF0aW9ucywgeyByZXNvbHZlLCByZWplY3QgfSkge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJtdXRhdGlvbnNcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJ0cmllc1wiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJlc29sdmVcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJyZWplY3RcIiksIHRoaXMubXV0YXRpb25zID0gbXV0YXRpb25zLCB0aGlzLnRyaWVzID0gMCwgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZSwgdGhpcy5yZWplY3QgPSByZWplY3Q7XG4gIH1cbiAgYXBwbHkoZG9jKSB7XG4gICAgcmV0dXJuIE11dGF0aW9uLmFwcGx5QWxsKGRvYywgdGhpcy5tdXRhdGlvbnMpO1xuICB9XG4gIHNxdWFzaChkb2MpIHtcbiAgICBjb25zdCByZXN1bHQgPSBNdXRhdGlvbi5zcXVhc2goZG9jLCB0aGlzLm11dGF0aW9ucyk7XG4gICAgcmV0dXJuIHJlc3VsdC5hc3NpZ25SYW5kb21UcmFuc2FjdGlvbklkKCksIHJlc3VsdDtcbiAgfVxufVxuY29uc3QgbXV0UmVkdWNlckZuID0gKGFjYywgbXV0KSA9PiBhY2MuY29uY2F0KG11dC5tdXRhdGlvbnMpO1xuY2xhc3MgQnVmZmVyZWREb2N1bWVudCB7XG4gIGNvbnN0cnVjdG9yKGRvYykge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJtdXRhdGlvbnNcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJkb2N1bWVudFwiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcIkxPQ0FMXCIpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY29tbWl0c1wiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcImJ1ZmZlclwiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9uTXV0YXRpb25cIiksIF9fcHVibGljRmllbGQodGhpcywgXCJvblJlbW90ZU11dGF0aW9uXCIpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib25SZWJhc2VcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJvbkRlbGV0ZVwiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9uQ29uc2lzdGVuY3lDaGFuZ2VkXCIpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY29tbWl0SGFuZGxlclwiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNvbW1pdHRlclJ1bm5pbmdcIiwgITEpLCB0aGlzLmJ1ZmZlciA9IG5ldyBTcXVhc2hpbmdCdWZmZXIoZG9jKSwgdGhpcy5kb2N1bWVudCA9IG5ldyBEb2N1bWVudChkb2MpLCB0aGlzLmRvY3VtZW50Lm9uTXV0YXRpb24gPSAobXNnKSA9PiB0aGlzLmhhbmRsZURvY011dGF0aW9uKG1zZyksIHRoaXMuZG9jdW1lbnQub25SZW1vdGVNdXRhdGlvbiA9IChtdXQpID0+IHRoaXMub25SZW1vdGVNdXRhdGlvbiAmJiB0aGlzLm9uUmVtb3RlTXV0YXRpb24obXV0KSwgdGhpcy5kb2N1bWVudC5vblJlYmFzZSA9IChlZGdlLCByZW1vdGVNdXRhdGlvbnMsIGxvY2FsTXV0YXRpb25zKSA9PiB0aGlzLmhhbmRsZURvY1JlYmFzZShlZGdlLCByZW1vdGVNdXRhdGlvbnMsIGxvY2FsTXV0YXRpb25zKSwgdGhpcy5kb2N1bWVudC5vbkNvbnNpc3RlbmN5Q2hhbmdlZCA9IChtc2cpID0+IHRoaXMuaGFuZGxlRG9jQ29uc2lzdGVuY3lDaGFuZ2VkKG1zZyksIHRoaXMuTE9DQUwgPSBkb2MsIHRoaXMubXV0YXRpb25zID0gW10sIHRoaXMuY29tbWl0cyA9IFtdO1xuICB9XG4gIC8vIFVzZWQgdG8gcmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBsb2NhbCBkb2N1bWVudCBtb2RlbC4gSWYgdGhlIG1vZGVsIGhhcyBiZWVuIGluY29uc2lzdGVudFxuICAvLyBmb3IgdG9vIGxvbmcsIGl0IGhhcyBwcm9iYWJseSBtaXNzZWQgYSBub3RpZmljYXRpb24sIGFuZCBzaG91bGQgcmVsb2FkIHRoZSBkb2N1bWVudCBmcm9tIHRoZSBzZXJ2ZXJcbiAgcmVzZXQoZG9jKSB7XG4gICAgZG9jID8gZGVidWcoXCJEb2N1bWVudCBzdGF0ZSByZXNldCB0byByZXZpc2lvbiAlc1wiLCBkb2MuX3JldikgOiBkZWJ1ZyhcIkRvY3VtZW50IHN0YXRlIHJlc2V0IHRvIGJlaW5nIGRlbGV0ZWRcIiksIHRoaXMuZG9jdW1lbnQucmVzZXQoZG9jKSwgdGhpcy5yZWJhc2UoW10sIFtdKSwgdGhpcy5oYW5kbGVEb2NDb25zaXN0ZW5jeUNoYW5nZWQodGhpcy5kb2N1bWVudC5pc0NvbnNpc3RlbnQoKSk7XG4gIH1cbiAgLy8gQWRkIGEgY2hhbmdlIHRvIHRoZSBidWZmZXJcbiAgYWRkKG11dGF0aW9uKSB7XG4gICAgdGhpcy5vbkNvbnNpc3RlbmN5Q2hhbmdlZCAmJiB0aGlzLm9uQ29uc2lzdGVuY3lDaGFuZ2VkKCExKSwgZGVidWcoXCJTdGFnZWQgbG9jYWwgbXV0YXRpb25cIiksIHRoaXMuYnVmZmVyLmFkZChtdXRhdGlvbik7XG4gICAgY29uc3Qgb2xkTG9jYWwgPSB0aGlzLkxPQ0FMO1xuICAgIHRoaXMuTE9DQUwgPSBtdXRhdGlvbi5hcHBseSh0aGlzLkxPQ0FMKSwgdGhpcy5vbk11dGF0aW9uICYmIG9sZExvY2FsICE9PSB0aGlzLkxPQ0FMICYmIChkZWJ1ZyhcIm9uTXV0YXRpb24gZmlyZWRcIiksIHRoaXMub25NdXRhdGlvbih7XG4gICAgICBtdXRhdGlvbixcbiAgICAgIGRvY3VtZW50OiB0aGlzLkxPQ0FMLFxuICAgICAgcmVtb3RlOiAhMVxuICAgIH0pLCB0aGlzLkxPQ0FMID09PSBudWxsICYmIHRoaXMub25EZWxldGUgJiYgdGhpcy5vbkRlbGV0ZSh0aGlzLkxPQ0FMKSk7XG4gIH1cbiAgLy8gQ2FsbCB3aGVuIGEgbXV0YXRpb24gYXJyaXZlcyBmcm9tIFNhbml0eVxuICBhcnJpdmUobXV0YXRpb24pIHtcbiAgICBpZiAoZGVidWcoXCJSZW1vdGUgbXV0YXRpb24gYXJyaXZlZCAlcyAtPiAlc1wiLCBtdXRhdGlvbi5wcmV2aW91c1JldiwgbXV0YXRpb24ucmVzdWx0UmV2KSwgbXV0YXRpb24ucHJldmlvdXNSZXYgPT09IG11dGF0aW9uLnJlc3VsdFJldilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE11dGF0aW9uICR7bXV0YXRpb24udHJhbnNhY3Rpb25JZH0gaGFzIHByZXZpb3VzUmV2ID09PSByZXN1bHRSZXYgKCR7bXV0YXRpb24ucHJldmlvdXNSZXZ9KWBcbiAgICAgICk7XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQuYXJyaXZlKG11dGF0aW9uKTtcbiAgfVxuICAvLyBTdWJtaXQgYWxsIG11dGF0aW9ucyBpbiB0aGUgYnVmZmVyIHRvIGJlIGNvbW1pdHRlZFxuICBjb21taXQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICghdGhpcy5idWZmZXIuaGFzQ2hhbmdlcygpKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVidWcoXCJDb21taXR0aW5nIGxvY2FsIGNoYW5nZXNcIik7XG4gICAgICBjb25zdCBwZW5kaW5nTXV0YXRpb25zID0gdGhpcy5idWZmZXIucHVyZ2UoKTtcbiAgICAgIHRoaXMuY29tbWl0cy5wdXNoKG5ldyBDb21taXQocGVuZGluZ011dGF0aW9ucyA/IFtwZW5kaW5nTXV0YXRpb25zXSA6IFtdLCB7IHJlc29sdmUsIHJlamVjdCB9KSksIHRoaXMuYnVmZmVyID0gbmV3IFNxdWFzaGluZ0J1ZmZlcih0aGlzLkxPQ0FMKSwgdGhpcy5wZXJmb3JtQ29tbWl0cygpO1xuICAgIH0pO1xuICB9XG4gIC8vIFN0YXJ0cyB0aGUgY29tbWl0dGVyIHRoYXQgd2lsbCB0cnkgdG8gY29tbWl0dCBhbGwgc3RhZ2VkIGNvbW1pdHMgdG8gdGhlIGRhdGFiYXNlXG4gIC8vIGJ5IGNhbGxpbmcgdGhlIGNvbW1pdEhhbmRsZXIuIFdpbGwga2VlcCBydW5uaW5nIHVudGlsIGFsbCBjb21taXRzIGFyZSBzdWNjZXNzZnVsbHlcbiAgLy8gY29tbWl0dGVkLlxuICBwZXJmb3JtQ29tbWl0cygpIHtcbiAgICBpZiAoIXRoaXMuY29tbWl0SGFuZGxlcilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNvbW1pdEhhbmRsZXIgY29uZmlndXJlZCBmb3IgdGhpcyBCdWZmZXJlZERvY3VtZW50XCIpO1xuICAgIHRoaXMuY29tbWl0dGVyUnVubmluZyB8fCB0aGlzLl9jeWNsZUNvbW1pdHRlcigpO1xuICB9XG4gIC8vIFRPRE86IEVycm9yIGhhbmRsaW5nLCByaWdodCBub3cgcmV0cmllcyBhZnRlciBldmVyeSBlcnJvclxuICBfY3ljbGVDb21taXR0ZXIoKSB7XG4gICAgY29uc3QgY29tbWl0ID0gdGhpcy5jb21taXRzLnNoaWZ0KCk7XG4gICAgaWYgKCFjb21taXQpIHtcbiAgICAgIHRoaXMuY29tbWl0dGVyUnVubmluZyA9ICExO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNvbW1pdHRlclJ1bm5pbmcgPSAhMDtcbiAgICBjb25zdCBzcXVhc2hlZCA9IGNvbW1pdC5zcXVhc2godGhpcy5MT0NBTCksIGRvY1Jlc3BvbmRlciA9IHRoaXMuZG9jdW1lbnQuc3RhZ2Uoc3F1YXNoZWQsICEwKSwgcmVzcG9uZGVyID0ge1xuICAgICAgc3VjY2VzczogKCkgPT4ge1xuICAgICAgICBkZWJ1ZyhcIkNvbW1pdCBzdWNjZWVkZWRcIiksIGRvY1Jlc3BvbmRlci5zdWNjZXNzKCksIGNvbW1pdC5yZXNvbHZlKCksIHRoaXMuX2N5Y2xlQ29tbWl0dGVyKCk7XG4gICAgICB9LFxuICAgICAgZmFpbHVyZTogKCkgPT4ge1xuICAgICAgICBkZWJ1ZyhcIkNvbW1pdCBmYWlsZWRcIiksIGNvbW1pdC50cmllcyArPSAxLCB0aGlzLkxPQ0FMICE9PSBudWxsICYmIHRoaXMuY29tbWl0cy51bnNoaWZ0KGNvbW1pdCksIGRvY1Jlc3BvbmRlci5mYWlsdXJlKCksIGNvbW1pdC50cmllcyA8IDIwMCAmJiBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX2N5Y2xlQ29tbWl0dGVyKCksIE1hdGgubWluKGNvbW1pdC50cmllcyAqIDFlMywgT05FX01JTlVURSkpO1xuICAgICAgfSxcbiAgICAgIGNhbmNlbDogKGVycm9yKSA9PiB7XG4gICAgICAgIHRoaXMuY29tbWl0cy5mb3JFYWNoKChjb21tKSA9PiBjb21tLnJlamVjdChlcnJvcikpLCB0aGlzLmNvbW1pdHMgPSBbXSwgdGhpcy5yZXNldCh0aGlzLmRvY3VtZW50LkhFQUQpLCB0aGlzLmJ1ZmZlciA9IG5ldyBTcXVhc2hpbmdCdWZmZXIodGhpcy5MT0NBTCksIHRoaXMuY29tbWl0dGVyUnVubmluZyA9ICExO1xuICAgICAgfVxuICAgIH07XG4gICAgZGVidWcoXCJQb3N0aW5nIGNvbW1pdFwiKSwgdGhpcy5jb21taXRIYW5kbGVyICYmIHRoaXMuY29tbWl0SGFuZGxlcih7XG4gICAgICBtdXRhdGlvbjogc3F1YXNoZWQsXG4gICAgICBzdWNjZXNzOiByZXNwb25kZXIuc3VjY2VzcyxcbiAgICAgIGZhaWx1cmU6IHJlc3BvbmRlci5mYWlsdXJlLFxuICAgICAgY2FuY2VsOiByZXNwb25kZXIuY2FuY2VsXG4gICAgfSk7XG4gIH1cbiAgaGFuZGxlRG9jUmViYXNlKGVkZ2UsIHJlbW90ZU11dGF0aW9ucywgbG9jYWxNdXRhdGlvbnMpIHtcbiAgICB0aGlzLnJlYmFzZShyZW1vdGVNdXRhdGlvbnMsIGxvY2FsTXV0YXRpb25zKTtcbiAgfVxuICBoYW5kbGVEb2N1bWVudERlbGV0ZWQoKSB7XG4gICAgZGVidWcoXCJEb2N1bWVudCBkZWxldGVkXCIpLCB0aGlzLkxPQ0FMICE9PSBudWxsICYmIHRoaXMub25EZWxldGUgJiYgdGhpcy5vbkRlbGV0ZSh0aGlzLkxPQ0FMKSwgdGhpcy5jb21taXRzID0gW10sIHRoaXMubXV0YXRpb25zID0gW107XG4gIH1cbiAgaGFuZGxlRG9jTXV0YXRpb24obXNnKSB7XG4gICAgaWYgKHRoaXMuY29tbWl0cy5sZW5ndGggPT09IDAgJiYgIXRoaXMuYnVmZmVyLmhhc0NoYW5nZXMoKSkge1xuICAgICAgZGVidWcoXCJEb2N1bWVudCBtdXRhdGVkIGZyb20gcmVtb3RlIHdpdGggbm8gbG9jYWwgY2hhbmdlc1wiKSwgdGhpcy5MT0NBTCA9IHRoaXMuZG9jdW1lbnQuRURHRSwgdGhpcy5idWZmZXIgPSBuZXcgU3F1YXNoaW5nQnVmZmVyKHRoaXMuTE9DQUwpLCB0aGlzLm9uTXV0YXRpb24gJiYgdGhpcy5vbk11dGF0aW9uKG1zZyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRlYnVnKFwiRG9jdW1lbnQgbXV0YXRlZCBmcm9tIHJlbW90ZSB3aXRoIGxvY2FsIGNoYW5nZXNcIiksIHRoaXMuZG9jdW1lbnQuRURHRSA9PT0gbnVsbCAmJiB0aGlzLmhhbmRsZURvY3VtZW50RGVsZXRlZCgpLCB0aGlzLnJlYmFzZShbbXNnLm11dGF0aW9uXSwgW10pO1xuICB9XG4gIHJlYmFzZShyZW1vdGVNdXRhdGlvbnMsIGxvY2FsTXV0YXRpb25zKSB7XG4gICAgZGVidWcoXCJSZWJhc2luZyBkb2N1bWVudFwiKSwgdGhpcy5kb2N1bWVudC5FREdFID09PSBudWxsICYmIHRoaXMuaGFuZGxlRG9jdW1lbnREZWxldGVkKCk7XG4gICAgY29uc3Qgb2xkTG9jYWwgPSB0aGlzLkxPQ0FMO1xuICAgIHRoaXMuTE9DQUwgPSB0aGlzLmNvbW1pdHMucmVkdWNlKChkb2MsIGNvbW1pdCkgPT4gY29tbWl0LmFwcGx5KGRvYyksIHRoaXMuZG9jdW1lbnQuRURHRSksIHRoaXMuTE9DQUwgPSB0aGlzLmJ1ZmZlci5yZWJhc2UodGhpcy5MT0NBTCksIG9sZExvY2FsICE9PSBudWxsICYmIHRoaXMuTE9DQUwgIT09IG51bGwgJiYgKG9sZExvY2FsLl9yZXYgPSB0aGlzLkxPQ0FMLl9yZXYpLCAhaXNFcXVhbCh0aGlzLkxPQ0FMLCBvbGRMb2NhbCkgJiYgdGhpcy5vblJlYmFzZSAmJiB0aGlzLm9uUmViYXNlKFxuICAgICAgdGhpcy5MT0NBTCxcbiAgICAgIHJlbW90ZU11dGF0aW9ucy5yZWR1Y2UobXV0UmVkdWNlckZuLCBbXSksXG4gICAgICBsb2NhbE11dGF0aW9ucy5yZWR1Y2UobXV0UmVkdWNlckZuLCBbXSlcbiAgICApO1xuICB9XG4gIGhhbmRsZURvY0NvbnNpc3RlbmN5Q2hhbmdlZChpc0NvbnNpc3RlbnQpIHtcbiAgICBpZiAoIXRoaXMub25Db25zaXN0ZW5jeUNoYW5nZWQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgaGFzTG9jYWxDaGFuZ2VzID0gdGhpcy5jb21taXRzLmxlbmd0aCA+IDAgfHwgdGhpcy5idWZmZXIuaGFzQ2hhbmdlcygpO1xuICAgIGlzQ29uc2lzdGVudCAmJiAhaGFzTG9jYWxDaGFuZ2VzICYmIHRoaXMub25Db25zaXN0ZW5jeUNoYW5nZWQoITApLCBpc0NvbnNpc3RlbnQgfHwgdGhpcy5vbkNvbnNpc3RlbmN5Q2hhbmdlZCghMSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIEJ1ZmZlcmVkRG9jdW1lbnQsXG4gIE11dGF0aW9uLFxuICBhcnJheVRvSlNPTk1hdGNoUGF0aCxcbiAgZXh0cmFjdCxcbiAgZXh0cmFjdFdpdGhQYXRoXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/mutator/lib/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/portable-text-editor/lib/index.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@sanity/portable-text-editor/lib/index.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PortableTextEditable: () => (/* binding */ PortableTextEditable),\n/* harmony export */   PortableTextEditor: () => (/* binding */ PortableTextEditor),\n/* harmony export */   compactPatches: () => (/* binding */ compactPatches),\n/* harmony export */   keyGenerator: () => (/* binding */ defaultKeyGenerator),\n/* harmony export */   usePortableTextEditor: () => (/* binding */ usePortableTextEditor),\n/* harmony export */   usePortableTextEditorSelection: () => (/* binding */ usePortableTextEditorSelection)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/isEqual.js */ \"(ssr)/./node_modules/lodash/isEqual.js\");\n/* harmony import */ var lodash_noop_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/noop.js */ \"(ssr)/./node_modules/lodash/noop.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! slate */ \"(ssr)/./node_modules/slate/dist/index.es.js\");\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! slate-react */ \"(ssr)/./node_modules/slate-react/dist/index.es.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/@sanity/portable-text-editor/node_modules/debug/src/index.js\");\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @sanity/types */ \"(ssr)/./node_modules/@sanity/types/lib/index.mjs\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! styled-components */ \"(ssr)/./node_modules/styled-components/dist/styled-components.esm.js\");\n/* harmony import */ var lodash_uniq_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/uniq.js */ \"(ssr)/./node_modules/lodash/uniq.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/Subject.js\");\n/* harmony import */ var _sanity_schema__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @sanity/schema */ \"(ssr)/./node_modules/@sanity/schema/lib/index.mjs\");\n/* harmony import */ var lodash_get_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/get.js */ \"(ssr)/./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_isUndefined_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/isUndefined.js */ \"(ssr)/./node_modules/lodash/isUndefined.js\");\n/* harmony import */ var lodash_omitBy_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/omitBy.js */ \"(ssr)/./node_modules/lodash/omitBy.js\");\n/* harmony import */ var lodash_isObject_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/isObject.js */ \"(ssr)/./node_modules/lodash/isObject.js\");\n/* harmony import */ var lodash_isString_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/isString.js */ \"(ssr)/./node_modules/lodash/isString.js\");\n/* harmony import */ var lodash_findIndex_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/findIndex.js */ \"(ssr)/./node_modules/lodash/findIndex.js\");\n/* harmony import */ var lodash_clone_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash/clone.js */ \"(ssr)/./node_modules/lodash/clone.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash/omit.js */ \"(ssr)/./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_flatten_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash/flatten.js */ \"(ssr)/./node_modules/lodash/flatten.js\");\n/* harmony import */ var is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! is-hotkey-esm */ \"(ssr)/./node_modules/is-hotkey-esm/dist/index.js\");\n/* harmony import */ var _sanity_block_tools__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @sanity/block-tools */ \"(ssr)/./node_modules/@sanity/block-tools/lib/index.mjs\");\n/* harmony import */ var lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash/isPlainObject.js */ \"(ssr)/./node_modules/lodash/isPlainObject.js\");\n/* harmony import */ var lodash_throttle_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash/throttle.js */ \"(ssr)/./node_modules/lodash/throttle.js\");\n/* harmony import */ var _sanity_util_content__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @sanity/util/content */ \"(ssr)/./node_modules/@sanity/util/lib/content.mjs\");\n/* harmony import */ var lodash_debounce_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash/debounce.js */ \"(ssr)/./node_modules/lodash/debounce.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst rootName = \"sanity-pte:\";\ndebug__WEBPACK_IMPORTED_MODULE_4__(rootName);\nfunction debugWithName(name) {\n  const namespace = `${rootName}${name}`;\n  return debug__WEBPACK_IMPORTED_MODULE_4__ && debug__WEBPACK_IMPORTED_MODULE_4__.enabled(namespace) ? debug__WEBPACK_IMPORTED_MODULE_4__(namespace) : debug__WEBPACK_IMPORTED_MODULE_4__(rootName);\n}\nfunction createKeyedPath(point, value, types) {\n  const blockPath = [point.path[0]];\n  if (!value)\n    return null;\n  const block = value[blockPath[0]];\n  if (!block)\n    return null;\n  const keyedBlockPath = [{ _key: block._key }];\n  if (block._type !== types.block.name)\n    return keyedBlockPath;\n  let keyedChildPath;\n  const childPath = point.path.slice(0, 2), child = Array.isArray(block.children) && block.children[childPath[1]];\n  return child && (keyedChildPath = [\"children\", { _key: child._key }]), keyedChildPath ? [...keyedBlockPath, ...keyedChildPath] : keyedBlockPath;\n}\nfunction createArrayedPath(point, editor) {\n  if (!editor)\n    return [];\n  const [block, blockPath] = Array.from(\n    slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n      at: [],\n      match: (n) => (0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isKeySegment)(point.path[0]) && n._key === point.path[0]._key\n    })\n  )[0] || [void 0, void 0];\n  if (!block || !slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(block))\n    return [];\n  if (editor.isVoid(block))\n    return [blockPath[0], 0];\n  const childPath = [point.path[2]], childIndex = block.children.findIndex((child) => lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__([{ _key: child._key }], childPath));\n  if (childIndex >= 0 && block.children[childIndex]) {\n    const child = block.children[childIndex];\n    return slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(child) && editor.isVoid(child) ? blockPath.concat(childIndex).concat(0) : blockPath.concat(childIndex);\n  }\n  return blockPath;\n}\nfunction toPortableTextRange(value, range, types) {\n  if (!range)\n    return null;\n  let anchor = null, focus = null;\n  const anchorPath = range.anchor && createKeyedPath(range.anchor, value, types);\n  anchorPath && range.anchor && (anchor = {\n    path: anchorPath,\n    offset: range.anchor.offset\n  });\n  const focusPath = range.focus && createKeyedPath(range.focus, value, types);\n  focusPath && range.focus && (focus = {\n    path: focusPath,\n    offset: range.focus.offset\n  });\n  const backward = !!(slate__WEBPACK_IMPORTED_MODULE_18__.Range.isRange(range) && slate__WEBPACK_IMPORTED_MODULE_18__.Range.isBackward(range));\n  return anchor && focus ? { anchor, focus, backward } : null;\n}\nfunction toSlateRange(selection, editor) {\n  if (!selection || !editor)\n    return null;\n  const anchor = {\n    path: createArrayedPath(selection.anchor, editor),\n    offset: selection.anchor.offset\n  }, focus = {\n    path: createArrayedPath(selection.focus, editor),\n    offset: selection.focus.offset\n  };\n  return focus.path.length === 0 || anchor.path.length === 0 ? null : anchor && focus ? { anchor, focus } : null;\n}\nfunction moveRangeByOperation(range, operation) {\n  const anchor = slate__WEBPACK_IMPORTED_MODULE_18__.Point.transform(range.anchor, operation), focus = slate__WEBPACK_IMPORTED_MODULE_18__.Point.transform(range.focus, operation);\n  return anchor === null || focus === null ? null : slate__WEBPACK_IMPORTED_MODULE_18__.Point.equals(anchor, range.anchor) && slate__WEBPACK_IMPORTED_MODULE_18__.Point.equals(focus, range.focus) ? range : { anchor, focus };\n}\nfunction normalizePoint(point, value) {\n  if (!point || !value)\n    return null;\n  const newPath = [];\n  let newOffset = point.offset || 0;\n  const blockKey = typeof point.path[0] == \"object\" && \"_key\" in point.path[0] && point.path[0]._key, childKey = typeof point.path[2] == \"object\" && \"_key\" in point.path[2] && point.path[2]._key, block = value.find((blk) => blk._key === blockKey);\n  if (block)\n    newPath.push({ _key: block._key });\n  else\n    return null;\n  if (block && point.path[1] === \"children\") {\n    if (!block.children || Array.isArray(block.children) && block.children.length === 0)\n      return null;\n    const child = Array.isArray(block.children) && block.children.find((cld) => cld._key === childKey);\n    if (child)\n      newPath.push(\"children\"), newPath.push({ _key: child._key }), newOffset = child.text && child.text.length >= point.offset ? point.offset : child.text && child.text.length || 0;\n    else\n      return null;\n  }\n  return { path: newPath, offset: newOffset };\n}\nfunction normalizeSelection(selection, value) {\n  if (!selection || !value || value.length === 0)\n    return null;\n  let newAnchor = null, newFocus = null;\n  const { anchor, focus } = selection;\n  return anchor && value.find((blk) => lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__({ _key: blk._key }, anchor.path[0])) && (newAnchor = normalizePoint(anchor, value)), focus && value.find((blk) => lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__({ _key: blk._key }, focus.path[0])) && (newFocus = normalizePoint(focus, value)), newAnchor && newFocus ? { anchor: newAnchor, focus: newFocus, backward: selection.backward } : null;\n}\nconst EMPTY_MARKDEFS = [], EMPTY_MARKS$1 = [], VOID_CHILD_KEY = \"void-child\";\nfunction keepObjectEquality(object, keyMap) {\n  const value = keyMap[object._key];\n  return value && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(object, value) ? value : (keyMap[object._key] = object, object);\n}\nfunction toSlateValue(value, { schemaTypes }, keyMap = {}) {\n  return value && Array.isArray(value) ? value.map((block) => {\n    const { _type, _key, ...rest } = block, voidChildren = [{ _key: VOID_CHILD_KEY, _type: \"span\", text: \"\", marks: [] }];\n    if (block && block._type === schemaTypes.block.name) {\n      const textBlock = block;\n      let hasInlines = !1;\n      const hasMissingStyle = typeof textBlock.style > \"u\", hasMissingMarkDefs = typeof textBlock.markDefs > \"u\", hasMissingChildren = typeof textBlock.children > \"u\", children = (textBlock.children || []).map((child) => {\n        const { _type: cType, _key: cKey, ...cRest } = child;\n        return cType !== \"span\" ? (hasInlines = !0, keepObjectEquality(\n          {\n            _type: cType,\n            _key: cKey,\n            children: voidChildren,\n            value: cRest,\n            __inline: !0\n          },\n          keyMap\n        )) : child;\n      });\n      return !hasMissingStyle && !hasMissingMarkDefs && !hasMissingChildren && !hasInlines && slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(block) ? block : (hasMissingStyle && (rest.style = schemaTypes.styles[0].value), keepObjectEquality({ _type, _key, ...rest, children }, keyMap));\n    }\n    return keepObjectEquality(\n      {\n        _type,\n        _key,\n        children: voidChildren,\n        value: rest\n      },\n      keyMap\n    );\n  }) : [];\n}\nfunction fromSlateValue(value, textBlockType, keyMap = {}) {\n  return value.map((block) => {\n    const { _key, _type } = block;\n    if (!_key || !_type)\n      throw new Error(\"Not a valid block\");\n    if (_type === textBlockType && \"children\" in block && Array.isArray(block.children) && _key) {\n      let hasInlines = !1;\n      const children = block.children.map((child) => {\n        const { _type: _cType } = child;\n        if (\"value\" in child && _cType !== \"span\") {\n          hasInlines = !0;\n          const { value: v, _key: k, _type: t, __inline: _i, children: _c, ...rest } = child;\n          return keepObjectEquality({ ...rest, ...v, _key: k, _type: t }, keyMap);\n        }\n        return child;\n      });\n      return hasInlines ? keepObjectEquality({ ...block, children, _key, _type }, keyMap) : block;\n    }\n    const blockValue = \"value\" in block && block.value;\n    return keepObjectEquality(\n      { _key, _type, ...typeof blockValue == \"object\" ? blockValue : {} },\n      keyMap\n    );\n  });\n}\nfunction isEqualToEmptyEditor(children, schemaTypes) {\n  var _a;\n  return children === void 0 || children && Array.isArray(children) && children.length === 0 || children && Array.isArray(children) && children.length === 1 && slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(children[0]) && children[0]._type === schemaTypes.block.name && \"style\" in children[0] && children[0].style === schemaTypes.styles[0].value && !(\"listItem\" in children[0]) && Array.isArray(children[0].children) && children[0].children.length === 1 && slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(children[0].children[0]) && children[0].children[0]._type === \"span\" && !((_a = children[0].children[0].marks) != null && _a.join(\"\")) && children[0].children[0].text === \"\";\n}\nconst IS_PROCESSING_REMOTE_CHANGES = /* @__PURE__ */ new WeakMap(), IS_PROCESSING_LOCAL_CHANGES = /* @__PURE__ */ new WeakMap(), IS_DRAGGING = /* @__PURE__ */ new WeakMap(), IS_DRAGGING_BLOCK_ELEMENT = /* @__PURE__ */ new WeakMap(), IS_DRAGGING_ELEMENT_TARGET = /* @__PURE__ */ new WeakMap(), IS_DRAGGING_BLOCK_TARGET_POSITION = /* @__PURE__ */ new WeakMap(), KEY_TO_SLATE_ELEMENT = /* @__PURE__ */ new WeakMap(), KEY_TO_VALUE_ELEMENT = /* @__PURE__ */ new WeakMap(), SLATE_TO_PORTABLE_TEXT_RANGE = /* @__PURE__ */ new WeakMap(), DefaultObject = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"pre\", { children: JSON.stringify(props.value, null, 2) }) }), DefaultBlockObject = styled_components__WEBPACK_IMPORTED_MODULE_20__.styled.div`\n  user-select: none;\n  border: ${(props) => props.selected ? \"1px solid blue\" : \"1px solid transparent\"};\n`;\nstyled_components__WEBPACK_IMPORTED_MODULE_20__.styled.span`\n  background: #999;\n  border: ${(props) => props.selected ? \"1px solid blue\" : \"1px solid transparent\"};\n`;\nconst DefaultListItem = styled_components__WEBPACK_IMPORTED_MODULE_20__.styled.div`\n  &.pt-list-item {\n    width: fit-content;\n    position: relative;\n    display: block;\n\n    /* Important 'transform' in order to force refresh the ::before and ::after rules\n      in Webkit: https://stackoverflow.com/a/21947628/831480\n    */\n    transform: translateZ(0);\n    margin-left: ${(props) => getLeftPositionForListLevel(props.listLevel)};\n  }\n  &.pt-list-item > .pt-list-item-inner {\n    display: flex;\n    margin: 0;\n    padding: 0;\n    &:before {\n      justify-content: flex-start;\n      vertical-align: top;\n    }\n  }\n  &.pt-list-item-bullet > .pt-list-item-inner:before {\n      content: '${(props) => getContentForListLevelAndStyle(props.listLevel, props.listStyle)}';\n      font-size: 0.4375rem; /* 7px */\n      line-height: 1.5rem; /* Same as body text */\n      /* Optical alignment */\n      position: relative;\n    }\n  }\n  &.pt-list-item-bullet > .pt-list-item-inner {\n    &:before {\n      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */\n    }\n  }\n  &.pt-list-item-number {\n    counter-increment: ${(props) => getCounterIncrementForListLevel(props.listLevel)};\n    counter-reset: ${(props) => getCounterResetForListLevel(props.listLevel)};\n  }\n  & + :not(.pt-list-item-number) {\n    counter-reset: listItemNumber;\n  }\n  &.pt-list-item-number > .pt-list-item-inner:before {\n    content: ${(props) => getCounterContentForListLevel(props.listLevel)};\n    min-width: 1.5rem; /* Make sure space between number and text never shrinks */\n    /* Optical alignment */\n    position: relative;\n    top: 1px;\n  }\n`, DefaultListItemInner = styled_components__WEBPACK_IMPORTED_MODULE_20__.styled.div``;\nfunction getLeftPositionForListLevel(level) {\n  switch (Number(level)) {\n    case 1:\n      return \"1.5em\";\n    case 2:\n      return \"3em\";\n    case 3:\n      return \"4.5em\";\n    case 4:\n      return \"6em\";\n    case 5:\n      return \"7.5em\";\n    case 6:\n      return \"9em\";\n    case 7:\n      return \"10.5em\";\n    case 8:\n      return \"12em\";\n    case 9:\n      return \"13.5em\";\n    case 10:\n      return \"15em\";\n    default:\n      return \"0em\";\n  }\n}\nconst bullets = [\"\\u25CF\", \"\\u25CB\", \"\\u25A0\"];\nfunction getContentForListLevelAndStyle(level, style) {\n  const normalizedLevel = (level - 1) % 3;\n  return style === \"bullet\" ? bullets[normalizedLevel] : \"*\";\n}\nfunction getCounterIncrementForListLevel(level) {\n  switch (level) {\n    case 1:\n      return \"listItemNumber\";\n    case 2:\n      return \"listItemAlpha\";\n    case 3:\n      return \"listItemRoman\";\n    case 4:\n      return \"listItemNumberNext\";\n    case 5:\n      return \"listItemLetterNext\";\n    case 6:\n      return \"listItemRomanNext\";\n    case 7:\n      return \"listItemNumberNextNext\";\n    case 8:\n      return \"listItemAlphaNextNext\";\n    case 9:\n      return \"listItemRomanNextNext\";\n    default:\n      return \"listItemNumberNextNextNext\";\n  }\n}\nfunction getCounterResetForListLevel(level) {\n  switch (level) {\n    case 1:\n      return \"listItemAlpha\";\n    case 2:\n      return \"listItemRoman\";\n    case 3:\n      return \"listItemNumberNext\";\n    case 4:\n      return \"listItemLetterNext\";\n    case 5:\n      return \"listItemRomanNext\";\n    case 6:\n      return \"listItemNumberNextNext\";\n    case 7:\n      return \"listItemAlphaNextNext\";\n    case 8:\n      return \"listItemRomanNextNext\";\n    case 9:\n      return \"listItemNumberNextNextNext\";\n    default:\n      return \"listItemNumberNextNextNext\";\n  }\n}\nfunction getCounterContentForListLevel(level) {\n  switch (level) {\n    case 1:\n      return \"counter(listItemNumber) '. '\";\n    case 2:\n      return \"counter(listItemAlpha, lower-alpha) '. '\";\n    case 3:\n      return \"counter(listItemRoman, lower-roman) '. '\";\n    case 4:\n      return \"counter(listItemNumberNext) '. '\";\n    case 5:\n      return \"counter(listItemLetterNext, lower-alpha) '. '\";\n    case 6:\n      return \"counter(listItemRomanNext, lower-roman) '. '\";\n    case 7:\n      return \"counter(listItemNumberNextNext) '. '\";\n    case 8:\n      return \"counter(listItemAlphaNextNext, lower-alpha) '. '\";\n    case 9:\n      return \"counter(listItemRomanNextNext, lower-roman) '. '\";\n    default:\n      return \"counter(listItemNumberNextNextNext) '. '\";\n  }\n}\nconst debug$k = debugWithName(\"components:DraggableBlock\"), DraggableBlock = ({ children, element, readOnly, blockRef }) => {\n  const editor = (0,slate_react__WEBPACK_IMPORTED_MODULE_21__.useSlateStatic)(), dragGhostRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(), [isDragOver, setIsDragOver] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1), isVoid = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isVoid(editor, element), [editor, element]), isInline = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isInline(editor, element), [editor, element]), [blockElement, setBlockElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(\n    () => setBlockElement(blockRef ? blockRef.current : slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.toDOMNode(editor, element)),\n    [editor, element, blockRef]\n  );\n  const handleDragOver = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      const isMyDragOver = IS_DRAGGING_BLOCK_ELEMENT.get(editor);\n      if (!isMyDragOver || !blockElement)\n        return;\n      event.preventDefault(), event.dataTransfer.dropEffect = \"move\", IS_DRAGGING_ELEMENT_TARGET.set(editor, element);\n      const elementRect = blockElement.getBoundingClientRect(), offset = elementRect.top, height = elementRect.height, Y = event.pageY, loc = Math.abs(offset - Y);\n      let position = \"bottom\";\n      if (element === editor.children[0] ? position = \"top\" : loc < height / 2 ? (position = \"top\", IS_DRAGGING_BLOCK_TARGET_POSITION.set(editor, position)) : (position = \"bottom\", IS_DRAGGING_BLOCK_TARGET_POSITION.set(editor, position)), isMyDragOver === element) {\n        event.dataTransfer.dropEffect = \"none\";\n        return;\n      }\n      setIsDragOver(!0);\n    },\n    [blockElement, editor, element]\n  ), handleDragLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    setIsDragOver(!1);\n  }, []), handleDragEnd = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      const targetBlock = IS_DRAGGING_ELEMENT_TARGET.get(editor);\n      if (targetBlock) {\n        IS_DRAGGING.set(editor, !1), event.preventDefault(), event.stopPropagation(), IS_DRAGGING_ELEMENT_TARGET.delete(editor), dragGhostRef.current && (debug$k(\"Removing drag ghost\"), document.body.removeChild(dragGhostRef.current));\n        const dragPosition2 = IS_DRAGGING_BLOCK_TARGET_POSITION.get(editor);\n        IS_DRAGGING_BLOCK_TARGET_POSITION.delete(editor);\n        let targetPath = slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.findPath(editor, targetBlock);\n        const myPath = slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.findPath(editor, element), isBefore = slate__WEBPACK_IMPORTED_MODULE_18__.Path.isBefore(myPath, targetPath);\n        if (dragPosition2 === \"bottom\" && !isBefore) {\n          if (targetPath[0] >= editor.children.length - 1) {\n            debug$k(\"target is already at the bottom, not moving\");\n            return;\n          }\n          const originalPath = targetPath;\n          targetPath = slate__WEBPACK_IMPORTED_MODULE_18__.Path.next(targetPath), debug$k(\n            `Adjusting targetPath from ${JSON.stringify(originalPath)} to ${JSON.stringify(\n              targetPath\n            )}`\n          );\n        }\n        if (dragPosition2 === \"top\" && isBefore && targetPath[0] !== editor.children.length - 1) {\n          const originalPath = targetPath;\n          targetPath = slate__WEBPACK_IMPORTED_MODULE_18__.Path.previous(targetPath), debug$k(\n            `Adjusting targetPath from ${JSON.stringify(originalPath)} to ${JSON.stringify(\n              targetPath\n            )}`\n          );\n        }\n        if (slate__WEBPACK_IMPORTED_MODULE_18__.Path.equals(targetPath, myPath)) {\n          event.preventDefault(), debug$k(\"targetPath and myPath is the same, not moving\");\n          return;\n        }\n        debug$k(\n          `Moving element ${element._key} from path ${JSON.stringify(myPath)} to ${JSON.stringify(\n            targetPath\n          )} (${dragPosition2})`\n        ), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.moveNodes(editor, { at: myPath, to: targetPath }), editor.onChange();\n        return;\n      }\n      debug$k(\"No target element, not doing anything\");\n    },\n    [editor, element]\n  ), handleDrop = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      IS_DRAGGING_BLOCK_ELEMENT.get(editor) && (debug$k(\"On drop (prevented)\", element), event.preventDefault(), event.stopPropagation(), setIsDragOver(!1));\n    },\n    [editor, element]\n  ), handleDrag = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      if (!isVoid) {\n        IS_DRAGGING_BLOCK_ELEMENT.delete(editor);\n        return;\n      }\n      IS_DRAGGING.set(editor, !0), IS_DRAGGING_BLOCK_ELEMENT.set(editor, element), event.stopPropagation();\n      const target = event.target;\n      target instanceof HTMLElement && (target.style.opacity = \"1\");\n    },\n    [editor, element, isVoid]\n  ), handleDragStart = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      if (!isVoid || isInline) {\n        debug$k(\"Not dragging block\"), IS_DRAGGING_BLOCK_ELEMENT.delete(editor), IS_DRAGGING.set(editor, !1);\n        return;\n      }\n      if (debug$k(\"Drag start\"), IS_DRAGGING.set(editor, !0), event.dataTransfer && (event.dataTransfer.setData(\"application/portable-text\", \"something\"), event.dataTransfer.effectAllowed = \"move\"), blockElement && blockElement instanceof HTMLElement) {\n        let dragGhost = blockElement.cloneNode(!0);\n        const customGhost = dragGhost.querySelector(\"[data-pt-drag-ghost-element]\");\n        if (customGhost && (dragGhost = customGhost), dragGhost.setAttribute(\"data-dragged\", \"\"), document.body) {\n          dragGhostRef.current = dragGhost, dragGhost.style.position = \"absolute\", dragGhost.style.left = \"-99999px\", dragGhost.style.boxSizing = \"border-box\", document.body.appendChild(dragGhost);\n          const rect = blockElement.getBoundingClientRect(), x = event.clientX - rect.left, y = event.clientY - rect.top;\n          dragGhost.style.width = `${rect.width}px`, dragGhost.style.height = `${rect.height}px`, event.dataTransfer.setDragImage(dragGhost, x, y);\n        }\n      }\n      handleDrag(event);\n    },\n    [blockElement, editor, handleDrag, isInline, isVoid]\n  ), isDraggingOverFirstBlock = isDragOver && editor.children[0] === IS_DRAGGING_ELEMENT_TARGET.get(editor), isDraggingOverLastBlock = isDragOver && editor.children[editor.children.length - 1] === IS_DRAGGING_ELEMENT_TARGET.get(editor), dragPosition = IS_DRAGGING_BLOCK_TARGET_POSITION.get(editor), isDraggingOverTop = isDraggingOverFirstBlock || isDragOver && !isDraggingOverFirstBlock && !isDraggingOverLastBlock && dragPosition === \"top\", isDraggingOverBottom = isDraggingOverLastBlock || isDragOver && !isDraggingOverFirstBlock && !isDraggingOverLastBlock && dragPosition === \"bottom\", dropIndicator = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(\n    () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"div\",\n      {\n        className: \"pt-drop-indicator\",\n        style: {\n          position: \"absolute\",\n          width: \"100%\",\n          height: 1,\n          borderBottom: \"1px solid currentColor\",\n          zIndex: 5\n        }\n      }\n    ),\n    []\n  );\n  return readOnly ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    \"div\",\n    {\n      draggable: isVoid,\n      onDragStart: handleDragStart,\n      onDrag: handleDrag,\n      onDragOver: handleDragOver,\n      onDragLeave: handleDragLeave,\n      onDragEnd: handleDragEnd,\n      onDrop: handleDrop,\n      children: [\n        isDraggingOverTop && dropIndicator,\n        children,\n        isDraggingOverBottom && dropIndicator\n      ]\n    }\n  );\n};\ndebugWithName(\"components:Element\");\nconst EMPTY_ANNOTATIONS = [], inlineBlockStyle = { display: \"inline-block\" }, Element = ({\n  attributes,\n  children,\n  element,\n  schemaTypes,\n  readOnly,\n  renderBlock,\n  renderChild,\n  renderListItem,\n  renderStyle,\n  spellCheck\n}) => {\n  const editor = (0,slate_react__WEBPACK_IMPORTED_MODULE_21__.useSlateStatic)(), selected = (0,slate_react__WEBPACK_IMPORTED_MODULE_21__.useSelected)(), blockRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null), inlineBlockObjectRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null), focused = selected && editor.selection && slate__WEBPACK_IMPORTED_MODULE_18__.Range.isCollapsed(editor.selection) || !1, value = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(\n    () => fromSlateValue([element], schemaTypes.block.name, KEY_TO_VALUE_ELEMENT.get(editor))[0],\n    [editor, element, schemaTypes.block.name]\n  );\n  let renderedBlock = children, className;\n  const blockPath = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => [{ _key: element._key }], [element]);\n  if (typeof element._type != \"string\")\n    throw new Error(\"Expected element to have a _type property\");\n  if (typeof element._key != \"string\")\n    throw new Error(\"Expected element to have a _key property\");\n  if (editor.isInline(element)) {\n    const path = slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.findPath(editor, element), [block2] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, path, { depth: 1 }), schemaType2 = schemaTypes.inlineObjects.find((_type) => _type.name === element._type);\n    if (!schemaType2)\n      throw new Error(\"Could not find type for inline block element\");\n    if (slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(block2)) {\n      const elmPath = [{ _key: block2._key }, \"children\", { _key: element._key }];\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", { ...attributes, children: [\n        children,\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n          \"span\",\n          {\n            draggable: !readOnly,\n            className: \"pt-inline-object\",\n            \"data-testid\": \"pt-inline-object\",\n            ref: inlineBlockObjectRef,\n            style: inlineBlockStyle,\n            contentEditable: !1,\n            children: [\n              renderChild && renderChild({\n                annotations: EMPTY_ANNOTATIONS,\n                // These inline objects currently doesn't support annotations. This is a limitation of the current PT spec/model.\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DefaultObject, { value }),\n                editorElementRef: inlineBlockObjectRef,\n                focused,\n                path: elmPath,\n                schemaType: schemaType2,\n                selected,\n                type: schemaType2,\n                value\n              }),\n              !renderChild && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DefaultObject, { value })\n            ]\n          },\n          element._key\n        )\n      ] });\n    }\n    throw new Error(\"Block not found!\");\n  }\n  if (element._type === schemaTypes.block.name) {\n    className = \"pt-block pt-text-block\";\n    const isListItem = \"listItem\" in element, style = \"style\" in element && element.style || \"normal\";\n    className = `pt-block pt-text-block pt-text-block-style-${style}`;\n    const blockStyleType = schemaTypes.styles.find((item) => item.value === style);\n    renderStyle && blockStyleType && (renderedBlock = renderStyle({\n      block: element,\n      children,\n      focused,\n      selected,\n      value: style,\n      path: blockPath,\n      schemaType: blockStyleType,\n      editorElementRef: blockRef\n    }));\n    let level;\n    if (isListItem && (typeof element.level == \"number\" && (level = element.level), className += ` pt-list-item pt-list-item-${element.listItem} pt-list-item-level-${level || 1}`), editor.isListBlock(value) && isListItem && element.listItem) {\n      const listType = schemaTypes.lists.find((item) => item.value === element.listItem);\n      renderListItem && listType ? renderedBlock = renderListItem({\n        block: value,\n        children: renderedBlock,\n        focused,\n        selected,\n        value: element.listItem,\n        path: blockPath,\n        schemaType: listType,\n        level: value.level || 1,\n        editorElementRef: blockRef\n      }) : renderedBlock = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        DefaultListItem,\n        {\n          listStyle: value.listItem || schemaTypes.lists[0].value,\n          listLevel: value.level || 1,\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DefaultListItemInner, { children: renderedBlock })\n        }\n      );\n    }\n    const renderProps = Object.defineProperty(\n      {\n        children: renderedBlock,\n        editorElementRef: blockRef,\n        focused,\n        level,\n        listItem: isListItem ? element.listItem : void 0,\n        path: blockPath,\n        selected,\n        style,\n        schemaType: schemaTypes.block,\n        value\n      },\n      \"type\",\n      {\n        enumerable: !1,\n        get() {\n          return console.warn(\"Property 'type' is deprecated, use 'schemaType' instead.\"), schemaTypes.block;\n        }\n      }\n    ), propsOrDefaultRendered = renderBlock ? renderBlock(renderProps) : children;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ...attributes, className, spellCheck, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DraggableBlock, { element, readOnly, blockRef, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: blockRef, children: propsOrDefaultRendered }) }) }, element._key);\n  }\n  const schemaType = schemaTypes.blockObjects.find((_type) => _type.name === element._type);\n  if (!schemaType)\n    throw new Error(`Could not find schema type for block element of _type ${element._type}`);\n  className = \"pt-block pt-object-block\";\n  const block = fromSlateValue(\n    [element],\n    schemaTypes.block.name,\n    KEY_TO_VALUE_ELEMENT.get(editor)\n  )[0];\n  let renderedBlockFromProps;\n  if (renderBlock) {\n    const _props = Object.defineProperty(\n      {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DefaultObject, { value }),\n        editorElementRef: blockRef,\n        focused,\n        path: blockPath,\n        schemaType,\n        selected,\n        value: block\n      },\n      \"type\",\n      {\n        enumerable: !1,\n        get() {\n          return console.warn(\"Property 'type' is deprecated, use 'schemaType' instead.\"), schemaType;\n        }\n      }\n    );\n    renderedBlockFromProps = renderBlock(_props);\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { ...attributes, className, children: [\n    children,\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(DraggableBlock, { element, readOnly, blockRef, children: [\n      renderedBlockFromProps && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: blockRef, contentEditable: !1, children: renderedBlockFromProps }),\n      !renderedBlockFromProps && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DefaultBlockObject, { selected, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DefaultObject, { value }) })\n    ] })\n  ] }, element._key);\n}, PortableTextEditorContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null), usePortableTextEditor = () => {\n  const editor = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(PortableTextEditorContext);\n  if (!editor)\n    throw new Error(\n      \"The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.\"\n    );\n  return editor;\n};\nfunction DefaultAnnotation(props) {\n  const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => alert(JSON.stringify(props.annotation)), [props.annotation]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { style: { color: \"blue\" }, onClick: handleClick, children: props.children });\n}\nfunction getPortableTextMemberSchemaTypes(portableTextType) {\n  var _a, _b, _c;\n  if (!portableTextType)\n    throw new Error(\"Parameter 'portabletextType' missing (required)\");\n  const blockType = (_a = portableTextType.of) == null ? void 0 : _a.find(findBlockType);\n  if (!blockType)\n    throw new Error(\"Block type is not defined in this schema (required)\");\n  const childrenField = (_b = blockType.fields) == null ? void 0 : _b.find((field) => field.name === \"children\");\n  if (!childrenField)\n    throw new Error(\"Children field for block type found in schema (required)\");\n  const ofType = childrenField.type.of;\n  if (!ofType)\n    throw new Error(\"Valid types for block children not found in schema (required)\");\n  const spanType = ofType.find((memberType) => memberType.name === \"span\");\n  if (!spanType)\n    throw new Error(\"Span type not found in schema (required)\");\n  const inlineObjectTypes = ofType.filter((memberType) => memberType.name !== \"span\") || [], blockObjectTypes = ((_c = portableTextType.of) == null ? void 0 : _c.filter((field) => field.name !== blockType.name)) || [];\n  return {\n    styles: resolveEnabledStyles(blockType),\n    decorators: resolveEnabledDecorators(spanType),\n    lists: resolveEnabledListItems(blockType),\n    block: blockType,\n    span: spanType,\n    portableText: portableTextType,\n    inlineObjects: inlineObjectTypes,\n    blockObjects: blockObjectTypes,\n    annotations: spanType.annotations\n  };\n}\nfunction resolveEnabledStyles(blockType) {\n  var _a, _b, _c;\n  const styleField = (_a = blockType.fields) == null ? void 0 : _a.find((btField) => btField.name === \"style\");\n  if (!styleField)\n    throw new Error(\"A field with name 'style' is not defined in the block type (required).\");\n  const textStyles = ((_b = styleField.type.options) == null ? void 0 : _b.list) && ((_c = styleField.type.options.list) == null ? void 0 : _c.filter((style) => style.value));\n  if (!textStyles || textStyles.length === 0)\n    throw new Error(\n      \"The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.\"\n    );\n  return textStyles;\n}\nfunction resolveEnabledDecorators(spanType) {\n  return spanType.decorators;\n}\nfunction resolveEnabledListItems(blockType) {\n  var _a, _b;\n  const listField = (_a = blockType.fields) == null ? void 0 : _a.find((btField) => btField.name === \"listItem\");\n  if (!listField)\n    throw new Error(\"A field with name 'listItem' is not defined in the block type (required).\");\n  const listItems = ((_b = listField.type.options) == null ? void 0 : _b.list) && listField.type.options.list.filter((list) => list.value);\n  if (!listItems)\n    throw new Error(\"The list field need at least to be an empty array\");\n  return listItems;\n}\nfunction findBlockType(type) {\n  return type.type ? findBlockType(type.type) : type.name === \"block\" ? type : null;\n}\nfunction compileType(rawType) {\n  return _sanity_schema__WEBPACK_IMPORTED_MODULE_22__.Schema.compile({\n    name: \"blockTypeSchema\",\n    types: [rawType]\n  }).get(rawType.name);\n}\nfunction isHighSurrogate(char) {\n  const charCode = char.charCodeAt(0);\n  return charCode >= 55296 && charCode <= 56319;\n}\nfunction isLowSurrogate(char) {\n  const charCode = char.charCodeAt(0);\n  return charCode >= 56320 && charCode <= 57343;\n}\nfunction cloneDiff(diff2) {\n  const [type, patch] = diff2;\n  return [type, patch];\n}\nfunction getCommonOverlap(textA, textB) {\n  let text1 = textA, text2 = textB;\n  const text1Length = text1.length, text2Length = text2.length;\n  if (text1Length === 0 || text2Length === 0)\n    return 0;\n  text1Length > text2Length ? text1 = text1.substring(text1Length - text2Length) : text1Length < text2Length && (text2 = text2.substring(0, text1Length));\n  const textLength = Math.min(text1Length, text2Length);\n  if (text1 === text2)\n    return textLength;\n  let best = 0, length = 1;\n  for (let found = 0; found !== -1; ) {\n    const pattern = text1.substring(textLength - length);\n    if (found = text2.indexOf(pattern), found === -1)\n      return best;\n    length += found, (found === 0 || text1.substring(textLength - length) === text2.substring(0, length)) && (best = length, length++);\n  }\n  return best;\n}\nfunction getCommonPrefix(text1, text2) {\n  if (!text1 || !text2 || text1[0] !== text2[0])\n    return 0;\n  let pointerMin = 0, pointerMax = Math.min(text1.length, text2.length), pointerMid = pointerMax, pointerStart = 0;\n  for (; pointerMin < pointerMid; )\n    text1.substring(pointerStart, pointerMid) === text2.substring(pointerStart, pointerMid) ? (pointerMin = pointerMid, pointerStart = pointerMin) : pointerMax = pointerMid, pointerMid = Math.floor((pointerMax - pointerMin) / 2 + pointerMin);\n  return pointerMid;\n}\nfunction getCommonSuffix(text1, text2) {\n  if (!text1 || !text2 || text1[text1.length - 1] !== text2[text2.length - 1])\n    return 0;\n  let pointerMin = 0, pointerMax = Math.min(text1.length, text2.length), pointerMid = pointerMax, pointerEnd = 0;\n  for (; pointerMin < pointerMid; )\n    text1.substring(text1.length - pointerMid, text1.length - pointerEnd) === text2.substring(text2.length - pointerMid, text2.length - pointerEnd) ? (pointerMin = pointerMid, pointerEnd = pointerMin) : pointerMax = pointerMid, pointerMid = Math.floor((pointerMax - pointerMin) / 2 + pointerMin);\n  return pointerMid;\n}\nfunction cleanupSemantic(rawDiffs) {\n  let diffs = rawDiffs.map((diff2) => cloneDiff(diff2)), hasChanges = !1;\n  const equalities = [];\n  let equalitiesLength = 0, lastEquality = null, pointer = 0, lengthInsertions1 = 0, lengthDeletions1 = 0, lengthInsertions2 = 0, lengthDeletions2 = 0;\n  for (; pointer < diffs.length; )\n    diffs[pointer][0] === DIFF_EQUAL ? (equalities[equalitiesLength++] = pointer, lengthInsertions1 = lengthInsertions2, lengthDeletions1 = lengthDeletions2, lengthInsertions2 = 0, lengthDeletions2 = 0, lastEquality = diffs[pointer][1]) : (diffs[pointer][0] === DIFF_INSERT ? lengthInsertions2 += diffs[pointer][1].length : lengthDeletions2 += diffs[pointer][1].length, lastEquality && lastEquality.length <= Math.max(lengthInsertions1, lengthDeletions1) && lastEquality.length <= Math.max(lengthInsertions2, lengthDeletions2) && (diffs.splice(equalities[equalitiesLength - 1], 0, [DIFF_DELETE, lastEquality]), diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT, equalitiesLength--, equalitiesLength--, pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1, lengthInsertions1 = 0, lengthDeletions1 = 0, lengthInsertions2 = 0, lengthDeletions2 = 0, lastEquality = null, hasChanges = !0)), pointer++;\n  for (hasChanges && (diffs = cleanupMerge(diffs)), diffs = cleanupSemanticLossless(diffs), pointer = 1; pointer < diffs.length; ) {\n    if (diffs[pointer - 1][0] === DIFF_DELETE && diffs[pointer][0] === DIFF_INSERT) {\n      const deletion = diffs[pointer - 1][1], insertion = diffs[pointer][1], overlapLength1 = getCommonOverlap(deletion, insertion), overlapLength2 = getCommonOverlap(insertion, deletion);\n      overlapLength1 >= overlapLength2 ? (overlapLength1 >= deletion.length / 2 || overlapLength1 >= insertion.length / 2) && (diffs.splice(pointer, 0, [DIFF_EQUAL, insertion.substring(0, overlapLength1)]), diffs[pointer - 1][1] = deletion.substring(0, deletion.length - overlapLength1), diffs[pointer + 1][1] = insertion.substring(overlapLength1), pointer++) : (overlapLength2 >= deletion.length / 2 || overlapLength2 >= insertion.length / 2) && (diffs.splice(pointer, 0, [DIFF_EQUAL, deletion.substring(0, overlapLength2)]), diffs[pointer - 1][0] = DIFF_INSERT, diffs[pointer - 1][1] = insertion.substring(0, insertion.length - overlapLength2), diffs[pointer + 1][0] = DIFF_DELETE, diffs[pointer + 1][1] = deletion.substring(overlapLength2), pointer++), pointer++;\n    }\n    pointer++;\n  }\n  return diffs;\n}\nconst nonAlphaNumericRegex = /[^a-zA-Z0-9]/, whitespaceRegex = /\\s/, linebreakRegex = /[\\r\\n]/, blanklineEndRegex = /\\n\\r?\\n$/, blanklineStartRegex = /^\\r?\\n\\r?\\n/;\nfunction cleanupSemanticLossless(rawDiffs) {\n  const diffs = rawDiffs.map((diff2) => cloneDiff(diff2));\n  function diffCleanupSemanticScore(one, two) {\n    if (!one || !two)\n      return 6;\n    const char1 = one.charAt(one.length - 1), char2 = two.charAt(0), nonAlphaNumeric1 = char1.match(nonAlphaNumericRegex), nonAlphaNumeric2 = char2.match(nonAlphaNumericRegex), whitespace1 = nonAlphaNumeric1 && char1.match(whitespaceRegex), whitespace2 = nonAlphaNumeric2 && char2.match(whitespaceRegex), lineBreak1 = whitespace1 && char1.match(linebreakRegex), lineBreak2 = whitespace2 && char2.match(linebreakRegex), blankLine1 = lineBreak1 && one.match(blanklineEndRegex), blankLine2 = lineBreak2 && two.match(blanklineStartRegex);\n    return blankLine1 || blankLine2 ? 5 : lineBreak1 || lineBreak2 ? 4 : nonAlphaNumeric1 && !whitespace1 && whitespace2 ? 3 : whitespace1 || whitespace2 ? 2 : nonAlphaNumeric1 || nonAlphaNumeric2 ? 1 : 0;\n  }\n  let pointer = 1;\n  for (; pointer < diffs.length - 1; ) {\n    if (diffs[pointer - 1][0] === DIFF_EQUAL && diffs[pointer + 1][0] === DIFF_EQUAL) {\n      let equality1 = diffs[pointer - 1][1], edit = diffs[pointer][1], equality2 = diffs[pointer + 1][1];\n      const commonOffset = getCommonSuffix(equality1, edit);\n      if (commonOffset) {\n        const commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset), edit = commonString + edit.substring(0, edit.length - commonOffset), equality2 = commonString + equality2;\n      }\n      let bestEquality1 = equality1, bestEdit = edit, bestEquality2 = equality2, bestScore = diffCleanupSemanticScore(equality1, edit) + diffCleanupSemanticScore(edit, equality2);\n      for (; edit.charAt(0) === equality2.charAt(0); ) {\n        equality1 += edit.charAt(0), edit = edit.substring(1) + equality2.charAt(0), equality2 = equality2.substring(1);\n        const score = diffCleanupSemanticScore(equality1, edit) + diffCleanupSemanticScore(edit, equality2);\n        score >= bestScore && (bestScore = score, bestEquality1 = equality1, bestEdit = edit, bestEquality2 = equality2);\n      }\n      diffs[pointer - 1][1] !== bestEquality1 && (bestEquality1 ? diffs[pointer - 1][1] = bestEquality1 : (diffs.splice(pointer - 1, 1), pointer--), diffs[pointer][1] = bestEdit, bestEquality2 ? diffs[pointer + 1][1] = bestEquality2 : (diffs.splice(pointer + 1, 1), pointer--));\n    }\n    pointer++;\n  }\n  return diffs;\n}\nfunction cleanupMerge(rawDiffs) {\n  let diffs = rawDiffs.map((diff2) => cloneDiff(diff2));\n  diffs.push([DIFF_EQUAL, \"\"]);\n  let pointer = 0, countDelete = 0, countInsert = 0, textDelete = \"\", textInsert = \"\", commonlength;\n  for (; pointer < diffs.length; )\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        countInsert++, textInsert += diffs[pointer][1], pointer++;\n        break;\n      case DIFF_DELETE:\n        countDelete++, textDelete += diffs[pointer][1], pointer++;\n        break;\n      case DIFF_EQUAL:\n        countDelete + countInsert > 1 ? (countDelete !== 0 && countInsert !== 0 && (commonlength = getCommonPrefix(textInsert, textDelete), commonlength !== 0 && (pointer - countDelete - countInsert > 0 && diffs[pointer - countDelete - countInsert - 1][0] === DIFF_EQUAL ? diffs[pointer - countDelete - countInsert - 1][1] += textInsert.substring(0, commonlength) : (diffs.splice(0, 0, [DIFF_EQUAL, textInsert.substring(0, commonlength)]), pointer++), textInsert = textInsert.substring(commonlength), textDelete = textDelete.substring(commonlength)), commonlength = getCommonSuffix(textInsert, textDelete), commonlength !== 0 && (diffs[pointer][1] = textInsert.substring(textInsert.length - commonlength) + diffs[pointer][1], textInsert = textInsert.substring(0, textInsert.length - commonlength), textDelete = textDelete.substring(0, textDelete.length - commonlength))), pointer -= countDelete + countInsert, diffs.splice(pointer, countDelete + countInsert), textDelete.length && (diffs.splice(pointer, 0, [DIFF_DELETE, textDelete]), pointer++), textInsert.length && (diffs.splice(pointer, 0, [DIFF_INSERT, textInsert]), pointer++), pointer++) : pointer !== 0 && diffs[pointer - 1][0] === DIFF_EQUAL ? (diffs[pointer - 1][1] += diffs[pointer][1], diffs.splice(pointer, 1)) : pointer++, countInsert = 0, countDelete = 0, textDelete = \"\", textInsert = \"\";\n        break;\n      default:\n        throw new Error(\"Unknown diff operation\");\n    }\n  diffs[diffs.length - 1][1] === \"\" && diffs.pop();\n  let hasChanges = !1;\n  for (pointer = 1; pointer < diffs.length - 1; )\n    diffs[pointer - 1][0] === DIFF_EQUAL && diffs[pointer + 1][0] === DIFF_EQUAL && (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) === diffs[pointer - 1][1] ? (diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length), diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1], diffs.splice(pointer - 1, 1), hasChanges = !0) : diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) === diffs[pointer + 1][1] && (diffs[pointer - 1][1] += diffs[pointer + 1][1], diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1], diffs.splice(pointer + 1, 1), hasChanges = !0)), pointer++;\n  return hasChanges && (diffs = cleanupMerge(diffs)), diffs;\n}\nfunction trueCount() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++)\n    args[_key] = arguments[_key];\n  return args.reduce((n, bool) => n + (bool ? 1 : 0), 0);\n}\nfunction cleanupEfficiency(rawDiffs) {\n  let editCost = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 4, diffs = rawDiffs.map((diff2) => cloneDiff(diff2)), hasChanges = !1;\n  const equalities = [];\n  let equalitiesLength = 0, lastEquality = null, pointer = 0, preIns = !1, preDel = !1, postIns = !1, postDel = !1;\n  for (; pointer < diffs.length; )\n    diffs[pointer][0] === DIFF_EQUAL ? (diffs[pointer][1].length < editCost && (postIns || postDel) ? (equalities[equalitiesLength++] = pointer, preIns = postIns, preDel = postDel, lastEquality = diffs[pointer][1]) : (equalitiesLength = 0, lastEquality = null), postIns = !1, postDel = !1) : (diffs[pointer][0] === DIFF_DELETE ? postDel = !0 : postIns = !0, lastEquality && (preIns && preDel && postIns && postDel || lastEquality.length < editCost / 2 && trueCount(preIns, preDel, postIns, postDel) === 3) && (diffs.splice(equalities[equalitiesLength - 1], 0, [DIFF_DELETE, lastEquality]), diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT, equalitiesLength--, lastEquality = null, preIns && preDel ? (postIns = !0, postDel = !0, equalitiesLength = 0) : (equalitiesLength--, pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1, postIns = !1, postDel = !1), hasChanges = !0)), pointer++;\n  return hasChanges && (diffs = cleanupMerge(diffs)), diffs;\n}\nfunction bisect(text1, text2, deadline) {\n  const text1Length = text1.length, text2Length = text2.length, maxD = Math.ceil((text1Length + text2Length) / 2), vOffset = maxD, vLength = 2 * maxD, v1 = new Array(vLength), v2 = new Array(vLength);\n  for (let x = 0; x < vLength; x++)\n    v1[x] = -1, v2[x] = -1;\n  v1[vOffset + 1] = 0, v2[vOffset + 1] = 0;\n  const delta = text1Length - text2Length, front = delta % 2 !== 0;\n  let k1start = 0, k1end = 0, k2start = 0, k2end = 0;\n  for (let d = 0; d < maxD && !(Date.now() > deadline); d++) {\n    for (let k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      const k1Offset = vOffset + k1;\n      let x1;\n      k1 === -d || k1 !== d && v1[k1Offset - 1] < v1[k1Offset + 1] ? x1 = v1[k1Offset + 1] : x1 = v1[k1Offset - 1] + 1;\n      let y1 = x1 - k1;\n      for (; x1 < text1Length && y1 < text2Length && text1.charAt(x1) === text2.charAt(y1); )\n        x1++, y1++;\n      if (v1[k1Offset] = x1, x1 > text1Length)\n        k1end += 2;\n      else if (y1 > text2Length)\n        k1start += 2;\n      else if (front) {\n        const k2Offset = vOffset + delta - k1;\n        if (k2Offset >= 0 && k2Offset < vLength && v2[k2Offset] !== -1) {\n          const x2 = text1Length - v2[k2Offset];\n          if (x1 >= x2)\n            return bisectSplit(text1, text2, x1, y1, deadline);\n        }\n      }\n    }\n    for (let k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      const k2Offset = vOffset + k2;\n      let x2;\n      k2 === -d || k2 !== d && v2[k2Offset - 1] < v2[k2Offset + 1] ? x2 = v2[k2Offset + 1] : x2 = v2[k2Offset - 1] + 1;\n      let y2 = x2 - k2;\n      for (; x2 < text1Length && y2 < text2Length && text1.charAt(text1Length - x2 - 1) === text2.charAt(text2Length - y2 - 1); )\n        x2++, y2++;\n      if (v2[k2Offset] = x2, x2 > text1Length)\n        k2end += 2;\n      else if (y2 > text2Length)\n        k2start += 2;\n      else if (!front) {\n        const k1Offset = vOffset + delta - k2;\n        if (k1Offset >= 0 && k1Offset < vLength && v1[k1Offset] !== -1) {\n          const x1 = v1[k1Offset], y1 = vOffset + x1 - k1Offset;\n          if (x2 = text1Length - x2, x1 >= x2)\n            return bisectSplit(text1, text2, x1, y1, deadline);\n        }\n      }\n    }\n  }\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n}\nfunction bisectSplit(text1, text2, x, y, deadline) {\n  const text1a = text1.substring(0, x), text2a = text2.substring(0, y), text1b = text1.substring(x), text2b = text2.substring(y), diffs = doDiff(text1a, text2a, {\n    checkLines: !1,\n    deadline\n  }), diffsb = doDiff(text1b, text2b, {\n    checkLines: !1,\n    deadline\n  });\n  return diffs.concat(diffsb);\n}\nfunction findHalfMatch(text1, text2) {\n  if ((arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1) <= 0)\n    return null;\n  const longText = text1.length > text2.length ? text1 : text2, shortText = text1.length > text2.length ? text2 : text1;\n  if (longText.length < 4 || shortText.length * 2 < longText.length)\n    return null;\n  const halfMatch1 = halfMatchI(longText, shortText, Math.ceil(longText.length / 4)), halfMatch2 = halfMatchI(longText, shortText, Math.ceil(longText.length / 2));\n  let halfMatch;\n  if (halfMatch1 && halfMatch2)\n    halfMatch = halfMatch1[4].length > halfMatch2[4].length ? halfMatch1 : halfMatch2;\n  else {\n    if (!halfMatch1 && !halfMatch2)\n      return null;\n    halfMatch2 ? halfMatch1 || (halfMatch = halfMatch2) : halfMatch = halfMatch1;\n  }\n  if (!halfMatch)\n    throw new Error(\"Unable to find a half match.\");\n  let text1A, text1B, text2A, text2B;\n  text1.length > text2.length ? (text1A = halfMatch[0], text1B = halfMatch[1], text2A = halfMatch[2], text2B = halfMatch[3]) : (text2A = halfMatch[0], text2B = halfMatch[1], text1A = halfMatch[2], text1B = halfMatch[3]);\n  const midCommon = halfMatch[4];\n  return [text1A, text1B, text2A, text2B, midCommon];\n}\nfunction halfMatchI(longText, shortText, i) {\n  const seed = longText.slice(i, i + Math.floor(longText.length / 4));\n  let j = -1, bestCommon = \"\", bestLongTextA, bestLongTextB, bestShortTextA, bestShortTextB;\n  for (; (j = shortText.indexOf(seed, j + 1)) !== -1; ) {\n    const prefixLength = getCommonPrefix(longText.slice(i), shortText.slice(j)), suffixLength = getCommonSuffix(longText.slice(0, i), shortText.slice(0, j));\n    bestCommon.length < suffixLength + prefixLength && (bestCommon = shortText.slice(j - suffixLength, j) + shortText.slice(j, j + prefixLength), bestLongTextA = longText.slice(0, i - suffixLength), bestLongTextB = longText.slice(i + prefixLength), bestShortTextA = shortText.slice(0, j - suffixLength), bestShortTextB = shortText.slice(j + prefixLength));\n  }\n  return bestCommon.length * 2 >= longText.length ? [bestLongTextA || \"\", bestLongTextB || \"\", bestShortTextA || \"\", bestShortTextB || \"\", bestCommon || \"\"] : null;\n}\nfunction charsToLines(diffs, lineArray) {\n  for (let x = 0; x < diffs.length; x++) {\n    const chars = diffs[x][1], text = [];\n    for (let y = 0; y < chars.length; y++)\n      text[y] = lineArray[chars.charCodeAt(y)];\n    diffs[x][1] = text.join(\"\");\n  }\n}\nfunction linesToChars(textA, textB) {\n  const lineArray = [], lineHash = {};\n  lineArray[0] = \"\";\n  function diffLinesToMunge(text) {\n    let chars = \"\", lineStart = 0, lineEnd = -1, lineArrayLength = lineArray.length;\n    for (; lineEnd < text.length - 1; ) {\n      lineEnd = text.indexOf(`\n`, lineStart), lineEnd === -1 && (lineEnd = text.length - 1);\n      let line = text.slice(lineStart, lineEnd + 1);\n      (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) : lineHash[line] !== void 0) ? chars += String.fromCharCode(lineHash[line]) : (lineArrayLength === maxLines && (line = text.slice(lineStart), lineEnd = text.length), chars += String.fromCharCode(lineArrayLength), lineHash[line] = lineArrayLength, lineArray[lineArrayLength++] = line), lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  let maxLines = 4e4;\n  const chars1 = diffLinesToMunge(textA);\n  maxLines = 65535;\n  const chars2 = diffLinesToMunge(textB);\n  return {\n    chars1,\n    chars2,\n    lineArray\n  };\n}\nfunction doLineModeDiff(textA, textB, opts) {\n  let text1 = textA, text2 = textB;\n  const a = linesToChars(text1, text2);\n  text1 = a.chars1, text2 = a.chars2;\n  const linearray = a.lineArray;\n  let diffs = doDiff(text1, text2, {\n    checkLines: !1,\n    deadline: opts.deadline\n  });\n  charsToLines(diffs, linearray), diffs = cleanupSemantic(diffs), diffs.push([DIFF_EQUAL, \"\"]);\n  let pointer = 0, countDelete = 0, countInsert = 0, textDelete = \"\", textInsert = \"\";\n  for (; pointer < diffs.length; ) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        countInsert++, textInsert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        countDelete++, textDelete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        if (countDelete >= 1 && countInsert >= 1) {\n          diffs.splice(pointer - countDelete - countInsert, countDelete + countInsert), pointer = pointer - countDelete - countInsert;\n          const aa = doDiff(textDelete, textInsert, {\n            checkLines: !1,\n            deadline: opts.deadline\n          });\n          for (let j = aa.length - 1; j >= 0; j--)\n            diffs.splice(pointer, 0, aa[j]);\n          pointer += aa.length;\n        }\n        countInsert = 0, countDelete = 0, textDelete = \"\", textInsert = \"\";\n        break;\n      default:\n        throw new Error(\"Unknown diff operation.\");\n    }\n    pointer++;\n  }\n  return diffs.pop(), diffs;\n}\nfunction computeDiff(text1, text2, opts) {\n  let diffs;\n  if (!text1)\n    return [[DIFF_INSERT, text2]];\n  if (!text2)\n    return [[DIFF_DELETE, text1]];\n  const longtext = text1.length > text2.length ? text1 : text2, shorttext = text1.length > text2.length ? text2 : text1, i = longtext.indexOf(shorttext);\n  if (i !== -1)\n    return diffs = [[DIFF_INSERT, longtext.substring(0, i)], [DIFF_EQUAL, shorttext], [DIFF_INSERT, longtext.substring(i + shorttext.length)]], text1.length > text2.length && (diffs[0][0] = DIFF_DELETE, diffs[2][0] = DIFF_DELETE), diffs;\n  if (shorttext.length === 1)\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  const halfMatch = findHalfMatch(text1, text2);\n  if (halfMatch) {\n    const text1A = halfMatch[0], text1B = halfMatch[1], text2A = halfMatch[2], text2B = halfMatch[3], midCommon = halfMatch[4], diffsA = doDiff(text1A, text2A, opts), diffsB = doDiff(text1B, text2B, opts);\n    return diffsA.concat([[DIFF_EQUAL, midCommon]], diffsB);\n  }\n  return opts.checkLines && text1.length > 100 && text2.length > 100 ? doLineModeDiff(text1, text2, opts) : bisect(text1, text2, opts.deadline);\n}\nconst DIFF_DELETE = -1, DIFF_INSERT = 1, DIFF_EQUAL = 0;\nfunction diff(textA, textB, opts) {\n  if (textA === null || textB === null)\n    throw new Error(\"Null input. (diff)\");\n  const diffs = doDiff(textA, textB, createInternalOpts(opts || {}));\n  return adjustDiffForSurrogatePairs(diffs), diffs;\n}\nfunction doDiff(textA, textB, options) {\n  let text1 = textA, text2 = textB;\n  if (text1 === text2)\n    return text1 ? [[DIFF_EQUAL, text1]] : [];\n  let commonlength = getCommonPrefix(text1, text2);\n  const commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength), text2 = text2.substring(commonlength), commonlength = getCommonSuffix(text1, text2);\n  const commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength), text2 = text2.substring(0, text2.length - commonlength);\n  let diffs = computeDiff(text1, text2, options);\n  return commonprefix && diffs.unshift([DIFF_EQUAL, commonprefix]), commonsuffix && diffs.push([DIFF_EQUAL, commonsuffix]), diffs = cleanupMerge(diffs), diffs;\n}\nfunction createDeadLine(timeout) {\n  let t = 1;\n  return typeof timeout < \"u\" && (t = timeout <= 0 ? Number.MAX_VALUE : timeout), Date.now() + t * 1e3;\n}\nfunction createInternalOpts(opts) {\n  return {\n    checkLines: !0,\n    deadline: createDeadLine(opts.timeout || 1),\n    ...opts\n  };\n}\nfunction combineChar(data, char, dir) {\n  return dir === 1 ? data + char : char + data;\n}\nfunction splitChar(data, dir) {\n  return dir === 1 ? [data.substring(0, data.length - 1), data[data.length - 1]] : [data.substring(1), data[0]];\n}\nfunction hasSharedChar(diffs, i, j, dir) {\n  return dir === 1 ? diffs[i][1][diffs[i][1].length - 1] === diffs[j][1][diffs[j][1].length - 1] : diffs[i][1][0] === diffs[j][1][0];\n}\nfunction deisolateChar(diffs, i, dir) {\n  const inv = dir === 1 ? -1 : 1;\n  let insertIdx = null, deleteIdx = null, j = i + dir;\n  for (; j >= 0 && j < diffs.length && (insertIdx === null || deleteIdx === null); j += dir) {\n    const [op, text2] = diffs[j];\n    if (text2.length !== 0) {\n      if (op === DIFF_INSERT) {\n        insertIdx === null && (insertIdx = j);\n        continue;\n      } else if (op === DIFF_DELETE) {\n        deleteIdx === null && (deleteIdx = j);\n        continue;\n      } else if (op === DIFF_EQUAL) {\n        if (insertIdx === null && deleteIdx === null) {\n          const [rest, char2] = splitChar(diffs[i][1], dir);\n          diffs[i][1] = rest, diffs[j][1] = combineChar(diffs[j][1], char2, inv);\n          return;\n        }\n        break;\n      }\n    }\n  }\n  if (insertIdx !== null && deleteIdx !== null && hasSharedChar(diffs, insertIdx, deleteIdx, dir)) {\n    const [insertText, insertChar] = splitChar(diffs[insertIdx][1], inv), [deleteText] = splitChar(diffs[deleteIdx][1], inv);\n    diffs[insertIdx][1] = insertText, diffs[deleteIdx][1] = deleteText, diffs[i][1] = combineChar(diffs[i][1], insertChar, dir);\n    return;\n  }\n  const [text, char] = splitChar(diffs[i][1], dir);\n  diffs[i][1] = text, insertIdx === null ? (diffs.splice(j, 0, [DIFF_INSERT, char]), deleteIdx !== null && deleteIdx >= j && deleteIdx++) : diffs[insertIdx][1] = combineChar(diffs[insertIdx][1], char, inv), deleteIdx === null ? diffs.splice(j, 0, [DIFF_DELETE, char]) : diffs[deleteIdx][1] = combineChar(diffs[deleteIdx][1], char, inv);\n}\nfunction adjustDiffForSurrogatePairs(diffs) {\n  for (let i = 0; i < diffs.length; i++) {\n    const [diffType, diffText] = diffs[i];\n    if (diffText.length === 0) continue;\n    const firstChar = diffText[0], lastChar = diffText[diffText.length - 1];\n    isHighSurrogate(lastChar) && diffType === DIFF_EQUAL && deisolateChar(diffs, i, 1), isLowSurrogate(firstChar) && diffType === DIFF_EQUAL && deisolateChar(diffs, i, -1);\n  }\n  for (let i = 0; i < diffs.length; i++)\n    diffs[i][1].length === 0 && diffs.splice(i, 1);\n}\nconst DEFAULT_OPTIONS = {\n  /**\n   * At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n   */\n  threshold: 0.5,\n  /**\n   * How far to search for a match (0 = exact location, 1000+ = broad match).\n   * A match this many characters away from the expected location will add\n   * 1.0 to the score (0.0 is a perfect match).\n   */\n  distance: 1e3\n};\nfunction applyDefaults(options) {\n  return {\n    ...DEFAULT_OPTIONS,\n    ...options\n  };\n}\nconst MAX_BITS$1 = 32;\nfunction bitap(text, pattern, loc) {\n  let opts = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n  if (pattern.length > MAX_BITS$1)\n    throw new Error(\"Pattern too long for this browser.\");\n  const options = applyDefaults(opts), s = getAlphabetFromPattern(pattern);\n  function getBitapScore(e, x) {\n    const accuracy = e / pattern.length, proximity = Math.abs(loc - x);\n    return options.distance ? accuracy + proximity / options.distance : proximity ? 1 : accuracy;\n  }\n  let scoreThreshold = options.threshold, bestLoc = text.indexOf(pattern, loc);\n  bestLoc !== -1 && (scoreThreshold = Math.min(getBitapScore(0, bestLoc), scoreThreshold), bestLoc = text.lastIndexOf(pattern, loc + pattern.length), bestLoc !== -1 && (scoreThreshold = Math.min(getBitapScore(0, bestLoc), scoreThreshold)));\n  const matchmask = 1 << pattern.length - 1;\n  bestLoc = -1;\n  let binMin, binMid, binMax = pattern.length + text.length, lastRd = [];\n  for (let d = 0; d < pattern.length; d++) {\n    for (binMin = 0, binMid = binMax; binMin < binMid; )\n      getBitapScore(d, loc + binMid) <= scoreThreshold ? binMin = binMid : binMax = binMid, binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    binMax = binMid;\n    let start = Math.max(1, loc - binMid + 1);\n    const finish = Math.min(loc + binMid, text.length) + pattern.length, rd = new Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (let j = finish; j >= start; j--) {\n      const charMatch = s[text.charAt(j - 1)];\n      if (d === 0 ? rd[j] = (rd[j + 1] << 1 | 1) & charMatch : rd[j] = (rd[j + 1] << 1 | 1) & charMatch | ((lastRd[j + 1] | lastRd[j]) << 1 | 1) | lastRd[j + 1], rd[j] & matchmask) {\n        const score = getBitapScore(d, j - 1);\n        if (score <= scoreThreshold)\n          if (scoreThreshold = score, bestLoc = j - 1, bestLoc > loc)\n            start = Math.max(1, 2 * loc - bestLoc);\n          else\n            break;\n      }\n    }\n    if (getBitapScore(d + 1, loc) > scoreThreshold)\n      break;\n    lastRd = rd;\n  }\n  return bestLoc;\n}\nfunction getAlphabetFromPattern(pattern) {\n  const s = {};\n  for (let i = 0; i < pattern.length; i++)\n    s[pattern.charAt(i)] = 0;\n  for (let i = 0; i < pattern.length; i++)\n    s[pattern.charAt(i)] |= 1 << pattern.length - i - 1;\n  return s;\n}\nfunction match(text, pattern, searchLocation) {\n  if (text === null || pattern === null || searchLocation === null)\n    throw new Error(\"Null input. (match())\");\n  const loc = Math.max(0, Math.min(searchLocation, text.length));\n  if (text === pattern)\n    return 0;\n  if (text.length) {\n    if (text.substring(loc, loc + pattern.length) === pattern)\n      return loc;\n  } else return -1;\n  return bitap(text, pattern, loc);\n}\nfunction createPatchObject(start1, start2) {\n  return {\n    diffs: [],\n    start1,\n    start2,\n    utf8Start1: start1,\n    utf8Start2: start2,\n    length1: 0,\n    length2: 0,\n    utf8Length1: 0,\n    utf8Length2: 0\n  };\n}\nfunction diffText1(diffs) {\n  const text = [];\n  for (let x = 0; x < diffs.length; x++)\n    diffs[x][0] !== DIFF_INSERT && (text[x] = diffs[x][1]);\n  return text.join(\"\");\n}\nfunction diffText2(diffs) {\n  const text = [];\n  for (let x = 0; x < diffs.length; x++)\n    diffs[x][0] !== DIFF_DELETE && (text[x] = diffs[x][1]);\n  return text.join(\"\");\n}\nfunction countUtf8Bytes(str) {\n  let bytes = 0;\n  for (let i = 0; i < str.length; i++) {\n    const codePoint = str.codePointAt(i);\n    if (typeof codePoint > \"u\")\n      throw new Error(\"Failed to get codepoint\");\n    bytes += utf8len(codePoint);\n  }\n  return bytes;\n}\nfunction adjustIndiciesToUcs2(patches, base) {\n  let options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, byteOffset = 0, idx = 0;\n  function advanceTo(target) {\n    for (; byteOffset < target; ) {\n      const codePoint = base.codePointAt(idx);\n      if (typeof codePoint > \"u\")\n        return idx;\n      byteOffset += utf8len(codePoint), codePoint > 65535 ? idx += 2 : idx += 1;\n    }\n    if (!options.allowExceedingIndices && byteOffset !== target)\n      throw new Error(\"Failed to determine byte offset\");\n    return idx;\n  }\n  const adjusted = [];\n  for (const patch of patches)\n    adjusted.push({\n      diffs: patch.diffs.map((diff2) => cloneDiff(diff2)),\n      start1: advanceTo(patch.start1),\n      start2: advanceTo(patch.start2),\n      utf8Start1: patch.utf8Start1,\n      utf8Start2: patch.utf8Start2,\n      length1: patch.length1,\n      length2: patch.length2,\n      utf8Length1: patch.utf8Length1,\n      utf8Length2: patch.utf8Length2\n    });\n  return adjusted;\n}\nfunction utf8len(codePoint) {\n  return codePoint <= 127 ? 1 : codePoint <= 2047 ? 2 : codePoint <= 65535 ? 3 : 4;\n}\nconst MAX_BITS = 32, DEFAULT_MARGIN = 4, DEFAULT_OPTS = {\n  margin: 4\n};\nfunction getDefaultOpts() {\n  let opts = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n  return {\n    ...DEFAULT_OPTS,\n    ...opts\n  };\n}\nfunction make(a, b, options) {\n  if (typeof a == \"string\" && typeof b == \"string\") {\n    let diffs = diff(a, b, {\n      checkLines: !0\n    });\n    return diffs.length > 2 && (diffs = cleanupSemantic(diffs), diffs = cleanupEfficiency(diffs)), _make(a, diffs, getDefaultOpts(options));\n  }\n  if (a && Array.isArray(a) && typeof b > \"u\")\n    return _make(diffText1(a), a, getDefaultOpts(options));\n  if (typeof a == \"string\" && b && Array.isArray(b))\n    return _make(a, b, getDefaultOpts(options));\n  throw new Error(\"Unknown call format to make()\");\n}\nfunction _make(textA, diffs, options) {\n  if (diffs.length === 0)\n    return [];\n  const patches = [];\n  let patch = createPatchObject(0, 0), patchDiffLength = 0, charCount1 = 0, charCount2 = 0, utf8Count1 = 0, utf8Count2 = 0, prepatchText = textA, postpatchText = textA;\n  for (let x = 0; x < diffs.length; x++) {\n    const currentDiff = diffs[x], [diffType, diffText] = currentDiff, diffTextLength = diffText.length, diffByteLength = countUtf8Bytes(diffText);\n    switch (!patchDiffLength && diffType !== DIFF_EQUAL && (patch.start1 = charCount1, patch.start2 = charCount2, patch.utf8Start1 = utf8Count1, patch.utf8Start2 = utf8Count2), diffType) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = currentDiff, patch.length2 += diffTextLength, patch.utf8Length2 += diffByteLength, postpatchText = postpatchText.substring(0, charCount2) + diffText + postpatchText.substring(charCount2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diffTextLength, patch.utf8Length1 += diffByteLength, patch.diffs[patchDiffLength++] = currentDiff, postpatchText = postpatchText.substring(0, charCount2) + postpatchText.substring(charCount2 + diffTextLength);\n        break;\n      case DIFF_EQUAL:\n        diffTextLength <= 2 * options.margin && patchDiffLength && diffs.length !== x + 1 ? (patch.diffs[patchDiffLength++] = currentDiff, patch.length1 += diffTextLength, patch.length2 += diffTextLength, patch.utf8Length1 += diffByteLength, patch.utf8Length2 += diffByteLength) : diffTextLength >= 2 * options.margin && patchDiffLength && (addContext(patch, prepatchText, options), patches.push(patch), patch = createPatchObject(-1, -1), patchDiffLength = 0, prepatchText = postpatchText, charCount1 = charCount2, utf8Count1 = utf8Count2);\n        break;\n      default:\n        throw new Error(\"Unknown diff type\");\n    }\n    diffType !== DIFF_INSERT && (charCount1 += diffTextLength, utf8Count1 += diffByteLength), diffType !== DIFF_DELETE && (charCount2 += diffTextLength, utf8Count2 += diffByteLength);\n  }\n  return patchDiffLength && (addContext(patch, prepatchText, options), patches.push(patch)), patches;\n}\nfunction addContext(patch, text, opts) {\n  if (text.length === 0)\n    return;\n  let pattern = text.substring(patch.start2, patch.start2 + patch.length1), padding = 0;\n  for (; text.indexOf(pattern) !== text.lastIndexOf(pattern) && pattern.length < MAX_BITS - opts.margin - opts.margin; )\n    padding += opts.margin, pattern = text.substring(patch.start2 - padding, patch.start2 + patch.length1 + padding);\n  padding += opts.margin;\n  let prefixStart = patch.start2 - padding;\n  prefixStart >= 1 && isLowSurrogate(text[prefixStart]) && prefixStart--;\n  const prefix = text.substring(prefixStart, patch.start2);\n  prefix && patch.diffs.unshift([DIFF_EQUAL, prefix]);\n  const prefixLength = prefix.length, prefixUtf8Length = countUtf8Bytes(prefix);\n  let suffixEnd = patch.start2 + patch.length1 + padding;\n  suffixEnd < text.length && isLowSurrogate(text[suffixEnd]) && suffixEnd++;\n  const suffix = text.substring(patch.start2 + patch.length1, suffixEnd);\n  suffix && patch.diffs.push([DIFF_EQUAL, suffix]);\n  const suffixLength = suffix.length, suffixUtf8Length = countUtf8Bytes(suffix);\n  patch.start1 -= prefixLength, patch.start2 -= prefixLength, patch.utf8Start1 -= prefixUtf8Length, patch.utf8Start2 -= prefixUtf8Length, patch.length1 += prefixLength + suffixLength, patch.length2 += prefixLength + suffixLength, patch.utf8Length1 += prefixUtf8Length + suffixUtf8Length, patch.utf8Length2 += prefixUtf8Length + suffixUtf8Length;\n}\nfunction levenshtein(diffs) {\n  let leven = 0, insertions = 0, deletions = 0;\n  for (let x = 0; x < diffs.length; x++) {\n    const op = diffs[x][0], data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        leven += Math.max(insertions, deletions), insertions = 0, deletions = 0;\n        break;\n      default:\n        throw new Error(\"Unknown diff operation.\");\n    }\n  }\n  return leven += Math.max(insertions, deletions), leven;\n}\nfunction xIndex(diffs, loc) {\n  let chars1 = 0, chars2 = 0, lastChars1 = 0, lastChars2 = 0, x;\n  for (x = 0; x < diffs.length && (diffs[x][0] !== DIFF_INSERT && (chars1 += diffs[x][1].length), diffs[x][0] !== DIFF_DELETE && (chars2 += diffs[x][1].length), !(chars1 > loc)); x++)\n    lastChars1 = chars1, lastChars2 = chars2;\n  return diffs.length !== x && diffs[x][0] === DIFF_DELETE ? lastChars2 : lastChars2 + (loc - lastChars1);\n}\nfunction addPadding(patches) {\n  const paddingLength = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : DEFAULT_MARGIN;\n  let nullPadding = \"\";\n  for (let x = 1; x <= paddingLength; x++)\n    nullPadding += String.fromCharCode(x);\n  for (const p of patches)\n    p.start1 += paddingLength, p.start2 += paddingLength, p.utf8Start1 += paddingLength, p.utf8Start2 += paddingLength;\n  let patch = patches[0], diffs = patch.diffs;\n  if (diffs.length === 0 || diffs[0][0] !== DIFF_EQUAL)\n    diffs.unshift([DIFF_EQUAL, nullPadding]), patch.start1 -= paddingLength, patch.start2 -= paddingLength, patch.utf8Start1 -= paddingLength, patch.utf8Start2 -= paddingLength, patch.length1 += paddingLength, patch.length2 += paddingLength, patch.utf8Length1 += paddingLength, patch.utf8Length2 += paddingLength;\n  else if (paddingLength > diffs[0][1].length) {\n    const firstDiffLength = diffs[0][1].length, extraLength = paddingLength - firstDiffLength;\n    diffs[0][1] = nullPadding.substring(firstDiffLength) + diffs[0][1], patch.start1 -= extraLength, patch.start2 -= extraLength, patch.utf8Start1 -= extraLength, patch.utf8Start2 -= extraLength, patch.length1 += extraLength, patch.length2 += extraLength, patch.utf8Length1 += extraLength, patch.utf8Length2 += extraLength;\n  }\n  if (patch = patches[patches.length - 1], diffs = patch.diffs, diffs.length === 0 || diffs[diffs.length - 1][0] !== DIFF_EQUAL)\n    diffs.push([DIFF_EQUAL, nullPadding]), patch.length1 += paddingLength, patch.length2 += paddingLength, patch.utf8Length1 += paddingLength, patch.utf8Length2 += paddingLength;\n  else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    const extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength), patch.length1 += extraLength, patch.length2 += extraLength, patch.utf8Length1 += extraLength, patch.utf8Length2 += extraLength;\n  }\n  return nullPadding;\n}\nfunction splitMax(patches) {\n  let margin = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : DEFAULT_MARGIN;\n  const patchSize = MAX_BITS;\n  for (let x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patchSize)\n      continue;\n    const bigpatch = patches[x];\n    patches.splice(x--, 1);\n    let start1 = bigpatch.start1, start2 = bigpatch.start2, preContext = \"\";\n    for (; bigpatch.diffs.length !== 0; ) {\n      const patch = createPatchObject(start1 - preContext.length, start2 - preContext.length);\n      let empty = !0;\n      if (preContext !== \"\") {\n        const precontextByteCount = countUtf8Bytes(preContext);\n        patch.length1 = preContext.length, patch.utf8Length1 = precontextByteCount, patch.length2 = preContext.length, patch.utf8Length2 = precontextByteCount, patch.diffs.push([DIFF_EQUAL, preContext]);\n      }\n      for (; bigpatch.diffs.length !== 0 && patch.length1 < patchSize - margin; ) {\n        const diffType = bigpatch.diffs[0][0];\n        let diffText = bigpatch.diffs[0][1], diffTextByteCount = countUtf8Bytes(diffText);\n        if (diffType === DIFF_INSERT) {\n          patch.length2 += diffText.length, patch.utf8Length2 += diffTextByteCount, start2 += diffText.length;\n          const diff2 = bigpatch.diffs.shift();\n          diff2 && patch.diffs.push(diff2), empty = !1;\n        } else diffType === DIFF_DELETE && patch.diffs.length === 1 && patch.diffs[0][0] === DIFF_EQUAL && diffText.length > 2 * patchSize ? (patch.length1 += diffText.length, patch.utf8Length1 += diffTextByteCount, start1 += diffText.length, empty = !1, patch.diffs.push([diffType, diffText]), bigpatch.diffs.shift()) : (diffText = diffText.substring(0, patchSize - patch.length1 - margin), diffTextByteCount = countUtf8Bytes(diffText), patch.length1 += diffText.length, patch.utf8Length1 += diffTextByteCount, start1 += diffText.length, diffType === DIFF_EQUAL ? (patch.length2 += diffText.length, patch.utf8Length2 += diffTextByteCount, start2 += diffText.length) : empty = !1, patch.diffs.push([diffType, diffText]), diffText === bigpatch.diffs[0][1] ? bigpatch.diffs.shift() : bigpatch.diffs[0][1] = bigpatch.diffs[0][1].substring(diffText.length));\n      }\n      preContext = diffText2(patch.diffs), preContext = preContext.substring(preContext.length - margin);\n      const postContext = diffText1(bigpatch.diffs).substring(0, margin), postContextByteCount = countUtf8Bytes(postContext);\n      postContext !== \"\" && (patch.length1 += postContext.length, patch.length2 += postContext.length, patch.utf8Length1 += postContextByteCount, patch.utf8Length2 += postContextByteCount, patch.diffs.length !== 0 && patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL ? patch.diffs[patch.diffs.length - 1][1] += postContext : patch.diffs.push([DIFF_EQUAL, postContext])), empty || patches.splice(++x, 0, patch);\n    }\n  }\n}\nfunction apply$4(patches, originalText) {\n  let opts = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n  if (typeof patches == \"string\")\n    throw new Error(\"Patches must be an array - pass the patch to `parsePatch()` first\");\n  let text = originalText;\n  if (patches.length === 0)\n    return [text, []];\n  const parsed = adjustIndiciesToUcs2(patches, text, {\n    allowExceedingIndices: opts.allowExceedingIndices\n  }), margin = opts.margin || DEFAULT_MARGIN, deleteThreshold = opts.deleteThreshold || 0.4, nullPadding = addPadding(parsed, margin);\n  text = nullPadding + text + nullPadding, splitMax(parsed, margin);\n  let delta = 0;\n  const results = [];\n  for (let x = 0; x < parsed.length; x++) {\n    const expectedLoc = parsed[x].start2 + delta, text1 = diffText1(parsed[x].diffs);\n    let startLoc, endLoc = -1;\n    if (text1.length > MAX_BITS ? (startLoc = match(text, text1.substring(0, MAX_BITS), expectedLoc), startLoc !== -1 && (endLoc = match(text, text1.substring(text1.length - MAX_BITS), expectedLoc + text1.length - MAX_BITS), (endLoc === -1 || startLoc >= endLoc) && (startLoc = -1))) : startLoc = match(text, text1, expectedLoc), startLoc === -1)\n      results[x] = !1, delta -= parsed[x].length2 - parsed[x].length1;\n    else {\n      results[x] = !0, delta = startLoc - expectedLoc;\n      let text2;\n      if (endLoc === -1 ? text2 = text.substring(startLoc, startLoc + text1.length) : text2 = text.substring(startLoc, endLoc + MAX_BITS), text1 === text2)\n        text = text.substring(0, startLoc) + diffText2(parsed[x].diffs) + text.substring(startLoc + text1.length);\n      else {\n        let diffs = diff(text1, text2, {\n          checkLines: !1\n        });\n        if (text1.length > MAX_BITS && levenshtein(diffs) / text1.length > deleteThreshold)\n          results[x] = !1;\n        else {\n          diffs = cleanupSemanticLossless(diffs);\n          let index1 = 0, index2 = 0;\n          for (let y = 0; y < parsed[x].diffs.length; y++) {\n            const mod = parsed[x].diffs[y];\n            mod[0] !== DIFF_EQUAL && (index2 = xIndex(diffs, index1)), mod[0] === DIFF_INSERT ? text = text.substring(0, startLoc + index2) + mod[1] + text.substring(startLoc + index2) : mod[0] === DIFF_DELETE && (text = text.substring(0, startLoc + index2) + text.substring(startLoc + xIndex(diffs, index1 + mod[1].length))), mod[0] !== DIFF_DELETE && (index1 += mod[1].length);\n          }\n        }\n      }\n    }\n  }\n  return text = text.substring(nullPadding.length, text.length - nullPadding.length), [text, results];\n}\nfunction stringify(patches) {\n  return patches.map(stringifyPatch).join(\"\");\n}\nfunction stringifyPatch(patch) {\n  const {\n    utf8Length1,\n    utf8Length2,\n    utf8Start1,\n    utf8Start2,\n    diffs\n  } = patch;\n  let coords1;\n  utf8Length1 === 0 ? coords1 = \"\".concat(utf8Start1, \",0\") : utf8Length1 === 1 ? coords1 = \"\".concat(utf8Start1 + 1) : coords1 = \"\".concat(utf8Start1 + 1, \",\").concat(utf8Length1);\n  let coords2;\n  utf8Length2 === 0 ? coords2 = \"\".concat(utf8Start2, \",0\") : utf8Length2 === 1 ? coords2 = \"\".concat(utf8Start2 + 1) : coords2 = \"\".concat(utf8Start2 + 1, \",\").concat(utf8Length2);\n  const text = [\"@@ -\".concat(coords1, \" +\").concat(coords2, ` @@\n`)];\n  let op;\n  for (let x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        op = \"+\";\n        break;\n      case DIFF_DELETE:\n        op = \"-\";\n        break;\n      case DIFF_EQUAL:\n        op = \" \";\n        break;\n      default:\n        throw new Error(\"Unknown patch operation.\");\n    }\n    text[x + 1] = \"\".concat(op + encodeURI(diffs[x][1]), `\n`);\n  }\n  return text.join(\"\").replace(/%20/g, \" \");\n}\nconst patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\nfunction parse(textline) {\n  if (!textline)\n    return [];\n  const patches = [], lines = textline.split(`\n`);\n  let textPointer = 0;\n  for (; textPointer < lines.length; ) {\n    const m = lines[textPointer].match(patchHeader);\n    if (!m)\n      throw new Error(\"Invalid patch string: \".concat(lines[textPointer]));\n    const patch = createPatchObject(toInt(m[1]), toInt(m[3]));\n    for (patches.push(patch), m[2] === \"\" ? (patch.start1--, patch.utf8Start1--, patch.length1 = 1, patch.utf8Length1 = 1) : m[2] === \"0\" ? (patch.length1 = 0, patch.utf8Length1 = 0) : (patch.start1--, patch.utf8Start1--, patch.utf8Length1 = toInt(m[2]), patch.length1 = patch.utf8Length1), m[4] === \"\" ? (patch.start2--, patch.utf8Start2--, patch.length2 = 1, patch.utf8Length2 = 1) : m[4] === \"0\" ? (patch.length2 = 0, patch.utf8Length2 = 0) : (patch.start2--, patch.utf8Start2--, patch.utf8Length2 = toInt(m[4]), patch.length2 = patch.utf8Length2), textPointer++; textPointer < lines.length; ) {\n      const currentLine = lines[textPointer], sign = currentLine.charAt(0);\n      if (sign === \"@\")\n        break;\n      if (sign === \"\") {\n        textPointer++;\n        continue;\n      }\n      let line;\n      try {\n        line = decodeURI(currentLine.slice(1));\n      } catch {\n        throw new Error(\"Illegal escape in parse: \".concat(currentLine));\n      }\n      const utf8Diff = countUtf8Bytes(line) - line.length;\n      if (sign === \"-\")\n        patch.diffs.push([DIFF_DELETE, line]), patch.length1 -= utf8Diff;\n      else if (sign === \"+\")\n        patch.diffs.push([DIFF_INSERT, line]), patch.length2 -= utf8Diff;\n      else if (sign === \" \")\n        patch.diffs.push([DIFF_EQUAL, line]), patch.length1 -= utf8Diff, patch.length2 -= utf8Diff;\n      else\n        throw new Error('Invalid patch mode \"'.concat(sign, '\" in: ').concat(line));\n      textPointer++;\n    }\n  }\n  return patches;\n}\nfunction toInt(num) {\n  return parseInt(num, 10);\n}\nfunction setIfMissing(value, path = []) {\n  return {\n    type: \"setIfMissing\",\n    path,\n    value\n  };\n}\nfunction diffMatchPatch$1(currentValue, nextValue, path = []) {\n  const patches = make(currentValue, nextValue), patch = stringify(patches);\n  return { type: \"diffMatchPatch\", path, value: patch };\n}\nfunction insert$1(items, position, path = []) {\n  return {\n    type: \"insert\",\n    path,\n    position,\n    items\n  };\n}\nfunction set(value, path = []) {\n  return { type: \"set\", path, value };\n}\nfunction unset(path = []) {\n  return { type: \"unset\", path };\n}\nconst debug$j = debugWithName(\"operationToPatches\");\ndebug$j.enabled = !1;\nfunction createOperationToPatches(types) {\n  const textBlockName = types.block.name;\n  function insertTextPatch(editor, operation, beforeValue) {\n    debug$j.enabled && debug$j(\"Operation\", JSON.stringify(operation, null, 2));\n    const block = editor.isTextBlock(editor.children[operation.path[0]]) && editor.children[operation.path[0]];\n    if (!block)\n      throw new Error(\"Could not find block\");\n    const textChild = editor.isTextBlock(block) && editor.isTextSpan(block.children[operation.path[1]]) && block.children[operation.path[1]];\n    if (!textChild)\n      throw new Error(\"Could not find child\");\n    const path = [{ _key: block._key }, \"children\", { _key: textChild._key }, \"text\"], prevBlock = beforeValue[operation.path[0]], prevChild = editor.isTextBlock(prevBlock) && prevBlock.children[operation.path[1]], prevText = editor.isTextSpan(prevChild) ? prevChild.text : \"\", patch = diffMatchPatch$1(prevText, textChild.text, path);\n    return patch.value.length ? [patch] : [];\n  }\n  function removeTextPatch(editor, operation, beforeValue) {\n    const block = editor && editor.children[operation.path[0]];\n    if (!block)\n      throw new Error(\"Could not find block\");\n    const child = editor.isTextBlock(block) && block.children[operation.path[1]] || void 0, textChild = editor.isTextSpan(child) ? child : void 0;\n    if (child && !textChild)\n      throw new Error(\"Expected span\");\n    if (!textChild)\n      throw new Error(\"Could not find child\");\n    const path = [{ _key: block._key }, \"children\", { _key: textChild._key }, \"text\"], beforeBlock = beforeValue[operation.path[0]], prevTextChild = editor.isTextBlock(beforeBlock) && beforeBlock.children[operation.path[1]], prevText = editor.isTextSpan(prevTextChild) && prevTextChild.text, patch = diffMatchPatch$1(prevText || \"\", textChild.text, path);\n    return patch.value ? [patch] : [];\n  }\n  function setNodePatch(editor, operation) {\n    if (operation.path.length === 1) {\n      const block = editor.children[operation.path[0]];\n      if (typeof block._key != \"string\")\n        throw new Error(\"Expected block to have a _key\");\n      const setNode = lodash_omitBy_js__WEBPACK_IMPORTED_MODULE_8__(\n        { ...editor.children[operation.path[0]], ...operation.newProperties },\n        lodash_isUndefined_js__WEBPACK_IMPORTED_MODULE_7__\n      );\n      return [set(fromSlateValue([setNode], textBlockName)[0], [{ _key: block._key }])];\n    } else if (operation.path.length === 2) {\n      const block = editor.children[operation.path[0]];\n      if (editor.isTextBlock(block)) {\n        const child = block.children[operation.path[1]];\n        if (child) {\n          const blockKey = block._key, childKey = child._key, patches = [], keys = Object.keys(operation.newProperties);\n          return keys.forEach((keyName) => {\n            if (keys.length === 1 && keyName === \"_key\") {\n              const val = lodash_get_js__WEBPACK_IMPORTED_MODULE_6__(operation.newProperties, keyName);\n              patches.push(\n                set(val, [{ _key: blockKey }, \"children\", block.children.indexOf(child), keyName])\n              );\n            } else {\n              const val = lodash_get_js__WEBPACK_IMPORTED_MODULE_6__(operation.newProperties, keyName);\n              patches.push(set(val, [{ _key: blockKey }, \"children\", { _key: childKey }, keyName]));\n            }\n          }), patches;\n        }\n        throw new Error(\"Could not find a valid child\");\n      }\n      throw new Error(\"Could not find a valid block\");\n    } else\n      throw new Error(`Unexpected path encountered: ${JSON.stringify(operation.path)}`);\n  }\n  function insertNodePatch(editor, operation, beforeValue) {\n    const block = beforeValue[operation.path[0]], isTextBlock = editor.isTextBlock(block);\n    if (operation.path.length === 1) {\n      const position = operation.path[0] === 0 ? \"before\" : \"after\", beforeBlock = beforeValue[operation.path[0] - 1], targetKey = operation.path[0] === 0 ? block == null ? void 0 : block._key : beforeBlock == null ? void 0 : beforeBlock._key;\n      return targetKey ? [\n        insert$1([fromSlateValue([operation.node], textBlockName)[0]], position, [\n          { _key: targetKey }\n        ])\n      ] : [\n        setIfMissing(beforeValue, []),\n        insert$1([fromSlateValue([operation.node], textBlockName)[0]], \"before\", [\n          operation.path[0]\n        ])\n      ];\n    } else if (isTextBlock && operation.path.length === 2 && editor.children[operation.path[0]]) {\n      const position = block.children.length === 0 || !block.children[operation.path[1] - 1] ? \"before\" : \"after\", node = { ...operation.node };\n      !node._type && slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(node) && (node._type = \"span\", node.marks = []);\n      const child = fromSlateValue(\n        [\n          {\n            _key: \"bogus\",\n            _type: textBlockName,\n            children: [node]\n          }\n        ],\n        textBlockName\n      )[0].children[0];\n      return [\n        insert$1([child], position, [\n          { _key: block._key },\n          \"children\",\n          block.children.length <= 1 || !block.children[operation.path[1] - 1] ? 0 : { _key: block.children[operation.path[1] - 1]._key }\n        ])\n      ];\n    }\n    return debug$j(\"Something was inserted into a void block. Not producing editor patches.\"), [];\n  }\n  function splitNodePatch(editor, operation, beforeValue) {\n    const patches = [], splitBlock = editor.children[operation.path[0]];\n    if (!editor.isTextBlock(splitBlock))\n      throw new Error(\n        `Block with path ${JSON.stringify(\n          operation.path[0]\n        )} is not a text block and can't be split`\n      );\n    if (operation.path.length === 1) {\n      const oldBlock = beforeValue[operation.path[0]];\n      if (editor.isTextBlock(oldBlock)) {\n        const targetValue = fromSlateValue(\n          [editor.children[operation.path[0] + 1]],\n          textBlockName\n        )[0];\n        targetValue && (patches.push(insert$1([targetValue], \"after\", [{ _key: splitBlock._key }])), oldBlock.children.slice(operation.position).forEach((span) => {\n          const path = [{ _key: oldBlock._key }, \"children\", { _key: span._key }];\n          patches.push(unset(path));\n        }));\n      }\n      return patches;\n    }\n    if (operation.path.length === 2) {\n      const splitSpan = splitBlock.children[operation.path[1]];\n      if (editor.isTextSpan(splitSpan)) {\n        const targetSpans = fromSlateValue(\n          [\n            {\n              ...splitBlock,\n              children: splitBlock.children.slice(operation.path[1] + 1, operation.path[1] + 2)\n            }\n          ],\n          textBlockName\n        )[0].children;\n        patches.push(\n          insert$1(targetSpans, \"after\", [\n            { _key: splitBlock._key },\n            \"children\",\n            { _key: splitSpan._key }\n          ])\n        ), patches.push(\n          set(splitSpan.text, [\n            { _key: splitBlock._key },\n            \"children\",\n            { _key: splitSpan._key },\n            \"text\"\n          ])\n        );\n      }\n      return patches;\n    }\n    return patches;\n  }\n  function removeNodePatch(editor, operation, beforeValue) {\n    const block = beforeValue[operation.path[0]];\n    if (operation.path.length === 1) {\n      if (block && block._key)\n        return [unset([{ _key: block._key }])];\n      throw new Error(\"Block not found\");\n    } else if (editor.isTextBlock(block) && operation.path.length === 2) {\n      const spanToRemove = editor.isTextBlock(block) && block.children && block.children[operation.path[1]];\n      return spanToRemove ? [unset([{ _key: block._key }, \"children\", { _key: spanToRemove._key }])] : (debug$j(\"Span not found in editor trying to remove node\"), []);\n    } else\n      return debug$j(\"Not creating patch inside object block\"), [];\n  }\n  function mergeNodePatch(editor, operation, beforeValue) {\n    const patches = [], block = beforeValue[operation.path[0]], targetBlock = editor.children[operation.path[0]];\n    if (operation.path.length === 1)\n      if (block != null && block._key) {\n        const newBlock = fromSlateValue([editor.children[operation.path[0] - 1]], textBlockName)[0];\n        patches.push(set(newBlock, [{ _key: newBlock._key }])), patches.push(unset([{ _key: block._key }]));\n      } else\n        throw new Error(\"Target key not found!\");\n    else if (operation.path.length === 2 && editor.isTextBlock(targetBlock)) {\n      const mergedSpan = editor.isTextBlock(block) && block.children[operation.path[1]] || void 0, targetSpan = targetBlock.children[operation.path[1] - 1];\n      editor.isTextSpan(targetSpan) && (patches.push(\n        set(targetSpan.text, [{ _key: block._key }, \"children\", { _key: targetSpan._key }, \"text\"])\n      ), mergedSpan && patches.push(unset([{ _key: block._key }, \"children\", { _key: mergedSpan._key }])));\n    } else\n      debug$j(\"Void nodes can't be merged, not creating any patches\");\n    return patches;\n  }\n  function moveNodePatch(editor, operation, beforeValue) {\n    const patches = [], block = beforeValue[operation.path[0]], targetBlock = beforeValue[operation.newPath[0]];\n    if (operation.path.length === 1) {\n      const position = operation.path[0] > operation.newPath[0] ? \"before\" : \"after\";\n      patches.push(unset([{ _key: block._key }])), patches.push(\n        insert$1([fromSlateValue([block], textBlockName)[0]], position, [{ _key: targetBlock._key }])\n      );\n    } else if (operation.path.length === 2 && editor.isTextBlock(block) && editor.isTextBlock(targetBlock)) {\n      const child = block.children[operation.path[1]], targetChild = targetBlock.children[operation.newPath[1]], position = operation.newPath[1] === targetBlock.children.length ? \"after\" : \"before\", childToInsert = fromSlateValue([block], textBlockName)[0].children[operation.path[1]];\n      patches.push(unset([{ _key: block._key }, \"children\", { _key: child._key }])), patches.push(\n        insert$1([childToInsert], position, [\n          { _key: targetBlock._key },\n          \"children\",\n          { _key: targetChild._key }\n        ])\n      );\n    }\n    return patches;\n  }\n  return {\n    insertNodePatch,\n    insertTextPatch,\n    mergeNodePatch,\n    moveNodePatch,\n    removeNodePatch,\n    removeTextPatch,\n    setNodePatch,\n    splitNodePatch\n  };\n}\nconst debug$i = debugWithName(\"API:editable\");\nfunction createWithEditableAPI(portableTextEditor, types, keyGenerator) {\n  return function(editor) {\n    return portableTextEditor.setEditable({\n      focus: () => {\n        slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.focus(editor);\n      },\n      blur: () => {\n        slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.blur(editor);\n      },\n      toggleMark: (mark) => {\n        editor.pteToggleMark(mark);\n      },\n      toggleList: (listStyle) => {\n        editor.pteToggleListItem(listStyle);\n      },\n      toggleBlockStyle: (blockStyle) => {\n        editor.pteToggleBlockStyle(blockStyle);\n      },\n      isMarkActive: (mark) => {\n        try {\n          return editor.pteIsMarkActive(mark);\n        } catch (err) {\n          return console.warn(err), !1;\n        }\n      },\n      marks: () => ({\n        ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.marks(editor) || {}\n      }).marks || [],\n      undo: () => editor.undo(),\n      redo: () => editor.redo(),\n      select: (selection) => {\n        const slateSelection = toSlateRange(selection, editor);\n        slateSelection ? slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(editor, slateSelection) : slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.deselect(editor), editor.onChange();\n      },\n      focusBlock: () => {\n        if (editor.selection) {\n          const block = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(editor, editor.selection.focus.path.slice(0, 1));\n          if (block)\n            return fromSlateValue([block], types.block.name, KEY_TO_VALUE_ELEMENT.get(editor))[0];\n        }\n      },\n      focusChild: () => {\n        if (editor.selection) {\n          const block = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(editor, editor.selection.focus.path.slice(0, 1));\n          if (block && editor.isTextBlock(block))\n            return fromSlateValue(\n              [block],\n              types.block.name,\n              KEY_TO_VALUE_ELEMENT.get(editor)\n            )[0].children[editor.selection.focus.path[1]];\n        }\n      },\n      insertChild: (type, value) => {\n        var _a;\n        if (!editor.selection)\n          throw new Error(\"The editor has no selection\");\n        const [focusBlock] = Array.from(\n          slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n            at: editor.selection.focus.path.slice(0, 1),\n            match: (n) => n._type === types.block.name\n          })\n        )[0] || [void 0];\n        if (!focusBlock)\n          throw new Error(\"No focused text block\");\n        if (type.name !== types.span.name && !types.inlineObjects.some((t) => t.name === type.name))\n          throw new Error(\"This type cannot be inserted as a child to a text block\");\n        const child = toSlateValue(\n          [\n            {\n              _key: keyGenerator(),\n              _type: types.block.name,\n              children: [\n                {\n                  _key: keyGenerator(),\n                  _type: type.name,\n                  ...value || {}\n                }\n              ]\n            }\n          ],\n          portableTextEditor\n        )[0].children[0], focusChildPath = editor.selection.focus.path.slice(0, 2), isSpanNode = child._type === types.span.name, focusNode = slate__WEBPACK_IMPORTED_MODULE_18__.Node.get(editor, focusChildPath);\n        return isSpanNode && focusNode._type !== types.span.name && (debug$i(\"Inserting span child next to inline object child, moving selection + 1\"), editor.move({ distance: 1, unit: \"character\" })), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(editor, child, {\n          select: !0,\n          at: editor.selection\n        }), editor.onChange(), ((_a = toPortableTextRange(\n          fromSlateValue(editor.children, types.block.name, KEY_TO_VALUE_ELEMENT.get(editor)),\n          editor.selection,\n          types\n        )) == null ? void 0 : _a.focus.path) || [];\n      },\n      insertBlock: (type, value) => {\n        var _a;\n        if (!editor.selection)\n          throw new Error(\"The editor has no selection\");\n        const block = toSlateValue(\n          [\n            {\n              _key: keyGenerator(),\n              _type: type.name,\n              ...value || {}\n            }\n          ],\n          portableTextEditor\n        )[0], [focusBlock] = Array.from(\n          slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n            at: editor.selection.focus.path.slice(0, 1),\n            match: (n) => n._type === types.block.name\n          })\n        )[0] || [void 0];\n        return focusBlock && isEqualToEmptyEditor([focusBlock], types) && slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(editor, { at: editor.selection }), slate__WEBPACK_IMPORTED_MODULE_18__.Editor.insertNode(editor, block), editor.onChange(), ((_a = toPortableTextRange(\n          fromSlateValue(editor.children, types.block.name, KEY_TO_VALUE_ELEMENT.get(editor)),\n          editor.selection,\n          types\n        )) == null ? void 0 : _a.focus.path) || [];\n      },\n      hasBlockStyle: (style) => {\n        try {\n          return editor.pteHasBlockStyle(style);\n        } catch {\n          return !1;\n        }\n      },\n      hasListStyle: (listStyle) => {\n        try {\n          return editor.pteHasListStyle(listStyle);\n        } catch {\n          return !1;\n        }\n      },\n      isVoid: (element) => ![types.block.name, types.span.name].includes(element._type),\n      findByPath: (path) => {\n        const slatePath = toSlateRange(\n          { focus: { path, offset: 0 }, anchor: { path, offset: 0 } },\n          editor\n        );\n        if (slatePath) {\n          const [block, blockPath] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, slatePath.focus.path.slice(0, 1));\n          if (block && blockPath && typeof block._key == \"string\") {\n            if (path.length === 1 && slatePath.focus.path.length === 1)\n              return [fromSlateValue([block], types.block.name)[0], [{ _key: block._key }]];\n            const ptBlock = fromSlateValue(\n              [block],\n              types.block.name,\n              KEY_TO_VALUE_ELEMENT.get(editor)\n            )[0];\n            if (editor.isTextBlock(ptBlock)) {\n              const ptChild = ptBlock.children[slatePath.focus.path[1]];\n              if (ptChild)\n                return [ptChild, [{ _key: block._key }, \"children\", { _key: ptChild._key }]];\n            }\n          }\n        }\n        return [void 0, void 0];\n      },\n      findDOMNode: (element) => {\n        let node;\n        try {\n          const [item] = Array.from(\n            slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n              at: [],\n              match: (n) => n._key === element._key\n            }) || []\n          )[0] || [void 0];\n          node = slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.toDOMNode(editor, item);\n        } catch {\n        }\n        return node;\n      },\n      activeAnnotations: () => {\n        var _a;\n        if (!editor.selection || editor.selection.focus.path.length < 2)\n          return [];\n        try {\n          const activeAnnotations = [], spans = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n            at: editor.selection,\n            match: (node) => slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(node) && node.marks !== void 0 && Array.isArray(node.marks) && node.marks.length > 0\n          });\n          for (const [span, path] of spans) {\n            const [block] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, path, { depth: 1 });\n            editor.isTextBlock(block) && ((_a = block.markDefs) == null || _a.forEach((def) => {\n              slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(span) && span.marks && Array.isArray(span.marks) && span.marks.includes(def._key) && activeAnnotations.push(def);\n            }));\n          }\n          return activeAnnotations;\n        } catch {\n          return [];\n        }\n      },\n      isAnnotationActive: (annotationType) => {\n        if (!editor.selection || editor.selection.focus.path.length < 2)\n          return !1;\n        try {\n          const spans = [\n            ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n              at: editor.selection,\n              match: (node) => slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(node)\n            })\n          ];\n          if (spans.some(\n            ([span]) => {\n              var _a;\n              return !(0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextSpan)(span) || !span.marks || ((_a = span.marks) == null ? void 0 : _a.length) === 0;\n            }\n          ))\n            return !1;\n          const selectionMarkDefs = spans.reduce((accMarkDefs, [, path]) => {\n            const [block] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, path, { depth: 1 });\n            return editor.isTextBlock(block) && block.markDefs ? [...accMarkDefs, ...block.markDefs] : accMarkDefs;\n          }, []);\n          return spans.every(([span]) => {\n            var _a;\n            if (!(0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextSpan)(span)) return !1;\n            const spanMarkDefs = (_a = span.marks) == null ? void 0 : _a.map(\n              (markKey) => {\n                var _a2;\n                return (_a2 = selectionMarkDefs.find((def) => (def == null ? void 0 : def._key) === markKey)) == null ? void 0 : _a2._type;\n              }\n            );\n            return spanMarkDefs == null ? void 0 : spanMarkDefs.includes(annotationType);\n          });\n        } catch {\n          return !1;\n        }\n      },\n      addAnnotation: (type, value) => {\n        const { selection: originalSelection } = editor;\n        let returnValue;\n        if (originalSelection) {\n          const [block] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, originalSelection.focus, { depth: 1 });\n          if (!editor.isTextBlock(block))\n            return;\n          slate__WEBPACK_IMPORTED_MODULE_18__.Range.isCollapsed(originalSelection) && (editor.pteExpandToWord(), editor.onChange());\n          const [textNode] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, originalSelection.focus, { depth: 2 });\n          editor.selection && (slate__WEBPACK_IMPORTED_MODULE_18__.Editor.withoutNormalizing(editor, () => {\n            const annotationKey = keyGenerator();\n            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n              editor,\n              {\n                markDefs: [\n                  ...block.markDefs || [],\n                  { _type: type.name, _key: annotationKey, ...value }\n                ]\n              },\n              { at: originalSelection.focus }\n            ), editor.onChange(), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, {}, { match: slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText, split: !0 }), editor.onChange(), editor.selection && slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(textNode) && slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n              editor,\n              {\n                marks: [...textNode.marks || [], annotationKey]\n              },\n              {\n                at: editor.selection,\n                match: (n) => n._type === types.span.name\n              }\n            ), editor.onChange(), editor.selection && slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(\n              editor,\n              [{ _type: \"span\", text: \"\", marks: [], _key: keyGenerator() }],\n              {\n                at: slate__WEBPACK_IMPORTED_MODULE_18__.Range.end(editor.selection)\n              }\n            );\n            const newPortableTextEditorSelection = toPortableTextRange(\n              fromSlateValue(editor.children, types.block.name, KEY_TO_VALUE_ELEMENT.get(editor)),\n              editor.selection,\n              types\n            );\n            newPortableTextEditorSelection && (returnValue = {\n              spanPath: newPortableTextEditorSelection.focus.path,\n              markDefPath: [{ _key: block._key }, \"markDefs\", { _key: annotationKey }]\n            });\n          }), slate__WEBPACK_IMPORTED_MODULE_18__.Editor.normalize(editor), editor.onChange());\n        }\n        return returnValue;\n      },\n      delete: (selection, options) => {\n        if (selection) {\n          const range = toSlateRange(selection, editor);\n          if (!(range && range.anchor.path.length > 0 && range.focus.path.length > 0))\n            throw new Error(\"Invalid range\");\n          if (range) {\n            if (!(options != null && options.mode) || (options == null ? void 0 : options.mode) === \"selected\") {\n              debug$i(\"Deleting content in selection\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.delete(editor, {\n                at: range,\n                hanging: !0,\n                voids: !0\n              }), editor.onChange();\n              return;\n            }\n            (options == null ? void 0 : options.mode) === \"blocks\" && (debug$i(\"Deleting blocks touched by selection\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(editor, {\n              at: range,\n              voids: !0,\n              match: (node) => editor.isTextBlock(node) || !editor.isTextBlock(node) && slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(node)\n            })), (options == null ? void 0 : options.mode) === \"children\" && (debug$i(\"Deleting children touched by selection\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(editor, {\n              at: range,\n              voids: !0,\n              match: (node) => node._type === types.span.name || // Text children\n              !editor.isTextBlock(node) && slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(node)\n            })), editor.children.length === 0 && (editor.children = [editor.pteCreateEmptyBlock()]), editor.onChange();\n          }\n        }\n      },\n      removeAnnotation: (type) => {\n        let { selection } = editor;\n        if (debug$i(\"Removing annotation\", type), selection) {\n          if (slate__WEBPACK_IMPORTED_MODULE_18__.Range.isCollapsed(selection)) {\n            const [node, nodePath] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, selection, { depth: 2 });\n            slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(node) && node.marks && typeof node.text == \"string\" && (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(editor, nodePath), selection = editor.selection);\n          }\n          slate__WEBPACK_IMPORTED_MODULE_18__.Editor.withoutNormalizing(editor, () => {\n            if (selection && slate__WEBPACK_IMPORTED_MODULE_18__.Range.isExpanded(selection)) {\n              if (selection = editor.selection, !selection)\n                return;\n              [\n                ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n                  at: selection,\n                  match: (node) => editor.isTextBlock(node) && Array.isArray(node.markDefs) && node.markDefs.some((def) => def._type === type.name)\n                })\n              ].forEach(([block]) => {\n                editor.isTextBlock(block) && Array.isArray(block.markDefs) && block.markDefs.filter((def) => def._type === type.name).forEach((def) => {\n                  slate__WEBPACK_IMPORTED_MODULE_18__.Editor.removeMark(editor, def._key);\n                });\n              });\n            }\n          }), slate__WEBPACK_IMPORTED_MODULE_18__.Editor.normalize(editor), editor.onChange();\n        }\n      },\n      getSelection: () => {\n        let ptRange = null;\n        if (editor.selection) {\n          const existing = SLATE_TO_PORTABLE_TEXT_RANGE.get(editor.selection);\n          if (existing)\n            return existing;\n          ptRange = toPortableTextRange(\n            fromSlateValue(editor.children, types.block.name, KEY_TO_VALUE_ELEMENT.get(editor)),\n            editor.selection,\n            types\n          ), SLATE_TO_PORTABLE_TEXT_RANGE.set(editor.selection, ptRange);\n        }\n        return ptRange;\n      },\n      getValue: () => fromSlateValue(editor.children, types.block.name, KEY_TO_VALUE_ELEMENT.get(editor)),\n      isCollapsedSelection: () => !!editor.selection && slate__WEBPACK_IMPORTED_MODULE_18__.Range.isCollapsed(editor.selection),\n      isExpandedSelection: () => !!editor.selection && slate__WEBPACK_IMPORTED_MODULE_18__.Range.isExpanded(editor.selection),\n      insertBreak: () => {\n        editor.insertBreak(), editor.onChange();\n      },\n      getFragment: () => fromSlateValue(editor.getFragment(), types.block.name),\n      isSelectionsOverlapping: (selectionA, selectionB) => {\n        const rangeA = toSlateRange(selectionA, editor), rangeB = toSlateRange(selectionB, editor);\n        return slate__WEBPACK_IMPORTED_MODULE_18__.Range.isRange(rangeA) && slate__WEBPACK_IMPORTED_MODULE_18__.Range.isRange(rangeB) && slate__WEBPACK_IMPORTED_MODULE_18__.Range.includes(rangeA, rangeB);\n      }\n    }), editor;\n  };\n}\nfunction createWithInsertBreak(types) {\n  return function(editor) {\n    const { insertBreak } = editor;\n    return editor.insertBreak = () => {\n      if (editor.selection) {\n        const focusBlockPath = editor.selection.focus.path.slice(0, 1), focusBlock = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(editor, focusBlockPath);\n        if (editor.isTextBlock(focusBlock)) {\n          const [, end] = slate__WEBPACK_IMPORTED_MODULE_18__.Range.edges(editor.selection), isEndAtStartOfNode = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isStart(editor, end, end.path), isEmptyTextBlock = focusBlock && isEqualToEmptyEditor([focusBlock], types);\n          if (isEndAtStartOfNode && !isEmptyTextBlock) {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Editor.insertNode(editor, editor.pteCreateEmptyBlock());\n            const [nextBlockPath] = slate__WEBPACK_IMPORTED_MODULE_18__.Path.next(focusBlockPath);\n            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(editor, {\n              anchor: { path: [nextBlockPath, 0], offset: 0 },\n              focus: { path: [nextBlockPath, 0], offset: 0 }\n            }), editor.onChange();\n            return;\n          }\n        }\n      }\n      insertBreak();\n    }, editor;\n  };\n}\nfunction createWithMaxBlocks(maxBlocks) {\n  return function(editor) {\n    const { apply: apply2 } = editor;\n    return editor.apply = (operation) => {\n      const rows = maxBlocks;\n      rows > 0 && editor.children.length >= rows && (operation.type === \"insert_node\" || operation.type === \"split_node\") && operation.path.length === 1 || apply2(operation);\n    }, editor;\n  };\n}\nconst PRESERVE_KEYS = /* @__PURE__ */ new WeakMap();\nfunction withPreserveKeys(editor, fn) {\n  const prev = isPreservingKeys(editor);\n  PRESERVE_KEYS.set(editor, !0), fn(), PRESERVE_KEYS.set(editor, prev);\n}\nfunction isPreservingKeys(editor) {\n  return PRESERVE_KEYS.get(editor);\n}\nfunction createWithObjectKeys(schemaTypes, keyGenerator) {\n  return function(editor) {\n    PRESERVE_KEYS.set(editor, !1);\n    const { apply: apply2, normalizeNode } = editor;\n    return editor.apply = (operation) => {\n      if (operation.type === \"split_node\") {\n        const withNewKey = !isPreservingKeys(editor) || !(\"_key\" in operation.properties);\n        operation.properties = {\n          ...operation.properties,\n          ...withNewKey ? { _key: keyGenerator() } : {}\n        };\n      }\n      if (operation.type === \"insert_node\") {\n        const withNewKey = !isPreservingKeys(editor) || !(\"_key\" in operation.node);\n        slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isEditor(operation.node) || (operation.node = {\n          ...operation.node,\n          ...withNewKey ? { _key: keyGenerator() } : {}\n        });\n      }\n      apply2(operation);\n    }, editor.normalizeNode = (entry) => {\n      const [node, path] = entry;\n      if (slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(node) && node._type === schemaTypes.block.name) {\n        node._key || slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { _key: keyGenerator() }, { at: path });\n        for (const [child, childPath] of slate__WEBPACK_IMPORTED_MODULE_18__.Node.children(editor, path))\n          if (!child._key) {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { _key: keyGenerator() }, { at: childPath });\n            return;\n          }\n      }\n      normalizeNode(entry);\n    }, editor;\n  };\n}\nconst BEFORE = \"before\", AFTER = \"after\";\nfunction insert(array, position, index, ...args) {\n  if (position !== BEFORE && position !== AFTER)\n    throw new Error(`Invalid position \"${position}\", must be either ${BEFORE} or ${AFTER}`);\n  const items = flatten(...args);\n  if (array.length === 0)\n    return items;\n  const len = array.length, idx = Math.abs((len + index) % len) % len, normalizedIdx = position === \"after\" ? idx + 1 : idx, copy = array.slice();\n  return copy.splice(normalizedIdx, 0, ...flatten(items)), copy;\n}\nfunction flatten(...values) {\n  return values.reduce((prev, item) => prev.concat(item), []);\n}\nconst hasOwn = Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);\nfunction move(arr, from, to) {\n  const nextValue = arr.slice(), val = nextValue[from];\n  return nextValue.splice(from, 1), nextValue.splice(to, 0, val), nextValue;\n}\nfunction findTargetIndex(array, pathSegment) {\n  if (typeof pathSegment == \"number\")\n    return pathSegment;\n  const index = lodash_findIndex_js__WEBPACK_IMPORTED_MODULE_11__(array, pathSegment);\n  return index === -1 ? !1 : index;\n}\nfunction apply$3(value, patch) {\n  const nextValue = value.slice();\n  if (patch.path.length === 0) {\n    if (patch.type === \"setIfMissing\") {\n      if (!Array.isArray(patch.value))\n        throw new Error(\"Cannot set value of an array to a non-array\");\n      return value === void 0 ? patch.value : value;\n    } else if (patch.type === \"set\") {\n      if (!Array.isArray(patch.value))\n        throw new Error(\"Cannot set value of an array to a non-array\");\n      return patch.value;\n    } else {\n      if (patch.type === \"unset\")\n        return;\n      if (patch.type === \"move\") {\n        if (!patch.value || !hasOwn(patch.value, \"from\") || !hasOwn(patch.value, \"to\"))\n          throw new Error(\n            `Invalid value of 'move' patch. Expected a value with \"from\" and \"to\" indexes, instead got: ${JSON.stringify(\n              patch.value\n            )}`\n          );\n        return move(nextValue, patch.value.from, patch.value.to);\n      }\n    }\n    throw new Error(`Invalid array operation: ${patch.type}`);\n  }\n  const [head, ...tail] = patch.path, index = findTargetIndex(value, head);\n  if (index === !1)\n    return nextValue;\n  if (tail.length === 0) {\n    if (patch.type === \"insert\") {\n      const { position, items } = patch;\n      return insert(value, position, index, items);\n    } else if (patch.type === \"unset\") {\n      if (typeof index != \"number\")\n        throw new Error(`Expected array index to be a number, instead got \"${index}\"`);\n      return nextValue.splice(index, 1), nextValue;\n    }\n  }\n  return nextValue[index] = _apply(nextValue[index], {\n    ...patch,\n    path: tail\n  }), nextValue;\n}\nfunction apply$2(value, patch) {\n  const nextValue = lodash_clone_js__WEBPACK_IMPORTED_MODULE_12__(value);\n  if (patch.path.length === 0) {\n    if (patch.type === \"set\") {\n      if (!lodash_isObject_js__WEBPACK_IMPORTED_MODULE_9__(patch.value))\n        throw new Error(\"Cannot set value of an object to a non-object\");\n      return patch.value;\n    } else {\n      if (patch.type === \"unset\")\n        return;\n      if (patch.type === \"setIfMissing\")\n        return value === void 0 ? patch.value : value;\n    }\n    throw new Error(`Invalid object operation: ${patch.type}`);\n  }\n  const [head, ...tail] = patch.path;\n  if (typeof head != \"string\")\n    throw new Error(`Expected field name to be a string, instad got: ${head}`);\n  return tail.length === 0 && patch.type === \"unset\" ? lodash_omit_js__WEBPACK_IMPORTED_MODULE_13__(nextValue, head) : (nextValue[head] = _apply(nextValue[head], {\n    ...patch,\n    path: tail\n  }), nextValue);\n}\nconst OPERATIONS$1 = {\n  replace(_currentValue, nextValue) {\n    return nextValue;\n  },\n  set(_currentValue, nextValue) {\n    return nextValue;\n  },\n  setIfMissing(currentValue, nextValue) {\n    return currentValue === void 0 ? nextValue : currentValue;\n  },\n  unset(_currentValue, _nextValue) {\n  },\n  inc(currentValue, nextValue) {\n    return currentValue + nextValue;\n  },\n  dec(currentValue, nextValue) {\n    return currentValue - nextValue;\n  }\n}, SUPPORTED_PATCH_TYPES$1 = Object.keys(OPERATIONS$1);\nfunction apply$1(value, patch) {\n  if (!SUPPORTED_PATCH_TYPES$1.includes(patch.type))\n    throw new Error(\n      `Received patch of unsupported type: \"${JSON.stringify(\n        patch.type\n      )}\" for primitives. This is most likely a bug.`\n    );\n  if (patch.path.length > 0)\n    throw new Error(\n      `Cannot apply deep operations on primitive values. Received patch with type \"${patch.type}\" and path \"${patch.path.map((path) => JSON.stringify(path)).join(\".\")} that targeted the value \"${JSON.stringify(value)}\"`\n    );\n  return OPERATIONS$1[patch.type](value, patch.value);\n}\nconst OPERATIONS = {\n  replace(currentValue, nextValue) {\n    return nextValue;\n  },\n  set(currentValue, nextValue) {\n    return nextValue;\n  },\n  setIfMissing(currentValue, nextValue) {\n    return currentValue === void 0 ? nextValue : currentValue;\n  },\n  unset(currentValue, nextValue) {\n  },\n  diffMatchPatch(currentValue, nextValue) {\n    const [result] = apply$4(parse(nextValue), currentValue, {\n      allowExceedingIndices: !0\n    });\n    return result;\n  }\n}, SUPPORTED_PATCH_TYPES = Object.keys(OPERATIONS);\nfunction apply(value, patch) {\n  if (!SUPPORTED_PATCH_TYPES.includes(patch.type))\n    throw new Error(\n      `Received patch of unsupported type: \"${JSON.stringify(\n        patch.type\n      )}\" for string. This is most likely a bug.`\n    );\n  if (patch.path.length > 0)\n    throw new Error(\n      `Cannot apply deep operations on string values. Received patch with type \"${patch.type}\" and path \"${patch.path.join(\".\")} that targeted the value \"${JSON.stringify(value)}\"`\n    );\n  const func = OPERATIONS[patch.type];\n  if (func)\n    return func(value, patch.value);\n  throw new Error(\"Unknown patch type\");\n}\nfunction applyAll(value, patches) {\n  return patches.reduce(_apply, value);\n}\nfunction applyPatch(value, patch) {\n  return Array.isArray(value) ? apply$3(value, patch) : lodash_isString_js__WEBPACK_IMPORTED_MODULE_10__(value) ? apply(value, patch) : lodash_isObject_js__WEBPACK_IMPORTED_MODULE_9__(value) ? apply$2(value, patch) : apply$1(value, patch);\n}\nfunction _apply(value, patch) {\n  return applyPatch(value, patch);\n}\nconst debug$h = debugWithName(\"applyPatches\"), debugVerbose$3 = debug$h.enabled && !0;\nfunction createApplyPatch(schemaTypes) {\n  let previousPatch;\n  return function(editor, patch) {\n    let changed = !1;\n    debugVerbose$3 && (debug$h(`\n\nNEW PATCH =============================================================`), debug$h(JSON.stringify(patch, null, 2)));\n    try {\n      switch (patch.type) {\n        case \"insert\":\n          changed = insertPatch(editor, patch, schemaTypes);\n          break;\n        case \"unset\":\n          changed = unsetPatch(editor, patch, previousPatch);\n          break;\n        case \"set\":\n          changed = setPatch(editor, patch);\n          break;\n        case \"diffMatchPatch\":\n          changed = diffMatchPatch(editor, patch);\n          break;\n        default:\n          debug$h(\"Unhandled patch\", patch.type);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n    return previousPatch = patch, changed;\n  };\n}\nfunction diffMatchPatch(editor, patch) {\n  const { block, child, childPath } = findBlockAndChildFromPath(editor, patch.path);\n  if (!block)\n    return debug$h(\"Block not found\"), !1;\n  if (!child || !childPath)\n    return debug$h(\"Child not found\"), !1;\n  if (!(block && editor.isTextBlock(block) && patch.path.length === 4 && patch.path[1] === \"children\" && patch.path[3] === \"text\") || !slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(child))\n    return !1;\n  const patches = parse(patch.value), [newValue] = apply$4(patches, child.text, { allowExceedingIndices: !0 }), diff$1 = cleanupEfficiency(diff(child.text, newValue), 5);\n  debugState(editor, \"before\");\n  let offset = 0;\n  for (const [op, text] of diff$1)\n    op === DIFF_INSERT ? (editor.apply({ type: \"insert_text\", path: childPath, offset, text }), offset += text.length) : op === DIFF_DELETE ? editor.apply({ type: \"remove_text\", path: childPath, offset, text }) : op === DIFF_EQUAL && (offset += text.length);\n  return debugState(editor, \"after\"), !0;\n}\nfunction insertPatch(editor, patch, schemaTypes) {\n  const {\n    block: targetBlock,\n    child: targetChild,\n    blockPath: targetBlockPath,\n    childPath: targetChildPath\n  } = findBlockAndChildFromPath(editor, patch.path);\n  if (!targetBlock || !targetBlockPath)\n    return debug$h(\"Block not found\"), !1;\n  if (patch.path.length > 1 && patch.path[1] !== \"children\")\n    return debug$h(\"Ignoring patch targeting void value\"), !1;\n  if (patch.path.length === 1) {\n    const { items: items2, position: position2 } = patch, blocksToInsert = toSlateValue(\n      items2,\n      { schemaTypes },\n      KEY_TO_SLATE_ELEMENT.get(editor)\n    ), targetBlockIndex = targetBlockPath[0], normalizedIdx2 = position2 === \"after\" ? targetBlockIndex + 1 : targetBlockIndex;\n    return debug$h(`Inserting blocks at path [${normalizedIdx2}]`), debugState(editor, \"before\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(editor, blocksToInsert, { at: [normalizedIdx2] }), debugState(editor, \"after\"), !0;\n  }\n  const { items, position } = patch;\n  if (!targetChild || !targetChildPath)\n    return debug$h(\"Child not found\"), !1;\n  const childrenToInsert = targetBlock && toSlateValue(\n    [{ ...targetBlock, children: items }],\n    { schemaTypes },\n    KEY_TO_SLATE_ELEMENT.get(editor)\n  ), targetChildIndex = targetChildPath[1], normalizedIdx = position === \"after\" ? targetChildIndex + 1 : targetChildIndex, childInsertPath = [targetChildPath[0], normalizedIdx];\n  return debug$h(`Inserting children at path ${childInsertPath}`), debugState(editor, \"before\"), childrenToInsert && slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(childrenToInsert[0]) && slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(editor, childrenToInsert[0].children, { at: childInsertPath }), debugState(editor, \"after\"), !0;\n}\nfunction setPatch(editor, patch) {\n  let value = patch.value;\n  typeof patch.path[3] == \"string\" && (value = {}, value[patch.path[3]] = patch.value);\n  const { block, blockPath, child, childPath } = findBlockAndChildFromPath(editor, patch.path);\n  if (!block)\n    return debug$h(\"Block not found\"), !1;\n  const isTextBlock = editor.isTextBlock(block);\n  if (isTextBlock && patch.path.length > 1 && patch.path[1] !== \"children\")\n    return debug$h(\"Ignoring setting void value\"), !1;\n  if (debugState(editor, \"before\"), isTextBlock && child && childPath) {\n    if (slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(value) && slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(child)) {\n      const newText = child.text;\n      value.text !== newText && (debug$h(\"Setting text property\"), editor.apply({\n        type: \"remove_text\",\n        path: childPath,\n        offset: 0,\n        text: newText\n      }), editor.apply({\n        type: \"insert_text\",\n        path: childPath,\n        offset: 0,\n        text: value.text\n      }), editor.onChange());\n    } else\n      debug$h(\"Setting non-text property\"), editor.apply({\n        type: \"set_node\",\n        path: childPath,\n        properties: {},\n        newProperties: value\n      });\n    return !0;\n  } else if (slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(block) && patch.path.length === 1 && blockPath) {\n    debug$h(\"Setting block property\");\n    const { children, ...nextRest } = value, { children: prevChildren, ...prevRest } = block || { children: void 0 };\n    editor.apply({\n      type: \"set_node\",\n      path: blockPath,\n      properties: { ...prevRest },\n      newProperties: nextRest\n    }), debug$h(\"Setting children\"), block.children.forEach((c, cIndex) => {\n      editor.apply({\n        type: \"remove_node\",\n        path: blockPath.concat(block.children.length - 1 - cIndex),\n        node: c\n      });\n    }), Array.isArray(children) && children.forEach((c, cIndex) => {\n      editor.apply({\n        type: \"insert_node\",\n        path: blockPath.concat(cIndex),\n        node: c\n      });\n    });\n  } else if (block && \"value\" in block) {\n    const newVal = applyAll([block.value], [patch])[0];\n    return slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { ...block, value: newVal }, { at: blockPath }), !0;\n  }\n  return debugState(editor, \"after\"), !0;\n}\nfunction unsetPatch(editor, patch, previousPatch) {\n  if (patch.path.length === 0) {\n    debug$h(\"Removing everything\"), debugState(editor, \"before\");\n    const previousSelection = editor.selection;\n    return slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.deselect(editor), editor.children.forEach((c, i) => {\n      slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(editor, { at: [i] });\n    }), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(editor, editor.pteCreateEmptyBlock()), previousSelection && slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(editor, {\n      anchor: { path: [0, 0], offset: 0 },\n      focus: { path: [0, 0], offset: 0 }\n    }), editor.onChange(), debugState(editor, \"after\"), !0;\n  }\n  const { block, blockPath, child, childPath } = findBlockAndChildFromPath(editor, patch.path);\n  if (patch.path.length === 1) {\n    if (!block || !blockPath)\n      return debug$h(\"Block not found\"), !1;\n    const blockIndex = blockPath[0];\n    return debug$h(`Removing block at path [${blockIndex}]`), debugState(editor, \"before\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(editor, { at: [blockIndex] }), debugState(editor, \"after\"), !0;\n  }\n  return editor.isTextBlock(block) && patch.path[1] === \"children\" && patch.path.length === 3 ? !child || !childPath ? (debug$h(\"Child not found\"), !1) : (debug$h(`Unsetting child at path ${JSON.stringify(childPath)}`), debugState(editor, \"before\"), debugVerbose$3 && debug$h(`Removing child at path ${JSON.stringify(childPath)}`), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(editor, { at: childPath }), debugState(editor, \"after\"), !0) : !1;\n}\nfunction isKeyedSegment(segment) {\n  return typeof segment == \"object\" && \"_key\" in segment;\n}\nfunction debugState(editor, stateName) {\n  debugVerbose$3 && (debug$h(`Children ${stateName}:`, JSON.stringify(editor.children, null, 2)), debug$h(`Selection ${stateName}: `, JSON.stringify(editor.selection, null, 2)));\n}\nfunction findBlockFromPath(editor, path) {\n  let blockIndex = -1;\n  const block = editor.children.find((node, index) => {\n    const isMatch = isKeyedSegment(path[0]) ? node._key === path[0]._key : index === path[0];\n    return isMatch && (blockIndex = index), isMatch;\n  });\n  return block ? { block, path: [blockIndex] } : {};\n}\nfunction findBlockAndChildFromPath(editor, path) {\n  const { block, path: blockPath } = findBlockFromPath(editor, path);\n  if (!(slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(block) && path[1] === \"children\"))\n    return { block, blockPath, child: void 0, childPath: void 0 };\n  let childIndex = -1;\n  const child = block.children.find((node, index) => {\n    const isMatch = isKeyedSegment(path[2]) ? node._key === path[2]._key : index === path[2];\n    return isMatch && (childIndex = index), isMatch;\n  });\n  return child ? { block, child, blockPath, childPath: blockPath == null ? void 0 : blockPath.concat(childIndex) } : { block, blockPath, child: void 0, childPath: void 0 };\n}\nfunction withRemoteChanges(editor, fn) {\n  const prev = isChangingRemotely(editor) || !1;\n  IS_PROCESSING_REMOTE_CHANGES.set(editor, !0), fn(), IS_PROCESSING_REMOTE_CHANGES.set(editor, prev);\n}\nfunction isChangingRemotely(editor) {\n  return IS_PROCESSING_REMOTE_CHANGES.get(editor);\n}\nfunction isChangingLocally(editor) {\n  return IS_PROCESSING_LOCAL_CHANGES.get(editor);\n}\nconst PATCHING = /* @__PURE__ */ new WeakMap();\nfunction withoutPatching(editor, fn) {\n  const prev = isPatching(editor);\n  PATCHING.set(editor, !1), fn(), PATCHING.set(editor, prev);\n}\nfunction isPatching(editor) {\n  return PATCHING.get(editor);\n}\nconst debug$g = debugWithName(\"plugin:withUndoRedo\"), debugVerbose$2 = debug$g.enabled && !1, SAVING = /* @__PURE__ */ new WeakMap(), REMOTE_PATCHES = /* @__PURE__ */ new WeakMap(), UNDO_STEP_LIMIT = 1e3, isSaving = (editor) => {\n  const state = SAVING.get(editor);\n  return state === void 0 ? !0 : state;\n}, getRemotePatches = (editor) => (REMOTE_PATCHES.get(editor) || REMOTE_PATCHES.set(editor, []), REMOTE_PATCHES.get(editor) || []);\nfunction createWithUndoRedo(options) {\n  const { readOnly, patches$, blockSchemaType } = options;\n  return (editor) => {\n    let previousSnapshot = fromSlateValue(\n      editor.children,\n      blockSchemaType.name\n    );\n    const remotePatches = getRemotePatches(editor);\n    patches$ && editor.subscriptions.push(() => {\n      debug$g(\"Subscribing to patches\");\n      const sub = patches$.subscribe(({ patches, snapshot }) => {\n        let reset = !1;\n        patches.forEach((patch) => {\n          if (!reset && patch.origin !== \"local\" && remotePatches) {\n            if (patch.type === \"unset\" && patch.path.length === 0) {\n              debug$g(\"Someone else cleared the content, resetting undo/redo history\"), editor.history = { undos: [], redos: [] }, remotePatches.splice(0, remotePatches.length), SAVING.set(editor, !0), reset = !0;\n              return;\n            }\n            remotePatches.push({ patch, time: /* @__PURE__ */ new Date(), snapshot, previousSnapshot });\n          }\n        }), previousSnapshot = snapshot;\n      });\n      return () => {\n        debug$g(\"Unsubscribing to patches\"), sub.unsubscribe();\n      };\n    }), editor.history = { undos: [], redos: [] };\n    const { apply: apply2 } = editor;\n    return editor.apply = (op) => {\n      if (readOnly) {\n        apply2(op);\n        return;\n      }\n      const { operations, history } = editor, { undos } = history, step = undos[undos.length - 1], lastOp = step && step.operations && step.operations[step.operations.length - 1], overwrite = shouldOverwrite(op, lastOp), save = isSaving(editor);\n      let merge = !0;\n      if (save) {\n        if (step ? operations.length === 0 && (merge = shouldMerge(op, lastOp) || overwrite) : merge = !1, step && merge)\n          step.operations.push(op);\n        else {\n          const newStep = {\n            operations: [...editor.selection === null ? [] : [createSelectOperation(editor)], op],\n            timestamp: /* @__PURE__ */ new Date()\n          };\n          undos.push(newStep), debug$g(\"Created new undo step\", step);\n        }\n        for (; undos.length > UNDO_STEP_LIMIT; )\n          undos.shift();\n        shouldClear(op) && (history.redos = []);\n      }\n      apply2(op);\n    }, editor.undo = () => {\n      if (readOnly)\n        return;\n      const { undos } = editor.history;\n      if (undos.length > 0) {\n        const step = undos[undos.length - 1];\n        if (debug$g(\"Undoing\", step), step.operations.length > 0) {\n          const otherPatches = remotePatches.filter((item) => item.time >= step.timestamp);\n          let transformedOperations = step.operations;\n          otherPatches.forEach((item) => {\n            transformedOperations = lodash_flatten_js__WEBPACK_IMPORTED_MODULE_14__(\n              transformedOperations.map(\n                (op) => transformOperation(editor, item.patch, op, item.snapshot, item.previousSnapshot)\n              )\n            );\n          });\n          try {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Editor.withoutNormalizing(editor, () => {\n              withPreserveKeys(editor, () => {\n                withoutSaving(editor, () => {\n                  transformedOperations.map(slate__WEBPACK_IMPORTED_MODULE_18__.Operation.inverse).reverse().forEach((op) => {\n                    editor.apply(op);\n                  });\n                });\n              });\n            }), editor.normalize(), editor.onChange();\n          } catch (err) {\n            debug$g(\"Could not perform undo step\", err), remotePatches.splice(0, remotePatches.length), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.deselect(editor), editor.history = { undos: [], redos: [] }, SAVING.set(editor, !0), editor.onChange();\n            return;\n          }\n          editor.history.redos.push(step), editor.history.undos.pop();\n        }\n      }\n    }, editor.redo = () => {\n      if (readOnly)\n        return;\n      const { redos } = editor.history;\n      if (redos.length > 0) {\n        const step = redos[redos.length - 1];\n        if (debug$g(\"Redoing\", step), step.operations.length > 0) {\n          const otherPatches = remotePatches.filter((item) => item.time >= step.timestamp);\n          let transformedOperations = step.operations;\n          otherPatches.forEach((item) => {\n            transformedOperations = lodash_flatten_js__WEBPACK_IMPORTED_MODULE_14__(\n              transformedOperations.map(\n                (op) => transformOperation(editor, item.patch, op, item.snapshot, item.previousSnapshot)\n              )\n            );\n          });\n          try {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Editor.withoutNormalizing(editor, () => {\n              withPreserveKeys(editor, () => {\n                withoutSaving(editor, () => {\n                  transformedOperations.forEach((op) => {\n                    editor.apply(op);\n                  });\n                });\n              });\n            }), editor.normalize(), editor.onChange();\n          } catch (err) {\n            debug$g(\"Could not perform redo step\", err), remotePatches.splice(0, remotePatches.length), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.deselect(editor), editor.history = { undos: [], redos: [] }, SAVING.set(editor, !0), editor.onChange();\n            return;\n          }\n          editor.history.undos.push(step), editor.history.redos.pop();\n        }\n      }\n    }, editor;\n  };\n}\nfunction transformOperation(editor, patch, operation, snapshot, previousSnapshot) {\n  debugVerbose$2 && (debug$g(`Adjusting '${operation.type}' operation paths for '${patch.type}' patch`), debug$g(`Operation ${JSON.stringify(operation)}`), debug$g(`Patch ${JSON.stringify(patch)}`));\n  const transformedOperation = { ...operation };\n  if (patch.type === \"insert\" && patch.path.length === 1) {\n    const insertBlockIndex = (snapshot || []).findIndex(\n      (blk) => lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__({ _key: blk._key }, patch.path[0])\n    );\n    return debug$g(\n      `Adjusting block path (+${patch.items.length}) for '${transformedOperation.type}' operation and patch '${patch.type}'`\n    ), [adjustBlockPath(transformedOperation, patch.items.length, insertBlockIndex)];\n  }\n  if (patch.type === \"unset\" && patch.path.length === 1) {\n    const unsetBlockIndex = (previousSnapshot || []).findIndex(\n      (blk) => lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__({ _key: blk._key }, patch.path[0])\n    );\n    return \"path\" in transformedOperation && Array.isArray(transformedOperation.path) && transformedOperation.path[0] === unsetBlockIndex ? (debug$g(\"Skipping transformation that targeted removed block\"), []) : (debugVerbose$2 && (debug$g(`Selection ${JSON.stringify(editor.selection)}`), debug$g(\n      `Adjusting block path (-1) for '${transformedOperation.type}' operation and patch '${patch.type}'`\n    )), [adjustBlockPath(transformedOperation, -1, unsetBlockIndex)]);\n  }\n  if (patch.type === \"unset\" && patch.path.length === 0)\n    return debug$g(`Adjusting selection for unset everything patch and ${operation.type} operation`), [];\n  if (patch.type === \"diffMatchPatch\") {\n    const operationTargetBlock = findOperationTargetBlock(editor, transformedOperation);\n    return !operationTargetBlock || !lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__({ _key: operationTargetBlock._key }, patch.path[0]) ? [transformedOperation] : (parse(patch.value).forEach((diffPatch) => {\n      var _a, _b, _c, _d;\n      let adjustOffsetBy = 0, changedOffset = diffPatch.utf8Start1;\n      const { diffs } = diffPatch;\n      if (diffs.forEach((diff2, index) => {\n        const [diffType, text] = diff2;\n        diffType === DIFF_INSERT ? (adjustOffsetBy += text.length, changedOffset += text.length) : diffType === DIFF_DELETE ? (adjustOffsetBy -= text.length, changedOffset -= text.length) : diffType === DIFF_EQUAL && (diffs.slice(index).every(([dType]) => dType === DIFF_EQUAL) || (changedOffset += text.length));\n      }), transformedOperation.type === \"insert_text\" && changedOffset < transformedOperation.offset && (transformedOperation.offset += adjustOffsetBy), transformedOperation.type === \"remove_text\" && changedOffset <= transformedOperation.offset - transformedOperation.text.length && (transformedOperation.offset += adjustOffsetBy), transformedOperation.type === \"set_selection\") {\n        const currentFocus = (_a = transformedOperation.properties) != null && _a.focus ? { ...transformedOperation.properties.focus } : void 0, currentAnchor = (_b = transformedOperation == null ? void 0 : transformedOperation.properties) != null && _b.anchor ? { ...transformedOperation.properties.anchor } : void 0, newFocus = (_c = transformedOperation == null ? void 0 : transformedOperation.newProperties) != null && _c.focus ? { ...transformedOperation.newProperties.focus } : void 0, newAnchor = (_d = transformedOperation == null ? void 0 : transformedOperation.newProperties) != null && _d.anchor ? { ...transformedOperation.newProperties.anchor } : void 0;\n        (currentFocus && currentAnchor || newFocus && newAnchor) && ([currentFocus, currentAnchor, newFocus, newAnchor].forEach((point) => {\n          point && changedOffset < point.offset && (point.offset += adjustOffsetBy);\n        }), currentFocus && currentAnchor && (transformedOperation.properties = {\n          focus: currentFocus,\n          anchor: currentAnchor\n        }), newFocus && newAnchor && (transformedOperation.newProperties = {\n          focus: newFocus,\n          anchor: newAnchor\n        }));\n      }\n    }), [transformedOperation]);\n  }\n  return [transformedOperation];\n}\nfunction adjustBlockPath(operation, level, blockIndex) {\n  var _a, _b, _c, _d;\n  const transformedOperation = { ...operation };\n  if (blockIndex >= 0 && transformedOperation.type !== \"set_selection\" && Array.isArray(transformedOperation.path) && transformedOperation.path[0] >= blockIndex + level && transformedOperation.path[0] + level > -1) {\n    const newPath = [transformedOperation.path[0] + level, ...transformedOperation.path.slice(1)];\n    transformedOperation.path = newPath;\n  }\n  if (transformedOperation.type === \"set_selection\") {\n    const currentFocus = (_a = transformedOperation.properties) != null && _a.focus ? { ...transformedOperation.properties.focus } : void 0, currentAnchor = (_b = transformedOperation == null ? void 0 : transformedOperation.properties) != null && _b.anchor ? { ...transformedOperation.properties.anchor } : void 0, newFocus = (_c = transformedOperation == null ? void 0 : transformedOperation.newProperties) != null && _c.focus ? { ...transformedOperation.newProperties.focus } : void 0, newAnchor = (_d = transformedOperation == null ? void 0 : transformedOperation.newProperties) != null && _d.anchor ? { ...transformedOperation.newProperties.anchor } : void 0;\n    (currentFocus && currentAnchor || newFocus && newAnchor) && ([currentFocus, currentAnchor, newFocus, newAnchor].forEach((point) => {\n      point && point.path[0] >= blockIndex + level && point.path[0] + level > -1 && (point.path = [point.path[0] + level, ...point.path.slice(1)]);\n    }), currentFocus && currentAnchor && (transformedOperation.properties = {\n      focus: currentFocus,\n      anchor: currentAnchor\n    }), newFocus && newAnchor && (transformedOperation.newProperties = {\n      focus: newFocus,\n      anchor: newAnchor\n    }));\n  }\n  return transformedOperation;\n}\nconst shouldMerge = (op, prev) => !!(op.type === \"set_selection\" || prev && op.type === \"insert_text\" && prev.type === \"insert_text\" && op.offset === prev.offset + prev.text.length && slate__WEBPACK_IMPORTED_MODULE_18__.Path.equals(op.path, prev.path) && op.text !== \" \" || prev && op.type === \"remove_text\" && prev.type === \"remove_text\" && op.offset + op.text.length === prev.offset && slate__WEBPACK_IMPORTED_MODULE_18__.Path.equals(op.path, prev.path)), shouldOverwrite = (op, prev) => !!(prev && op.type === \"set_selection\" && prev.type === \"set_selection\"), shouldClear = (op) => op.type !== \"set_selection\";\nfunction withoutSaving(editor, fn) {\n  const prev = isSaving(editor);\n  SAVING.set(editor, !1), fn(), SAVING.set(editor, prev);\n}\nfunction createSelectOperation(editor) {\n  return {\n    type: \"set_selection\",\n    properties: { ...editor.selection },\n    newProperties: { ...editor.selection }\n  };\n}\nfunction findOperationTargetBlock(editor, operation) {\n  let block;\n  return operation.type === \"set_selection\" && editor.selection ? block = editor.children[editor.selection.focus.path[0]] : \"path\" in operation && (block = editor.children[operation.path[0]]), block;\n}\nconst debug$f = debugWithName(\"plugin:withPatches\");\nfunction createWithPatches({\n  change$,\n  patches$,\n  patchFunctions,\n  readOnly,\n  schemaTypes\n}) {\n  let previousChildren;\n  const applyPatch2 = createApplyPatch(schemaTypes);\n  return function(editor) {\n    IS_PROCESSING_REMOTE_CHANGES.set(editor, !1), PATCHING.set(editor, !0), previousChildren = [...editor.children];\n    const { apply: apply2 } = editor;\n    let bufferedPatches = [];\n    const handleBufferedRemotePatches = () => {\n      if (bufferedPatches.length === 0)\n        return;\n      const patches = bufferedPatches;\n      bufferedPatches = [];\n      let changed = !1;\n      withRemoteChanges(editor, () => {\n        slate__WEBPACK_IMPORTED_MODULE_18__.Editor.withoutNormalizing(editor, () => {\n          withoutPatching(editor, () => {\n            withoutSaving(editor, () => {\n              withPreserveKeys(editor, () => {\n                patches.forEach((patch) => {\n                  debug$f.enabled && debug$f(`Handling remote patch ${JSON.stringify(patch)}`), changed = applyPatch2(editor, patch);\n                });\n              });\n            });\n          });\n        }), changed && (editor.normalize(), editor.onChange());\n      });\n    }, handlePatches = ({ patches }) => {\n      const remotePatches = patches.filter((p) => p.origin !== \"local\");\n      remotePatches.length !== 0 && (bufferedPatches = bufferedPatches.concat(remotePatches), handleBufferedRemotePatches());\n    };\n    return patches$ && editor.subscriptions.push(() => {\n      debug$f(\"Subscribing to patches$\");\n      const sub = patches$.subscribe(handlePatches);\n      return () => {\n        debug$f(\"Unsubscribing to patches$\"), sub.unsubscribe();\n      };\n    }), editor.apply = (operation) => {\n      if (readOnly)\n        return apply2(operation), editor;\n      let patches = [];\n      previousChildren = editor.children;\n      const editorWasEmpty = isEqualToEmptyEditor(previousChildren, schemaTypes);\n      apply2(operation);\n      const editorIsEmpty = isEqualToEmptyEditor(editor.children, schemaTypes);\n      if (!isPatching(editor))\n        return editor;\n      switch (editorWasEmpty && !editorIsEmpty && operation.type !== \"set_selection\" && patches.push(insert$1(previousChildren, \"before\", [0])), operation.type) {\n        case \"insert_text\":\n          patches = [\n            ...patches,\n            ...patchFunctions.insertTextPatch(editor, operation, previousChildren)\n          ];\n          break;\n        case \"remove_text\":\n          patches = [\n            ...patches,\n            ...patchFunctions.removeTextPatch(editor, operation, previousChildren)\n          ];\n          break;\n        case \"remove_node\":\n          patches = [\n            ...patches,\n            ...patchFunctions.removeNodePatch(editor, operation, previousChildren)\n          ];\n          break;\n        case \"split_node\":\n          patches = [\n            ...patches,\n            ...patchFunctions.splitNodePatch(editor, operation, previousChildren)\n          ];\n          break;\n        case \"insert_node\":\n          patches = [\n            ...patches,\n            ...patchFunctions.insertNodePatch(editor, operation, previousChildren)\n          ];\n          break;\n        case \"set_node\":\n          patches = [\n            ...patches,\n            ...patchFunctions.setNodePatch(editor, operation, previousChildren)\n          ];\n          break;\n        case \"merge_node\":\n          patches = [\n            ...patches,\n            ...patchFunctions.mergeNodePatch(editor, operation, previousChildren)\n          ];\n          break;\n        case \"move_node\":\n          patches = [\n            ...patches,\n            ...patchFunctions.moveNodePatch(editor, operation, previousChildren)\n          ];\n          break;\n      }\n      return !editorWasEmpty && editorIsEmpty && [\"merge_node\", \"set_node\", \"remove_text\", \"remove_node\"].includes(operation.type) && (patches = [...patches, unset([])], change$.next({\n        type: \"unset\",\n        previousValue: fromSlateValue(\n          previousChildren,\n          schemaTypes.block.name,\n          KEY_TO_VALUE_ELEMENT.get(editor)\n        )\n      })), editorWasEmpty && patches.length > 0 && (patches = [setIfMissing([], []), ...patches]), patches.length > 0 && patches.forEach((patch) => {\n        change$.next({\n          type: \"patch\",\n          patch: { ...patch, origin: \"local\" }\n        });\n      }), editor;\n    }, editor;\n  };\n}\nconst debug$e = debugWithName(\"plugin:withPlaceholderBlock\");\nfunction createWithPlaceholderBlock() {\n  return function(editor) {\n    const { apply: apply2 } = editor;\n    return editor.apply = (op) => {\n      if (op.type === \"remove_node\") {\n        const node = op.node;\n        if (op.path[0] === 0 && slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isVoid(editor, node)) {\n          const nextPath = slate__WEBPACK_IMPORTED_MODULE_18__.Path.next(op.path);\n          editor.children[nextPath[0]] || (debug$e(\"Adding placeholder block\"), slate__WEBPACK_IMPORTED_MODULE_18__.Editor.insertNode(editor, editor.pteCreateEmptyBlock()));\n        }\n      }\n      apply2(op);\n    }, editor;\n  };\n}\nconst debug$d = debugWithName(\"plugin:withPortableTextBlockStyle\");\nfunction createWithPortableTextBlockStyle(types) {\n  const defaultStyle = types.styles[0].value;\n  return function(editor) {\n    const { normalizeNode } = editor;\n    return editor.normalizeNode = (nodeEntry) => {\n      normalizeNode(nodeEntry);\n      const [, path] = nodeEntry;\n      for (const op of editor.operations)\n        if (op.type === \"split_node\" && op.path.length === 1 && editor.isTextBlock(op.properties) && op.properties.style !== defaultStyle && op.path[0] === path[0] && !slate__WEBPACK_IMPORTED_MODULE_18__.Path.equals(path, op.path)) {\n          const [child] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, [op.path[0] + 1, 0]);\n          if (slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(child) && child.text === \"\") {\n            debug$d(`Normalizing split node to ${defaultStyle} style`, op), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { style: defaultStyle }, { at: [op.path[0] + 1], voids: !1 });\n            break;\n          }\n        }\n    }, editor.pteHasBlockStyle = (style) => editor.selection ? [\n      ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n        at: editor.selection,\n        match: (node) => editor.isTextBlock(node) && node.style === style\n      })\n    ].length > 0 : !1, editor.pteToggleBlockStyle = (blockStyle) => {\n      editor.selection && ([\n        ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n          at: editor.selection,\n          match: (node) => editor.isTextBlock(node)\n        })\n      ].forEach(([node, path]) => {\n        editor.isTextBlock(node) && node.style === blockStyle ? (debug$d(`Unsetting block style '${blockStyle}'`), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { ...node, style: defaultStyle }, {\n          at: path\n        })) : (blockStyle ? debug$d(`Setting style '${blockStyle}'`) : debug$d(\"Setting default style\", defaultStyle), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n          editor,\n          {\n            ...node,\n            style: blockStyle || defaultStyle\n          },\n          { at: path }\n        ));\n      }), editor.onChange());\n    }, editor;\n  };\n}\nconst debug$c = debugWithName(\"plugin:withPortableTextLists\"), MAX_LIST_LEVEL = 10;\nfunction createWithPortableTextLists(types) {\n  return function(editor) {\n    return editor.pteToggleListItem = (listItemStyle) => {\n      editor.pteHasListStyle(listItemStyle) ? (debug$c(`Remove list item '${listItemStyle}'`), editor.pteUnsetListItem(listItemStyle)) : (debug$c(`Add list item '${listItemStyle}'`), editor.pteSetListItem(listItemStyle));\n    }, editor.pteUnsetListItem = (listItemStyle) => {\n      editor.selection && [\n        ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n          at: editor.selection,\n          match: (node) => slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(node) && node._type === types.block.name\n        })\n      ].forEach(([node, path]) => {\n        if (editor.isListBlock(node)) {\n          const { listItem, level, ...rest } = node, newNode = {\n            ...rest,\n            listItem: void 0,\n            level: void 0\n          };\n          debug$c(`Unsetting list '${listItemStyle}'`), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, newNode, { at: path });\n        }\n      });\n    }, editor.pteSetListItem = (listItemStyle) => {\n      editor.selection && [\n        ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n          at: editor.selection,\n          match: (node) => editor.isTextBlock(node)\n        })\n      ].forEach(([node, path]) => {\n        debug$c(`Setting list '${listItemStyle}'`), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n          editor,\n          {\n            ...node,\n            level: 1,\n            listItem: listItemStyle || types.lists[0] && types.lists[0].value\n          },\n          { at: path }\n        );\n      });\n    }, editor.pteEndList = () => {\n      if (!editor.selection)\n        return !1;\n      const selectedBlocks = [\n        ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n          at: editor.selection,\n          match: (node) => slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(node) && editor.isListBlock(node) && node.children.length === 1 && slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(node.children[0]) && node.children[0].text === \"\"\n        })\n      ];\n      return selectedBlocks.length === 0 ? !1 : (selectedBlocks.forEach(([node, path]) => {\n        slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(node) && (debug$c(\"Unset list\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n          editor,\n          {\n            ...node,\n            level: void 0,\n            listItem: void 0\n          },\n          { at: path }\n        ));\n      }), !0);\n    }, editor.pteIncrementBlockLevels = (reverse) => {\n      if (!editor.selection)\n        return !1;\n      const selectedBlocks = [\n        ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n          at: editor.selection,\n          match: (node) => !!editor.isListBlock(node)\n        })\n      ];\n      return selectedBlocks.length === 0 ? !1 : (selectedBlocks.forEach(([node, path]) => {\n        if (editor.isListBlock(node)) {\n          let level = node.level || 1;\n          reverse ? (level--, debug$c(\"Decrementing list level\", Math.min(MAX_LIST_LEVEL, Math.max(1, level)))) : (level++, debug$c(\"Incrementing list level\", Math.min(MAX_LIST_LEVEL, Math.max(1, level)))), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n            editor,\n            { level: Math.min(MAX_LIST_LEVEL, Math.max(1, level)) },\n            { at: path }\n          );\n        }\n      }), !0);\n    }, editor.pteHasListStyle = (listStyle) => {\n      if (!editor.selection)\n        return !1;\n      const selectedBlocks = [\n        ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n          at: editor.selection,\n          match: (node) => editor.isTextBlock(node)\n        })\n      ];\n      return selectedBlocks.length > 0 ? selectedBlocks.every(\n        ([node]) => editor.isListBlock(node) && node.listItem === listStyle\n      ) : !1;\n    }, editor;\n  };\n}\nconst debug$b = debugWithName(\"plugin:withPortableTextMarkModel\");\nfunction createWithPortableTextMarkModel(types, change$) {\n  return function(editor) {\n    const { apply: apply2, normalizeNode } = editor, decorators = types.decorators.map((t) => t.value), forceNewSelection = () => {\n      editor.selection && (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(editor, { ...editor.selection }), editor.selection = { ...editor.selection });\n      const ptRange = toPortableTextRange(editor.children, editor.selection, types);\n      change$.next({ type: \"selection\", selection: ptRange });\n    };\n    return editor.normalizeNode = (nodeEntry) => {\n      normalizeNode(nodeEntry), editor.operations.some(\n        (op) => [\n          \"insert_node\",\n          \"insert_text\",\n          \"merge_node\",\n          \"remove_node\",\n          \"remove_text\",\n          \"set_node\"\n        ].includes(op.type)\n      ) && mergeSpans(editor);\n      const [node, path] = nodeEntry, isSpan = slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(node) && node._type === types.span.name, isTextBlock = editor.isTextBlock(node);\n      if (isSpan || isTextBlock) {\n        if (isSpan && !Array.isArray(node.marks) && (debug$b(\"Adding .marks to span node\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { marks: [] }, { at: path }), editor.onChange()), isSpan && (node.marks || []).length > 0) {\n          const spanMarks = node.marks || EMPTY_MARKS$1, annotationMarks = spanMarks.filter(\n            (mark) => !types.decorators.map((dec) => dec.value).includes(mark)\n          );\n          if (annotationMarks.length > 0) {\n            const [block] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, slate__WEBPACK_IMPORTED_MODULE_18__.Path.parent(path)), orphanedMarks = editor.isTextBlock(block) && annotationMarks.filter(\n              (mark) => {\n                var _a;\n                return !((_a = block.markDefs) != null && _a.find((def) => def._key === mark));\n              }\n            ) || [];\n            orphanedMarks.length > 0 && (debug$b(\"Removing orphaned .marks from span node\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n              editor,\n              { marks: spanMarks.filter((mark) => !orphanedMarks.includes(mark)) },\n              { at: path }\n            ), editor.onChange());\n          }\n        }\n        for (const op of editor.operations) {\n          if (op.type === \"merge_node\" && op.path.length === 1 && \"markDefs\" in op.properties && op.properties._type === types.block.name && Array.isArray(op.properties.markDefs) && op.properties.markDefs.length > 0 && op.path[0] - 1 >= 0) {\n            const [targetBlock, targetPath] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, [op.path[0] - 1]);\n            if (debug$b(\"Copying markDefs over to merged block\", op), editor.isTextBlock(targetBlock)) {\n              const oldDefs = Array.isArray(targetBlock.markDefs) && targetBlock.markDefs || [], newMarkDefs = lodash_uniq_js__WEBPACK_IMPORTED_MODULE_5__([...oldDefs, ...op.properties.markDefs]);\n              lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(newMarkDefs, targetBlock.markDefs) || (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { markDefs: newMarkDefs }, { at: targetPath, voids: !1 }), editor.onChange());\n            }\n          }\n          if (op.type === \"split_node\" && op.path.length === 1 && slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElementProps(op.properties) && op.properties._type === types.block.name && \"markDefs\" in op.properties && Array.isArray(op.properties.markDefs) && op.properties.markDefs.length > 0 && op.path[0] + 1 < editor.children.length) {\n            const [targetBlock, targetPath] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, [op.path[0] + 1]);\n            if (debug$b(\"Copying markDefs over to split block\", op), editor.isTextBlock(targetBlock)) {\n              const oldDefs = Array.isArray(targetBlock.markDefs) && targetBlock.markDefs || [];\n              slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n                editor,\n                { markDefs: lodash_uniq_js__WEBPACK_IMPORTED_MODULE_5__([...oldDefs, ...op.properties.markDefs]) },\n                { at: targetPath, voids: !1 }\n              ), editor.onChange();\n            }\n          }\n          if (op.type === \"split_node\" && op.path.length === 2 && op.properties._type === types.span.name && \"marks\" in op.properties && Array.isArray(op.properties.marks) && op.properties.marks.length > 0 && op.path[0] + 1 < editor.children.length) {\n            const [child, childPath] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, [op.path[0] + 1, 0]);\n            slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(child) && child.text === \"\" && Array.isArray(child.marks) && child.marks.length > 0 && (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { marks: [] }, { at: childPath, voids: !1 }), editor.onChange());\n          }\n          if (op.type === \"split_node\" && op.path.length === 1 && op.properties._type === types.block.name && \"markDefs\" in op.properties && Array.isArray(op.properties.markDefs) && op.properties.markDefs.length > 0) {\n            const [block, blockPath] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, [op.path[0]]);\n            editor.isTextBlock(block) && block.children.length === 1 && block.markDefs && block.markDefs.length > 0 && slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(block.children[0]) && block.children[0].text === \"\" && (!block.children[0].marks || block.children[0].marks.length === 0) && (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { markDefs: [] }, { at: blockPath }), editor.onChange());\n          }\n        }\n        isSpan && Array.isArray(node.marks) && (!node.marks || node.marks.length > 0 && node.text === \"\") && (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { marks: [] }, { at: path, voids: !1 }), editor.onChange());\n      }\n      if (editor.isTextBlock(node) && !editor.operations.some(\n        (op) => op.type === \"merge_node\" && \"markDefs\" in op.properties && op.path.length === 1\n      )) {\n        const newMarkDefs = (node.markDefs || []).filter((def) => node.children.find((child) => slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(child) && Array.isArray(child.marks) && child.marks.includes(def._key)));\n        node.markDefs && !lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(newMarkDefs, node.markDefs) && (debug$b(\"Removing markDef not in use\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n          editor,\n          {\n            markDefs: newMarkDefs\n          },\n          { at: path }\n        ), editor.onChange());\n      }\n    }, editor.apply = (op) => {\n      var _a, _b;\n      if (op.type === \"insert_text\") {\n        const { selection } = editor;\n        if (selection && slate__WEBPACK_IMPORTED_MODULE_18__.Range.isCollapsed(selection) && (_b = (_a = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.marks(editor)) == null ? void 0 : _a.marks) != null && _b.some((mark) => !decorators.includes(mark))) {\n          const [node] = Array.from(\n            slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n              mode: \"lowest\",\n              at: selection.focus,\n              match: (n) => n._type === types.span.name,\n              voids: !1\n            })\n          )[0] || [void 0];\n          if (slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(node) && node.text.length === selection.focus.offset && Array.isArray(node.marks) && node.marks.length > 0) {\n            apply2(op), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.splitNodes(editor, {\n              match: slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText,\n              at: { ...selection.focus, offset: selection.focus.offset }\n            });\n            const marksWithoutAnnotationMarks = ({\n              ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.marks(editor) || {}\n            }.marks || []).filter((mark) => decorators.includes(mark));\n            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n              editor,\n              { marks: marksWithoutAnnotationMarks },\n              { at: slate__WEBPACK_IMPORTED_MODULE_18__.Path.next(selection.focus.path) }\n            ), debug$b(\"Inserting text at end of annotation\");\n            return;\n          }\n        }\n      }\n      apply2(op);\n    }, editor.addMark = (mark) => {\n      if (editor.selection) {\n        if (slate__WEBPACK_IMPORTED_MODULE_18__.Range.isExpanded(editor.selection)) {\n          slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, {}, { match: slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText, split: !0 });\n          const splitTextNodes = [\n            ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, { at: editor.selection, match: slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText })\n          ];\n          if (splitTextNodes.every((node) => {\n            var _a;\n            return (_a = node[0].marks) == null ? void 0 : _a.includes(mark);\n          }))\n            return editor.removeMark(mark), editor;\n          slate__WEBPACK_IMPORTED_MODULE_18__.Editor.withoutNormalizing(editor, () => {\n            splitTextNodes.forEach(([node, path]) => {\n              const marks = [\n                ...(Array.isArray(node.marks) ? node.marks : []).filter(\n                  (eMark) => eMark !== mark\n                ),\n                mark\n              ];\n              slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n                editor,\n                { marks },\n                { at: path, match: slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText, split: !0, hanging: !0 }\n              );\n            });\n          }), slate__WEBPACK_IMPORTED_MODULE_18__.Editor.normalize(editor);\n        } else {\n          const existingMarks = {\n            ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.marks(editor) || {}\n          }.marks || [], marks = {\n            ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.marks(editor) || {},\n            marks: [...existingMarks, mark]\n          };\n          return editor.marks = marks, forceNewSelection(), editor;\n        }\n        editor.onChange(), forceNewSelection();\n      }\n      return editor;\n    }, editor.removeMark = (mark) => {\n      const { selection } = editor;\n      if (selection) {\n        if (slate__WEBPACK_IMPORTED_MODULE_18__.Range.isExpanded(selection))\n          slate__WEBPACK_IMPORTED_MODULE_18__.Editor.withoutNormalizing(editor, () => {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, {}, { match: slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText, split: !0 }), editor.selection && [\n              ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, { at: editor.selection, match: slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText })\n            ].forEach(([node, path]) => {\n              const block = editor.children[path[0]];\n              slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(block) && block.children.includes(node) && slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n                editor,\n                {\n                  marks: (Array.isArray(node.marks) ? node.marks : []).filter(\n                    (eMark) => eMark !== mark\n                  ),\n                  _type: \"span\"\n                },\n                { at: path }\n              );\n            });\n          }), slate__WEBPACK_IMPORTED_MODULE_18__.Editor.normalize(editor);\n        else {\n          const existingMarks = {\n            ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.marks(editor) || {}\n          }.marks || [], marks = {\n            ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.marks(editor) || {},\n            marks: existingMarks.filter((eMark) => eMark !== mark)\n          };\n          return editor.marks = { marks: marks.marks, _type: \"span\" }, forceNewSelection(), editor;\n        }\n        editor.onChange(), forceNewSelection();\n      }\n      return editor;\n    }, editor.pteIsMarkActive = (mark) => {\n      if (!editor.selection)\n        return !1;\n      const selectedNodes = Array.from(\n        slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, { match: slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText, at: editor.selection })\n      );\n      return slate__WEBPACK_IMPORTED_MODULE_18__.Range.isExpanded(editor.selection) ? selectedNodes.every((n) => {\n        var _a;\n        const [node] = n;\n        return (_a = node.marks) == null ? void 0 : _a.includes(mark);\n      }) : ({\n        ...slate__WEBPACK_IMPORTED_MODULE_18__.Editor.marks(editor) || {}\n      }.marks || []).includes(mark);\n    }, editor.pteToggleMark = (mark) => {\n      editor.pteIsMarkActive(mark) ? (debug$b(`Remove mark '${mark}'`), slate__WEBPACK_IMPORTED_MODULE_18__.Editor.removeMark(editor, mark)) : (debug$b(`Add mark '${mark}'`), slate__WEBPACK_IMPORTED_MODULE_18__.Editor.addMark(editor, mark, !0));\n    }, editor;\n  };\n  function mergeSpans(editor) {\n    const { selection } = editor;\n    if (selection)\n      for (const [node, path] of Array.from(\n        slate__WEBPACK_IMPORTED_MODULE_18__.Editor.nodes(editor, {\n          at: slate__WEBPACK_IMPORTED_MODULE_18__.Editor.range(editor, [selection.anchor.path[0]], [selection.focus.path[0]])\n        })\n      ).reverse()) {\n        const [parent] = path.length > 1 ? slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, slate__WEBPACK_IMPORTED_MODULE_18__.Path.parent(path)) : [void 0], nextPath = [path[0], path[1] + 1];\n        if (editor.isTextBlock(parent)) {\n          const nextNode = parent.children[nextPath[1]];\n          slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(node) && slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(nextNode) && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(nextNode.marks, node.marks) && (debug$b(\"Merging spans\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.mergeNodes(editor, { at: nextPath, voids: !0 }), editor.onChange());\n        }\n      }\n  }\n}\nconst debug$a = debugWithName(\"plugin:withPortableTextSelections\"), debugVerbose$1 = debug$a.enabled && !1;\nfunction createWithPortableTextSelections(change$, types) {\n  let prevSelection = null;\n  return function(editor) {\n    const emitPortableTextSelection = () => {\n      if (prevSelection !== editor.selection) {\n        let ptRange = null;\n        if (editor.selection) {\n          const existing = SLATE_TO_PORTABLE_TEXT_RANGE.get(editor.selection);\n          if (existing)\n            ptRange = existing;\n          else {\n            const value = editor.children;\n            ptRange = toPortableTextRange(value, editor.selection, types), SLATE_TO_PORTABLE_TEXT_RANGE.set(editor.selection, ptRange);\n          }\n        }\n        debugVerbose$1 && debug$a(\n          `Emitting selection ${JSON.stringify(ptRange || null)} (${JSON.stringify(\n            editor.selection\n          )})`\n        ), ptRange ? change$.next({ type: \"selection\", selection: ptRange }) : change$.next({ type: \"selection\", selection: null });\n      }\n      prevSelection = editor.selection;\n    }, { onChange } = editor;\n    return editor.onChange = () => {\n      const hasChanges = editor.operations.length > 0;\n      onChange(), hasChanges && emitPortableTextSelection();\n    }, editor;\n  };\n}\nconst debug$9 = debugWithName(\"plugin:withSchemaTypes\");\nfunction createWithSchemaTypes({\n  schemaTypes,\n  keyGenerator\n}) {\n  return function(editor) {\n    editor.isTextBlock = (value) => (0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextTextBlock)(value) && value._type === schemaTypes.block.name, editor.isTextSpan = (value) => (0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextSpan)(value) && value._type == schemaTypes.span.name, editor.isListBlock = (value) => (0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextListBlock)(value) && value._type === schemaTypes.block.name, editor.isVoid = (element) => schemaTypes.block.name !== element._type && (schemaTypes.blockObjects.map((obj) => obj.name).includes(element._type) || schemaTypes.inlineObjects.map((obj) => obj.name).includes(element._type)), editor.isInline = (element) => schemaTypes.inlineObjects.map((obj) => obj.name).includes(element._type) && \"__inline\" in element && element.__inline === !0;\n    const { normalizeNode } = editor;\n    return editor.normalizeNode = (entry) => {\n      const [node, path] = entry;\n      if (node._type === void 0 && path.length === 2) {\n        debug$9(\"Setting span type on text node without a type\");\n        const span = node, key = span._key || keyGenerator();\n        slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { ...span, _type: schemaTypes.span.name, _key: key }, { at: path });\n      }\n      if (node._key === void 0 && (path.length === 1 || path.length === 2)) {\n        debug$9(\"Setting missing key on child node without a key\");\n        const key = keyGenerator();\n        slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, { _key: key }, { at: path });\n      }\n      normalizeNode(entry);\n    }, editor;\n  };\n}\nconst debug$8 = debugWithName(\"plugin:withUtils\");\nfunction createWithUtils({ schemaTypes, keyGenerator, portableTextEditor }) {\n  return function(editor) {\n    return editor.pteExpandToWord = () => {\n      const { selection } = editor;\n      if (selection && !slate__WEBPACK_IMPORTED_MODULE_18__.Range.isExpanded(selection)) {\n        const [textNode] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, selection.focus, { depth: 2 });\n        if (!textNode || !slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(textNode) || textNode.text.length === 0) {\n          debug$8(\"pteExpandToWord: Can't expand to word here\");\n          return;\n        }\n        const { focus } = selection, focusOffset = focus.offset, charsBefore = textNode.text.slice(0, focusOffset), charsAfter = textNode.text.slice(focusOffset, -1), isEmpty = (str) => str.match(/\\s/g), whiteSpaceBeforeIndex = charsBefore.split(\"\").reverse().findIndex((str) => isEmpty(str)), newStartOffset = whiteSpaceBeforeIndex > -1 ? charsBefore.length - whiteSpaceBeforeIndex : 0, whiteSpaceAfterIndex = charsAfter.split(\"\").findIndex((obj) => isEmpty(obj)), newEndOffset = charsBefore.length + (whiteSpaceAfterIndex > -1 ? whiteSpaceAfterIndex : charsAfter.length + 1);\n        if (!(newStartOffset === newEndOffset || isNaN(newStartOffset) || isNaN(newEndOffset))) {\n          debug$8(\"pteExpandToWord: Expanding to focused word\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setSelection(editor, {\n            anchor: { ...selection.anchor, offset: newStartOffset },\n            focus: { ...selection.focus, offset: newEndOffset }\n          });\n          return;\n        }\n        debug$8(\"pteExpandToWord: Can't expand to word here\");\n      }\n    }, editor.pteCreateEmptyBlock = () => toSlateValue(\n      [\n        {\n          _type: schemaTypes.block.name,\n          _key: keyGenerator(),\n          style: schemaTypes.styles[0].value || \"normal\",\n          markDefs: [],\n          children: [\n            {\n              _type: \"span\",\n              _key: keyGenerator(),\n              text: \"\",\n              marks: []\n            }\n          ]\n        }\n      ],\n      portableTextEditor\n    )[0], editor;\n  };\n}\nconst debug$7 = debugWithName(\"plugin:withHotKeys\"), DEFAULT_HOTKEYS = {\n  marks: {\n    \"mod+b\": \"strong\",\n    \"mod+i\": \"em\",\n    \"mod+u\": \"underline\",\n    \"mod+'\": \"code\"\n  },\n  custom: {}\n};\nfunction createWithHotkeys(types, portableTextEditor, hotkeysFromOptions) {\n  const reservedHotkeys = [\"enter\", \"tab\", \"shift\", \"delete\", \"end\"], activeHotkeys = hotkeysFromOptions || DEFAULT_HOTKEYS;\n  return function(editor) {\n    return editor.pteWithHotKeys = (event) => {\n      var _a, _b, _c, _d;\n      Object.keys(activeHotkeys).forEach((cat) => {\n        if (cat === \"marks\")\n          for (const hotkey in activeHotkeys[cat]) {\n            if (reservedHotkeys.includes(hotkey))\n              throw new Error(`The hotkey ${hotkey} is reserved!`);\n            if ((0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(hotkey, event.nativeEvent)) {\n              event.preventDefault();\n              const possibleMark = activeHotkeys[cat];\n              if (possibleMark) {\n                const mark = possibleMark[hotkey];\n                debug$7(`HotKey ${hotkey} to toggle ${mark}`), editor.pteToggleMark(mark);\n              }\n            }\n          }\n        if (cat === \"custom\")\n          for (const hotkey in activeHotkeys[cat]) {\n            if (reservedHotkeys.includes(hotkey))\n              throw new Error(`The hotkey ${hotkey} is reserved!`);\n            if ((0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(hotkey, event.nativeEvent)) {\n              const possibleCommand = activeHotkeys[cat];\n              if (possibleCommand) {\n                const command = possibleCommand[hotkey];\n                command(event, portableTextEditor);\n              }\n            }\n          }\n      });\n      const isEnter = (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"enter\", event.nativeEvent), isTab = (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"tab\", event.nativeEvent), isShiftEnter = (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"shift+enter\", event.nativeEvent), isShiftTab = (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"shift+tab\", event.nativeEvent), isBackspace = (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"backspace\", event.nativeEvent), isDelete = (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"delete\", event.nativeEvent), isArrowDown = (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"down\", event.nativeEvent), isArrowUp = (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"up\", event.nativeEvent);\n      if (isArrowDown && editor.selection) {\n        const focusBlock = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(editor, editor.selection.focus.path.slice(0, 1));\n        if (focusBlock && slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isVoid(editor, focusBlock)) {\n          const nextPath = slate__WEBPACK_IMPORTED_MODULE_18__.Path.next(editor.selection.focus.path.slice(0, 1));\n          if (!slate__WEBPACK_IMPORTED_MODULE_18__.Node.has(editor, nextPath)) {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(editor, editor.pteCreateEmptyBlock(), { at: nextPath }), editor.onChange();\n            return;\n          }\n        }\n      }\n      if (isArrowUp && editor.selection) {\n        const isFirstBlock = editor.selection.focus.path[0] === 0, focusBlock = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(editor, editor.selection.focus.path.slice(0, 1));\n        if (isFirstBlock && focusBlock && slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isVoid(editor, focusBlock)) {\n          slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(editor, editor.pteCreateEmptyBlock(), { at: [0] }), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(editor, { path: [0, 0], offset: 0 }), editor.onChange();\n          return;\n        }\n      }\n      if (isBackspace && editor.selection && editor.selection.focus.path[0] === 0 && slate__WEBPACK_IMPORTED_MODULE_18__.Range.isCollapsed(editor.selection)) {\n        const focusBlock = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(editor, editor.selection.focus.path.slice(0, 1)), nextPath = slate__WEBPACK_IMPORTED_MODULE_18__.Path.next(editor.selection.focus.path.slice(0, 1)), nextBlock = slate__WEBPACK_IMPORTED_MODULE_18__.Node.has(editor, nextPath), isTextBlock = (0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextTextBlock)(focusBlock), isEmptyFocusBlock = isTextBlock && focusBlock.children.length === 1 && ((_b = (_a = focusBlock.children) == null ? void 0 : _a[0]) == null ? void 0 : _b.text) === \"\";\n        if (nextBlock && isTextBlock && isEmptyFocusBlock) {\n          event.preventDefault(), event.stopPropagation(), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(editor, { match: (n) => n === focusBlock }), editor.onChange();\n          return;\n        }\n      }\n      if (isBackspace && editor.selection && editor.selection.focus.path[0] > 0 && slate__WEBPACK_IMPORTED_MODULE_18__.Range.isCollapsed(editor.selection)) {\n        const prevPath = slate__WEBPACK_IMPORTED_MODULE_18__.Path.previous(editor.selection.focus.path.slice(0, 1)), prevBlock = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(editor, prevPath), focusBlock = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(editor, editor.selection.focus.path.slice(0, 1));\n        if (prevBlock && focusBlock && slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isVoid(editor, prevBlock) && editor.selection.focus.offset === 0) {\n          debug$7(\"Preventing deleting void block above\"), event.preventDefault(), event.stopPropagation();\n          const isTextBlock = (0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextTextBlock)(focusBlock), isEmptyFocusBlock = isTextBlock && focusBlock.children.length === 1 && ((_d = (_c = focusBlock.children) == null ? void 0 : _c[0]) == null ? void 0 : _d.text) === \"\";\n          if (!isTextBlock || isEmptyFocusBlock) {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(editor, { match: (n) => n === focusBlock }), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(editor, prevPath), editor.onChange();\n            return;\n          }\n          if (isTextBlock && !isEmptyFocusBlock) {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(editor, prevPath), editor.onChange();\n            return;\n          }\n          return;\n        }\n      }\n      if (isDelete && editor.selection && editor.selection.focus.offset === 0 && slate__WEBPACK_IMPORTED_MODULE_18__.Range.isCollapsed(editor.selection) && editor.children[editor.selection.focus.path[0] + 1]) {\n        const nextBlock = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(\n          editor,\n          slate__WEBPACK_IMPORTED_MODULE_18__.Path.next(editor.selection.focus.path.slice(0, 1))\n        ), focusBlockPath = editor.selection.focus.path.slice(0, 1), focusBlock = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(editor, focusBlockPath);\n        if (nextBlock && focusBlock && !slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isVoid(editor, focusBlock) && slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isVoid(editor, nextBlock)) {\n          debug$7(\"Preventing deleting void block below\"), event.preventDefault(), event.stopPropagation(), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(editor, { match: (n) => n === focusBlock }), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(editor, focusBlockPath), editor.onChange();\n          return;\n        }\n      }\n      if ((isTab || isShiftTab) && editor.selection) {\n        const [focusChild] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, editor.selection.focus, { depth: 2 }), [focusBlock] = (0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextSpan)(focusChild) ? slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, editor.selection.focus, { depth: 1 }) : [], hasAnnotationFocus = focusChild && (0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextTextBlock)(focusBlock) && (0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextSpan)(focusChild) && (focusChild.marks || []).filter(\n          (m) => (focusBlock.markDefs || []).map((def) => def._key).includes(m)\n        ).length > 0, [start] = slate__WEBPACK_IMPORTED_MODULE_18__.Range.edges(editor.selection), atStartOfNode = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isStart(editor, start, start.path);\n        focusChild && (0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextSpan)(focusChild) && (!hasAnnotationFocus || atStartOfNode) && editor.pteIncrementBlockLevels(isShiftTab) && event.preventDefault();\n      }\n      if (isEnter && !isShiftEnter && editor.selection) {\n        const focusBlockPath = editor.selection.focus.path.slice(0, 1), focusBlock = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(editor, focusBlockPath);\n        if (editor.isListBlock(focusBlock)) {\n          editor.pteEndList() && event.preventDefault();\n          return;\n        }\n        if (editor.isTextBlock(focusBlock) && focusBlock.style && focusBlock.style !== types.styles[0].value) {\n          const [, end] = slate__WEBPACK_IMPORTED_MODULE_18__.Range.edges(editor.selection);\n          if (slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isEnd(editor, end, end.path)) {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Editor.insertNode(editor, editor.pteCreateEmptyBlock()), event.preventDefault(), editor.onChange();\n            return;\n          }\n        }\n        if (focusBlock && slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isVoid(editor, focusBlock)) {\n          slate__WEBPACK_IMPORTED_MODULE_18__.Editor.insertNode(editor, editor.pteCreateEmptyBlock()), event.preventDefault(), editor.onChange();\n          return;\n        }\n        event.preventDefault(), editor.insertBreak(), editor.onChange();\n      }\n      if (isShiftEnter) {\n        event.preventDefault(), editor.insertText(`\n`);\n        return;\n      }\n      if ((0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"mod+z\", event.nativeEvent)) {\n        event.preventDefault(), editor.undo();\n        return;\n      }\n      ((0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"mod+y\", event.nativeEvent) || (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"mod+shift+z\", event.nativeEvent)) && (event.preventDefault(), editor.redo());\n    }, editor;\n  };\n}\nfunction validateValue(value, types, keyGenerator) {\n  let resolution = null, valid = !0;\n  const validChildTypes = [types.span.name, ...types.inlineObjects.map((t) => t.name)], validBlockTypes = [types.block.name, ...types.blockObjects.map((t) => t.name)];\n  return value === void 0 ? { valid: !0, resolution: null, value } : !Array.isArray(value) || value.length === 0 ? {\n    valid: !1,\n    resolution: {\n      patches: [unset([])],\n      description: \"Editor value must be an array of Portable Text blocks, or undefined.\",\n      action: \"Unset the value\",\n      item: value,\n      i18n: {\n        description: \"inputs.portable-text.invalid-value.not-an-array.description\",\n        action: \"inputs.portable-text.invalid-value.not-an-array.action\"\n      }\n    },\n    value\n  } : (value.some((blk, index) => {\n    if (!lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_15__(blk))\n      return resolution = {\n        patches: [unset([index])],\n        description: `Block must be an object, got ${String(blk)}`,\n        action: \"Unset invalid item\",\n        item: blk,\n        i18n: {\n          description: \"inputs.portable-text.invalid-value.not-an-object.description\",\n          action: \"inputs.portable-text.invalid-value.not-an-object.action\",\n          values: { index }\n        }\n      }, !0;\n    if (!blk._key || typeof blk._key != \"string\")\n      return resolution = {\n        patches: [set({ ...blk, _key: keyGenerator() }, [index])],\n        description: `Block at index ${index} is missing required _key.`,\n        action: \"Set the block with a random _key value\",\n        item: blk,\n        i18n: {\n          description: \"inputs.portable-text.invalid-value.missing-key.description\",\n          action: \"inputs.portable-text.invalid-value.missing-key.action\",\n          values: { index }\n        }\n      }, !0;\n    if (!blk._type || !validBlockTypes.includes(blk._type)) {\n      if (blk._type === \"block\") {\n        const currentBlockTypeName = types.block.name;\n        return resolution = {\n          patches: [set({ ...blk, _type: currentBlockTypeName }, [{ _key: blk._key }])],\n          description: `Block with _key '${blk._key}' has invalid type name '${blk._type}'. According to the schema, the block type name is '${currentBlockTypeName}'`,\n          action: `Use type '${currentBlockTypeName}'`,\n          item: blk,\n          i18n: {\n            description: \"inputs.portable-text.invalid-value.incorrect-block-type.description\",\n            action: \"inputs.portable-text.invalid-value.incorrect-block-type.action\",\n            values: { key: blk._key, expectedTypeName: currentBlockTypeName }\n          }\n        }, !0;\n      }\n      return !blk._type && (0,_sanity_types__WEBPACK_IMPORTED_MODULE_19__.isPortableTextTextBlock)({ ...blk, _type: types.block.name }) ? (resolution = {\n        patches: [set({ ...blk, _type: types.block.name }, [{ _key: blk._key }])],\n        description: `Block with _key '${blk._key}' is missing a type name. According to the schema, the block type name is '${types.block.name}'`,\n        action: `Use type '${types.block.name}'`,\n        item: blk,\n        i18n: {\n          description: \"inputs.portable-text.invalid-value.missing-block-type.description\",\n          action: \"inputs.portable-text.invalid-value.missing-block-type.action\",\n          values: { key: blk._key, expectedTypeName: types.block.name }\n        }\n      }, !0) : blk._type ? (resolution = {\n        patches: [unset([{ _key: blk._key }])],\n        description: `Block with _key '${blk._key}' has invalid _type '${blk._type}'`,\n        action: \"Remove the block\",\n        item: blk,\n        i18n: {\n          description: \"inputs.portable-text.invalid-value.disallowed-type.description\",\n          action: \"inputs.portable-text.invalid-value.disallowed-type.action\",\n          values: { key: blk._key, typeName: blk._type }\n        }\n      }, !0) : (resolution = {\n        patches: [unset([{ _key: blk._key }])],\n        description: `Block with _key '${blk._key}' is missing an _type property`,\n        action: \"Remove the block\",\n        item: blk,\n        i18n: {\n          description: \"inputs.portable-text.invalid-value.missing-type.description\",\n          action: \"inputs.portable-text.invalid-value.missing-type.action\",\n          values: { key: blk._key }\n        }\n      }, !0);\n    }\n    if (blk._type === types.block.name) {\n      const textBlock = blk;\n      if (textBlock.children && !Array.isArray(textBlock.children))\n        return resolution = {\n          patches: [set({ children: [] }, [{ _key: textBlock._key }])],\n          description: `Text block with _key '${textBlock._key}' has a invalid required property 'children'.`,\n          action: \"Reset the children property\",\n          item: textBlock,\n          i18n: {\n            description: \"inputs.portable-text.invalid-value.missing-or-invalid-children.description\",\n            action: \"inputs.portable-text.invalid-value.missing-or-invalid-children.action\",\n            values: { key: textBlock._key }\n          }\n        }, !0;\n      if (textBlock.children === void 0 || Array.isArray(textBlock.children) && textBlock.children.length === 0) {\n        const newSpan = {\n          _type: types.span.name,\n          _key: keyGenerator(),\n          text: \"\",\n          marks: []\n        };\n        return resolution = {\n          autoResolve: !0,\n          patches: [\n            setIfMissing([], [{ _key: blk._key }, \"children\"]),\n            insert$1([newSpan], \"after\", [{ _key: blk._key }, \"children\", 0])\n          ],\n          description: `Children for text block with _key '${blk._key}' is empty.`,\n          action: \"Insert an empty text\",\n          item: blk,\n          i18n: {\n            description: \"inputs.portable-text.invalid-value.empty-children.description\",\n            action: \"inputs.portable-text.invalid-value.empty-children.action\",\n            values: { key: blk._key }\n          }\n        }, !0;\n      }\n      if (blk.markDefs && !Array.isArray(blk.markDefs))\n        return resolution = {\n          patches: [set({ ...textBlock, markDefs: EMPTY_MARKDEFS }, [{ _key: textBlock._key }])],\n          description: \"Block has invalid required property 'markDefs'.\",\n          action: \"Add empty markDefs array\",\n          item: textBlock,\n          i18n: {\n            description: \"inputs.portable-text.invalid-value.missing-or-invalid-markdefs.description\",\n            action: \"inputs.portable-text.invalid-value.missing-or-invalid-markdefs.action\",\n            values: { key: textBlock._key }\n          }\n        }, !0;\n      const allUsedMarks = lodash_uniq_js__WEBPACK_IMPORTED_MODULE_5__(\n        lodash_flatten_js__WEBPACK_IMPORTED_MODULE_14__(\n          textBlock.children.filter((cld) => cld._type === types.span.name).map((cld) => cld.marks || [])\n        )\n      );\n      if (Array.isArray(blk.markDefs) && blk.markDefs.length > 0) {\n        const unusedMarkDefs = lodash_uniq_js__WEBPACK_IMPORTED_MODULE_5__(\n          blk.markDefs.map((def) => def._key).filter((key) => !allUsedMarks.includes(key))\n        );\n        if (unusedMarkDefs.length > 0)\n          return resolution = {\n            autoResolve: !0,\n            patches: unusedMarkDefs.map(\n              (markDefKey) => unset([{ _key: blk._key }, \"markDefs\", { _key: markDefKey }])\n            ),\n            description: `Block contains orphaned data (unused mark definitions): ${unusedMarkDefs.join(\n              \", \"\n            )}.`,\n            action: \"Remove unused mark definition item\",\n            item: blk,\n            i18n: {\n              description: \"inputs.portable-text.invalid-value.orphaned-mark-defs.description\",\n              action: \"inputs.portable-text.invalid-value.orphaned-mark-defs.action\",\n              values: { key: blk._key, unusedMarkDefs: unusedMarkDefs.map((m) => m.toString()) }\n            }\n          }, !0;\n      }\n      const orphanedMarks = allUsedMarks.filter(\n        (mark) => !types.decorators.map((dec) => dec.value).includes(mark)\n      ).filter(\n        (mark) => textBlock.markDefs === void 0 || !textBlock.markDefs.find((def) => def._key === mark)\n      );\n      if (orphanedMarks.length > 0) {\n        const spanChildren = textBlock.children.filter(\n          (cld) => cld._type === types.span.name && Array.isArray(cld.marks) && cld.marks.some((mark) => orphanedMarks.includes(mark))\n        );\n        if (spanChildren) {\n          const orphaned = orphanedMarks.join(\", \");\n          return resolution = {\n            autoResolve: !0,\n            patches: spanChildren.map((child) => set(\n              (child.marks || []).filter((cMrk) => !orphanedMarks.includes(cMrk)),\n              [{ _key: blk._key }, \"children\", { _key: child._key }, \"marks\"]\n            )),\n            description: `Block with _key '${blk._key}' contains marks (${orphaned}) not supported by the current content model.`,\n            action: \"Remove invalid marks\",\n            item: blk,\n            i18n: {\n              description: \"inputs.portable-text.invalid-value.orphaned-marks.description\",\n              action: \"inputs.portable-text.invalid-value.orphaned-marks.action\",\n              values: { key: blk._key, orphanedMarks: orphanedMarks.map((m) => m.toString()) }\n            }\n          }, !0;\n        }\n      }\n      textBlock.children.some((child, cIndex) => {\n        if (!lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_15__(child))\n          return resolution = {\n            patches: [unset([{ _key: blk._key }, \"children\", cIndex])],\n            description: `Child at index '${cIndex}' in block with key '${blk._key}' is not an object.`,\n            action: \"Remove the item\",\n            item: blk,\n            i18n: {\n              description: \"inputs.portable-text.invalid-value.non-object-child.description\",\n              action: \"inputs.portable-text.invalid-value.non-object-child.action\",\n              values: { key: blk._key, index: cIndex }\n            }\n          }, !0;\n        if (!child._key || typeof child._key != \"string\") {\n          const newChild = { ...child, _key: keyGenerator() };\n          return resolution = {\n            autoResolve: !0,\n            patches: [set(newChild, [{ _key: blk._key }, \"children\", cIndex])],\n            description: `Child at index ${cIndex} is missing required _key in block with _key ${blk._key}.`,\n            action: \"Set a new random _key on the object\",\n            item: blk,\n            i18n: {\n              description: \"inputs.portable-text.invalid-value.missing-child-key.description\",\n              action: \"inputs.portable-text.invalid-value.missing-child-key.action\",\n              values: { key: blk._key, index: cIndex }\n            }\n          }, !0;\n        }\n        return child._type ? validChildTypes.includes(child._type) ? child._type === types.span.name && typeof child.text != \"string\" ? (resolution = {\n          patches: [\n            set({ ...child, text: \"\" }, [{ _key: blk._key }, \"children\", { _key: child._key }])\n          ],\n          description: `Child with _key '${child._key}' in block with key '${blk._key}' has missing or invalid text property!`,\n          action: \"Write an empty text property to the object\",\n          item: blk,\n          i18n: {\n            description: \"inputs.portable-text.invalid-value.invalid-span-text.description\",\n            action: \"inputs.portable-text.invalid-value.invalid-span-text.action\",\n            values: { key: blk._key, childKey: child._key }\n          }\n        }, !0) : !1 : (resolution = {\n          patches: [unset([{ _key: blk._key }, \"children\", { _key: child._key }])],\n          description: `Child with _key '${child._key}' in block with key '${blk._key}' has invalid '_type' property (${child._type}).`,\n          action: \"Remove the object\",\n          item: blk,\n          i18n: {\n            description: \"inputs.portable-text.invalid-value.disallowed-child-type.description\",\n            action: \"inputs.portable-text.invalid-value.disallowed-child-type.action\",\n            values: { key: blk._key, childKey: child._key, childType: child._type }\n          }\n        }, !0) : (resolution = {\n          patches: [unset([{ _key: blk._key }, \"children\", { _key: child._key }])],\n          description: `Child with _key '${child._key}' in block with key '${blk._key}' is missing '_type' property.`,\n          action: \"Remove the object\",\n          item: blk,\n          i18n: {\n            description: \"inputs.portable-text.invalid-value.missing-child-type.description\",\n            action: \"inputs.portable-text.invalid-value.missing-child-type.action\",\n            values: { key: blk._key, childKey: child._key }\n          }\n        }, !0);\n      }) && (valid = !1);\n    }\n    return !1;\n  }) && (valid = !1), { valid, resolution, value });\n}\nconst debug$6 = debugWithName(\"plugin:withInsertData\");\nfunction createWithInsertData(change$, schemaTypes, keyGenerator) {\n  return function(editor) {\n    const blockTypeName = schemaTypes.block.name, spanTypeName = schemaTypes.span.name, whitespaceOnPasteMode = schemaTypes.block.options.unstable_whitespaceOnPasteMode, toPlainText = (blocks) => blocks.map((block) => {\n      var _a;\n      return editor.isTextBlock(block) ? block.children.map((child) => {\n        var _a2;\n        return child._type === spanTypeName ? child.text : `[${((_a2 = schemaTypes.inlineObjects.find((t) => t.name === child._type)) == null ? void 0 : _a2.title) || \"Object\"}]`;\n      }).join(\"\") : `[${((_a = schemaTypes.blockObjects.find((t) => t.name === block._type)) == null ? void 0 : _a.title) || \"Object\"}]`;\n    }).join(`\n\n`);\n    return editor.setFragmentData = (data, originEvent) => {\n      const { selection } = editor;\n      if (!selection)\n        return;\n      const [start, end] = slate__WEBPACK_IMPORTED_MODULE_18__.Range.edges(selection), startVoid = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.void(editor, { at: start.path }), endVoid = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.void(editor, { at: end.path });\n      if (slate__WEBPACK_IMPORTED_MODULE_18__.Range.isCollapsed(selection) && !startVoid)\n        return;\n      const domRange = slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.toDOMRange(editor, selection);\n      let contents = domRange.cloneContents();\n      if (endVoid) {\n        const [voidNode] = endVoid, r = domRange.cloneRange(), domNode = slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.toDOMNode(editor, voidNode);\n        r.setEndAfter(domNode), contents = r.cloneContents();\n      }\n      Array.from(contents.querySelectorAll(\"[data-slate-zero-width]\")).forEach((zw) => {\n        const isNewline = zw.getAttribute(\"data-slate-zero-width\") === \"n\";\n        zw.textContent = isNewline ? `\n` : \"\";\n      }), Array.from(contents.querySelectorAll(\"*\")).forEach((elm) => {\n        elm.removeAttribute(\"contentEditable\"), elm.removeAttribute(\"data-slate-inline\"), elm.removeAttribute(\"data-slate-leaf\"), elm.removeAttribute(\"data-slate-node\"), elm.removeAttribute(\"data-slate-spacer\"), elm.removeAttribute(\"data-slate-string\"), elm.removeAttribute(\"data-slate-zero-width\"), elm.removeAttribute(\"draggable\");\n        for (const key in elm.attributes)\n          elm.hasAttribute(key) && elm.removeAttribute(key);\n      });\n      const div = contents.ownerDocument.createElement(\"div\");\n      div.appendChild(contents), div.setAttribute(\"hidden\", \"true\"), contents.ownerDocument.body.appendChild(div);\n      const asHTML = div.innerHTML;\n      contents.ownerDocument.body.removeChild(div);\n      const fragment = editor.getFragment(), portableText = fromSlateValue(fragment, blockTypeName), asJSON = JSON.stringify(portableText), asPlainText = toPlainText(portableText);\n      data.clearData(), data.setData(\"text/plain\", asPlainText), data.setData(\"text/html\", asHTML), data.setData(\"application/json\", asJSON), data.setData(\"application/x-portable-text\", asJSON), debug$6(\"text\", asPlainText), data.setData(\"application/x-portable-text-event-origin\", originEvent || \"external\"), debug$6(\"Set fragment data\", asJSON, asHTML);\n    }, editor.insertPortableTextData = (data) => {\n      var _a, _b;\n      if (!editor.selection)\n        return !1;\n      const pText = data.getData(\"application/x-portable-text\"), origin = data.getData(\"application/x-portable-text-event-origin\");\n      if (debug$6(`Inserting portable text from ${origin} event`, pText), pText) {\n        const parsed = JSON.parse(pText);\n        if (Array.isArray(parsed) && parsed.length > 0) {\n          const slateValue = _regenerateKeys(\n            editor,\n            toSlateValue(parsed, { schemaTypes }),\n            keyGenerator,\n            spanTypeName\n          ), validation = validateValue(parsed, schemaTypes, keyGenerator);\n          if (!validation.valid && !((_a = validation.resolution) != null && _a.autoResolve)) {\n            const errorDescription = `${(_b = validation.resolution) == null ? void 0 : _b.description}`;\n            return change$.next({\n              type: \"error\",\n              level: \"warning\",\n              name: \"pasteError\",\n              description: errorDescription,\n              data: validation\n            }), debug$6(\"Invalid insert result\", validation), !1;\n          }\n          return _insertFragment(editor, slateValue, schemaTypes), !0;\n        }\n      }\n      return !1;\n    }, editor.insertTextOrHTMLData = (data) => {\n      var _a;\n      if (!editor.selection)\n        return debug$6(\"No selection, not inserting\"), !1;\n      change$.next({ type: \"loading\", isLoading: !0 });\n      const html = data.getData(\"text/html\"), text = data.getData(\"text/plain\");\n      if (html || text) {\n        debug$6(\"Inserting data\", data);\n        let portableText, fragment, insertedType;\n        if (html) {\n          if (portableText = (0,_sanity_block_tools__WEBPACK_IMPORTED_MODULE_24__.htmlToBlocks)(html, schemaTypes.portableText, {\n            unstable_whitespaceOnPasteMode: whitespaceOnPasteMode\n          }).map((block) => (0,_sanity_block_tools__WEBPACK_IMPORTED_MODULE_24__.normalizeBlock)(block, { blockTypeName })), fragment = toSlateValue(portableText, { schemaTypes }), insertedType = \"HTML\", portableText.length === 0)\n            return !1;\n        } else {\n          const textToHtml = `<html><body>${escapeHtml(text).split(/\\n{2,}/).map(\n            (line) => line ? `<p>${line.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br/>\")}</p>` : \"<p></p>\"\n          ).join(\"\")}</body></html>`;\n          portableText = (0,_sanity_block_tools__WEBPACK_IMPORTED_MODULE_24__.htmlToBlocks)(textToHtml, schemaTypes.portableText).map(\n            (block) => (0,_sanity_block_tools__WEBPACK_IMPORTED_MODULE_24__.normalizeBlock)(block, { blockTypeName })\n          ), fragment = toSlateValue(portableText, {\n            schemaTypes\n          }), insertedType = \"text\";\n        }\n        const validation = validateValue(portableText, schemaTypes, keyGenerator);\n        if (!validation.valid) {\n          const errorDescription = `Could not validate the resulting portable text to insert.\n${(_a = validation.resolution) == null ? void 0 : _a.description}\nTry to insert as plain text (shift-paste) instead.`;\n          return change$.next({\n            type: \"error\",\n            level: \"warning\",\n            name: \"pasteError\",\n            description: errorDescription,\n            data: validation\n          }), debug$6(\"Invalid insert result\", validation), !1;\n        }\n        return debug$6(`Inserting ${insertedType} fragment at ${JSON.stringify(editor.selection)}`), _insertFragment(editor, fragment, schemaTypes), change$.next({ type: \"loading\", isLoading: !1 }), !0;\n      }\n      return change$.next({ type: \"loading\", isLoading: !1 }), !1;\n    }, editor.insertData = (data) => {\n      editor.insertPortableTextData(data) || editor.insertTextOrHTMLData(data);\n    }, editor.insertFragmentData = (data) => {\n      const fragment = data.getData(\"application/x-portable-text\");\n      if (fragment) {\n        const parsed = JSON.parse(fragment);\n        return editor.insertFragment(parsed), !0;\n      }\n      return !1;\n    }, editor;\n  };\n}\nconst entityMap = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#39;\",\n  \"/\": \"&#x2F;\",\n  \"`\": \"&#x60;\",\n  \"=\": \"&#x3D;\"\n};\nfunction escapeHtml(str) {\n  return String(str).replace(/[&<>\"'`=/]/g, (s) => entityMap[s]);\n}\nfunction _regenerateKeys(editor, fragment, keyGenerator, spanTypeName) {\n  return fragment.map((node) => {\n    const newNode = { ...node };\n    editor.isTextBlock(newNode) && (newNode.markDefs = (newNode.markDefs || []).map((def) => {\n      const oldKey = def._key, newKey = keyGenerator();\n      return newNode.children = newNode.children.map(\n        (child) => child._type === spanTypeName && editor.isTextSpan(child) ? {\n          ...child,\n          marks: child.marks && child.marks.includes(oldKey) ? (\n            // eslint-disable-next-line max-nested-callbacks\n            [...child.marks].filter((mark) => mark !== oldKey).concat(newKey)\n          ) : child.marks\n        } : child\n      ), { ...def, _key: newKey };\n    }));\n    const nodeWithNewKeys = { ...newNode, _key: keyGenerator() };\n    return editor.isTextBlock(nodeWithNewKeys) && (nodeWithNewKeys.children = nodeWithNewKeys.children.map((child) => ({\n      ...child,\n      _key: keyGenerator()\n    }))), nodeWithNewKeys;\n  });\n}\nfunction _insertFragment(editor, fragment, schemaTypes) {\n  editor.withoutNormalizing(() => {\n    if (!editor.selection)\n      return;\n    const [focusBlock, focusPath] = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.node(editor, editor.selection, { depth: 1 });\n    if (editor.isTextBlock(focusBlock) && editor.isTextBlock(fragment[0])) {\n      const { markDefs } = focusBlock;\n      debug$6(\"Mixing markDefs of focusBlock and fragments[0] block\", markDefs, fragment[0].markDefs), lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(markDefs, fragment[0].markDefs) || slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n        editor,\n        {\n          markDefs: lodash_uniq_js__WEBPACK_IMPORTED_MODULE_5__([...fragment[0].markDefs || [], ...markDefs || []])\n        },\n        { at: focusPath, mode: \"lowest\", voids: !1 }\n      );\n    }\n    isEqualToEmptyEditor(editor.children, schemaTypes) ? (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.splitNodes(editor, { at: [0, 0] }), editor.insertFragment(fragment), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(editor, { at: [0] })) : editor.insertFragment(fragment);\n  }), editor.onChange();\n}\nconst originalFnMap = /* @__PURE__ */ new WeakMap(), withPlugins = (editor, options) => {\n  const e = editor, { keyGenerator, portableTextEditor, patches$, readOnly, maxBlocks } = options, { schemaTypes, change$ } = portableTextEditor;\n  e.subscriptions = [], e.destroy ? e.destroy() : originalFnMap.set(e, {\n    apply: e.apply,\n    onChange: e.onChange,\n    normalizeNode: e.normalizeNode\n  });\n  const operationToPatches = createOperationToPatches(schemaTypes), withObjectKeys = createWithObjectKeys(schemaTypes, keyGenerator), withSchemaTypes = createWithSchemaTypes({ schemaTypes, keyGenerator }), withEditableAPI = createWithEditableAPI(portableTextEditor, schemaTypes, keyGenerator), withPatches = createWithPatches({\n    change$,\n    keyGenerator,\n    patches$,\n    patchFunctions: operationToPatches,\n    readOnly,\n    schemaTypes\n  }), withMaxBlocks = createWithMaxBlocks(maxBlocks || -1), withPortableTextLists = createWithPortableTextLists(schemaTypes), withUndoRedo = createWithUndoRedo({\n    readOnly,\n    patches$,\n    blockSchemaType: schemaTypes.block\n  }), withPortableTextMarkModel = createWithPortableTextMarkModel(schemaTypes, change$), withPortableTextBlockStyle = createWithPortableTextBlockStyle(schemaTypes), withPlaceholderBlock = createWithPlaceholderBlock(), withInsertBreak = createWithInsertBreak(schemaTypes), withUtils = createWithUtils({ keyGenerator, schemaTypes, portableTextEditor }), withPortableTextSelections = createWithPortableTextSelections(change$, schemaTypes);\n  return e.destroy = () => {\n    const originalFunctions = originalFnMap.get(e);\n    if (!originalFunctions)\n      throw new Error(\"Could not find pristine versions of editor functions\");\n    e.apply = originalFunctions.apply, e.history = { undos: [], redos: [] }, e.normalizeNode = originalFunctions.normalizeNode, e.onChange = originalFunctions.onChange;\n  }, readOnly ? {\n    editor: withSchemaTypes(\n      withObjectKeys(\n        withPortableTextMarkModel(\n          withPortableTextBlockStyle(\n            withUtils(\n              withPlaceholderBlock(\n                withPortableTextLists(\n                  withPortableTextSelections(withEditableAPI(withInsertBreak(e)))\n                )\n              )\n            )\n          )\n        )\n      )\n    ),\n    subscribe: () => lodash_noop_js__WEBPACK_IMPORTED_MODULE_2__\n  } : {\n    editor: withSchemaTypes(\n      withObjectKeys(\n        withPortableTextMarkModel(\n          withPortableTextBlockStyle(\n            withPortableTextLists(\n              withPlaceholderBlock(\n                withUtils(\n                  withMaxBlocks(\n                    withUndoRedo(\n                      withPatches(withPortableTextSelections(withEditableAPI(withInsertBreak(e))))\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      )\n    ),\n    subscribe: () => {\n      const unsubscribes = [];\n      return editor.subscriptions.forEach((subscribeFn) => {\n        unsubscribes.push(subscribeFn());\n      }), () => {\n        unsubscribes.forEach((unsubscribeFn) => {\n          unsubscribeFn();\n        });\n      };\n    }\n  };\n}, debug$5 = debugWithName(\"component:PortableTextEditor:SlateContainer\");\nfunction SlateContainer(props) {\n  const { patches$, portableTextEditor, readOnly, maxBlocks, keyGenerator } = props, [[slateEditor, subscribe]] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n    debug$5(\"Creating new Slate editor instance\");\n    const { editor, subscribe: _sub } = withPlugins((0,slate_react__WEBPACK_IMPORTED_MODULE_21__.withReact)((0,slate__WEBPACK_IMPORTED_MODULE_18__.createEditor)()), {\n      keyGenerator,\n      maxBlocks,\n      patches$,\n      portableTextEditor,\n      readOnly\n    });\n    return KEY_TO_VALUE_ELEMENT.set(editor, {}), KEY_TO_SLATE_ELEMENT.set(editor, {}), [editor, _sub];\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    const unsubscribe = subscribe();\n    return () => {\n      unsubscribe();\n    };\n  }, [subscribe]), (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    debug$5(\"Re-initializing plugin chain\"), withPlugins(slateEditor, {\n      keyGenerator,\n      maxBlocks,\n      patches$,\n      portableTextEditor,\n      readOnly\n    });\n  }, [keyGenerator, portableTextEditor, maxBlocks, readOnly, patches$, slateEditor]);\n  const initialValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => [slateEditor.pteCreateEmptyBlock()], [slateEditor]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => () => {\n    debug$5(\"Destroying Slate editor\"), slateEditor.destroy();\n  }, [slateEditor]), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(slate_react__WEBPACK_IMPORTED_MODULE_21__.Slate, { editor: slateEditor, initialValue, children: props.children });\n}\nconst defaultKeyGenerator = () => (0,_sanity_util_content__WEBPACK_IMPORTED_MODULE_25__.randomKey)(12), PortableTextEditorKeyGeneratorContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(defaultKeyGenerator), usePortableTextEditorKeyGenerator = () => {\n  const keyGenerator = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(PortableTextEditorKeyGeneratorContext);\n  if (keyGenerator === void 0)\n    throw new Error(\n      \"The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.\"\n    );\n  return keyGenerator;\n}, PortableTextEditorSelectionContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null), usePortableTextEditorSelection = () => {\n  const selection = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(PortableTextEditorSelectionContext);\n  if (selection === void 0)\n    throw new Error(\n      \"The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.\"\n    );\n  return selection;\n}, PortableTextEditorValueContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(\n  void 0\n), PortableTextEditorReadOnlyContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(!1), usePortableTextEditorReadOnlyStatus = () => {\n  const readOnly = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(PortableTextEditorReadOnlyContext);\n  if (readOnly === void 0)\n    throw new Error(\n      \"The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.\"\n    );\n  return readOnly;\n}, debug$4 = debugWithName(\"hook:useSyncValue\"), CURRENT_VALUE = /* @__PURE__ */ new WeakMap();\nfunction useSyncValue(props) {\n  const { portableTextEditor, readOnly, keyGenerator } = props, { change$, schemaTypes } = portableTextEditor, previousValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(), slateEditor = (0,slate_react__WEBPACK_IMPORTED_MODULE_21__.useSlate)(), updateValueFunctionRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(), updateFromCurrentValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    const currentValue = CURRENT_VALUE.get(portableTextEditor);\n    if (previousValue.current === currentValue) {\n      debug$4(\"Value is the same object as previous, not need to sync\");\n      return;\n    }\n    updateValueFunctionRef.current && currentValue && (debug$4(\"Updating the value debounced\"), updateValueFunctionRef.current(currentValue));\n  }, [portableTextEditor]), updateValueDebounced = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(\n    () => lodash_debounce_js__WEBPACK_IMPORTED_MODULE_17__(updateFromCurrentValue, 1e3, { trailing: !0, leading: !1 }),\n    [updateFromCurrentValue]\n  );\n  return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n    const updateFunction = (value) => {\n      CURRENT_VALUE.set(portableTextEditor, value);\n      const isProcessingLocalChanges = isChangingLocally(slateEditor), isProcessingRemoteChanges = isChangingRemotely(slateEditor);\n      if (!readOnly) {\n        if (isProcessingLocalChanges) {\n          debug$4(\"Has local changes, not syncing value right now\"), updateValueDebounced();\n          return;\n        }\n        if (isProcessingRemoteChanges) {\n          debug$4(\"Has remote changes, not syncing value right now\"), updateValueDebounced();\n          return;\n        }\n      }\n      let isChanged = !1, isValid = !0;\n      const hadSelection = !!slateEditor.selection;\n      if ((!value || value.length === 0) && (debug$4(\"Value is empty\"), slate__WEBPACK_IMPORTED_MODULE_18__.Editor.withoutNormalizing(slateEditor, () => {\n        withoutSaving(slateEditor, () => {\n          withoutPatching(slateEditor, () => {\n            hadSelection && slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.deselect(slateEditor);\n            const childrenLength = slateEditor.children.length;\n            slateEditor.children.forEach((_, index) => {\n              slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(slateEditor, {\n                at: [childrenLength - 1 - index]\n              });\n            }), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(slateEditor, slateEditor.pteCreateEmptyBlock(), { at: [0] }), hadSelection && slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(slateEditor, [0, 0]);\n          });\n        });\n      }), isChanged = !0), value && value.length > 0) {\n        const slateValueFromProps = toSlateValue(value, {\n          schemaTypes\n        });\n        slate__WEBPACK_IMPORTED_MODULE_18__.Editor.withoutNormalizing(slateEditor, () => {\n          withRemoteChanges(slateEditor, () => {\n            withoutSaving(slateEditor, () => {\n              withoutPatching(slateEditor, () => {\n                const childrenLength = slateEditor.children.length;\n                if (slateValueFromProps.length < childrenLength) {\n                  for (let i = childrenLength - 1; i > slateValueFromProps.length - 1; i--)\n                    slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(slateEditor, {\n                      at: [i]\n                    });\n                  isChanged = !0;\n                }\n                slateValueFromProps.forEach((currentBlock, currentBlockIndex) => {\n                  var _a, _b, _c, _d, _e;\n                  const oldBlock = slateEditor.children[currentBlockIndex];\n                  if (oldBlock && !lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(currentBlock, oldBlock) && isValid) {\n                    const validationValue = [value[currentBlockIndex]], validation = validateValue(validationValue, schemaTypes, keyGenerator);\n                    !validation.valid && (_a = validation.resolution) != null && _a.autoResolve && ((_b = validation.resolution) == null ? void 0 : _b.patches.length) > 0 && !readOnly && previousValue.current && previousValue.current !== value && (console.warn(\n                      `${validation.resolution.action} for block with _key '${validationValue[0]._key}'. ${(_c = validation.resolution) == null ? void 0 : _c.description}`\n                    ), validation.resolution.patches.forEach((patch) => {\n                      change$.next({ type: \"patch\", patch });\n                    })), validation.valid || (_d = validation.resolution) != null && _d.autoResolve ? (oldBlock._key === currentBlock._key ? (debug$4.enabled && debug$4(\"Updating block\", oldBlock, currentBlock), _updateBlock(slateEditor, currentBlock, oldBlock, currentBlockIndex)) : (debug$4.enabled && debug$4(\"Replacing block\", oldBlock, currentBlock), _replaceBlock(slateEditor, currentBlock, currentBlockIndex)), isChanged = !0) : (change$.next({\n                      type: \"invalidValue\",\n                      resolution: validation.resolution,\n                      value\n                    }), isValid = !1);\n                  }\n                  if (!oldBlock && isValid) {\n                    const validationValue = [value[currentBlockIndex]], validation = validateValue(validationValue, schemaTypes, keyGenerator);\n                    debug$4.enabled && debug$4(\n                      \"Validating and inserting new block in the end of the value\",\n                      currentBlock\n                    ), validation.valid || (_e = validation.resolution) != null && _e.autoResolve ? withPreserveKeys(slateEditor, () => {\n                      slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(slateEditor, currentBlock, {\n                        at: [currentBlockIndex]\n                      });\n                    }) : (debug$4(\"Invalid\", validation), change$.next({\n                      type: \"invalidValue\",\n                      resolution: validation.resolution,\n                      value\n                    }), isValid = !1);\n                  }\n                });\n              });\n            });\n          });\n        });\n      }\n      if (!isValid) {\n        debug$4(\"Invalid value, returning\");\n        return;\n      }\n      if (isChanged) {\n        debug$4(\"Server value changed, syncing editor\");\n        try {\n          slateEditor.onChange();\n        } catch (err) {\n          console.error(err), change$.next({\n            type: \"invalidValue\",\n            resolution: null,\n            value\n          });\n          return;\n        }\n        hadSelection && !slateEditor.selection && (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(slateEditor, {\n          anchor: { path: [0, 0], offset: 0 },\n          focus: { path: [0, 0], offset: 0 }\n        }), slateEditor.onChange()), change$.next({ type: \"value\", value });\n      } else\n        debug$4(\"Server value and editor value is equal, no need to sync.\");\n      previousValue.current = value;\n    };\n    return updateValueFunctionRef.current = updateFunction, updateFunction;\n  }, [\n    change$,\n    keyGenerator,\n    portableTextEditor,\n    readOnly,\n    schemaTypes,\n    slateEditor,\n    updateValueDebounced\n  ]);\n}\nfunction _replaceBlock(slateEditor, currentBlock, currentBlockIndex) {\n  const currentSelection = slateEditor.selection, selectionFocusOnBlock = currentSelection && currentSelection.focus.path[0] === currentBlockIndex;\n  selectionFocusOnBlock && slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.deselect(slateEditor), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(slateEditor, { at: [currentBlockIndex] }), withPreserveKeys(slateEditor, () => {\n    slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(slateEditor, currentBlock, { at: [currentBlockIndex] });\n  }), slateEditor.onChange(), selectionFocusOnBlock && slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(slateEditor, currentSelection);\n}\nfunction _updateBlock(slateEditor, currentBlock, oldBlock, currentBlockIndex) {\n  if (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(slateEditor, currentBlock, {\n    at: [currentBlockIndex]\n  }), slateEditor.isTextBlock(currentBlock) && slateEditor.isTextBlock(oldBlock)) {\n    const oldBlockChildrenLength = oldBlock.children.length;\n    currentBlock.children.length < oldBlockChildrenLength && Array.from(Array(oldBlockChildrenLength - currentBlock.children.length)).forEach(\n      (_, index) => {\n        const childIndex = oldBlockChildrenLength - 1 - index;\n        childIndex > 0 && (debug$4(\"Removing child\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(slateEditor, {\n          at: [currentBlockIndex, childIndex]\n        }));\n      }\n    ), currentBlock.children.forEach((currentBlockChild, currentBlockChildIndex) => {\n      const oldBlockChild = oldBlock.children[currentBlockChildIndex], isChildChanged = !lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(currentBlockChild, oldBlockChild), isTextChanged = !lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(currentBlockChild.text, oldBlockChild == null ? void 0 : oldBlockChild.text), path = [currentBlockIndex, currentBlockChildIndex];\n      if (isChildChanged)\n        if (currentBlockChild._key === (oldBlockChild == null ? void 0 : oldBlockChild._key)) {\n          debug$4(\"Updating changed child\", currentBlockChild, oldBlockChild), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(slateEditor, currentBlockChild, {\n            at: path\n          });\n          const isSpanNode = slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(currentBlockChild) && currentBlockChild._type === \"span\" && slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(oldBlockChild) && oldBlockChild._type === \"span\";\n          isSpanNode && isTextChanged ? (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.delete(slateEditor, {\n            at: { focus: { path, offset: 0 }, anchor: { path, offset: oldBlockChild.text.length } }\n          }), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertText(slateEditor, currentBlockChild.text, {\n            at: path\n          }), slateEditor.onChange()) : isSpanNode || (debug$4(\"Updating changed inline object child\", currentBlockChild), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(\n            slateEditor,\n            { _key: VOID_CHILD_KEY },\n            {\n              at: [...path, 0],\n              voids: !0\n            }\n          ));\n        } else oldBlockChild ? (debug$4(\"Replacing child\", currentBlockChild), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(slateEditor, {\n          at: [currentBlockIndex, currentBlockChildIndex]\n        }), withPreserveKeys(slateEditor, () => {\n          slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(slateEditor, currentBlockChild, {\n            at: [currentBlockIndex, currentBlockChildIndex]\n          });\n        }), slateEditor.onChange()) : oldBlockChild || (debug$4(\"Inserting new child\", currentBlockChild), withPreserveKeys(slateEditor, () => {\n          slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(slateEditor, currentBlockChild, {\n            at: [currentBlockIndex, currentBlockChildIndex]\n          }), slateEditor.onChange();\n        }));\n    });\n  }\n}\nconst debug$3 = debugWithName(\"component:PortableTextEditor:Synchronizer\"), debugVerbose = debug$3.enabled && !1, FLUSH_PATCHES_THROTTLED_MS =  false ? 0 : 1e3;\nfunction Synchronizer(props) {\n  const { change$, portableTextEditor, onChange, keyGenerator, readOnly, value } = props, [selection, setSelection] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null), pendingPatches = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]), syncValue = useSyncValue({\n    keyGenerator,\n    onChange,\n    portableTextEditor,\n    readOnly\n  }), slateEditor = (0,slate_react__WEBPACK_IMPORTED_MODULE_21__.useSlate)();\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    IS_PROCESSING_LOCAL_CHANGES.set(slateEditor, !1);\n  }, [slateEditor]);\n  const onFlushPendingPatches = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    if (pendingPatches.current.length > 0) {\n      debug$3(\"Flushing pending patches\"), debugVerbose && debug$3(`Patches:\n${JSON.stringify(pendingPatches.current, null, 2)}`);\n      const snapshot = PortableTextEditor.getValue(portableTextEditor);\n      change$.next({ type: \"mutation\", patches: pendingPatches.current, snapshot }), pendingPatches.current = [];\n    }\n    IS_PROCESSING_LOCAL_CHANGES.set(slateEditor, !1);\n  }, [slateEditor, portableTextEditor, change$]), onFlushPendingPatchesThrottled = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => lodash_throttle_js__WEBPACK_IMPORTED_MODULE_16__(\n    () => {\n      if (slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isNormalizing(slateEditor)) {\n        onFlushPendingPatches();\n        return;\n      }\n      onFlushPendingPatchesThrottled();\n    },\n    FLUSH_PATCHES_THROTTLED_MS,\n    {\n      leading: !1,\n      trailing: !0\n    }\n  ), [onFlushPendingPatches, slateEditor]);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => () => {\n    onFlushPendingPatches();\n  }, [onFlushPendingPatches]), (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    debug$3(\"Subscribing to editor changes$\");\n    const sub = change$.subscribe((next) => {\n      switch (next.type) {\n        case \"patch\":\n          IS_PROCESSING_LOCAL_CHANGES.set(slateEditor, !0), pendingPatches.current.push(next.patch), onFlushPendingPatchesThrottled(), onChange(next);\n          break;\n        case \"selection\":\n          (0,react__WEBPACK_IMPORTED_MODULE_3__.startTransition)(() => {\n            debugVerbose && debug$3(\"Setting selection\"), setSelection(next.selection);\n          }), onChange(next);\n          break;\n        default:\n          onChange(next);\n      }\n    });\n    return () => {\n      debug$3(\"Unsubscribing to changes$\"), sub.unsubscribe();\n    };\n  }, [change$, onChange, onFlushPendingPatchesThrottled, slateEditor]);\n  const handleOnline = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    debug$3(\"Editor is online, syncing from props.value\"), change$.next({ type: \"connection\", value: \"online\" }), syncValue(value);\n  }, [change$, syncValue, value]), handleOffline = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    debug$3(\"Editor is offline\"), change$.next({ type: \"connection\", value: \"offline\" });\n  }, [change$]);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => (portableTextEditor.props.patches$ && (window.addEventListener(\"online\", handleOnline), window.addEventListener(\"offline\", handleOffline)), () => {\n    portableTextEditor.props.patches$ && (window.removeEventListener(\"online\", handleOnline), window.removeEventListener(\"offline\", handleOffline));\n  }));\n  const isInitialValueFromProps = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(!0);\n  return (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    debug$3(\"Value from props changed, syncing new value\"), syncValue(value), isInitialValueFromProps.current && (change$.next({ type: \"loading\", isLoading: !1 }), change$.next({ type: \"ready\" }), isInitialValueFromProps.current = !1);\n  }, [change$, syncValue, value]), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PortableTextEditorKeyGeneratorContext.Provider, { value: keyGenerator, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PortableTextEditorContext.Provider, { value: portableTextEditor, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PortableTextEditorValueContext.Provider, { value, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PortableTextEditorReadOnlyContext.Provider, { value: readOnly, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PortableTextEditorSelectionContext.Provider, { value: selection, children: props.children }) }) }) }) });\n}\nvar __defProp = Object.defineProperty, __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField = (obj, key, value) => __defNormalProp(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nconst debug$2 = debugWithName(\"component:PortableTextEditor\");\nclass PortableTextEditor extends react__WEBPACK_IMPORTED_MODULE_3__.Component {\n  constructor(props) {\n    if (super(props), __publicField(this, \"change$\", new rxjs__WEBPACK_IMPORTED_MODULE_26__.Subject()), __publicField(this, \"schemaTypes\"), __publicField(this, \"editable\"), __publicField(this, \"setEditable\", (editable) => {\n      this.editable = { ...this.editable, ...editable };\n    }), !props.schemaType)\n      throw new Error('PortableTextEditor: missing \"type\" property');\n    props.incomingPatches$ && console.warn(\"The prop 'incomingPatches$' is deprecated and renamed to 'patches$'\"), this.change$.next({ type: \"loading\", isLoading: !0 }), this.schemaTypes = getPortableTextMemberSchemaTypes(\n      props.schemaType.hasOwnProperty(\"jsonType\") ? props.schemaType : compileType(props.schemaType)\n    );\n  }\n  componentDidUpdate(prevProps) {\n    this.props.schemaType !== prevProps.schemaType && (this.schemaTypes = getPortableTextMemberSchemaTypes(\n      this.props.schemaType.hasOwnProperty(\"jsonType\") ? this.props.schemaType : compileType(this.props.schemaType)\n    )), this.props.editorRef !== prevProps.editorRef && this.props.editorRef && (this.props.editorRef.current = this);\n  }\n  render() {\n    const { onChange, value, children, patches$, incomingPatches$ } = this.props, { change$ } = this, _patches$ = incomingPatches$ || patches$, maxBlocks = typeof this.props.maxBlocks > \"u\" ? void 0 : parseInt(this.props.maxBlocks.toString(), 10) || void 0, readOnly = !!this.props.readOnly, keyGenerator = this.props.keyGenerator || defaultKeyGenerator;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      SlateContainer,\n      {\n        keyGenerator,\n        maxBlocks,\n        patches$: _patches$,\n        portableTextEditor: this,\n        readOnly,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          Synchronizer,\n          {\n            change$,\n            keyGenerator,\n            onChange,\n            portableTextEditor: this,\n            readOnly,\n            value,\n            children\n          }\n        )\n      }\n    );\n  }\n}\n__publicField(PortableTextEditor, \"activeAnnotations\", (editor) => editor && editor.editable ? editor.editable.activeAnnotations() : []), __publicField(PortableTextEditor, \"isAnnotationActive\", (editor, annotationType) => editor && editor.editable ? editor.editable.isAnnotationActive(annotationType) : !1), __publicField(PortableTextEditor, \"addAnnotation\", (editor, type, value) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.addAnnotation(type, value);\n}), __publicField(PortableTextEditor, \"blur\", (editor) => {\n  var _a;\n  debug$2(\"Host blurred\"), (_a = editor.editable) == null || _a.blur();\n}), __publicField(PortableTextEditor, \"delete\", (editor, selection, options) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.delete(selection, options);\n}), __publicField(PortableTextEditor, \"findDOMNode\", (editor, element) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.findDOMNode(element);\n}), __publicField(PortableTextEditor, \"findByPath\", (editor, path) => {\n  var _a;\n  return ((_a = editor.editable) == null ? void 0 : _a.findByPath(path)) || [];\n}), __publicField(PortableTextEditor, \"focus\", (editor) => {\n  var _a;\n  debug$2(\"Host requesting focus\"), (_a = editor.editable) == null || _a.focus();\n}), __publicField(PortableTextEditor, \"focusBlock\", (editor) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.focusBlock();\n}), __publicField(PortableTextEditor, \"focusChild\", (editor) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.focusChild();\n}), __publicField(PortableTextEditor, \"getSelection\", (editor) => editor.editable ? editor.editable.getSelection() : null), __publicField(PortableTextEditor, \"getValue\", (editor) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.getValue();\n}), __publicField(PortableTextEditor, \"hasBlockStyle\", (editor, blockStyle) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.hasBlockStyle(blockStyle);\n}), __publicField(PortableTextEditor, \"hasListStyle\", (editor, listStyle) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.hasListStyle(listStyle);\n}), __publicField(PortableTextEditor, \"isCollapsedSelection\", (editor) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.isCollapsedSelection();\n}), __publicField(PortableTextEditor, \"isExpandedSelection\", (editor) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.isExpandedSelection();\n}), __publicField(PortableTextEditor, \"isMarkActive\", (editor, mark) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.isMarkActive(mark);\n}), __publicField(PortableTextEditor, \"insertChild\", (editor, type, value) => {\n  var _a;\n  return debug$2(\"Host inserting child\"), (_a = editor.editable) == null ? void 0 : _a.insertChild(type, value);\n}), __publicField(PortableTextEditor, \"insertBlock\", (editor, type, value) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.insertBlock(type, value);\n}), __publicField(PortableTextEditor, \"insertBreak\", (editor) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.insertBreak();\n}), __publicField(PortableTextEditor, \"isVoid\", (editor, element) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.isVoid(element);\n}), __publicField(PortableTextEditor, \"isObjectPath\", (editor, path) => {\n  if (!path || !Array.isArray(path)) return !1;\n  const isChildObjectEditPath = path.length > 3 && path[1] === \"children\";\n  return path.length > 1 && path[1] !== \"children\" || isChildObjectEditPath;\n}), __publicField(PortableTextEditor, \"marks\", (editor) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.marks();\n}), __publicField(PortableTextEditor, \"select\", (editor, selection) => {\n  var _a;\n  debug$2(\"Host setting selection\", selection), (_a = editor.editable) == null || _a.select(selection);\n}), __publicField(PortableTextEditor, \"removeAnnotation\", (editor, type) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.removeAnnotation(type);\n}), __publicField(PortableTextEditor, \"toggleBlockStyle\", (editor, blockStyle) => {\n  var _a;\n  return debug$2(\"Host is toggling block style\"), (_a = editor.editable) == null ? void 0 : _a.toggleBlockStyle(blockStyle);\n}), __publicField(PortableTextEditor, \"toggleList\", (editor, listStyle) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.toggleList(listStyle);\n}), __publicField(PortableTextEditor, \"toggleMark\", (editor, mark) => {\n  var _a;\n  debug$2(\"Host toggling mark\", mark), (_a = editor.editable) == null || _a.toggleMark(mark);\n}), __publicField(PortableTextEditor, \"getFragment\", (editor) => {\n  var _a;\n  return debug$2(\"Host getting fragment\"), (_a = editor.editable) == null ? void 0 : _a.getFragment();\n}), __publicField(PortableTextEditor, \"undo\", (editor) => {\n  var _a;\n  debug$2(\"Host undoing\"), (_a = editor.editable) == null || _a.undo();\n}), __publicField(PortableTextEditor, \"redo\", (editor) => {\n  var _a;\n  debug$2(\"Host redoing\"), (_a = editor.editable) == null || _a.redo();\n}), __publicField(PortableTextEditor, \"isSelectionsOverlapping\", (editor, selectionA, selectionB) => {\n  var _a;\n  return (_a = editor.editable) == null ? void 0 : _a.isSelectionsOverlapping(selectionA, selectionB);\n});\nconst debug$1 = debugWithName(\"components:Leaf\"), EMPTY_MARKS = [], Leaf = (props) => {\n  const { attributes, children, leaf, schemaTypes, renderChild, renderDecorator, renderAnnotation } = props, spanRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null), portableTextEditor = usePortableTextEditor(), blockSelected = (0,slate_react__WEBPACK_IMPORTED_MODULE_21__.useSelected)(), [focused, setFocused] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1), [selected, setSelected] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1), block = children.props.parent, path = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(\n    () => block ? [{ _key: block == null ? void 0 : block._key }, \"children\", { _key: leaf._key }] : [],\n    [block, leaf._key]\n  ), decoratorValues = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(\n    () => schemaTypes.decorators.map((dec) => dec.value),\n    [schemaTypes.decorators]\n  ), marks = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(\n    () => lodash_uniq_js__WEBPACK_IMPORTED_MODULE_5__((leaf.marks || EMPTY_MARKS).filter((mark) => decoratorValues.includes(mark))),\n    [decoratorValues, leaf.marks]\n  ), annotationMarks = Array.isArray(leaf.marks) ? leaf.marks : EMPTY_MARKS, annotations = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(\n    () => annotationMarks.map(\n      (mark) => {\n        var _a;\n        return !decoratorValues.includes(mark) && ((_a = block == null ? void 0 : block.markDefs) == null ? void 0 : _a.find((def) => def._key === mark));\n      }\n    ).filter(Boolean),\n    [annotationMarks, block, decoratorValues]\n  ), shouldTrackSelectionAndFocus = annotations.length > 0 && blockSelected;\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (!shouldTrackSelectionAndFocus) {\n      setFocused(!1);\n      return;\n    }\n    const sel = PortableTextEditor.getSelection(portableTextEditor);\n    sel && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(sel.focus.path, path) && PortableTextEditor.isCollapsedSelection(portableTextEditor) && (0,react__WEBPACK_IMPORTED_MODULE_3__.startTransition)(() => {\n      setFocused(!0);\n    });\n  }, [shouldTrackSelectionAndFocus, path, portableTextEditor]);\n  const setSelectedFromRange = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    if (!shouldTrackSelectionAndFocus)\n      return;\n    debug$1(\"Setting selection and focus from range\");\n    const winSelection = window.getSelection();\n    if (!winSelection) {\n      setSelected(!1);\n      return;\n    }\n    if (winSelection && winSelection.rangeCount > 0) {\n      const range = winSelection.getRangeAt(0);\n      spanRef.current && range.intersectsNode(spanRef.current) ? setSelected(!0) : setSelected(!1);\n    } else\n      setSelected(!1);\n  }, [shouldTrackSelectionAndFocus]);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (!shouldTrackSelectionAndFocus)\n      return;\n    const sub = portableTextEditor.change$.subscribe((next) => {\n      if (next.type === \"blur\") {\n        setFocused(!1), setSelected(!1);\n        return;\n      }\n      if (next.type === \"focus\") {\n        const sel = PortableTextEditor.getSelection(portableTextEditor);\n        sel && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(sel.focus.path, path) && PortableTextEditor.isCollapsedSelection(portableTextEditor) && setFocused(!0), setSelectedFromRange();\n        return;\n      }\n      next.type === \"selection\" && (next.selection && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(next.selection.focus.path, path) && PortableTextEditor.isCollapsedSelection(portableTextEditor) ? setFocused(!0) : setFocused(!1), setSelectedFromRange());\n    });\n    return () => {\n      sub.unsubscribe();\n    };\n  }, [path, portableTextEditor, setSelectedFromRange, shouldTrackSelectionAndFocus]), (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => setSelectedFromRange(), [setSelectedFromRange]);\n  const content = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n    let returnedChildren = children;\n    if (slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(leaf) && leaf._type === schemaTypes.span.name && (marks.forEach((mark) => {\n      const schemaType = schemaTypes.decorators.find((dec) => dec.value === mark);\n      if (schemaType && renderDecorator) {\n        const _props = Object.defineProperty(\n          {\n            children: returnedChildren,\n            editorElementRef: spanRef,\n            focused,\n            path,\n            selected,\n            schemaType,\n            value: mark\n          },\n          \"type\",\n          {\n            enumerable: !1,\n            get() {\n              return console.warn(\"Property 'type' is deprecated, use 'schemaType' instead.\"), schemaType;\n            }\n          }\n        );\n        returnedChildren = renderDecorator(_props);\n      }\n    }), block && annotations.length > 0 && annotations.forEach((annotation) => {\n      const schemaType = schemaTypes.annotations.find((t) => t.name === annotation._type);\n      if (schemaType)\n        if (renderAnnotation) {\n          const _props = Object.defineProperty(\n            {\n              block,\n              children: returnedChildren,\n              editorElementRef: spanRef,\n              focused,\n              path,\n              selected,\n              schemaType,\n              value: annotation\n            },\n            \"type\",\n            {\n              enumerable: !1,\n              get() {\n                return console.warn(\"Property 'type' is deprecated, use 'schemaType' instead.\"), schemaType;\n              }\n            }\n          );\n          returnedChildren = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { ref: spanRef, children: renderAnnotation(_props) });\n        } else\n          returnedChildren = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DefaultAnnotation, { annotation, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { ref: spanRef, children: returnedChildren }) });\n    }), block && renderChild)) {\n      const child = block.children.find((_child) => _child._key === leaf._key);\n      if (child) {\n        const _props = Object.defineProperty(\n          {\n            annotations,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: returnedChildren }),\n            editorElementRef: spanRef,\n            focused,\n            path,\n            schemaType: schemaTypes.span,\n            selected,\n            value: child\n          },\n          \"type\",\n          {\n            enumerable: !1,\n            get() {\n              return console.warn(\"Property 'type' is deprecated, use 'schemaType' instead.\"), schemaTypes.span;\n            }\n          }\n        );\n        returnedChildren = renderChild(_props);\n      }\n    }\n    return returnedChildren;\n  }, [\n    annotations,\n    block,\n    children,\n    focused,\n    leaf,\n    marks,\n    path,\n    renderAnnotation,\n    renderChild,\n    renderDecorator,\n    schemaTypes.annotations,\n    schemaTypes.decorators,\n    schemaTypes.span,\n    selected\n  ]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(\n    () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { ...attributes, ref: spanRef, children: content }, leaf._key),\n    [leaf, attributes, content]\n  );\n}, debug = debugWithName(\"component:Editable\"), PLACEHOLDER_STYLE = {\n  position: \"absolute\",\n  userSelect: \"none\",\n  pointerEvents: \"none\",\n  left: 0,\n  right: 0\n}, EMPTY_DECORATIONS_STATE = [], PortableTextEditable = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function(props, forwardedRef) {\n  const {\n    hotkeys,\n    onBlur,\n    onFocus,\n    onBeforeInput,\n    onPaste,\n    onCopy,\n    onClick,\n    rangeDecorations,\n    renderAnnotation,\n    renderBlock,\n    renderChild,\n    renderDecorator,\n    renderListItem,\n    renderPlaceholder,\n    renderStyle,\n    selection: propsSelection,\n    scrollSelectionIntoView,\n    spellCheck,\n    ...restProps\n  } = props, portableTextEditor = usePortableTextEditor(), readOnly = usePortableTextEditorReadOnlyStatus(), keyGenerator = usePortableTextEditorKeyGenerator(), ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null), [editableElement, setEditableElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null), [hasInvalidValue, setHasInvalidValue] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1), [rangeDecorationState, setRangeDecorationsState] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(EMPTY_DECORATIONS_STATE);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useImperativeHandle)(forwardedRef, () => ref.current);\n  const rangeDecorationsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(rangeDecorations), { change$, schemaTypes } = portableTextEditor, slateEditor = (0,slate_react__WEBPACK_IMPORTED_MODULE_21__.useSlate)(), blockTypeName = schemaTypes.block.name, withInsertData = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(\n    () => createWithInsertData(change$, schemaTypes, keyGenerator),\n    [change$, keyGenerator, schemaTypes]\n  ), withHotKeys = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(\n    () => createWithHotkeys(schemaTypes, portableTextEditor, hotkeys),\n    [hotkeys, portableTextEditor, schemaTypes]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => readOnly ? (debug(\"Editable is in read only mode\"), withInsertData(slateEditor)) : (debug(\"Editable is in edit mode\"), withInsertData(withHotKeys(slateEditor))), [readOnly, slateEditor, withHotKeys, withInsertData]);\n  const renderElement = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (eProps) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      Element,\n      {\n        ...eProps,\n        readOnly,\n        renderBlock,\n        renderChild,\n        renderListItem,\n        renderStyle,\n        schemaTypes,\n        spellCheck\n      }\n    ),\n    [schemaTypes, spellCheck, readOnly, renderBlock, renderChild, renderListItem, renderStyle]\n  ), renderLeaf = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (lProps) => {\n      if (lProps.leaf._type === \"span\") {\n        let rendered = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          Leaf,\n          {\n            ...lProps,\n            schemaTypes,\n            renderAnnotation,\n            renderChild,\n            renderDecorator,\n            readOnly\n          }\n        );\n        if (renderPlaceholder && lProps.leaf.placeholder && lProps.text.text === \"\")\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { style: PLACEHOLDER_STYLE, contentEditable: !1, children: renderPlaceholder() }),\n            rendered\n          ] });\n        const decoration = lProps.leaf.rangeDecoration;\n        return decoration && (rendered = decoration.component({ children: rendered })), rendered;\n      }\n      return lProps.children;\n    },\n    [readOnly, renderAnnotation, renderChild, renderDecorator, renderPlaceholder, schemaTypes]\n  ), restoreSelectionFromProps = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    if (propsSelection) {\n      debug(`Selection from props ${JSON.stringify(propsSelection)}`);\n      const normalizedSelection = normalizeSelection(\n        propsSelection,\n        fromSlateValue(slateEditor.children, blockTypeName)\n      );\n      if (normalizedSelection !== null) {\n        debug(`Normalized selection from props ${JSON.stringify(normalizedSelection)}`);\n        const slateRange = toSlateRange(normalizedSelection, slateEditor);\n        slateRange && (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(slateEditor, slateRange), slateEditor.operations.some((o) => o.type === \"set_selection\") || change$.next({ type: \"selection\", selection: normalizedSelection }), slateEditor.onChange());\n      }\n    }\n  }, [propsSelection, slateEditor, blockTypeName, change$]), syncRangeDecorations = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (operation) => {\n      if (rangeDecorations && rangeDecorations.length > 0) {\n        const newSlateRanges = [];\n        if (rangeDecorations.forEach((rangeDecorationItem) => {\n          const slateRange = toSlateRange(rangeDecorationItem.selection, slateEditor);\n          if (!slate__WEBPACK_IMPORTED_MODULE_18__.Range.isRange(slateRange)) {\n            rangeDecorationItem.onMoved && rangeDecorationItem.onMoved({\n              newSelection: null,\n              rangeDecoration: rangeDecorationItem,\n              origin: \"local\"\n            });\n            return;\n          }\n          let newRange;\n          if (operation && (newRange = moveRangeByOperation(slateRange, operation), newRange && newRange !== slateRange || newRange === null && slateRange)) {\n            const value = PortableTextEditor.getValue(portableTextEditor), newRangeSelection = toPortableTextRange(value, newRange, schemaTypes);\n            rangeDecorationItem.onMoved && rangeDecorationItem.onMoved({\n              newSelection: newRangeSelection,\n              rangeDecoration: rangeDecorationItem,\n              origin: \"local\"\n            });\n          }\n          newRange !== null && newSlateRanges.push({ ...newRange || slateRange, rangeDecoration: rangeDecorationItem });\n        }), newSlateRanges.length > 0) {\n          setRangeDecorationsState(newSlateRanges);\n          return;\n        }\n      }\n      setRangeDecorationsState(EMPTY_DECORATIONS_STATE);\n    },\n    [portableTextEditor, rangeDecorations, schemaTypes, slateEditor]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    const sub = change$.subscribe((next) => {\n      switch (next.type) {\n        case \"ready\":\n          restoreSelectionFromProps();\n          break;\n        case \"invalidValue\":\n          setHasInvalidValue(!0);\n          break;\n        case \"value\":\n          setHasInvalidValue(!1);\n          break;\n      }\n    });\n    return () => {\n      sub.unsubscribe();\n    };\n  }, [change$, restoreSelectionFromProps]), (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    propsSelection && !hasInvalidValue && restoreSelectionFromProps();\n  }, [hasInvalidValue, propsSelection, restoreSelectionFromProps]);\n  const originalApply = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => slateEditor.apply, [slateEditor]), [syncedRangeDecorations, setSyncedRangeDecorations] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    syncedRangeDecorations || (setSyncedRangeDecorations(!0), syncRangeDecorations());\n  }, [syncRangeDecorations, syncedRangeDecorations]), (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(rangeDecorations, rangeDecorationsRef.current) || syncRangeDecorations(), rangeDecorationsRef.current = rangeDecorations;\n  }, [rangeDecorations, syncRangeDecorations]), (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => (slateEditor.apply = (op) => {\n    originalApply(op), op.type !== \"set_selection\" && syncRangeDecorations(op);\n  }, () => {\n    slateEditor.apply = originalApply;\n  }), [originalApply, slateEditor, syncRangeDecorations]);\n  const handleCopy = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      onCopy && onCopy(event) !== void 0 && event.preventDefault();\n    },\n    [onCopy]\n  ), handlePaste = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      if (event.preventDefault(), !!slateEditor.selection) {\n        if (!onPaste) {\n          debug(\"Pasting normally\"), slateEditor.insertData(event.clipboardData);\n          return;\n        }\n        new Promise((resolve) => {\n          const value = PortableTextEditor.getValue(portableTextEditor), ptRange = toPortableTextRange(value, slateEditor.selection, schemaTypes), path = (ptRange == null ? void 0 : ptRange.focus.path) || [];\n          resolve(\n            onPaste({\n              event,\n              value,\n              path,\n              schemaTypes\n            })\n          );\n        }).then((result) => {\n          if (debug(\"Custom paste function from client resolved\", result), change$.next({ type: \"loading\", isLoading: !0 }), !result || !result.insert) {\n            debug(\"No result from custom paste handler, pasting normally\"), slateEditor.insertData(event.clipboardData);\n            return;\n          }\n          if (result && result.insert) {\n            slateEditor.insertFragment(\n              toSlateValue(result.insert, { schemaTypes })\n            ), change$.next({ type: \"loading\", isLoading: !1 });\n            return;\n          }\n          console.warn(\"Your onPaste function returned something unexpected:\", result);\n        }).catch((error) => (change$.next({ type: \"loading\", isLoading: !1 }), console.error(error), error));\n      }\n    },\n    [change$, onPaste, portableTextEditor, schemaTypes, slateEditor]\n  ), handleOnFocus = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      if (onFocus && onFocus(event), !event.isDefaultPrevented()) {\n        const selection = PortableTextEditor.getSelection(portableTextEditor);\n        selection === null && (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(slateEditor, slate__WEBPACK_IMPORTED_MODULE_18__.Editor.start(slateEditor, [])), slateEditor.onChange()), change$.next({ type: \"focus\", event });\n        const newSelection = PortableTextEditor.getSelection(portableTextEditor);\n        selection === newSelection && change$.next({\n          type: \"selection\",\n          selection\n        });\n      }\n    },\n    [onFocus, portableTextEditor, change$, slateEditor]\n  ), handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      if (onClick && onClick(event), slateEditor.selection && event.target === event.currentTarget) {\n        const [lastBlock, path] = slate__WEBPACK_IMPORTED_MODULE_18__.Node.last(slateEditor, []), focusPath = slateEditor.selection.focus.path.slice(0, 1), lastPath = path.slice(0, 1);\n        if (slate__WEBPACK_IMPORTED_MODULE_18__.Path.equals(focusPath, lastPath)) {\n          const node = slate__WEBPACK_IMPORTED_MODULE_18__.Node.descendant(slateEditor, path.slice(0, 1));\n          lastBlock && slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isVoid(slateEditor, node) && (slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.insertNodes(slateEditor, slateEditor.pteCreateEmptyBlock()), slateEditor.onChange());\n        }\n      }\n    },\n    [onClick, slateEditor]\n  ), handleOnBlur = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      onBlur && onBlur(event), event.isPropagationStopped() || change$.next({ type: \"blur\", event });\n    },\n    [change$, onBlur]\n  ), handleOnBeforeInput = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      onBeforeInput && onBeforeInput(event);\n    },\n    [onBeforeInput]\n  ), validateSelection = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    if (!slateEditor.selection)\n      return;\n    const root = slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.findDocumentOrShadowRoot(slateEditor), { activeElement } = root;\n    if (ref.current !== activeElement)\n      return;\n    const domSelection = slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.getWindow(slateEditor).getSelection();\n    if (!domSelection || domSelection.rangeCount === 0)\n      return;\n    const existingDOMRange = domSelection.getRangeAt(0);\n    try {\n      const newDOMRange = slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.toDOMRange(slateEditor, slateEditor.selection);\n      (newDOMRange.startOffset !== existingDOMRange.startOffset || newDOMRange.endOffset !== existingDOMRange.endOffset) && (debug(\"DOM range out of sync, validating selection\"), domSelection == null || domSelection.removeAllRanges(), domSelection.addRange(newDOMRange));\n    } catch {\n      debug(\"Could not resolve selection, selecting top document\"), slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.deselect(slateEditor), slateEditor.children.length > 0 && slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.select(slateEditor, [0, 0]), slateEditor.onChange();\n    }\n  }, [ref, slateEditor]);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (editableElement) {\n      const mutationObserver = new MutationObserver(validateSelection);\n      return mutationObserver.observe(editableElement, {\n        attributeOldValue: !1,\n        attributes: !1,\n        characterData: !1,\n        childList: !0,\n        subtree: !0\n      }), () => {\n        mutationObserver.disconnect();\n      };\n    }\n  }, [validateSelection, editableElement]);\n  const handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    (event) => {\n      props.onKeyDown && props.onKeyDown(event), event.isDefaultPrevented() || slateEditor.pteWithHotKeys(event);\n    },\n    [props, slateEditor]\n  ), scrollSelectionIntoViewToSlate = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n    if (scrollSelectionIntoView !== void 0)\n      return scrollSelectionIntoView === null ? lodash_noop_js__WEBPACK_IMPORTED_MODULE_2__ : (editor, domRange) => {\n        scrollSelectionIntoView(portableTextEditor, domRange);\n      };\n  }, [portableTextEditor, scrollSelectionIntoView]), decorate = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(\n    ([, path]) => {\n      if (isEqualToEmptyEditor(slateEditor.children, schemaTypes))\n        return [\n          {\n            anchor: {\n              path: [0, 0],\n              offset: 0\n            },\n            focus: {\n              path: [0, 0],\n              offset: 0\n            },\n            placeholder: !0\n          }\n        ];\n      if (path.length === 0)\n        return EMPTY_DECORATIONS_STATE;\n      const result = rangeDecorationState.filter((item) => slate__WEBPACK_IMPORTED_MODULE_18__.Range.isCollapsed(item) ? path.length !== 2 ? !1 : slate__WEBPACK_IMPORTED_MODULE_18__.Path.equals(item.focus.path, path) && slate__WEBPACK_IMPORTED_MODULE_18__.Path.equals(item.anchor.path, path) : slate__WEBPACK_IMPORTED_MODULE_18__.Range.intersection(item, { anchor: { path, offset: 0 }, focus: { path, offset: 0 } }) || slate__WEBPACK_IMPORTED_MODULE_18__.Range.includes(item, path));\n      return result.length > 0 ? result : EMPTY_DECORATIONS_STATE;\n    },\n    [slateEditor, schemaTypes, rangeDecorationState]\n  );\n  return (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    ref.current = slate_react__WEBPACK_IMPORTED_MODULE_21__.ReactEditor.toDOMNode(slateEditor, slateEditor), setEditableElement(ref.current);\n  }, [slateEditor, ref]), portableTextEditor ? hasInvalidValue ? null : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    slate_react__WEBPACK_IMPORTED_MODULE_21__.Editable,\n    {\n      ...restProps,\n      autoFocus: !1,\n      className: restProps.className || \"pt-editable\",\n      decorate,\n      onBlur: handleOnBlur,\n      onCopy: handleCopy,\n      onClick: handleClick,\n      onDOMBeforeInput: handleOnBeforeInput,\n      onFocus: handleOnFocus,\n      onKeyDown: handleKeyDown,\n      onPaste: handlePaste,\n      readOnly,\n      renderPlaceholder: void 0,\n      renderElement,\n      renderLeaf,\n      scrollSelectionIntoView: scrollSelectionIntoViewToSlate\n    }\n  ) : null;\n});\nfunction compactPatches(patches) {\n  const lastPatch = patches.slice(-1)[0];\n  if (lastPatch && lastPatch.type === \"unset\" && lastPatch.path.length === 0)\n    return [lastPatch];\n  let finalPatches = patches;\n  return finalPatches = finalPatches.filter((patch, index) => {\n    if (!patch)\n      return !1;\n    const nextPatch = finalPatches[index + 1];\n    return !(nextPatch && nextPatch.type === \"set\" && patch.type === \"set\" && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_1__(patch.path, nextPatch.path));\n  }), finalPatches.length !== patches.length ? finalPatches : patches;\n}\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9wb3J0YWJsZS10ZXh0LWVkaXRvci9saWIvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RDtBQUNoQjtBQUNOO0FBQ2dJO0FBQ3hDO0FBQ2I7QUFDakY7QUFDdUY7QUFDeEU7QUFDVDtBQUNIO0FBQ1M7QUFDUjtBQUNnQjtBQUNWO0FBQ0k7QUFDQTtBQUNFO0FBQ1I7QUFDRjtBQUNRO0FBQ0Q7QUFDMEI7QUFDZjtBQUNWO0FBQ087QUFDUDtBQUMxQztBQUNBLGtDQUFPO0FBQ1A7QUFDQSx1QkFBdUIsU0FBUyxFQUFFLEtBQUs7QUFDdkMsU0FBUyxrQ0FBTyxJQUFJLDBDQUFlLGNBQWMsa0NBQU8sY0FBYyxrQ0FBTztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtCQUFrQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxrQkFBa0I7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksMENBQU07QUFDVjtBQUNBLG9CQUFvQiw0REFBWTtBQUNoQyxLQUFLO0FBQ0w7QUFDQSxpQkFBaUIsMkNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLDhDQUFPLElBQUksa0JBQWtCO0FBQ25IO0FBQ0E7QUFDQSxXQUFXLDJDQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLHlDQUFLLG1CQUFtQix5Q0FBSztBQUNuRCw2QkFBNkIsMEJBQTBCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRixnQkFBZ0I7QUFDMUc7QUFDQTtBQUNBLGlCQUFpQix5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Q0FBSyxzQkFBc0IsVUFBVSxpQkFBaUIsV0FBVyxtQkFBbUIsS0FBSyx5Q0FBSztBQUN4UjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsU0FBUyxnREFBUztBQUNsQixrQkFBa0IscURBQVc7QUFDN0IsR0FBRyxxRkFBcUYsc0RBQUc7QUFDM0YsSUFBSSxrREFBUTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSw4Q0FBTztBQUNyRixHQUFHO0FBQ0g7QUFRRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L3BvcnRhYmxlLXRleHQtZWRpdG9yL2xpYi9pbmRleC5tanM/MDNjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3gsIEZyYWdtZW50LCBqc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgaXNFcXVhbCBmcm9tIFwibG9kYXNoL2lzRXF1YWwuanNcIjtcbmltcG9ydCBub29wIGZyb20gXCJsb2Rhc2gvbm9vcC5qc1wiO1xuaW1wb3J0IHsgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlTWVtbywgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgc3RhcnRUcmFuc2l0aW9uLCBDb21wb25lbnQsIGZvcndhcmRSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEVkaXRvciwgRWxlbWVudCBhcyBFbGVtZW50JDEsIFJhbmdlLCBQb2ludCwgVGV4dCwgUGF0aCwgVHJhbnNmb3JtcywgTm9kZSwgT3BlcmF0aW9uLCBjcmVhdGVFZGl0b3IgfSBmcm9tIFwic2xhdGVcIjtcbmltcG9ydCB7IHVzZVNsYXRlU3RhdGljLCBSZWFjdEVkaXRvciwgdXNlU2VsZWN0ZWQsIHdpdGhSZWFjdCwgU2xhdGUsIHVzZVNsYXRlLCBFZGl0YWJsZSB9IGZyb20gXCJzbGF0ZS1yZWFjdFwiO1xuaW1wb3J0IGRlYnVnJGwgZnJvbSBcImRlYnVnXCI7XG5pbXBvcnQgeyBpc0tleVNlZ21lbnQsIGlzUG9ydGFibGVUZXh0U3BhbiwgaXNQb3J0YWJsZVRleHRUZXh0QmxvY2ssIGlzUG9ydGFibGVUZXh0TGlzdEJsb2NrIH0gZnJvbSBcIkBzYW5pdHkvdHlwZXNcIjtcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xuaW1wb3J0IHVuaXEgZnJvbSBcImxvZGFzaC91bmlxLmpzXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IFNjaGVtYSB9IGZyb20gXCJAc2FuaXR5L3NjaGVtYVwiO1xuaW1wb3J0IGdldCBmcm9tIFwibG9kYXNoL2dldC5qc1wiO1xuaW1wb3J0IGlzVW5kZWZpbmVkIGZyb20gXCJsb2Rhc2gvaXNVbmRlZmluZWQuanNcIjtcbmltcG9ydCBvbWl0QnkgZnJvbSBcImxvZGFzaC9vbWl0QnkuanNcIjtcbmltcG9ydCBpc09iamVjdCBmcm9tIFwibG9kYXNoL2lzT2JqZWN0LmpzXCI7XG5pbXBvcnQgaXNTdHJpbmcgZnJvbSBcImxvZGFzaC9pc1N0cmluZy5qc1wiO1xuaW1wb3J0IGZpbmRJbmRleCBmcm9tIFwibG9kYXNoL2ZpbmRJbmRleC5qc1wiO1xuaW1wb3J0IGNsb25lIGZyb20gXCJsb2Rhc2gvY2xvbmUuanNcIjtcbmltcG9ydCBvbWl0IGZyb20gXCJsb2Rhc2gvb21pdC5qc1wiO1xuaW1wb3J0IGZsYXR0ZW4kMSBmcm9tIFwibG9kYXNoL2ZsYXR0ZW4uanNcIjtcbmltcG9ydCB7IGlzSG90a2V5IH0gZnJvbSBcImlzLWhvdGtleS1lc21cIjtcbmltcG9ydCB7IGh0bWxUb0Jsb2Nrcywgbm9ybWFsaXplQmxvY2sgfSBmcm9tIFwiQHNhbml0eS9ibG9jay10b29sc1wiO1xuaW1wb3J0IGlzUGxhaW5PYmplY3QgZnJvbSBcImxvZGFzaC9pc1BsYWluT2JqZWN0LmpzXCI7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSBcImxvZGFzaC90aHJvdHRsZS5qc1wiO1xuaW1wb3J0IHsgcmFuZG9tS2V5IH0gZnJvbSBcIkBzYW5pdHkvdXRpbC9jb250ZW50XCI7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSBcImxvZGFzaC9kZWJvdW5jZS5qc1wiO1xuY29uc3Qgcm9vdE5hbWUgPSBcInNhbml0eS1wdGU6XCI7XG5kZWJ1ZyRsKHJvb3ROYW1lKTtcbmZ1bmN0aW9uIGRlYnVnV2l0aE5hbWUobmFtZSkge1xuICBjb25zdCBuYW1lc3BhY2UgPSBgJHtyb290TmFtZX0ke25hbWV9YDtcbiAgcmV0dXJuIGRlYnVnJGwgJiYgZGVidWckbC5lbmFibGVkKG5hbWVzcGFjZSkgPyBkZWJ1ZyRsKG5hbWVzcGFjZSkgOiBkZWJ1ZyRsKHJvb3ROYW1lKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUtleWVkUGF0aChwb2ludCwgdmFsdWUsIHR5cGVzKSB7XG4gIGNvbnN0IGJsb2NrUGF0aCA9IFtwb2ludC5wYXRoWzBdXTtcbiAgaWYgKCF2YWx1ZSlcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3QgYmxvY2sgPSB2YWx1ZVtibG9ja1BhdGhbMF1dO1xuICBpZiAoIWJsb2NrKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCBrZXllZEJsb2NrUGF0aCA9IFt7IF9rZXk6IGJsb2NrLl9rZXkgfV07XG4gIGlmIChibG9jay5fdHlwZSAhPT0gdHlwZXMuYmxvY2submFtZSlcbiAgICByZXR1cm4ga2V5ZWRCbG9ja1BhdGg7XG4gIGxldCBrZXllZENoaWxkUGF0aDtcbiAgY29uc3QgY2hpbGRQYXRoID0gcG9pbnQucGF0aC5zbGljZSgwLCAyKSwgY2hpbGQgPSBBcnJheS5pc0FycmF5KGJsb2NrLmNoaWxkcmVuKSAmJiBibG9jay5jaGlsZHJlbltjaGlsZFBhdGhbMV1dO1xuICByZXR1cm4gY2hpbGQgJiYgKGtleWVkQ2hpbGRQYXRoID0gW1wiY2hpbGRyZW5cIiwgeyBfa2V5OiBjaGlsZC5fa2V5IH1dKSwga2V5ZWRDaGlsZFBhdGggPyBbLi4ua2V5ZWRCbG9ja1BhdGgsIC4uLmtleWVkQ2hpbGRQYXRoXSA6IGtleWVkQmxvY2tQYXRoO1xufVxuZnVuY3Rpb24gY3JlYXRlQXJyYXllZFBhdGgocG9pbnQsIGVkaXRvcikge1xuICBpZiAoIWVkaXRvcilcbiAgICByZXR1cm4gW107XG4gIGNvbnN0IFtibG9jaywgYmxvY2tQYXRoXSA9IEFycmF5LmZyb20oXG4gICAgRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgYXQ6IFtdLFxuICAgICAgbWF0Y2g6IChuKSA9PiBpc0tleVNlZ21lbnQocG9pbnQucGF0aFswXSkgJiYgbi5fa2V5ID09PSBwb2ludC5wYXRoWzBdLl9rZXlcbiAgICB9KVxuICApWzBdIHx8IFt2b2lkIDAsIHZvaWQgMF07XG4gIGlmICghYmxvY2sgfHwgIUVsZW1lbnQkMS5pc0VsZW1lbnQoYmxvY2spKVxuICAgIHJldHVybiBbXTtcbiAgaWYgKGVkaXRvci5pc1ZvaWQoYmxvY2spKVxuICAgIHJldHVybiBbYmxvY2tQYXRoWzBdLCAwXTtcbiAgY29uc3QgY2hpbGRQYXRoID0gW3BvaW50LnBhdGhbMl1dLCBjaGlsZEluZGV4ID0gYmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjaGlsZCkgPT4gaXNFcXVhbChbeyBfa2V5OiBjaGlsZC5fa2V5IH1dLCBjaGlsZFBhdGgpKTtcbiAgaWYgKGNoaWxkSW5kZXggPj0gMCAmJiBibG9jay5jaGlsZHJlbltjaGlsZEluZGV4XSkge1xuICAgIGNvbnN0IGNoaWxkID0gYmxvY2suY2hpbGRyZW5bY2hpbGRJbmRleF07XG4gICAgcmV0dXJuIEVsZW1lbnQkMS5pc0VsZW1lbnQoY2hpbGQpICYmIGVkaXRvci5pc1ZvaWQoY2hpbGQpID8gYmxvY2tQYXRoLmNvbmNhdChjaGlsZEluZGV4KS5jb25jYXQoMCkgOiBibG9ja1BhdGguY29uY2F0KGNoaWxkSW5kZXgpO1xuICB9XG4gIHJldHVybiBibG9ja1BhdGg7XG59XG5mdW5jdGlvbiB0b1BvcnRhYmxlVGV4dFJhbmdlKHZhbHVlLCByYW5nZSwgdHlwZXMpIHtcbiAgaWYgKCFyYW5nZSlcbiAgICByZXR1cm4gbnVsbDtcbiAgbGV0IGFuY2hvciA9IG51bGwsIGZvY3VzID0gbnVsbDtcbiAgY29uc3QgYW5jaG9yUGF0aCA9IHJhbmdlLmFuY2hvciAmJiBjcmVhdGVLZXllZFBhdGgocmFuZ2UuYW5jaG9yLCB2YWx1ZSwgdHlwZXMpO1xuICBhbmNob3JQYXRoICYmIHJhbmdlLmFuY2hvciAmJiAoYW5jaG9yID0ge1xuICAgIHBhdGg6IGFuY2hvclBhdGgsXG4gICAgb2Zmc2V0OiByYW5nZS5hbmNob3Iub2Zmc2V0XG4gIH0pO1xuICBjb25zdCBmb2N1c1BhdGggPSByYW5nZS5mb2N1cyAmJiBjcmVhdGVLZXllZFBhdGgocmFuZ2UuZm9jdXMsIHZhbHVlLCB0eXBlcyk7XG4gIGZvY3VzUGF0aCAmJiByYW5nZS5mb2N1cyAmJiAoZm9jdXMgPSB7XG4gICAgcGF0aDogZm9jdXNQYXRoLFxuICAgIG9mZnNldDogcmFuZ2UuZm9jdXMub2Zmc2V0XG4gIH0pO1xuICBjb25zdCBiYWNrd2FyZCA9ICEhKFJhbmdlLmlzUmFuZ2UocmFuZ2UpICYmIFJhbmdlLmlzQmFja3dhcmQocmFuZ2UpKTtcbiAgcmV0dXJuIGFuY2hvciAmJiBmb2N1cyA/IHsgYW5jaG9yLCBmb2N1cywgYmFja3dhcmQgfSA6IG51bGw7XG59XG5mdW5jdGlvbiB0b1NsYXRlUmFuZ2Uoc2VsZWN0aW9uLCBlZGl0b3IpIHtcbiAgaWYgKCFzZWxlY3Rpb24gfHwgIWVkaXRvcilcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3QgYW5jaG9yID0ge1xuICAgIHBhdGg6IGNyZWF0ZUFycmF5ZWRQYXRoKHNlbGVjdGlvbi5hbmNob3IsIGVkaXRvciksXG4gICAgb2Zmc2V0OiBzZWxlY3Rpb24uYW5jaG9yLm9mZnNldFxuICB9LCBmb2N1cyA9IHtcbiAgICBwYXRoOiBjcmVhdGVBcnJheWVkUGF0aChzZWxlY3Rpb24uZm9jdXMsIGVkaXRvciksXG4gICAgb2Zmc2V0OiBzZWxlY3Rpb24uZm9jdXMub2Zmc2V0XG4gIH07XG4gIHJldHVybiBmb2N1cy5wYXRoLmxlbmd0aCA9PT0gMCB8fCBhbmNob3IucGF0aC5sZW5ndGggPT09IDAgPyBudWxsIDogYW5jaG9yICYmIGZvY3VzID8geyBhbmNob3IsIGZvY3VzIH0gOiBudWxsO1xufVxuZnVuY3Rpb24gbW92ZVJhbmdlQnlPcGVyYXRpb24ocmFuZ2UsIG9wZXJhdGlvbikge1xuICBjb25zdCBhbmNob3IgPSBQb2ludC50cmFuc2Zvcm0ocmFuZ2UuYW5jaG9yLCBvcGVyYXRpb24pLCBmb2N1cyA9IFBvaW50LnRyYW5zZm9ybShyYW5nZS5mb2N1cywgb3BlcmF0aW9uKTtcbiAgcmV0dXJuIGFuY2hvciA9PT0gbnVsbCB8fCBmb2N1cyA9PT0gbnVsbCA/IG51bGwgOiBQb2ludC5lcXVhbHMoYW5jaG9yLCByYW5nZS5hbmNob3IpICYmIFBvaW50LmVxdWFscyhmb2N1cywgcmFuZ2UuZm9jdXMpID8gcmFuZ2UgOiB7IGFuY2hvciwgZm9jdXMgfTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVBvaW50KHBvaW50LCB2YWx1ZSkge1xuICBpZiAoIXBvaW50IHx8ICF2YWx1ZSlcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3QgbmV3UGF0aCA9IFtdO1xuICBsZXQgbmV3T2Zmc2V0ID0gcG9pbnQub2Zmc2V0IHx8IDA7XG4gIGNvbnN0IGJsb2NrS2V5ID0gdHlwZW9mIHBvaW50LnBhdGhbMF0gPT0gXCJvYmplY3RcIiAmJiBcIl9rZXlcIiBpbiBwb2ludC5wYXRoWzBdICYmIHBvaW50LnBhdGhbMF0uX2tleSwgY2hpbGRLZXkgPSB0eXBlb2YgcG9pbnQucGF0aFsyXSA9PSBcIm9iamVjdFwiICYmIFwiX2tleVwiIGluIHBvaW50LnBhdGhbMl0gJiYgcG9pbnQucGF0aFsyXS5fa2V5LCBibG9jayA9IHZhbHVlLmZpbmQoKGJsaykgPT4gYmxrLl9rZXkgPT09IGJsb2NrS2V5KTtcbiAgaWYgKGJsb2NrKVxuICAgIG5ld1BhdGgucHVzaCh7IF9rZXk6IGJsb2NrLl9rZXkgfSk7XG4gIGVsc2VcbiAgICByZXR1cm4gbnVsbDtcbiAgaWYgKGJsb2NrICYmIHBvaW50LnBhdGhbMV0gPT09IFwiY2hpbGRyZW5cIikge1xuICAgIGlmICghYmxvY2suY2hpbGRyZW4gfHwgQXJyYXkuaXNBcnJheShibG9jay5jaGlsZHJlbikgJiYgYmxvY2suY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgY2hpbGQgPSBBcnJheS5pc0FycmF5KGJsb2NrLmNoaWxkcmVuKSAmJiBibG9jay5jaGlsZHJlbi5maW5kKChjbGQpID0+IGNsZC5fa2V5ID09PSBjaGlsZEtleSk7XG4gICAgaWYgKGNoaWxkKVxuICAgICAgbmV3UGF0aC5wdXNoKFwiY2hpbGRyZW5cIiksIG5ld1BhdGgucHVzaCh7IF9rZXk6IGNoaWxkLl9rZXkgfSksIG5ld09mZnNldCA9IGNoaWxkLnRleHQgJiYgY2hpbGQudGV4dC5sZW5ndGggPj0gcG9pbnQub2Zmc2V0ID8gcG9pbnQub2Zmc2V0IDogY2hpbGQudGV4dCAmJiBjaGlsZC50ZXh0Lmxlbmd0aCB8fCAwO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB7IHBhdGg6IG5ld1BhdGgsIG9mZnNldDogbmV3T2Zmc2V0IH07XG59XG5mdW5jdGlvbiBub3JtYWxpemVTZWxlY3Rpb24oc2VsZWN0aW9uLCB2YWx1ZSkge1xuICBpZiAoIXNlbGVjdGlvbiB8fCAhdmFsdWUgfHwgdmFsdWUubGVuZ3RoID09PSAwKVxuICAgIHJldHVybiBudWxsO1xuICBsZXQgbmV3QW5jaG9yID0gbnVsbCwgbmV3Rm9jdXMgPSBudWxsO1xuICBjb25zdCB7IGFuY2hvciwgZm9jdXMgfSA9IHNlbGVjdGlvbjtcbiAgcmV0dXJuIGFuY2hvciAmJiB2YWx1ZS5maW5kKChibGspID0+IGlzRXF1YWwoeyBfa2V5OiBibGsuX2tleSB9LCBhbmNob3IucGF0aFswXSkpICYmIChuZXdBbmNob3IgPSBub3JtYWxpemVQb2ludChhbmNob3IsIHZhbHVlKSksIGZvY3VzICYmIHZhbHVlLmZpbmQoKGJsaykgPT4gaXNFcXVhbCh7IF9rZXk6IGJsay5fa2V5IH0sIGZvY3VzLnBhdGhbMF0pKSAmJiAobmV3Rm9jdXMgPSBub3JtYWxpemVQb2ludChmb2N1cywgdmFsdWUpKSwgbmV3QW5jaG9yICYmIG5ld0ZvY3VzID8geyBhbmNob3I6IG5ld0FuY2hvciwgZm9jdXM6IG5ld0ZvY3VzLCBiYWNrd2FyZDogc2VsZWN0aW9uLmJhY2t3YXJkIH0gOiBudWxsO1xufVxuY29uc3QgRU1QVFlfTUFSS0RFRlMgPSBbXSwgRU1QVFlfTUFSS1MkMSA9IFtdLCBWT0lEX0NISUxEX0tFWSA9IFwidm9pZC1jaGlsZFwiO1xuZnVuY3Rpb24ga2VlcE9iamVjdEVxdWFsaXR5KG9iamVjdCwga2V5TWFwKSB7XG4gIGNvbnN0IHZhbHVlID0ga2V5TWFwW29iamVjdC5fa2V5XTtcbiAgcmV0dXJuIHZhbHVlICYmIGlzRXF1YWwob2JqZWN0LCB2YWx1ZSkgPyB2YWx1ZSA6IChrZXlNYXBbb2JqZWN0Ll9rZXldID0gb2JqZWN0LCBvYmplY3QpO1xufVxuZnVuY3Rpb24gdG9TbGF0ZVZhbHVlKHZhbHVlLCB7IHNjaGVtYVR5cGVzIH0sIGtleU1hcCA9IHt9KSB7XG4gIHJldHVybiB2YWx1ZSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcCgoYmxvY2spID0+IHtcbiAgICBjb25zdCB7IF90eXBlLCBfa2V5LCAuLi5yZXN0IH0gPSBibG9jaywgdm9pZENoaWxkcmVuID0gW3sgX2tleTogVk9JRF9DSElMRF9LRVksIF90eXBlOiBcInNwYW5cIiwgdGV4dDogXCJcIiwgbWFya3M6IFtdIH1dO1xuICAgIGlmIChibG9jayAmJiBibG9jay5fdHlwZSA9PT0gc2NoZW1hVHlwZXMuYmxvY2submFtZSkge1xuICAgICAgY29uc3QgdGV4dEJsb2NrID0gYmxvY2s7XG4gICAgICBsZXQgaGFzSW5saW5lcyA9ICExO1xuICAgICAgY29uc3QgaGFzTWlzc2luZ1N0eWxlID0gdHlwZW9mIHRleHRCbG9jay5zdHlsZSA+IFwidVwiLCBoYXNNaXNzaW5nTWFya0RlZnMgPSB0eXBlb2YgdGV4dEJsb2NrLm1hcmtEZWZzID4gXCJ1XCIsIGhhc01pc3NpbmdDaGlsZHJlbiA9IHR5cGVvZiB0ZXh0QmxvY2suY2hpbGRyZW4gPiBcInVcIiwgY2hpbGRyZW4gPSAodGV4dEJsb2NrLmNoaWxkcmVuIHx8IFtdKS5tYXAoKGNoaWxkKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgX3R5cGU6IGNUeXBlLCBfa2V5OiBjS2V5LCAuLi5jUmVzdCB9ID0gY2hpbGQ7XG4gICAgICAgIHJldHVybiBjVHlwZSAhPT0gXCJzcGFuXCIgPyAoaGFzSW5saW5lcyA9ICEwLCBrZWVwT2JqZWN0RXF1YWxpdHkoXG4gICAgICAgICAge1xuICAgICAgICAgICAgX3R5cGU6IGNUeXBlLFxuICAgICAgICAgICAgX2tleTogY0tleSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiB2b2lkQ2hpbGRyZW4sXG4gICAgICAgICAgICB2YWx1ZTogY1Jlc3QsXG4gICAgICAgICAgICBfX2lubGluZTogITBcbiAgICAgICAgICB9LFxuICAgICAgICAgIGtleU1hcFxuICAgICAgICApKSA6IGNoaWxkO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gIWhhc01pc3NpbmdTdHlsZSAmJiAhaGFzTWlzc2luZ01hcmtEZWZzICYmICFoYXNNaXNzaW5nQ2hpbGRyZW4gJiYgIWhhc0lubGluZXMgJiYgRWxlbWVudCQxLmlzRWxlbWVudChibG9jaykgPyBibG9jayA6IChoYXNNaXNzaW5nU3R5bGUgJiYgKHJlc3Quc3R5bGUgPSBzY2hlbWFUeXBlcy5zdHlsZXNbMF0udmFsdWUpLCBrZWVwT2JqZWN0RXF1YWxpdHkoeyBfdHlwZSwgX2tleSwgLi4ucmVzdCwgY2hpbGRyZW4gfSwga2V5TWFwKSk7XG4gICAgfVxuICAgIHJldHVybiBrZWVwT2JqZWN0RXF1YWxpdHkoXG4gICAgICB7XG4gICAgICAgIF90eXBlLFxuICAgICAgICBfa2V5LFxuICAgICAgICBjaGlsZHJlbjogdm9pZENoaWxkcmVuLFxuICAgICAgICB2YWx1ZTogcmVzdFxuICAgICAgfSxcbiAgICAgIGtleU1hcFxuICAgICk7XG4gIH0pIDogW107XG59XG5mdW5jdGlvbiBmcm9tU2xhdGVWYWx1ZSh2YWx1ZSwgdGV4dEJsb2NrVHlwZSwga2V5TWFwID0ge30pIHtcbiAgcmV0dXJuIHZhbHVlLm1hcCgoYmxvY2spID0+IHtcbiAgICBjb25zdCB7IF9rZXksIF90eXBlIH0gPSBibG9jaztcbiAgICBpZiAoIV9rZXkgfHwgIV90eXBlKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgdmFsaWQgYmxvY2tcIik7XG4gICAgaWYgKF90eXBlID09PSB0ZXh0QmxvY2tUeXBlICYmIFwiY2hpbGRyZW5cIiBpbiBibG9jayAmJiBBcnJheS5pc0FycmF5KGJsb2NrLmNoaWxkcmVuKSAmJiBfa2V5KSB7XG4gICAgICBsZXQgaGFzSW5saW5lcyA9ICExO1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBibG9jay5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgX3R5cGU6IF9jVHlwZSB9ID0gY2hpbGQ7XG4gICAgICAgIGlmIChcInZhbHVlXCIgaW4gY2hpbGQgJiYgX2NUeXBlICE9PSBcInNwYW5cIikge1xuICAgICAgICAgIGhhc0lubGluZXMgPSAhMDtcbiAgICAgICAgICBjb25zdCB7IHZhbHVlOiB2LCBfa2V5OiBrLCBfdHlwZTogdCwgX19pbmxpbmU6IF9pLCBjaGlsZHJlbjogX2MsIC4uLnJlc3QgfSA9IGNoaWxkO1xuICAgICAgICAgIHJldHVybiBrZWVwT2JqZWN0RXF1YWxpdHkoeyAuLi5yZXN0LCAuLi52LCBfa2V5OiBrLCBfdHlwZTogdCB9LCBrZXlNYXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGhhc0lubGluZXMgPyBrZWVwT2JqZWN0RXF1YWxpdHkoeyAuLi5ibG9jaywgY2hpbGRyZW4sIF9rZXksIF90eXBlIH0sIGtleU1hcCkgOiBibG9jaztcbiAgICB9XG4gICAgY29uc3QgYmxvY2tWYWx1ZSA9IFwidmFsdWVcIiBpbiBibG9jayAmJiBibG9jay52YWx1ZTtcbiAgICByZXR1cm4ga2VlcE9iamVjdEVxdWFsaXR5KFxuICAgICAgeyBfa2V5LCBfdHlwZSwgLi4udHlwZW9mIGJsb2NrVmFsdWUgPT0gXCJvYmplY3RcIiA/IGJsb2NrVmFsdWUgOiB7fSB9LFxuICAgICAga2V5TWFwXG4gICAgKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBpc0VxdWFsVG9FbXB0eUVkaXRvcihjaGlsZHJlbiwgc2NoZW1hVHlwZXMpIHtcbiAgdmFyIF9hO1xuICByZXR1cm4gY2hpbGRyZW4gPT09IHZvaWQgMCB8fCBjaGlsZHJlbiAmJiBBcnJheS5pc0FycmF5KGNoaWxkcmVuKSAmJiBjaGlsZHJlbi5sZW5ndGggPT09IDAgfHwgY2hpbGRyZW4gJiYgQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIEVsZW1lbnQkMS5pc0VsZW1lbnQoY2hpbGRyZW5bMF0pICYmIGNoaWxkcmVuWzBdLl90eXBlID09PSBzY2hlbWFUeXBlcy5ibG9jay5uYW1lICYmIFwic3R5bGVcIiBpbiBjaGlsZHJlblswXSAmJiBjaGlsZHJlblswXS5zdHlsZSA9PT0gc2NoZW1hVHlwZXMuc3R5bGVzWzBdLnZhbHVlICYmICEoXCJsaXN0SXRlbVwiIGluIGNoaWxkcmVuWzBdKSAmJiBBcnJheS5pc0FycmF5KGNoaWxkcmVuWzBdLmNoaWxkcmVuKSAmJiBjaGlsZHJlblswXS5jaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgVGV4dC5pc1RleHQoY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0pICYmIGNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLl90eXBlID09PSBcInNwYW5cIiAmJiAhKChfYSA9IGNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLm1hcmtzKSAhPSBudWxsICYmIF9hLmpvaW4oXCJcIikpICYmIGNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLnRleHQgPT09IFwiXCI7XG59XG5jb25zdCBJU19QUk9DRVNTSU5HX1JFTU9URV9DSEFOR0VTID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIElTX1BST0NFU1NJTkdfTE9DQUxfQ0hBTkdFUyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBJU19EUkFHR0lORyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBJU19EUkFHR0lOR19CTE9DS19FTEVNRU5UID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIElTX0RSQUdHSU5HX0VMRU1FTlRfVEFSR0VUID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIElTX0RSQUdHSU5HX0JMT0NLX1RBUkdFVF9QT1NJVElPTiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBLRVlfVE9fU0xBVEVfRUxFTUVOVCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBLRVlfVE9fVkFMVUVfRUxFTUVOVCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBTTEFURV9UT19QT1JUQUJMRV9URVhUX1JBTkdFID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIERlZmF1bHRPYmplY3QgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcInByZVwiLCB7IGNoaWxkcmVuOiBKU09OLnN0cmluZ2lmeShwcm9wcy52YWx1ZSwgbnVsbCwgMikgfSkgfSksIERlZmF1bHRCbG9ja09iamVjdCA9IHN0eWxlZC5kaXZgXG4gIHVzZXItc2VsZWN0OiBub25lO1xuICBib3JkZXI6ICR7KHByb3BzKSA9PiBwcm9wcy5zZWxlY3RlZCA/IFwiMXB4IHNvbGlkIGJsdWVcIiA6IFwiMXB4IHNvbGlkIHRyYW5zcGFyZW50XCJ9O1xuYDtcbnN0eWxlZC5zcGFuYFxuICBiYWNrZ3JvdW5kOiAjOTk5O1xuICBib3JkZXI6ICR7KHByb3BzKSA9PiBwcm9wcy5zZWxlY3RlZCA/IFwiMXB4IHNvbGlkIGJsdWVcIiA6IFwiMXB4IHNvbGlkIHRyYW5zcGFyZW50XCJ9O1xuYDtcbmNvbnN0IERlZmF1bHRMaXN0SXRlbSA9IHN0eWxlZC5kaXZgXG4gICYucHQtbGlzdC1pdGVtIHtcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuXG4gICAgLyogSW1wb3J0YW50ICd0cmFuc2Zvcm0nIGluIG9yZGVyIHRvIGZvcmNlIHJlZnJlc2ggdGhlIDo6YmVmb3JlIGFuZCA6OmFmdGVyIHJ1bGVzXG4gICAgICBpbiBXZWJraXQ6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTk0NzYyOC84MzE0ODBcbiAgICAqL1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcbiAgICBtYXJnaW4tbGVmdDogJHsocHJvcHMpID0+IGdldExlZnRQb3NpdGlvbkZvckxpc3RMZXZlbChwcm9wcy5saXN0TGV2ZWwpfTtcbiAgfVxuICAmLnB0LWxpc3QtaXRlbSA+IC5wdC1saXN0LWl0ZW0taW5uZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgJjpiZWZvcmUge1xuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICB9XG4gIH1cbiAgJi5wdC1saXN0LWl0ZW0tYnVsbGV0ID4gLnB0LWxpc3QtaXRlbS1pbm5lcjpiZWZvcmUge1xuICAgICAgY29udGVudDogJyR7KHByb3BzKSA9PiBnZXRDb250ZW50Rm9yTGlzdExldmVsQW5kU3R5bGUocHJvcHMubGlzdExldmVsLCBwcm9wcy5saXN0U3R5bGUpfSc7XG4gICAgICBmb250LXNpemU6IDAuNDM3NXJlbTsgLyogN3B4ICovXG4gICAgICBsaW5lLWhlaWdodDogMS41cmVtOyAvKiBTYW1lIGFzIGJvZHkgdGV4dCAqL1xuICAgICAgLyogT3B0aWNhbCBhbGlnbm1lbnQgKi9cbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG4gIH1cbiAgJi5wdC1saXN0LWl0ZW0tYnVsbGV0ID4gLnB0LWxpc3QtaXRlbS1pbm5lciB7XG4gICAgJjpiZWZvcmUge1xuICAgICAgbWluLXdpZHRoOiAxLjVyZW07IC8qIE1ha2Ugc3VyZSBzcGFjZSBiZXR3ZWVuIGJ1bGxldCBhbmQgdGV4dCBuZXZlciBzaHJpbmtzICovXG4gICAgfVxuICB9XG4gICYucHQtbGlzdC1pdGVtLW51bWJlciB7XG4gICAgY291bnRlci1pbmNyZW1lbnQ6ICR7KHByb3BzKSA9PiBnZXRDb3VudGVySW5jcmVtZW50Rm9yTGlzdExldmVsKHByb3BzLmxpc3RMZXZlbCl9O1xuICAgIGNvdW50ZXItcmVzZXQ6ICR7KHByb3BzKSA9PiBnZXRDb3VudGVyUmVzZXRGb3JMaXN0TGV2ZWwocHJvcHMubGlzdExldmVsKX07XG4gIH1cbiAgJiArIDpub3QoLnB0LWxpc3QtaXRlbS1udW1iZXIpIHtcbiAgICBjb3VudGVyLXJlc2V0OiBsaXN0SXRlbU51bWJlcjtcbiAgfVxuICAmLnB0LWxpc3QtaXRlbS1udW1iZXIgPiAucHQtbGlzdC1pdGVtLWlubmVyOmJlZm9yZSB7XG4gICAgY29udGVudDogJHsocHJvcHMpID0+IGdldENvdW50ZXJDb250ZW50Rm9yTGlzdExldmVsKHByb3BzLmxpc3RMZXZlbCl9O1xuICAgIG1pbi13aWR0aDogMS41cmVtOyAvKiBNYWtlIHN1cmUgc3BhY2UgYmV0d2VlbiBudW1iZXIgYW5kIHRleHQgbmV2ZXIgc2hyaW5rcyAqL1xuICAgIC8qIE9wdGljYWwgYWxpZ25tZW50ICovXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHRvcDogMXB4O1xuICB9XG5gLCBEZWZhdWx0TGlzdEl0ZW1Jbm5lciA9IHN0eWxlZC5kaXZgYDtcbmZ1bmN0aW9uIGdldExlZnRQb3NpdGlvbkZvckxpc3RMZXZlbChsZXZlbCkge1xuICBzd2l0Y2ggKE51bWJlcihsZXZlbCkpIHtcbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4gXCIxLjVlbVwiO1xuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiBcIjNlbVwiO1xuICAgIGNhc2UgMzpcbiAgICAgIHJldHVybiBcIjQuNWVtXCI7XG4gICAgY2FzZSA0OlxuICAgICAgcmV0dXJuIFwiNmVtXCI7XG4gICAgY2FzZSA1OlxuICAgICAgcmV0dXJuIFwiNy41ZW1cIjtcbiAgICBjYXNlIDY6XG4gICAgICByZXR1cm4gXCI5ZW1cIjtcbiAgICBjYXNlIDc6XG4gICAgICByZXR1cm4gXCIxMC41ZW1cIjtcbiAgICBjYXNlIDg6XG4gICAgICByZXR1cm4gXCIxMmVtXCI7XG4gICAgY2FzZSA5OlxuICAgICAgcmV0dXJuIFwiMTMuNWVtXCI7XG4gICAgY2FzZSAxMDpcbiAgICAgIHJldHVybiBcIjE1ZW1cIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwiMGVtXCI7XG4gIH1cbn1cbmNvbnN0IGJ1bGxldHMgPSBbXCJcXHUyNUNGXCIsIFwiXFx1MjVDQlwiLCBcIlxcdTI1QTBcIl07XG5mdW5jdGlvbiBnZXRDb250ZW50Rm9yTGlzdExldmVsQW5kU3R5bGUobGV2ZWwsIHN0eWxlKSB7XG4gIGNvbnN0IG5vcm1hbGl6ZWRMZXZlbCA9IChsZXZlbCAtIDEpICUgMztcbiAgcmV0dXJuIHN0eWxlID09PSBcImJ1bGxldFwiID8gYnVsbGV0c1tub3JtYWxpemVkTGV2ZWxdIDogXCIqXCI7XG59XG5mdW5jdGlvbiBnZXRDb3VudGVySW5jcmVtZW50Rm9yTGlzdExldmVsKGxldmVsKSB7XG4gIHN3aXRjaCAobGV2ZWwpIHtcbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4gXCJsaXN0SXRlbU51bWJlclwiO1xuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiBcImxpc3RJdGVtQWxwaGFcIjtcbiAgICBjYXNlIDM6XG4gICAgICByZXR1cm4gXCJsaXN0SXRlbVJvbWFuXCI7XG4gICAgY2FzZSA0OlxuICAgICAgcmV0dXJuIFwibGlzdEl0ZW1OdW1iZXJOZXh0XCI7XG4gICAgY2FzZSA1OlxuICAgICAgcmV0dXJuIFwibGlzdEl0ZW1MZXR0ZXJOZXh0XCI7XG4gICAgY2FzZSA2OlxuICAgICAgcmV0dXJuIFwibGlzdEl0ZW1Sb21hbk5leHRcIjtcbiAgICBjYXNlIDc6XG4gICAgICByZXR1cm4gXCJsaXN0SXRlbU51bWJlck5leHROZXh0XCI7XG4gICAgY2FzZSA4OlxuICAgICAgcmV0dXJuIFwibGlzdEl0ZW1BbHBoYU5leHROZXh0XCI7XG4gICAgY2FzZSA5OlxuICAgICAgcmV0dXJuIFwibGlzdEl0ZW1Sb21hbk5leHROZXh0XCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcImxpc3RJdGVtTnVtYmVyTmV4dE5leHROZXh0XCI7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldENvdW50ZXJSZXNldEZvckxpc3RMZXZlbChsZXZlbCkge1xuICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIFwibGlzdEl0ZW1BbHBoYVwiO1xuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiBcImxpc3RJdGVtUm9tYW5cIjtcbiAgICBjYXNlIDM6XG4gICAgICByZXR1cm4gXCJsaXN0SXRlbU51bWJlck5leHRcIjtcbiAgICBjYXNlIDQ6XG4gICAgICByZXR1cm4gXCJsaXN0SXRlbUxldHRlck5leHRcIjtcbiAgICBjYXNlIDU6XG4gICAgICByZXR1cm4gXCJsaXN0SXRlbVJvbWFuTmV4dFwiO1xuICAgIGNhc2UgNjpcbiAgICAgIHJldHVybiBcImxpc3RJdGVtTnVtYmVyTmV4dE5leHRcIjtcbiAgICBjYXNlIDc6XG4gICAgICByZXR1cm4gXCJsaXN0SXRlbUFscGhhTmV4dE5leHRcIjtcbiAgICBjYXNlIDg6XG4gICAgICByZXR1cm4gXCJsaXN0SXRlbVJvbWFuTmV4dE5leHRcIjtcbiAgICBjYXNlIDk6XG4gICAgICByZXR1cm4gXCJsaXN0SXRlbU51bWJlck5leHROZXh0TmV4dFwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJsaXN0SXRlbU51bWJlck5leHROZXh0TmV4dFwiO1xuICB9XG59XG5mdW5jdGlvbiBnZXRDb3VudGVyQ29udGVudEZvckxpc3RMZXZlbChsZXZlbCkge1xuICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIFwiY291bnRlcihsaXN0SXRlbU51bWJlcikgJy4gJ1wiO1xuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiBcImNvdW50ZXIobGlzdEl0ZW1BbHBoYSwgbG93ZXItYWxwaGEpICcuICdcIjtcbiAgICBjYXNlIDM6XG4gICAgICByZXR1cm4gXCJjb3VudGVyKGxpc3RJdGVtUm9tYW4sIGxvd2VyLXJvbWFuKSAnLiAnXCI7XG4gICAgY2FzZSA0OlxuICAgICAgcmV0dXJuIFwiY291bnRlcihsaXN0SXRlbU51bWJlck5leHQpICcuICdcIjtcbiAgICBjYXNlIDU6XG4gICAgICByZXR1cm4gXCJjb3VudGVyKGxpc3RJdGVtTGV0dGVyTmV4dCwgbG93ZXItYWxwaGEpICcuICdcIjtcbiAgICBjYXNlIDY6XG4gICAgICByZXR1cm4gXCJjb3VudGVyKGxpc3RJdGVtUm9tYW5OZXh0LCBsb3dlci1yb21hbikgJy4gJ1wiO1xuICAgIGNhc2UgNzpcbiAgICAgIHJldHVybiBcImNvdW50ZXIobGlzdEl0ZW1OdW1iZXJOZXh0TmV4dCkgJy4gJ1wiO1xuICAgIGNhc2UgODpcbiAgICAgIHJldHVybiBcImNvdW50ZXIobGlzdEl0ZW1BbHBoYU5leHROZXh0LCBsb3dlci1hbHBoYSkgJy4gJ1wiO1xuICAgIGNhc2UgOTpcbiAgICAgIHJldHVybiBcImNvdW50ZXIobGlzdEl0ZW1Sb21hbk5leHROZXh0LCBsb3dlci1yb21hbikgJy4gJ1wiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJjb3VudGVyKGxpc3RJdGVtTnVtYmVyTmV4dE5leHROZXh0KSAnLiAnXCI7XG4gIH1cbn1cbmNvbnN0IGRlYnVnJGsgPSBkZWJ1Z1dpdGhOYW1lKFwiY29tcG9uZW50czpEcmFnZ2FibGVCbG9ja1wiKSwgRHJhZ2dhYmxlQmxvY2sgPSAoeyBjaGlsZHJlbiwgZWxlbWVudCwgcmVhZE9ubHksIGJsb2NrUmVmIH0pID0+IHtcbiAgY29uc3QgZWRpdG9yID0gdXNlU2xhdGVTdGF0aWMoKSwgZHJhZ0dob3N0UmVmID0gdXNlUmVmKCksIFtpc0RyYWdPdmVyLCBzZXRJc0RyYWdPdmVyXSA9IHVzZVN0YXRlKCExKSwgaXNWb2lkID0gdXNlTWVtbygoKSA9PiBFZGl0b3IuaXNWb2lkKGVkaXRvciwgZWxlbWVudCksIFtlZGl0b3IsIGVsZW1lbnRdKSwgaXNJbmxpbmUgPSB1c2VNZW1vKCgpID0+IEVkaXRvci5pc0lubGluZShlZGl0b3IsIGVsZW1lbnQpLCBbZWRpdG9yLCBlbGVtZW50XSksIFtibG9ja0VsZW1lbnQsIHNldEJsb2NrRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgdXNlRWZmZWN0KFxuICAgICgpID0+IHNldEJsb2NrRWxlbWVudChibG9ja1JlZiA/IGJsb2NrUmVmLmN1cnJlbnQgOiBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlbGVtZW50KSksXG4gICAgW2VkaXRvciwgZWxlbWVudCwgYmxvY2tSZWZdXG4gICk7XG4gIGNvbnN0IGhhbmRsZURyYWdPdmVyID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBpc015RHJhZ092ZXIgPSBJU19EUkFHR0lOR19CTE9DS19FTEVNRU5ULmdldChlZGl0b3IpO1xuICAgICAgaWYgKCFpc015RHJhZ092ZXIgfHwgIWJsb2NrRWxlbWVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKSwgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBcIm1vdmVcIiwgSVNfRFJBR0dJTkdfRUxFTUVOVF9UQVJHRVQuc2V0KGVkaXRvciwgZWxlbWVudCk7XG4gICAgICBjb25zdCBlbGVtZW50UmVjdCA9IGJsb2NrRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgb2Zmc2V0ID0gZWxlbWVudFJlY3QudG9wLCBoZWlnaHQgPSBlbGVtZW50UmVjdC5oZWlnaHQsIFkgPSBldmVudC5wYWdlWSwgbG9jID0gTWF0aC5hYnMob2Zmc2V0IC0gWSk7XG4gICAgICBsZXQgcG9zaXRpb24gPSBcImJvdHRvbVwiO1xuICAgICAgaWYgKGVsZW1lbnQgPT09IGVkaXRvci5jaGlsZHJlblswXSA/IHBvc2l0aW9uID0gXCJ0b3BcIiA6IGxvYyA8IGhlaWdodCAvIDIgPyAocG9zaXRpb24gPSBcInRvcFwiLCBJU19EUkFHR0lOR19CTE9DS19UQVJHRVRfUE9TSVRJT04uc2V0KGVkaXRvciwgcG9zaXRpb24pKSA6IChwb3NpdGlvbiA9IFwiYm90dG9tXCIsIElTX0RSQUdHSU5HX0JMT0NLX1RBUkdFVF9QT1NJVElPTi5zZXQoZWRpdG9yLCBwb3NpdGlvbikpLCBpc015RHJhZ092ZXIgPT09IGVsZW1lbnQpIHtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0SXNEcmFnT3ZlcighMCk7XG4gICAgfSxcbiAgICBbYmxvY2tFbGVtZW50LCBlZGl0b3IsIGVsZW1lbnRdXG4gICksIGhhbmRsZURyYWdMZWF2ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc0RyYWdPdmVyKCExKTtcbiAgfSwgW10pLCBoYW5kbGVEcmFnRW5kID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXRCbG9jayA9IElTX0RSQUdHSU5HX0VMRU1FTlRfVEFSR0VULmdldChlZGl0b3IpO1xuICAgICAgaWYgKHRhcmdldEJsb2NrKSB7XG4gICAgICAgIElTX0RSQUdHSU5HLnNldChlZGl0b3IsICExKSwgZXZlbnQucHJldmVudERlZmF1bHQoKSwgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCksIElTX0RSQUdHSU5HX0VMRU1FTlRfVEFSR0VULmRlbGV0ZShlZGl0b3IpLCBkcmFnR2hvc3RSZWYuY3VycmVudCAmJiAoZGVidWckayhcIlJlbW92aW5nIGRyYWcgZ2hvc3RcIiksIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZHJhZ0dob3N0UmVmLmN1cnJlbnQpKTtcbiAgICAgICAgY29uc3QgZHJhZ1Bvc2l0aW9uMiA9IElTX0RSQUdHSU5HX0JMT0NLX1RBUkdFVF9QT1NJVElPTi5nZXQoZWRpdG9yKTtcbiAgICAgICAgSVNfRFJBR0dJTkdfQkxPQ0tfVEFSR0VUX1BPU0lUSU9OLmRlbGV0ZShlZGl0b3IpO1xuICAgICAgICBsZXQgdGFyZ2V0UGF0aCA9IFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgdGFyZ2V0QmxvY2spO1xuICAgICAgICBjb25zdCBteVBhdGggPSBSZWFjdEVkaXRvci5maW5kUGF0aChlZGl0b3IsIGVsZW1lbnQpLCBpc0JlZm9yZSA9IFBhdGguaXNCZWZvcmUobXlQYXRoLCB0YXJnZXRQYXRoKTtcbiAgICAgICAgaWYgKGRyYWdQb3NpdGlvbjIgPT09IFwiYm90dG9tXCIgJiYgIWlzQmVmb3JlKSB7XG4gICAgICAgICAgaWYgKHRhcmdldFBhdGhbMF0gPj0gZWRpdG9yLmNoaWxkcmVuLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGRlYnVnJGsoXCJ0YXJnZXQgaXMgYWxyZWFkeSBhdCB0aGUgYm90dG9tLCBub3QgbW92aW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBvcmlnaW5hbFBhdGggPSB0YXJnZXRQYXRoO1xuICAgICAgICAgIHRhcmdldFBhdGggPSBQYXRoLm5leHQodGFyZ2V0UGF0aCksIGRlYnVnJGsoXG4gICAgICAgICAgICBgQWRqdXN0aW5nIHRhcmdldFBhdGggZnJvbSAke0pTT04uc3RyaW5naWZ5KG9yaWdpbmFsUGF0aCl9IHRvICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgIHRhcmdldFBhdGhcbiAgICAgICAgICAgICl9YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRyYWdQb3NpdGlvbjIgPT09IFwidG9wXCIgJiYgaXNCZWZvcmUgJiYgdGFyZ2V0UGF0aFswXSAhPT0gZWRpdG9yLmNoaWxkcmVuLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbFBhdGggPSB0YXJnZXRQYXRoO1xuICAgICAgICAgIHRhcmdldFBhdGggPSBQYXRoLnByZXZpb3VzKHRhcmdldFBhdGgpLCBkZWJ1ZyRrKFxuICAgICAgICAgICAgYEFkanVzdGluZyB0YXJnZXRQYXRoIGZyb20gJHtKU09OLnN0cmluZ2lmeShvcmlnaW5hbFBhdGgpfSB0byAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICB0YXJnZXRQYXRoXG4gICAgICAgICAgICApfWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChQYXRoLmVxdWFscyh0YXJnZXRQYXRoLCBteVBhdGgpKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKSwgZGVidWckayhcInRhcmdldFBhdGggYW5kIG15UGF0aCBpcyB0aGUgc2FtZSwgbm90IG1vdmluZ1wiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVidWckayhcbiAgICAgICAgICBgTW92aW5nIGVsZW1lbnQgJHtlbGVtZW50Ll9rZXl9IGZyb20gcGF0aCAke0pTT04uc3RyaW5naWZ5KG15UGF0aCl9IHRvICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICB0YXJnZXRQYXRoXG4gICAgICAgICAgKX0gKCR7ZHJhZ1Bvc2l0aW9uMn0pYFxuICAgICAgICApLCBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IG15UGF0aCwgdG86IHRhcmdldFBhdGggfSksIGVkaXRvci5vbkNoYW5nZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWJ1ZyRrKFwiTm8gdGFyZ2V0IGVsZW1lbnQsIG5vdCBkb2luZyBhbnl0aGluZ1wiKTtcbiAgICB9LFxuICAgIFtlZGl0b3IsIGVsZW1lbnRdXG4gICksIGhhbmRsZURyb3AgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIElTX0RSQUdHSU5HX0JMT0NLX0VMRU1FTlQuZ2V0KGVkaXRvcikgJiYgKGRlYnVnJGsoXCJPbiBkcm9wIChwcmV2ZW50ZWQpXCIsIGVsZW1lbnQpLCBldmVudC5wcmV2ZW50RGVmYXVsdCgpLCBldmVudC5zdG9wUHJvcGFnYXRpb24oKSwgc2V0SXNEcmFnT3ZlcighMSkpO1xuICAgIH0sXG4gICAgW2VkaXRvciwgZWxlbWVudF1cbiAgKSwgaGFuZGxlRHJhZyA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFpc1ZvaWQpIHtcbiAgICAgICAgSVNfRFJBR0dJTkdfQkxPQ0tfRUxFTUVOVC5kZWxldGUoZWRpdG9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgSVNfRFJBR0dJTkcuc2V0KGVkaXRvciwgITApLCBJU19EUkFHR0lOR19CTE9DS19FTEVNRU5ULnNldChlZGl0b3IsIGVsZW1lbnQpLCBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmICh0YXJnZXQuc3R5bGUub3BhY2l0eSA9IFwiMVwiKTtcbiAgICB9LFxuICAgIFtlZGl0b3IsIGVsZW1lbnQsIGlzVm9pZF1cbiAgKSwgaGFuZGxlRHJhZ1N0YXJ0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWlzVm9pZCB8fCBpc0lubGluZSkge1xuICAgICAgICBkZWJ1ZyRrKFwiTm90IGRyYWdnaW5nIGJsb2NrXCIpLCBJU19EUkFHR0lOR19CTE9DS19FTEVNRU5ULmRlbGV0ZShlZGl0b3IpLCBJU19EUkFHR0lORy5zZXQoZWRpdG9yLCAhMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZWJ1ZyRrKFwiRHJhZyBzdGFydFwiKSwgSVNfRFJBR0dJTkcuc2V0KGVkaXRvciwgITApLCBldmVudC5kYXRhVHJhbnNmZXIgJiYgKGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiYXBwbGljYXRpb24vcG9ydGFibGUtdGV4dFwiLCBcInNvbWV0aGluZ1wiKSwgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSBcIm1vdmVcIiksIGJsb2NrRWxlbWVudCAmJiBibG9ja0VsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICBsZXQgZHJhZ0dob3N0ID0gYmxvY2tFbGVtZW50LmNsb25lTm9kZSghMCk7XG4gICAgICAgIGNvbnN0IGN1c3RvbUdob3N0ID0gZHJhZ0dob3N0LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1wdC1kcmFnLWdob3N0LWVsZW1lbnRdXCIpO1xuICAgICAgICBpZiAoY3VzdG9tR2hvc3QgJiYgKGRyYWdHaG9zdCA9IGN1c3RvbUdob3N0KSwgZHJhZ0dob3N0LnNldEF0dHJpYnV0ZShcImRhdGEtZHJhZ2dlZFwiLCBcIlwiKSwgZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgIGRyYWdHaG9zdFJlZi5jdXJyZW50ID0gZHJhZ0dob3N0LCBkcmFnR2hvc3Quc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCIsIGRyYWdHaG9zdC5zdHlsZS5sZWZ0ID0gXCItOTk5OTlweFwiLCBkcmFnR2hvc3Quc3R5bGUuYm94U2l6aW5nID0gXCJib3JkZXItYm94XCIsIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZHJhZ0dob3N0KTtcbiAgICAgICAgICBjb25zdCByZWN0ID0gYmxvY2tFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCwgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICAgICAgICBkcmFnR2hvc3Quc3R5bGUud2lkdGggPSBgJHtyZWN0LndpZHRofXB4YCwgZHJhZ0dob3N0LnN0eWxlLmhlaWdodCA9IGAke3JlY3QuaGVpZ2h0fXB4YCwgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShkcmFnR2hvc3QsIHgsIHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBoYW5kbGVEcmFnKGV2ZW50KTtcbiAgICB9LFxuICAgIFtibG9ja0VsZW1lbnQsIGVkaXRvciwgaGFuZGxlRHJhZywgaXNJbmxpbmUsIGlzVm9pZF1cbiAgKSwgaXNEcmFnZ2luZ092ZXJGaXJzdEJsb2NrID0gaXNEcmFnT3ZlciAmJiBlZGl0b3IuY2hpbGRyZW5bMF0gPT09IElTX0RSQUdHSU5HX0VMRU1FTlRfVEFSR0VULmdldChlZGl0b3IpLCBpc0RyYWdnaW5nT3Zlckxhc3RCbG9jayA9IGlzRHJhZ092ZXIgJiYgZWRpdG9yLmNoaWxkcmVuW2VkaXRvci5jaGlsZHJlbi5sZW5ndGggLSAxXSA9PT0gSVNfRFJBR0dJTkdfRUxFTUVOVF9UQVJHRVQuZ2V0KGVkaXRvciksIGRyYWdQb3NpdGlvbiA9IElTX0RSQUdHSU5HX0JMT0NLX1RBUkdFVF9QT1NJVElPTi5nZXQoZWRpdG9yKSwgaXNEcmFnZ2luZ092ZXJUb3AgPSBpc0RyYWdnaW5nT3ZlckZpcnN0QmxvY2sgfHwgaXNEcmFnT3ZlciAmJiAhaXNEcmFnZ2luZ092ZXJGaXJzdEJsb2NrICYmICFpc0RyYWdnaW5nT3Zlckxhc3RCbG9jayAmJiBkcmFnUG9zaXRpb24gPT09IFwidG9wXCIsIGlzRHJhZ2dpbmdPdmVyQm90dG9tID0gaXNEcmFnZ2luZ092ZXJMYXN0QmxvY2sgfHwgaXNEcmFnT3ZlciAmJiAhaXNEcmFnZ2luZ092ZXJGaXJzdEJsb2NrICYmICFpc0RyYWdnaW5nT3Zlckxhc3RCbG9jayAmJiBkcmFnUG9zaXRpb24gPT09IFwiYm90dG9tXCIsIGRyb3BJbmRpY2F0b3IgPSB1c2VNZW1vKFxuICAgICgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwicHQtZHJvcC1pbmRpY2F0b3JcIixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCBjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICB6SW5kZXg6IDVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICksXG4gICAgW11cbiAgKTtcbiAgcmV0dXJuIHJlYWRPbmx5ID8gLyogQF9fUFVSRV9fICovIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbiB9KSA6IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgZHJhZ2dhYmxlOiBpc1ZvaWQsXG4gICAgICBvbkRyYWdTdGFydDogaGFuZGxlRHJhZ1N0YXJ0LFxuICAgICAgb25EcmFnOiBoYW5kbGVEcmFnLFxuICAgICAgb25EcmFnT3ZlcjogaGFuZGxlRHJhZ092ZXIsXG4gICAgICBvbkRyYWdMZWF2ZTogaGFuZGxlRHJhZ0xlYXZlLFxuICAgICAgb25EcmFnRW5kOiBoYW5kbGVEcmFnRW5kLFxuICAgICAgb25Ecm9wOiBoYW5kbGVEcm9wLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgaXNEcmFnZ2luZ092ZXJUb3AgJiYgZHJvcEluZGljYXRvcixcbiAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgIGlzRHJhZ2dpbmdPdmVyQm90dG9tICYmIGRyb3BJbmRpY2F0b3JcbiAgICAgIF1cbiAgICB9XG4gICk7XG59O1xuZGVidWdXaXRoTmFtZShcImNvbXBvbmVudHM6RWxlbWVudFwiKTtcbmNvbnN0IEVNUFRZX0FOTk9UQVRJT05TID0gW10sIGlubGluZUJsb2NrU3R5bGUgPSB7IGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIgfSwgRWxlbWVudCA9ICh7XG4gIGF0dHJpYnV0ZXMsXG4gIGNoaWxkcmVuLFxuICBlbGVtZW50LFxuICBzY2hlbWFUeXBlcyxcbiAgcmVhZE9ubHksXG4gIHJlbmRlckJsb2NrLFxuICByZW5kZXJDaGlsZCxcbiAgcmVuZGVyTGlzdEl0ZW0sXG4gIHJlbmRlclN0eWxlLFxuICBzcGVsbENoZWNrXG59KSA9PiB7XG4gIGNvbnN0IGVkaXRvciA9IHVzZVNsYXRlU3RhdGljKCksIHNlbGVjdGVkID0gdXNlU2VsZWN0ZWQoKSwgYmxvY2tSZWYgPSB1c2VSZWYobnVsbCksIGlubGluZUJsb2NrT2JqZWN0UmVmID0gdXNlUmVmKG51bGwpLCBmb2N1c2VkID0gc2VsZWN0ZWQgJiYgZWRpdG9yLnNlbGVjdGlvbiAmJiBSYW5nZS5pc0NvbGxhcHNlZChlZGl0b3Iuc2VsZWN0aW9uKSB8fCAhMSwgdmFsdWUgPSB1c2VNZW1vKFxuICAgICgpID0+IGZyb21TbGF0ZVZhbHVlKFtlbGVtZW50XSwgc2NoZW1hVHlwZXMuYmxvY2submFtZSwgS0VZX1RPX1ZBTFVFX0VMRU1FTlQuZ2V0KGVkaXRvcikpWzBdLFxuICAgIFtlZGl0b3IsIGVsZW1lbnQsIHNjaGVtYVR5cGVzLmJsb2NrLm5hbWVdXG4gICk7XG4gIGxldCByZW5kZXJlZEJsb2NrID0gY2hpbGRyZW4sIGNsYXNzTmFtZTtcbiAgY29uc3QgYmxvY2tQYXRoID0gdXNlTWVtbygoKSA9PiBbeyBfa2V5OiBlbGVtZW50Ll9rZXkgfV0sIFtlbGVtZW50XSk7XG4gIGlmICh0eXBlb2YgZWxlbWVudC5fdHlwZSAhPSBcInN0cmluZ1wiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGVsZW1lbnQgdG8gaGF2ZSBhIF90eXBlIHByb3BlcnR5XCIpO1xuICBpZiAodHlwZW9mIGVsZW1lbnQuX2tleSAhPSBcInN0cmluZ1wiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGVsZW1lbnQgdG8gaGF2ZSBhIF9rZXkgcHJvcGVydHlcIik7XG4gIGlmIChlZGl0b3IuaXNJbmxpbmUoZWxlbWVudCkpIHtcbiAgICBjb25zdCBwYXRoID0gUmVhY3RFZGl0b3IuZmluZFBhdGgoZWRpdG9yLCBlbGVtZW50KSwgW2Jsb2NrMl0gPSBFZGl0b3Iubm9kZShlZGl0b3IsIHBhdGgsIHsgZGVwdGg6IDEgfSksIHNjaGVtYVR5cGUyID0gc2NoZW1hVHlwZXMuaW5saW5lT2JqZWN0cy5maW5kKChfdHlwZSkgPT4gX3R5cGUubmFtZSA9PT0gZWxlbWVudC5fdHlwZSk7XG4gICAgaWYgKCFzY2hlbWFUeXBlMilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIHR5cGUgZm9yIGlubGluZSBibG9jayBlbGVtZW50XCIpO1xuICAgIGlmIChFbGVtZW50JDEuaXNFbGVtZW50KGJsb2NrMikpIHtcbiAgICAgIGNvbnN0IGVsbVBhdGggPSBbeyBfa2V5OiBibG9jazIuX2tleSB9LCBcImNoaWxkcmVuXCIsIHsgX2tleTogZWxlbWVudC5fa2V5IH1dO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwic3BhblwiLCB7IC4uLmF0dHJpYnV0ZXMsIGNoaWxkcmVuOiBbXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkcmFnZ2FibGU6ICFyZWFkT25seSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJwdC1pbmxpbmUtb2JqZWN0XCIsXG4gICAgICAgICAgICBcImRhdGEtdGVzdGlkXCI6IFwicHQtaW5saW5lLW9iamVjdFwiLFxuICAgICAgICAgICAgcmVmOiBpbmxpbmVCbG9ja09iamVjdFJlZixcbiAgICAgICAgICAgIHN0eWxlOiBpbmxpbmVCbG9ja1N0eWxlLFxuICAgICAgICAgICAgY29udGVudEVkaXRhYmxlOiAhMSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIHJlbmRlckNoaWxkICYmIHJlbmRlckNoaWxkKHtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uczogRU1QVFlfQU5OT1RBVElPTlMsXG4gICAgICAgICAgICAgICAgLy8gVGhlc2UgaW5saW5lIG9iamVjdHMgY3VycmVudGx5IGRvZXNuJ3Qgc3VwcG9ydCBhbm5vdGF0aW9ucy4gVGhpcyBpcyBhIGxpbWl0YXRpb24gb2YgdGhlIGN1cnJlbnQgUFQgc3BlYy9tb2RlbC5cbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChEZWZhdWx0T2JqZWN0LCB7IHZhbHVlIH0pLFxuICAgICAgICAgICAgICAgIGVkaXRvckVsZW1lbnRSZWY6IGlubGluZUJsb2NrT2JqZWN0UmVmLFxuICAgICAgICAgICAgICAgIGZvY3VzZWQsXG4gICAgICAgICAgICAgICAgcGF0aDogZWxtUGF0aCxcbiAgICAgICAgICAgICAgICBzY2hlbWFUeXBlOiBzY2hlbWFUeXBlMixcbiAgICAgICAgICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBzY2hlbWFUeXBlMixcbiAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgIXJlbmRlckNoaWxkICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goRGVmYXVsdE9iamVjdCwgeyB2YWx1ZSB9KVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZWxlbWVudC5fa2V5XG4gICAgICAgIClcbiAgICAgIF0gfSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkJsb2NrIG5vdCBmb3VuZCFcIik7XG4gIH1cbiAgaWYgKGVsZW1lbnQuX3R5cGUgPT09IHNjaGVtYVR5cGVzLmJsb2NrLm5hbWUpIHtcbiAgICBjbGFzc05hbWUgPSBcInB0LWJsb2NrIHB0LXRleHQtYmxvY2tcIjtcbiAgICBjb25zdCBpc0xpc3RJdGVtID0gXCJsaXN0SXRlbVwiIGluIGVsZW1lbnQsIHN0eWxlID0gXCJzdHlsZVwiIGluIGVsZW1lbnQgJiYgZWxlbWVudC5zdHlsZSB8fCBcIm5vcm1hbFwiO1xuICAgIGNsYXNzTmFtZSA9IGBwdC1ibG9jayBwdC10ZXh0LWJsb2NrIHB0LXRleHQtYmxvY2stc3R5bGUtJHtzdHlsZX1gO1xuICAgIGNvbnN0IGJsb2NrU3R5bGVUeXBlID0gc2NoZW1hVHlwZXMuc3R5bGVzLmZpbmQoKGl0ZW0pID0+IGl0ZW0udmFsdWUgPT09IHN0eWxlKTtcbiAgICByZW5kZXJTdHlsZSAmJiBibG9ja1N0eWxlVHlwZSAmJiAocmVuZGVyZWRCbG9jayA9IHJlbmRlclN0eWxlKHtcbiAgICAgIGJsb2NrOiBlbGVtZW50LFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBmb2N1c2VkLFxuICAgICAgc2VsZWN0ZWQsXG4gICAgICB2YWx1ZTogc3R5bGUsXG4gICAgICBwYXRoOiBibG9ja1BhdGgsXG4gICAgICBzY2hlbWFUeXBlOiBibG9ja1N0eWxlVHlwZSxcbiAgICAgIGVkaXRvckVsZW1lbnRSZWY6IGJsb2NrUmVmXG4gICAgfSkpO1xuICAgIGxldCBsZXZlbDtcbiAgICBpZiAoaXNMaXN0SXRlbSAmJiAodHlwZW9mIGVsZW1lbnQubGV2ZWwgPT0gXCJudW1iZXJcIiAmJiAobGV2ZWwgPSBlbGVtZW50LmxldmVsKSwgY2xhc3NOYW1lICs9IGAgcHQtbGlzdC1pdGVtIHB0LWxpc3QtaXRlbS0ke2VsZW1lbnQubGlzdEl0ZW19IHB0LWxpc3QtaXRlbS1sZXZlbC0ke2xldmVsIHx8IDF9YCksIGVkaXRvci5pc0xpc3RCbG9jayh2YWx1ZSkgJiYgaXNMaXN0SXRlbSAmJiBlbGVtZW50Lmxpc3RJdGVtKSB7XG4gICAgICBjb25zdCBsaXN0VHlwZSA9IHNjaGVtYVR5cGVzLmxpc3RzLmZpbmQoKGl0ZW0pID0+IGl0ZW0udmFsdWUgPT09IGVsZW1lbnQubGlzdEl0ZW0pO1xuICAgICAgcmVuZGVyTGlzdEl0ZW0gJiYgbGlzdFR5cGUgPyByZW5kZXJlZEJsb2NrID0gcmVuZGVyTGlzdEl0ZW0oe1xuICAgICAgICBibG9jazogdmFsdWUsXG4gICAgICAgIGNoaWxkcmVuOiByZW5kZXJlZEJsb2NrLFxuICAgICAgICBmb2N1c2VkLFxuICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgdmFsdWU6IGVsZW1lbnQubGlzdEl0ZW0sXG4gICAgICAgIHBhdGg6IGJsb2NrUGF0aCxcbiAgICAgICAgc2NoZW1hVHlwZTogbGlzdFR5cGUsXG4gICAgICAgIGxldmVsOiB2YWx1ZS5sZXZlbCB8fCAxLFxuICAgICAgICBlZGl0b3JFbGVtZW50UmVmOiBibG9ja1JlZlxuICAgICAgfSkgOiByZW5kZXJlZEJsb2NrID0gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgRGVmYXVsdExpc3RJdGVtLFxuICAgICAgICB7XG4gICAgICAgICAgbGlzdFN0eWxlOiB2YWx1ZS5saXN0SXRlbSB8fCBzY2hlbWFUeXBlcy5saXN0c1swXS52YWx1ZSxcbiAgICAgICAgICBsaXN0TGV2ZWw6IHZhbHVlLmxldmVsIHx8IDEsXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRGVmYXVsdExpc3RJdGVtSW5uZXIsIHsgY2hpbGRyZW46IHJlbmRlcmVkQmxvY2sgfSlcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcmVuZGVyUHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiByZW5kZXJlZEJsb2NrLFxuICAgICAgICBlZGl0b3JFbGVtZW50UmVmOiBibG9ja1JlZixcbiAgICAgICAgZm9jdXNlZCxcbiAgICAgICAgbGV2ZWwsXG4gICAgICAgIGxpc3RJdGVtOiBpc0xpc3RJdGVtID8gZWxlbWVudC5saXN0SXRlbSA6IHZvaWQgMCxcbiAgICAgICAgcGF0aDogYmxvY2tQYXRoLFxuICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIHNjaGVtYVR5cGU6IHNjaGVtYVR5cGVzLmJsb2NrLFxuICAgICAgICB2YWx1ZVxuICAgICAgfSxcbiAgICAgIFwidHlwZVwiLFxuICAgICAge1xuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oXCJQcm9wZXJ0eSAndHlwZScgaXMgZGVwcmVjYXRlZCwgdXNlICdzY2hlbWFUeXBlJyBpbnN0ZWFkLlwiKSwgc2NoZW1hVHlwZXMuYmxvY2s7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApLCBwcm9wc09yRGVmYXVsdFJlbmRlcmVkID0gcmVuZGVyQmxvY2sgPyByZW5kZXJCbG9jayhyZW5kZXJQcm9wcykgOiBjaGlsZHJlbjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IC4uLmF0dHJpYnV0ZXMsIGNsYXNzTmFtZSwgc3BlbGxDaGVjaywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRHJhZ2dhYmxlQmxvY2ssIHsgZWxlbWVudCwgcmVhZE9ubHksIGJsb2NrUmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHJlZjogYmxvY2tSZWYsIGNoaWxkcmVuOiBwcm9wc09yRGVmYXVsdFJlbmRlcmVkIH0pIH0pIH0sIGVsZW1lbnQuX2tleSk7XG4gIH1cbiAgY29uc3Qgc2NoZW1hVHlwZSA9IHNjaGVtYVR5cGVzLmJsb2NrT2JqZWN0cy5maW5kKChfdHlwZSkgPT4gX3R5cGUubmFtZSA9PT0gZWxlbWVudC5fdHlwZSk7XG4gIGlmICghc2NoZW1hVHlwZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIHNjaGVtYSB0eXBlIGZvciBibG9jayBlbGVtZW50IG9mIF90eXBlICR7ZWxlbWVudC5fdHlwZX1gKTtcbiAgY2xhc3NOYW1lID0gXCJwdC1ibG9jayBwdC1vYmplY3QtYmxvY2tcIjtcbiAgY29uc3QgYmxvY2sgPSBmcm9tU2xhdGVWYWx1ZShcbiAgICBbZWxlbWVudF0sXG4gICAgc2NoZW1hVHlwZXMuYmxvY2submFtZSxcbiAgICBLRVlfVE9fVkFMVUVfRUxFTUVOVC5nZXQoZWRpdG9yKVxuICApWzBdO1xuICBsZXQgcmVuZGVyZWRCbG9ja0Zyb21Qcm9wcztcbiAgaWYgKHJlbmRlckJsb2NrKSB7XG4gICAgY29uc3QgX3Byb3BzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAge1xuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChEZWZhdWx0T2JqZWN0LCB7IHZhbHVlIH0pLFxuICAgICAgICBlZGl0b3JFbGVtZW50UmVmOiBibG9ja1JlZixcbiAgICAgICAgZm9jdXNlZCxcbiAgICAgICAgcGF0aDogYmxvY2tQYXRoLFxuICAgICAgICBzY2hlbWFUeXBlLFxuICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgdmFsdWU6IGJsb2NrXG4gICAgICB9LFxuICAgICAgXCJ0eXBlXCIsXG4gICAgICB7XG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUud2FybihcIlByb3BlcnR5ICd0eXBlJyBpcyBkZXByZWNhdGVkLCB1c2UgJ3NjaGVtYVR5cGUnIGluc3RlYWQuXCIpLCBzY2hlbWFUeXBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICByZW5kZXJlZEJsb2NrRnJvbVByb3BzID0gcmVuZGVyQmxvY2soX3Byb3BzKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyAuLi5hdHRyaWJ1dGVzLCBjbGFzc05hbWUsIGNoaWxkcmVuOiBbXG4gICAgY2hpbGRyZW4sXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMoRHJhZ2dhYmxlQmxvY2ssIHsgZWxlbWVudCwgcmVhZE9ubHksIGJsb2NrUmVmLCBjaGlsZHJlbjogW1xuICAgICAgcmVuZGVyZWRCbG9ja0Zyb21Qcm9wcyAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgcmVmOiBibG9ja1JlZiwgY29udGVudEVkaXRhYmxlOiAhMSwgY2hpbGRyZW46IHJlbmRlcmVkQmxvY2tGcm9tUHJvcHMgfSksXG4gICAgICAhcmVuZGVyZWRCbG9ja0Zyb21Qcm9wcyAmJiAvKiBAX19QVVJFX18gKi8ganN4KERlZmF1bHRCbG9ja09iamVjdCwgeyBzZWxlY3RlZCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRGVmYXVsdE9iamVjdCwgeyB2YWx1ZSB9KSB9KVxuICAgIF0gfSlcbiAgXSB9LCBlbGVtZW50Ll9rZXkpO1xufSwgUG9ydGFibGVUZXh0RWRpdG9yQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCksIHVzZVBvcnRhYmxlVGV4dEVkaXRvciA9ICgpID0+IHtcbiAgY29uc3QgZWRpdG9yID0gdXNlQ29udGV4dChQb3J0YWJsZVRleHRFZGl0b3JDb250ZXh0KTtcbiAgaWYgKCFlZGl0b3IpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGUgYHVzZVBvcnRhYmxlVGV4dEVkaXRvcmAgaG9vayBtdXN0IGJlIHVzZWQgaW5zaWRlIHRoZSA8UG9ydGFibGVUZXh0RWRpdG9yPiBjb21wb25lbnQncyBjb250ZXh0LlwiXG4gICAgKTtcbiAgcmV0dXJuIGVkaXRvcjtcbn07XG5mdW5jdGlvbiBEZWZhdWx0QW5ub3RhdGlvbihwcm9wcykge1xuICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKCgpID0+IGFsZXJ0KEpTT04uc3RyaW5naWZ5KHByb3BzLmFubm90YXRpb24pKSwgW3Byb3BzLmFubm90YXRpb25dKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgc3R5bGU6IHsgY29sb3I6IFwiYmx1ZVwiIH0sIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLCBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW4gfSk7XG59XG5mdW5jdGlvbiBnZXRQb3J0YWJsZVRleHRNZW1iZXJTY2hlbWFUeXBlcyhwb3J0YWJsZVRleHRUeXBlKSB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBpZiAoIXBvcnRhYmxlVGV4dFR5cGUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUGFyYW1ldGVyICdwb3J0YWJsZXRleHRUeXBlJyBtaXNzaW5nIChyZXF1aXJlZClcIik7XG4gIGNvbnN0IGJsb2NrVHlwZSA9IChfYSA9IHBvcnRhYmxlVGV4dFR5cGUub2YpID09IG51bGwgPyB2b2lkIDAgOiBfYS5maW5kKGZpbmRCbG9ja1R5cGUpO1xuICBpZiAoIWJsb2NrVHlwZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCbG9jayB0eXBlIGlzIG5vdCBkZWZpbmVkIGluIHRoaXMgc2NoZW1hIChyZXF1aXJlZClcIik7XG4gIGNvbnN0IGNoaWxkcmVuRmllbGQgPSAoX2IgPSBibG9ja1R5cGUuZmllbGRzKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZmluZCgoZmllbGQpID0+IGZpZWxkLm5hbWUgPT09IFwiY2hpbGRyZW5cIik7XG4gIGlmICghY2hpbGRyZW5GaWVsZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaGlsZHJlbiBmaWVsZCBmb3IgYmxvY2sgdHlwZSBmb3VuZCBpbiBzY2hlbWEgKHJlcXVpcmVkKVwiKTtcbiAgY29uc3Qgb2ZUeXBlID0gY2hpbGRyZW5GaWVsZC50eXBlLm9mO1xuICBpZiAoIW9mVHlwZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYWxpZCB0eXBlcyBmb3IgYmxvY2sgY2hpbGRyZW4gbm90IGZvdW5kIGluIHNjaGVtYSAocmVxdWlyZWQpXCIpO1xuICBjb25zdCBzcGFuVHlwZSA9IG9mVHlwZS5maW5kKChtZW1iZXJUeXBlKSA9PiBtZW1iZXJUeXBlLm5hbWUgPT09IFwic3BhblwiKTtcbiAgaWYgKCFzcGFuVHlwZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTcGFuIHR5cGUgbm90IGZvdW5kIGluIHNjaGVtYSAocmVxdWlyZWQpXCIpO1xuICBjb25zdCBpbmxpbmVPYmplY3RUeXBlcyA9IG9mVHlwZS5maWx0ZXIoKG1lbWJlclR5cGUpID0+IG1lbWJlclR5cGUubmFtZSAhPT0gXCJzcGFuXCIpIHx8IFtdLCBibG9ja09iamVjdFR5cGVzID0gKChfYyA9IHBvcnRhYmxlVGV4dFR5cGUub2YpID09IG51bGwgPyB2b2lkIDAgOiBfYy5maWx0ZXIoKGZpZWxkKSA9PiBmaWVsZC5uYW1lICE9PSBibG9ja1R5cGUubmFtZSkpIHx8IFtdO1xuICByZXR1cm4ge1xuICAgIHN0eWxlczogcmVzb2x2ZUVuYWJsZWRTdHlsZXMoYmxvY2tUeXBlKSxcbiAgICBkZWNvcmF0b3JzOiByZXNvbHZlRW5hYmxlZERlY29yYXRvcnMoc3BhblR5cGUpLFxuICAgIGxpc3RzOiByZXNvbHZlRW5hYmxlZExpc3RJdGVtcyhibG9ja1R5cGUpLFxuICAgIGJsb2NrOiBibG9ja1R5cGUsXG4gICAgc3Bhbjogc3BhblR5cGUsXG4gICAgcG9ydGFibGVUZXh0OiBwb3J0YWJsZVRleHRUeXBlLFxuICAgIGlubGluZU9iamVjdHM6IGlubGluZU9iamVjdFR5cGVzLFxuICAgIGJsb2NrT2JqZWN0czogYmxvY2tPYmplY3RUeXBlcyxcbiAgICBhbm5vdGF0aW9uczogc3BhblR5cGUuYW5ub3RhdGlvbnNcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVFbmFibGVkU3R5bGVzKGJsb2NrVHlwZSkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3Qgc3R5bGVGaWVsZCA9IChfYSA9IGJsb2NrVHlwZS5maWVsZHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5maW5kKChidEZpZWxkKSA9PiBidEZpZWxkLm5hbWUgPT09IFwic3R5bGVcIik7XG4gIGlmICghc3R5bGVGaWVsZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGZpZWxkIHdpdGggbmFtZSAnc3R5bGUnIGlzIG5vdCBkZWZpbmVkIGluIHRoZSBibG9jayB0eXBlIChyZXF1aXJlZCkuXCIpO1xuICBjb25zdCB0ZXh0U3R5bGVzID0gKChfYiA9IHN0eWxlRmllbGQudHlwZS5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2IubGlzdCkgJiYgKChfYyA9IHN0eWxlRmllbGQudHlwZS5vcHRpb25zLmxpc3QpID09IG51bGwgPyB2b2lkIDAgOiBfYy5maWx0ZXIoKHN0eWxlKSA9PiBzdHlsZS52YWx1ZSkpO1xuICBpZiAoIXRleHRTdHlsZXMgfHwgdGV4dFN0eWxlcy5sZW5ndGggPT09IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGUgc3R5bGUgZmllbGRzIG5lZWQgYXQgbGVhc3Qgb25lIHN0eWxlIGRlZmluZWQuIEkuZToge3RpdGxlOiAnTm9ybWFsJywgdmFsdWU6ICdub3JtYWwnfS5cIlxuICAgICk7XG4gIHJldHVybiB0ZXh0U3R5bGVzO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUVuYWJsZWREZWNvcmF0b3JzKHNwYW5UeXBlKSB7XG4gIHJldHVybiBzcGFuVHlwZS5kZWNvcmF0b3JzO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUVuYWJsZWRMaXN0SXRlbXMoYmxvY2tUeXBlKSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IGxpc3RGaWVsZCA9IChfYSA9IGJsb2NrVHlwZS5maWVsZHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5maW5kKChidEZpZWxkKSA9PiBidEZpZWxkLm5hbWUgPT09IFwibGlzdEl0ZW1cIik7XG4gIGlmICghbGlzdEZpZWxkKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkEgZmllbGQgd2l0aCBuYW1lICdsaXN0SXRlbScgaXMgbm90IGRlZmluZWQgaW4gdGhlIGJsb2NrIHR5cGUgKHJlcXVpcmVkKS5cIik7XG4gIGNvbnN0IGxpc3RJdGVtcyA9ICgoX2IgPSBsaXN0RmllbGQudHlwZS5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2IubGlzdCkgJiYgbGlzdEZpZWxkLnR5cGUub3B0aW9ucy5saXN0LmZpbHRlcigobGlzdCkgPT4gbGlzdC52YWx1ZSk7XG4gIGlmICghbGlzdEl0ZW1zKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBsaXN0IGZpZWxkIG5lZWQgYXQgbGVhc3QgdG8gYmUgYW4gZW1wdHkgYXJyYXlcIik7XG4gIHJldHVybiBsaXN0SXRlbXM7XG59XG5mdW5jdGlvbiBmaW5kQmxvY2tUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGUudHlwZSA/IGZpbmRCbG9ja1R5cGUodHlwZS50eXBlKSA6IHR5cGUubmFtZSA9PT0gXCJibG9ja1wiID8gdHlwZSA6IG51bGw7XG59XG5mdW5jdGlvbiBjb21waWxlVHlwZShyYXdUeXBlKSB7XG4gIHJldHVybiBTY2hlbWEuY29tcGlsZSh7XG4gICAgbmFtZTogXCJibG9ja1R5cGVTY2hlbWFcIixcbiAgICB0eXBlczogW3Jhd1R5cGVdXG4gIH0pLmdldChyYXdUeXBlLm5hbWUpO1xufVxuZnVuY3Rpb24gaXNIaWdoU3Vycm9nYXRlKGNoYXIpIHtcbiAgY29uc3QgY2hhckNvZGUgPSBjaGFyLmNoYXJDb2RlQXQoMCk7XG4gIHJldHVybiBjaGFyQ29kZSA+PSA1NTI5NiAmJiBjaGFyQ29kZSA8PSA1NjMxOTtcbn1cbmZ1bmN0aW9uIGlzTG93U3Vycm9nYXRlKGNoYXIpIHtcbiAgY29uc3QgY2hhckNvZGUgPSBjaGFyLmNoYXJDb2RlQXQoMCk7XG4gIHJldHVybiBjaGFyQ29kZSA+PSA1NjMyMCAmJiBjaGFyQ29kZSA8PSA1NzM0Mztcbn1cbmZ1bmN0aW9uIGNsb25lRGlmZihkaWZmMikge1xuICBjb25zdCBbdHlwZSwgcGF0Y2hdID0gZGlmZjI7XG4gIHJldHVybiBbdHlwZSwgcGF0Y2hdO1xufVxuZnVuY3Rpb24gZ2V0Q29tbW9uT3ZlcmxhcCh0ZXh0QSwgdGV4dEIpIHtcbiAgbGV0IHRleHQxID0gdGV4dEEsIHRleHQyID0gdGV4dEI7XG4gIGNvbnN0IHRleHQxTGVuZ3RoID0gdGV4dDEubGVuZ3RoLCB0ZXh0Mkxlbmd0aCA9IHRleHQyLmxlbmd0aDtcbiAgaWYgKHRleHQxTGVuZ3RoID09PSAwIHx8IHRleHQyTGVuZ3RoID09PSAwKVxuICAgIHJldHVybiAwO1xuICB0ZXh0MUxlbmd0aCA+IHRleHQyTGVuZ3RoID8gdGV4dDEgPSB0ZXh0MS5zdWJzdHJpbmcodGV4dDFMZW5ndGggLSB0ZXh0Mkxlbmd0aCkgOiB0ZXh0MUxlbmd0aCA8IHRleHQyTGVuZ3RoICYmICh0ZXh0MiA9IHRleHQyLnN1YnN0cmluZygwLCB0ZXh0MUxlbmd0aCkpO1xuICBjb25zdCB0ZXh0TGVuZ3RoID0gTWF0aC5taW4odGV4dDFMZW5ndGgsIHRleHQyTGVuZ3RoKTtcbiAgaWYgKHRleHQxID09PSB0ZXh0MilcbiAgICByZXR1cm4gdGV4dExlbmd0aDtcbiAgbGV0IGJlc3QgPSAwLCBsZW5ndGggPSAxO1xuICBmb3IgKGxldCBmb3VuZCA9IDA7IGZvdW5kICE9PSAtMTsgKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IHRleHQxLnN1YnN0cmluZyh0ZXh0TGVuZ3RoIC0gbGVuZ3RoKTtcbiAgICBpZiAoZm91bmQgPSB0ZXh0Mi5pbmRleE9mKHBhdHRlcm4pLCBmb3VuZCA9PT0gLTEpXG4gICAgICByZXR1cm4gYmVzdDtcbiAgICBsZW5ndGggKz0gZm91bmQsIChmb3VuZCA9PT0gMCB8fCB0ZXh0MS5zdWJzdHJpbmcodGV4dExlbmd0aCAtIGxlbmd0aCkgPT09IHRleHQyLnN1YnN0cmluZygwLCBsZW5ndGgpKSAmJiAoYmVzdCA9IGxlbmd0aCwgbGVuZ3RoKyspO1xuICB9XG4gIHJldHVybiBiZXN0O1xufVxuZnVuY3Rpb24gZ2V0Q29tbW9uUHJlZml4KHRleHQxLCB0ZXh0Mikge1xuICBpZiAoIXRleHQxIHx8ICF0ZXh0MiB8fCB0ZXh0MVswXSAhPT0gdGV4dDJbMF0pXG4gICAgcmV0dXJuIDA7XG4gIGxldCBwb2ludGVyTWluID0gMCwgcG9pbnRlck1heCA9IE1hdGgubWluKHRleHQxLmxlbmd0aCwgdGV4dDIubGVuZ3RoKSwgcG9pbnRlck1pZCA9IHBvaW50ZXJNYXgsIHBvaW50ZXJTdGFydCA9IDA7XG4gIGZvciAoOyBwb2ludGVyTWluIDwgcG9pbnRlck1pZDsgKVxuICAgIHRleHQxLnN1YnN0cmluZyhwb2ludGVyU3RhcnQsIHBvaW50ZXJNaWQpID09PSB0ZXh0Mi5zdWJzdHJpbmcocG9pbnRlclN0YXJ0LCBwb2ludGVyTWlkKSA/IChwb2ludGVyTWluID0gcG9pbnRlck1pZCwgcG9pbnRlclN0YXJ0ID0gcG9pbnRlck1pbikgOiBwb2ludGVyTWF4ID0gcG9pbnRlck1pZCwgcG9pbnRlck1pZCA9IE1hdGguZmxvb3IoKHBvaW50ZXJNYXggLSBwb2ludGVyTWluKSAvIDIgKyBwb2ludGVyTWluKTtcbiAgcmV0dXJuIHBvaW50ZXJNaWQ7XG59XG5mdW5jdGlvbiBnZXRDb21tb25TdWZmaXgodGV4dDEsIHRleHQyKSB7XG4gIGlmICghdGV4dDEgfHwgIXRleHQyIHx8IHRleHQxW3RleHQxLmxlbmd0aCAtIDFdICE9PSB0ZXh0Mlt0ZXh0Mi5sZW5ndGggLSAxXSlcbiAgICByZXR1cm4gMDtcbiAgbGV0IHBvaW50ZXJNaW4gPSAwLCBwb2ludGVyTWF4ID0gTWF0aC5taW4odGV4dDEubGVuZ3RoLCB0ZXh0Mi5sZW5ndGgpLCBwb2ludGVyTWlkID0gcG9pbnRlck1heCwgcG9pbnRlckVuZCA9IDA7XG4gIGZvciAoOyBwb2ludGVyTWluIDwgcG9pbnRlck1pZDsgKVxuICAgIHRleHQxLnN1YnN0cmluZyh0ZXh0MS5sZW5ndGggLSBwb2ludGVyTWlkLCB0ZXh0MS5sZW5ndGggLSBwb2ludGVyRW5kKSA9PT0gdGV4dDIuc3Vic3RyaW5nKHRleHQyLmxlbmd0aCAtIHBvaW50ZXJNaWQsIHRleHQyLmxlbmd0aCAtIHBvaW50ZXJFbmQpID8gKHBvaW50ZXJNaW4gPSBwb2ludGVyTWlkLCBwb2ludGVyRW5kID0gcG9pbnRlck1pbikgOiBwb2ludGVyTWF4ID0gcG9pbnRlck1pZCwgcG9pbnRlck1pZCA9IE1hdGguZmxvb3IoKHBvaW50ZXJNYXggLSBwb2ludGVyTWluKSAvIDIgKyBwb2ludGVyTWluKTtcbiAgcmV0dXJuIHBvaW50ZXJNaWQ7XG59XG5mdW5jdGlvbiBjbGVhbnVwU2VtYW50aWMocmF3RGlmZnMpIHtcbiAgbGV0IGRpZmZzID0gcmF3RGlmZnMubWFwKChkaWZmMikgPT4gY2xvbmVEaWZmKGRpZmYyKSksIGhhc0NoYW5nZXMgPSAhMTtcbiAgY29uc3QgZXF1YWxpdGllcyA9IFtdO1xuICBsZXQgZXF1YWxpdGllc0xlbmd0aCA9IDAsIGxhc3RFcXVhbGl0eSA9IG51bGwsIHBvaW50ZXIgPSAwLCBsZW5ndGhJbnNlcnRpb25zMSA9IDAsIGxlbmd0aERlbGV0aW9uczEgPSAwLCBsZW5ndGhJbnNlcnRpb25zMiA9IDAsIGxlbmd0aERlbGV0aW9uczIgPSAwO1xuICBmb3IgKDsgcG9pbnRlciA8IGRpZmZzLmxlbmd0aDsgKVxuICAgIGRpZmZzW3BvaW50ZXJdWzBdID09PSBESUZGX0VRVUFMID8gKGVxdWFsaXRpZXNbZXF1YWxpdGllc0xlbmd0aCsrXSA9IHBvaW50ZXIsIGxlbmd0aEluc2VydGlvbnMxID0gbGVuZ3RoSW5zZXJ0aW9uczIsIGxlbmd0aERlbGV0aW9uczEgPSBsZW5ndGhEZWxldGlvbnMyLCBsZW5ndGhJbnNlcnRpb25zMiA9IDAsIGxlbmd0aERlbGV0aW9uczIgPSAwLCBsYXN0RXF1YWxpdHkgPSBkaWZmc1twb2ludGVyXVsxXSkgOiAoZGlmZnNbcG9pbnRlcl1bMF0gPT09IERJRkZfSU5TRVJUID8gbGVuZ3RoSW5zZXJ0aW9uczIgKz0gZGlmZnNbcG9pbnRlcl1bMV0ubGVuZ3RoIDogbGVuZ3RoRGVsZXRpb25zMiArPSBkaWZmc1twb2ludGVyXVsxXS5sZW5ndGgsIGxhc3RFcXVhbGl0eSAmJiBsYXN0RXF1YWxpdHkubGVuZ3RoIDw9IE1hdGgubWF4KGxlbmd0aEluc2VydGlvbnMxLCBsZW5ndGhEZWxldGlvbnMxKSAmJiBsYXN0RXF1YWxpdHkubGVuZ3RoIDw9IE1hdGgubWF4KGxlbmd0aEluc2VydGlvbnMyLCBsZW5ndGhEZWxldGlvbnMyKSAmJiAoZGlmZnMuc3BsaWNlKGVxdWFsaXRpZXNbZXF1YWxpdGllc0xlbmd0aCAtIDFdLCAwLCBbRElGRl9ERUxFVEUsIGxhc3RFcXVhbGl0eV0pLCBkaWZmc1tlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXSArIDFdWzBdID0gRElGRl9JTlNFUlQsIGVxdWFsaXRpZXNMZW5ndGgtLSwgZXF1YWxpdGllc0xlbmd0aC0tLCBwb2ludGVyID0gZXF1YWxpdGllc0xlbmd0aCA+IDAgPyBlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXSA6IC0xLCBsZW5ndGhJbnNlcnRpb25zMSA9IDAsIGxlbmd0aERlbGV0aW9uczEgPSAwLCBsZW5ndGhJbnNlcnRpb25zMiA9IDAsIGxlbmd0aERlbGV0aW9uczIgPSAwLCBsYXN0RXF1YWxpdHkgPSBudWxsLCBoYXNDaGFuZ2VzID0gITApKSwgcG9pbnRlcisrO1xuICBmb3IgKGhhc0NoYW5nZXMgJiYgKGRpZmZzID0gY2xlYW51cE1lcmdlKGRpZmZzKSksIGRpZmZzID0gY2xlYW51cFNlbWFudGljTG9zc2xlc3MoZGlmZnMpLCBwb2ludGVyID0gMTsgcG9pbnRlciA8IGRpZmZzLmxlbmd0aDsgKSB7XG4gICAgaWYgKGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9PT0gRElGRl9ERUxFVEUgJiYgZGlmZnNbcG9pbnRlcl1bMF0gPT09IERJRkZfSU5TRVJUKSB7XG4gICAgICBjb25zdCBkZWxldGlvbiA9IGRpZmZzW3BvaW50ZXIgLSAxXVsxXSwgaW5zZXJ0aW9uID0gZGlmZnNbcG9pbnRlcl1bMV0sIG92ZXJsYXBMZW5ndGgxID0gZ2V0Q29tbW9uT3ZlcmxhcChkZWxldGlvbiwgaW5zZXJ0aW9uKSwgb3ZlcmxhcExlbmd0aDIgPSBnZXRDb21tb25PdmVybGFwKGluc2VydGlvbiwgZGVsZXRpb24pO1xuICAgICAgb3ZlcmxhcExlbmd0aDEgPj0gb3ZlcmxhcExlbmd0aDIgPyAob3ZlcmxhcExlbmd0aDEgPj0gZGVsZXRpb24ubGVuZ3RoIC8gMiB8fCBvdmVybGFwTGVuZ3RoMSA+PSBpbnNlcnRpb24ubGVuZ3RoIC8gMikgJiYgKGRpZmZzLnNwbGljZShwb2ludGVyLCAwLCBbRElGRl9FUVVBTCwgaW5zZXJ0aW9uLnN1YnN0cmluZygwLCBvdmVybGFwTGVuZ3RoMSldKSwgZGlmZnNbcG9pbnRlciAtIDFdWzFdID0gZGVsZXRpb24uc3Vic3RyaW5nKDAsIGRlbGV0aW9uLmxlbmd0aCAtIG92ZXJsYXBMZW5ndGgxKSwgZGlmZnNbcG9pbnRlciArIDFdWzFdID0gaW5zZXJ0aW9uLnN1YnN0cmluZyhvdmVybGFwTGVuZ3RoMSksIHBvaW50ZXIrKykgOiAob3ZlcmxhcExlbmd0aDIgPj0gZGVsZXRpb24ubGVuZ3RoIC8gMiB8fCBvdmVybGFwTGVuZ3RoMiA+PSBpbnNlcnRpb24ubGVuZ3RoIC8gMikgJiYgKGRpZmZzLnNwbGljZShwb2ludGVyLCAwLCBbRElGRl9FUVVBTCwgZGVsZXRpb24uc3Vic3RyaW5nKDAsIG92ZXJsYXBMZW5ndGgyKV0pLCBkaWZmc1twb2ludGVyIC0gMV1bMF0gPSBESUZGX0lOU0VSVCwgZGlmZnNbcG9pbnRlciAtIDFdWzFdID0gaW5zZXJ0aW9uLnN1YnN0cmluZygwLCBpbnNlcnRpb24ubGVuZ3RoIC0gb3ZlcmxhcExlbmd0aDIpLCBkaWZmc1twb2ludGVyICsgMV1bMF0gPSBESUZGX0RFTEVURSwgZGlmZnNbcG9pbnRlciArIDFdWzFdID0gZGVsZXRpb24uc3Vic3RyaW5nKG92ZXJsYXBMZW5ndGgyKSwgcG9pbnRlcisrKSwgcG9pbnRlcisrO1xuICAgIH1cbiAgICBwb2ludGVyKys7XG4gIH1cbiAgcmV0dXJuIGRpZmZzO1xufVxuY29uc3Qgbm9uQWxwaGFOdW1lcmljUmVnZXggPSAvW15hLXpBLVowLTldLywgd2hpdGVzcGFjZVJlZ2V4ID0gL1xccy8sIGxpbmVicmVha1JlZ2V4ID0gL1tcXHJcXG5dLywgYmxhbmtsaW5lRW5kUmVnZXggPSAvXFxuXFxyP1xcbiQvLCBibGFua2xpbmVTdGFydFJlZ2V4ID0gL15cXHI/XFxuXFxyP1xcbi87XG5mdW5jdGlvbiBjbGVhbnVwU2VtYW50aWNMb3NzbGVzcyhyYXdEaWZmcykge1xuICBjb25zdCBkaWZmcyA9IHJhd0RpZmZzLm1hcCgoZGlmZjIpID0+IGNsb25lRGlmZihkaWZmMikpO1xuICBmdW5jdGlvbiBkaWZmQ2xlYW51cFNlbWFudGljU2NvcmUob25lLCB0d28pIHtcbiAgICBpZiAoIW9uZSB8fCAhdHdvKVxuICAgICAgcmV0dXJuIDY7XG4gICAgY29uc3QgY2hhcjEgPSBvbmUuY2hhckF0KG9uZS5sZW5ndGggLSAxKSwgY2hhcjIgPSB0d28uY2hhckF0KDApLCBub25BbHBoYU51bWVyaWMxID0gY2hhcjEubWF0Y2gobm9uQWxwaGFOdW1lcmljUmVnZXgpLCBub25BbHBoYU51bWVyaWMyID0gY2hhcjIubWF0Y2gobm9uQWxwaGFOdW1lcmljUmVnZXgpLCB3aGl0ZXNwYWNlMSA9IG5vbkFscGhhTnVtZXJpYzEgJiYgY2hhcjEubWF0Y2god2hpdGVzcGFjZVJlZ2V4KSwgd2hpdGVzcGFjZTIgPSBub25BbHBoYU51bWVyaWMyICYmIGNoYXIyLm1hdGNoKHdoaXRlc3BhY2VSZWdleCksIGxpbmVCcmVhazEgPSB3aGl0ZXNwYWNlMSAmJiBjaGFyMS5tYXRjaChsaW5lYnJlYWtSZWdleCksIGxpbmVCcmVhazIgPSB3aGl0ZXNwYWNlMiAmJiBjaGFyMi5tYXRjaChsaW5lYnJlYWtSZWdleCksIGJsYW5rTGluZTEgPSBsaW5lQnJlYWsxICYmIG9uZS5tYXRjaChibGFua2xpbmVFbmRSZWdleCksIGJsYW5rTGluZTIgPSBsaW5lQnJlYWsyICYmIHR3by5tYXRjaChibGFua2xpbmVTdGFydFJlZ2V4KTtcbiAgICByZXR1cm4gYmxhbmtMaW5lMSB8fCBibGFua0xpbmUyID8gNSA6IGxpbmVCcmVhazEgfHwgbGluZUJyZWFrMiA/IDQgOiBub25BbHBoYU51bWVyaWMxICYmICF3aGl0ZXNwYWNlMSAmJiB3aGl0ZXNwYWNlMiA/IDMgOiB3aGl0ZXNwYWNlMSB8fCB3aGl0ZXNwYWNlMiA/IDIgOiBub25BbHBoYU51bWVyaWMxIHx8IG5vbkFscGhhTnVtZXJpYzIgPyAxIDogMDtcbiAgfVxuICBsZXQgcG9pbnRlciA9IDE7XG4gIGZvciAoOyBwb2ludGVyIDwgZGlmZnMubGVuZ3RoIC0gMTsgKSB7XG4gICAgaWYgKGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9PT0gRElGRl9FUVVBTCAmJiBkaWZmc1twb2ludGVyICsgMV1bMF0gPT09IERJRkZfRVFVQUwpIHtcbiAgICAgIGxldCBlcXVhbGl0eTEgPSBkaWZmc1twb2ludGVyIC0gMV1bMV0sIGVkaXQgPSBkaWZmc1twb2ludGVyXVsxXSwgZXF1YWxpdHkyID0gZGlmZnNbcG9pbnRlciArIDFdWzFdO1xuICAgICAgY29uc3QgY29tbW9uT2Zmc2V0ID0gZ2V0Q29tbW9uU3VmZml4KGVxdWFsaXR5MSwgZWRpdCk7XG4gICAgICBpZiAoY29tbW9uT2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IGNvbW1vblN0cmluZyA9IGVkaXQuc3Vic3RyaW5nKGVkaXQubGVuZ3RoIC0gY29tbW9uT2Zmc2V0KTtcbiAgICAgICAgZXF1YWxpdHkxID0gZXF1YWxpdHkxLnN1YnN0cmluZygwLCBlcXVhbGl0eTEubGVuZ3RoIC0gY29tbW9uT2Zmc2V0KSwgZWRpdCA9IGNvbW1vblN0cmluZyArIGVkaXQuc3Vic3RyaW5nKDAsIGVkaXQubGVuZ3RoIC0gY29tbW9uT2Zmc2V0KSwgZXF1YWxpdHkyID0gY29tbW9uU3RyaW5nICsgZXF1YWxpdHkyO1xuICAgICAgfVxuICAgICAgbGV0IGJlc3RFcXVhbGl0eTEgPSBlcXVhbGl0eTEsIGJlc3RFZGl0ID0gZWRpdCwgYmVzdEVxdWFsaXR5MiA9IGVxdWFsaXR5MiwgYmVzdFNjb3JlID0gZGlmZkNsZWFudXBTZW1hbnRpY1Njb3JlKGVxdWFsaXR5MSwgZWRpdCkgKyBkaWZmQ2xlYW51cFNlbWFudGljU2NvcmUoZWRpdCwgZXF1YWxpdHkyKTtcbiAgICAgIGZvciAoOyBlZGl0LmNoYXJBdCgwKSA9PT0gZXF1YWxpdHkyLmNoYXJBdCgwKTsgKSB7XG4gICAgICAgIGVxdWFsaXR5MSArPSBlZGl0LmNoYXJBdCgwKSwgZWRpdCA9IGVkaXQuc3Vic3RyaW5nKDEpICsgZXF1YWxpdHkyLmNoYXJBdCgwKSwgZXF1YWxpdHkyID0gZXF1YWxpdHkyLnN1YnN0cmluZygxKTtcbiAgICAgICAgY29uc3Qgc2NvcmUgPSBkaWZmQ2xlYW51cFNlbWFudGljU2NvcmUoZXF1YWxpdHkxLCBlZGl0KSArIGRpZmZDbGVhbnVwU2VtYW50aWNTY29yZShlZGl0LCBlcXVhbGl0eTIpO1xuICAgICAgICBzY29yZSA+PSBiZXN0U2NvcmUgJiYgKGJlc3RTY29yZSA9IHNjb3JlLCBiZXN0RXF1YWxpdHkxID0gZXF1YWxpdHkxLCBiZXN0RWRpdCA9IGVkaXQsIGJlc3RFcXVhbGl0eTIgPSBlcXVhbGl0eTIpO1xuICAgICAgfVxuICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdICE9PSBiZXN0RXF1YWxpdHkxICYmIChiZXN0RXF1YWxpdHkxID8gZGlmZnNbcG9pbnRlciAtIDFdWzFdID0gYmVzdEVxdWFsaXR5MSA6IChkaWZmcy5zcGxpY2UocG9pbnRlciAtIDEsIDEpLCBwb2ludGVyLS0pLCBkaWZmc1twb2ludGVyXVsxXSA9IGJlc3RFZGl0LCBiZXN0RXF1YWxpdHkyID8gZGlmZnNbcG9pbnRlciArIDFdWzFdID0gYmVzdEVxdWFsaXR5MiA6IChkaWZmcy5zcGxpY2UocG9pbnRlciArIDEsIDEpLCBwb2ludGVyLS0pKTtcbiAgICB9XG4gICAgcG9pbnRlcisrO1xuICB9XG4gIHJldHVybiBkaWZmcztcbn1cbmZ1bmN0aW9uIGNsZWFudXBNZXJnZShyYXdEaWZmcykge1xuICBsZXQgZGlmZnMgPSByYXdEaWZmcy5tYXAoKGRpZmYyKSA9PiBjbG9uZURpZmYoZGlmZjIpKTtcbiAgZGlmZnMucHVzaChbRElGRl9FUVVBTCwgXCJcIl0pO1xuICBsZXQgcG9pbnRlciA9IDAsIGNvdW50RGVsZXRlID0gMCwgY291bnRJbnNlcnQgPSAwLCB0ZXh0RGVsZXRlID0gXCJcIiwgdGV4dEluc2VydCA9IFwiXCIsIGNvbW1vbmxlbmd0aDtcbiAgZm9yICg7IHBvaW50ZXIgPCBkaWZmcy5sZW5ndGg7IClcbiAgICBzd2l0Y2ggKGRpZmZzW3BvaW50ZXJdWzBdKSB7XG4gICAgICBjYXNlIERJRkZfSU5TRVJUOlxuICAgICAgICBjb3VudEluc2VydCsrLCB0ZXh0SW5zZXJ0ICs9IGRpZmZzW3BvaW50ZXJdWzFdLCBwb2ludGVyKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0RFTEVURTpcbiAgICAgICAgY291bnREZWxldGUrKywgdGV4dERlbGV0ZSArPSBkaWZmc1twb2ludGVyXVsxXSwgcG9pbnRlcisrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9FUVVBTDpcbiAgICAgICAgY291bnREZWxldGUgKyBjb3VudEluc2VydCA+IDEgPyAoY291bnREZWxldGUgIT09IDAgJiYgY291bnRJbnNlcnQgIT09IDAgJiYgKGNvbW1vbmxlbmd0aCA9IGdldENvbW1vblByZWZpeCh0ZXh0SW5zZXJ0LCB0ZXh0RGVsZXRlKSwgY29tbW9ubGVuZ3RoICE9PSAwICYmIChwb2ludGVyIC0gY291bnREZWxldGUgLSBjb3VudEluc2VydCA+IDAgJiYgZGlmZnNbcG9pbnRlciAtIGNvdW50RGVsZXRlIC0gY291bnRJbnNlcnQgLSAxXVswXSA9PT0gRElGRl9FUVVBTCA/IGRpZmZzW3BvaW50ZXIgLSBjb3VudERlbGV0ZSAtIGNvdW50SW5zZXJ0IC0gMV1bMV0gKz0gdGV4dEluc2VydC5zdWJzdHJpbmcoMCwgY29tbW9ubGVuZ3RoKSA6IChkaWZmcy5zcGxpY2UoMCwgMCwgW0RJRkZfRVFVQUwsIHRleHRJbnNlcnQuc3Vic3RyaW5nKDAsIGNvbW1vbmxlbmd0aCldKSwgcG9pbnRlcisrKSwgdGV4dEluc2VydCA9IHRleHRJbnNlcnQuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCksIHRleHREZWxldGUgPSB0ZXh0RGVsZXRlLnN1YnN0cmluZyhjb21tb25sZW5ndGgpKSwgY29tbW9ubGVuZ3RoID0gZ2V0Q29tbW9uU3VmZml4KHRleHRJbnNlcnQsIHRleHREZWxldGUpLCBjb21tb25sZW5ndGggIT09IDAgJiYgKGRpZmZzW3BvaW50ZXJdWzFdID0gdGV4dEluc2VydC5zdWJzdHJpbmcodGV4dEluc2VydC5sZW5ndGggLSBjb21tb25sZW5ndGgpICsgZGlmZnNbcG9pbnRlcl1bMV0sIHRleHRJbnNlcnQgPSB0ZXh0SW5zZXJ0LnN1YnN0cmluZygwLCB0ZXh0SW5zZXJ0Lmxlbmd0aCAtIGNvbW1vbmxlbmd0aCksIHRleHREZWxldGUgPSB0ZXh0RGVsZXRlLnN1YnN0cmluZygwLCB0ZXh0RGVsZXRlLmxlbmd0aCAtIGNvbW1vbmxlbmd0aCkpKSwgcG9pbnRlciAtPSBjb3VudERlbGV0ZSArIGNvdW50SW5zZXJ0LCBkaWZmcy5zcGxpY2UocG9pbnRlciwgY291bnREZWxldGUgKyBjb3VudEluc2VydCksIHRleHREZWxldGUubGVuZ3RoICYmIChkaWZmcy5zcGxpY2UocG9pbnRlciwgMCwgW0RJRkZfREVMRVRFLCB0ZXh0RGVsZXRlXSksIHBvaW50ZXIrKyksIHRleHRJbnNlcnQubGVuZ3RoICYmIChkaWZmcy5zcGxpY2UocG9pbnRlciwgMCwgW0RJRkZfSU5TRVJULCB0ZXh0SW5zZXJ0XSksIHBvaW50ZXIrKyksIHBvaW50ZXIrKykgOiBwb2ludGVyICE9PSAwICYmIGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9PT0gRElGRl9FUVVBTCA/IChkaWZmc1twb2ludGVyIC0gMV1bMV0gKz0gZGlmZnNbcG9pbnRlcl1bMV0sIGRpZmZzLnNwbGljZShwb2ludGVyLCAxKSkgOiBwb2ludGVyKyssIGNvdW50SW5zZXJ0ID0gMCwgY291bnREZWxldGUgPSAwLCB0ZXh0RGVsZXRlID0gXCJcIiwgdGV4dEluc2VydCA9IFwiXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkaWZmIG9wZXJhdGlvblwiKTtcbiAgICB9XG4gIGRpZmZzW2RpZmZzLmxlbmd0aCAtIDFdWzFdID09PSBcIlwiICYmIGRpZmZzLnBvcCgpO1xuICBsZXQgaGFzQ2hhbmdlcyA9ICExO1xuICBmb3IgKHBvaW50ZXIgPSAxOyBwb2ludGVyIDwgZGlmZnMubGVuZ3RoIC0gMTsgKVxuICAgIGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9PT0gRElGRl9FUVVBTCAmJiBkaWZmc1twb2ludGVyICsgMV1bMF0gPT09IERJRkZfRVFVQUwgJiYgKGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZyhkaWZmc1twb2ludGVyXVsxXS5sZW5ndGggLSBkaWZmc1twb2ludGVyIC0gMV1bMV0ubGVuZ3RoKSA9PT0gZGlmZnNbcG9pbnRlciAtIDFdWzFdID8gKGRpZmZzW3BvaW50ZXJdWzFdID0gZGlmZnNbcG9pbnRlciAtIDFdWzFdICsgZGlmZnNbcG9pbnRlcl1bMV0uc3Vic3RyaW5nKDAsIGRpZmZzW3BvaW50ZXJdWzFdLmxlbmd0aCAtIGRpZmZzW3BvaW50ZXIgLSAxXVsxXS5sZW5ndGgpLCBkaWZmc1twb2ludGVyICsgMV1bMV0gPSBkaWZmc1twb2ludGVyIC0gMV1bMV0gKyBkaWZmc1twb2ludGVyICsgMV1bMV0sIGRpZmZzLnNwbGljZShwb2ludGVyIC0gMSwgMSksIGhhc0NoYW5nZXMgPSAhMCkgOiBkaWZmc1twb2ludGVyXVsxXS5zdWJzdHJpbmcoMCwgZGlmZnNbcG9pbnRlciArIDFdWzFdLmxlbmd0aCkgPT09IGRpZmZzW3BvaW50ZXIgKyAxXVsxXSAmJiAoZGlmZnNbcG9pbnRlciAtIDFdWzFdICs9IGRpZmZzW3BvaW50ZXIgKyAxXVsxXSwgZGlmZnNbcG9pbnRlcl1bMV0gPSBkaWZmc1twb2ludGVyXVsxXS5zdWJzdHJpbmcoZGlmZnNbcG9pbnRlciArIDFdWzFdLmxlbmd0aCkgKyBkaWZmc1twb2ludGVyICsgMV1bMV0sIGRpZmZzLnNwbGljZShwb2ludGVyICsgMSwgMSksIGhhc0NoYW5nZXMgPSAhMCkpLCBwb2ludGVyKys7XG4gIHJldHVybiBoYXNDaGFuZ2VzICYmIChkaWZmcyA9IGNsZWFudXBNZXJnZShkaWZmcykpLCBkaWZmcztcbn1cbmZ1bmN0aW9uIHRydWVDb3VudCgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKVxuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIHJldHVybiBhcmdzLnJlZHVjZSgobiwgYm9vbCkgPT4gbiArIChib29sID8gMSA6IDApLCAwKTtcbn1cbmZ1bmN0aW9uIGNsZWFudXBFZmZpY2llbmN5KHJhd0RpZmZzKSB7XG4gIGxldCBlZGl0Q29zdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzFdIDogNCwgZGlmZnMgPSByYXdEaWZmcy5tYXAoKGRpZmYyKSA9PiBjbG9uZURpZmYoZGlmZjIpKSwgaGFzQ2hhbmdlcyA9ICExO1xuICBjb25zdCBlcXVhbGl0aWVzID0gW107XG4gIGxldCBlcXVhbGl0aWVzTGVuZ3RoID0gMCwgbGFzdEVxdWFsaXR5ID0gbnVsbCwgcG9pbnRlciA9IDAsIHByZUlucyA9ICExLCBwcmVEZWwgPSAhMSwgcG9zdElucyA9ICExLCBwb3N0RGVsID0gITE7XG4gIGZvciAoOyBwb2ludGVyIDwgZGlmZnMubGVuZ3RoOyApXG4gICAgZGlmZnNbcG9pbnRlcl1bMF0gPT09IERJRkZfRVFVQUwgPyAoZGlmZnNbcG9pbnRlcl1bMV0ubGVuZ3RoIDwgZWRpdENvc3QgJiYgKHBvc3RJbnMgfHwgcG9zdERlbCkgPyAoZXF1YWxpdGllc1tlcXVhbGl0aWVzTGVuZ3RoKytdID0gcG9pbnRlciwgcHJlSW5zID0gcG9zdElucywgcHJlRGVsID0gcG9zdERlbCwgbGFzdEVxdWFsaXR5ID0gZGlmZnNbcG9pbnRlcl1bMV0pIDogKGVxdWFsaXRpZXNMZW5ndGggPSAwLCBsYXN0RXF1YWxpdHkgPSBudWxsKSwgcG9zdElucyA9ICExLCBwb3N0RGVsID0gITEpIDogKGRpZmZzW3BvaW50ZXJdWzBdID09PSBESUZGX0RFTEVURSA/IHBvc3REZWwgPSAhMCA6IHBvc3RJbnMgPSAhMCwgbGFzdEVxdWFsaXR5ICYmIChwcmVJbnMgJiYgcHJlRGVsICYmIHBvc3RJbnMgJiYgcG9zdERlbCB8fCBsYXN0RXF1YWxpdHkubGVuZ3RoIDwgZWRpdENvc3QgLyAyICYmIHRydWVDb3VudChwcmVJbnMsIHByZURlbCwgcG9zdElucywgcG9zdERlbCkgPT09IDMpICYmIChkaWZmcy5zcGxpY2UoZXF1YWxpdGllc1tlcXVhbGl0aWVzTGVuZ3RoIC0gMV0sIDAsIFtESUZGX0RFTEVURSwgbGFzdEVxdWFsaXR5XSksIGRpZmZzW2VxdWFsaXRpZXNbZXF1YWxpdGllc0xlbmd0aCAtIDFdICsgMV1bMF0gPSBESUZGX0lOU0VSVCwgZXF1YWxpdGllc0xlbmd0aC0tLCBsYXN0RXF1YWxpdHkgPSBudWxsLCBwcmVJbnMgJiYgcHJlRGVsID8gKHBvc3RJbnMgPSAhMCwgcG9zdERlbCA9ICEwLCBlcXVhbGl0aWVzTGVuZ3RoID0gMCkgOiAoZXF1YWxpdGllc0xlbmd0aC0tLCBwb2ludGVyID0gZXF1YWxpdGllc0xlbmd0aCA+IDAgPyBlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXSA6IC0xLCBwb3N0SW5zID0gITEsIHBvc3REZWwgPSAhMSksIGhhc0NoYW5nZXMgPSAhMCkpLCBwb2ludGVyKys7XG4gIHJldHVybiBoYXNDaGFuZ2VzICYmIChkaWZmcyA9IGNsZWFudXBNZXJnZShkaWZmcykpLCBkaWZmcztcbn1cbmZ1bmN0aW9uIGJpc2VjdCh0ZXh0MSwgdGV4dDIsIGRlYWRsaW5lKSB7XG4gIGNvbnN0IHRleHQxTGVuZ3RoID0gdGV4dDEubGVuZ3RoLCB0ZXh0Mkxlbmd0aCA9IHRleHQyLmxlbmd0aCwgbWF4RCA9IE1hdGguY2VpbCgodGV4dDFMZW5ndGggKyB0ZXh0Mkxlbmd0aCkgLyAyKSwgdk9mZnNldCA9IG1heEQsIHZMZW5ndGggPSAyICogbWF4RCwgdjEgPSBuZXcgQXJyYXkodkxlbmd0aCksIHYyID0gbmV3IEFycmF5KHZMZW5ndGgpO1xuICBmb3IgKGxldCB4ID0gMDsgeCA8IHZMZW5ndGg7IHgrKylcbiAgICB2MVt4XSA9IC0xLCB2Mlt4XSA9IC0xO1xuICB2MVt2T2Zmc2V0ICsgMV0gPSAwLCB2Mlt2T2Zmc2V0ICsgMV0gPSAwO1xuICBjb25zdCBkZWx0YSA9IHRleHQxTGVuZ3RoIC0gdGV4dDJMZW5ndGgsIGZyb250ID0gZGVsdGEgJSAyICE9PSAwO1xuICBsZXQgazFzdGFydCA9IDAsIGsxZW5kID0gMCwgazJzdGFydCA9IDAsIGsyZW5kID0gMDtcbiAgZm9yIChsZXQgZCA9IDA7IGQgPCBtYXhEICYmICEoRGF0ZS5ub3coKSA+IGRlYWRsaW5lKTsgZCsrKSB7XG4gICAgZm9yIChsZXQgazEgPSAtZCArIGsxc3RhcnQ7IGsxIDw9IGQgLSBrMWVuZDsgazEgKz0gMikge1xuICAgICAgY29uc3QgazFPZmZzZXQgPSB2T2Zmc2V0ICsgazE7XG4gICAgICBsZXQgeDE7XG4gICAgICBrMSA9PT0gLWQgfHwgazEgIT09IGQgJiYgdjFbazFPZmZzZXQgLSAxXSA8IHYxW2sxT2Zmc2V0ICsgMV0gPyB4MSA9IHYxW2sxT2Zmc2V0ICsgMV0gOiB4MSA9IHYxW2sxT2Zmc2V0IC0gMV0gKyAxO1xuICAgICAgbGV0IHkxID0geDEgLSBrMTtcbiAgICAgIGZvciAoOyB4MSA8IHRleHQxTGVuZ3RoICYmIHkxIDwgdGV4dDJMZW5ndGggJiYgdGV4dDEuY2hhckF0KHgxKSA9PT0gdGV4dDIuY2hhckF0KHkxKTsgKVxuICAgICAgICB4MSsrLCB5MSsrO1xuICAgICAgaWYgKHYxW2sxT2Zmc2V0XSA9IHgxLCB4MSA+IHRleHQxTGVuZ3RoKVxuICAgICAgICBrMWVuZCArPSAyO1xuICAgICAgZWxzZSBpZiAoeTEgPiB0ZXh0Mkxlbmd0aClcbiAgICAgICAgazFzdGFydCArPSAyO1xuICAgICAgZWxzZSBpZiAoZnJvbnQpIHtcbiAgICAgICAgY29uc3QgazJPZmZzZXQgPSB2T2Zmc2V0ICsgZGVsdGEgLSBrMTtcbiAgICAgICAgaWYgKGsyT2Zmc2V0ID49IDAgJiYgazJPZmZzZXQgPCB2TGVuZ3RoICYmIHYyW2syT2Zmc2V0XSAhPT0gLTEpIHtcbiAgICAgICAgICBjb25zdCB4MiA9IHRleHQxTGVuZ3RoIC0gdjJbazJPZmZzZXRdO1xuICAgICAgICAgIGlmICh4MSA+PSB4MilcbiAgICAgICAgICAgIHJldHVybiBiaXNlY3RTcGxpdCh0ZXh0MSwgdGV4dDIsIHgxLCB5MSwgZGVhZGxpbmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGsyID0gLWQgKyBrMnN0YXJ0OyBrMiA8PSBkIC0gazJlbmQ7IGsyICs9IDIpIHtcbiAgICAgIGNvbnN0IGsyT2Zmc2V0ID0gdk9mZnNldCArIGsyO1xuICAgICAgbGV0IHgyO1xuICAgICAgazIgPT09IC1kIHx8IGsyICE9PSBkICYmIHYyW2syT2Zmc2V0IC0gMV0gPCB2MltrMk9mZnNldCArIDFdID8geDIgPSB2MltrMk9mZnNldCArIDFdIDogeDIgPSB2MltrMk9mZnNldCAtIDFdICsgMTtcbiAgICAgIGxldCB5MiA9IHgyIC0gazI7XG4gICAgICBmb3IgKDsgeDIgPCB0ZXh0MUxlbmd0aCAmJiB5MiA8IHRleHQyTGVuZ3RoICYmIHRleHQxLmNoYXJBdCh0ZXh0MUxlbmd0aCAtIHgyIC0gMSkgPT09IHRleHQyLmNoYXJBdCh0ZXh0Mkxlbmd0aCAtIHkyIC0gMSk7IClcbiAgICAgICAgeDIrKywgeTIrKztcbiAgICAgIGlmICh2MltrMk9mZnNldF0gPSB4MiwgeDIgPiB0ZXh0MUxlbmd0aClcbiAgICAgICAgazJlbmQgKz0gMjtcbiAgICAgIGVsc2UgaWYgKHkyID4gdGV4dDJMZW5ndGgpXG4gICAgICAgIGsyc3RhcnQgKz0gMjtcbiAgICAgIGVsc2UgaWYgKCFmcm9udCkge1xuICAgICAgICBjb25zdCBrMU9mZnNldCA9IHZPZmZzZXQgKyBkZWx0YSAtIGsyO1xuICAgICAgICBpZiAoazFPZmZzZXQgPj0gMCAmJiBrMU9mZnNldCA8IHZMZW5ndGggJiYgdjFbazFPZmZzZXRdICE9PSAtMSkge1xuICAgICAgICAgIGNvbnN0IHgxID0gdjFbazFPZmZzZXRdLCB5MSA9IHZPZmZzZXQgKyB4MSAtIGsxT2Zmc2V0O1xuICAgICAgICAgIGlmICh4MiA9IHRleHQxTGVuZ3RoIC0geDIsIHgxID49IHgyKVxuICAgICAgICAgICAgcmV0dXJuIGJpc2VjdFNwbGl0KHRleHQxLCB0ZXh0MiwgeDEsIHkxLCBkZWFkbGluZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtbRElGRl9ERUxFVEUsIHRleHQxXSwgW0RJRkZfSU5TRVJULCB0ZXh0Ml1dO1xufVxuZnVuY3Rpb24gYmlzZWN0U3BsaXQodGV4dDEsIHRleHQyLCB4LCB5LCBkZWFkbGluZSkge1xuICBjb25zdCB0ZXh0MWEgPSB0ZXh0MS5zdWJzdHJpbmcoMCwgeCksIHRleHQyYSA9IHRleHQyLnN1YnN0cmluZygwLCB5KSwgdGV4dDFiID0gdGV4dDEuc3Vic3RyaW5nKHgpLCB0ZXh0MmIgPSB0ZXh0Mi5zdWJzdHJpbmcoeSksIGRpZmZzID0gZG9EaWZmKHRleHQxYSwgdGV4dDJhLCB7XG4gICAgY2hlY2tMaW5lczogITEsXG4gICAgZGVhZGxpbmVcbiAgfSksIGRpZmZzYiA9IGRvRGlmZih0ZXh0MWIsIHRleHQyYiwge1xuICAgIGNoZWNrTGluZXM6ICExLFxuICAgIGRlYWRsaW5lXG4gIH0pO1xuICByZXR1cm4gZGlmZnMuY29uY2F0KGRpZmZzYik7XG59XG5mdW5jdGlvbiBmaW5kSGFsZk1hdGNoKHRleHQxLCB0ZXh0Mikge1xuICBpZiAoKGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzJdIDogMSkgPD0gMClcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3QgbG9uZ1RleHQgPSB0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGggPyB0ZXh0MSA6IHRleHQyLCBzaG9ydFRleHQgPSB0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGggPyB0ZXh0MiA6IHRleHQxO1xuICBpZiAobG9uZ1RleHQubGVuZ3RoIDwgNCB8fCBzaG9ydFRleHQubGVuZ3RoICogMiA8IGxvbmdUZXh0Lmxlbmd0aClcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3QgaGFsZk1hdGNoMSA9IGhhbGZNYXRjaEkobG9uZ1RleHQsIHNob3J0VGV4dCwgTWF0aC5jZWlsKGxvbmdUZXh0Lmxlbmd0aCAvIDQpKSwgaGFsZk1hdGNoMiA9IGhhbGZNYXRjaEkobG9uZ1RleHQsIHNob3J0VGV4dCwgTWF0aC5jZWlsKGxvbmdUZXh0Lmxlbmd0aCAvIDIpKTtcbiAgbGV0IGhhbGZNYXRjaDtcbiAgaWYgKGhhbGZNYXRjaDEgJiYgaGFsZk1hdGNoMilcbiAgICBoYWxmTWF0Y2ggPSBoYWxmTWF0Y2gxWzRdLmxlbmd0aCA+IGhhbGZNYXRjaDJbNF0ubGVuZ3RoID8gaGFsZk1hdGNoMSA6IGhhbGZNYXRjaDI7XG4gIGVsc2Uge1xuICAgIGlmICghaGFsZk1hdGNoMSAmJiAhaGFsZk1hdGNoMilcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGhhbGZNYXRjaDIgPyBoYWxmTWF0Y2gxIHx8IChoYWxmTWF0Y2ggPSBoYWxmTWF0Y2gyKSA6IGhhbGZNYXRjaCA9IGhhbGZNYXRjaDE7XG4gIH1cbiAgaWYgKCFoYWxmTWF0Y2gpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgYSBoYWxmIG1hdGNoLlwiKTtcbiAgbGV0IHRleHQxQSwgdGV4dDFCLCB0ZXh0MkEsIHRleHQyQjtcbiAgdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoID8gKHRleHQxQSA9IGhhbGZNYXRjaFswXSwgdGV4dDFCID0gaGFsZk1hdGNoWzFdLCB0ZXh0MkEgPSBoYWxmTWF0Y2hbMl0sIHRleHQyQiA9IGhhbGZNYXRjaFszXSkgOiAodGV4dDJBID0gaGFsZk1hdGNoWzBdLCB0ZXh0MkIgPSBoYWxmTWF0Y2hbMV0sIHRleHQxQSA9IGhhbGZNYXRjaFsyXSwgdGV4dDFCID0gaGFsZk1hdGNoWzNdKTtcbiAgY29uc3QgbWlkQ29tbW9uID0gaGFsZk1hdGNoWzRdO1xuICByZXR1cm4gW3RleHQxQSwgdGV4dDFCLCB0ZXh0MkEsIHRleHQyQiwgbWlkQ29tbW9uXTtcbn1cbmZ1bmN0aW9uIGhhbGZNYXRjaEkobG9uZ1RleHQsIHNob3J0VGV4dCwgaSkge1xuICBjb25zdCBzZWVkID0gbG9uZ1RleHQuc2xpY2UoaSwgaSArIE1hdGguZmxvb3IobG9uZ1RleHQubGVuZ3RoIC8gNCkpO1xuICBsZXQgaiA9IC0xLCBiZXN0Q29tbW9uID0gXCJcIiwgYmVzdExvbmdUZXh0QSwgYmVzdExvbmdUZXh0QiwgYmVzdFNob3J0VGV4dEEsIGJlc3RTaG9ydFRleHRCO1xuICBmb3IgKDsgKGogPSBzaG9ydFRleHQuaW5kZXhPZihzZWVkLCBqICsgMSkpICE9PSAtMTsgKSB7XG4gICAgY29uc3QgcHJlZml4TGVuZ3RoID0gZ2V0Q29tbW9uUHJlZml4KGxvbmdUZXh0LnNsaWNlKGkpLCBzaG9ydFRleHQuc2xpY2UoaikpLCBzdWZmaXhMZW5ndGggPSBnZXRDb21tb25TdWZmaXgobG9uZ1RleHQuc2xpY2UoMCwgaSksIHNob3J0VGV4dC5zbGljZSgwLCBqKSk7XG4gICAgYmVzdENvbW1vbi5sZW5ndGggPCBzdWZmaXhMZW5ndGggKyBwcmVmaXhMZW5ndGggJiYgKGJlc3RDb21tb24gPSBzaG9ydFRleHQuc2xpY2UoaiAtIHN1ZmZpeExlbmd0aCwgaikgKyBzaG9ydFRleHQuc2xpY2UoaiwgaiArIHByZWZpeExlbmd0aCksIGJlc3RMb25nVGV4dEEgPSBsb25nVGV4dC5zbGljZSgwLCBpIC0gc3VmZml4TGVuZ3RoKSwgYmVzdExvbmdUZXh0QiA9IGxvbmdUZXh0LnNsaWNlKGkgKyBwcmVmaXhMZW5ndGgpLCBiZXN0U2hvcnRUZXh0QSA9IHNob3J0VGV4dC5zbGljZSgwLCBqIC0gc3VmZml4TGVuZ3RoKSwgYmVzdFNob3J0VGV4dEIgPSBzaG9ydFRleHQuc2xpY2UoaiArIHByZWZpeExlbmd0aCkpO1xuICB9XG4gIHJldHVybiBiZXN0Q29tbW9uLmxlbmd0aCAqIDIgPj0gbG9uZ1RleHQubGVuZ3RoID8gW2Jlc3RMb25nVGV4dEEgfHwgXCJcIiwgYmVzdExvbmdUZXh0QiB8fCBcIlwiLCBiZXN0U2hvcnRUZXh0QSB8fCBcIlwiLCBiZXN0U2hvcnRUZXh0QiB8fCBcIlwiLCBiZXN0Q29tbW9uIHx8IFwiXCJdIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGNoYXJzVG9MaW5lcyhkaWZmcywgbGluZUFycmF5KSB7XG4gIGZvciAobGV0IHggPSAwOyB4IDwgZGlmZnMubGVuZ3RoOyB4KyspIHtcbiAgICBjb25zdCBjaGFycyA9IGRpZmZzW3hdWzFdLCB0ZXh0ID0gW107XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBjaGFycy5sZW5ndGg7IHkrKylcbiAgICAgIHRleHRbeV0gPSBsaW5lQXJyYXlbY2hhcnMuY2hhckNvZGVBdCh5KV07XG4gICAgZGlmZnNbeF1bMV0gPSB0ZXh0LmpvaW4oXCJcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIGxpbmVzVG9DaGFycyh0ZXh0QSwgdGV4dEIpIHtcbiAgY29uc3QgbGluZUFycmF5ID0gW10sIGxpbmVIYXNoID0ge307XG4gIGxpbmVBcnJheVswXSA9IFwiXCI7XG4gIGZ1bmN0aW9uIGRpZmZMaW5lc1RvTXVuZ2UodGV4dCkge1xuICAgIGxldCBjaGFycyA9IFwiXCIsIGxpbmVTdGFydCA9IDAsIGxpbmVFbmQgPSAtMSwgbGluZUFycmF5TGVuZ3RoID0gbGluZUFycmF5Lmxlbmd0aDtcbiAgICBmb3IgKDsgbGluZUVuZCA8IHRleHQubGVuZ3RoIC0gMTsgKSB7XG4gICAgICBsaW5lRW5kID0gdGV4dC5pbmRleE9mKGBcbmAsIGxpbmVTdGFydCksIGxpbmVFbmQgPT09IC0xICYmIChsaW5lRW5kID0gdGV4dC5sZW5ndGggLSAxKTtcbiAgICAgIGxldCBsaW5lID0gdGV4dC5zbGljZShsaW5lU3RhcnQsIGxpbmVFbmQgKyAxKTtcbiAgICAgIChsaW5lSGFzaC5oYXNPd25Qcm9wZXJ0eSA/IGxpbmVIYXNoLmhhc093blByb3BlcnR5KGxpbmUpIDogbGluZUhhc2hbbGluZV0gIT09IHZvaWQgMCkgPyBjaGFycyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGxpbmVIYXNoW2xpbmVdKSA6IChsaW5lQXJyYXlMZW5ndGggPT09IG1heExpbmVzICYmIChsaW5lID0gdGV4dC5zbGljZShsaW5lU3RhcnQpLCBsaW5lRW5kID0gdGV4dC5sZW5ndGgpLCBjaGFycyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGxpbmVBcnJheUxlbmd0aCksIGxpbmVIYXNoW2xpbmVdID0gbGluZUFycmF5TGVuZ3RoLCBsaW5lQXJyYXlbbGluZUFycmF5TGVuZ3RoKytdID0gbGluZSksIGxpbmVTdGFydCA9IGxpbmVFbmQgKyAxO1xuICAgIH1cbiAgICByZXR1cm4gY2hhcnM7XG4gIH1cbiAgbGV0IG1heExpbmVzID0gNGU0O1xuICBjb25zdCBjaGFyczEgPSBkaWZmTGluZXNUb011bmdlKHRleHRBKTtcbiAgbWF4TGluZXMgPSA2NTUzNTtcbiAgY29uc3QgY2hhcnMyID0gZGlmZkxpbmVzVG9NdW5nZSh0ZXh0Qik7XG4gIHJldHVybiB7XG4gICAgY2hhcnMxLFxuICAgIGNoYXJzMixcbiAgICBsaW5lQXJyYXlcbiAgfTtcbn1cbmZ1bmN0aW9uIGRvTGluZU1vZGVEaWZmKHRleHRBLCB0ZXh0Qiwgb3B0cykge1xuICBsZXQgdGV4dDEgPSB0ZXh0QSwgdGV4dDIgPSB0ZXh0QjtcbiAgY29uc3QgYSA9IGxpbmVzVG9DaGFycyh0ZXh0MSwgdGV4dDIpO1xuICB0ZXh0MSA9IGEuY2hhcnMxLCB0ZXh0MiA9IGEuY2hhcnMyO1xuICBjb25zdCBsaW5lYXJyYXkgPSBhLmxpbmVBcnJheTtcbiAgbGV0IGRpZmZzID0gZG9EaWZmKHRleHQxLCB0ZXh0Miwge1xuICAgIGNoZWNrTGluZXM6ICExLFxuICAgIGRlYWRsaW5lOiBvcHRzLmRlYWRsaW5lXG4gIH0pO1xuICBjaGFyc1RvTGluZXMoZGlmZnMsIGxpbmVhcnJheSksIGRpZmZzID0gY2xlYW51cFNlbWFudGljKGRpZmZzKSwgZGlmZnMucHVzaChbRElGRl9FUVVBTCwgXCJcIl0pO1xuICBsZXQgcG9pbnRlciA9IDAsIGNvdW50RGVsZXRlID0gMCwgY291bnRJbnNlcnQgPSAwLCB0ZXh0RGVsZXRlID0gXCJcIiwgdGV4dEluc2VydCA9IFwiXCI7XG4gIGZvciAoOyBwb2ludGVyIDwgZGlmZnMubGVuZ3RoOyApIHtcbiAgICBzd2l0Y2ggKGRpZmZzW3BvaW50ZXJdWzBdKSB7XG4gICAgICBjYXNlIERJRkZfSU5TRVJUOlxuICAgICAgICBjb3VudEluc2VydCsrLCB0ZXh0SW5zZXJ0ICs9IGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9ERUxFVEU6XG4gICAgICAgIGNvdW50RGVsZXRlKyssIHRleHREZWxldGUgKz0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0VRVUFMOlxuICAgICAgICBpZiAoY291bnREZWxldGUgPj0gMSAmJiBjb3VudEluc2VydCA+PSAxKSB7XG4gICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBjb3VudERlbGV0ZSAtIGNvdW50SW5zZXJ0LCBjb3VudERlbGV0ZSArIGNvdW50SW5zZXJ0KSwgcG9pbnRlciA9IHBvaW50ZXIgLSBjb3VudERlbGV0ZSAtIGNvdW50SW5zZXJ0O1xuICAgICAgICAgIGNvbnN0IGFhID0gZG9EaWZmKHRleHREZWxldGUsIHRleHRJbnNlcnQsIHtcbiAgICAgICAgICAgIGNoZWNrTGluZXM6ICExLFxuICAgICAgICAgICAgZGVhZGxpbmU6IG9wdHMuZGVhZGxpbmVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmb3IgKGxldCBqID0gYWEubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pXG4gICAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMCwgYWFbal0pO1xuICAgICAgICAgIHBvaW50ZXIgKz0gYWEubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50SW5zZXJ0ID0gMCwgY291bnREZWxldGUgPSAwLCB0ZXh0RGVsZXRlID0gXCJcIiwgdGV4dEluc2VydCA9IFwiXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkaWZmIG9wZXJhdGlvbi5cIik7XG4gICAgfVxuICAgIHBvaW50ZXIrKztcbiAgfVxuICByZXR1cm4gZGlmZnMucG9wKCksIGRpZmZzO1xufVxuZnVuY3Rpb24gY29tcHV0ZURpZmYodGV4dDEsIHRleHQyLCBvcHRzKSB7XG4gIGxldCBkaWZmcztcbiAgaWYgKCF0ZXh0MSlcbiAgICByZXR1cm4gW1tESUZGX0lOU0VSVCwgdGV4dDJdXTtcbiAgaWYgKCF0ZXh0MilcbiAgICByZXR1cm4gW1tESUZGX0RFTEVURSwgdGV4dDFdXTtcbiAgY29uc3QgbG9uZ3RleHQgPSB0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGggPyB0ZXh0MSA6IHRleHQyLCBzaG9ydHRleHQgPSB0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGggPyB0ZXh0MiA6IHRleHQxLCBpID0gbG9uZ3RleHQuaW5kZXhPZihzaG9ydHRleHQpO1xuICBpZiAoaSAhPT0gLTEpXG4gICAgcmV0dXJuIGRpZmZzID0gW1tESUZGX0lOU0VSVCwgbG9uZ3RleHQuc3Vic3RyaW5nKDAsIGkpXSwgW0RJRkZfRVFVQUwsIHNob3J0dGV4dF0sIFtESUZGX0lOU0VSVCwgbG9uZ3RleHQuc3Vic3RyaW5nKGkgKyBzaG9ydHRleHQubGVuZ3RoKV1dLCB0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGggJiYgKGRpZmZzWzBdWzBdID0gRElGRl9ERUxFVEUsIGRpZmZzWzJdWzBdID0gRElGRl9ERUxFVEUpLCBkaWZmcztcbiAgaWYgKHNob3J0dGV4dC5sZW5ndGggPT09IDEpXG4gICAgcmV0dXJuIFtbRElGRl9ERUxFVEUsIHRleHQxXSwgW0RJRkZfSU5TRVJULCB0ZXh0Ml1dO1xuICBjb25zdCBoYWxmTWF0Y2ggPSBmaW5kSGFsZk1hdGNoKHRleHQxLCB0ZXh0Mik7XG4gIGlmIChoYWxmTWF0Y2gpIHtcbiAgICBjb25zdCB0ZXh0MUEgPSBoYWxmTWF0Y2hbMF0sIHRleHQxQiA9IGhhbGZNYXRjaFsxXSwgdGV4dDJBID0gaGFsZk1hdGNoWzJdLCB0ZXh0MkIgPSBoYWxmTWF0Y2hbM10sIG1pZENvbW1vbiA9IGhhbGZNYXRjaFs0XSwgZGlmZnNBID0gZG9EaWZmKHRleHQxQSwgdGV4dDJBLCBvcHRzKSwgZGlmZnNCID0gZG9EaWZmKHRleHQxQiwgdGV4dDJCLCBvcHRzKTtcbiAgICByZXR1cm4gZGlmZnNBLmNvbmNhdChbW0RJRkZfRVFVQUwsIG1pZENvbW1vbl1dLCBkaWZmc0IpO1xuICB9XG4gIHJldHVybiBvcHRzLmNoZWNrTGluZXMgJiYgdGV4dDEubGVuZ3RoID4gMTAwICYmIHRleHQyLmxlbmd0aCA+IDEwMCA/IGRvTGluZU1vZGVEaWZmKHRleHQxLCB0ZXh0Miwgb3B0cykgOiBiaXNlY3QodGV4dDEsIHRleHQyLCBvcHRzLmRlYWRsaW5lKTtcbn1cbmNvbnN0IERJRkZfREVMRVRFID0gLTEsIERJRkZfSU5TRVJUID0gMSwgRElGRl9FUVVBTCA9IDA7XG5mdW5jdGlvbiBkaWZmKHRleHRBLCB0ZXh0Qiwgb3B0cykge1xuICBpZiAodGV4dEEgPT09IG51bGwgfHwgdGV4dEIgPT09IG51bGwpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTnVsbCBpbnB1dC4gKGRpZmYpXCIpO1xuICBjb25zdCBkaWZmcyA9IGRvRGlmZih0ZXh0QSwgdGV4dEIsIGNyZWF0ZUludGVybmFsT3B0cyhvcHRzIHx8IHt9KSk7XG4gIHJldHVybiBhZGp1c3REaWZmRm9yU3Vycm9nYXRlUGFpcnMoZGlmZnMpLCBkaWZmcztcbn1cbmZ1bmN0aW9uIGRvRGlmZih0ZXh0QSwgdGV4dEIsIG9wdGlvbnMpIHtcbiAgbGV0IHRleHQxID0gdGV4dEEsIHRleHQyID0gdGV4dEI7XG4gIGlmICh0ZXh0MSA9PT0gdGV4dDIpXG4gICAgcmV0dXJuIHRleHQxID8gW1tESUZGX0VRVUFMLCB0ZXh0MV1dIDogW107XG4gIGxldCBjb21tb25sZW5ndGggPSBnZXRDb21tb25QcmVmaXgodGV4dDEsIHRleHQyKTtcbiAgY29uc3QgY29tbW9ucHJlZml4ID0gdGV4dDEuc3Vic3RyaW5nKDAsIGNvbW1vbmxlbmd0aCk7XG4gIHRleHQxID0gdGV4dDEuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCksIHRleHQyID0gdGV4dDIuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCksIGNvbW1vbmxlbmd0aCA9IGdldENvbW1vblN1ZmZpeCh0ZXh0MSwgdGV4dDIpO1xuICBjb25zdCBjb21tb25zdWZmaXggPSB0ZXh0MS5zdWJzdHJpbmcodGV4dDEubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDEgPSB0ZXh0MS5zdWJzdHJpbmcoMCwgdGV4dDEubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKSwgdGV4dDIgPSB0ZXh0Mi5zdWJzdHJpbmcoMCwgdGV4dDIubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgbGV0IGRpZmZzID0gY29tcHV0ZURpZmYodGV4dDEsIHRleHQyLCBvcHRpb25zKTtcbiAgcmV0dXJuIGNvbW1vbnByZWZpeCAmJiBkaWZmcy51bnNoaWZ0KFtESUZGX0VRVUFMLCBjb21tb25wcmVmaXhdKSwgY29tbW9uc3VmZml4ICYmIGRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIGNvbW1vbnN1ZmZpeF0pLCBkaWZmcyA9IGNsZWFudXBNZXJnZShkaWZmcyksIGRpZmZzO1xufVxuZnVuY3Rpb24gY3JlYXRlRGVhZExpbmUodGltZW91dCkge1xuICBsZXQgdCA9IDE7XG4gIHJldHVybiB0eXBlb2YgdGltZW91dCA8IFwidVwiICYmICh0ID0gdGltZW91dCA8PSAwID8gTnVtYmVyLk1BWF9WQUxVRSA6IHRpbWVvdXQpLCBEYXRlLm5vdygpICsgdCAqIDFlMztcbn1cbmZ1bmN0aW9uIGNyZWF0ZUludGVybmFsT3B0cyhvcHRzKSB7XG4gIHJldHVybiB7XG4gICAgY2hlY2tMaW5lczogITAsXG4gICAgZGVhZGxpbmU6IGNyZWF0ZURlYWRMaW5lKG9wdHMudGltZW91dCB8fCAxKSxcbiAgICAuLi5vcHRzXG4gIH07XG59XG5mdW5jdGlvbiBjb21iaW5lQ2hhcihkYXRhLCBjaGFyLCBkaXIpIHtcbiAgcmV0dXJuIGRpciA9PT0gMSA/IGRhdGEgKyBjaGFyIDogY2hhciArIGRhdGE7XG59XG5mdW5jdGlvbiBzcGxpdENoYXIoZGF0YSwgZGlyKSB7XG4gIHJldHVybiBkaXIgPT09IDEgPyBbZGF0YS5zdWJzdHJpbmcoMCwgZGF0YS5sZW5ndGggLSAxKSwgZGF0YVtkYXRhLmxlbmd0aCAtIDFdXSA6IFtkYXRhLnN1YnN0cmluZygxKSwgZGF0YVswXV07XG59XG5mdW5jdGlvbiBoYXNTaGFyZWRDaGFyKGRpZmZzLCBpLCBqLCBkaXIpIHtcbiAgcmV0dXJuIGRpciA9PT0gMSA/IGRpZmZzW2ldWzFdW2RpZmZzW2ldWzFdLmxlbmd0aCAtIDFdID09PSBkaWZmc1tqXVsxXVtkaWZmc1tqXVsxXS5sZW5ndGggLSAxXSA6IGRpZmZzW2ldWzFdWzBdID09PSBkaWZmc1tqXVsxXVswXTtcbn1cbmZ1bmN0aW9uIGRlaXNvbGF0ZUNoYXIoZGlmZnMsIGksIGRpcikge1xuICBjb25zdCBpbnYgPSBkaXIgPT09IDEgPyAtMSA6IDE7XG4gIGxldCBpbnNlcnRJZHggPSBudWxsLCBkZWxldGVJZHggPSBudWxsLCBqID0gaSArIGRpcjtcbiAgZm9yICg7IGogPj0gMCAmJiBqIDwgZGlmZnMubGVuZ3RoICYmIChpbnNlcnRJZHggPT09IG51bGwgfHwgZGVsZXRlSWR4ID09PSBudWxsKTsgaiArPSBkaXIpIHtcbiAgICBjb25zdCBbb3AsIHRleHQyXSA9IGRpZmZzW2pdO1xuICAgIGlmICh0ZXh0Mi5sZW5ndGggIT09IDApIHtcbiAgICAgIGlmIChvcCA9PT0gRElGRl9JTlNFUlQpIHtcbiAgICAgICAgaW5zZXJ0SWR4ID09PSBudWxsICYmIChpbnNlcnRJZHggPSBqKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKG9wID09PSBESUZGX0RFTEVURSkge1xuICAgICAgICBkZWxldGVJZHggPT09IG51bGwgJiYgKGRlbGV0ZUlkeCA9IGopO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAob3AgPT09IERJRkZfRVFVQUwpIHtcbiAgICAgICAgaWYgKGluc2VydElkeCA9PT0gbnVsbCAmJiBkZWxldGVJZHggPT09IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBbcmVzdCwgY2hhcjJdID0gc3BsaXRDaGFyKGRpZmZzW2ldWzFdLCBkaXIpO1xuICAgICAgICAgIGRpZmZzW2ldWzFdID0gcmVzdCwgZGlmZnNbal1bMV0gPSBjb21iaW5lQ2hhcihkaWZmc1tqXVsxXSwgY2hhcjIsIGludik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaW5zZXJ0SWR4ICE9PSBudWxsICYmIGRlbGV0ZUlkeCAhPT0gbnVsbCAmJiBoYXNTaGFyZWRDaGFyKGRpZmZzLCBpbnNlcnRJZHgsIGRlbGV0ZUlkeCwgZGlyKSkge1xuICAgIGNvbnN0IFtpbnNlcnRUZXh0LCBpbnNlcnRDaGFyXSA9IHNwbGl0Q2hhcihkaWZmc1tpbnNlcnRJZHhdWzFdLCBpbnYpLCBbZGVsZXRlVGV4dF0gPSBzcGxpdENoYXIoZGlmZnNbZGVsZXRlSWR4XVsxXSwgaW52KTtcbiAgICBkaWZmc1tpbnNlcnRJZHhdWzFdID0gaW5zZXJ0VGV4dCwgZGlmZnNbZGVsZXRlSWR4XVsxXSA9IGRlbGV0ZVRleHQsIGRpZmZzW2ldWzFdID0gY29tYmluZUNoYXIoZGlmZnNbaV1bMV0sIGluc2VydENoYXIsIGRpcik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IFt0ZXh0LCBjaGFyXSA9IHNwbGl0Q2hhcihkaWZmc1tpXVsxXSwgZGlyKTtcbiAgZGlmZnNbaV1bMV0gPSB0ZXh0LCBpbnNlcnRJZHggPT09IG51bGwgPyAoZGlmZnMuc3BsaWNlKGosIDAsIFtESUZGX0lOU0VSVCwgY2hhcl0pLCBkZWxldGVJZHggIT09IG51bGwgJiYgZGVsZXRlSWR4ID49IGogJiYgZGVsZXRlSWR4KyspIDogZGlmZnNbaW5zZXJ0SWR4XVsxXSA9IGNvbWJpbmVDaGFyKGRpZmZzW2luc2VydElkeF1bMV0sIGNoYXIsIGludiksIGRlbGV0ZUlkeCA9PT0gbnVsbCA/IGRpZmZzLnNwbGljZShqLCAwLCBbRElGRl9ERUxFVEUsIGNoYXJdKSA6IGRpZmZzW2RlbGV0ZUlkeF1bMV0gPSBjb21iaW5lQ2hhcihkaWZmc1tkZWxldGVJZHhdWzFdLCBjaGFyLCBpbnYpO1xufVxuZnVuY3Rpb24gYWRqdXN0RGlmZkZvclN1cnJvZ2F0ZVBhaXJzKGRpZmZzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlmZnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBbZGlmZlR5cGUsIGRpZmZUZXh0XSA9IGRpZmZzW2ldO1xuICAgIGlmIChkaWZmVGV4dC5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuICAgIGNvbnN0IGZpcnN0Q2hhciA9IGRpZmZUZXh0WzBdLCBsYXN0Q2hhciA9IGRpZmZUZXh0W2RpZmZUZXh0Lmxlbmd0aCAtIDFdO1xuICAgIGlzSGlnaFN1cnJvZ2F0ZShsYXN0Q2hhcikgJiYgZGlmZlR5cGUgPT09IERJRkZfRVFVQUwgJiYgZGVpc29sYXRlQ2hhcihkaWZmcywgaSwgMSksIGlzTG93U3Vycm9nYXRlKGZpcnN0Q2hhcikgJiYgZGlmZlR5cGUgPT09IERJRkZfRVFVQUwgJiYgZGVpc29sYXRlQ2hhcihkaWZmcywgaSwgLTEpO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlmZnMubGVuZ3RoOyBpKyspXG4gICAgZGlmZnNbaV1bMV0ubGVuZ3RoID09PSAwICYmIGRpZmZzLnNwbGljZShpLCAxKTtcbn1cbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgLyoqXG4gICAqIEF0IHdoYXQgcG9pbnQgaXMgbm8gbWF0Y2ggZGVjbGFyZWQgKDAuMCA9IHBlcmZlY3Rpb24sIDEuMCA9IHZlcnkgbG9vc2UpLlxuICAgKi9cbiAgdGhyZXNob2xkOiAwLjUsXG4gIC8qKlxuICAgKiBIb3cgZmFyIHRvIHNlYXJjaCBmb3IgYSBtYXRjaCAoMCA9IGV4YWN0IGxvY2F0aW9uLCAxMDAwKyA9IGJyb2FkIG1hdGNoKS5cbiAgICogQSBtYXRjaCB0aGlzIG1hbnkgY2hhcmFjdGVycyBhd2F5IGZyb20gdGhlIGV4cGVjdGVkIGxvY2F0aW9uIHdpbGwgYWRkXG4gICAqIDEuMCB0byB0aGUgc2NvcmUgKDAuMCBpcyBhIHBlcmZlY3QgbWF0Y2gpLlxuICAgKi9cbiAgZGlzdGFuY2U6IDFlM1xufTtcbmZ1bmN0aW9uIGFwcGx5RGVmYXVsdHMob3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIC4uLkRFRkFVTFRfT1BUSU9OUyxcbiAgICAuLi5vcHRpb25zXG4gIH07XG59XG5jb25zdCBNQVhfQklUUyQxID0gMzI7XG5mdW5jdGlvbiBiaXRhcCh0ZXh0LCBwYXR0ZXJuLCBsb2MpIHtcbiAgbGV0IG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICBpZiAocGF0dGVybi5sZW5ndGggPiBNQVhfQklUUyQxKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlBhdHRlcm4gdG9vIGxvbmcgZm9yIHRoaXMgYnJvd3Nlci5cIik7XG4gIGNvbnN0IG9wdGlvbnMgPSBhcHBseURlZmF1bHRzKG9wdHMpLCBzID0gZ2V0QWxwaGFiZXRGcm9tUGF0dGVybihwYXR0ZXJuKTtcbiAgZnVuY3Rpb24gZ2V0Qml0YXBTY29yZShlLCB4KSB7XG4gICAgY29uc3QgYWNjdXJhY3kgPSBlIC8gcGF0dGVybi5sZW5ndGgsIHByb3hpbWl0eSA9IE1hdGguYWJzKGxvYyAtIHgpO1xuICAgIHJldHVybiBvcHRpb25zLmRpc3RhbmNlID8gYWNjdXJhY3kgKyBwcm94aW1pdHkgLyBvcHRpb25zLmRpc3RhbmNlIDogcHJveGltaXR5ID8gMSA6IGFjY3VyYWN5O1xuICB9XG4gIGxldCBzY29yZVRocmVzaG9sZCA9IG9wdGlvbnMudGhyZXNob2xkLCBiZXN0TG9jID0gdGV4dC5pbmRleE9mKHBhdHRlcm4sIGxvYyk7XG4gIGJlc3RMb2MgIT09IC0xICYmIChzY29yZVRocmVzaG9sZCA9IE1hdGgubWluKGdldEJpdGFwU2NvcmUoMCwgYmVzdExvYyksIHNjb3JlVGhyZXNob2xkKSwgYmVzdExvYyA9IHRleHQubGFzdEluZGV4T2YocGF0dGVybiwgbG9jICsgcGF0dGVybi5sZW5ndGgpLCBiZXN0TG9jICE9PSAtMSAmJiAoc2NvcmVUaHJlc2hvbGQgPSBNYXRoLm1pbihnZXRCaXRhcFNjb3JlKDAsIGJlc3RMb2MpLCBzY29yZVRocmVzaG9sZCkpKTtcbiAgY29uc3QgbWF0Y2htYXNrID0gMSA8PCBwYXR0ZXJuLmxlbmd0aCAtIDE7XG4gIGJlc3RMb2MgPSAtMTtcbiAgbGV0IGJpbk1pbiwgYmluTWlkLCBiaW5NYXggPSBwYXR0ZXJuLmxlbmd0aCArIHRleHQubGVuZ3RoLCBsYXN0UmQgPSBbXTtcbiAgZm9yIChsZXQgZCA9IDA7IGQgPCBwYXR0ZXJuLmxlbmd0aDsgZCsrKSB7XG4gICAgZm9yIChiaW5NaW4gPSAwLCBiaW5NaWQgPSBiaW5NYXg7IGJpbk1pbiA8IGJpbk1pZDsgKVxuICAgICAgZ2V0Qml0YXBTY29yZShkLCBsb2MgKyBiaW5NaWQpIDw9IHNjb3JlVGhyZXNob2xkID8gYmluTWluID0gYmluTWlkIDogYmluTWF4ID0gYmluTWlkLCBiaW5NaWQgPSBNYXRoLmZsb29yKChiaW5NYXggLSBiaW5NaW4pIC8gMiArIGJpbk1pbik7XG4gICAgYmluTWF4ID0gYmluTWlkO1xuICAgIGxldCBzdGFydCA9IE1hdGgubWF4KDEsIGxvYyAtIGJpbk1pZCArIDEpO1xuICAgIGNvbnN0IGZpbmlzaCA9IE1hdGgubWluKGxvYyArIGJpbk1pZCwgdGV4dC5sZW5ndGgpICsgcGF0dGVybi5sZW5ndGgsIHJkID0gbmV3IEFycmF5KGZpbmlzaCArIDIpO1xuICAgIHJkW2ZpbmlzaCArIDFdID0gKDEgPDwgZCkgLSAxO1xuICAgIGZvciAobGV0IGogPSBmaW5pc2g7IGogPj0gc3RhcnQ7IGotLSkge1xuICAgICAgY29uc3QgY2hhck1hdGNoID0gc1t0ZXh0LmNoYXJBdChqIC0gMSldO1xuICAgICAgaWYgKGQgPT09IDAgPyByZFtqXSA9IChyZFtqICsgMV0gPDwgMSB8IDEpICYgY2hhck1hdGNoIDogcmRbal0gPSAocmRbaiArIDFdIDw8IDEgfCAxKSAmIGNoYXJNYXRjaCB8ICgobGFzdFJkW2ogKyAxXSB8IGxhc3RSZFtqXSkgPDwgMSB8IDEpIHwgbGFzdFJkW2ogKyAxXSwgcmRbal0gJiBtYXRjaG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2NvcmUgPSBnZXRCaXRhcFNjb3JlKGQsIGogLSAxKTtcbiAgICAgICAgaWYgKHNjb3JlIDw9IHNjb3JlVGhyZXNob2xkKVxuICAgICAgICAgIGlmIChzY29yZVRocmVzaG9sZCA9IHNjb3JlLCBiZXN0TG9jID0gaiAtIDEsIGJlc3RMb2MgPiBsb2MpXG4gICAgICAgICAgICBzdGFydCA9IE1hdGgubWF4KDEsIDIgKiBsb2MgLSBiZXN0TG9jKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGdldEJpdGFwU2NvcmUoZCArIDEsIGxvYykgPiBzY29yZVRocmVzaG9sZClcbiAgICAgIGJyZWFrO1xuICAgIGxhc3RSZCA9IHJkO1xuICB9XG4gIHJldHVybiBiZXN0TG9jO1xufVxuZnVuY3Rpb24gZ2V0QWxwaGFiZXRGcm9tUGF0dGVybihwYXR0ZXJuKSB7XG4gIGNvbnN0IHMgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKVxuICAgIHNbcGF0dGVybi5jaGFyQXQoaSldID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKVxuICAgIHNbcGF0dGVybi5jaGFyQXQoaSldIHw9IDEgPDwgcGF0dGVybi5sZW5ndGggLSBpIC0gMTtcbiAgcmV0dXJuIHM7XG59XG5mdW5jdGlvbiBtYXRjaCh0ZXh0LCBwYXR0ZXJuLCBzZWFyY2hMb2NhdGlvbikge1xuICBpZiAodGV4dCA9PT0gbnVsbCB8fCBwYXR0ZXJuID09PSBudWxsIHx8IHNlYXJjaExvY2F0aW9uID09PSBudWxsKVxuICAgIHRocm93IG5ldyBFcnJvcihcIk51bGwgaW5wdXQuIChtYXRjaCgpKVwiKTtcbiAgY29uc3QgbG9jID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2VhcmNoTG9jYXRpb24sIHRleHQubGVuZ3RoKSk7XG4gIGlmICh0ZXh0ID09PSBwYXR0ZXJuKVxuICAgIHJldHVybiAwO1xuICBpZiAodGV4dC5sZW5ndGgpIHtcbiAgICBpZiAodGV4dC5zdWJzdHJpbmcobG9jLCBsb2MgKyBwYXR0ZXJuLmxlbmd0aCkgPT09IHBhdHRlcm4pXG4gICAgICByZXR1cm4gbG9jO1xuICB9IGVsc2UgcmV0dXJuIC0xO1xuICByZXR1cm4gYml0YXAodGV4dCwgcGF0dGVybiwgbG9jKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGNoT2JqZWN0KHN0YXJ0MSwgc3RhcnQyKSB7XG4gIHJldHVybiB7XG4gICAgZGlmZnM6IFtdLFxuICAgIHN0YXJ0MSxcbiAgICBzdGFydDIsXG4gICAgdXRmOFN0YXJ0MTogc3RhcnQxLFxuICAgIHV0ZjhTdGFydDI6IHN0YXJ0MixcbiAgICBsZW5ndGgxOiAwLFxuICAgIGxlbmd0aDI6IDAsXG4gICAgdXRmOExlbmd0aDE6IDAsXG4gICAgdXRmOExlbmd0aDI6IDBcbiAgfTtcbn1cbmZ1bmN0aW9uIGRpZmZUZXh0MShkaWZmcykge1xuICBjb25zdCB0ZXh0ID0gW107XG4gIGZvciAobGV0IHggPSAwOyB4IDwgZGlmZnMubGVuZ3RoOyB4KyspXG4gICAgZGlmZnNbeF1bMF0gIT09IERJRkZfSU5TRVJUICYmICh0ZXh0W3hdID0gZGlmZnNbeF1bMV0pO1xuICByZXR1cm4gdGV4dC5qb2luKFwiXCIpO1xufVxuZnVuY3Rpb24gZGlmZlRleHQyKGRpZmZzKSB7XG4gIGNvbnN0IHRleHQgPSBbXTtcbiAgZm9yIChsZXQgeCA9IDA7IHggPCBkaWZmcy5sZW5ndGg7IHgrKylcbiAgICBkaWZmc1t4XVswXSAhPT0gRElGRl9ERUxFVEUgJiYgKHRleHRbeF0gPSBkaWZmc1t4XVsxXSk7XG4gIHJldHVybiB0ZXh0LmpvaW4oXCJcIik7XG59XG5mdW5jdGlvbiBjb3VudFV0ZjhCeXRlcyhzdHIpIHtcbiAgbGV0IGJ5dGVzID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjb2RlUG9pbnQgPSBzdHIuY29kZVBvaW50QXQoaSk7XG4gICAgaWYgKHR5cGVvZiBjb2RlUG9pbnQgPiBcInVcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZXQgY29kZXBvaW50XCIpO1xuICAgIGJ5dGVzICs9IHV0ZjhsZW4oY29kZVBvaW50KTtcbiAgfVxuICByZXR1cm4gYnl0ZXM7XG59XG5mdW5jdGlvbiBhZGp1c3RJbmRpY2llc1RvVWNzMihwYXRjaGVzLCBiYXNlKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMl0gOiB7fSwgYnl0ZU9mZnNldCA9IDAsIGlkeCA9IDA7XG4gIGZ1bmN0aW9uIGFkdmFuY2VUbyh0YXJnZXQpIHtcbiAgICBmb3IgKDsgYnl0ZU9mZnNldCA8IHRhcmdldDsgKSB7XG4gICAgICBjb25zdCBjb2RlUG9pbnQgPSBiYXNlLmNvZGVQb2ludEF0KGlkeCk7XG4gICAgICBpZiAodHlwZW9mIGNvZGVQb2ludCA+IFwidVwiKVxuICAgICAgICByZXR1cm4gaWR4O1xuICAgICAgYnl0ZU9mZnNldCArPSB1dGY4bGVuKGNvZGVQb2ludCksIGNvZGVQb2ludCA+IDY1NTM1ID8gaWR4ICs9IDIgOiBpZHggKz0gMTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmFsbG93RXhjZWVkaW5nSW5kaWNlcyAmJiBieXRlT2Zmc2V0ICE9PSB0YXJnZXQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGV0ZXJtaW5lIGJ5dGUgb2Zmc2V0XCIpO1xuICAgIHJldHVybiBpZHg7XG4gIH1cbiAgY29uc3QgYWRqdXN0ZWQgPSBbXTtcbiAgZm9yIChjb25zdCBwYXRjaCBvZiBwYXRjaGVzKVxuICAgIGFkanVzdGVkLnB1c2goe1xuICAgICAgZGlmZnM6IHBhdGNoLmRpZmZzLm1hcCgoZGlmZjIpID0+IGNsb25lRGlmZihkaWZmMikpLFxuICAgICAgc3RhcnQxOiBhZHZhbmNlVG8ocGF0Y2guc3RhcnQxKSxcbiAgICAgIHN0YXJ0MjogYWR2YW5jZVRvKHBhdGNoLnN0YXJ0MiksXG4gICAgICB1dGY4U3RhcnQxOiBwYXRjaC51dGY4U3RhcnQxLFxuICAgICAgdXRmOFN0YXJ0MjogcGF0Y2gudXRmOFN0YXJ0MixcbiAgICAgIGxlbmd0aDE6IHBhdGNoLmxlbmd0aDEsXG4gICAgICBsZW5ndGgyOiBwYXRjaC5sZW5ndGgyLFxuICAgICAgdXRmOExlbmd0aDE6IHBhdGNoLnV0ZjhMZW5ndGgxLFxuICAgICAgdXRmOExlbmd0aDI6IHBhdGNoLnV0ZjhMZW5ndGgyXG4gICAgfSk7XG4gIHJldHVybiBhZGp1c3RlZDtcbn1cbmZ1bmN0aW9uIHV0ZjhsZW4oY29kZVBvaW50KSB7XG4gIHJldHVybiBjb2RlUG9pbnQgPD0gMTI3ID8gMSA6IGNvZGVQb2ludCA8PSAyMDQ3ID8gMiA6IGNvZGVQb2ludCA8PSA2NTUzNSA/IDMgOiA0O1xufVxuY29uc3QgTUFYX0JJVFMgPSAzMiwgREVGQVVMVF9NQVJHSU4gPSA0LCBERUZBVUxUX09QVFMgPSB7XG4gIG1hcmdpbjogNFxufTtcbmZ1bmN0aW9uIGdldERlZmF1bHRPcHRzKCkge1xuICBsZXQgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzBdIDoge307XG4gIHJldHVybiB7XG4gICAgLi4uREVGQVVMVF9PUFRTLFxuICAgIC4uLm9wdHNcbiAgfTtcbn1cbmZ1bmN0aW9uIG1ha2UoYSwgYiwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIGEgPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgYiA9PSBcInN0cmluZ1wiKSB7XG4gICAgbGV0IGRpZmZzID0gZGlmZihhLCBiLCB7XG4gICAgICBjaGVja0xpbmVzOiAhMFxuICAgIH0pO1xuICAgIHJldHVybiBkaWZmcy5sZW5ndGggPiAyICYmIChkaWZmcyA9IGNsZWFudXBTZW1hbnRpYyhkaWZmcyksIGRpZmZzID0gY2xlYW51cEVmZmljaWVuY3koZGlmZnMpKSwgX21ha2UoYSwgZGlmZnMsIGdldERlZmF1bHRPcHRzKG9wdGlvbnMpKTtcbiAgfVxuICBpZiAoYSAmJiBBcnJheS5pc0FycmF5KGEpICYmIHR5cGVvZiBiID4gXCJ1XCIpXG4gICAgcmV0dXJuIF9tYWtlKGRpZmZUZXh0MShhKSwgYSwgZ2V0RGVmYXVsdE9wdHMob3B0aW9ucykpO1xuICBpZiAodHlwZW9mIGEgPT0gXCJzdHJpbmdcIiAmJiBiICYmIEFycmF5LmlzQXJyYXkoYikpXG4gICAgcmV0dXJuIF9tYWtlKGEsIGIsIGdldERlZmF1bHRPcHRzKG9wdGlvbnMpKTtcbiAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjYWxsIGZvcm1hdCB0byBtYWtlKClcIik7XG59XG5mdW5jdGlvbiBfbWFrZSh0ZXh0QSwgZGlmZnMsIG9wdGlvbnMpIHtcbiAgaWYgKGRpZmZzLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm4gW107XG4gIGNvbnN0IHBhdGNoZXMgPSBbXTtcbiAgbGV0IHBhdGNoID0gY3JlYXRlUGF0Y2hPYmplY3QoMCwgMCksIHBhdGNoRGlmZkxlbmd0aCA9IDAsIGNoYXJDb3VudDEgPSAwLCBjaGFyQ291bnQyID0gMCwgdXRmOENvdW50MSA9IDAsIHV0ZjhDb3VudDIgPSAwLCBwcmVwYXRjaFRleHQgPSB0ZXh0QSwgcG9zdHBhdGNoVGV4dCA9IHRleHRBO1xuICBmb3IgKGxldCB4ID0gMDsgeCA8IGRpZmZzLmxlbmd0aDsgeCsrKSB7XG4gICAgY29uc3QgY3VycmVudERpZmYgPSBkaWZmc1t4XSwgW2RpZmZUeXBlLCBkaWZmVGV4dF0gPSBjdXJyZW50RGlmZiwgZGlmZlRleHRMZW5ndGggPSBkaWZmVGV4dC5sZW5ndGgsIGRpZmZCeXRlTGVuZ3RoID0gY291bnRVdGY4Qnl0ZXMoZGlmZlRleHQpO1xuICAgIHN3aXRjaCAoIXBhdGNoRGlmZkxlbmd0aCAmJiBkaWZmVHlwZSAhPT0gRElGRl9FUVVBTCAmJiAocGF0Y2guc3RhcnQxID0gY2hhckNvdW50MSwgcGF0Y2guc3RhcnQyID0gY2hhckNvdW50MiwgcGF0Y2gudXRmOFN0YXJ0MSA9IHV0ZjhDb3VudDEsIHBhdGNoLnV0ZjhTdGFydDIgPSB1dGY4Q291bnQyKSwgZGlmZlR5cGUpIHtcbiAgICAgIGNhc2UgRElGRl9JTlNFUlQ6XG4gICAgICAgIHBhdGNoLmRpZmZzW3BhdGNoRGlmZkxlbmd0aCsrXSA9IGN1cnJlbnREaWZmLCBwYXRjaC5sZW5ndGgyICs9IGRpZmZUZXh0TGVuZ3RoLCBwYXRjaC51dGY4TGVuZ3RoMiArPSBkaWZmQnl0ZUxlbmd0aCwgcG9zdHBhdGNoVGV4dCA9IHBvc3RwYXRjaFRleHQuc3Vic3RyaW5nKDAsIGNoYXJDb3VudDIpICsgZGlmZlRleHQgKyBwb3N0cGF0Y2hUZXh0LnN1YnN0cmluZyhjaGFyQ291bnQyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfREVMRVRFOlxuICAgICAgICBwYXRjaC5sZW5ndGgxICs9IGRpZmZUZXh0TGVuZ3RoLCBwYXRjaC51dGY4TGVuZ3RoMSArPSBkaWZmQnl0ZUxlbmd0aCwgcGF0Y2guZGlmZnNbcGF0Y2hEaWZmTGVuZ3RoKytdID0gY3VycmVudERpZmYsIHBvc3RwYXRjaFRleHQgPSBwb3N0cGF0Y2hUZXh0LnN1YnN0cmluZygwLCBjaGFyQ291bnQyKSArIHBvc3RwYXRjaFRleHQuc3Vic3RyaW5nKGNoYXJDb3VudDIgKyBkaWZmVGV4dExlbmd0aCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0VRVUFMOlxuICAgICAgICBkaWZmVGV4dExlbmd0aCA8PSAyICogb3B0aW9ucy5tYXJnaW4gJiYgcGF0Y2hEaWZmTGVuZ3RoICYmIGRpZmZzLmxlbmd0aCAhPT0geCArIDEgPyAocGF0Y2guZGlmZnNbcGF0Y2hEaWZmTGVuZ3RoKytdID0gY3VycmVudERpZmYsIHBhdGNoLmxlbmd0aDEgKz0gZGlmZlRleHRMZW5ndGgsIHBhdGNoLmxlbmd0aDIgKz0gZGlmZlRleHRMZW5ndGgsIHBhdGNoLnV0ZjhMZW5ndGgxICs9IGRpZmZCeXRlTGVuZ3RoLCBwYXRjaC51dGY4TGVuZ3RoMiArPSBkaWZmQnl0ZUxlbmd0aCkgOiBkaWZmVGV4dExlbmd0aCA+PSAyICogb3B0aW9ucy5tYXJnaW4gJiYgcGF0Y2hEaWZmTGVuZ3RoICYmIChhZGRDb250ZXh0KHBhdGNoLCBwcmVwYXRjaFRleHQsIG9wdGlvbnMpLCBwYXRjaGVzLnB1c2gocGF0Y2gpLCBwYXRjaCA9IGNyZWF0ZVBhdGNoT2JqZWN0KC0xLCAtMSksIHBhdGNoRGlmZkxlbmd0aCA9IDAsIHByZXBhdGNoVGV4dCA9IHBvc3RwYXRjaFRleHQsIGNoYXJDb3VudDEgPSBjaGFyQ291bnQyLCB1dGY4Q291bnQxID0gdXRmOENvdW50Mik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkaWZmIHR5cGVcIik7XG4gICAgfVxuICAgIGRpZmZUeXBlICE9PSBESUZGX0lOU0VSVCAmJiAoY2hhckNvdW50MSArPSBkaWZmVGV4dExlbmd0aCwgdXRmOENvdW50MSArPSBkaWZmQnl0ZUxlbmd0aCksIGRpZmZUeXBlICE9PSBESUZGX0RFTEVURSAmJiAoY2hhckNvdW50MiArPSBkaWZmVGV4dExlbmd0aCwgdXRmOENvdW50MiArPSBkaWZmQnl0ZUxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIHBhdGNoRGlmZkxlbmd0aCAmJiAoYWRkQ29udGV4dChwYXRjaCwgcHJlcGF0Y2hUZXh0LCBvcHRpb25zKSwgcGF0Y2hlcy5wdXNoKHBhdGNoKSksIHBhdGNoZXM7XG59XG5mdW5jdGlvbiBhZGRDb250ZXh0KHBhdGNoLCB0ZXh0LCBvcHRzKSB7XG4gIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm47XG4gIGxldCBwYXR0ZXJuID0gdGV4dC5zdWJzdHJpbmcocGF0Y2guc3RhcnQyLCBwYXRjaC5zdGFydDIgKyBwYXRjaC5sZW5ndGgxKSwgcGFkZGluZyA9IDA7XG4gIGZvciAoOyB0ZXh0LmluZGV4T2YocGF0dGVybikgIT09IHRleHQubGFzdEluZGV4T2YocGF0dGVybikgJiYgcGF0dGVybi5sZW5ndGggPCBNQVhfQklUUyAtIG9wdHMubWFyZ2luIC0gb3B0cy5tYXJnaW47IClcbiAgICBwYWRkaW5nICs9IG9wdHMubWFyZ2luLCBwYXR0ZXJuID0gdGV4dC5zdWJzdHJpbmcocGF0Y2guc3RhcnQyIC0gcGFkZGluZywgcGF0Y2guc3RhcnQyICsgcGF0Y2gubGVuZ3RoMSArIHBhZGRpbmcpO1xuICBwYWRkaW5nICs9IG9wdHMubWFyZ2luO1xuICBsZXQgcHJlZml4U3RhcnQgPSBwYXRjaC5zdGFydDIgLSBwYWRkaW5nO1xuICBwcmVmaXhTdGFydCA+PSAxICYmIGlzTG93U3Vycm9nYXRlKHRleHRbcHJlZml4U3RhcnRdKSAmJiBwcmVmaXhTdGFydC0tO1xuICBjb25zdCBwcmVmaXggPSB0ZXh0LnN1YnN0cmluZyhwcmVmaXhTdGFydCwgcGF0Y2guc3RhcnQyKTtcbiAgcHJlZml4ICYmIHBhdGNoLmRpZmZzLnVuc2hpZnQoW0RJRkZfRVFVQUwsIHByZWZpeF0pO1xuICBjb25zdCBwcmVmaXhMZW5ndGggPSBwcmVmaXgubGVuZ3RoLCBwcmVmaXhVdGY4TGVuZ3RoID0gY291bnRVdGY4Qnl0ZXMocHJlZml4KTtcbiAgbGV0IHN1ZmZpeEVuZCA9IHBhdGNoLnN0YXJ0MiArIHBhdGNoLmxlbmd0aDEgKyBwYWRkaW5nO1xuICBzdWZmaXhFbmQgPCB0ZXh0Lmxlbmd0aCAmJiBpc0xvd1N1cnJvZ2F0ZSh0ZXh0W3N1ZmZpeEVuZF0pICYmIHN1ZmZpeEVuZCsrO1xuICBjb25zdCBzdWZmaXggPSB0ZXh0LnN1YnN0cmluZyhwYXRjaC5zdGFydDIgKyBwYXRjaC5sZW5ndGgxLCBzdWZmaXhFbmQpO1xuICBzdWZmaXggJiYgcGF0Y2guZGlmZnMucHVzaChbRElGRl9FUVVBTCwgc3VmZml4XSk7XG4gIGNvbnN0IHN1ZmZpeExlbmd0aCA9IHN1ZmZpeC5sZW5ndGgsIHN1ZmZpeFV0ZjhMZW5ndGggPSBjb3VudFV0ZjhCeXRlcyhzdWZmaXgpO1xuICBwYXRjaC5zdGFydDEgLT0gcHJlZml4TGVuZ3RoLCBwYXRjaC5zdGFydDIgLT0gcHJlZml4TGVuZ3RoLCBwYXRjaC51dGY4U3RhcnQxIC09IHByZWZpeFV0ZjhMZW5ndGgsIHBhdGNoLnV0ZjhTdGFydDIgLT0gcHJlZml4VXRmOExlbmd0aCwgcGF0Y2gubGVuZ3RoMSArPSBwcmVmaXhMZW5ndGggKyBzdWZmaXhMZW5ndGgsIHBhdGNoLmxlbmd0aDIgKz0gcHJlZml4TGVuZ3RoICsgc3VmZml4TGVuZ3RoLCBwYXRjaC51dGY4TGVuZ3RoMSArPSBwcmVmaXhVdGY4TGVuZ3RoICsgc3VmZml4VXRmOExlbmd0aCwgcGF0Y2gudXRmOExlbmd0aDIgKz0gcHJlZml4VXRmOExlbmd0aCArIHN1ZmZpeFV0ZjhMZW5ndGg7XG59XG5mdW5jdGlvbiBsZXZlbnNodGVpbihkaWZmcykge1xuICBsZXQgbGV2ZW4gPSAwLCBpbnNlcnRpb25zID0gMCwgZGVsZXRpb25zID0gMDtcbiAgZm9yIChsZXQgeCA9IDA7IHggPCBkaWZmcy5sZW5ndGg7IHgrKykge1xuICAgIGNvbnN0IG9wID0gZGlmZnNbeF1bMF0sIGRhdGEgPSBkaWZmc1t4XVsxXTtcbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlIERJRkZfSU5TRVJUOlxuICAgICAgICBpbnNlcnRpb25zICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9ERUxFVEU6XG4gICAgICAgIGRlbGV0aW9ucyArPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfRVFVQUw6XG4gICAgICAgIGxldmVuICs9IE1hdGgubWF4KGluc2VydGlvbnMsIGRlbGV0aW9ucyksIGluc2VydGlvbnMgPSAwLCBkZWxldGlvbnMgPSAwO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGlmZiBvcGVyYXRpb24uXCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbGV2ZW4gKz0gTWF0aC5tYXgoaW5zZXJ0aW9ucywgZGVsZXRpb25zKSwgbGV2ZW47XG59XG5mdW5jdGlvbiB4SW5kZXgoZGlmZnMsIGxvYykge1xuICBsZXQgY2hhcnMxID0gMCwgY2hhcnMyID0gMCwgbGFzdENoYXJzMSA9IDAsIGxhc3RDaGFyczIgPSAwLCB4O1xuICBmb3IgKHggPSAwOyB4IDwgZGlmZnMubGVuZ3RoICYmIChkaWZmc1t4XVswXSAhPT0gRElGRl9JTlNFUlQgJiYgKGNoYXJzMSArPSBkaWZmc1t4XVsxXS5sZW5ndGgpLCBkaWZmc1t4XVswXSAhPT0gRElGRl9ERUxFVEUgJiYgKGNoYXJzMiArPSBkaWZmc1t4XVsxXS5sZW5ndGgpLCAhKGNoYXJzMSA+IGxvYykpOyB4KyspXG4gICAgbGFzdENoYXJzMSA9IGNoYXJzMSwgbGFzdENoYXJzMiA9IGNoYXJzMjtcbiAgcmV0dXJuIGRpZmZzLmxlbmd0aCAhPT0geCAmJiBkaWZmc1t4XVswXSA9PT0gRElGRl9ERUxFVEUgPyBsYXN0Q2hhcnMyIDogbGFzdENoYXJzMiArIChsb2MgLSBsYXN0Q2hhcnMxKTtcbn1cbmZ1bmN0aW9uIGFkZFBhZGRpbmcocGF0Y2hlcykge1xuICBjb25zdCBwYWRkaW5nTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMV0gOiBERUZBVUxUX01BUkdJTjtcbiAgbGV0IG51bGxQYWRkaW5nID0gXCJcIjtcbiAgZm9yIChsZXQgeCA9IDE7IHggPD0gcGFkZGluZ0xlbmd0aDsgeCsrKVxuICAgIG51bGxQYWRkaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoeCk7XG4gIGZvciAoY29uc3QgcCBvZiBwYXRjaGVzKVxuICAgIHAuc3RhcnQxICs9IHBhZGRpbmdMZW5ndGgsIHAuc3RhcnQyICs9IHBhZGRpbmdMZW5ndGgsIHAudXRmOFN0YXJ0MSArPSBwYWRkaW5nTGVuZ3RoLCBwLnV0ZjhTdGFydDIgKz0gcGFkZGluZ0xlbmd0aDtcbiAgbGV0IHBhdGNoID0gcGF0Y2hlc1swXSwgZGlmZnMgPSBwYXRjaC5kaWZmcztcbiAgaWYgKGRpZmZzLmxlbmd0aCA9PT0gMCB8fCBkaWZmc1swXVswXSAhPT0gRElGRl9FUVVBTClcbiAgICBkaWZmcy51bnNoaWZ0KFtESUZGX0VRVUFMLCBudWxsUGFkZGluZ10pLCBwYXRjaC5zdGFydDEgLT0gcGFkZGluZ0xlbmd0aCwgcGF0Y2guc3RhcnQyIC09IHBhZGRpbmdMZW5ndGgsIHBhdGNoLnV0ZjhTdGFydDEgLT0gcGFkZGluZ0xlbmd0aCwgcGF0Y2gudXRmOFN0YXJ0MiAtPSBwYWRkaW5nTGVuZ3RoLCBwYXRjaC5sZW5ndGgxICs9IHBhZGRpbmdMZW5ndGgsIHBhdGNoLmxlbmd0aDIgKz0gcGFkZGluZ0xlbmd0aCwgcGF0Y2gudXRmOExlbmd0aDEgKz0gcGFkZGluZ0xlbmd0aCwgcGF0Y2gudXRmOExlbmd0aDIgKz0gcGFkZGluZ0xlbmd0aDtcbiAgZWxzZSBpZiAocGFkZGluZ0xlbmd0aCA+IGRpZmZzWzBdWzFdLmxlbmd0aCkge1xuICAgIGNvbnN0IGZpcnN0RGlmZkxlbmd0aCA9IGRpZmZzWzBdWzFdLmxlbmd0aCwgZXh0cmFMZW5ndGggPSBwYWRkaW5nTGVuZ3RoIC0gZmlyc3REaWZmTGVuZ3RoO1xuICAgIGRpZmZzWzBdWzFdID0gbnVsbFBhZGRpbmcuc3Vic3RyaW5nKGZpcnN0RGlmZkxlbmd0aCkgKyBkaWZmc1swXVsxXSwgcGF0Y2guc3RhcnQxIC09IGV4dHJhTGVuZ3RoLCBwYXRjaC5zdGFydDIgLT0gZXh0cmFMZW5ndGgsIHBhdGNoLnV0ZjhTdGFydDEgLT0gZXh0cmFMZW5ndGgsIHBhdGNoLnV0ZjhTdGFydDIgLT0gZXh0cmFMZW5ndGgsIHBhdGNoLmxlbmd0aDEgKz0gZXh0cmFMZW5ndGgsIHBhdGNoLmxlbmd0aDIgKz0gZXh0cmFMZW5ndGgsIHBhdGNoLnV0ZjhMZW5ndGgxICs9IGV4dHJhTGVuZ3RoLCBwYXRjaC51dGY4TGVuZ3RoMiArPSBleHRyYUxlbmd0aDtcbiAgfVxuICBpZiAocGF0Y2ggPSBwYXRjaGVzW3BhdGNoZXMubGVuZ3RoIC0gMV0sIGRpZmZzID0gcGF0Y2guZGlmZnMsIGRpZmZzLmxlbmd0aCA9PT0gMCB8fCBkaWZmc1tkaWZmcy5sZW5ndGggLSAxXVswXSAhPT0gRElGRl9FUVVBTClcbiAgICBkaWZmcy5wdXNoKFtESUZGX0VRVUFMLCBudWxsUGFkZGluZ10pLCBwYXRjaC5sZW5ndGgxICs9IHBhZGRpbmdMZW5ndGgsIHBhdGNoLmxlbmd0aDIgKz0gcGFkZGluZ0xlbmd0aCwgcGF0Y2gudXRmOExlbmd0aDEgKz0gcGFkZGluZ0xlbmd0aCwgcGF0Y2gudXRmOExlbmd0aDIgKz0gcGFkZGluZ0xlbmd0aDtcbiAgZWxzZSBpZiAocGFkZGluZ0xlbmd0aCA+IGRpZmZzW2RpZmZzLmxlbmd0aCAtIDFdWzFdLmxlbmd0aCkge1xuICAgIGNvbnN0IGV4dHJhTGVuZ3RoID0gcGFkZGluZ0xlbmd0aCAtIGRpZmZzW2RpZmZzLmxlbmd0aCAtIDFdWzFdLmxlbmd0aDtcbiAgICBkaWZmc1tkaWZmcy5sZW5ndGggLSAxXVsxXSArPSBudWxsUGFkZGluZy5zdWJzdHJpbmcoMCwgZXh0cmFMZW5ndGgpLCBwYXRjaC5sZW5ndGgxICs9IGV4dHJhTGVuZ3RoLCBwYXRjaC5sZW5ndGgyICs9IGV4dHJhTGVuZ3RoLCBwYXRjaC51dGY4TGVuZ3RoMSArPSBleHRyYUxlbmd0aCwgcGF0Y2gudXRmOExlbmd0aDIgKz0gZXh0cmFMZW5ndGg7XG4gIH1cbiAgcmV0dXJuIG51bGxQYWRkaW5nO1xufVxuZnVuY3Rpb24gc3BsaXRNYXgocGF0Y2hlcykge1xuICBsZXQgbWFyZ2luID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMV0gOiBERUZBVUxUX01BUkdJTjtcbiAgY29uc3QgcGF0Y2hTaXplID0gTUFYX0JJVFM7XG4gIGZvciAobGV0IHggPSAwOyB4IDwgcGF0Y2hlcy5sZW5ndGg7IHgrKykge1xuICAgIGlmIChwYXRjaGVzW3hdLmxlbmd0aDEgPD0gcGF0Y2hTaXplKVxuICAgICAgY29udGludWU7XG4gICAgY29uc3QgYmlncGF0Y2ggPSBwYXRjaGVzW3hdO1xuICAgIHBhdGNoZXMuc3BsaWNlKHgtLSwgMSk7XG4gICAgbGV0IHN0YXJ0MSA9IGJpZ3BhdGNoLnN0YXJ0MSwgc3RhcnQyID0gYmlncGF0Y2guc3RhcnQyLCBwcmVDb250ZXh0ID0gXCJcIjtcbiAgICBmb3IgKDsgYmlncGF0Y2guZGlmZnMubGVuZ3RoICE9PSAwOyApIHtcbiAgICAgIGNvbnN0IHBhdGNoID0gY3JlYXRlUGF0Y2hPYmplY3Qoc3RhcnQxIC0gcHJlQ29udGV4dC5sZW5ndGgsIHN0YXJ0MiAtIHByZUNvbnRleHQubGVuZ3RoKTtcbiAgICAgIGxldCBlbXB0eSA9ICEwO1xuICAgICAgaWYgKHByZUNvbnRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgY29uc3QgcHJlY29udGV4dEJ5dGVDb3VudCA9IGNvdW50VXRmOEJ5dGVzKHByZUNvbnRleHQpO1xuICAgICAgICBwYXRjaC5sZW5ndGgxID0gcHJlQ29udGV4dC5sZW5ndGgsIHBhdGNoLnV0ZjhMZW5ndGgxID0gcHJlY29udGV4dEJ5dGVDb3VudCwgcGF0Y2gubGVuZ3RoMiA9IHByZUNvbnRleHQubGVuZ3RoLCBwYXRjaC51dGY4TGVuZ3RoMiA9IHByZWNvbnRleHRCeXRlQ291bnQsIHBhdGNoLmRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIHByZUNvbnRleHRdKTtcbiAgICAgIH1cbiAgICAgIGZvciAoOyBiaWdwYXRjaC5kaWZmcy5sZW5ndGggIT09IDAgJiYgcGF0Y2gubGVuZ3RoMSA8IHBhdGNoU2l6ZSAtIG1hcmdpbjsgKSB7XG4gICAgICAgIGNvbnN0IGRpZmZUeXBlID0gYmlncGF0Y2guZGlmZnNbMF1bMF07XG4gICAgICAgIGxldCBkaWZmVGV4dCA9IGJpZ3BhdGNoLmRpZmZzWzBdWzFdLCBkaWZmVGV4dEJ5dGVDb3VudCA9IGNvdW50VXRmOEJ5dGVzKGRpZmZUZXh0KTtcbiAgICAgICAgaWYgKGRpZmZUeXBlID09PSBESUZGX0lOU0VSVCkge1xuICAgICAgICAgIHBhdGNoLmxlbmd0aDIgKz0gZGlmZlRleHQubGVuZ3RoLCBwYXRjaC51dGY4TGVuZ3RoMiArPSBkaWZmVGV4dEJ5dGVDb3VudCwgc3RhcnQyICs9IGRpZmZUZXh0Lmxlbmd0aDtcbiAgICAgICAgICBjb25zdCBkaWZmMiA9IGJpZ3BhdGNoLmRpZmZzLnNoaWZ0KCk7XG4gICAgICAgICAgZGlmZjIgJiYgcGF0Y2guZGlmZnMucHVzaChkaWZmMiksIGVtcHR5ID0gITE7XG4gICAgICAgIH0gZWxzZSBkaWZmVHlwZSA9PT0gRElGRl9ERUxFVEUgJiYgcGF0Y2guZGlmZnMubGVuZ3RoID09PSAxICYmIHBhdGNoLmRpZmZzWzBdWzBdID09PSBESUZGX0VRVUFMICYmIGRpZmZUZXh0Lmxlbmd0aCA+IDIgKiBwYXRjaFNpemUgPyAocGF0Y2gubGVuZ3RoMSArPSBkaWZmVGV4dC5sZW5ndGgsIHBhdGNoLnV0ZjhMZW5ndGgxICs9IGRpZmZUZXh0Qnl0ZUNvdW50LCBzdGFydDEgKz0gZGlmZlRleHQubGVuZ3RoLCBlbXB0eSA9ICExLCBwYXRjaC5kaWZmcy5wdXNoKFtkaWZmVHlwZSwgZGlmZlRleHRdKSwgYmlncGF0Y2guZGlmZnMuc2hpZnQoKSkgOiAoZGlmZlRleHQgPSBkaWZmVGV4dC5zdWJzdHJpbmcoMCwgcGF0Y2hTaXplIC0gcGF0Y2gubGVuZ3RoMSAtIG1hcmdpbiksIGRpZmZUZXh0Qnl0ZUNvdW50ID0gY291bnRVdGY4Qnl0ZXMoZGlmZlRleHQpLCBwYXRjaC5sZW5ndGgxICs9IGRpZmZUZXh0Lmxlbmd0aCwgcGF0Y2gudXRmOExlbmd0aDEgKz0gZGlmZlRleHRCeXRlQ291bnQsIHN0YXJ0MSArPSBkaWZmVGV4dC5sZW5ndGgsIGRpZmZUeXBlID09PSBESUZGX0VRVUFMID8gKHBhdGNoLmxlbmd0aDIgKz0gZGlmZlRleHQubGVuZ3RoLCBwYXRjaC51dGY4TGVuZ3RoMiArPSBkaWZmVGV4dEJ5dGVDb3VudCwgc3RhcnQyICs9IGRpZmZUZXh0Lmxlbmd0aCkgOiBlbXB0eSA9ICExLCBwYXRjaC5kaWZmcy5wdXNoKFtkaWZmVHlwZSwgZGlmZlRleHRdKSwgZGlmZlRleHQgPT09IGJpZ3BhdGNoLmRpZmZzWzBdWzFdID8gYmlncGF0Y2guZGlmZnMuc2hpZnQoKSA6IGJpZ3BhdGNoLmRpZmZzWzBdWzFdID0gYmlncGF0Y2guZGlmZnNbMF1bMV0uc3Vic3RyaW5nKGRpZmZUZXh0Lmxlbmd0aCkpO1xuICAgICAgfVxuICAgICAgcHJlQ29udGV4dCA9IGRpZmZUZXh0MihwYXRjaC5kaWZmcyksIHByZUNvbnRleHQgPSBwcmVDb250ZXh0LnN1YnN0cmluZyhwcmVDb250ZXh0Lmxlbmd0aCAtIG1hcmdpbik7XG4gICAgICBjb25zdCBwb3N0Q29udGV4dCA9IGRpZmZUZXh0MShiaWdwYXRjaC5kaWZmcykuc3Vic3RyaW5nKDAsIG1hcmdpbiksIHBvc3RDb250ZXh0Qnl0ZUNvdW50ID0gY291bnRVdGY4Qnl0ZXMocG9zdENvbnRleHQpO1xuICAgICAgcG9zdENvbnRleHQgIT09IFwiXCIgJiYgKHBhdGNoLmxlbmd0aDEgKz0gcG9zdENvbnRleHQubGVuZ3RoLCBwYXRjaC5sZW5ndGgyICs9IHBvc3RDb250ZXh0Lmxlbmd0aCwgcGF0Y2gudXRmOExlbmd0aDEgKz0gcG9zdENvbnRleHRCeXRlQ291bnQsIHBhdGNoLnV0ZjhMZW5ndGgyICs9IHBvc3RDb250ZXh0Qnl0ZUNvdW50LCBwYXRjaC5kaWZmcy5sZW5ndGggIT09IDAgJiYgcGF0Y2guZGlmZnNbcGF0Y2guZGlmZnMubGVuZ3RoIC0gMV1bMF0gPT09IERJRkZfRVFVQUwgPyBwYXRjaC5kaWZmc1twYXRjaC5kaWZmcy5sZW5ndGggLSAxXVsxXSArPSBwb3N0Q29udGV4dCA6IHBhdGNoLmRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIHBvc3RDb250ZXh0XSkpLCBlbXB0eSB8fCBwYXRjaGVzLnNwbGljZSgrK3gsIDAsIHBhdGNoKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGFwcGx5JDQocGF0Y2hlcywgb3JpZ2luYWxUZXh0KSB7XG4gIGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgaWYgKHR5cGVvZiBwYXRjaGVzID09IFwic3RyaW5nXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUGF0Y2hlcyBtdXN0IGJlIGFuIGFycmF5IC0gcGFzcyB0aGUgcGF0Y2ggdG8gYHBhcnNlUGF0Y2goKWAgZmlyc3RcIik7XG4gIGxldCB0ZXh0ID0gb3JpZ2luYWxUZXh0O1xuICBpZiAocGF0Y2hlcy5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuIFt0ZXh0LCBbXV07XG4gIGNvbnN0IHBhcnNlZCA9IGFkanVzdEluZGljaWVzVG9VY3MyKHBhdGNoZXMsIHRleHQsIHtcbiAgICBhbGxvd0V4Y2VlZGluZ0luZGljZXM6IG9wdHMuYWxsb3dFeGNlZWRpbmdJbmRpY2VzXG4gIH0pLCBtYXJnaW4gPSBvcHRzLm1hcmdpbiB8fCBERUZBVUxUX01BUkdJTiwgZGVsZXRlVGhyZXNob2xkID0gb3B0cy5kZWxldGVUaHJlc2hvbGQgfHwgMC40LCBudWxsUGFkZGluZyA9IGFkZFBhZGRpbmcocGFyc2VkLCBtYXJnaW4pO1xuICB0ZXh0ID0gbnVsbFBhZGRpbmcgKyB0ZXh0ICsgbnVsbFBhZGRpbmcsIHNwbGl0TWF4KHBhcnNlZCwgbWFyZ2luKTtcbiAgbGV0IGRlbHRhID0gMDtcbiAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICBmb3IgKGxldCB4ID0gMDsgeCA8IHBhcnNlZC5sZW5ndGg7IHgrKykge1xuICAgIGNvbnN0IGV4cGVjdGVkTG9jID0gcGFyc2VkW3hdLnN0YXJ0MiArIGRlbHRhLCB0ZXh0MSA9IGRpZmZUZXh0MShwYXJzZWRbeF0uZGlmZnMpO1xuICAgIGxldCBzdGFydExvYywgZW5kTG9jID0gLTE7XG4gICAgaWYgKHRleHQxLmxlbmd0aCA+IE1BWF9CSVRTID8gKHN0YXJ0TG9jID0gbWF0Y2godGV4dCwgdGV4dDEuc3Vic3RyaW5nKDAsIE1BWF9CSVRTKSwgZXhwZWN0ZWRMb2MpLCBzdGFydExvYyAhPT0gLTEgJiYgKGVuZExvYyA9IG1hdGNoKHRleHQsIHRleHQxLnN1YnN0cmluZyh0ZXh0MS5sZW5ndGggLSBNQVhfQklUUyksIGV4cGVjdGVkTG9jICsgdGV4dDEubGVuZ3RoIC0gTUFYX0JJVFMpLCAoZW5kTG9jID09PSAtMSB8fCBzdGFydExvYyA+PSBlbmRMb2MpICYmIChzdGFydExvYyA9IC0xKSkpIDogc3RhcnRMb2MgPSBtYXRjaCh0ZXh0LCB0ZXh0MSwgZXhwZWN0ZWRMb2MpLCBzdGFydExvYyA9PT0gLTEpXG4gICAgICByZXN1bHRzW3hdID0gITEsIGRlbHRhIC09IHBhcnNlZFt4XS5sZW5ndGgyIC0gcGFyc2VkW3hdLmxlbmd0aDE7XG4gICAgZWxzZSB7XG4gICAgICByZXN1bHRzW3hdID0gITAsIGRlbHRhID0gc3RhcnRMb2MgLSBleHBlY3RlZExvYztcbiAgICAgIGxldCB0ZXh0MjtcbiAgICAgIGlmIChlbmRMb2MgPT09IC0xID8gdGV4dDIgPSB0ZXh0LnN1YnN0cmluZyhzdGFydExvYywgc3RhcnRMb2MgKyB0ZXh0MS5sZW5ndGgpIDogdGV4dDIgPSB0ZXh0LnN1YnN0cmluZyhzdGFydExvYywgZW5kTG9jICsgTUFYX0JJVFMpLCB0ZXh0MSA9PT0gdGV4dDIpXG4gICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBzdGFydExvYykgKyBkaWZmVGV4dDIocGFyc2VkW3hdLmRpZmZzKSArIHRleHQuc3Vic3RyaW5nKHN0YXJ0TG9jICsgdGV4dDEubGVuZ3RoKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBsZXQgZGlmZnMgPSBkaWZmKHRleHQxLCB0ZXh0Miwge1xuICAgICAgICAgIGNoZWNrTGluZXM6ICExXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGV4dDEubGVuZ3RoID4gTUFYX0JJVFMgJiYgbGV2ZW5zaHRlaW4oZGlmZnMpIC8gdGV4dDEubGVuZ3RoID4gZGVsZXRlVGhyZXNob2xkKVxuICAgICAgICAgIHJlc3VsdHNbeF0gPSAhMTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlmZnMgPSBjbGVhbnVwU2VtYW50aWNMb3NzbGVzcyhkaWZmcyk7XG4gICAgICAgICAgbGV0IGluZGV4MSA9IDAsIGluZGV4MiA9IDA7XG4gICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBwYXJzZWRbeF0uZGlmZnMubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1vZCA9IHBhcnNlZFt4XS5kaWZmc1t5XTtcbiAgICAgICAgICAgIG1vZFswXSAhPT0gRElGRl9FUVVBTCAmJiAoaW5kZXgyID0geEluZGV4KGRpZmZzLCBpbmRleDEpKSwgbW9kWzBdID09PSBESUZGX0lOU0VSVCA/IHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBzdGFydExvYyArIGluZGV4MikgKyBtb2RbMV0gKyB0ZXh0LnN1YnN0cmluZyhzdGFydExvYyArIGluZGV4MikgOiBtb2RbMF0gPT09IERJRkZfREVMRVRFICYmICh0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgc3RhcnRMb2MgKyBpbmRleDIpICsgdGV4dC5zdWJzdHJpbmcoc3RhcnRMb2MgKyB4SW5kZXgoZGlmZnMsIGluZGV4MSArIG1vZFsxXS5sZW5ndGgpKSksIG1vZFswXSAhPT0gRElGRl9ERUxFVEUgJiYgKGluZGV4MSArPSBtb2RbMV0ubGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRleHQgPSB0ZXh0LnN1YnN0cmluZyhudWxsUGFkZGluZy5sZW5ndGgsIHRleHQubGVuZ3RoIC0gbnVsbFBhZGRpbmcubGVuZ3RoKSwgW3RleHQsIHJlc3VsdHNdO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5KHBhdGNoZXMpIHtcbiAgcmV0dXJuIHBhdGNoZXMubWFwKHN0cmluZ2lmeVBhdGNoKS5qb2luKFwiXCIpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5UGF0Y2gocGF0Y2gpIHtcbiAgY29uc3Qge1xuICAgIHV0ZjhMZW5ndGgxLFxuICAgIHV0ZjhMZW5ndGgyLFxuICAgIHV0ZjhTdGFydDEsXG4gICAgdXRmOFN0YXJ0MixcbiAgICBkaWZmc1xuICB9ID0gcGF0Y2g7XG4gIGxldCBjb29yZHMxO1xuICB1dGY4TGVuZ3RoMSA9PT0gMCA/IGNvb3JkczEgPSBcIlwiLmNvbmNhdCh1dGY4U3RhcnQxLCBcIiwwXCIpIDogdXRmOExlbmd0aDEgPT09IDEgPyBjb29yZHMxID0gXCJcIi5jb25jYXQodXRmOFN0YXJ0MSArIDEpIDogY29vcmRzMSA9IFwiXCIuY29uY2F0KHV0ZjhTdGFydDEgKyAxLCBcIixcIikuY29uY2F0KHV0ZjhMZW5ndGgxKTtcbiAgbGV0IGNvb3JkczI7XG4gIHV0ZjhMZW5ndGgyID09PSAwID8gY29vcmRzMiA9IFwiXCIuY29uY2F0KHV0ZjhTdGFydDIsIFwiLDBcIikgOiB1dGY4TGVuZ3RoMiA9PT0gMSA/IGNvb3JkczIgPSBcIlwiLmNvbmNhdCh1dGY4U3RhcnQyICsgMSkgOiBjb29yZHMyID0gXCJcIi5jb25jYXQodXRmOFN0YXJ0MiArIDEsIFwiLFwiKS5jb25jYXQodXRmOExlbmd0aDIpO1xuICBjb25zdCB0ZXh0ID0gW1wiQEAgLVwiLmNvbmNhdChjb29yZHMxLCBcIiArXCIpLmNvbmNhdChjb29yZHMyLCBgIEBAXG5gKV07XG4gIGxldCBvcDtcbiAgZm9yIChsZXQgeCA9IDA7IHggPCBkaWZmcy5sZW5ndGg7IHgrKykge1xuICAgIHN3aXRjaCAoZGlmZnNbeF1bMF0pIHtcbiAgICAgIGNhc2UgRElGRl9JTlNFUlQ6XG4gICAgICAgIG9wID0gXCIrXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0RFTEVURTpcbiAgICAgICAgb3AgPSBcIi1cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfRVFVQUw6XG4gICAgICAgIG9wID0gXCIgXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBwYXRjaCBvcGVyYXRpb24uXCIpO1xuICAgIH1cbiAgICB0ZXh0W3ggKyAxXSA9IFwiXCIuY29uY2F0KG9wICsgZW5jb2RlVVJJKGRpZmZzW3hdWzFdKSwgYFxuYCk7XG4gIH1cbiAgcmV0dXJuIHRleHQuam9pbihcIlwiKS5yZXBsYWNlKC8lMjAvZywgXCIgXCIpO1xufVxuY29uc3QgcGF0Y2hIZWFkZXIgPSAvXkBAIC0oXFxkKyksPyhcXGQqKSBcXCsoXFxkKyksPyhcXGQqKSBAQCQvO1xuZnVuY3Rpb24gcGFyc2UodGV4dGxpbmUpIHtcbiAgaWYgKCF0ZXh0bGluZSlcbiAgICByZXR1cm4gW107XG4gIGNvbnN0IHBhdGNoZXMgPSBbXSwgbGluZXMgPSB0ZXh0bGluZS5zcGxpdChgXG5gKTtcbiAgbGV0IHRleHRQb2ludGVyID0gMDtcbiAgZm9yICg7IHRleHRQb2ludGVyIDwgbGluZXMubGVuZ3RoOyApIHtcbiAgICBjb25zdCBtID0gbGluZXNbdGV4dFBvaW50ZXJdLm1hdGNoKHBhdGNoSGVhZGVyKTtcbiAgICBpZiAoIW0pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhdGNoIHN0cmluZzogXCIuY29uY2F0KGxpbmVzW3RleHRQb2ludGVyXSkpO1xuICAgIGNvbnN0IHBhdGNoID0gY3JlYXRlUGF0Y2hPYmplY3QodG9JbnQobVsxXSksIHRvSW50KG1bM10pKTtcbiAgICBmb3IgKHBhdGNoZXMucHVzaChwYXRjaCksIG1bMl0gPT09IFwiXCIgPyAocGF0Y2guc3RhcnQxLS0sIHBhdGNoLnV0ZjhTdGFydDEtLSwgcGF0Y2gubGVuZ3RoMSA9IDEsIHBhdGNoLnV0ZjhMZW5ndGgxID0gMSkgOiBtWzJdID09PSBcIjBcIiA/IChwYXRjaC5sZW5ndGgxID0gMCwgcGF0Y2gudXRmOExlbmd0aDEgPSAwKSA6IChwYXRjaC5zdGFydDEtLSwgcGF0Y2gudXRmOFN0YXJ0MS0tLCBwYXRjaC51dGY4TGVuZ3RoMSA9IHRvSW50KG1bMl0pLCBwYXRjaC5sZW5ndGgxID0gcGF0Y2gudXRmOExlbmd0aDEpLCBtWzRdID09PSBcIlwiID8gKHBhdGNoLnN0YXJ0Mi0tLCBwYXRjaC51dGY4U3RhcnQyLS0sIHBhdGNoLmxlbmd0aDIgPSAxLCBwYXRjaC51dGY4TGVuZ3RoMiA9IDEpIDogbVs0XSA9PT0gXCIwXCIgPyAocGF0Y2gubGVuZ3RoMiA9IDAsIHBhdGNoLnV0ZjhMZW5ndGgyID0gMCkgOiAocGF0Y2guc3RhcnQyLS0sIHBhdGNoLnV0ZjhTdGFydDItLSwgcGF0Y2gudXRmOExlbmd0aDIgPSB0b0ludChtWzRdKSwgcGF0Y2gubGVuZ3RoMiA9IHBhdGNoLnV0ZjhMZW5ndGgyKSwgdGV4dFBvaW50ZXIrKzsgdGV4dFBvaW50ZXIgPCBsaW5lcy5sZW5ndGg7ICkge1xuICAgICAgY29uc3QgY3VycmVudExpbmUgPSBsaW5lc1t0ZXh0UG9pbnRlcl0sIHNpZ24gPSBjdXJyZW50TGluZS5jaGFyQXQoMCk7XG4gICAgICBpZiAoc2lnbiA9PT0gXCJAXCIpXG4gICAgICAgIGJyZWFrO1xuICAgICAgaWYgKHNpZ24gPT09IFwiXCIpIHtcbiAgICAgICAgdGV4dFBvaW50ZXIrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBsZXQgbGluZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxpbmUgPSBkZWNvZGVVUkkoY3VycmVudExpbmUuc2xpY2UoMSkpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgZXNjYXBlIGluIHBhcnNlOiBcIi5jb25jYXQoY3VycmVudExpbmUpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHV0ZjhEaWZmID0gY291bnRVdGY4Qnl0ZXMobGluZSkgLSBsaW5lLmxlbmd0aDtcbiAgICAgIGlmIChzaWduID09PSBcIi1cIilcbiAgICAgICAgcGF0Y2guZGlmZnMucHVzaChbRElGRl9ERUxFVEUsIGxpbmVdKSwgcGF0Y2gubGVuZ3RoMSAtPSB1dGY4RGlmZjtcbiAgICAgIGVsc2UgaWYgKHNpZ24gPT09IFwiK1wiKVxuICAgICAgICBwYXRjaC5kaWZmcy5wdXNoKFtESUZGX0lOU0VSVCwgbGluZV0pLCBwYXRjaC5sZW5ndGgyIC09IHV0ZjhEaWZmO1xuICAgICAgZWxzZSBpZiAoc2lnbiA9PT0gXCIgXCIpXG4gICAgICAgIHBhdGNoLmRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIGxpbmVdKSwgcGF0Y2gubGVuZ3RoMSAtPSB1dGY4RGlmZiwgcGF0Y2gubGVuZ3RoMiAtPSB1dGY4RGlmZjtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBhdGNoIG1vZGUgXCInLmNvbmNhdChzaWduLCAnXCIgaW46ICcpLmNvbmNhdChsaW5lKSk7XG4gICAgICB0ZXh0UG9pbnRlcisrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGF0Y2hlcztcbn1cbmZ1bmN0aW9uIHRvSW50KG51bSkge1xuICByZXR1cm4gcGFyc2VJbnQobnVtLCAxMCk7XG59XG5mdW5jdGlvbiBzZXRJZk1pc3NpbmcodmFsdWUsIHBhdGggPSBbXSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwic2V0SWZNaXNzaW5nXCIsXG4gICAgcGF0aCxcbiAgICB2YWx1ZVxuICB9O1xufVxuZnVuY3Rpb24gZGlmZk1hdGNoUGF0Y2gkMShjdXJyZW50VmFsdWUsIG5leHRWYWx1ZSwgcGF0aCA9IFtdKSB7XG4gIGNvbnN0IHBhdGNoZXMgPSBtYWtlKGN1cnJlbnRWYWx1ZSwgbmV4dFZhbHVlKSwgcGF0Y2ggPSBzdHJpbmdpZnkocGF0Y2hlcyk7XG4gIHJldHVybiB7IHR5cGU6IFwiZGlmZk1hdGNoUGF0Y2hcIiwgcGF0aCwgdmFsdWU6IHBhdGNoIH07XG59XG5mdW5jdGlvbiBpbnNlcnQkMShpdGVtcywgcG9zaXRpb24sIHBhdGggPSBbXSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiaW5zZXJ0XCIsXG4gICAgcGF0aCxcbiAgICBwb3NpdGlvbixcbiAgICBpdGVtc1xuICB9O1xufVxuZnVuY3Rpb24gc2V0KHZhbHVlLCBwYXRoID0gW10pIHtcbiAgcmV0dXJuIHsgdHlwZTogXCJzZXRcIiwgcGF0aCwgdmFsdWUgfTtcbn1cbmZ1bmN0aW9uIHVuc2V0KHBhdGggPSBbXSkge1xuICByZXR1cm4geyB0eXBlOiBcInVuc2V0XCIsIHBhdGggfTtcbn1cbmNvbnN0IGRlYnVnJGogPSBkZWJ1Z1dpdGhOYW1lKFwib3BlcmF0aW9uVG9QYXRjaGVzXCIpO1xuZGVidWckai5lbmFibGVkID0gITE7XG5mdW5jdGlvbiBjcmVhdGVPcGVyYXRpb25Ub1BhdGNoZXModHlwZXMpIHtcbiAgY29uc3QgdGV4dEJsb2NrTmFtZSA9IHR5cGVzLmJsb2NrLm5hbWU7XG4gIGZ1bmN0aW9uIGluc2VydFRleHRQYXRjaChlZGl0b3IsIG9wZXJhdGlvbiwgYmVmb3JlVmFsdWUpIHtcbiAgICBkZWJ1ZyRqLmVuYWJsZWQgJiYgZGVidWckaihcIk9wZXJhdGlvblwiLCBKU09OLnN0cmluZ2lmeShvcGVyYXRpb24sIG51bGwsIDIpKTtcbiAgICBjb25zdCBibG9jayA9IGVkaXRvci5pc1RleHRCbG9jayhlZGl0b3IuY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMF1dKSAmJiBlZGl0b3IuY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMF1dO1xuICAgIGlmICghYmxvY2spXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBibG9ja1wiKTtcbiAgICBjb25zdCB0ZXh0Q2hpbGQgPSBlZGl0b3IuaXNUZXh0QmxvY2soYmxvY2spICYmIGVkaXRvci5pc1RleHRTcGFuKGJsb2NrLmNoaWxkcmVuW29wZXJhdGlvbi5wYXRoWzFdXSkgJiYgYmxvY2suY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMV1dO1xuICAgIGlmICghdGV4dENoaWxkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGZpbmQgY2hpbGRcIik7XG4gICAgY29uc3QgcGF0aCA9IFt7IF9rZXk6IGJsb2NrLl9rZXkgfSwgXCJjaGlsZHJlblwiLCB7IF9rZXk6IHRleHRDaGlsZC5fa2V5IH0sIFwidGV4dFwiXSwgcHJldkJsb2NrID0gYmVmb3JlVmFsdWVbb3BlcmF0aW9uLnBhdGhbMF1dLCBwcmV2Q2hpbGQgPSBlZGl0b3IuaXNUZXh0QmxvY2socHJldkJsb2NrKSAmJiBwcmV2QmxvY2suY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMV1dLCBwcmV2VGV4dCA9IGVkaXRvci5pc1RleHRTcGFuKHByZXZDaGlsZCkgPyBwcmV2Q2hpbGQudGV4dCA6IFwiXCIsIHBhdGNoID0gZGlmZk1hdGNoUGF0Y2gkMShwcmV2VGV4dCwgdGV4dENoaWxkLnRleHQsIHBhdGgpO1xuICAgIHJldHVybiBwYXRjaC52YWx1ZS5sZW5ndGggPyBbcGF0Y2hdIDogW107XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlVGV4dFBhdGNoKGVkaXRvciwgb3BlcmF0aW9uLCBiZWZvcmVWYWx1ZSkge1xuICAgIGNvbnN0IGJsb2NrID0gZWRpdG9yICYmIGVkaXRvci5jaGlsZHJlbltvcGVyYXRpb24ucGF0aFswXV07XG4gICAgaWYgKCFibG9jaylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIGJsb2NrXCIpO1xuICAgIGNvbnN0IGNoaWxkID0gZWRpdG9yLmlzVGV4dEJsb2NrKGJsb2NrKSAmJiBibG9jay5jaGlsZHJlbltvcGVyYXRpb24ucGF0aFsxXV0gfHwgdm9pZCAwLCB0ZXh0Q2hpbGQgPSBlZGl0b3IuaXNUZXh0U3BhbihjaGlsZCkgPyBjaGlsZCA6IHZvaWQgMDtcbiAgICBpZiAoY2hpbGQgJiYgIXRleHRDaGlsZClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIHNwYW5cIik7XG4gICAgaWYgKCF0ZXh0Q2hpbGQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBjaGlsZFwiKTtcbiAgICBjb25zdCBwYXRoID0gW3sgX2tleTogYmxvY2suX2tleSB9LCBcImNoaWxkcmVuXCIsIHsgX2tleTogdGV4dENoaWxkLl9rZXkgfSwgXCJ0ZXh0XCJdLCBiZWZvcmVCbG9jayA9IGJlZm9yZVZhbHVlW29wZXJhdGlvbi5wYXRoWzBdXSwgcHJldlRleHRDaGlsZCA9IGVkaXRvci5pc1RleHRCbG9jayhiZWZvcmVCbG9jaykgJiYgYmVmb3JlQmxvY2suY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMV1dLCBwcmV2VGV4dCA9IGVkaXRvci5pc1RleHRTcGFuKHByZXZUZXh0Q2hpbGQpICYmIHByZXZUZXh0Q2hpbGQudGV4dCwgcGF0Y2ggPSBkaWZmTWF0Y2hQYXRjaCQxKHByZXZUZXh0IHx8IFwiXCIsIHRleHRDaGlsZC50ZXh0LCBwYXRoKTtcbiAgICByZXR1cm4gcGF0Y2gudmFsdWUgPyBbcGF0Y2hdIDogW107XG4gIH1cbiAgZnVuY3Rpb24gc2V0Tm9kZVBhdGNoKGVkaXRvciwgb3BlcmF0aW9uKSB7XG4gICAgaWYgKG9wZXJhdGlvbi5wYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3QgYmxvY2sgPSBlZGl0b3IuY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMF1dO1xuICAgICAgaWYgKHR5cGVvZiBibG9jay5fa2V5ICE9IFwic3RyaW5nXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGJsb2NrIHRvIGhhdmUgYSBfa2V5XCIpO1xuICAgICAgY29uc3Qgc2V0Tm9kZSA9IG9taXRCeShcbiAgICAgICAgeyAuLi5lZGl0b3IuY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMF1dLCAuLi5vcGVyYXRpb24ubmV3UHJvcGVydGllcyB9LFxuICAgICAgICBpc1VuZGVmaW5lZFxuICAgICAgKTtcbiAgICAgIHJldHVybiBbc2V0KGZyb21TbGF0ZVZhbHVlKFtzZXROb2RlXSwgdGV4dEJsb2NrTmFtZSlbMF0sIFt7IF9rZXk6IGJsb2NrLl9rZXkgfV0pXTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbi5wYXRoLmxlbmd0aCA9PT0gMikge1xuICAgICAgY29uc3QgYmxvY2sgPSBlZGl0b3IuY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMF1dO1xuICAgICAgaWYgKGVkaXRvci5pc1RleHRCbG9jayhibG9jaykpIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBibG9jay5jaGlsZHJlbltvcGVyYXRpb24ucGF0aFsxXV07XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgIGNvbnN0IGJsb2NrS2V5ID0gYmxvY2suX2tleSwgY2hpbGRLZXkgPSBjaGlsZC5fa2V5LCBwYXRjaGVzID0gW10sIGtleXMgPSBPYmplY3Qua2V5cyhvcGVyYXRpb24ubmV3UHJvcGVydGllcyk7XG4gICAgICAgICAgcmV0dXJuIGtleXMuZm9yRWFjaCgoa2V5TmFtZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGtleXMubGVuZ3RoID09PSAxICYmIGtleU5hbWUgPT09IFwiX2tleVwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbCA9IGdldChvcGVyYXRpb24ubmV3UHJvcGVydGllcywga2V5TmFtZSk7XG4gICAgICAgICAgICAgIHBhdGNoZXMucHVzaChcbiAgICAgICAgICAgICAgICBzZXQodmFsLCBbeyBfa2V5OiBibG9ja0tleSB9LCBcImNoaWxkcmVuXCIsIGJsb2NrLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpLCBrZXlOYW1lXSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbCA9IGdldChvcGVyYXRpb24ubmV3UHJvcGVydGllcywga2V5TmFtZSk7XG4gICAgICAgICAgICAgIHBhdGNoZXMucHVzaChzZXQodmFsLCBbeyBfa2V5OiBibG9ja0tleSB9LCBcImNoaWxkcmVuXCIsIHsgX2tleTogY2hpbGRLZXkgfSwga2V5TmFtZV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSwgcGF0Y2hlcztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBhIHZhbGlkIGNoaWxkXCIpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGZpbmQgYSB2YWxpZCBibG9ja1wiKTtcbiAgICB9IGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBwYXRoIGVuY291bnRlcmVkOiAke0pTT04uc3RyaW5naWZ5KG9wZXJhdGlvbi5wYXRoKX1gKTtcbiAgfVxuICBmdW5jdGlvbiBpbnNlcnROb2RlUGF0Y2goZWRpdG9yLCBvcGVyYXRpb24sIGJlZm9yZVZhbHVlKSB7XG4gICAgY29uc3QgYmxvY2sgPSBiZWZvcmVWYWx1ZVtvcGVyYXRpb24ucGF0aFswXV0sIGlzVGV4dEJsb2NrID0gZWRpdG9yLmlzVGV4dEJsb2NrKGJsb2NrKTtcbiAgICBpZiAob3BlcmF0aW9uLnBhdGgubGVuZ3RoID09PSAxKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IG9wZXJhdGlvbi5wYXRoWzBdID09PSAwID8gXCJiZWZvcmVcIiA6IFwiYWZ0ZXJcIiwgYmVmb3JlQmxvY2sgPSBiZWZvcmVWYWx1ZVtvcGVyYXRpb24ucGF0aFswXSAtIDFdLCB0YXJnZXRLZXkgPSBvcGVyYXRpb24ucGF0aFswXSA9PT0gMCA/IGJsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5fa2V5IDogYmVmb3JlQmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJlZm9yZUJsb2NrLl9rZXk7XG4gICAgICByZXR1cm4gdGFyZ2V0S2V5ID8gW1xuICAgICAgICBpbnNlcnQkMShbZnJvbVNsYXRlVmFsdWUoW29wZXJhdGlvbi5ub2RlXSwgdGV4dEJsb2NrTmFtZSlbMF1dLCBwb3NpdGlvbiwgW1xuICAgICAgICAgIHsgX2tleTogdGFyZ2V0S2V5IH1cbiAgICAgICAgXSlcbiAgICAgIF0gOiBbXG4gICAgICAgIHNldElmTWlzc2luZyhiZWZvcmVWYWx1ZSwgW10pLFxuICAgICAgICBpbnNlcnQkMShbZnJvbVNsYXRlVmFsdWUoW29wZXJhdGlvbi5ub2RlXSwgdGV4dEJsb2NrTmFtZSlbMF1dLCBcImJlZm9yZVwiLCBbXG4gICAgICAgICAgb3BlcmF0aW9uLnBhdGhbMF1cbiAgICAgICAgXSlcbiAgICAgIF07XG4gICAgfSBlbHNlIGlmIChpc1RleHRCbG9jayAmJiBvcGVyYXRpb24ucGF0aC5sZW5ndGggPT09IDIgJiYgZWRpdG9yLmNoaWxkcmVuW29wZXJhdGlvbi5wYXRoWzBdXSkge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBibG9jay5jaGlsZHJlbi5sZW5ndGggPT09IDAgfHwgIWJsb2NrLmNoaWxkcmVuW29wZXJhdGlvbi5wYXRoWzFdIC0gMV0gPyBcImJlZm9yZVwiIDogXCJhZnRlclwiLCBub2RlID0geyAuLi5vcGVyYXRpb24ubm9kZSB9O1xuICAgICAgIW5vZGUuX3R5cGUgJiYgVGV4dC5pc1RleHQobm9kZSkgJiYgKG5vZGUuX3R5cGUgPSBcInNwYW5cIiwgbm9kZS5tYXJrcyA9IFtdKTtcbiAgICAgIGNvbnN0IGNoaWxkID0gZnJvbVNsYXRlVmFsdWUoXG4gICAgICAgIFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBfa2V5OiBcImJvZ3VzXCIsXG4gICAgICAgICAgICBfdHlwZTogdGV4dEJsb2NrTmFtZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbbm9kZV1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHRleHRCbG9ja05hbWVcbiAgICAgIClbMF0uY2hpbGRyZW5bMF07XG4gICAgICByZXR1cm4gW1xuICAgICAgICBpbnNlcnQkMShbY2hpbGRdLCBwb3NpdGlvbiwgW1xuICAgICAgICAgIHsgX2tleTogYmxvY2suX2tleSB9LFxuICAgICAgICAgIFwiY2hpbGRyZW5cIixcbiAgICAgICAgICBibG9jay5jaGlsZHJlbi5sZW5ndGggPD0gMSB8fCAhYmxvY2suY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMV0gLSAxXSA/IDAgOiB7IF9rZXk6IGJsb2NrLmNoaWxkcmVuW29wZXJhdGlvbi5wYXRoWzFdIC0gMV0uX2tleSB9XG4gICAgICAgIF0pXG4gICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gZGVidWckaihcIlNvbWV0aGluZyB3YXMgaW5zZXJ0ZWQgaW50byBhIHZvaWQgYmxvY2suIE5vdCBwcm9kdWNpbmcgZWRpdG9yIHBhdGNoZXMuXCIpLCBbXTtcbiAgfVxuICBmdW5jdGlvbiBzcGxpdE5vZGVQYXRjaChlZGl0b3IsIG9wZXJhdGlvbiwgYmVmb3JlVmFsdWUpIHtcbiAgICBjb25zdCBwYXRjaGVzID0gW10sIHNwbGl0QmxvY2sgPSBlZGl0b3IuY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMF1dO1xuICAgIGlmICghZWRpdG9yLmlzVGV4dEJsb2NrKHNwbGl0QmxvY2spKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQmxvY2sgd2l0aCBwYXRoICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgb3BlcmF0aW9uLnBhdGhbMF1cbiAgICAgICAgKX0gaXMgbm90IGEgdGV4dCBibG9jayBhbmQgY2FuJ3QgYmUgc3BsaXRgXG4gICAgICApO1xuICAgIGlmIChvcGVyYXRpb24ucGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IG9sZEJsb2NrID0gYmVmb3JlVmFsdWVbb3BlcmF0aW9uLnBhdGhbMF1dO1xuICAgICAgaWYgKGVkaXRvci5pc1RleHRCbG9jayhvbGRCbG9jaykpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSBmcm9tU2xhdGVWYWx1ZShcbiAgICAgICAgICBbZWRpdG9yLmNoaWxkcmVuW29wZXJhdGlvbi5wYXRoWzBdICsgMV1dLFxuICAgICAgICAgIHRleHRCbG9ja05hbWVcbiAgICAgICAgKVswXTtcbiAgICAgICAgdGFyZ2V0VmFsdWUgJiYgKHBhdGNoZXMucHVzaChpbnNlcnQkMShbdGFyZ2V0VmFsdWVdLCBcImFmdGVyXCIsIFt7IF9rZXk6IHNwbGl0QmxvY2suX2tleSB9XSkpLCBvbGRCbG9jay5jaGlsZHJlbi5zbGljZShvcGVyYXRpb24ucG9zaXRpb24pLmZvckVhY2goKHNwYW4pID0+IHtcbiAgICAgICAgICBjb25zdCBwYXRoID0gW3sgX2tleTogb2xkQmxvY2suX2tleSB9LCBcImNoaWxkcmVuXCIsIHsgX2tleTogc3Bhbi5fa2V5IH1dO1xuICAgICAgICAgIHBhdGNoZXMucHVzaCh1bnNldChwYXRoKSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXRjaGVzO1xuICAgIH1cbiAgICBpZiAob3BlcmF0aW9uLnBhdGgubGVuZ3RoID09PSAyKSB7XG4gICAgICBjb25zdCBzcGxpdFNwYW4gPSBzcGxpdEJsb2NrLmNoaWxkcmVuW29wZXJhdGlvbi5wYXRoWzFdXTtcbiAgICAgIGlmIChlZGl0b3IuaXNUZXh0U3BhbihzcGxpdFNwYW4pKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldFNwYW5zID0gZnJvbVNsYXRlVmFsdWUoXG4gICAgICAgICAgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAuLi5zcGxpdEJsb2NrLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogc3BsaXRCbG9jay5jaGlsZHJlbi5zbGljZShvcGVyYXRpb24ucGF0aFsxXSArIDEsIG9wZXJhdGlvbi5wYXRoWzFdICsgMilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIHRleHRCbG9ja05hbWVcbiAgICAgICAgKVswXS5jaGlsZHJlbjtcbiAgICAgICAgcGF0Y2hlcy5wdXNoKFxuICAgICAgICAgIGluc2VydCQxKHRhcmdldFNwYW5zLCBcImFmdGVyXCIsIFtcbiAgICAgICAgICAgIHsgX2tleTogc3BsaXRCbG9jay5fa2V5IH0sXG4gICAgICAgICAgICBcImNoaWxkcmVuXCIsXG4gICAgICAgICAgICB7IF9rZXk6IHNwbGl0U3Bhbi5fa2V5IH1cbiAgICAgICAgICBdKVxuICAgICAgICApLCBwYXRjaGVzLnB1c2goXG4gICAgICAgICAgc2V0KHNwbGl0U3Bhbi50ZXh0LCBbXG4gICAgICAgICAgICB7IF9rZXk6IHNwbGl0QmxvY2suX2tleSB9LFxuICAgICAgICAgICAgXCJjaGlsZHJlblwiLFxuICAgICAgICAgICAgeyBfa2V5OiBzcGxpdFNwYW4uX2tleSB9LFxuICAgICAgICAgICAgXCJ0ZXh0XCJcbiAgICAgICAgICBdKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhdGNoZXM7XG4gICAgfVxuICAgIHJldHVybiBwYXRjaGVzO1xuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZU5vZGVQYXRjaChlZGl0b3IsIG9wZXJhdGlvbiwgYmVmb3JlVmFsdWUpIHtcbiAgICBjb25zdCBibG9jayA9IGJlZm9yZVZhbHVlW29wZXJhdGlvbi5wYXRoWzBdXTtcbiAgICBpZiAob3BlcmF0aW9uLnBhdGgubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAoYmxvY2sgJiYgYmxvY2suX2tleSlcbiAgICAgICAgcmV0dXJuIFt1bnNldChbeyBfa2V5OiBibG9jay5fa2V5IH1dKV07XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCbG9jayBub3QgZm91bmRcIik7XG4gICAgfSBlbHNlIGlmIChlZGl0b3IuaXNUZXh0QmxvY2soYmxvY2spICYmIG9wZXJhdGlvbi5wYXRoLmxlbmd0aCA9PT0gMikge1xuICAgICAgY29uc3Qgc3BhblRvUmVtb3ZlID0gZWRpdG9yLmlzVGV4dEJsb2NrKGJsb2NrKSAmJiBibG9jay5jaGlsZHJlbiAmJiBibG9jay5jaGlsZHJlbltvcGVyYXRpb24ucGF0aFsxXV07XG4gICAgICByZXR1cm4gc3BhblRvUmVtb3ZlID8gW3Vuc2V0KFt7IF9rZXk6IGJsb2NrLl9rZXkgfSwgXCJjaGlsZHJlblwiLCB7IF9rZXk6IHNwYW5Ub1JlbW92ZS5fa2V5IH1dKV0gOiAoZGVidWckaihcIlNwYW4gbm90IGZvdW5kIGluIGVkaXRvciB0cnlpbmcgdG8gcmVtb3ZlIG5vZGVcIiksIFtdKTtcbiAgICB9IGVsc2VcbiAgICAgIHJldHVybiBkZWJ1ZyRqKFwiTm90IGNyZWF0aW5nIHBhdGNoIGluc2lkZSBvYmplY3QgYmxvY2tcIiksIFtdO1xuICB9XG4gIGZ1bmN0aW9uIG1lcmdlTm9kZVBhdGNoKGVkaXRvciwgb3BlcmF0aW9uLCBiZWZvcmVWYWx1ZSkge1xuICAgIGNvbnN0IHBhdGNoZXMgPSBbXSwgYmxvY2sgPSBiZWZvcmVWYWx1ZVtvcGVyYXRpb24ucGF0aFswXV0sIHRhcmdldEJsb2NrID0gZWRpdG9yLmNoaWxkcmVuW29wZXJhdGlvbi5wYXRoWzBdXTtcbiAgICBpZiAob3BlcmF0aW9uLnBhdGgubGVuZ3RoID09PSAxKVxuICAgICAgaWYgKGJsb2NrICE9IG51bGwgJiYgYmxvY2suX2tleSkge1xuICAgICAgICBjb25zdCBuZXdCbG9jayA9IGZyb21TbGF0ZVZhbHVlKFtlZGl0b3IuY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMF0gLSAxXV0sIHRleHRCbG9ja05hbWUpWzBdO1xuICAgICAgICBwYXRjaGVzLnB1c2goc2V0KG5ld0Jsb2NrLCBbeyBfa2V5OiBuZXdCbG9jay5fa2V5IH1dKSksIHBhdGNoZXMucHVzaCh1bnNldChbeyBfa2V5OiBibG9jay5fa2V5IH1dKSk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGFyZ2V0IGtleSBub3QgZm91bmQhXCIpO1xuICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5wYXRoLmxlbmd0aCA9PT0gMiAmJiBlZGl0b3IuaXNUZXh0QmxvY2sodGFyZ2V0QmxvY2spKSB7XG4gICAgICBjb25zdCBtZXJnZWRTcGFuID0gZWRpdG9yLmlzVGV4dEJsb2NrKGJsb2NrKSAmJiBibG9jay5jaGlsZHJlbltvcGVyYXRpb24ucGF0aFsxXV0gfHwgdm9pZCAwLCB0YXJnZXRTcGFuID0gdGFyZ2V0QmxvY2suY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMV0gLSAxXTtcbiAgICAgIGVkaXRvci5pc1RleHRTcGFuKHRhcmdldFNwYW4pICYmIChwYXRjaGVzLnB1c2goXG4gICAgICAgIHNldCh0YXJnZXRTcGFuLnRleHQsIFt7IF9rZXk6IGJsb2NrLl9rZXkgfSwgXCJjaGlsZHJlblwiLCB7IF9rZXk6IHRhcmdldFNwYW4uX2tleSB9LCBcInRleHRcIl0pXG4gICAgICApLCBtZXJnZWRTcGFuICYmIHBhdGNoZXMucHVzaCh1bnNldChbeyBfa2V5OiBibG9jay5fa2V5IH0sIFwiY2hpbGRyZW5cIiwgeyBfa2V5OiBtZXJnZWRTcGFuLl9rZXkgfV0pKSk7XG4gICAgfSBlbHNlXG4gICAgICBkZWJ1ZyRqKFwiVm9pZCBub2RlcyBjYW4ndCBiZSBtZXJnZWQsIG5vdCBjcmVhdGluZyBhbnkgcGF0Y2hlc1wiKTtcbiAgICByZXR1cm4gcGF0Y2hlcztcbiAgfVxuICBmdW5jdGlvbiBtb3ZlTm9kZVBhdGNoKGVkaXRvciwgb3BlcmF0aW9uLCBiZWZvcmVWYWx1ZSkge1xuICAgIGNvbnN0IHBhdGNoZXMgPSBbXSwgYmxvY2sgPSBiZWZvcmVWYWx1ZVtvcGVyYXRpb24ucGF0aFswXV0sIHRhcmdldEJsb2NrID0gYmVmb3JlVmFsdWVbb3BlcmF0aW9uLm5ld1BhdGhbMF1dO1xuICAgIGlmIChvcGVyYXRpb24ucGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gb3BlcmF0aW9uLnBhdGhbMF0gPiBvcGVyYXRpb24ubmV3UGF0aFswXSA/IFwiYmVmb3JlXCIgOiBcImFmdGVyXCI7XG4gICAgICBwYXRjaGVzLnB1c2godW5zZXQoW3sgX2tleTogYmxvY2suX2tleSB9XSkpLCBwYXRjaGVzLnB1c2goXG4gICAgICAgIGluc2VydCQxKFtmcm9tU2xhdGVWYWx1ZShbYmxvY2tdLCB0ZXh0QmxvY2tOYW1lKVswXV0sIHBvc2l0aW9uLCBbeyBfa2V5OiB0YXJnZXRCbG9jay5fa2V5IH1dKVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbi5wYXRoLmxlbmd0aCA9PT0gMiAmJiBlZGl0b3IuaXNUZXh0QmxvY2soYmxvY2spICYmIGVkaXRvci5pc1RleHRCbG9jayh0YXJnZXRCbG9jaykpIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gYmxvY2suY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMV1dLCB0YXJnZXRDaGlsZCA9IHRhcmdldEJsb2NrLmNoaWxkcmVuW29wZXJhdGlvbi5uZXdQYXRoWzFdXSwgcG9zaXRpb24gPSBvcGVyYXRpb24ubmV3UGF0aFsxXSA9PT0gdGFyZ2V0QmxvY2suY2hpbGRyZW4ubGVuZ3RoID8gXCJhZnRlclwiIDogXCJiZWZvcmVcIiwgY2hpbGRUb0luc2VydCA9IGZyb21TbGF0ZVZhbHVlKFtibG9ja10sIHRleHRCbG9ja05hbWUpWzBdLmNoaWxkcmVuW29wZXJhdGlvbi5wYXRoWzFdXTtcbiAgICAgIHBhdGNoZXMucHVzaCh1bnNldChbeyBfa2V5OiBibG9jay5fa2V5IH0sIFwiY2hpbGRyZW5cIiwgeyBfa2V5OiBjaGlsZC5fa2V5IH1dKSksIHBhdGNoZXMucHVzaChcbiAgICAgICAgaW5zZXJ0JDEoW2NoaWxkVG9JbnNlcnRdLCBwb3NpdGlvbiwgW1xuICAgICAgICAgIHsgX2tleTogdGFyZ2V0QmxvY2suX2tleSB9LFxuICAgICAgICAgIFwiY2hpbGRyZW5cIixcbiAgICAgICAgICB7IF9rZXk6IHRhcmdldENoaWxkLl9rZXkgfVxuICAgICAgICBdKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGNoZXM7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpbnNlcnROb2RlUGF0Y2gsXG4gICAgaW5zZXJ0VGV4dFBhdGNoLFxuICAgIG1lcmdlTm9kZVBhdGNoLFxuICAgIG1vdmVOb2RlUGF0Y2gsXG4gICAgcmVtb3ZlTm9kZVBhdGNoLFxuICAgIHJlbW92ZVRleHRQYXRjaCxcbiAgICBzZXROb2RlUGF0Y2gsXG4gICAgc3BsaXROb2RlUGF0Y2hcbiAgfTtcbn1cbmNvbnN0IGRlYnVnJGkgPSBkZWJ1Z1dpdGhOYW1lKFwiQVBJOmVkaXRhYmxlXCIpO1xuZnVuY3Rpb24gY3JlYXRlV2l0aEVkaXRhYmxlQVBJKHBvcnRhYmxlVGV4dEVkaXRvciwgdHlwZXMsIGtleUdlbmVyYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgcmV0dXJuIHBvcnRhYmxlVGV4dEVkaXRvci5zZXRFZGl0YWJsZSh7XG4gICAgICBmb2N1czogKCkgPT4ge1xuICAgICAgICBSZWFjdEVkaXRvci5mb2N1cyhlZGl0b3IpO1xuICAgICAgfSxcbiAgICAgIGJsdXI6ICgpID0+IHtcbiAgICAgICAgUmVhY3RFZGl0b3IuYmx1cihlZGl0b3IpO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZU1hcms6IChtYXJrKSA9PiB7XG4gICAgICAgIGVkaXRvci5wdGVUb2dnbGVNYXJrKG1hcmspO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZUxpc3Q6IChsaXN0U3R5bGUpID0+IHtcbiAgICAgICAgZWRpdG9yLnB0ZVRvZ2dsZUxpc3RJdGVtKGxpc3RTdHlsZSk7XG4gICAgICB9LFxuICAgICAgdG9nZ2xlQmxvY2tTdHlsZTogKGJsb2NrU3R5bGUpID0+IHtcbiAgICAgICAgZWRpdG9yLnB0ZVRvZ2dsZUJsb2NrU3R5bGUoYmxvY2tTdHlsZSk7XG4gICAgICB9LFxuICAgICAgaXNNYXJrQWN0aXZlOiAobWFyaykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBlZGl0b3IucHRlSXNNYXJrQWN0aXZlKG1hcmspO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS53YXJuKGVyciksICExO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbWFya3M6ICgpID0+ICh7XG4gICAgICAgIC4uLkVkaXRvci5tYXJrcyhlZGl0b3IpIHx8IHt9XG4gICAgICB9KS5tYXJrcyB8fCBbXSxcbiAgICAgIHVuZG86ICgpID0+IGVkaXRvci51bmRvKCksXG4gICAgICByZWRvOiAoKSA9PiBlZGl0b3IucmVkbygpLFxuICAgICAgc2VsZWN0OiAoc2VsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHNsYXRlU2VsZWN0aW9uID0gdG9TbGF0ZVJhbmdlKHNlbGVjdGlvbiwgZWRpdG9yKTtcbiAgICAgICAgc2xhdGVTZWxlY3Rpb24gPyBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHNsYXRlU2VsZWN0aW9uKSA6IFRyYW5zZm9ybXMuZGVzZWxlY3QoZWRpdG9yKSwgZWRpdG9yLm9uQ2hhbmdlKCk7XG4gICAgICB9LFxuICAgICAgZm9jdXNCbG9jazogKCkgPT4ge1xuICAgICAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbikge1xuICAgICAgICAgIGNvbnN0IGJsb2NrID0gTm9kZS5kZXNjZW5kYW50KGVkaXRvciwgZWRpdG9yLnNlbGVjdGlvbi5mb2N1cy5wYXRoLnNsaWNlKDAsIDEpKTtcbiAgICAgICAgICBpZiAoYmxvY2spXG4gICAgICAgICAgICByZXR1cm4gZnJvbVNsYXRlVmFsdWUoW2Jsb2NrXSwgdHlwZXMuYmxvY2submFtZSwgS0VZX1RPX1ZBTFVFX0VMRU1FTlQuZ2V0KGVkaXRvcikpWzBdO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZm9jdXNDaGlsZDogKCkgPT4ge1xuICAgICAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbikge1xuICAgICAgICAgIGNvbnN0IGJsb2NrID0gTm9kZS5kZXNjZW5kYW50KGVkaXRvciwgZWRpdG9yLnNlbGVjdGlvbi5mb2N1cy5wYXRoLnNsaWNlKDAsIDEpKTtcbiAgICAgICAgICBpZiAoYmxvY2sgJiYgZWRpdG9yLmlzVGV4dEJsb2NrKGJsb2NrKSlcbiAgICAgICAgICAgIHJldHVybiBmcm9tU2xhdGVWYWx1ZShcbiAgICAgICAgICAgICAgW2Jsb2NrXSxcbiAgICAgICAgICAgICAgdHlwZXMuYmxvY2submFtZSxcbiAgICAgICAgICAgICAgS0VZX1RPX1ZBTFVFX0VMRU1FTlQuZ2V0KGVkaXRvcilcbiAgICAgICAgICAgIClbMF0uY2hpbGRyZW5bZWRpdG9yLnNlbGVjdGlvbi5mb2N1cy5wYXRoWzFdXTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGluc2VydENoaWxkOiAodHlwZSwgdmFsdWUpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIWVkaXRvci5zZWxlY3Rpb24pXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGVkaXRvciBoYXMgbm8gc2VsZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBbZm9jdXNCbG9ja10gPSBBcnJheS5mcm9tKFxuICAgICAgICAgIEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgIGF0OiBlZGl0b3Iuc2VsZWN0aW9uLmZvY3VzLnBhdGguc2xpY2UoMCwgMSksXG4gICAgICAgICAgICBtYXRjaDogKG4pID0+IG4uX3R5cGUgPT09IHR5cGVzLmJsb2NrLm5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICApWzBdIHx8IFt2b2lkIDBdO1xuICAgICAgICBpZiAoIWZvY3VzQmxvY2spXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZm9jdXNlZCB0ZXh0IGJsb2NrXCIpO1xuICAgICAgICBpZiAodHlwZS5uYW1lICE9PSB0eXBlcy5zcGFuLm5hbWUgJiYgIXR5cGVzLmlubGluZU9iamVjdHMuc29tZSgodCkgPT4gdC5uYW1lID09PSB0eXBlLm5hbWUpKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgdHlwZSBjYW5ub3QgYmUgaW5zZXJ0ZWQgYXMgYSBjaGlsZCB0byBhIHRleHQgYmxvY2tcIik7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdG9TbGF0ZVZhbHVlKFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgX2tleToga2V5R2VuZXJhdG9yKCksXG4gICAgICAgICAgICAgIF90eXBlOiB0eXBlcy5ibG9jay5uYW1lLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIF9rZXk6IGtleUdlbmVyYXRvcigpLFxuICAgICAgICAgICAgICAgICAgX3R5cGU6IHR5cGUubmFtZSxcbiAgICAgICAgICAgICAgICAgIC4uLnZhbHVlIHx8IHt9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBwb3J0YWJsZVRleHRFZGl0b3JcbiAgICAgICAgKVswXS5jaGlsZHJlblswXSwgZm9jdXNDaGlsZFBhdGggPSBlZGl0b3Iuc2VsZWN0aW9uLmZvY3VzLnBhdGguc2xpY2UoMCwgMiksIGlzU3Bhbk5vZGUgPSBjaGlsZC5fdHlwZSA9PT0gdHlwZXMuc3Bhbi5uYW1lLCBmb2N1c05vZGUgPSBOb2RlLmdldChlZGl0b3IsIGZvY3VzQ2hpbGRQYXRoKTtcbiAgICAgICAgcmV0dXJuIGlzU3Bhbk5vZGUgJiYgZm9jdXNOb2RlLl90eXBlICE9PSB0eXBlcy5zcGFuLm5hbWUgJiYgKGRlYnVnJGkoXCJJbnNlcnRpbmcgc3BhbiBjaGlsZCBuZXh0IHRvIGlubGluZSBvYmplY3QgY2hpbGQsIG1vdmluZyBzZWxlY3Rpb24gKyAxXCIpLCBlZGl0b3IubW92ZSh7IGRpc3RhbmNlOiAxLCB1bml0OiBcImNoYXJhY3RlclwiIH0pKSwgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIGNoaWxkLCB7XG4gICAgICAgICAgc2VsZWN0OiAhMCxcbiAgICAgICAgICBhdDogZWRpdG9yLnNlbGVjdGlvblxuICAgICAgICB9KSwgZWRpdG9yLm9uQ2hhbmdlKCksICgoX2EgPSB0b1BvcnRhYmxlVGV4dFJhbmdlKFxuICAgICAgICAgIGZyb21TbGF0ZVZhbHVlKGVkaXRvci5jaGlsZHJlbiwgdHlwZXMuYmxvY2submFtZSwgS0VZX1RPX1ZBTFVFX0VMRU1FTlQuZ2V0KGVkaXRvcikpLFxuICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICAgICAgdHlwZXNcbiAgICAgICAgKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZvY3VzLnBhdGgpIHx8IFtdO1xuICAgICAgfSxcbiAgICAgIGluc2VydEJsb2NrOiAodHlwZSwgdmFsdWUpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIWVkaXRvci5zZWxlY3Rpb24pXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGVkaXRvciBoYXMgbm8gc2VsZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBibG9jayA9IHRvU2xhdGVWYWx1ZShcbiAgICAgICAgICBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIF9rZXk6IGtleUdlbmVyYXRvcigpLFxuICAgICAgICAgICAgICBfdHlwZTogdHlwZS5uYW1lLFxuICAgICAgICAgICAgICAuLi52YWx1ZSB8fCB7fVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgcG9ydGFibGVUZXh0RWRpdG9yXG4gICAgICAgIClbMF0sIFtmb2N1c0Jsb2NrXSA9IEFycmF5LmZyb20oXG4gICAgICAgICAgRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IGVkaXRvci5zZWxlY3Rpb24uZm9jdXMucGF0aC5zbGljZSgwLCAxKSxcbiAgICAgICAgICAgIG1hdGNoOiAobikgPT4gbi5fdHlwZSA9PT0gdHlwZXMuYmxvY2submFtZVxuICAgICAgICAgIH0pXG4gICAgICAgIClbMF0gfHwgW3ZvaWQgMF07XG4gICAgICAgIHJldHVybiBmb2N1c0Jsb2NrICYmIGlzRXF1YWxUb0VtcHR5RWRpdG9yKFtmb2N1c0Jsb2NrXSwgdHlwZXMpICYmIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBlZGl0b3Iuc2VsZWN0aW9uIH0pLCBFZGl0b3IuaW5zZXJ0Tm9kZShlZGl0b3IsIGJsb2NrKSwgZWRpdG9yLm9uQ2hhbmdlKCksICgoX2EgPSB0b1BvcnRhYmxlVGV4dFJhbmdlKFxuICAgICAgICAgIGZyb21TbGF0ZVZhbHVlKGVkaXRvci5jaGlsZHJlbiwgdHlwZXMuYmxvY2submFtZSwgS0VZX1RPX1ZBTFVFX0VMRU1FTlQuZ2V0KGVkaXRvcikpLFxuICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICAgICAgdHlwZXNcbiAgICAgICAgKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZvY3VzLnBhdGgpIHx8IFtdO1xuICAgICAgfSxcbiAgICAgIGhhc0Jsb2NrU3R5bGU6IChzdHlsZSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBlZGl0b3IucHRlSGFzQmxvY2tTdHlsZShzdHlsZSk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhhc0xpc3RTdHlsZTogKGxpc3RTdHlsZSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBlZGl0b3IucHRlSGFzTGlzdFN0eWxlKGxpc3RTdHlsZSk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGlzVm9pZDogKGVsZW1lbnQpID0+ICFbdHlwZXMuYmxvY2submFtZSwgdHlwZXMuc3Bhbi5uYW1lXS5pbmNsdWRlcyhlbGVtZW50Ll90eXBlKSxcbiAgICAgIGZpbmRCeVBhdGg6IChwYXRoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNsYXRlUGF0aCA9IHRvU2xhdGVSYW5nZShcbiAgICAgICAgICB7IGZvY3VzOiB7IHBhdGgsIG9mZnNldDogMCB9LCBhbmNob3I6IHsgcGF0aCwgb2Zmc2V0OiAwIH0gfSxcbiAgICAgICAgICBlZGl0b3JcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHNsYXRlUGF0aCkge1xuICAgICAgICAgIGNvbnN0IFtibG9jaywgYmxvY2tQYXRoXSA9IEVkaXRvci5ub2RlKGVkaXRvciwgc2xhdGVQYXRoLmZvY3VzLnBhdGguc2xpY2UoMCwgMSkpO1xuICAgICAgICAgIGlmIChibG9jayAmJiBibG9ja1BhdGggJiYgdHlwZW9mIGJsb2NrLl9rZXkgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAxICYmIHNsYXRlUGF0aC5mb2N1cy5wYXRoLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgcmV0dXJuIFtmcm9tU2xhdGVWYWx1ZShbYmxvY2tdLCB0eXBlcy5ibG9jay5uYW1lKVswXSwgW3sgX2tleTogYmxvY2suX2tleSB9XV07XG4gICAgICAgICAgICBjb25zdCBwdEJsb2NrID0gZnJvbVNsYXRlVmFsdWUoXG4gICAgICAgICAgICAgIFtibG9ja10sXG4gICAgICAgICAgICAgIHR5cGVzLmJsb2NrLm5hbWUsXG4gICAgICAgICAgICAgIEtFWV9UT19WQUxVRV9FTEVNRU5ULmdldChlZGl0b3IpXG4gICAgICAgICAgICApWzBdO1xuICAgICAgICAgICAgaWYgKGVkaXRvci5pc1RleHRCbG9jayhwdEJsb2NrKSkge1xuICAgICAgICAgICAgICBjb25zdCBwdENoaWxkID0gcHRCbG9jay5jaGlsZHJlbltzbGF0ZVBhdGguZm9jdXMucGF0aFsxXV07XG4gICAgICAgICAgICAgIGlmIChwdENoaWxkKVxuICAgICAgICAgICAgICAgIHJldHVybiBbcHRDaGlsZCwgW3sgX2tleTogYmxvY2suX2tleSB9LCBcImNoaWxkcmVuXCIsIHsgX2tleTogcHRDaGlsZC5fa2V5IH1dXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt2b2lkIDAsIHZvaWQgMF07XG4gICAgICB9LFxuICAgICAgZmluZERPTU5vZGU6IChlbGVtZW50KSA9PiB7XG4gICAgICAgIGxldCBub2RlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IFtpdGVtXSA9IEFycmF5LmZyb20oXG4gICAgICAgICAgICBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIGF0OiBbXSxcbiAgICAgICAgICAgICAgbWF0Y2g6IChuKSA9PiBuLl9rZXkgPT09IGVsZW1lbnQuX2tleVxuICAgICAgICAgICAgfSkgfHwgW11cbiAgICAgICAgICApWzBdIHx8IFt2b2lkIDBdO1xuICAgICAgICAgIG5vZGUgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBpdGVtKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9LFxuICAgICAgYWN0aXZlQW5ub3RhdGlvbnM6ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIWVkaXRvci5zZWxlY3Rpb24gfHwgZWRpdG9yLnNlbGVjdGlvbi5mb2N1cy5wYXRoLmxlbmd0aCA8IDIpXG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGFjdGl2ZUFubm90YXRpb25zID0gW10sIHNwYW5zID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICAgICAgICBtYXRjaDogKG5vZGUpID0+IFRleHQuaXNUZXh0KG5vZGUpICYmIG5vZGUubWFya3MgIT09IHZvaWQgMCAmJiBBcnJheS5pc0FycmF5KG5vZGUubWFya3MpICYmIG5vZGUubWFya3MubGVuZ3RoID4gMFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvciAoY29uc3QgW3NwYW4sIHBhdGhdIG9mIHNwYW5zKSB7XG4gICAgICAgICAgICBjb25zdCBbYmxvY2tdID0gRWRpdG9yLm5vZGUoZWRpdG9yLCBwYXRoLCB7IGRlcHRoOiAxIH0pO1xuICAgICAgICAgICAgZWRpdG9yLmlzVGV4dEJsb2NrKGJsb2NrKSAmJiAoKF9hID0gYmxvY2subWFya0RlZnMpID09IG51bGwgfHwgX2EuZm9yRWFjaCgoZGVmKSA9PiB7XG4gICAgICAgICAgICAgIFRleHQuaXNUZXh0KHNwYW4pICYmIHNwYW4ubWFya3MgJiYgQXJyYXkuaXNBcnJheShzcGFuLm1hcmtzKSAmJiBzcGFuLm1hcmtzLmluY2x1ZGVzKGRlZi5fa2V5KSAmJiBhY3RpdmVBbm5vdGF0aW9ucy5wdXNoKGRlZik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhY3RpdmVBbm5vdGF0aW9ucztcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaXNBbm5vdGF0aW9uQWN0aXZlOiAoYW5ub3RhdGlvblR5cGUpID0+IHtcbiAgICAgICAgaWYgKCFlZGl0b3Iuc2VsZWN0aW9uIHx8IGVkaXRvci5zZWxlY3Rpb24uZm9jdXMucGF0aC5sZW5ndGggPCAyKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBzcGFucyA9IFtcbiAgICAgICAgICAgIC4uLkVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICAgICAgICAgIG1hdGNoOiAobm9kZSkgPT4gVGV4dC5pc1RleHQobm9kZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgXTtcbiAgICAgICAgICBpZiAoc3BhbnMuc29tZShcbiAgICAgICAgICAgIChbc3Bhbl0pID0+IHtcbiAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICByZXR1cm4gIWlzUG9ydGFibGVUZXh0U3BhbihzcGFuKSB8fCAhc3Bhbi5tYXJrcyB8fCAoKF9hID0gc3Bhbi5tYXJrcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPT09IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSlcbiAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICBjb25zdCBzZWxlY3Rpb25NYXJrRGVmcyA9IHNwYW5zLnJlZHVjZSgoYWNjTWFya0RlZnMsIFssIHBhdGhdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbYmxvY2tdID0gRWRpdG9yLm5vZGUoZWRpdG9yLCBwYXRoLCB7IGRlcHRoOiAxIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGVkaXRvci5pc1RleHRCbG9jayhibG9jaykgJiYgYmxvY2subWFya0RlZnMgPyBbLi4uYWNjTWFya0RlZnMsIC4uLmJsb2NrLm1hcmtEZWZzXSA6IGFjY01hcmtEZWZzO1xuICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICByZXR1cm4gc3BhbnMuZXZlcnkoKFtzcGFuXSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFpc1BvcnRhYmxlVGV4dFNwYW4oc3BhbikpIHJldHVybiAhMTtcbiAgICAgICAgICAgIGNvbnN0IHNwYW5NYXJrRGVmcyA9IChfYSA9IHNwYW4ubWFya3MpID09IG51bGwgPyB2b2lkIDAgOiBfYS5tYXAoXG4gICAgICAgICAgICAgIChtYXJrS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9hMiA9IHNlbGVjdGlvbk1hcmtEZWZzLmZpbmQoKGRlZikgPT4gKGRlZiA9PSBudWxsID8gdm9pZCAwIDogZGVmLl9rZXkpID09PSBtYXJrS2V5KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5fdHlwZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBzcGFuTWFya0RlZnMgPT0gbnVsbCA/IHZvaWQgMCA6IHNwYW5NYXJrRGVmcy5pbmNsdWRlcyhhbm5vdGF0aW9uVHlwZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFkZEFubm90YXRpb246ICh0eXBlLCB2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCB7IHNlbGVjdGlvbjogb3JpZ2luYWxTZWxlY3Rpb24gfSA9IGVkaXRvcjtcbiAgICAgICAgbGV0IHJldHVyblZhbHVlO1xuICAgICAgICBpZiAob3JpZ2luYWxTZWxlY3Rpb24pIHtcbiAgICAgICAgICBjb25zdCBbYmxvY2tdID0gRWRpdG9yLm5vZGUoZWRpdG9yLCBvcmlnaW5hbFNlbGVjdGlvbi5mb2N1cywgeyBkZXB0aDogMSB9KTtcbiAgICAgICAgICBpZiAoIWVkaXRvci5pc1RleHRCbG9jayhibG9jaykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgUmFuZ2UuaXNDb2xsYXBzZWQob3JpZ2luYWxTZWxlY3Rpb24pICYmIChlZGl0b3IucHRlRXhwYW5kVG9Xb3JkKCksIGVkaXRvci5vbkNoYW5nZSgpKTtcbiAgICAgICAgICBjb25zdCBbdGV4dE5vZGVdID0gRWRpdG9yLm5vZGUoZWRpdG9yLCBvcmlnaW5hbFNlbGVjdGlvbi5mb2N1cywgeyBkZXB0aDogMiB9KTtcbiAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uICYmIChFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbktleSA9IGtleUdlbmVyYXRvcigpO1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZXROb2RlcyhcbiAgICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWFya0RlZnM6IFtcbiAgICAgICAgICAgICAgICAgIC4uLmJsb2NrLm1hcmtEZWZzIHx8IFtdLFxuICAgICAgICAgICAgICAgICAgeyBfdHlwZTogdHlwZS5uYW1lLCBfa2V5OiBhbm5vdGF0aW9uS2V5LCAuLi52YWx1ZSB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7IGF0OiBvcmlnaW5hbFNlbGVjdGlvbi5mb2N1cyB9XG4gICAgICAgICAgICApLCBlZGl0b3Iub25DaGFuZ2UoKSwgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHt9LCB7IG1hdGNoOiBUZXh0LmlzVGV4dCwgc3BsaXQ6ICEwIH0pLCBlZGl0b3Iub25DaGFuZ2UoKSwgZWRpdG9yLnNlbGVjdGlvbiAmJiBUZXh0LmlzVGV4dCh0ZXh0Tm9kZSkgJiYgVHJhbnNmb3Jtcy5zZXROb2RlcyhcbiAgICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWFya3M6IFsuLi50ZXh0Tm9kZS5tYXJrcyB8fCBbXSwgYW5ub3RhdGlvbktleV1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0OiBlZGl0b3Iuc2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIG1hdGNoOiAobikgPT4gbi5fdHlwZSA9PT0gdHlwZXMuc3Bhbi5uYW1lXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksIGVkaXRvci5vbkNoYW5nZSgpLCBlZGl0b3Iuc2VsZWN0aW9uICYmIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoXG4gICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgW3sgX3R5cGU6IFwic3BhblwiLCB0ZXh0OiBcIlwiLCBtYXJrczogW10sIF9rZXk6IGtleUdlbmVyYXRvcigpIH1dLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXQ6IFJhbmdlLmVuZChlZGl0b3Iuc2VsZWN0aW9uKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgbmV3UG9ydGFibGVUZXh0RWRpdG9yU2VsZWN0aW9uID0gdG9Qb3J0YWJsZVRleHRSYW5nZShcbiAgICAgICAgICAgICAgZnJvbVNsYXRlVmFsdWUoZWRpdG9yLmNoaWxkcmVuLCB0eXBlcy5ibG9jay5uYW1lLCBLRVlfVE9fVkFMVUVfRUxFTUVOVC5nZXQoZWRpdG9yKSksXG4gICAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICAgICAgICAgIHR5cGVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbmV3UG9ydGFibGVUZXh0RWRpdG9yU2VsZWN0aW9uICYmIChyZXR1cm5WYWx1ZSA9IHtcbiAgICAgICAgICAgICAgc3BhblBhdGg6IG5ld1BvcnRhYmxlVGV4dEVkaXRvclNlbGVjdGlvbi5mb2N1cy5wYXRoLFxuICAgICAgICAgICAgICBtYXJrRGVmUGF0aDogW3sgX2tleTogYmxvY2suX2tleSB9LCBcIm1hcmtEZWZzXCIsIHsgX2tleTogYW5ub3RhdGlvbktleSB9XVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSksIEVkaXRvci5ub3JtYWxpemUoZWRpdG9yKSwgZWRpdG9yLm9uQ2hhbmdlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgIH0sXG4gICAgICBkZWxldGU6IChzZWxlY3Rpb24sIG9wdGlvbnMpID0+IHtcbiAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgIGNvbnN0IHJhbmdlID0gdG9TbGF0ZVJhbmdlKHNlbGVjdGlvbiwgZWRpdG9yKTtcbiAgICAgICAgICBpZiAoIShyYW5nZSAmJiByYW5nZS5hbmNob3IucGF0aC5sZW5ndGggPiAwICYmIHJhbmdlLmZvY3VzLnBhdGgubGVuZ3RoID4gMCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJhbmdlXCIpO1xuICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgaWYgKCEob3B0aW9ucyAhPSBudWxsICYmIG9wdGlvbnMubW9kZSkgfHwgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubW9kZSkgPT09IFwic2VsZWN0ZWRcIikge1xuICAgICAgICAgICAgICBkZWJ1ZyRpKFwiRGVsZXRpbmcgY29udGVudCBpbiBzZWxlY3Rpb25cIiksIFRyYW5zZm9ybXMuZGVsZXRlKGVkaXRvciwge1xuICAgICAgICAgICAgICAgIGF0OiByYW5nZSxcbiAgICAgICAgICAgICAgICBoYW5naW5nOiAhMCxcbiAgICAgICAgICAgICAgICB2b2lkczogITBcbiAgICAgICAgICAgICAgfSksIGVkaXRvci5vbkNoYW5nZSgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RlKSA9PT0gXCJibG9ja3NcIiAmJiAoZGVidWckaShcIkRlbGV0aW5nIGJsb2NrcyB0b3VjaGVkIGJ5IHNlbGVjdGlvblwiKSwgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IHJhbmdlLFxuICAgICAgICAgICAgICB2b2lkczogITAsXG4gICAgICAgICAgICAgIG1hdGNoOiAobm9kZSkgPT4gZWRpdG9yLmlzVGV4dEJsb2NrKG5vZGUpIHx8ICFlZGl0b3IuaXNUZXh0QmxvY2sobm9kZSkgJiYgRWxlbWVudCQxLmlzRWxlbWVudChub2RlKVxuICAgICAgICAgICAgfSkpLCAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RlKSA9PT0gXCJjaGlsZHJlblwiICYmIChkZWJ1ZyRpKFwiRGVsZXRpbmcgY2hpbGRyZW4gdG91Y2hlZCBieSBzZWxlY3Rpb25cIiksIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIGF0OiByYW5nZSxcbiAgICAgICAgICAgICAgdm9pZHM6ICEwLFxuICAgICAgICAgICAgICBtYXRjaDogKG5vZGUpID0+IG5vZGUuX3R5cGUgPT09IHR5cGVzLnNwYW4ubmFtZSB8fCAvLyBUZXh0IGNoaWxkcmVuXG4gICAgICAgICAgICAgICFlZGl0b3IuaXNUZXh0QmxvY2sobm9kZSkgJiYgRWxlbWVudCQxLmlzRWxlbWVudChub2RlKVxuICAgICAgICAgICAgfSkpLCBlZGl0b3IuY2hpbGRyZW4ubGVuZ3RoID09PSAwICYmIChlZGl0b3IuY2hpbGRyZW4gPSBbZWRpdG9yLnB0ZUNyZWF0ZUVtcHR5QmxvY2soKV0pLCBlZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZW1vdmVBbm5vdGF0aW9uOiAodHlwZSkgPT4ge1xuICAgICAgICBsZXQgeyBzZWxlY3Rpb24gfSA9IGVkaXRvcjtcbiAgICAgICAgaWYgKGRlYnVnJGkoXCJSZW1vdmluZyBhbm5vdGF0aW9uXCIsIHR5cGUpLCBzZWxlY3Rpb24pIHtcbiAgICAgICAgICBpZiAoUmFuZ2UuaXNDb2xsYXBzZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgY29uc3QgW25vZGUsIG5vZGVQYXRoXSA9IEVkaXRvci5ub2RlKGVkaXRvciwgc2VsZWN0aW9uLCB7IGRlcHRoOiAyIH0pO1xuICAgICAgICAgICAgVGV4dC5pc1RleHQobm9kZSkgJiYgbm9kZS5tYXJrcyAmJiB0eXBlb2Ygbm9kZS50ZXh0ID09IFwic3RyaW5nXCIgJiYgKFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgbm9kZVBhdGgpLCBzZWxlY3Rpb24gPSBlZGl0b3Iuc2VsZWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb24gJiYgUmFuZ2UuaXNFeHBhbmRlZChzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICAgIGlmIChzZWxlY3Rpb24gPSBlZGl0b3Iuc2VsZWN0aW9uLCAhc2VsZWN0aW9uKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIC4uLkVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICAgIGF0OiBzZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICBtYXRjaDogKG5vZGUpID0+IGVkaXRvci5pc1RleHRCbG9jayhub2RlKSAmJiBBcnJheS5pc0FycmF5KG5vZGUubWFya0RlZnMpICYmIG5vZGUubWFya0RlZnMuc29tZSgoZGVmKSA9PiBkZWYuX3R5cGUgPT09IHR5cGUubmFtZSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBdLmZvckVhY2goKFtibG9ja10pID0+IHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuaXNUZXh0QmxvY2soYmxvY2spICYmIEFycmF5LmlzQXJyYXkoYmxvY2subWFya0RlZnMpICYmIGJsb2NrLm1hcmtEZWZzLmZpbHRlcigoZGVmKSA9PiBkZWYuX3R5cGUgPT09IHR5cGUubmFtZSkuZm9yRWFjaCgoZGVmKSA9PiB7XG4gICAgICAgICAgICAgICAgICBFZGl0b3IucmVtb3ZlTWFyayhlZGl0b3IsIGRlZi5fa2V5KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSksIEVkaXRvci5ub3JtYWxpemUoZWRpdG9yKSwgZWRpdG9yLm9uQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXRTZWxlY3Rpb246ICgpID0+IHtcbiAgICAgICAgbGV0IHB0UmFuZ2UgPSBudWxsO1xuICAgICAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbikge1xuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gU0xBVEVfVE9fUE9SVEFCTEVfVEVYVF9SQU5HRS5nZXQoZWRpdG9yLnNlbGVjdGlvbik7XG4gICAgICAgICAgaWYgKGV4aXN0aW5nKVxuICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgICAgICAgIHB0UmFuZ2UgPSB0b1BvcnRhYmxlVGV4dFJhbmdlKFxuICAgICAgICAgICAgZnJvbVNsYXRlVmFsdWUoZWRpdG9yLmNoaWxkcmVuLCB0eXBlcy5ibG9jay5uYW1lLCBLRVlfVE9fVkFMVUVfRUxFTUVOVC5nZXQoZWRpdG9yKSksXG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLFxuICAgICAgICAgICAgdHlwZXNcbiAgICAgICAgICApLCBTTEFURV9UT19QT1JUQUJMRV9URVhUX1JBTkdFLnNldChlZGl0b3Iuc2VsZWN0aW9uLCBwdFJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHRSYW5nZTtcbiAgICAgIH0sXG4gICAgICBnZXRWYWx1ZTogKCkgPT4gZnJvbVNsYXRlVmFsdWUoZWRpdG9yLmNoaWxkcmVuLCB0eXBlcy5ibG9jay5uYW1lLCBLRVlfVE9fVkFMVUVfRUxFTUVOVC5nZXQoZWRpdG9yKSksXG4gICAgICBpc0NvbGxhcHNlZFNlbGVjdGlvbjogKCkgPT4gISFlZGl0b3Iuc2VsZWN0aW9uICYmIFJhbmdlLmlzQ29sbGFwc2VkKGVkaXRvci5zZWxlY3Rpb24pLFxuICAgICAgaXNFeHBhbmRlZFNlbGVjdGlvbjogKCkgPT4gISFlZGl0b3Iuc2VsZWN0aW9uICYmIFJhbmdlLmlzRXhwYW5kZWQoZWRpdG9yLnNlbGVjdGlvbiksXG4gICAgICBpbnNlcnRCcmVhazogKCkgPT4ge1xuICAgICAgICBlZGl0b3IuaW5zZXJ0QnJlYWsoKSwgZWRpdG9yLm9uQ2hhbmdlKCk7XG4gICAgICB9LFxuICAgICAgZ2V0RnJhZ21lbnQ6ICgpID0+IGZyb21TbGF0ZVZhbHVlKGVkaXRvci5nZXRGcmFnbWVudCgpLCB0eXBlcy5ibG9jay5uYW1lKSxcbiAgICAgIGlzU2VsZWN0aW9uc092ZXJsYXBwaW5nOiAoc2VsZWN0aW9uQSwgc2VsZWN0aW9uQikgPT4ge1xuICAgICAgICBjb25zdCByYW5nZUEgPSB0b1NsYXRlUmFuZ2Uoc2VsZWN0aW9uQSwgZWRpdG9yKSwgcmFuZ2VCID0gdG9TbGF0ZVJhbmdlKHNlbGVjdGlvbkIsIGVkaXRvcik7XG4gICAgICAgIHJldHVybiBSYW5nZS5pc1JhbmdlKHJhbmdlQSkgJiYgUmFuZ2UuaXNSYW5nZShyYW5nZUIpICYmIFJhbmdlLmluY2x1ZGVzKHJhbmdlQSwgcmFuZ2VCKTtcbiAgICAgIH1cbiAgICB9KSwgZWRpdG9yO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlV2l0aEluc2VydEJyZWFrKHR5cGVzKSB7XG4gIHJldHVybiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICBjb25zdCB7IGluc2VydEJyZWFrIH0gPSBlZGl0b3I7XG4gICAgcmV0dXJuIGVkaXRvci5pbnNlcnRCcmVhayA9ICgpID0+IHtcbiAgICAgIGlmIChlZGl0b3Iuc2VsZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGZvY3VzQmxvY2tQYXRoID0gZWRpdG9yLnNlbGVjdGlvbi5mb2N1cy5wYXRoLnNsaWNlKDAsIDEpLCBmb2N1c0Jsb2NrID0gTm9kZS5kZXNjZW5kYW50KGVkaXRvciwgZm9jdXNCbG9ja1BhdGgpO1xuICAgICAgICBpZiAoZWRpdG9yLmlzVGV4dEJsb2NrKGZvY3VzQmxvY2spKSB7XG4gICAgICAgICAgY29uc3QgWywgZW5kXSA9IFJhbmdlLmVkZ2VzKGVkaXRvci5zZWxlY3Rpb24pLCBpc0VuZEF0U3RhcnRPZk5vZGUgPSBFZGl0b3IuaXNTdGFydChlZGl0b3IsIGVuZCwgZW5kLnBhdGgpLCBpc0VtcHR5VGV4dEJsb2NrID0gZm9jdXNCbG9jayAmJiBpc0VxdWFsVG9FbXB0eUVkaXRvcihbZm9jdXNCbG9ja10sIHR5cGVzKTtcbiAgICAgICAgICBpZiAoaXNFbmRBdFN0YXJ0T2ZOb2RlICYmICFpc0VtcHR5VGV4dEJsb2NrKSB7XG4gICAgICAgICAgICBFZGl0b3IuaW5zZXJ0Tm9kZShlZGl0b3IsIGVkaXRvci5wdGVDcmVhdGVFbXB0eUJsb2NrKCkpO1xuICAgICAgICAgICAgY29uc3QgW25leHRCbG9ja1BhdGhdID0gUGF0aC5uZXh0KGZvY3VzQmxvY2tQYXRoKTtcbiAgICAgICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwge1xuICAgICAgICAgICAgICBhbmNob3I6IHsgcGF0aDogW25leHRCbG9ja1BhdGgsIDBdLCBvZmZzZXQ6IDAgfSxcbiAgICAgICAgICAgICAgZm9jdXM6IHsgcGF0aDogW25leHRCbG9ja1BhdGgsIDBdLCBvZmZzZXQ6IDAgfVxuICAgICAgICAgICAgfSksIGVkaXRvci5vbkNoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaW5zZXJ0QnJlYWsoKTtcbiAgICB9LCBlZGl0b3I7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVXaXRoTWF4QmxvY2tzKG1heEJsb2Nrcykge1xuICByZXR1cm4gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgY29uc3QgeyBhcHBseTogYXBwbHkyIH0gPSBlZGl0b3I7XG4gICAgcmV0dXJuIGVkaXRvci5hcHBseSA9IChvcGVyYXRpb24pID0+IHtcbiAgICAgIGNvbnN0IHJvd3MgPSBtYXhCbG9ja3M7XG4gICAgICByb3dzID4gMCAmJiBlZGl0b3IuY2hpbGRyZW4ubGVuZ3RoID49IHJvd3MgJiYgKG9wZXJhdGlvbi50eXBlID09PSBcImluc2VydF9ub2RlXCIgfHwgb3BlcmF0aW9uLnR5cGUgPT09IFwic3BsaXRfbm9kZVwiKSAmJiBvcGVyYXRpb24ucGF0aC5sZW5ndGggPT09IDEgfHwgYXBwbHkyKG9wZXJhdGlvbik7XG4gICAgfSwgZWRpdG9yO1xuICB9O1xufVxuY29uc3QgUFJFU0VSVkVfS0VZUyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gd2l0aFByZXNlcnZlS2V5cyhlZGl0b3IsIGZuKSB7XG4gIGNvbnN0IHByZXYgPSBpc1ByZXNlcnZpbmdLZXlzKGVkaXRvcik7XG4gIFBSRVNFUlZFX0tFWVMuc2V0KGVkaXRvciwgITApLCBmbigpLCBQUkVTRVJWRV9LRVlTLnNldChlZGl0b3IsIHByZXYpO1xufVxuZnVuY3Rpb24gaXNQcmVzZXJ2aW5nS2V5cyhlZGl0b3IpIHtcbiAgcmV0dXJuIFBSRVNFUlZFX0tFWVMuZ2V0KGVkaXRvcik7XG59XG5mdW5jdGlvbiBjcmVhdGVXaXRoT2JqZWN0S2V5cyhzY2hlbWFUeXBlcywga2V5R2VuZXJhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICBQUkVTRVJWRV9LRVlTLnNldChlZGl0b3IsICExKTtcbiAgICBjb25zdCB7IGFwcGx5OiBhcHBseTIsIG5vcm1hbGl6ZU5vZGUgfSA9IGVkaXRvcjtcbiAgICByZXR1cm4gZWRpdG9yLmFwcGx5ID0gKG9wZXJhdGlvbikgPT4ge1xuICAgICAgaWYgKG9wZXJhdGlvbi50eXBlID09PSBcInNwbGl0X25vZGVcIikge1xuICAgICAgICBjb25zdCB3aXRoTmV3S2V5ID0gIWlzUHJlc2VydmluZ0tleXMoZWRpdG9yKSB8fCAhKFwiX2tleVwiIGluIG9wZXJhdGlvbi5wcm9wZXJ0aWVzKTtcbiAgICAgICAgb3BlcmF0aW9uLnByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgLi4ub3BlcmF0aW9uLnByb3BlcnRpZXMsXG4gICAgICAgICAgLi4ud2l0aE5ld0tleSA/IHsgX2tleToga2V5R2VuZXJhdG9yKCkgfSA6IHt9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAob3BlcmF0aW9uLnR5cGUgPT09IFwiaW5zZXJ0X25vZGVcIikge1xuICAgICAgICBjb25zdCB3aXRoTmV3S2V5ID0gIWlzUHJlc2VydmluZ0tleXMoZWRpdG9yKSB8fCAhKFwiX2tleVwiIGluIG9wZXJhdGlvbi5ub2RlKTtcbiAgICAgICAgRWRpdG9yLmlzRWRpdG9yKG9wZXJhdGlvbi5ub2RlKSB8fCAob3BlcmF0aW9uLm5vZGUgPSB7XG4gICAgICAgICAgLi4ub3BlcmF0aW9uLm5vZGUsXG4gICAgICAgICAgLi4ud2l0aE5ld0tleSA/IHsgX2tleToga2V5R2VuZXJhdG9yKCkgfSA6IHt9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYXBwbHkyKG9wZXJhdGlvbik7XG4gICAgfSwgZWRpdG9yLm5vcm1hbGl6ZU5vZGUgPSAoZW50cnkpID0+IHtcbiAgICAgIGNvbnN0IFtub2RlLCBwYXRoXSA9IGVudHJ5O1xuICAgICAgaWYgKEVsZW1lbnQkMS5pc0VsZW1lbnQobm9kZSkgJiYgbm9kZS5fdHlwZSA9PT0gc2NoZW1hVHlwZXMuYmxvY2submFtZSkge1xuICAgICAgICBub2RlLl9rZXkgfHwgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHsgX2tleToga2V5R2VuZXJhdG9yKCkgfSwgeyBhdDogcGF0aCB9KTtcbiAgICAgICAgZm9yIChjb25zdCBbY2hpbGQsIGNoaWxkUGF0aF0gb2YgTm9kZS5jaGlsZHJlbihlZGl0b3IsIHBhdGgpKVxuICAgICAgICAgIGlmICghY2hpbGQuX2tleSkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHsgX2tleToga2V5R2VuZXJhdG9yKCkgfSwgeyBhdDogY2hpbGRQYXRoIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vcm1hbGl6ZU5vZGUoZW50cnkpO1xuICAgIH0sIGVkaXRvcjtcbiAgfTtcbn1cbmNvbnN0IEJFRk9SRSA9IFwiYmVmb3JlXCIsIEFGVEVSID0gXCJhZnRlclwiO1xuZnVuY3Rpb24gaW5zZXJ0KGFycmF5LCBwb3NpdGlvbiwgaW5kZXgsIC4uLmFyZ3MpIHtcbiAgaWYgKHBvc2l0aW9uICE9PSBCRUZPUkUgJiYgcG9zaXRpb24gIT09IEFGVEVSKVxuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwb3NpdGlvbiBcIiR7cG9zaXRpb259XCIsIG11c3QgYmUgZWl0aGVyICR7QkVGT1JFfSBvciAke0FGVEVSfWApO1xuICBjb25zdCBpdGVtcyA9IGZsYXR0ZW4oLi4uYXJncyk7XG4gIGlmIChhcnJheS5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuIGl0ZW1zO1xuICBjb25zdCBsZW4gPSBhcnJheS5sZW5ndGgsIGlkeCA9IE1hdGguYWJzKChsZW4gKyBpbmRleCkgJSBsZW4pICUgbGVuLCBub3JtYWxpemVkSWR4ID0gcG9zaXRpb24gPT09IFwiYWZ0ZXJcIiA/IGlkeCArIDEgOiBpZHgsIGNvcHkgPSBhcnJheS5zbGljZSgpO1xuICByZXR1cm4gY29weS5zcGxpY2Uobm9ybWFsaXplZElkeCwgMCwgLi4uZmxhdHRlbihpdGVtcykpLCBjb3B5O1xufVxuZnVuY3Rpb24gZmxhdHRlbiguLi52YWx1ZXMpIHtcbiAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoKHByZXYsIGl0ZW0pID0+IHByZXYuY29uY2F0KGl0ZW0pLCBbXSk7XG59XG5jb25zdCBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwuYmluZChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KTtcbmZ1bmN0aW9uIG1vdmUoYXJyLCBmcm9tLCB0bykge1xuICBjb25zdCBuZXh0VmFsdWUgPSBhcnIuc2xpY2UoKSwgdmFsID0gbmV4dFZhbHVlW2Zyb21dO1xuICByZXR1cm4gbmV4dFZhbHVlLnNwbGljZShmcm9tLCAxKSwgbmV4dFZhbHVlLnNwbGljZSh0bywgMCwgdmFsKSwgbmV4dFZhbHVlO1xufVxuZnVuY3Rpb24gZmluZFRhcmdldEluZGV4KGFycmF5LCBwYXRoU2VnbWVudCkge1xuICBpZiAodHlwZW9mIHBhdGhTZWdtZW50ID09IFwibnVtYmVyXCIpXG4gICAgcmV0dXJuIHBhdGhTZWdtZW50O1xuICBjb25zdCBpbmRleCA9IGZpbmRJbmRleChhcnJheSwgcGF0aFNlZ21lbnQpO1xuICByZXR1cm4gaW5kZXggPT09IC0xID8gITEgOiBpbmRleDtcbn1cbmZ1bmN0aW9uIGFwcGx5JDModmFsdWUsIHBhdGNoKSB7XG4gIGNvbnN0IG5leHRWYWx1ZSA9IHZhbHVlLnNsaWNlKCk7XG4gIGlmIChwYXRjaC5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChwYXRjaC50eXBlID09PSBcInNldElmTWlzc2luZ1wiKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGF0Y2gudmFsdWUpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2V0IHZhbHVlIG9mIGFuIGFycmF5IHRvIGEgbm9uLWFycmF5XCIpO1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB2b2lkIDAgPyBwYXRjaC52YWx1ZSA6IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAocGF0Y2gudHlwZSA9PT0gXCJzZXRcIikge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHBhdGNoLnZhbHVlKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCB2YWx1ZSBvZiBhbiBhcnJheSB0byBhIG5vbi1hcnJheVwiKTtcbiAgICAgIHJldHVybiBwYXRjaC52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhdGNoLnR5cGUgPT09IFwidW5zZXRcIilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKHBhdGNoLnR5cGUgPT09IFwibW92ZVwiKSB7XG4gICAgICAgIGlmICghcGF0Y2gudmFsdWUgfHwgIWhhc093bihwYXRjaC52YWx1ZSwgXCJmcm9tXCIpIHx8ICFoYXNPd24ocGF0Y2gudmFsdWUsIFwidG9cIikpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYEludmFsaWQgdmFsdWUgb2YgJ21vdmUnIHBhdGNoLiBFeHBlY3RlZCBhIHZhbHVlIHdpdGggXCJmcm9tXCIgYW5kIFwidG9cIiBpbmRleGVzLCBpbnN0ZWFkIGdvdDogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgcGF0Y2gudmFsdWVcbiAgICAgICAgICAgICl9YFxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiBtb3ZlKG5leHRWYWx1ZSwgcGF0Y2gudmFsdWUuZnJvbSwgcGF0Y2gudmFsdWUudG8pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXJyYXkgb3BlcmF0aW9uOiAke3BhdGNoLnR5cGV9YCk7XG4gIH1cbiAgY29uc3QgW2hlYWQsIC4uLnRhaWxdID0gcGF0Y2gucGF0aCwgaW5kZXggPSBmaW5kVGFyZ2V0SW5kZXgodmFsdWUsIGhlYWQpO1xuICBpZiAoaW5kZXggPT09ICExKVxuICAgIHJldHVybiBuZXh0VmFsdWU7XG4gIGlmICh0YWlsLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChwYXRjaC50eXBlID09PSBcImluc2VydFwiKSB7XG4gICAgICBjb25zdCB7IHBvc2l0aW9uLCBpdGVtcyB9ID0gcGF0Y2g7XG4gICAgICByZXR1cm4gaW5zZXJ0KHZhbHVlLCBwb3NpdGlvbiwgaW5kZXgsIGl0ZW1zKTtcbiAgICB9IGVsc2UgaWYgKHBhdGNoLnR5cGUgPT09IFwidW5zZXRcIikge1xuICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPSBcIm51bWJlclwiKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGFycmF5IGluZGV4IHRvIGJlIGEgbnVtYmVyLCBpbnN0ZWFkIGdvdCBcIiR7aW5kZXh9XCJgKTtcbiAgICAgIHJldHVybiBuZXh0VmFsdWUuc3BsaWNlKGluZGV4LCAxKSwgbmV4dFZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV4dFZhbHVlW2luZGV4XSA9IF9hcHBseShuZXh0VmFsdWVbaW5kZXhdLCB7XG4gICAgLi4ucGF0Y2gsXG4gICAgcGF0aDogdGFpbFxuICB9KSwgbmV4dFZhbHVlO1xufVxuZnVuY3Rpb24gYXBwbHkkMih2YWx1ZSwgcGF0Y2gpIHtcbiAgY29uc3QgbmV4dFZhbHVlID0gY2xvbmUodmFsdWUpO1xuICBpZiAocGF0Y2gucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICBpZiAocGF0Y2gudHlwZSA9PT0gXCJzZXRcIikge1xuICAgICAgaWYgKCFpc09iamVjdChwYXRjaC52YWx1ZSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgdmFsdWUgb2YgYW4gb2JqZWN0IHRvIGEgbm9uLW9iamVjdFwiKTtcbiAgICAgIHJldHVybiBwYXRjaC52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhdGNoLnR5cGUgPT09IFwidW5zZXRcIilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKHBhdGNoLnR5cGUgPT09IFwic2V0SWZNaXNzaW5nXCIpXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm9pZCAwID8gcGF0Y2gudmFsdWUgOiB2YWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG9iamVjdCBvcGVyYXRpb246ICR7cGF0Y2gudHlwZX1gKTtcbiAgfVxuICBjb25zdCBbaGVhZCwgLi4udGFpbF0gPSBwYXRjaC5wYXRoO1xuICBpZiAodHlwZW9mIGhlYWQgIT0gXCJzdHJpbmdcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGZpZWxkIG5hbWUgdG8gYmUgYSBzdHJpbmcsIGluc3RhZCBnb3Q6ICR7aGVhZH1gKTtcbiAgcmV0dXJuIHRhaWwubGVuZ3RoID09PSAwICYmIHBhdGNoLnR5cGUgPT09IFwidW5zZXRcIiA/IG9taXQobmV4dFZhbHVlLCBoZWFkKSA6IChuZXh0VmFsdWVbaGVhZF0gPSBfYXBwbHkobmV4dFZhbHVlW2hlYWRdLCB7XG4gICAgLi4ucGF0Y2gsXG4gICAgcGF0aDogdGFpbFxuICB9KSwgbmV4dFZhbHVlKTtcbn1cbmNvbnN0IE9QRVJBVElPTlMkMSA9IHtcbiAgcmVwbGFjZShfY3VycmVudFZhbHVlLCBuZXh0VmFsdWUpIHtcbiAgICByZXR1cm4gbmV4dFZhbHVlO1xuICB9LFxuICBzZXQoX2N1cnJlbnRWYWx1ZSwgbmV4dFZhbHVlKSB7XG4gICAgcmV0dXJuIG5leHRWYWx1ZTtcbiAgfSxcbiAgc2V0SWZNaXNzaW5nKGN1cnJlbnRWYWx1ZSwgbmV4dFZhbHVlKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRWYWx1ZSA9PT0gdm9pZCAwID8gbmV4dFZhbHVlIDogY3VycmVudFZhbHVlO1xuICB9LFxuICB1bnNldChfY3VycmVudFZhbHVlLCBfbmV4dFZhbHVlKSB7XG4gIH0sXG4gIGluYyhjdXJyZW50VmFsdWUsIG5leHRWYWx1ZSkge1xuICAgIHJldHVybiBjdXJyZW50VmFsdWUgKyBuZXh0VmFsdWU7XG4gIH0sXG4gIGRlYyhjdXJyZW50VmFsdWUsIG5leHRWYWx1ZSkge1xuICAgIHJldHVybiBjdXJyZW50VmFsdWUgLSBuZXh0VmFsdWU7XG4gIH1cbn0sIFNVUFBPUlRFRF9QQVRDSF9UWVBFUyQxID0gT2JqZWN0LmtleXMoT1BFUkFUSU9OUyQxKTtcbmZ1bmN0aW9uIGFwcGx5JDEodmFsdWUsIHBhdGNoKSB7XG4gIGlmICghU1VQUE9SVEVEX1BBVENIX1RZUEVTJDEuaW5jbHVkZXMocGF0Y2gudHlwZSkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFJlY2VpdmVkIHBhdGNoIG9mIHVuc3VwcG9ydGVkIHR5cGU6IFwiJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgcGF0Y2gudHlwZVxuICAgICAgKX1cIiBmb3IgcHJpbWl0aXZlcy4gVGhpcyBpcyBtb3N0IGxpa2VseSBhIGJ1Zy5gXG4gICAgKTtcbiAgaWYgKHBhdGNoLnBhdGgubGVuZ3RoID4gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ2Fubm90IGFwcGx5IGRlZXAgb3BlcmF0aW9ucyBvbiBwcmltaXRpdmUgdmFsdWVzLiBSZWNlaXZlZCBwYXRjaCB3aXRoIHR5cGUgXCIke3BhdGNoLnR5cGV9XCIgYW5kIHBhdGggXCIke3BhdGNoLnBhdGgubWFwKChwYXRoKSA9PiBKU09OLnN0cmluZ2lmeShwYXRoKSkuam9pbihcIi5cIil9IHRoYXQgdGFyZ2V0ZWQgdGhlIHZhbHVlIFwiJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9XCJgXG4gICAgKTtcbiAgcmV0dXJuIE9QRVJBVElPTlMkMVtwYXRjaC50eXBlXSh2YWx1ZSwgcGF0Y2gudmFsdWUpO1xufVxuY29uc3QgT1BFUkFUSU9OUyA9IHtcbiAgcmVwbGFjZShjdXJyZW50VmFsdWUsIG5leHRWYWx1ZSkge1xuICAgIHJldHVybiBuZXh0VmFsdWU7XG4gIH0sXG4gIHNldChjdXJyZW50VmFsdWUsIG5leHRWYWx1ZSkge1xuICAgIHJldHVybiBuZXh0VmFsdWU7XG4gIH0sXG4gIHNldElmTWlzc2luZyhjdXJyZW50VmFsdWUsIG5leHRWYWx1ZSkge1xuICAgIHJldHVybiBjdXJyZW50VmFsdWUgPT09IHZvaWQgMCA/IG5leHRWYWx1ZSA6IGN1cnJlbnRWYWx1ZTtcbiAgfSxcbiAgdW5zZXQoY3VycmVudFZhbHVlLCBuZXh0VmFsdWUpIHtcbiAgfSxcbiAgZGlmZk1hdGNoUGF0Y2goY3VycmVudFZhbHVlLCBuZXh0VmFsdWUpIHtcbiAgICBjb25zdCBbcmVzdWx0XSA9IGFwcGx5JDQocGFyc2UobmV4dFZhbHVlKSwgY3VycmVudFZhbHVlLCB7XG4gICAgICBhbGxvd0V4Y2VlZGluZ0luZGljZXM6ICEwXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSwgU1VQUE9SVEVEX1BBVENIX1RZUEVTID0gT2JqZWN0LmtleXMoT1BFUkFUSU9OUyk7XG5mdW5jdGlvbiBhcHBseSh2YWx1ZSwgcGF0Y2gpIHtcbiAgaWYgKCFTVVBQT1JURURfUEFUQ0hfVFlQRVMuaW5jbHVkZXMocGF0Y2gudHlwZSkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFJlY2VpdmVkIHBhdGNoIG9mIHVuc3VwcG9ydGVkIHR5cGU6IFwiJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgcGF0Y2gudHlwZVxuICAgICAgKX1cIiBmb3Igc3RyaW5nLiBUaGlzIGlzIG1vc3QgbGlrZWx5IGEgYnVnLmBcbiAgICApO1xuICBpZiAocGF0Y2gucGF0aC5sZW5ndGggPiAwKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDYW5ub3QgYXBwbHkgZGVlcCBvcGVyYXRpb25zIG9uIHN0cmluZyB2YWx1ZXMuIFJlY2VpdmVkIHBhdGNoIHdpdGggdHlwZSBcIiR7cGF0Y2gudHlwZX1cIiBhbmQgcGF0aCBcIiR7cGF0Y2gucGF0aC5qb2luKFwiLlwiKX0gdGhhdCB0YXJnZXRlZCB0aGUgdmFsdWUgXCIke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1cImBcbiAgICApO1xuICBjb25zdCBmdW5jID0gT1BFUkFUSU9OU1twYXRjaC50eXBlXTtcbiAgaWYgKGZ1bmMpXG4gICAgcmV0dXJuIGZ1bmModmFsdWUsIHBhdGNoLnZhbHVlKTtcbiAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBwYXRjaCB0eXBlXCIpO1xufVxuZnVuY3Rpb24gYXBwbHlBbGwodmFsdWUsIHBhdGNoZXMpIHtcbiAgcmV0dXJuIHBhdGNoZXMucmVkdWNlKF9hcHBseSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gYXBwbHlQYXRjaCh2YWx1ZSwgcGF0Y2gpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gYXBwbHkkMyh2YWx1ZSwgcGF0Y2gpIDogaXNTdHJpbmcodmFsdWUpID8gYXBwbHkodmFsdWUsIHBhdGNoKSA6IGlzT2JqZWN0KHZhbHVlKSA/IGFwcGx5JDIodmFsdWUsIHBhdGNoKSA6IGFwcGx5JDEodmFsdWUsIHBhdGNoKTtcbn1cbmZ1bmN0aW9uIF9hcHBseSh2YWx1ZSwgcGF0Y2gpIHtcbiAgcmV0dXJuIGFwcGx5UGF0Y2godmFsdWUsIHBhdGNoKTtcbn1cbmNvbnN0IGRlYnVnJGggPSBkZWJ1Z1dpdGhOYW1lKFwiYXBwbHlQYXRjaGVzXCIpLCBkZWJ1Z1ZlcmJvc2UkMyA9IGRlYnVnJGguZW5hYmxlZCAmJiAhMDtcbmZ1bmN0aW9uIGNyZWF0ZUFwcGx5UGF0Y2goc2NoZW1hVHlwZXMpIHtcbiAgbGV0IHByZXZpb3VzUGF0Y2g7XG4gIHJldHVybiBmdW5jdGlvbihlZGl0b3IsIHBhdGNoKSB7XG4gICAgbGV0IGNoYW5nZWQgPSAhMTtcbiAgICBkZWJ1Z1ZlcmJvc2UkMyAmJiAoZGVidWckaChgXG5cbk5FVyBQQVRDSCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09YCksIGRlYnVnJGgoSlNPTi5zdHJpbmdpZnkocGF0Y2gsIG51bGwsIDIpKSk7XG4gICAgdHJ5IHtcbiAgICAgIHN3aXRjaCAocGF0Y2gudHlwZSkge1xuICAgICAgICBjYXNlIFwiaW5zZXJ0XCI6XG4gICAgICAgICAgY2hhbmdlZCA9IGluc2VydFBhdGNoKGVkaXRvciwgcGF0Y2gsIHNjaGVtYVR5cGVzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInVuc2V0XCI6XG4gICAgICAgICAgY2hhbmdlZCA9IHVuc2V0UGF0Y2goZWRpdG9yLCBwYXRjaCwgcHJldmlvdXNQYXRjaCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzZXRcIjpcbiAgICAgICAgICBjaGFuZ2VkID0gc2V0UGF0Y2goZWRpdG9yLCBwYXRjaCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkaWZmTWF0Y2hQYXRjaFwiOlxuICAgICAgICAgIGNoYW5nZWQgPSBkaWZmTWF0Y2hQYXRjaChlZGl0b3IsIHBhdGNoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBkZWJ1ZyRoKFwiVW5oYW5kbGVkIHBhdGNoXCIsIHBhdGNoLnR5cGUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH1cbiAgICByZXR1cm4gcHJldmlvdXNQYXRjaCA9IHBhdGNoLCBjaGFuZ2VkO1xuICB9O1xufVxuZnVuY3Rpb24gZGlmZk1hdGNoUGF0Y2goZWRpdG9yLCBwYXRjaCkge1xuICBjb25zdCB7IGJsb2NrLCBjaGlsZCwgY2hpbGRQYXRoIH0gPSBmaW5kQmxvY2tBbmRDaGlsZEZyb21QYXRoKGVkaXRvciwgcGF0Y2gucGF0aCk7XG4gIGlmICghYmxvY2spXG4gICAgcmV0dXJuIGRlYnVnJGgoXCJCbG9jayBub3QgZm91bmRcIiksICExO1xuICBpZiAoIWNoaWxkIHx8ICFjaGlsZFBhdGgpXG4gICAgcmV0dXJuIGRlYnVnJGgoXCJDaGlsZCBub3QgZm91bmRcIiksICExO1xuICBpZiAoIShibG9jayAmJiBlZGl0b3IuaXNUZXh0QmxvY2soYmxvY2spICYmIHBhdGNoLnBhdGgubGVuZ3RoID09PSA0ICYmIHBhdGNoLnBhdGhbMV0gPT09IFwiY2hpbGRyZW5cIiAmJiBwYXRjaC5wYXRoWzNdID09PSBcInRleHRcIikgfHwgIVRleHQuaXNUZXh0KGNoaWxkKSlcbiAgICByZXR1cm4gITE7XG4gIGNvbnN0IHBhdGNoZXMgPSBwYXJzZShwYXRjaC52YWx1ZSksIFtuZXdWYWx1ZV0gPSBhcHBseSQ0KHBhdGNoZXMsIGNoaWxkLnRleHQsIHsgYWxsb3dFeGNlZWRpbmdJbmRpY2VzOiAhMCB9KSwgZGlmZiQxID0gY2xlYW51cEVmZmljaWVuY3koZGlmZihjaGlsZC50ZXh0LCBuZXdWYWx1ZSksIDUpO1xuICBkZWJ1Z1N0YXRlKGVkaXRvciwgXCJiZWZvcmVcIik7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGNvbnN0IFtvcCwgdGV4dF0gb2YgZGlmZiQxKVxuICAgIG9wID09PSBESUZGX0lOU0VSVCA/IChlZGl0b3IuYXBwbHkoeyB0eXBlOiBcImluc2VydF90ZXh0XCIsIHBhdGg6IGNoaWxkUGF0aCwgb2Zmc2V0LCB0ZXh0IH0pLCBvZmZzZXQgKz0gdGV4dC5sZW5ndGgpIDogb3AgPT09IERJRkZfREVMRVRFID8gZWRpdG9yLmFwcGx5KHsgdHlwZTogXCJyZW1vdmVfdGV4dFwiLCBwYXRoOiBjaGlsZFBhdGgsIG9mZnNldCwgdGV4dCB9KSA6IG9wID09PSBESUZGX0VRVUFMICYmIChvZmZzZXQgKz0gdGV4dC5sZW5ndGgpO1xuICByZXR1cm4gZGVidWdTdGF0ZShlZGl0b3IsIFwiYWZ0ZXJcIiksICEwO1xufVxuZnVuY3Rpb24gaW5zZXJ0UGF0Y2goZWRpdG9yLCBwYXRjaCwgc2NoZW1hVHlwZXMpIHtcbiAgY29uc3Qge1xuICAgIGJsb2NrOiB0YXJnZXRCbG9jayxcbiAgICBjaGlsZDogdGFyZ2V0Q2hpbGQsXG4gICAgYmxvY2tQYXRoOiB0YXJnZXRCbG9ja1BhdGgsXG4gICAgY2hpbGRQYXRoOiB0YXJnZXRDaGlsZFBhdGhcbiAgfSA9IGZpbmRCbG9ja0FuZENoaWxkRnJvbVBhdGgoZWRpdG9yLCBwYXRjaC5wYXRoKTtcbiAgaWYgKCF0YXJnZXRCbG9jayB8fCAhdGFyZ2V0QmxvY2tQYXRoKVxuICAgIHJldHVybiBkZWJ1ZyRoKFwiQmxvY2sgbm90IGZvdW5kXCIpLCAhMTtcbiAgaWYgKHBhdGNoLnBhdGgubGVuZ3RoID4gMSAmJiBwYXRjaC5wYXRoWzFdICE9PSBcImNoaWxkcmVuXCIpXG4gICAgcmV0dXJuIGRlYnVnJGgoXCJJZ25vcmluZyBwYXRjaCB0YXJnZXRpbmcgdm9pZCB2YWx1ZVwiKSwgITE7XG4gIGlmIChwYXRjaC5wYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgIGNvbnN0IHsgaXRlbXM6IGl0ZW1zMiwgcG9zaXRpb246IHBvc2l0aW9uMiB9ID0gcGF0Y2gsIGJsb2Nrc1RvSW5zZXJ0ID0gdG9TbGF0ZVZhbHVlKFxuICAgICAgaXRlbXMyLFxuICAgICAgeyBzY2hlbWFUeXBlcyB9LFxuICAgICAgS0VZX1RPX1NMQVRFX0VMRU1FTlQuZ2V0KGVkaXRvcilcbiAgICApLCB0YXJnZXRCbG9ja0luZGV4ID0gdGFyZ2V0QmxvY2tQYXRoWzBdLCBub3JtYWxpemVkSWR4MiA9IHBvc2l0aW9uMiA9PT0gXCJhZnRlclwiID8gdGFyZ2V0QmxvY2tJbmRleCArIDEgOiB0YXJnZXRCbG9ja0luZGV4O1xuICAgIHJldHVybiBkZWJ1ZyRoKGBJbnNlcnRpbmcgYmxvY2tzIGF0IHBhdGggWyR7bm9ybWFsaXplZElkeDJ9XWApLCBkZWJ1Z1N0YXRlKGVkaXRvciwgXCJiZWZvcmVcIiksIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZWRpdG9yLCBibG9ja3NUb0luc2VydCwgeyBhdDogW25vcm1hbGl6ZWRJZHgyXSB9KSwgZGVidWdTdGF0ZShlZGl0b3IsIFwiYWZ0ZXJcIiksICEwO1xuICB9XG4gIGNvbnN0IHsgaXRlbXMsIHBvc2l0aW9uIH0gPSBwYXRjaDtcbiAgaWYgKCF0YXJnZXRDaGlsZCB8fCAhdGFyZ2V0Q2hpbGRQYXRoKVxuICAgIHJldHVybiBkZWJ1ZyRoKFwiQ2hpbGQgbm90IGZvdW5kXCIpLCAhMTtcbiAgY29uc3QgY2hpbGRyZW5Ub0luc2VydCA9IHRhcmdldEJsb2NrICYmIHRvU2xhdGVWYWx1ZShcbiAgICBbeyAuLi50YXJnZXRCbG9jaywgY2hpbGRyZW46IGl0ZW1zIH1dLFxuICAgIHsgc2NoZW1hVHlwZXMgfSxcbiAgICBLRVlfVE9fU0xBVEVfRUxFTUVOVC5nZXQoZWRpdG9yKVxuICApLCB0YXJnZXRDaGlsZEluZGV4ID0gdGFyZ2V0Q2hpbGRQYXRoWzFdLCBub3JtYWxpemVkSWR4ID0gcG9zaXRpb24gPT09IFwiYWZ0ZXJcIiA/IHRhcmdldENoaWxkSW5kZXggKyAxIDogdGFyZ2V0Q2hpbGRJbmRleCwgY2hpbGRJbnNlcnRQYXRoID0gW3RhcmdldENoaWxkUGF0aFswXSwgbm9ybWFsaXplZElkeF07XG4gIHJldHVybiBkZWJ1ZyRoKGBJbnNlcnRpbmcgY2hpbGRyZW4gYXQgcGF0aCAke2NoaWxkSW5zZXJ0UGF0aH1gKSwgZGVidWdTdGF0ZShlZGl0b3IsIFwiYmVmb3JlXCIpLCBjaGlsZHJlblRvSW5zZXJ0ICYmIEVsZW1lbnQkMS5pc0VsZW1lbnQoY2hpbGRyZW5Ub0luc2VydFswXSkgJiYgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIGNoaWxkcmVuVG9JbnNlcnRbMF0uY2hpbGRyZW4sIHsgYXQ6IGNoaWxkSW5zZXJ0UGF0aCB9KSwgZGVidWdTdGF0ZShlZGl0b3IsIFwiYWZ0ZXJcIiksICEwO1xufVxuZnVuY3Rpb24gc2V0UGF0Y2goZWRpdG9yLCBwYXRjaCkge1xuICBsZXQgdmFsdWUgPSBwYXRjaC52YWx1ZTtcbiAgdHlwZW9mIHBhdGNoLnBhdGhbM10gPT0gXCJzdHJpbmdcIiAmJiAodmFsdWUgPSB7fSwgdmFsdWVbcGF0Y2gucGF0aFszXV0gPSBwYXRjaC52YWx1ZSk7XG4gIGNvbnN0IHsgYmxvY2ssIGJsb2NrUGF0aCwgY2hpbGQsIGNoaWxkUGF0aCB9ID0gZmluZEJsb2NrQW5kQ2hpbGRGcm9tUGF0aChlZGl0b3IsIHBhdGNoLnBhdGgpO1xuICBpZiAoIWJsb2NrKVxuICAgIHJldHVybiBkZWJ1ZyRoKFwiQmxvY2sgbm90IGZvdW5kXCIpLCAhMTtcbiAgY29uc3QgaXNUZXh0QmxvY2sgPSBlZGl0b3IuaXNUZXh0QmxvY2soYmxvY2spO1xuICBpZiAoaXNUZXh0QmxvY2sgJiYgcGF0Y2gucGF0aC5sZW5ndGggPiAxICYmIHBhdGNoLnBhdGhbMV0gIT09IFwiY2hpbGRyZW5cIilcbiAgICByZXR1cm4gZGVidWckaChcIklnbm9yaW5nIHNldHRpbmcgdm9pZCB2YWx1ZVwiKSwgITE7XG4gIGlmIChkZWJ1Z1N0YXRlKGVkaXRvciwgXCJiZWZvcmVcIiksIGlzVGV4dEJsb2NrICYmIGNoaWxkICYmIGNoaWxkUGF0aCkge1xuICAgIGlmIChUZXh0LmlzVGV4dCh2YWx1ZSkgJiYgVGV4dC5pc1RleHQoY2hpbGQpKSB7XG4gICAgICBjb25zdCBuZXdUZXh0ID0gY2hpbGQudGV4dDtcbiAgICAgIHZhbHVlLnRleHQgIT09IG5ld1RleHQgJiYgKGRlYnVnJGgoXCJTZXR0aW5nIHRleHQgcHJvcGVydHlcIiksIGVkaXRvci5hcHBseSh7XG4gICAgICAgIHR5cGU6IFwicmVtb3ZlX3RleHRcIixcbiAgICAgICAgcGF0aDogY2hpbGRQYXRoLFxuICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgIHRleHQ6IG5ld1RleHRcbiAgICAgIH0pLCBlZGl0b3IuYXBwbHkoe1xuICAgICAgICB0eXBlOiBcImluc2VydF90ZXh0XCIsXG4gICAgICAgIHBhdGg6IGNoaWxkUGF0aCxcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICB0ZXh0OiB2YWx1ZS50ZXh0XG4gICAgICB9KSwgZWRpdG9yLm9uQ2hhbmdlKCkpO1xuICAgIH0gZWxzZVxuICAgICAgZGVidWckaChcIlNldHRpbmcgbm9uLXRleHQgcHJvcGVydHlcIiksIGVkaXRvci5hcHBseSh7XG4gICAgICAgIHR5cGU6IFwic2V0X25vZGVcIixcbiAgICAgICAgcGF0aDogY2hpbGRQYXRoLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgbmV3UHJvcGVydGllczogdmFsdWVcbiAgICAgIH0pO1xuICAgIHJldHVybiAhMDtcbiAgfSBlbHNlIGlmIChFbGVtZW50JDEuaXNFbGVtZW50KGJsb2NrKSAmJiBwYXRjaC5wYXRoLmxlbmd0aCA9PT0gMSAmJiBibG9ja1BhdGgpIHtcbiAgICBkZWJ1ZyRoKFwiU2V0dGluZyBibG9jayBwcm9wZXJ0eVwiKTtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCAuLi5uZXh0UmVzdCB9ID0gdmFsdWUsIHsgY2hpbGRyZW46IHByZXZDaGlsZHJlbiwgLi4ucHJldlJlc3QgfSA9IGJsb2NrIHx8IHsgY2hpbGRyZW46IHZvaWQgMCB9O1xuICAgIGVkaXRvci5hcHBseSh7XG4gICAgICB0eXBlOiBcInNldF9ub2RlXCIsXG4gICAgICBwYXRoOiBibG9ja1BhdGgsXG4gICAgICBwcm9wZXJ0aWVzOiB7IC4uLnByZXZSZXN0IH0sXG4gICAgICBuZXdQcm9wZXJ0aWVzOiBuZXh0UmVzdFxuICAgIH0pLCBkZWJ1ZyRoKFwiU2V0dGluZyBjaGlsZHJlblwiKSwgYmxvY2suY2hpbGRyZW4uZm9yRWFjaCgoYywgY0luZGV4KSA9PiB7XG4gICAgICBlZGl0b3IuYXBwbHkoe1xuICAgICAgICB0eXBlOiBcInJlbW92ZV9ub2RlXCIsXG4gICAgICAgIHBhdGg6IGJsb2NrUGF0aC5jb25jYXQoYmxvY2suY2hpbGRyZW4ubGVuZ3RoIC0gMSAtIGNJbmRleCksXG4gICAgICAgIG5vZGU6IGNcbiAgICAgIH0pO1xuICAgIH0pLCBBcnJheS5pc0FycmF5KGNoaWxkcmVuKSAmJiBjaGlsZHJlbi5mb3JFYWNoKChjLCBjSW5kZXgpID0+IHtcbiAgICAgIGVkaXRvci5hcHBseSh7XG4gICAgICAgIHR5cGU6IFwiaW5zZXJ0X25vZGVcIixcbiAgICAgICAgcGF0aDogYmxvY2tQYXRoLmNvbmNhdChjSW5kZXgpLFxuICAgICAgICBub2RlOiBjXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChibG9jayAmJiBcInZhbHVlXCIgaW4gYmxvY2spIHtcbiAgICBjb25zdCBuZXdWYWwgPSBhcHBseUFsbChbYmxvY2sudmFsdWVdLCBbcGF0Y2hdKVswXTtcbiAgICByZXR1cm4gVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHsgLi4uYmxvY2ssIHZhbHVlOiBuZXdWYWwgfSwgeyBhdDogYmxvY2tQYXRoIH0pLCAhMDtcbiAgfVxuICByZXR1cm4gZGVidWdTdGF0ZShlZGl0b3IsIFwiYWZ0ZXJcIiksICEwO1xufVxuZnVuY3Rpb24gdW5zZXRQYXRjaChlZGl0b3IsIHBhdGNoLCBwcmV2aW91c1BhdGNoKSB7XG4gIGlmIChwYXRjaC5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgIGRlYnVnJGgoXCJSZW1vdmluZyBldmVyeXRoaW5nXCIpLCBkZWJ1Z1N0YXRlKGVkaXRvciwgXCJiZWZvcmVcIik7XG4gICAgY29uc3QgcHJldmlvdXNTZWxlY3Rpb24gPSBlZGl0b3Iuc2VsZWN0aW9uO1xuICAgIHJldHVybiBUcmFuc2Zvcm1zLmRlc2VsZWN0KGVkaXRvciksIGVkaXRvci5jaGlsZHJlbi5mb3JFYWNoKChjLCBpKSA9PiB7XG4gICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwgeyBhdDogW2ldIH0pO1xuICAgIH0pLCBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwgZWRpdG9yLnB0ZUNyZWF0ZUVtcHR5QmxvY2soKSksIHByZXZpb3VzU2VsZWN0aW9uICYmIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwge1xuICAgICAgYW5jaG9yOiB7IHBhdGg6IFswLCAwXSwgb2Zmc2V0OiAwIH0sXG4gICAgICBmb2N1czogeyBwYXRoOiBbMCwgMF0sIG9mZnNldDogMCB9XG4gICAgfSksIGVkaXRvci5vbkNoYW5nZSgpLCBkZWJ1Z1N0YXRlKGVkaXRvciwgXCJhZnRlclwiKSwgITA7XG4gIH1cbiAgY29uc3QgeyBibG9jaywgYmxvY2tQYXRoLCBjaGlsZCwgY2hpbGRQYXRoIH0gPSBmaW5kQmxvY2tBbmRDaGlsZEZyb21QYXRoKGVkaXRvciwgcGF0Y2gucGF0aCk7XG4gIGlmIChwYXRjaC5wYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgIGlmICghYmxvY2sgfHwgIWJsb2NrUGF0aClcbiAgICAgIHJldHVybiBkZWJ1ZyRoKFwiQmxvY2sgbm90IGZvdW5kXCIpLCAhMTtcbiAgICBjb25zdCBibG9ja0luZGV4ID0gYmxvY2tQYXRoWzBdO1xuICAgIHJldHVybiBkZWJ1ZyRoKGBSZW1vdmluZyBibG9jayBhdCBwYXRoIFske2Jsb2NrSW5kZXh9XWApLCBkZWJ1Z1N0YXRlKGVkaXRvciwgXCJiZWZvcmVcIiksIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBbYmxvY2tJbmRleF0gfSksIGRlYnVnU3RhdGUoZWRpdG9yLCBcImFmdGVyXCIpLCAhMDtcbiAgfVxuICByZXR1cm4gZWRpdG9yLmlzVGV4dEJsb2NrKGJsb2NrKSAmJiBwYXRjaC5wYXRoWzFdID09PSBcImNoaWxkcmVuXCIgJiYgcGF0Y2gucGF0aC5sZW5ndGggPT09IDMgPyAhY2hpbGQgfHwgIWNoaWxkUGF0aCA/IChkZWJ1ZyRoKFwiQ2hpbGQgbm90IGZvdW5kXCIpLCAhMSkgOiAoZGVidWckaChgVW5zZXR0aW5nIGNoaWxkIGF0IHBhdGggJHtKU09OLnN0cmluZ2lmeShjaGlsZFBhdGgpfWApLCBkZWJ1Z1N0YXRlKGVkaXRvciwgXCJiZWZvcmVcIiksIGRlYnVnVmVyYm9zZSQzICYmIGRlYnVnJGgoYFJlbW92aW5nIGNoaWxkIGF0IHBhdGggJHtKU09OLnN0cmluZ2lmeShjaGlsZFBhdGgpfWApLCBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwgeyBhdDogY2hpbGRQYXRoIH0pLCBkZWJ1Z1N0YXRlKGVkaXRvciwgXCJhZnRlclwiKSwgITApIDogITE7XG59XG5mdW5jdGlvbiBpc0tleWVkU2VnbWVudChzZWdtZW50KSB7XG4gIHJldHVybiB0eXBlb2Ygc2VnbWVudCA9PSBcIm9iamVjdFwiICYmIFwiX2tleVwiIGluIHNlZ21lbnQ7XG59XG5mdW5jdGlvbiBkZWJ1Z1N0YXRlKGVkaXRvciwgc3RhdGVOYW1lKSB7XG4gIGRlYnVnVmVyYm9zZSQzICYmIChkZWJ1ZyRoKGBDaGlsZHJlbiAke3N0YXRlTmFtZX06YCwgSlNPTi5zdHJpbmdpZnkoZWRpdG9yLmNoaWxkcmVuLCBudWxsLCAyKSksIGRlYnVnJGgoYFNlbGVjdGlvbiAke3N0YXRlTmFtZX06IGAsIEpTT04uc3RyaW5naWZ5KGVkaXRvci5zZWxlY3Rpb24sIG51bGwsIDIpKSk7XG59XG5mdW5jdGlvbiBmaW5kQmxvY2tGcm9tUGF0aChlZGl0b3IsIHBhdGgpIHtcbiAgbGV0IGJsb2NrSW5kZXggPSAtMTtcbiAgY29uc3QgYmxvY2sgPSBlZGl0b3IuY2hpbGRyZW4uZmluZCgobm9kZSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBpc01hdGNoID0gaXNLZXllZFNlZ21lbnQocGF0aFswXSkgPyBub2RlLl9rZXkgPT09IHBhdGhbMF0uX2tleSA6IGluZGV4ID09PSBwYXRoWzBdO1xuICAgIHJldHVybiBpc01hdGNoICYmIChibG9ja0luZGV4ID0gaW5kZXgpLCBpc01hdGNoO1xuICB9KTtcbiAgcmV0dXJuIGJsb2NrID8geyBibG9jaywgcGF0aDogW2Jsb2NrSW5kZXhdIH0gOiB7fTtcbn1cbmZ1bmN0aW9uIGZpbmRCbG9ja0FuZENoaWxkRnJvbVBhdGgoZWRpdG9yLCBwYXRoKSB7XG4gIGNvbnN0IHsgYmxvY2ssIHBhdGg6IGJsb2NrUGF0aCB9ID0gZmluZEJsb2NrRnJvbVBhdGgoZWRpdG9yLCBwYXRoKTtcbiAgaWYgKCEoRWxlbWVudCQxLmlzRWxlbWVudChibG9jaykgJiYgcGF0aFsxXSA9PT0gXCJjaGlsZHJlblwiKSlcbiAgICByZXR1cm4geyBibG9jaywgYmxvY2tQYXRoLCBjaGlsZDogdm9pZCAwLCBjaGlsZFBhdGg6IHZvaWQgMCB9O1xuICBsZXQgY2hpbGRJbmRleCA9IC0xO1xuICBjb25zdCBjaGlsZCA9IGJsb2NrLmNoaWxkcmVuLmZpbmQoKG5vZGUsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaXNNYXRjaCA9IGlzS2V5ZWRTZWdtZW50KHBhdGhbMl0pID8gbm9kZS5fa2V5ID09PSBwYXRoWzJdLl9rZXkgOiBpbmRleCA9PT0gcGF0aFsyXTtcbiAgICByZXR1cm4gaXNNYXRjaCAmJiAoY2hpbGRJbmRleCA9IGluZGV4KSwgaXNNYXRjaDtcbiAgfSk7XG4gIHJldHVybiBjaGlsZCA/IHsgYmxvY2ssIGNoaWxkLCBibG9ja1BhdGgsIGNoaWxkUGF0aDogYmxvY2tQYXRoID09IG51bGwgPyB2b2lkIDAgOiBibG9ja1BhdGguY29uY2F0KGNoaWxkSW5kZXgpIH0gOiB7IGJsb2NrLCBibG9ja1BhdGgsIGNoaWxkOiB2b2lkIDAsIGNoaWxkUGF0aDogdm9pZCAwIH07XG59XG5mdW5jdGlvbiB3aXRoUmVtb3RlQ2hhbmdlcyhlZGl0b3IsIGZuKSB7XG4gIGNvbnN0IHByZXYgPSBpc0NoYW5naW5nUmVtb3RlbHkoZWRpdG9yKSB8fCAhMTtcbiAgSVNfUFJPQ0VTU0lOR19SRU1PVEVfQ0hBTkdFUy5zZXQoZWRpdG9yLCAhMCksIGZuKCksIElTX1BST0NFU1NJTkdfUkVNT1RFX0NIQU5HRVMuc2V0KGVkaXRvciwgcHJldik7XG59XG5mdW5jdGlvbiBpc0NoYW5naW5nUmVtb3RlbHkoZWRpdG9yKSB7XG4gIHJldHVybiBJU19QUk9DRVNTSU5HX1JFTU9URV9DSEFOR0VTLmdldChlZGl0b3IpO1xufVxuZnVuY3Rpb24gaXNDaGFuZ2luZ0xvY2FsbHkoZWRpdG9yKSB7XG4gIHJldHVybiBJU19QUk9DRVNTSU5HX0xPQ0FMX0NIQU5HRVMuZ2V0KGVkaXRvcik7XG59XG5jb25zdCBQQVRDSElORyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gd2l0aG91dFBhdGNoaW5nKGVkaXRvciwgZm4pIHtcbiAgY29uc3QgcHJldiA9IGlzUGF0Y2hpbmcoZWRpdG9yKTtcbiAgUEFUQ0hJTkcuc2V0KGVkaXRvciwgITEpLCBmbigpLCBQQVRDSElORy5zZXQoZWRpdG9yLCBwcmV2KTtcbn1cbmZ1bmN0aW9uIGlzUGF0Y2hpbmcoZWRpdG9yKSB7XG4gIHJldHVybiBQQVRDSElORy5nZXQoZWRpdG9yKTtcbn1cbmNvbnN0IGRlYnVnJGcgPSBkZWJ1Z1dpdGhOYW1lKFwicGx1Z2luOndpdGhVbmRvUmVkb1wiKSwgZGVidWdWZXJib3NlJDIgPSBkZWJ1ZyRnLmVuYWJsZWQgJiYgITEsIFNBVklORyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBSRU1PVEVfUEFUQ0hFUyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBVTkRPX1NURVBfTElNSVQgPSAxZTMsIGlzU2F2aW5nID0gKGVkaXRvcikgPT4ge1xuICBjb25zdCBzdGF0ZSA9IFNBVklORy5nZXQoZWRpdG9yKTtcbiAgcmV0dXJuIHN0YXRlID09PSB2b2lkIDAgPyAhMCA6IHN0YXRlO1xufSwgZ2V0UmVtb3RlUGF0Y2hlcyA9IChlZGl0b3IpID0+IChSRU1PVEVfUEFUQ0hFUy5nZXQoZWRpdG9yKSB8fCBSRU1PVEVfUEFUQ0hFUy5zZXQoZWRpdG9yLCBbXSksIFJFTU9URV9QQVRDSEVTLmdldChlZGl0b3IpIHx8IFtdKTtcbmZ1bmN0aW9uIGNyZWF0ZVdpdGhVbmRvUmVkbyhvcHRpb25zKSB7XG4gIGNvbnN0IHsgcmVhZE9ubHksIHBhdGNoZXMkLCBibG9ja1NjaGVtYVR5cGUgfSA9IG9wdGlvbnM7XG4gIHJldHVybiAoZWRpdG9yKSA9PiB7XG4gICAgbGV0IHByZXZpb3VzU25hcHNob3QgPSBmcm9tU2xhdGVWYWx1ZShcbiAgICAgIGVkaXRvci5jaGlsZHJlbixcbiAgICAgIGJsb2NrU2NoZW1hVHlwZS5uYW1lXG4gICAgKTtcbiAgICBjb25zdCByZW1vdGVQYXRjaGVzID0gZ2V0UmVtb3RlUGF0Y2hlcyhlZGl0b3IpO1xuICAgIHBhdGNoZXMkICYmIGVkaXRvci5zdWJzY3JpcHRpb25zLnB1c2goKCkgPT4ge1xuICAgICAgZGVidWckZyhcIlN1YnNjcmliaW5nIHRvIHBhdGNoZXNcIik7XG4gICAgICBjb25zdCBzdWIgPSBwYXRjaGVzJC5zdWJzY3JpYmUoKHsgcGF0Y2hlcywgc25hcHNob3QgfSkgPT4ge1xuICAgICAgICBsZXQgcmVzZXQgPSAhMTtcbiAgICAgICAgcGF0Y2hlcy5mb3JFYWNoKChwYXRjaCkgPT4ge1xuICAgICAgICAgIGlmICghcmVzZXQgJiYgcGF0Y2gub3JpZ2luICE9PSBcImxvY2FsXCIgJiYgcmVtb3RlUGF0Y2hlcykge1xuICAgICAgICAgICAgaWYgKHBhdGNoLnR5cGUgPT09IFwidW5zZXRcIiAmJiBwYXRjaC5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBkZWJ1ZyRnKFwiU29tZW9uZSBlbHNlIGNsZWFyZWQgdGhlIGNvbnRlbnQsIHJlc2V0dGluZyB1bmRvL3JlZG8gaGlzdG9yeVwiKSwgZWRpdG9yLmhpc3RvcnkgPSB7IHVuZG9zOiBbXSwgcmVkb3M6IFtdIH0sIHJlbW90ZVBhdGNoZXMuc3BsaWNlKDAsIHJlbW90ZVBhdGNoZXMubGVuZ3RoKSwgU0FWSU5HLnNldChlZGl0b3IsICEwKSwgcmVzZXQgPSAhMDtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtb3RlUGF0Y2hlcy5wdXNoKHsgcGF0Y2gsIHRpbWU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBzbmFwc2hvdCwgcHJldmlvdXNTbmFwc2hvdCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLCBwcmV2aW91c1NuYXBzaG90ID0gc25hcHNob3Q7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRlYnVnJGcoXCJVbnN1YnNjcmliaW5nIHRvIHBhdGNoZXNcIiksIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgfTtcbiAgICB9KSwgZWRpdG9yLmhpc3RvcnkgPSB7IHVuZG9zOiBbXSwgcmVkb3M6IFtdIH07XG4gICAgY29uc3QgeyBhcHBseTogYXBwbHkyIH0gPSBlZGl0b3I7XG4gICAgcmV0dXJuIGVkaXRvci5hcHBseSA9IChvcCkgPT4ge1xuICAgICAgaWYgKHJlYWRPbmx5KSB7XG4gICAgICAgIGFwcGx5MihvcCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgb3BlcmF0aW9ucywgaGlzdG9yeSB9ID0gZWRpdG9yLCB7IHVuZG9zIH0gPSBoaXN0b3J5LCBzdGVwID0gdW5kb3NbdW5kb3MubGVuZ3RoIC0gMV0sIGxhc3RPcCA9IHN0ZXAgJiYgc3RlcC5vcGVyYXRpb25zICYmIHN0ZXAub3BlcmF0aW9uc1tzdGVwLm9wZXJhdGlvbnMubGVuZ3RoIC0gMV0sIG92ZXJ3cml0ZSA9IHNob3VsZE92ZXJ3cml0ZShvcCwgbGFzdE9wKSwgc2F2ZSA9IGlzU2F2aW5nKGVkaXRvcik7XG4gICAgICBsZXQgbWVyZ2UgPSAhMDtcbiAgICAgIGlmIChzYXZlKSB7XG4gICAgICAgIGlmIChzdGVwID8gb3BlcmF0aW9ucy5sZW5ndGggPT09IDAgJiYgKG1lcmdlID0gc2hvdWxkTWVyZ2Uob3AsIGxhc3RPcCkgfHwgb3ZlcndyaXRlKSA6IG1lcmdlID0gITEsIHN0ZXAgJiYgbWVyZ2UpXG4gICAgICAgICAgc3RlcC5vcGVyYXRpb25zLnB1c2gob3ApO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb25zdCBuZXdTdGVwID0ge1xuICAgICAgICAgICAgb3BlcmF0aW9uczogWy4uLmVkaXRvci5zZWxlY3Rpb24gPT09IG51bGwgPyBbXSA6IFtjcmVhdGVTZWxlY3RPcGVyYXRpb24oZWRpdG9yKV0sIG9wXSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKClcbiAgICAgICAgICB9O1xuICAgICAgICAgIHVuZG9zLnB1c2gobmV3U3RlcCksIGRlYnVnJGcoXCJDcmVhdGVkIG5ldyB1bmRvIHN0ZXBcIiwgc3RlcCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICg7IHVuZG9zLmxlbmd0aCA+IFVORE9fU1RFUF9MSU1JVDsgKVxuICAgICAgICAgIHVuZG9zLnNoaWZ0KCk7XG4gICAgICAgIHNob3VsZENsZWFyKG9wKSAmJiAoaGlzdG9yeS5yZWRvcyA9IFtdKTtcbiAgICAgIH1cbiAgICAgIGFwcGx5MihvcCk7XG4gICAgfSwgZWRpdG9yLnVuZG8gPSAoKSA9PiB7XG4gICAgICBpZiAocmVhZE9ubHkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHsgdW5kb3MgfSA9IGVkaXRvci5oaXN0b3J5O1xuICAgICAgaWYgKHVuZG9zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IHVuZG9zW3VuZG9zLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoZGVidWckZyhcIlVuZG9pbmdcIiwgc3RlcCksIHN0ZXAub3BlcmF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3Qgb3RoZXJQYXRjaGVzID0gcmVtb3RlUGF0Y2hlcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udGltZSA+PSBzdGVwLnRpbWVzdGFtcCk7XG4gICAgICAgICAgbGV0IHRyYW5zZm9ybWVkT3BlcmF0aW9ucyA9IHN0ZXAub3BlcmF0aW9ucztcbiAgICAgICAgICBvdGhlclBhdGNoZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgdHJhbnNmb3JtZWRPcGVyYXRpb25zID0gZmxhdHRlbiQxKFxuICAgICAgICAgICAgICB0cmFuc2Zvcm1lZE9wZXJhdGlvbnMubWFwKFxuICAgICAgICAgICAgICAgIChvcCkgPT4gdHJhbnNmb3JtT3BlcmF0aW9uKGVkaXRvciwgaXRlbS5wYXRjaCwgb3AsIGl0ZW0uc25hcHNob3QsIGl0ZW0ucHJldmlvdXNTbmFwc2hvdClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICAgICAgICAgICAgd2l0aFByZXNlcnZlS2V5cyhlZGl0b3IsICgpID0+IHtcbiAgICAgICAgICAgICAgICB3aXRob3V0U2F2aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtZWRPcGVyYXRpb25zLm1hcChPcGVyYXRpb24uaW52ZXJzZSkucmV2ZXJzZSgpLmZvckVhY2goKG9wKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5hcHBseShvcCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSwgZWRpdG9yLm5vcm1hbGl6ZSgpLCBlZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGRlYnVnJGcoXCJDb3VsZCBub3QgcGVyZm9ybSB1bmRvIHN0ZXBcIiwgZXJyKSwgcmVtb3RlUGF0Y2hlcy5zcGxpY2UoMCwgcmVtb3RlUGF0Y2hlcy5sZW5ndGgpLCBUcmFuc2Zvcm1zLmRlc2VsZWN0KGVkaXRvciksIGVkaXRvci5oaXN0b3J5ID0geyB1bmRvczogW10sIHJlZG9zOiBbXSB9LCBTQVZJTkcuc2V0KGVkaXRvciwgITApLCBlZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWRpdG9yLmhpc3RvcnkucmVkb3MucHVzaChzdGVwKSwgZWRpdG9yLmhpc3RvcnkudW5kb3MucG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBlZGl0b3IucmVkbyA9ICgpID0+IHtcbiAgICAgIGlmIChyZWFkT25seSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgeyByZWRvcyB9ID0gZWRpdG9yLmhpc3Rvcnk7XG4gICAgICBpZiAocmVkb3MubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBzdGVwID0gcmVkb3NbcmVkb3MubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChkZWJ1ZyRnKFwiUmVkb2luZ1wiLCBzdGVwKSwgc3RlcC5vcGVyYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBvdGhlclBhdGNoZXMgPSByZW1vdGVQYXRjaGVzLmZpbHRlcigoaXRlbSkgPT4gaXRlbS50aW1lID49IHN0ZXAudGltZXN0YW1wKTtcbiAgICAgICAgICBsZXQgdHJhbnNmb3JtZWRPcGVyYXRpb25zID0gc3RlcC5vcGVyYXRpb25zO1xuICAgICAgICAgIG90aGVyUGF0Y2hlcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1lZE9wZXJhdGlvbnMgPSBmbGF0dGVuJDEoXG4gICAgICAgICAgICAgIHRyYW5zZm9ybWVkT3BlcmF0aW9ucy5tYXAoXG4gICAgICAgICAgICAgICAgKG9wKSA9PiB0cmFuc2Zvcm1PcGVyYXRpb24oZWRpdG9yLCBpdGVtLnBhdGNoLCBvcCwgaXRlbS5zbmFwc2hvdCwgaXRlbS5wcmV2aW91c1NuYXBzaG90KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgICAgICAgICAgICB3aXRoUHJlc2VydmVLZXlzKGVkaXRvciwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpdGhvdXRTYXZpbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1lZE9wZXJhdGlvbnMuZm9yRWFjaCgob3ApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmFwcGx5KG9wKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLCBlZGl0b3Iubm9ybWFsaXplKCksIGVkaXRvci5vbkNoYW5nZSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZGVidWckZyhcIkNvdWxkIG5vdCBwZXJmb3JtIHJlZG8gc3RlcFwiLCBlcnIpLCByZW1vdGVQYXRjaGVzLnNwbGljZSgwLCByZW1vdGVQYXRjaGVzLmxlbmd0aCksIFRyYW5zZm9ybXMuZGVzZWxlY3QoZWRpdG9yKSwgZWRpdG9yLmhpc3RvcnkgPSB7IHVuZG9zOiBbXSwgcmVkb3M6IFtdIH0sIFNBVklORy5zZXQoZWRpdG9yLCAhMCksIGVkaXRvci5vbkNoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlZGl0b3IuaGlzdG9yeS51bmRvcy5wdXNoKHN0ZXApLCBlZGl0b3IuaGlzdG9yeS5yZWRvcy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIGVkaXRvcjtcbiAgfTtcbn1cbmZ1bmN0aW9uIHRyYW5zZm9ybU9wZXJhdGlvbihlZGl0b3IsIHBhdGNoLCBvcGVyYXRpb24sIHNuYXBzaG90LCBwcmV2aW91c1NuYXBzaG90KSB7XG4gIGRlYnVnVmVyYm9zZSQyICYmIChkZWJ1ZyRnKGBBZGp1c3RpbmcgJyR7b3BlcmF0aW9uLnR5cGV9JyBvcGVyYXRpb24gcGF0aHMgZm9yICcke3BhdGNoLnR5cGV9JyBwYXRjaGApLCBkZWJ1ZyRnKGBPcGVyYXRpb24gJHtKU09OLnN0cmluZ2lmeShvcGVyYXRpb24pfWApLCBkZWJ1ZyRnKGBQYXRjaCAke0pTT04uc3RyaW5naWZ5KHBhdGNoKX1gKSk7XG4gIGNvbnN0IHRyYW5zZm9ybWVkT3BlcmF0aW9uID0geyAuLi5vcGVyYXRpb24gfTtcbiAgaWYgKHBhdGNoLnR5cGUgPT09IFwiaW5zZXJ0XCIgJiYgcGF0Y2gucGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICBjb25zdCBpbnNlcnRCbG9ja0luZGV4ID0gKHNuYXBzaG90IHx8IFtdKS5maW5kSW5kZXgoXG4gICAgICAoYmxrKSA9PiBpc0VxdWFsKHsgX2tleTogYmxrLl9rZXkgfSwgcGF0Y2gucGF0aFswXSlcbiAgICApO1xuICAgIHJldHVybiBkZWJ1ZyRnKFxuICAgICAgYEFkanVzdGluZyBibG9jayBwYXRoICgrJHtwYXRjaC5pdGVtcy5sZW5ndGh9KSBmb3IgJyR7dHJhbnNmb3JtZWRPcGVyYXRpb24udHlwZX0nIG9wZXJhdGlvbiBhbmQgcGF0Y2ggJyR7cGF0Y2gudHlwZX0nYFxuICAgICksIFthZGp1c3RCbG9ja1BhdGgodHJhbnNmb3JtZWRPcGVyYXRpb24sIHBhdGNoLml0ZW1zLmxlbmd0aCwgaW5zZXJ0QmxvY2tJbmRleCldO1xuICB9XG4gIGlmIChwYXRjaC50eXBlID09PSBcInVuc2V0XCIgJiYgcGF0Y2gucGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICBjb25zdCB1bnNldEJsb2NrSW5kZXggPSAocHJldmlvdXNTbmFwc2hvdCB8fCBbXSkuZmluZEluZGV4KFxuICAgICAgKGJsaykgPT4gaXNFcXVhbCh7IF9rZXk6IGJsay5fa2V5IH0sIHBhdGNoLnBhdGhbMF0pXG4gICAgKTtcbiAgICByZXR1cm4gXCJwYXRoXCIgaW4gdHJhbnNmb3JtZWRPcGVyYXRpb24gJiYgQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZE9wZXJhdGlvbi5wYXRoKSAmJiB0cmFuc2Zvcm1lZE9wZXJhdGlvbi5wYXRoWzBdID09PSB1bnNldEJsb2NrSW5kZXggPyAoZGVidWckZyhcIlNraXBwaW5nIHRyYW5zZm9ybWF0aW9uIHRoYXQgdGFyZ2V0ZWQgcmVtb3ZlZCBibG9ja1wiKSwgW10pIDogKGRlYnVnVmVyYm9zZSQyICYmIChkZWJ1ZyRnKGBTZWxlY3Rpb24gJHtKU09OLnN0cmluZ2lmeShlZGl0b3Iuc2VsZWN0aW9uKX1gKSwgZGVidWckZyhcbiAgICAgIGBBZGp1c3RpbmcgYmxvY2sgcGF0aCAoLTEpIGZvciAnJHt0cmFuc2Zvcm1lZE9wZXJhdGlvbi50eXBlfScgb3BlcmF0aW9uIGFuZCBwYXRjaCAnJHtwYXRjaC50eXBlfSdgXG4gICAgKSksIFthZGp1c3RCbG9ja1BhdGgodHJhbnNmb3JtZWRPcGVyYXRpb24sIC0xLCB1bnNldEJsb2NrSW5kZXgpXSk7XG4gIH1cbiAgaWYgKHBhdGNoLnR5cGUgPT09IFwidW5zZXRcIiAmJiBwYXRjaC5wYXRoLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm4gZGVidWckZyhgQWRqdXN0aW5nIHNlbGVjdGlvbiBmb3IgdW5zZXQgZXZlcnl0aGluZyBwYXRjaCBhbmQgJHtvcGVyYXRpb24udHlwZX0gb3BlcmF0aW9uYCksIFtdO1xuICBpZiAocGF0Y2gudHlwZSA9PT0gXCJkaWZmTWF0Y2hQYXRjaFwiKSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uVGFyZ2V0QmxvY2sgPSBmaW5kT3BlcmF0aW9uVGFyZ2V0QmxvY2soZWRpdG9yLCB0cmFuc2Zvcm1lZE9wZXJhdGlvbik7XG4gICAgcmV0dXJuICFvcGVyYXRpb25UYXJnZXRCbG9jayB8fCAhaXNFcXVhbCh7IF9rZXk6IG9wZXJhdGlvblRhcmdldEJsb2NrLl9rZXkgfSwgcGF0Y2gucGF0aFswXSkgPyBbdHJhbnNmb3JtZWRPcGVyYXRpb25dIDogKHBhcnNlKHBhdGNoLnZhbHVlKS5mb3JFYWNoKChkaWZmUGF0Y2gpID0+IHtcbiAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgIGxldCBhZGp1c3RPZmZzZXRCeSA9IDAsIGNoYW5nZWRPZmZzZXQgPSBkaWZmUGF0Y2gudXRmOFN0YXJ0MTtcbiAgICAgIGNvbnN0IHsgZGlmZnMgfSA9IGRpZmZQYXRjaDtcbiAgICAgIGlmIChkaWZmcy5mb3JFYWNoKChkaWZmMiwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgW2RpZmZUeXBlLCB0ZXh0XSA9IGRpZmYyO1xuICAgICAgICBkaWZmVHlwZSA9PT0gRElGRl9JTlNFUlQgPyAoYWRqdXN0T2Zmc2V0QnkgKz0gdGV4dC5sZW5ndGgsIGNoYW5nZWRPZmZzZXQgKz0gdGV4dC5sZW5ndGgpIDogZGlmZlR5cGUgPT09IERJRkZfREVMRVRFID8gKGFkanVzdE9mZnNldEJ5IC09IHRleHQubGVuZ3RoLCBjaGFuZ2VkT2Zmc2V0IC09IHRleHQubGVuZ3RoKSA6IGRpZmZUeXBlID09PSBESUZGX0VRVUFMICYmIChkaWZmcy5zbGljZShpbmRleCkuZXZlcnkoKFtkVHlwZV0pID0+IGRUeXBlID09PSBESUZGX0VRVUFMKSB8fCAoY2hhbmdlZE9mZnNldCArPSB0ZXh0Lmxlbmd0aCkpO1xuICAgICAgfSksIHRyYW5zZm9ybWVkT3BlcmF0aW9uLnR5cGUgPT09IFwiaW5zZXJ0X3RleHRcIiAmJiBjaGFuZ2VkT2Zmc2V0IDwgdHJhbnNmb3JtZWRPcGVyYXRpb24ub2Zmc2V0ICYmICh0cmFuc2Zvcm1lZE9wZXJhdGlvbi5vZmZzZXQgKz0gYWRqdXN0T2Zmc2V0QnkpLCB0cmFuc2Zvcm1lZE9wZXJhdGlvbi50eXBlID09PSBcInJlbW92ZV90ZXh0XCIgJiYgY2hhbmdlZE9mZnNldCA8PSB0cmFuc2Zvcm1lZE9wZXJhdGlvbi5vZmZzZXQgLSB0cmFuc2Zvcm1lZE9wZXJhdGlvbi50ZXh0Lmxlbmd0aCAmJiAodHJhbnNmb3JtZWRPcGVyYXRpb24ub2Zmc2V0ICs9IGFkanVzdE9mZnNldEJ5KSwgdHJhbnNmb3JtZWRPcGVyYXRpb24udHlwZSA9PT0gXCJzZXRfc2VsZWN0aW9uXCIpIHtcbiAgICAgICAgY29uc3QgY3VycmVudEZvY3VzID0gKF9hID0gdHJhbnNmb3JtZWRPcGVyYXRpb24ucHJvcGVydGllcykgIT0gbnVsbCAmJiBfYS5mb2N1cyA/IHsgLi4udHJhbnNmb3JtZWRPcGVyYXRpb24ucHJvcGVydGllcy5mb2N1cyB9IDogdm9pZCAwLCBjdXJyZW50QW5jaG9yID0gKF9iID0gdHJhbnNmb3JtZWRPcGVyYXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zZm9ybWVkT3BlcmF0aW9uLnByb3BlcnRpZXMpICE9IG51bGwgJiYgX2IuYW5jaG9yID8geyAuLi50cmFuc2Zvcm1lZE9wZXJhdGlvbi5wcm9wZXJ0aWVzLmFuY2hvciB9IDogdm9pZCAwLCBuZXdGb2N1cyA9IChfYyA9IHRyYW5zZm9ybWVkT3BlcmF0aW9uID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2Zvcm1lZE9wZXJhdGlvbi5uZXdQcm9wZXJ0aWVzKSAhPSBudWxsICYmIF9jLmZvY3VzID8geyAuLi50cmFuc2Zvcm1lZE9wZXJhdGlvbi5uZXdQcm9wZXJ0aWVzLmZvY3VzIH0gOiB2b2lkIDAsIG5ld0FuY2hvciA9IChfZCA9IHRyYW5zZm9ybWVkT3BlcmF0aW9uID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2Zvcm1lZE9wZXJhdGlvbi5uZXdQcm9wZXJ0aWVzKSAhPSBudWxsICYmIF9kLmFuY2hvciA/IHsgLi4udHJhbnNmb3JtZWRPcGVyYXRpb24ubmV3UHJvcGVydGllcy5hbmNob3IgfSA6IHZvaWQgMDtcbiAgICAgICAgKGN1cnJlbnRGb2N1cyAmJiBjdXJyZW50QW5jaG9yIHx8IG5ld0ZvY3VzICYmIG5ld0FuY2hvcikgJiYgKFtjdXJyZW50Rm9jdXMsIGN1cnJlbnRBbmNob3IsIG5ld0ZvY3VzLCBuZXdBbmNob3JdLmZvckVhY2goKHBvaW50KSA9PiB7XG4gICAgICAgICAgcG9pbnQgJiYgY2hhbmdlZE9mZnNldCA8IHBvaW50Lm9mZnNldCAmJiAocG9pbnQub2Zmc2V0ICs9IGFkanVzdE9mZnNldEJ5KTtcbiAgICAgICAgfSksIGN1cnJlbnRGb2N1cyAmJiBjdXJyZW50QW5jaG9yICYmICh0cmFuc2Zvcm1lZE9wZXJhdGlvbi5wcm9wZXJ0aWVzID0ge1xuICAgICAgICAgIGZvY3VzOiBjdXJyZW50Rm9jdXMsXG4gICAgICAgICAgYW5jaG9yOiBjdXJyZW50QW5jaG9yXG4gICAgICAgIH0pLCBuZXdGb2N1cyAmJiBuZXdBbmNob3IgJiYgKHRyYW5zZm9ybWVkT3BlcmF0aW9uLm5ld1Byb3BlcnRpZXMgPSB7XG4gICAgICAgICAgZm9jdXM6IG5ld0ZvY3VzLFxuICAgICAgICAgIGFuY2hvcjogbmV3QW5jaG9yXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9KSwgW3RyYW5zZm9ybWVkT3BlcmF0aW9uXSk7XG4gIH1cbiAgcmV0dXJuIFt0cmFuc2Zvcm1lZE9wZXJhdGlvbl07XG59XG5mdW5jdGlvbiBhZGp1c3RCbG9ja1BhdGgob3BlcmF0aW9uLCBsZXZlbCwgYmxvY2tJbmRleCkge1xuICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gIGNvbnN0IHRyYW5zZm9ybWVkT3BlcmF0aW9uID0geyAuLi5vcGVyYXRpb24gfTtcbiAgaWYgKGJsb2NrSW5kZXggPj0gMCAmJiB0cmFuc2Zvcm1lZE9wZXJhdGlvbi50eXBlICE9PSBcInNldF9zZWxlY3Rpb25cIiAmJiBBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkT3BlcmF0aW9uLnBhdGgpICYmIHRyYW5zZm9ybWVkT3BlcmF0aW9uLnBhdGhbMF0gPj0gYmxvY2tJbmRleCArIGxldmVsICYmIHRyYW5zZm9ybWVkT3BlcmF0aW9uLnBhdGhbMF0gKyBsZXZlbCA+IC0xKSB7XG4gICAgY29uc3QgbmV3UGF0aCA9IFt0cmFuc2Zvcm1lZE9wZXJhdGlvbi5wYXRoWzBdICsgbGV2ZWwsIC4uLnRyYW5zZm9ybWVkT3BlcmF0aW9uLnBhdGguc2xpY2UoMSldO1xuICAgIHRyYW5zZm9ybWVkT3BlcmF0aW9uLnBhdGggPSBuZXdQYXRoO1xuICB9XG4gIGlmICh0cmFuc2Zvcm1lZE9wZXJhdGlvbi50eXBlID09PSBcInNldF9zZWxlY3Rpb25cIikge1xuICAgIGNvbnN0IGN1cnJlbnRGb2N1cyA9IChfYSA9IHRyYW5zZm9ybWVkT3BlcmF0aW9uLnByb3BlcnRpZXMpICE9IG51bGwgJiYgX2EuZm9jdXMgPyB7IC4uLnRyYW5zZm9ybWVkT3BlcmF0aW9uLnByb3BlcnRpZXMuZm9jdXMgfSA6IHZvaWQgMCwgY3VycmVudEFuY2hvciA9IChfYiA9IHRyYW5zZm9ybWVkT3BlcmF0aW9uID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2Zvcm1lZE9wZXJhdGlvbi5wcm9wZXJ0aWVzKSAhPSBudWxsICYmIF9iLmFuY2hvciA/IHsgLi4udHJhbnNmb3JtZWRPcGVyYXRpb24ucHJvcGVydGllcy5hbmNob3IgfSA6IHZvaWQgMCwgbmV3Rm9jdXMgPSAoX2MgPSB0cmFuc2Zvcm1lZE9wZXJhdGlvbiA9PSBudWxsID8gdm9pZCAwIDogdHJhbnNmb3JtZWRPcGVyYXRpb24ubmV3UHJvcGVydGllcykgIT0gbnVsbCAmJiBfYy5mb2N1cyA/IHsgLi4udHJhbnNmb3JtZWRPcGVyYXRpb24ubmV3UHJvcGVydGllcy5mb2N1cyB9IDogdm9pZCAwLCBuZXdBbmNob3IgPSAoX2QgPSB0cmFuc2Zvcm1lZE9wZXJhdGlvbiA9PSBudWxsID8gdm9pZCAwIDogdHJhbnNmb3JtZWRPcGVyYXRpb24ubmV3UHJvcGVydGllcykgIT0gbnVsbCAmJiBfZC5hbmNob3IgPyB7IC4uLnRyYW5zZm9ybWVkT3BlcmF0aW9uLm5ld1Byb3BlcnRpZXMuYW5jaG9yIH0gOiB2b2lkIDA7XG4gICAgKGN1cnJlbnRGb2N1cyAmJiBjdXJyZW50QW5jaG9yIHx8IG5ld0ZvY3VzICYmIG5ld0FuY2hvcikgJiYgKFtjdXJyZW50Rm9jdXMsIGN1cnJlbnRBbmNob3IsIG5ld0ZvY3VzLCBuZXdBbmNob3JdLmZvckVhY2goKHBvaW50KSA9PiB7XG4gICAgICBwb2ludCAmJiBwb2ludC5wYXRoWzBdID49IGJsb2NrSW5kZXggKyBsZXZlbCAmJiBwb2ludC5wYXRoWzBdICsgbGV2ZWwgPiAtMSAmJiAocG9pbnQucGF0aCA9IFtwb2ludC5wYXRoWzBdICsgbGV2ZWwsIC4uLnBvaW50LnBhdGguc2xpY2UoMSldKTtcbiAgICB9KSwgY3VycmVudEZvY3VzICYmIGN1cnJlbnRBbmNob3IgJiYgKHRyYW5zZm9ybWVkT3BlcmF0aW9uLnByb3BlcnRpZXMgPSB7XG4gICAgICBmb2N1czogY3VycmVudEZvY3VzLFxuICAgICAgYW5jaG9yOiBjdXJyZW50QW5jaG9yXG4gICAgfSksIG5ld0ZvY3VzICYmIG5ld0FuY2hvciAmJiAodHJhbnNmb3JtZWRPcGVyYXRpb24ubmV3UHJvcGVydGllcyA9IHtcbiAgICAgIGZvY3VzOiBuZXdGb2N1cyxcbiAgICAgIGFuY2hvcjogbmV3QW5jaG9yXG4gICAgfSkpO1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1lZE9wZXJhdGlvbjtcbn1cbmNvbnN0IHNob3VsZE1lcmdlID0gKG9wLCBwcmV2KSA9PiAhIShvcC50eXBlID09PSBcInNldF9zZWxlY3Rpb25cIiB8fCBwcmV2ICYmIG9wLnR5cGUgPT09IFwiaW5zZXJ0X3RleHRcIiAmJiBwcmV2LnR5cGUgPT09IFwiaW5zZXJ0X3RleHRcIiAmJiBvcC5vZmZzZXQgPT09IHByZXYub2Zmc2V0ICsgcHJldi50ZXh0Lmxlbmd0aCAmJiBQYXRoLmVxdWFscyhvcC5wYXRoLCBwcmV2LnBhdGgpICYmIG9wLnRleHQgIT09IFwiIFwiIHx8IHByZXYgJiYgb3AudHlwZSA9PT0gXCJyZW1vdmVfdGV4dFwiICYmIHByZXYudHlwZSA9PT0gXCJyZW1vdmVfdGV4dFwiICYmIG9wLm9mZnNldCArIG9wLnRleHQubGVuZ3RoID09PSBwcmV2Lm9mZnNldCAmJiBQYXRoLmVxdWFscyhvcC5wYXRoLCBwcmV2LnBhdGgpKSwgc2hvdWxkT3ZlcndyaXRlID0gKG9wLCBwcmV2KSA9PiAhIShwcmV2ICYmIG9wLnR5cGUgPT09IFwic2V0X3NlbGVjdGlvblwiICYmIHByZXYudHlwZSA9PT0gXCJzZXRfc2VsZWN0aW9uXCIpLCBzaG91bGRDbGVhciA9IChvcCkgPT4gb3AudHlwZSAhPT0gXCJzZXRfc2VsZWN0aW9uXCI7XG5mdW5jdGlvbiB3aXRob3V0U2F2aW5nKGVkaXRvciwgZm4pIHtcbiAgY29uc3QgcHJldiA9IGlzU2F2aW5nKGVkaXRvcik7XG4gIFNBVklORy5zZXQoZWRpdG9yLCAhMSksIGZuKCksIFNBVklORy5zZXQoZWRpdG9yLCBwcmV2KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNlbGVjdE9wZXJhdGlvbihlZGl0b3IpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcInNldF9zZWxlY3Rpb25cIixcbiAgICBwcm9wZXJ0aWVzOiB7IC4uLmVkaXRvci5zZWxlY3Rpb24gfSxcbiAgICBuZXdQcm9wZXJ0aWVzOiB7IC4uLmVkaXRvci5zZWxlY3Rpb24gfVxuICB9O1xufVxuZnVuY3Rpb24gZmluZE9wZXJhdGlvblRhcmdldEJsb2NrKGVkaXRvciwgb3BlcmF0aW9uKSB7XG4gIGxldCBibG9jaztcbiAgcmV0dXJuIG9wZXJhdGlvbi50eXBlID09PSBcInNldF9zZWxlY3Rpb25cIiAmJiBlZGl0b3Iuc2VsZWN0aW9uID8gYmxvY2sgPSBlZGl0b3IuY2hpbGRyZW5bZWRpdG9yLnNlbGVjdGlvbi5mb2N1cy5wYXRoWzBdXSA6IFwicGF0aFwiIGluIG9wZXJhdGlvbiAmJiAoYmxvY2sgPSBlZGl0b3IuY2hpbGRyZW5bb3BlcmF0aW9uLnBhdGhbMF1dKSwgYmxvY2s7XG59XG5jb25zdCBkZWJ1ZyRmID0gZGVidWdXaXRoTmFtZShcInBsdWdpbjp3aXRoUGF0Y2hlc1wiKTtcbmZ1bmN0aW9uIGNyZWF0ZVdpdGhQYXRjaGVzKHtcbiAgY2hhbmdlJCxcbiAgcGF0Y2hlcyQsXG4gIHBhdGNoRnVuY3Rpb25zLFxuICByZWFkT25seSxcbiAgc2NoZW1hVHlwZXNcbn0pIHtcbiAgbGV0IHByZXZpb3VzQ2hpbGRyZW47XG4gIGNvbnN0IGFwcGx5UGF0Y2gyID0gY3JlYXRlQXBwbHlQYXRjaChzY2hlbWFUeXBlcyk7XG4gIHJldHVybiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICBJU19QUk9DRVNTSU5HX1JFTU9URV9DSEFOR0VTLnNldChlZGl0b3IsICExKSwgUEFUQ0hJTkcuc2V0KGVkaXRvciwgITApLCBwcmV2aW91c0NoaWxkcmVuID0gWy4uLmVkaXRvci5jaGlsZHJlbl07XG4gICAgY29uc3QgeyBhcHBseTogYXBwbHkyIH0gPSBlZGl0b3I7XG4gICAgbGV0IGJ1ZmZlcmVkUGF0Y2hlcyA9IFtdO1xuICAgIGNvbnN0IGhhbmRsZUJ1ZmZlcmVkUmVtb3RlUGF0Y2hlcyA9ICgpID0+IHtcbiAgICAgIGlmIChidWZmZXJlZFBhdGNoZXMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBwYXRjaGVzID0gYnVmZmVyZWRQYXRjaGVzO1xuICAgICAgYnVmZmVyZWRQYXRjaGVzID0gW107XG4gICAgICBsZXQgY2hhbmdlZCA9ICExO1xuICAgICAgd2l0aFJlbW90ZUNoYW5nZXMoZWRpdG9yLCAoKSA9PiB7XG4gICAgICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgICAgICAgd2l0aG91dFBhdGNoaW5nKGVkaXRvciwgKCkgPT4ge1xuICAgICAgICAgICAgd2l0aG91dFNhdmluZyhlZGl0b3IsICgpID0+IHtcbiAgICAgICAgICAgICAgd2l0aFByZXNlcnZlS2V5cyhlZGl0b3IsICgpID0+IHtcbiAgICAgICAgICAgICAgICBwYXRjaGVzLmZvckVhY2goKHBhdGNoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBkZWJ1ZyRmLmVuYWJsZWQgJiYgZGVidWckZihgSGFuZGxpbmcgcmVtb3RlIHBhdGNoICR7SlNPTi5zdHJpbmdpZnkocGF0Y2gpfWApLCBjaGFuZ2VkID0gYXBwbHlQYXRjaDIoZWRpdG9yLCBwYXRjaCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLCBjaGFuZ2VkICYmIChlZGl0b3Iubm9ybWFsaXplKCksIGVkaXRvci5vbkNoYW5nZSgpKTtcbiAgICAgIH0pO1xuICAgIH0sIGhhbmRsZVBhdGNoZXMgPSAoeyBwYXRjaGVzIH0pID0+IHtcbiAgICAgIGNvbnN0IHJlbW90ZVBhdGNoZXMgPSBwYXRjaGVzLmZpbHRlcigocCkgPT4gcC5vcmlnaW4gIT09IFwibG9jYWxcIik7XG4gICAgICByZW1vdGVQYXRjaGVzLmxlbmd0aCAhPT0gMCAmJiAoYnVmZmVyZWRQYXRjaGVzID0gYnVmZmVyZWRQYXRjaGVzLmNvbmNhdChyZW1vdGVQYXRjaGVzKSwgaGFuZGxlQnVmZmVyZWRSZW1vdGVQYXRjaGVzKCkpO1xuICAgIH07XG4gICAgcmV0dXJuIHBhdGNoZXMkICYmIGVkaXRvci5zdWJzY3JpcHRpb25zLnB1c2goKCkgPT4ge1xuICAgICAgZGVidWckZihcIlN1YnNjcmliaW5nIHRvIHBhdGNoZXMkXCIpO1xuICAgICAgY29uc3Qgc3ViID0gcGF0Y2hlcyQuc3Vic2NyaWJlKGhhbmRsZVBhdGNoZXMpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZGVidWckZihcIlVuc3Vic2NyaWJpbmcgdG8gcGF0Y2hlcyRcIiksIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgfTtcbiAgICB9KSwgZWRpdG9yLmFwcGx5ID0gKG9wZXJhdGlvbikgPT4ge1xuICAgICAgaWYgKHJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gYXBwbHkyKG9wZXJhdGlvbiksIGVkaXRvcjtcbiAgICAgIGxldCBwYXRjaGVzID0gW107XG4gICAgICBwcmV2aW91c0NoaWxkcmVuID0gZWRpdG9yLmNoaWxkcmVuO1xuICAgICAgY29uc3QgZWRpdG9yV2FzRW1wdHkgPSBpc0VxdWFsVG9FbXB0eUVkaXRvcihwcmV2aW91c0NoaWxkcmVuLCBzY2hlbWFUeXBlcyk7XG4gICAgICBhcHBseTIob3BlcmF0aW9uKTtcbiAgICAgIGNvbnN0IGVkaXRvcklzRW1wdHkgPSBpc0VxdWFsVG9FbXB0eUVkaXRvcihlZGl0b3IuY2hpbGRyZW4sIHNjaGVtYVR5cGVzKTtcbiAgICAgIGlmICghaXNQYXRjaGluZyhlZGl0b3IpKVxuICAgICAgICByZXR1cm4gZWRpdG9yO1xuICAgICAgc3dpdGNoIChlZGl0b3JXYXNFbXB0eSAmJiAhZWRpdG9ySXNFbXB0eSAmJiBvcGVyYXRpb24udHlwZSAhPT0gXCJzZXRfc2VsZWN0aW9uXCIgJiYgcGF0Y2hlcy5wdXNoKGluc2VydCQxKHByZXZpb3VzQ2hpbGRyZW4sIFwiYmVmb3JlXCIsIFswXSkpLCBvcGVyYXRpb24udHlwZSkge1xuICAgICAgICBjYXNlIFwiaW5zZXJ0X3RleHRcIjpcbiAgICAgICAgICBwYXRjaGVzID0gW1xuICAgICAgICAgICAgLi4ucGF0Y2hlcyxcbiAgICAgICAgICAgIC4uLnBhdGNoRnVuY3Rpb25zLmluc2VydFRleHRQYXRjaChlZGl0b3IsIG9wZXJhdGlvbiwgcHJldmlvdXNDaGlsZHJlbilcbiAgICAgICAgICBdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVtb3ZlX3RleHRcIjpcbiAgICAgICAgICBwYXRjaGVzID0gW1xuICAgICAgICAgICAgLi4ucGF0Y2hlcyxcbiAgICAgICAgICAgIC4uLnBhdGNoRnVuY3Rpb25zLnJlbW92ZVRleHRQYXRjaChlZGl0b3IsIG9wZXJhdGlvbiwgcHJldmlvdXNDaGlsZHJlbilcbiAgICAgICAgICBdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVtb3ZlX25vZGVcIjpcbiAgICAgICAgICBwYXRjaGVzID0gW1xuICAgICAgICAgICAgLi4ucGF0Y2hlcyxcbiAgICAgICAgICAgIC4uLnBhdGNoRnVuY3Rpb25zLnJlbW92ZU5vZGVQYXRjaChlZGl0b3IsIG9wZXJhdGlvbiwgcHJldmlvdXNDaGlsZHJlbilcbiAgICAgICAgICBdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3BsaXRfbm9kZVwiOlxuICAgICAgICAgIHBhdGNoZXMgPSBbXG4gICAgICAgICAgICAuLi5wYXRjaGVzLFxuICAgICAgICAgICAgLi4ucGF0Y2hGdW5jdGlvbnMuc3BsaXROb2RlUGF0Y2goZWRpdG9yLCBvcGVyYXRpb24sIHByZXZpb3VzQ2hpbGRyZW4pXG4gICAgICAgICAgXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImluc2VydF9ub2RlXCI6XG4gICAgICAgICAgcGF0Y2hlcyA9IFtcbiAgICAgICAgICAgIC4uLnBhdGNoZXMsXG4gICAgICAgICAgICAuLi5wYXRjaEZ1bmN0aW9ucy5pbnNlcnROb2RlUGF0Y2goZWRpdG9yLCBvcGVyYXRpb24sIHByZXZpb3VzQ2hpbGRyZW4pXG4gICAgICAgICAgXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNldF9ub2RlXCI6XG4gICAgICAgICAgcGF0Y2hlcyA9IFtcbiAgICAgICAgICAgIC4uLnBhdGNoZXMsXG4gICAgICAgICAgICAuLi5wYXRjaEZ1bmN0aW9ucy5zZXROb2RlUGF0Y2goZWRpdG9yLCBvcGVyYXRpb24sIHByZXZpb3VzQ2hpbGRyZW4pXG4gICAgICAgICAgXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lcmdlX25vZGVcIjpcbiAgICAgICAgICBwYXRjaGVzID0gW1xuICAgICAgICAgICAgLi4ucGF0Y2hlcyxcbiAgICAgICAgICAgIC4uLnBhdGNoRnVuY3Rpb25zLm1lcmdlTm9kZVBhdGNoKGVkaXRvciwgb3BlcmF0aW9uLCBwcmV2aW91c0NoaWxkcmVuKVxuICAgICAgICAgIF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtb3ZlX25vZGVcIjpcbiAgICAgICAgICBwYXRjaGVzID0gW1xuICAgICAgICAgICAgLi4ucGF0Y2hlcyxcbiAgICAgICAgICAgIC4uLnBhdGNoRnVuY3Rpb25zLm1vdmVOb2RlUGF0Y2goZWRpdG9yLCBvcGVyYXRpb24sIHByZXZpb3VzQ2hpbGRyZW4pXG4gICAgICAgICAgXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiAhZWRpdG9yV2FzRW1wdHkgJiYgZWRpdG9ySXNFbXB0eSAmJiBbXCJtZXJnZV9ub2RlXCIsIFwic2V0X25vZGVcIiwgXCJyZW1vdmVfdGV4dFwiLCBcInJlbW92ZV9ub2RlXCJdLmluY2x1ZGVzKG9wZXJhdGlvbi50eXBlKSAmJiAocGF0Y2hlcyA9IFsuLi5wYXRjaGVzLCB1bnNldChbXSldLCBjaGFuZ2UkLm5leHQoe1xuICAgICAgICB0eXBlOiBcInVuc2V0XCIsXG4gICAgICAgIHByZXZpb3VzVmFsdWU6IGZyb21TbGF0ZVZhbHVlKFxuICAgICAgICAgIHByZXZpb3VzQ2hpbGRyZW4sXG4gICAgICAgICAgc2NoZW1hVHlwZXMuYmxvY2submFtZSxcbiAgICAgICAgICBLRVlfVE9fVkFMVUVfRUxFTUVOVC5nZXQoZWRpdG9yKVxuICAgICAgICApXG4gICAgICB9KSksIGVkaXRvcldhc0VtcHR5ICYmIHBhdGNoZXMubGVuZ3RoID4gMCAmJiAocGF0Y2hlcyA9IFtzZXRJZk1pc3NpbmcoW10sIFtdKSwgLi4ucGF0Y2hlc10pLCBwYXRjaGVzLmxlbmd0aCA+IDAgJiYgcGF0Y2hlcy5mb3JFYWNoKChwYXRjaCkgPT4ge1xuICAgICAgICBjaGFuZ2UkLm5leHQoe1xuICAgICAgICAgIHR5cGU6IFwicGF0Y2hcIixcbiAgICAgICAgICBwYXRjaDogeyAuLi5wYXRjaCwgb3JpZ2luOiBcImxvY2FsXCIgfVxuICAgICAgICB9KTtcbiAgICAgIH0pLCBlZGl0b3I7XG4gICAgfSwgZWRpdG9yO1xuICB9O1xufVxuY29uc3QgZGVidWckZSA9IGRlYnVnV2l0aE5hbWUoXCJwbHVnaW46d2l0aFBsYWNlaG9sZGVyQmxvY2tcIik7XG5mdW5jdGlvbiBjcmVhdGVXaXRoUGxhY2Vob2xkZXJCbG9jaygpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGVkaXRvcikge1xuICAgIGNvbnN0IHsgYXBwbHk6IGFwcGx5MiB9ID0gZWRpdG9yO1xuICAgIHJldHVybiBlZGl0b3IuYXBwbHkgPSAob3ApID0+IHtcbiAgICAgIGlmIChvcC50eXBlID09PSBcInJlbW92ZV9ub2RlXCIpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG9wLm5vZGU7XG4gICAgICAgIGlmIChvcC5wYXRoWzBdID09PSAwICYmIEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBub2RlKSkge1xuICAgICAgICAgIGNvbnN0IG5leHRQYXRoID0gUGF0aC5uZXh0KG9wLnBhdGgpO1xuICAgICAgICAgIGVkaXRvci5jaGlsZHJlbltuZXh0UGF0aFswXV0gfHwgKGRlYnVnJGUoXCJBZGRpbmcgcGxhY2Vob2xkZXIgYmxvY2tcIiksIEVkaXRvci5pbnNlcnROb2RlKGVkaXRvciwgZWRpdG9yLnB0ZUNyZWF0ZUVtcHR5QmxvY2soKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhcHBseTIob3ApO1xuICAgIH0sIGVkaXRvcjtcbiAgfTtcbn1cbmNvbnN0IGRlYnVnJGQgPSBkZWJ1Z1dpdGhOYW1lKFwicGx1Z2luOndpdGhQb3J0YWJsZVRleHRCbG9ja1N0eWxlXCIpO1xuZnVuY3Rpb24gY3JlYXRlV2l0aFBvcnRhYmxlVGV4dEJsb2NrU3R5bGUodHlwZXMpIHtcbiAgY29uc3QgZGVmYXVsdFN0eWxlID0gdHlwZXMuc3R5bGVzWzBdLnZhbHVlO1xuICByZXR1cm4gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgY29uc3QgeyBub3JtYWxpemVOb2RlIH0gPSBlZGl0b3I7XG4gICAgcmV0dXJuIGVkaXRvci5ub3JtYWxpemVOb2RlID0gKG5vZGVFbnRyeSkgPT4ge1xuICAgICAgbm9ybWFsaXplTm9kZShub2RlRW50cnkpO1xuICAgICAgY29uc3QgWywgcGF0aF0gPSBub2RlRW50cnk7XG4gICAgICBmb3IgKGNvbnN0IG9wIG9mIGVkaXRvci5vcGVyYXRpb25zKVxuICAgICAgICBpZiAob3AudHlwZSA9PT0gXCJzcGxpdF9ub2RlXCIgJiYgb3AucGF0aC5sZW5ndGggPT09IDEgJiYgZWRpdG9yLmlzVGV4dEJsb2NrKG9wLnByb3BlcnRpZXMpICYmIG9wLnByb3BlcnRpZXMuc3R5bGUgIT09IGRlZmF1bHRTdHlsZSAmJiBvcC5wYXRoWzBdID09PSBwYXRoWzBdICYmICFQYXRoLmVxdWFscyhwYXRoLCBvcC5wYXRoKSkge1xuICAgICAgICAgIGNvbnN0IFtjaGlsZF0gPSBFZGl0b3Iubm9kZShlZGl0b3IsIFtvcC5wYXRoWzBdICsgMSwgMF0pO1xuICAgICAgICAgIGlmIChUZXh0LmlzVGV4dChjaGlsZCkgJiYgY2hpbGQudGV4dCA9PT0gXCJcIikge1xuICAgICAgICAgICAgZGVidWckZChgTm9ybWFsaXppbmcgc3BsaXQgbm9kZSB0byAke2RlZmF1bHRTdHlsZX0gc3R5bGVgLCBvcCksIFRyYW5zZm9ybXMuc2V0Tm9kZXMoZWRpdG9yLCB7IHN0eWxlOiBkZWZhdWx0U3R5bGUgfSwgeyBhdDogW29wLnBhdGhbMF0gKyAxXSwgdm9pZHM6ICExIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgZWRpdG9yLnB0ZUhhc0Jsb2NrU3R5bGUgPSAoc3R5bGUpID0+IGVkaXRvci5zZWxlY3Rpb24gPyBbXG4gICAgICAuLi5FZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgIGF0OiBlZGl0b3Iuc2VsZWN0aW9uLFxuICAgICAgICBtYXRjaDogKG5vZGUpID0+IGVkaXRvci5pc1RleHRCbG9jayhub2RlKSAmJiBub2RlLnN0eWxlID09PSBzdHlsZVxuICAgICAgfSlcbiAgICBdLmxlbmd0aCA+IDAgOiAhMSwgZWRpdG9yLnB0ZVRvZ2dsZUJsb2NrU3R5bGUgPSAoYmxvY2tTdHlsZSkgPT4ge1xuICAgICAgZWRpdG9yLnNlbGVjdGlvbiAmJiAoW1xuICAgICAgICAuLi5FZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICAgICAgbWF0Y2g6IChub2RlKSA9PiBlZGl0b3IuaXNUZXh0QmxvY2sobm9kZSlcbiAgICAgICAgfSlcbiAgICAgIF0uZm9yRWFjaCgoW25vZGUsIHBhdGhdKSA9PiB7XG4gICAgICAgIGVkaXRvci5pc1RleHRCbG9jayhub2RlKSAmJiBub2RlLnN0eWxlID09PSBibG9ja1N0eWxlID8gKGRlYnVnJGQoYFVuc2V0dGluZyBibG9jayBzdHlsZSAnJHtibG9ja1N0eWxlfSdgKSwgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHsgLi4ubm9kZSwgc3R5bGU6IGRlZmF1bHRTdHlsZSB9LCB7XG4gICAgICAgICAgYXQ6IHBhdGhcbiAgICAgICAgfSkpIDogKGJsb2NrU3R5bGUgPyBkZWJ1ZyRkKGBTZXR0aW5nIHN0eWxlICcke2Jsb2NrU3R5bGV9J2ApIDogZGVidWckZChcIlNldHRpbmcgZGVmYXVsdCBzdHlsZVwiLCBkZWZhdWx0U3R5bGUpLCBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5ub2RlLFxuICAgICAgICAgICAgc3R5bGU6IGJsb2NrU3R5bGUgfHwgZGVmYXVsdFN0eWxlXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IGF0OiBwYXRoIH1cbiAgICAgICAgKSk7XG4gICAgICB9KSwgZWRpdG9yLm9uQ2hhbmdlKCkpO1xuICAgIH0sIGVkaXRvcjtcbiAgfTtcbn1cbmNvbnN0IGRlYnVnJGMgPSBkZWJ1Z1dpdGhOYW1lKFwicGx1Z2luOndpdGhQb3J0YWJsZVRleHRMaXN0c1wiKSwgTUFYX0xJU1RfTEVWRUwgPSAxMDtcbmZ1bmN0aW9uIGNyZWF0ZVdpdGhQb3J0YWJsZVRleHRMaXN0cyh0eXBlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgcmV0dXJuIGVkaXRvci5wdGVUb2dnbGVMaXN0SXRlbSA9IChsaXN0SXRlbVN0eWxlKSA9PiB7XG4gICAgICBlZGl0b3IucHRlSGFzTGlzdFN0eWxlKGxpc3RJdGVtU3R5bGUpID8gKGRlYnVnJGMoYFJlbW92ZSBsaXN0IGl0ZW0gJyR7bGlzdEl0ZW1TdHlsZX0nYCksIGVkaXRvci5wdGVVbnNldExpc3RJdGVtKGxpc3RJdGVtU3R5bGUpKSA6IChkZWJ1ZyRjKGBBZGQgbGlzdCBpdGVtICcke2xpc3RJdGVtU3R5bGV9J2ApLCBlZGl0b3IucHRlU2V0TGlzdEl0ZW0obGlzdEl0ZW1TdHlsZSkpO1xuICAgIH0sIGVkaXRvci5wdGVVbnNldExpc3RJdGVtID0gKGxpc3RJdGVtU3R5bGUpID0+IHtcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24gJiYgW1xuICAgICAgICAuLi5FZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICAgICAgbWF0Y2g6IChub2RlKSA9PiBFbGVtZW50JDEuaXNFbGVtZW50KG5vZGUpICYmIG5vZGUuX3R5cGUgPT09IHR5cGVzLmJsb2NrLm5hbWVcbiAgICAgICAgfSlcbiAgICAgIF0uZm9yRWFjaCgoW25vZGUsIHBhdGhdKSA9PiB7XG4gICAgICAgIGlmIChlZGl0b3IuaXNMaXN0QmxvY2sobm9kZSkpIHtcbiAgICAgICAgICBjb25zdCB7IGxpc3RJdGVtLCBsZXZlbCwgLi4ucmVzdCB9ID0gbm9kZSwgbmV3Tm9kZSA9IHtcbiAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICBsaXN0SXRlbTogdm9pZCAwLFxuICAgICAgICAgICAgbGV2ZWw6IHZvaWQgMFxuICAgICAgICAgIH07XG4gICAgICAgICAgZGVidWckYyhgVW5zZXR0aW5nIGxpc3QgJyR7bGlzdEl0ZW1TdHlsZX0nYCksIFRyYW5zZm9ybXMuc2V0Tm9kZXMoZWRpdG9yLCBuZXdOb2RlLCB7IGF0OiBwYXRoIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCBlZGl0b3IucHRlU2V0TGlzdEl0ZW0gPSAobGlzdEl0ZW1TdHlsZSkgPT4ge1xuICAgICAgZWRpdG9yLnNlbGVjdGlvbiAmJiBbXG4gICAgICAgIC4uLkVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogZWRpdG9yLnNlbGVjdGlvbixcbiAgICAgICAgICBtYXRjaDogKG5vZGUpID0+IGVkaXRvci5pc1RleHRCbG9jayhub2RlKVxuICAgICAgICB9KVxuICAgICAgXS5mb3JFYWNoKChbbm9kZSwgcGF0aF0pID0+IHtcbiAgICAgICAgZGVidWckYyhgU2V0dGluZyBsaXN0ICcke2xpc3RJdGVtU3R5bGV9J2ApLCBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5ub2RlLFxuICAgICAgICAgICAgbGV2ZWw6IDEsXG4gICAgICAgICAgICBsaXN0SXRlbTogbGlzdEl0ZW1TdHlsZSB8fCB0eXBlcy5saXN0c1swXSAmJiB0eXBlcy5saXN0c1swXS52YWx1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBhdDogcGF0aCB9XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9LCBlZGl0b3IucHRlRW5kTGlzdCA9ICgpID0+IHtcbiAgICAgIGlmICghZWRpdG9yLnNlbGVjdGlvbilcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRCbG9ja3MgPSBbXG4gICAgICAgIC4uLkVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogZWRpdG9yLnNlbGVjdGlvbixcbiAgICAgICAgICBtYXRjaDogKG5vZGUpID0+IEVsZW1lbnQkMS5pc0VsZW1lbnQobm9kZSkgJiYgZWRpdG9yLmlzTGlzdEJsb2NrKG5vZGUpICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIFRleHQuaXNUZXh0KG5vZGUuY2hpbGRyZW5bMF0pICYmIG5vZGUuY2hpbGRyZW5bMF0udGV4dCA9PT0gXCJcIlxuICAgICAgICB9KVxuICAgICAgXTtcbiAgICAgIHJldHVybiBzZWxlY3RlZEJsb2Nrcy5sZW5ndGggPT09IDAgPyAhMSA6IChzZWxlY3RlZEJsb2Nrcy5mb3JFYWNoKChbbm9kZSwgcGF0aF0pID0+IHtcbiAgICAgICAgRWxlbWVudCQxLmlzRWxlbWVudChub2RlKSAmJiAoZGVidWckYyhcIlVuc2V0IGxpc3RcIiksIFRyYW5zZm9ybXMuc2V0Tm9kZXMoXG4gICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLm5vZGUsXG4gICAgICAgICAgICBsZXZlbDogdm9pZCAwLFxuICAgICAgICAgICAgbGlzdEl0ZW06IHZvaWQgMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBhdDogcGF0aCB9XG4gICAgICAgICkpO1xuICAgICAgfSksICEwKTtcbiAgICB9LCBlZGl0b3IucHRlSW5jcmVtZW50QmxvY2tMZXZlbHMgPSAocmV2ZXJzZSkgPT4ge1xuICAgICAgaWYgKCFlZGl0b3Iuc2VsZWN0aW9uKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBjb25zdCBzZWxlY3RlZEJsb2NrcyA9IFtcbiAgICAgICAgLi4uRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBlZGl0b3Iuc2VsZWN0aW9uLFxuICAgICAgICAgIG1hdGNoOiAobm9kZSkgPT4gISFlZGl0b3IuaXNMaXN0QmxvY2sobm9kZSlcbiAgICAgICAgfSlcbiAgICAgIF07XG4gICAgICByZXR1cm4gc2VsZWN0ZWRCbG9ja3MubGVuZ3RoID09PSAwID8gITEgOiAoc2VsZWN0ZWRCbG9ja3MuZm9yRWFjaCgoW25vZGUsIHBhdGhdKSA9PiB7XG4gICAgICAgIGlmIChlZGl0b3IuaXNMaXN0QmxvY2sobm9kZSkpIHtcbiAgICAgICAgICBsZXQgbGV2ZWwgPSBub2RlLmxldmVsIHx8IDE7XG4gICAgICAgICAgcmV2ZXJzZSA/IChsZXZlbC0tLCBkZWJ1ZyRjKFwiRGVjcmVtZW50aW5nIGxpc3QgbGV2ZWxcIiwgTWF0aC5taW4oTUFYX0xJU1RfTEVWRUwsIE1hdGgubWF4KDEsIGxldmVsKSkpKSA6IChsZXZlbCsrLCBkZWJ1ZyRjKFwiSW5jcmVtZW50aW5nIGxpc3QgbGV2ZWxcIiwgTWF0aC5taW4oTUFYX0xJU1RfTEVWRUwsIE1hdGgubWF4KDEsIGxldmVsKSkpKSwgVHJhbnNmb3Jtcy5zZXROb2RlcyhcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIHsgbGV2ZWw6IE1hdGgubWluKE1BWF9MSVNUX0xFVkVMLCBNYXRoLm1heCgxLCBsZXZlbCkpIH0sXG4gICAgICAgICAgICB7IGF0OiBwYXRoIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KSwgITApO1xuICAgIH0sIGVkaXRvci5wdGVIYXNMaXN0U3R5bGUgPSAobGlzdFN0eWxlKSA9PiB7XG4gICAgICBpZiAoIWVkaXRvci5zZWxlY3Rpb24pXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIGNvbnN0IHNlbGVjdGVkQmxvY2tzID0gW1xuICAgICAgICAuLi5FZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICAgICAgbWF0Y2g6IChub2RlKSA9PiBlZGl0b3IuaXNUZXh0QmxvY2sobm9kZSlcbiAgICAgICAgfSlcbiAgICAgIF07XG4gICAgICByZXR1cm4gc2VsZWN0ZWRCbG9ja3MubGVuZ3RoID4gMCA/IHNlbGVjdGVkQmxvY2tzLmV2ZXJ5KFxuICAgICAgICAoW25vZGVdKSA9PiBlZGl0b3IuaXNMaXN0QmxvY2sobm9kZSkgJiYgbm9kZS5saXN0SXRlbSA9PT0gbGlzdFN0eWxlXG4gICAgICApIDogITE7XG4gICAgfSwgZWRpdG9yO1xuICB9O1xufVxuY29uc3QgZGVidWckYiA9IGRlYnVnV2l0aE5hbWUoXCJwbHVnaW46d2l0aFBvcnRhYmxlVGV4dE1hcmtNb2RlbFwiKTtcbmZ1bmN0aW9uIGNyZWF0ZVdpdGhQb3J0YWJsZVRleHRNYXJrTW9kZWwodHlwZXMsIGNoYW5nZSQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGVkaXRvcikge1xuICAgIGNvbnN0IHsgYXBwbHk6IGFwcGx5Miwgbm9ybWFsaXplTm9kZSB9ID0gZWRpdG9yLCBkZWNvcmF0b3JzID0gdHlwZXMuZGVjb3JhdG9ycy5tYXAoKHQpID0+IHQudmFsdWUpLCBmb3JjZU5ld1NlbGVjdGlvbiA9ICgpID0+IHtcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24gJiYgKFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgeyAuLi5lZGl0b3Iuc2VsZWN0aW9uIH0pLCBlZGl0b3Iuc2VsZWN0aW9uID0geyAuLi5lZGl0b3Iuc2VsZWN0aW9uIH0pO1xuICAgICAgY29uc3QgcHRSYW5nZSA9IHRvUG9ydGFibGVUZXh0UmFuZ2UoZWRpdG9yLmNoaWxkcmVuLCBlZGl0b3Iuc2VsZWN0aW9uLCB0eXBlcyk7XG4gICAgICBjaGFuZ2UkLm5leHQoeyB0eXBlOiBcInNlbGVjdGlvblwiLCBzZWxlY3Rpb246IHB0UmFuZ2UgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gZWRpdG9yLm5vcm1hbGl6ZU5vZGUgPSAobm9kZUVudHJ5KSA9PiB7XG4gICAgICBub3JtYWxpemVOb2RlKG5vZGVFbnRyeSksIGVkaXRvci5vcGVyYXRpb25zLnNvbWUoXG4gICAgICAgIChvcCkgPT4gW1xuICAgICAgICAgIFwiaW5zZXJ0X25vZGVcIixcbiAgICAgICAgICBcImluc2VydF90ZXh0XCIsXG4gICAgICAgICAgXCJtZXJnZV9ub2RlXCIsXG4gICAgICAgICAgXCJyZW1vdmVfbm9kZVwiLFxuICAgICAgICAgIFwicmVtb3ZlX3RleHRcIixcbiAgICAgICAgICBcInNldF9ub2RlXCJcbiAgICAgICAgXS5pbmNsdWRlcyhvcC50eXBlKVxuICAgICAgKSAmJiBtZXJnZVNwYW5zKGVkaXRvcik7XG4gICAgICBjb25zdCBbbm9kZSwgcGF0aF0gPSBub2RlRW50cnksIGlzU3BhbiA9IFRleHQuaXNUZXh0KG5vZGUpICYmIG5vZGUuX3R5cGUgPT09IHR5cGVzLnNwYW4ubmFtZSwgaXNUZXh0QmxvY2sgPSBlZGl0b3IuaXNUZXh0QmxvY2sobm9kZSk7XG4gICAgICBpZiAoaXNTcGFuIHx8IGlzVGV4dEJsb2NrKSB7XG4gICAgICAgIGlmIChpc1NwYW4gJiYgIUFycmF5LmlzQXJyYXkobm9kZS5tYXJrcykgJiYgKGRlYnVnJGIoXCJBZGRpbmcgLm1hcmtzIHRvIHNwYW4gbm9kZVwiKSwgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHsgbWFya3M6IFtdIH0sIHsgYXQ6IHBhdGggfSksIGVkaXRvci5vbkNoYW5nZSgpKSwgaXNTcGFuICYmIChub2RlLm1hcmtzIHx8IFtdKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3Qgc3Bhbk1hcmtzID0gbm9kZS5tYXJrcyB8fCBFTVBUWV9NQVJLUyQxLCBhbm5vdGF0aW9uTWFya3MgPSBzcGFuTWFya3MuZmlsdGVyKFxuICAgICAgICAgICAgKG1hcmspID0+ICF0eXBlcy5kZWNvcmF0b3JzLm1hcCgoZGVjKSA9PiBkZWMudmFsdWUpLmluY2x1ZGVzKG1hcmspXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoYW5ub3RhdGlvbk1hcmtzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IFtibG9ja10gPSBFZGl0b3Iubm9kZShlZGl0b3IsIFBhdGgucGFyZW50KHBhdGgpKSwgb3JwaGFuZWRNYXJrcyA9IGVkaXRvci5pc1RleHRCbG9jayhibG9jaykgJiYgYW5ub3RhdGlvbk1hcmtzLmZpbHRlcihcbiAgICAgICAgICAgICAgKG1hcmspID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoKF9hID0gYmxvY2subWFya0RlZnMpICE9IG51bGwgJiYgX2EuZmluZCgoZGVmKSA9PiBkZWYuX2tleSA9PT0gbWFyaykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApIHx8IFtdO1xuICAgICAgICAgICAgb3JwaGFuZWRNYXJrcy5sZW5ndGggPiAwICYmIChkZWJ1ZyRiKFwiUmVtb3Zpbmcgb3JwaGFuZWQgLm1hcmtzIGZyb20gc3BhbiBub2RlXCIpLCBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICAgIHsgbWFya3M6IHNwYW5NYXJrcy5maWx0ZXIoKG1hcmspID0+ICFvcnBoYW5lZE1hcmtzLmluY2x1ZGVzKG1hcmspKSB9LFxuICAgICAgICAgICAgICB7IGF0OiBwYXRoIH1cbiAgICAgICAgICAgICksIGVkaXRvci5vbkNoYW5nZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBvcCBvZiBlZGl0b3Iub3BlcmF0aW9ucykge1xuICAgICAgICAgIGlmIChvcC50eXBlID09PSBcIm1lcmdlX25vZGVcIiAmJiBvcC5wYXRoLmxlbmd0aCA9PT0gMSAmJiBcIm1hcmtEZWZzXCIgaW4gb3AucHJvcGVydGllcyAmJiBvcC5wcm9wZXJ0aWVzLl90eXBlID09PSB0eXBlcy5ibG9jay5uYW1lICYmIEFycmF5LmlzQXJyYXkob3AucHJvcGVydGllcy5tYXJrRGVmcykgJiYgb3AucHJvcGVydGllcy5tYXJrRGVmcy5sZW5ndGggPiAwICYmIG9wLnBhdGhbMF0gLSAxID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IFt0YXJnZXRCbG9jaywgdGFyZ2V0UGF0aF0gPSBFZGl0b3Iubm9kZShlZGl0b3IsIFtvcC5wYXRoWzBdIC0gMV0pO1xuICAgICAgICAgICAgaWYgKGRlYnVnJGIoXCJDb3B5aW5nIG1hcmtEZWZzIG92ZXIgdG8gbWVyZ2VkIGJsb2NrXCIsIG9wKSwgZWRpdG9yLmlzVGV4dEJsb2NrKHRhcmdldEJsb2NrKSkge1xuICAgICAgICAgICAgICBjb25zdCBvbGREZWZzID0gQXJyYXkuaXNBcnJheSh0YXJnZXRCbG9jay5tYXJrRGVmcykgJiYgdGFyZ2V0QmxvY2subWFya0RlZnMgfHwgW10sIG5ld01hcmtEZWZzID0gdW5pcShbLi4ub2xkRGVmcywgLi4ub3AucHJvcGVydGllcy5tYXJrRGVmc10pO1xuICAgICAgICAgICAgICBpc0VxdWFsKG5ld01hcmtEZWZzLCB0YXJnZXRCbG9jay5tYXJrRGVmcykgfHwgKFRyYW5zZm9ybXMuc2V0Tm9kZXMoZWRpdG9yLCB7IG1hcmtEZWZzOiBuZXdNYXJrRGVmcyB9LCB7IGF0OiB0YXJnZXRQYXRoLCB2b2lkczogITEgfSksIGVkaXRvci5vbkNoYW5nZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG9wLnR5cGUgPT09IFwic3BsaXRfbm9kZVwiICYmIG9wLnBhdGgubGVuZ3RoID09PSAxICYmIEVsZW1lbnQkMS5pc0VsZW1lbnRQcm9wcyhvcC5wcm9wZXJ0aWVzKSAmJiBvcC5wcm9wZXJ0aWVzLl90eXBlID09PSB0eXBlcy5ibG9jay5uYW1lICYmIFwibWFya0RlZnNcIiBpbiBvcC5wcm9wZXJ0aWVzICYmIEFycmF5LmlzQXJyYXkob3AucHJvcGVydGllcy5tYXJrRGVmcykgJiYgb3AucHJvcGVydGllcy5tYXJrRGVmcy5sZW5ndGggPiAwICYmIG9wLnBhdGhbMF0gKyAxIDwgZWRpdG9yLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgW3RhcmdldEJsb2NrLCB0YXJnZXRQYXRoXSA9IEVkaXRvci5ub2RlKGVkaXRvciwgW29wLnBhdGhbMF0gKyAxXSk7XG4gICAgICAgICAgICBpZiAoZGVidWckYihcIkNvcHlpbmcgbWFya0RlZnMgb3ZlciB0byBzcGxpdCBibG9ja1wiLCBvcCksIGVkaXRvci5pc1RleHRCbG9jayh0YXJnZXRCbG9jaykpIHtcbiAgICAgICAgICAgICAgY29uc3Qgb2xkRGVmcyA9IEFycmF5LmlzQXJyYXkodGFyZ2V0QmxvY2subWFya0RlZnMpICYmIHRhcmdldEJsb2NrLm1hcmtEZWZzIHx8IFtdO1xuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgICB7IG1hcmtEZWZzOiB1bmlxKFsuLi5vbGREZWZzLCAuLi5vcC5wcm9wZXJ0aWVzLm1hcmtEZWZzXSkgfSxcbiAgICAgICAgICAgICAgICB7IGF0OiB0YXJnZXRQYXRoLCB2b2lkczogITEgfVxuICAgICAgICAgICAgICApLCBlZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG9wLnR5cGUgPT09IFwic3BsaXRfbm9kZVwiICYmIG9wLnBhdGgubGVuZ3RoID09PSAyICYmIG9wLnByb3BlcnRpZXMuX3R5cGUgPT09IHR5cGVzLnNwYW4ubmFtZSAmJiBcIm1hcmtzXCIgaW4gb3AucHJvcGVydGllcyAmJiBBcnJheS5pc0FycmF5KG9wLnByb3BlcnRpZXMubWFya3MpICYmIG9wLnByb3BlcnRpZXMubWFya3MubGVuZ3RoID4gMCAmJiBvcC5wYXRoWzBdICsgMSA8IGVkaXRvci5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IFtjaGlsZCwgY2hpbGRQYXRoXSA9IEVkaXRvci5ub2RlKGVkaXRvciwgW29wLnBhdGhbMF0gKyAxLCAwXSk7XG4gICAgICAgICAgICBUZXh0LmlzVGV4dChjaGlsZCkgJiYgY2hpbGQudGV4dCA9PT0gXCJcIiAmJiBBcnJheS5pc0FycmF5KGNoaWxkLm1hcmtzKSAmJiBjaGlsZC5tYXJrcy5sZW5ndGggPiAwICYmIChUcmFuc2Zvcm1zLnNldE5vZGVzKGVkaXRvciwgeyBtYXJrczogW10gfSwgeyBhdDogY2hpbGRQYXRoLCB2b2lkczogITEgfSksIGVkaXRvci5vbkNoYW5nZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG9wLnR5cGUgPT09IFwic3BsaXRfbm9kZVwiICYmIG9wLnBhdGgubGVuZ3RoID09PSAxICYmIG9wLnByb3BlcnRpZXMuX3R5cGUgPT09IHR5cGVzLmJsb2NrLm5hbWUgJiYgXCJtYXJrRGVmc1wiIGluIG9wLnByb3BlcnRpZXMgJiYgQXJyYXkuaXNBcnJheShvcC5wcm9wZXJ0aWVzLm1hcmtEZWZzKSAmJiBvcC5wcm9wZXJ0aWVzLm1hcmtEZWZzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IFtibG9jaywgYmxvY2tQYXRoXSA9IEVkaXRvci5ub2RlKGVkaXRvciwgW29wLnBhdGhbMF1dKTtcbiAgICAgICAgICAgIGVkaXRvci5pc1RleHRCbG9jayhibG9jaykgJiYgYmxvY2suY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIGJsb2NrLm1hcmtEZWZzICYmIGJsb2NrLm1hcmtEZWZzLmxlbmd0aCA+IDAgJiYgVGV4dC5pc1RleHQoYmxvY2suY2hpbGRyZW5bMF0pICYmIGJsb2NrLmNoaWxkcmVuWzBdLnRleHQgPT09IFwiXCIgJiYgKCFibG9jay5jaGlsZHJlblswXS5tYXJrcyB8fCBibG9jay5jaGlsZHJlblswXS5tYXJrcy5sZW5ndGggPT09IDApICYmIChUcmFuc2Zvcm1zLnNldE5vZGVzKGVkaXRvciwgeyBtYXJrRGVmczogW10gfSwgeyBhdDogYmxvY2tQYXRoIH0pLCBlZGl0b3Iub25DaGFuZ2UoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlzU3BhbiAmJiBBcnJheS5pc0FycmF5KG5vZGUubWFya3MpICYmICghbm9kZS5tYXJrcyB8fCBub2RlLm1hcmtzLmxlbmd0aCA+IDAgJiYgbm9kZS50ZXh0ID09PSBcIlwiKSAmJiAoVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHsgbWFya3M6IFtdIH0sIHsgYXQ6IHBhdGgsIHZvaWRzOiAhMSB9KSwgZWRpdG9yLm9uQ2hhbmdlKCkpO1xuICAgICAgfVxuICAgICAgaWYgKGVkaXRvci5pc1RleHRCbG9jayhub2RlKSAmJiAhZWRpdG9yLm9wZXJhdGlvbnMuc29tZShcbiAgICAgICAgKG9wKSA9PiBvcC50eXBlID09PSBcIm1lcmdlX25vZGVcIiAmJiBcIm1hcmtEZWZzXCIgaW4gb3AucHJvcGVydGllcyAmJiBvcC5wYXRoLmxlbmd0aCA9PT0gMVxuICAgICAgKSkge1xuICAgICAgICBjb25zdCBuZXdNYXJrRGVmcyA9IChub2RlLm1hcmtEZWZzIHx8IFtdKS5maWx0ZXIoKGRlZikgPT4gbm9kZS5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gVGV4dC5pc1RleHQoY2hpbGQpICYmIEFycmF5LmlzQXJyYXkoY2hpbGQubWFya3MpICYmIGNoaWxkLm1hcmtzLmluY2x1ZGVzKGRlZi5fa2V5KSkpO1xuICAgICAgICBub2RlLm1hcmtEZWZzICYmICFpc0VxdWFsKG5ld01hcmtEZWZzLCBub2RlLm1hcmtEZWZzKSAmJiAoZGVidWckYihcIlJlbW92aW5nIG1hcmtEZWYgbm90IGluIHVzZVwiKSwgVHJhbnNmb3Jtcy5zZXROb2RlcyhcbiAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWFya0RlZnM6IG5ld01hcmtEZWZzXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IGF0OiBwYXRoIH1cbiAgICAgICAgKSwgZWRpdG9yLm9uQ2hhbmdlKCkpO1xuICAgICAgfVxuICAgIH0sIGVkaXRvci5hcHBseSA9IChvcCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIGlmIChvcC50eXBlID09PSBcImluc2VydF90ZXh0XCIpIHtcbiAgICAgICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvcjtcbiAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0NvbGxhcHNlZChzZWxlY3Rpb24pICYmIChfYiA9IChfYSA9IEVkaXRvci5tYXJrcyhlZGl0b3IpKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWFya3MpICE9IG51bGwgJiYgX2Iuc29tZSgobWFyaykgPT4gIWRlY29yYXRvcnMuaW5jbHVkZXMobWFyaykpKSB7XG4gICAgICAgICAgY29uc3QgW25vZGVdID0gQXJyYXkuZnJvbShcbiAgICAgICAgICAgIEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgbW9kZTogXCJsb3dlc3RcIixcbiAgICAgICAgICAgICAgYXQ6IHNlbGVjdGlvbi5mb2N1cyxcbiAgICAgICAgICAgICAgbWF0Y2g6IChuKSA9PiBuLl90eXBlID09PSB0eXBlcy5zcGFuLm5hbWUsXG4gICAgICAgICAgICAgIHZvaWRzOiAhMVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApWzBdIHx8IFt2b2lkIDBdO1xuICAgICAgICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSAmJiBub2RlLnRleHQubGVuZ3RoID09PSBzZWxlY3Rpb24uZm9jdXMub2Zmc2V0ICYmIEFycmF5LmlzQXJyYXkobm9kZS5tYXJrcykgJiYgbm9kZS5tYXJrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhcHBseTIob3ApLCBUcmFuc2Zvcm1zLnNwbGl0Tm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIG1hdGNoOiBUZXh0LmlzVGV4dCxcbiAgICAgICAgICAgICAgYXQ6IHsgLi4uc2VsZWN0aW9uLmZvY3VzLCBvZmZzZXQ6IHNlbGVjdGlvbi5mb2N1cy5vZmZzZXQgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBtYXJrc1dpdGhvdXRBbm5vdGF0aW9uTWFya3MgPSAoe1xuICAgICAgICAgICAgICAuLi5FZGl0b3IubWFya3MoZWRpdG9yKSB8fCB7fVxuICAgICAgICAgICAgfS5tYXJrcyB8fCBbXSkuZmlsdGVyKChtYXJrKSA9PiBkZWNvcmF0b3JzLmluY2x1ZGVzKG1hcmspKTtcbiAgICAgICAgICAgIFRyYW5zZm9ybXMuc2V0Tm9kZXMoXG4gICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgeyBtYXJrczogbWFya3NXaXRob3V0QW5ub3RhdGlvbk1hcmtzIH0sXG4gICAgICAgICAgICAgIHsgYXQ6IFBhdGgubmV4dChzZWxlY3Rpb24uZm9jdXMucGF0aCkgfVxuICAgICAgICAgICAgKSwgZGVidWckYihcIkluc2VydGluZyB0ZXh0IGF0IGVuZCBvZiBhbm5vdGF0aW9uXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXBwbHkyKG9wKTtcbiAgICB9LCBlZGl0b3IuYWRkTWFyayA9IChtYXJrKSA9PiB7XG4gICAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbikge1xuICAgICAgICBpZiAoUmFuZ2UuaXNFeHBhbmRlZChlZGl0b3Iuc2VsZWN0aW9uKSkge1xuICAgICAgICAgIFRyYW5zZm9ybXMuc2V0Tm9kZXMoZWRpdG9yLCB7fSwgeyBtYXRjaDogVGV4dC5pc1RleHQsIHNwbGl0OiAhMCB9KTtcbiAgICAgICAgICBjb25zdCBzcGxpdFRleHROb2RlcyA9IFtcbiAgICAgICAgICAgIC4uLkVkaXRvci5ub2RlcyhlZGl0b3IsIHsgYXQ6IGVkaXRvci5zZWxlY3Rpb24sIG1hdGNoOiBUZXh0LmlzVGV4dCB9KVxuICAgICAgICAgIF07XG4gICAgICAgICAgaWYgKHNwbGl0VGV4dE5vZGVzLmV2ZXJ5KChub2RlKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gbm9kZVswXS5tYXJrcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKG1hcmspO1xuICAgICAgICAgIH0pKVxuICAgICAgICAgICAgcmV0dXJuIGVkaXRvci5yZW1vdmVNYXJrKG1hcmspLCBlZGl0b3I7XG4gICAgICAgICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICAgICAgICAgIHNwbGl0VGV4dE5vZGVzLmZvckVhY2goKFtub2RlLCBwYXRoXSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBtYXJrcyA9IFtcbiAgICAgICAgICAgICAgICAuLi4oQXJyYXkuaXNBcnJheShub2RlLm1hcmtzKSA/IG5vZGUubWFya3MgOiBbXSkuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgKGVNYXJrKSA9PiBlTWFyayAhPT0gbWFya1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbWFya1xuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgICB7IG1hcmtzIH0sXG4gICAgICAgICAgICAgICAgeyBhdDogcGF0aCwgbWF0Y2g6IFRleHQuaXNUZXh0LCBzcGxpdDogITAsIGhhbmdpbmc6ICEwIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pLCBFZGl0b3Iubm9ybWFsaXplKGVkaXRvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZXhpc3RpbmdNYXJrcyA9IHtcbiAgICAgICAgICAgIC4uLkVkaXRvci5tYXJrcyhlZGl0b3IpIHx8IHt9XG4gICAgICAgICAgfS5tYXJrcyB8fCBbXSwgbWFya3MgPSB7XG4gICAgICAgICAgICAuLi5FZGl0b3IubWFya3MoZWRpdG9yKSB8fCB7fSxcbiAgICAgICAgICAgIG1hcmtzOiBbLi4uZXhpc3RpbmdNYXJrcywgbWFya11cbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBlZGl0b3IubWFya3MgPSBtYXJrcywgZm9yY2VOZXdTZWxlY3Rpb24oKSwgZWRpdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVkaXRvci5vbkNoYW5nZSgpLCBmb3JjZU5ld1NlbGVjdGlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVkaXRvcjtcbiAgICB9LCBlZGl0b3IucmVtb3ZlTWFyayA9IChtYXJrKSA9PiB7XG4gICAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gZWRpdG9yO1xuICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICBpZiAoUmFuZ2UuaXNFeHBhbmRlZChzZWxlY3Rpb24pKVxuICAgICAgICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKGVkaXRvciwge30sIHsgbWF0Y2g6IFRleHQuaXNUZXh0LCBzcGxpdDogITAgfSksIGVkaXRvci5zZWxlY3Rpb24gJiYgW1xuICAgICAgICAgICAgICAuLi5FZGl0b3Iubm9kZXMoZWRpdG9yLCB7IGF0OiBlZGl0b3Iuc2VsZWN0aW9uLCBtYXRjaDogVGV4dC5pc1RleHQgfSlcbiAgICAgICAgICAgIF0uZm9yRWFjaCgoW25vZGUsIHBhdGhdKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gZWRpdG9yLmNoaWxkcmVuW3BhdGhbMF1dO1xuICAgICAgICAgICAgICBFbGVtZW50JDEuaXNFbGVtZW50KGJsb2NrKSAmJiBibG9jay5jaGlsZHJlbi5pbmNsdWRlcyhub2RlKSAmJiBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBtYXJrczogKEFycmF5LmlzQXJyYXkobm9kZS5tYXJrcykgPyBub2RlLm1hcmtzIDogW10pLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgKGVNYXJrKSA9PiBlTWFyayAhPT0gbWFya1xuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF90eXBlOiBcInNwYW5cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBhdDogcGF0aCB9XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSwgRWRpdG9yLm5vcm1hbGl6ZShlZGl0b3IpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb25zdCBleGlzdGluZ01hcmtzID0ge1xuICAgICAgICAgICAgLi4uRWRpdG9yLm1hcmtzKGVkaXRvcikgfHwge31cbiAgICAgICAgICB9Lm1hcmtzIHx8IFtdLCBtYXJrcyA9IHtcbiAgICAgICAgICAgIC4uLkVkaXRvci5tYXJrcyhlZGl0b3IpIHx8IHt9LFxuICAgICAgICAgICAgbWFya3M6IGV4aXN0aW5nTWFya3MuZmlsdGVyKChlTWFyaykgPT4gZU1hcmsgIT09IG1hcmspXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gZWRpdG9yLm1hcmtzID0geyBtYXJrczogbWFya3MubWFya3MsIF90eXBlOiBcInNwYW5cIiB9LCBmb3JjZU5ld1NlbGVjdGlvbigpLCBlZGl0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWRpdG9yLm9uQ2hhbmdlKCksIGZvcmNlTmV3U2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWRpdG9yO1xuICAgIH0sIGVkaXRvci5wdGVJc01hcmtBY3RpdmUgPSAobWFyaykgPT4ge1xuICAgICAgaWYgKCFlZGl0b3Iuc2VsZWN0aW9uKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBjb25zdCBzZWxlY3RlZE5vZGVzID0gQXJyYXkuZnJvbShcbiAgICAgICAgRWRpdG9yLm5vZGVzKGVkaXRvciwgeyBtYXRjaDogVGV4dC5pc1RleHQsIGF0OiBlZGl0b3Iuc2VsZWN0aW9uIH0pXG4gICAgICApO1xuICAgICAgcmV0dXJuIFJhbmdlLmlzRXhwYW5kZWQoZWRpdG9yLnNlbGVjdGlvbikgPyBzZWxlY3RlZE5vZGVzLmV2ZXJ5KChuKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgW25vZGVdID0gbjtcbiAgICAgICAgcmV0dXJuIChfYSA9IG5vZGUubWFya3MpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcyhtYXJrKTtcbiAgICAgIH0pIDogKHtcbiAgICAgICAgLi4uRWRpdG9yLm1hcmtzKGVkaXRvcikgfHwge31cbiAgICAgIH0ubWFya3MgfHwgW10pLmluY2x1ZGVzKG1hcmspO1xuICAgIH0sIGVkaXRvci5wdGVUb2dnbGVNYXJrID0gKG1hcmspID0+IHtcbiAgICAgIGVkaXRvci5wdGVJc01hcmtBY3RpdmUobWFyaykgPyAoZGVidWckYihgUmVtb3ZlIG1hcmsgJyR7bWFya30nYCksIEVkaXRvci5yZW1vdmVNYXJrKGVkaXRvciwgbWFyaykpIDogKGRlYnVnJGIoYEFkZCBtYXJrICcke21hcmt9J2ApLCBFZGl0b3IuYWRkTWFyayhlZGl0b3IsIG1hcmssICEwKSk7XG4gICAgfSwgZWRpdG9yO1xuICB9O1xuICBmdW5jdGlvbiBtZXJnZVNwYW5zKGVkaXRvcikge1xuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3I7XG4gICAgaWYgKHNlbGVjdGlvbilcbiAgICAgIGZvciAoY29uc3QgW25vZGUsIHBhdGhdIG9mIEFycmF5LmZyb20oXG4gICAgICAgIEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogRWRpdG9yLnJhbmdlKGVkaXRvciwgW3NlbGVjdGlvbi5hbmNob3IucGF0aFswXV0sIFtzZWxlY3Rpb24uZm9jdXMucGF0aFswXV0pXG4gICAgICAgIH0pXG4gICAgICApLnJldmVyc2UoKSkge1xuICAgICAgICBjb25zdCBbcGFyZW50XSA9IHBhdGgubGVuZ3RoID4gMSA/IEVkaXRvci5ub2RlKGVkaXRvciwgUGF0aC5wYXJlbnQocGF0aCkpIDogW3ZvaWQgMF0sIG5leHRQYXRoID0gW3BhdGhbMF0sIHBhdGhbMV0gKyAxXTtcbiAgICAgICAgaWYgKGVkaXRvci5pc1RleHRCbG9jayhwYXJlbnQpKSB7XG4gICAgICAgICAgY29uc3QgbmV4dE5vZGUgPSBwYXJlbnQuY2hpbGRyZW5bbmV4dFBhdGhbMV1dO1xuICAgICAgICAgIFRleHQuaXNUZXh0KG5vZGUpICYmIFRleHQuaXNUZXh0KG5leHROb2RlKSAmJiBpc0VxdWFsKG5leHROb2RlLm1hcmtzLCBub2RlLm1hcmtzKSAmJiAoZGVidWckYihcIk1lcmdpbmcgc3BhbnNcIiksIFRyYW5zZm9ybXMubWVyZ2VOb2RlcyhlZGl0b3IsIHsgYXQ6IG5leHRQYXRoLCB2b2lkczogITAgfSksIGVkaXRvci5vbkNoYW5nZSgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICB9XG59XG5jb25zdCBkZWJ1ZyRhID0gZGVidWdXaXRoTmFtZShcInBsdWdpbjp3aXRoUG9ydGFibGVUZXh0U2VsZWN0aW9uc1wiKSwgZGVidWdWZXJib3NlJDEgPSBkZWJ1ZyRhLmVuYWJsZWQgJiYgITE7XG5mdW5jdGlvbiBjcmVhdGVXaXRoUG9ydGFibGVUZXh0U2VsZWN0aW9ucyhjaGFuZ2UkLCB0eXBlcykge1xuICBsZXQgcHJldlNlbGVjdGlvbiA9IG51bGw7XG4gIHJldHVybiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICBjb25zdCBlbWl0UG9ydGFibGVUZXh0U2VsZWN0aW9uID0gKCkgPT4ge1xuICAgICAgaWYgKHByZXZTZWxlY3Rpb24gIT09IGVkaXRvci5zZWxlY3Rpb24pIHtcbiAgICAgICAgbGV0IHB0UmFuZ2UgPSBudWxsO1xuICAgICAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbikge1xuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gU0xBVEVfVE9fUE9SVEFCTEVfVEVYVF9SQU5HRS5nZXQoZWRpdG9yLnNlbGVjdGlvbik7XG4gICAgICAgICAgaWYgKGV4aXN0aW5nKVxuICAgICAgICAgICAgcHRSYW5nZSA9IGV4aXN0aW5nO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlZGl0b3IuY2hpbGRyZW47XG4gICAgICAgICAgICBwdFJhbmdlID0gdG9Qb3J0YWJsZVRleHRSYW5nZSh2YWx1ZSwgZWRpdG9yLnNlbGVjdGlvbiwgdHlwZXMpLCBTTEFURV9UT19QT1JUQUJMRV9URVhUX1JBTkdFLnNldChlZGl0b3Iuc2VsZWN0aW9uLCBwdFJhbmdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVidWdWZXJib3NlJDEgJiYgZGVidWckYShcbiAgICAgICAgICBgRW1pdHRpbmcgc2VsZWN0aW9uICR7SlNPTi5zdHJpbmdpZnkocHRSYW5nZSB8fCBudWxsKX0gKCR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uXG4gICAgICAgICAgKX0pYFxuICAgICAgICApLCBwdFJhbmdlID8gY2hhbmdlJC5uZXh0KHsgdHlwZTogXCJzZWxlY3Rpb25cIiwgc2VsZWN0aW9uOiBwdFJhbmdlIH0pIDogY2hhbmdlJC5uZXh0KHsgdHlwZTogXCJzZWxlY3Rpb25cIiwgc2VsZWN0aW9uOiBudWxsIH0pO1xuICAgICAgfVxuICAgICAgcHJldlNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb247XG4gICAgfSwgeyBvbkNoYW5nZSB9ID0gZWRpdG9yO1xuICAgIHJldHVybiBlZGl0b3Iub25DaGFuZ2UgPSAoKSA9PiB7XG4gICAgICBjb25zdCBoYXNDaGFuZ2VzID0gZWRpdG9yLm9wZXJhdGlvbnMubGVuZ3RoID4gMDtcbiAgICAgIG9uQ2hhbmdlKCksIGhhc0NoYW5nZXMgJiYgZW1pdFBvcnRhYmxlVGV4dFNlbGVjdGlvbigpO1xuICAgIH0sIGVkaXRvcjtcbiAgfTtcbn1cbmNvbnN0IGRlYnVnJDkgPSBkZWJ1Z1dpdGhOYW1lKFwicGx1Z2luOndpdGhTY2hlbWFUeXBlc1wiKTtcbmZ1bmN0aW9uIGNyZWF0ZVdpdGhTY2hlbWFUeXBlcyh7XG4gIHNjaGVtYVR5cGVzLFxuICBrZXlHZW5lcmF0b3Jcbn0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGVkaXRvcikge1xuICAgIGVkaXRvci5pc1RleHRCbG9jayA9ICh2YWx1ZSkgPT4gaXNQb3J0YWJsZVRleHRUZXh0QmxvY2sodmFsdWUpICYmIHZhbHVlLl90eXBlID09PSBzY2hlbWFUeXBlcy5ibG9jay5uYW1lLCBlZGl0b3IuaXNUZXh0U3BhbiA9ICh2YWx1ZSkgPT4gaXNQb3J0YWJsZVRleHRTcGFuKHZhbHVlKSAmJiB2YWx1ZS5fdHlwZSA9PSBzY2hlbWFUeXBlcy5zcGFuLm5hbWUsIGVkaXRvci5pc0xpc3RCbG9jayA9ICh2YWx1ZSkgPT4gaXNQb3J0YWJsZVRleHRMaXN0QmxvY2sodmFsdWUpICYmIHZhbHVlLl90eXBlID09PSBzY2hlbWFUeXBlcy5ibG9jay5uYW1lLCBlZGl0b3IuaXNWb2lkID0gKGVsZW1lbnQpID0+IHNjaGVtYVR5cGVzLmJsb2NrLm5hbWUgIT09IGVsZW1lbnQuX3R5cGUgJiYgKHNjaGVtYVR5cGVzLmJsb2NrT2JqZWN0cy5tYXAoKG9iaikgPT4gb2JqLm5hbWUpLmluY2x1ZGVzKGVsZW1lbnQuX3R5cGUpIHx8IHNjaGVtYVR5cGVzLmlubGluZU9iamVjdHMubWFwKChvYmopID0+IG9iai5uYW1lKS5pbmNsdWRlcyhlbGVtZW50Ll90eXBlKSksIGVkaXRvci5pc0lubGluZSA9IChlbGVtZW50KSA9PiBzY2hlbWFUeXBlcy5pbmxpbmVPYmplY3RzLm1hcCgob2JqKSA9PiBvYmoubmFtZSkuaW5jbHVkZXMoZWxlbWVudC5fdHlwZSkgJiYgXCJfX2lubGluZVwiIGluIGVsZW1lbnQgJiYgZWxlbWVudC5fX2lubGluZSA9PT0gITA7XG4gICAgY29uc3QgeyBub3JtYWxpemVOb2RlIH0gPSBlZGl0b3I7XG4gICAgcmV0dXJuIGVkaXRvci5ub3JtYWxpemVOb2RlID0gKGVudHJ5KSA9PiB7XG4gICAgICBjb25zdCBbbm9kZSwgcGF0aF0gPSBlbnRyeTtcbiAgICAgIGlmIChub2RlLl90eXBlID09PSB2b2lkIDAgJiYgcGF0aC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgZGVidWckOShcIlNldHRpbmcgc3BhbiB0eXBlIG9uIHRleHQgbm9kZSB3aXRob3V0IGEgdHlwZVwiKTtcbiAgICAgICAgY29uc3Qgc3BhbiA9IG5vZGUsIGtleSA9IHNwYW4uX2tleSB8fCBrZXlHZW5lcmF0b3IoKTtcbiAgICAgICAgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHsgLi4uc3BhbiwgX3R5cGU6IHNjaGVtYVR5cGVzLnNwYW4ubmFtZSwgX2tleToga2V5IH0sIHsgYXQ6IHBhdGggfSk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5fa2V5ID09PSB2b2lkIDAgJiYgKHBhdGgubGVuZ3RoID09PSAxIHx8IHBhdGgubGVuZ3RoID09PSAyKSkge1xuICAgICAgICBkZWJ1ZyQ5KFwiU2V0dGluZyBtaXNzaW5nIGtleSBvbiBjaGlsZCBub2RlIHdpdGhvdXQgYSBrZXlcIik7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleUdlbmVyYXRvcigpO1xuICAgICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKGVkaXRvciwgeyBfa2V5OiBrZXkgfSwgeyBhdDogcGF0aCB9KTtcbiAgICAgIH1cbiAgICAgIG5vcm1hbGl6ZU5vZGUoZW50cnkpO1xuICAgIH0sIGVkaXRvcjtcbiAgfTtcbn1cbmNvbnN0IGRlYnVnJDggPSBkZWJ1Z1dpdGhOYW1lKFwicGx1Z2luOndpdGhVdGlsc1wiKTtcbmZ1bmN0aW9uIGNyZWF0ZVdpdGhVdGlscyh7IHNjaGVtYVR5cGVzLCBrZXlHZW5lcmF0b3IsIHBvcnRhYmxlVGV4dEVkaXRvciB9KSB7XG4gIHJldHVybiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICByZXR1cm4gZWRpdG9yLnB0ZUV4cGFuZFRvV29yZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3I7XG4gICAgICBpZiAoc2VsZWN0aW9uICYmICFSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgY29uc3QgW3RleHROb2RlXSA9IEVkaXRvci5ub2RlKGVkaXRvciwgc2VsZWN0aW9uLmZvY3VzLCB7IGRlcHRoOiAyIH0pO1xuICAgICAgICBpZiAoIXRleHROb2RlIHx8ICFUZXh0LmlzVGV4dCh0ZXh0Tm9kZSkgfHwgdGV4dE5vZGUudGV4dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBkZWJ1ZyQ4KFwicHRlRXhwYW5kVG9Xb3JkOiBDYW4ndCBleHBhbmQgdG8gd29yZCBoZXJlXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGZvY3VzIH0gPSBzZWxlY3Rpb24sIGZvY3VzT2Zmc2V0ID0gZm9jdXMub2Zmc2V0LCBjaGFyc0JlZm9yZSA9IHRleHROb2RlLnRleHQuc2xpY2UoMCwgZm9jdXNPZmZzZXQpLCBjaGFyc0FmdGVyID0gdGV4dE5vZGUudGV4dC5zbGljZShmb2N1c09mZnNldCwgLTEpLCBpc0VtcHR5ID0gKHN0cikgPT4gc3RyLm1hdGNoKC9cXHMvZyksIHdoaXRlU3BhY2VCZWZvcmVJbmRleCA9IGNoYXJzQmVmb3JlLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5maW5kSW5kZXgoKHN0cikgPT4gaXNFbXB0eShzdHIpKSwgbmV3U3RhcnRPZmZzZXQgPSB3aGl0ZVNwYWNlQmVmb3JlSW5kZXggPiAtMSA/IGNoYXJzQmVmb3JlLmxlbmd0aCAtIHdoaXRlU3BhY2VCZWZvcmVJbmRleCA6IDAsIHdoaXRlU3BhY2VBZnRlckluZGV4ID0gY2hhcnNBZnRlci5zcGxpdChcIlwiKS5maW5kSW5kZXgoKG9iaikgPT4gaXNFbXB0eShvYmopKSwgbmV3RW5kT2Zmc2V0ID0gY2hhcnNCZWZvcmUubGVuZ3RoICsgKHdoaXRlU3BhY2VBZnRlckluZGV4ID4gLTEgPyB3aGl0ZVNwYWNlQWZ0ZXJJbmRleCA6IGNoYXJzQWZ0ZXIubGVuZ3RoICsgMSk7XG4gICAgICAgIGlmICghKG5ld1N0YXJ0T2Zmc2V0ID09PSBuZXdFbmRPZmZzZXQgfHwgaXNOYU4obmV3U3RhcnRPZmZzZXQpIHx8IGlzTmFOKG5ld0VuZE9mZnNldCkpKSB7XG4gICAgICAgICAgZGVidWckOChcInB0ZUV4cGFuZFRvV29yZDogRXhwYW5kaW5nIHRvIGZvY3VzZWQgd29yZFwiKSwgVHJhbnNmb3Jtcy5zZXRTZWxlY3Rpb24oZWRpdG9yLCB7XG4gICAgICAgICAgICBhbmNob3I6IHsgLi4uc2VsZWN0aW9uLmFuY2hvciwgb2Zmc2V0OiBuZXdTdGFydE9mZnNldCB9LFxuICAgICAgICAgICAgZm9jdXM6IHsgLi4uc2VsZWN0aW9uLmZvY3VzLCBvZmZzZXQ6IG5ld0VuZE9mZnNldCB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlYnVnJDgoXCJwdGVFeHBhbmRUb1dvcmQ6IENhbid0IGV4cGFuZCB0byB3b3JkIGhlcmVcIik7XG4gICAgICB9XG4gICAgfSwgZWRpdG9yLnB0ZUNyZWF0ZUVtcHR5QmxvY2sgPSAoKSA9PiB0b1NsYXRlVmFsdWUoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBfdHlwZTogc2NoZW1hVHlwZXMuYmxvY2submFtZSxcbiAgICAgICAgICBfa2V5OiBrZXlHZW5lcmF0b3IoKSxcbiAgICAgICAgICBzdHlsZTogc2NoZW1hVHlwZXMuc3R5bGVzWzBdLnZhbHVlIHx8IFwibm9ybWFsXCIsXG4gICAgICAgICAgbWFya0RlZnM6IFtdLFxuICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIF90eXBlOiBcInNwYW5cIixcbiAgICAgICAgICAgICAgX2tleToga2V5R2VuZXJhdG9yKCksXG4gICAgICAgICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgICAgICAgIG1hcmtzOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIHBvcnRhYmxlVGV4dEVkaXRvclxuICAgIClbMF0sIGVkaXRvcjtcbiAgfTtcbn1cbmNvbnN0IGRlYnVnJDcgPSBkZWJ1Z1dpdGhOYW1lKFwicGx1Z2luOndpdGhIb3RLZXlzXCIpLCBERUZBVUxUX0hPVEtFWVMgPSB7XG4gIG1hcmtzOiB7XG4gICAgXCJtb2QrYlwiOiBcInN0cm9uZ1wiLFxuICAgIFwibW9kK2lcIjogXCJlbVwiLFxuICAgIFwibW9kK3VcIjogXCJ1bmRlcmxpbmVcIixcbiAgICBcIm1vZCsnXCI6IFwiY29kZVwiXG4gIH0sXG4gIGN1c3RvbToge31cbn07XG5mdW5jdGlvbiBjcmVhdGVXaXRoSG90a2V5cyh0eXBlcywgcG9ydGFibGVUZXh0RWRpdG9yLCBob3RrZXlzRnJvbU9wdGlvbnMpIHtcbiAgY29uc3QgcmVzZXJ2ZWRIb3RrZXlzID0gW1wiZW50ZXJcIiwgXCJ0YWJcIiwgXCJzaGlmdFwiLCBcImRlbGV0ZVwiLCBcImVuZFwiXSwgYWN0aXZlSG90a2V5cyA9IGhvdGtleXNGcm9tT3B0aW9ucyB8fCBERUZBVUxUX0hPVEtFWVM7XG4gIHJldHVybiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICByZXR1cm4gZWRpdG9yLnB0ZVdpdGhIb3RLZXlzID0gKGV2ZW50KSA9PiB7XG4gICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICBPYmplY3Qua2V5cyhhY3RpdmVIb3RrZXlzKS5mb3JFYWNoKChjYXQpID0+IHtcbiAgICAgICAgaWYgKGNhdCA9PT0gXCJtYXJrc1wiKVxuICAgICAgICAgIGZvciAoY29uc3QgaG90a2V5IGluIGFjdGl2ZUhvdGtleXNbY2F0XSkge1xuICAgICAgICAgICAgaWYgKHJlc2VydmVkSG90a2V5cy5pbmNsdWRlcyhob3RrZXkpKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBob3RrZXkgJHtob3RrZXl9IGlzIHJlc2VydmVkIWApO1xuICAgICAgICAgICAgaWYgKGlzSG90a2V5KGhvdGtleSwgZXZlbnQubmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlTWFyayA9IGFjdGl2ZUhvdGtleXNbY2F0XTtcbiAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlTWFyaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmsgPSBwb3NzaWJsZU1hcmtbaG90a2V5XTtcbiAgICAgICAgICAgICAgICBkZWJ1ZyQ3KGBIb3RLZXkgJHtob3RrZXl9IHRvIHRvZ2dsZSAke21hcmt9YCksIGVkaXRvci5wdGVUb2dnbGVNYXJrKG1hcmspO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBpZiAoY2F0ID09PSBcImN1c3RvbVwiKVxuICAgICAgICAgIGZvciAoY29uc3QgaG90a2V5IGluIGFjdGl2ZUhvdGtleXNbY2F0XSkge1xuICAgICAgICAgICAgaWYgKHJlc2VydmVkSG90a2V5cy5pbmNsdWRlcyhob3RrZXkpKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBob3RrZXkgJHtob3RrZXl9IGlzIHJlc2VydmVkIWApO1xuICAgICAgICAgICAgaWYgKGlzSG90a2V5KGhvdGtleSwgZXZlbnQubmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlQ29tbWFuZCA9IGFjdGl2ZUhvdGtleXNbY2F0XTtcbiAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlQ29tbWFuZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBwb3NzaWJsZUNvbW1hbmRbaG90a2V5XTtcbiAgICAgICAgICAgICAgICBjb21tYW5kKGV2ZW50LCBwb3J0YWJsZVRleHRFZGl0b3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBpc0VudGVyID0gaXNIb3RrZXkoXCJlbnRlclwiLCBldmVudC5uYXRpdmVFdmVudCksIGlzVGFiID0gaXNIb3RrZXkoXCJ0YWJcIiwgZXZlbnQubmF0aXZlRXZlbnQpLCBpc1NoaWZ0RW50ZXIgPSBpc0hvdGtleShcInNoaWZ0K2VudGVyXCIsIGV2ZW50Lm5hdGl2ZUV2ZW50KSwgaXNTaGlmdFRhYiA9IGlzSG90a2V5KFwic2hpZnQrdGFiXCIsIGV2ZW50Lm5hdGl2ZUV2ZW50KSwgaXNCYWNrc3BhY2UgPSBpc0hvdGtleShcImJhY2tzcGFjZVwiLCBldmVudC5uYXRpdmVFdmVudCksIGlzRGVsZXRlID0gaXNIb3RrZXkoXCJkZWxldGVcIiwgZXZlbnQubmF0aXZlRXZlbnQpLCBpc0Fycm93RG93biA9IGlzSG90a2V5KFwiZG93blwiLCBldmVudC5uYXRpdmVFdmVudCksIGlzQXJyb3dVcCA9IGlzSG90a2V5KFwidXBcIiwgZXZlbnQubmF0aXZlRXZlbnQpO1xuICAgICAgaWYgKGlzQXJyb3dEb3duICYmIGVkaXRvci5zZWxlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgZm9jdXNCbG9jayA9IE5vZGUuZGVzY2VuZGFudChlZGl0b3IsIGVkaXRvci5zZWxlY3Rpb24uZm9jdXMucGF0aC5zbGljZSgwLCAxKSk7XG4gICAgICAgIGlmIChmb2N1c0Jsb2NrICYmIEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBmb2N1c0Jsb2NrKSkge1xuICAgICAgICAgIGNvbnN0IG5leHRQYXRoID0gUGF0aC5uZXh0KGVkaXRvci5zZWxlY3Rpb24uZm9jdXMucGF0aC5zbGljZSgwLCAxKSk7XG4gICAgICAgICAgaWYgKCFOb2RlLmhhcyhlZGl0b3IsIG5leHRQYXRoKSkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIGVkaXRvci5wdGVDcmVhdGVFbXB0eUJsb2NrKCksIHsgYXQ6IG5leHRQYXRoIH0pLCBlZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0Fycm93VXAgJiYgZWRpdG9yLnNlbGVjdGlvbikge1xuICAgICAgICBjb25zdCBpc0ZpcnN0QmxvY2sgPSBlZGl0b3Iuc2VsZWN0aW9uLmZvY3VzLnBhdGhbMF0gPT09IDAsIGZvY3VzQmxvY2sgPSBOb2RlLmRlc2NlbmRhbnQoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uLmZvY3VzLnBhdGguc2xpY2UoMCwgMSkpO1xuICAgICAgICBpZiAoaXNGaXJzdEJsb2NrICYmIGZvY3VzQmxvY2sgJiYgRWRpdG9yLmlzVm9pZChlZGl0b3IsIGZvY3VzQmxvY2spKSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIGVkaXRvci5wdGVDcmVhdGVFbXB0eUJsb2NrKCksIHsgYXQ6IFswXSB9KSwgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCB7IHBhdGg6IFswLCAwXSwgb2Zmc2V0OiAwIH0pLCBlZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0JhY2tzcGFjZSAmJiBlZGl0b3Iuc2VsZWN0aW9uICYmIGVkaXRvci5zZWxlY3Rpb24uZm9jdXMucGF0aFswXSA9PT0gMCAmJiBSYW5nZS5pc0NvbGxhcHNlZChlZGl0b3Iuc2VsZWN0aW9uKSkge1xuICAgICAgICBjb25zdCBmb2N1c0Jsb2NrID0gTm9kZS5kZXNjZW5kYW50KGVkaXRvciwgZWRpdG9yLnNlbGVjdGlvbi5mb2N1cy5wYXRoLnNsaWNlKDAsIDEpKSwgbmV4dFBhdGggPSBQYXRoLm5leHQoZWRpdG9yLnNlbGVjdGlvbi5mb2N1cy5wYXRoLnNsaWNlKDAsIDEpKSwgbmV4dEJsb2NrID0gTm9kZS5oYXMoZWRpdG9yLCBuZXh0UGF0aCksIGlzVGV4dEJsb2NrID0gaXNQb3J0YWJsZVRleHRUZXh0QmxvY2soZm9jdXNCbG9jayksIGlzRW1wdHlGb2N1c0Jsb2NrID0gaXNUZXh0QmxvY2sgJiYgZm9jdXNCbG9jay5jaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgKChfYiA9IChfYSA9IGZvY3VzQmxvY2suY2hpbGRyZW4pID09IG51bGwgPyB2b2lkIDAgOiBfYVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRleHQpID09PSBcIlwiO1xuICAgICAgICBpZiAobmV4dEJsb2NrICYmIGlzVGV4dEJsb2NrICYmIGlzRW1wdHlGb2N1c0Jsb2NrKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKSwgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCksIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IG1hdGNoOiAobikgPT4gbiA9PT0gZm9jdXNCbG9jayB9KSwgZWRpdG9yLm9uQ2hhbmdlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNCYWNrc3BhY2UgJiYgZWRpdG9yLnNlbGVjdGlvbiAmJiBlZGl0b3Iuc2VsZWN0aW9uLmZvY3VzLnBhdGhbMF0gPiAwICYmIFJhbmdlLmlzQ29sbGFwc2VkKGVkaXRvci5zZWxlY3Rpb24pKSB7XG4gICAgICAgIGNvbnN0IHByZXZQYXRoID0gUGF0aC5wcmV2aW91cyhlZGl0b3Iuc2VsZWN0aW9uLmZvY3VzLnBhdGguc2xpY2UoMCwgMSkpLCBwcmV2QmxvY2sgPSBOb2RlLmRlc2NlbmRhbnQoZWRpdG9yLCBwcmV2UGF0aCksIGZvY3VzQmxvY2sgPSBOb2RlLmRlc2NlbmRhbnQoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uLmZvY3VzLnBhdGguc2xpY2UoMCwgMSkpO1xuICAgICAgICBpZiAocHJldkJsb2NrICYmIGZvY3VzQmxvY2sgJiYgRWRpdG9yLmlzVm9pZChlZGl0b3IsIHByZXZCbG9jaykgJiYgZWRpdG9yLnNlbGVjdGlvbi5mb2N1cy5vZmZzZXQgPT09IDApIHtcbiAgICAgICAgICBkZWJ1ZyQ3KFwiUHJldmVudGluZyBkZWxldGluZyB2b2lkIGJsb2NrIGFib3ZlXCIpLCBldmVudC5wcmV2ZW50RGVmYXVsdCgpLCBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBjb25zdCBpc1RleHRCbG9jayA9IGlzUG9ydGFibGVUZXh0VGV4dEJsb2NrKGZvY3VzQmxvY2spLCBpc0VtcHR5Rm9jdXNCbG9jayA9IGlzVGV4dEJsb2NrICYmIGZvY3VzQmxvY2suY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmICgoX2QgPSAoX2MgPSBmb2N1c0Jsb2NrLmNoaWxkcmVuKSA9PSBudWxsID8gdm9pZCAwIDogX2NbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfZC50ZXh0KSA9PT0gXCJcIjtcbiAgICAgICAgICBpZiAoIWlzVGV4dEJsb2NrIHx8IGlzRW1wdHlGb2N1c0Jsb2NrKSB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwgeyBtYXRjaDogKG4pID0+IG4gPT09IGZvY3VzQmxvY2sgfSksIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgcHJldlBhdGgpLCBlZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzVGV4dEJsb2NrICYmICFpc0VtcHR5Rm9jdXNCbG9jaykge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBwcmV2UGF0aCksIGVkaXRvci5vbkNoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0RlbGV0ZSAmJiBlZGl0b3Iuc2VsZWN0aW9uICYmIGVkaXRvci5zZWxlY3Rpb24uZm9jdXMub2Zmc2V0ID09PSAwICYmIFJhbmdlLmlzQ29sbGFwc2VkKGVkaXRvci5zZWxlY3Rpb24pICYmIGVkaXRvci5jaGlsZHJlbltlZGl0b3Iuc2VsZWN0aW9uLmZvY3VzLnBhdGhbMF0gKyAxXSkge1xuICAgICAgICBjb25zdCBuZXh0QmxvY2sgPSBOb2RlLmRlc2NlbmRhbnQoXG4gICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgIFBhdGgubmV4dChlZGl0b3Iuc2VsZWN0aW9uLmZvY3VzLnBhdGguc2xpY2UoMCwgMSkpXG4gICAgICAgICksIGZvY3VzQmxvY2tQYXRoID0gZWRpdG9yLnNlbGVjdGlvbi5mb2N1cy5wYXRoLnNsaWNlKDAsIDEpLCBmb2N1c0Jsb2NrID0gTm9kZS5kZXNjZW5kYW50KGVkaXRvciwgZm9jdXNCbG9ja1BhdGgpO1xuICAgICAgICBpZiAobmV4dEJsb2NrICYmIGZvY3VzQmxvY2sgJiYgIUVkaXRvci5pc1ZvaWQoZWRpdG9yLCBmb2N1c0Jsb2NrKSAmJiBFZGl0b3IuaXNWb2lkKGVkaXRvciwgbmV4dEJsb2NrKSkge1xuICAgICAgICAgIGRlYnVnJDcoXCJQcmV2ZW50aW5nIGRlbGV0aW5nIHZvaWQgYmxvY2sgYmVsb3dcIiksIGV2ZW50LnByZXZlbnREZWZhdWx0KCksIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpLCBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwgeyBtYXRjaDogKG4pID0+IG4gPT09IGZvY3VzQmxvY2sgfSksIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgZm9jdXNCbG9ja1BhdGgpLCBlZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgoaXNUYWIgfHwgaXNTaGlmdFRhYikgJiYgZWRpdG9yLnNlbGVjdGlvbikge1xuICAgICAgICBjb25zdCBbZm9jdXNDaGlsZF0gPSBFZGl0b3Iubm9kZShlZGl0b3IsIGVkaXRvci5zZWxlY3Rpb24uZm9jdXMsIHsgZGVwdGg6IDIgfSksIFtmb2N1c0Jsb2NrXSA9IGlzUG9ydGFibGVUZXh0U3Bhbihmb2N1c0NoaWxkKSA/IEVkaXRvci5ub2RlKGVkaXRvciwgZWRpdG9yLnNlbGVjdGlvbi5mb2N1cywgeyBkZXB0aDogMSB9KSA6IFtdLCBoYXNBbm5vdGF0aW9uRm9jdXMgPSBmb2N1c0NoaWxkICYmIGlzUG9ydGFibGVUZXh0VGV4dEJsb2NrKGZvY3VzQmxvY2spICYmIGlzUG9ydGFibGVUZXh0U3Bhbihmb2N1c0NoaWxkKSAmJiAoZm9jdXNDaGlsZC5tYXJrcyB8fCBbXSkuZmlsdGVyKFxuICAgICAgICAgIChtKSA9PiAoZm9jdXNCbG9jay5tYXJrRGVmcyB8fCBbXSkubWFwKChkZWYpID0+IGRlZi5fa2V5KS5pbmNsdWRlcyhtKVxuICAgICAgICApLmxlbmd0aCA+IDAsIFtzdGFydF0gPSBSYW5nZS5lZGdlcyhlZGl0b3Iuc2VsZWN0aW9uKSwgYXRTdGFydE9mTm9kZSA9IEVkaXRvci5pc1N0YXJ0KGVkaXRvciwgc3RhcnQsIHN0YXJ0LnBhdGgpO1xuICAgICAgICBmb2N1c0NoaWxkICYmIGlzUG9ydGFibGVUZXh0U3Bhbihmb2N1c0NoaWxkKSAmJiAoIWhhc0Fubm90YXRpb25Gb2N1cyB8fCBhdFN0YXJ0T2ZOb2RlKSAmJiBlZGl0b3IucHRlSW5jcmVtZW50QmxvY2tMZXZlbHMoaXNTaGlmdFRhYikgJiYgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0VudGVyICYmICFpc1NoaWZ0RW50ZXIgJiYgZWRpdG9yLnNlbGVjdGlvbikge1xuICAgICAgICBjb25zdCBmb2N1c0Jsb2NrUGF0aCA9IGVkaXRvci5zZWxlY3Rpb24uZm9jdXMucGF0aC5zbGljZSgwLCAxKSwgZm9jdXNCbG9jayA9IE5vZGUuZGVzY2VuZGFudChlZGl0b3IsIGZvY3VzQmxvY2tQYXRoKTtcbiAgICAgICAgaWYgKGVkaXRvci5pc0xpc3RCbG9jayhmb2N1c0Jsb2NrKSkge1xuICAgICAgICAgIGVkaXRvci5wdGVFbmRMaXN0KCkgJiYgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVkaXRvci5pc1RleHRCbG9jayhmb2N1c0Jsb2NrKSAmJiBmb2N1c0Jsb2NrLnN0eWxlICYmIGZvY3VzQmxvY2suc3R5bGUgIT09IHR5cGVzLnN0eWxlc1swXS52YWx1ZSkge1xuICAgICAgICAgIGNvbnN0IFssIGVuZF0gPSBSYW5nZS5lZGdlcyhlZGl0b3Iuc2VsZWN0aW9uKTtcbiAgICAgICAgICBpZiAoRWRpdG9yLmlzRW5kKGVkaXRvciwgZW5kLCBlbmQucGF0aCkpIHtcbiAgICAgICAgICAgIEVkaXRvci5pbnNlcnROb2RlKGVkaXRvciwgZWRpdG9yLnB0ZUNyZWF0ZUVtcHR5QmxvY2soKSksIGV2ZW50LnByZXZlbnREZWZhdWx0KCksIGVkaXRvci5vbkNoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9jdXNCbG9jayAmJiBFZGl0b3IuaXNWb2lkKGVkaXRvciwgZm9jdXNCbG9jaykpIHtcbiAgICAgICAgICBFZGl0b3IuaW5zZXJ0Tm9kZShlZGl0b3IsIGVkaXRvci5wdGVDcmVhdGVFbXB0eUJsb2NrKCkpLCBldmVudC5wcmV2ZW50RGVmYXVsdCgpLCBlZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKSwgZWRpdG9yLmluc2VydEJyZWFrKCksIGVkaXRvci5vbkNoYW5nZSgpO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2hpZnRFbnRlcikge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpLCBlZGl0b3IuaW5zZXJ0VGV4dChgXG5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzSG90a2V5KFwibW9kK3pcIiwgZXZlbnQubmF0aXZlRXZlbnQpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCksIGVkaXRvci51bmRvKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIChpc0hvdGtleShcIm1vZCt5XCIsIGV2ZW50Lm5hdGl2ZUV2ZW50KSB8fCBpc0hvdGtleShcIm1vZCtzaGlmdCt6XCIsIGV2ZW50Lm5hdGl2ZUV2ZW50KSkgJiYgKGV2ZW50LnByZXZlbnREZWZhdWx0KCksIGVkaXRvci5yZWRvKCkpO1xuICAgIH0sIGVkaXRvcjtcbiAgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlVmFsdWUodmFsdWUsIHR5cGVzLCBrZXlHZW5lcmF0b3IpIHtcbiAgbGV0IHJlc29sdXRpb24gPSBudWxsLCB2YWxpZCA9ICEwO1xuICBjb25zdCB2YWxpZENoaWxkVHlwZXMgPSBbdHlwZXMuc3Bhbi5uYW1lLCAuLi50eXBlcy5pbmxpbmVPYmplY3RzLm1hcCgodCkgPT4gdC5uYW1lKV0sIHZhbGlkQmxvY2tUeXBlcyA9IFt0eXBlcy5ibG9jay5uYW1lLCAuLi50eXBlcy5ibG9ja09iamVjdHMubWFwKCh0KSA9PiB0Lm5hbWUpXTtcbiAgcmV0dXJuIHZhbHVlID09PSB2b2lkIDAgPyB7IHZhbGlkOiAhMCwgcmVzb2x1dGlvbjogbnVsbCwgdmFsdWUgfSA6ICFBcnJheS5pc0FycmF5KHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPT09IDAgPyB7XG4gICAgdmFsaWQ6ICExLFxuICAgIHJlc29sdXRpb246IHtcbiAgICAgIHBhdGNoZXM6IFt1bnNldChbXSldLFxuICAgICAgZGVzY3JpcHRpb246IFwiRWRpdG9yIHZhbHVlIG11c3QgYmUgYW4gYXJyYXkgb2YgUG9ydGFibGUgVGV4dCBibG9ja3MsIG9yIHVuZGVmaW5lZC5cIixcbiAgICAgIGFjdGlvbjogXCJVbnNldCB0aGUgdmFsdWVcIixcbiAgICAgIGl0ZW06IHZhbHVlLFxuICAgICAgaTE4bjoge1xuICAgICAgICBkZXNjcmlwdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm5vdC1hbi1hcnJheS5kZXNjcmlwdGlvblwiLFxuICAgICAgICBhY3Rpb246IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuaW52YWxpZC12YWx1ZS5ub3QtYW4tYXJyYXkuYWN0aW9uXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIHZhbHVlXG4gIH0gOiAodmFsdWUuc29tZSgoYmxrLCBpbmRleCkgPT4ge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChibGspKVxuICAgICAgcmV0dXJuIHJlc29sdXRpb24gPSB7XG4gICAgICAgIHBhdGNoZXM6IFt1bnNldChbaW5kZXhdKV0sXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgQmxvY2sgbXVzdCBiZSBhbiBvYmplY3QsIGdvdCAke1N0cmluZyhibGspfWAsXG4gICAgICAgIGFjdGlvbjogXCJVbnNldCBpbnZhbGlkIGl0ZW1cIixcbiAgICAgICAgaXRlbTogYmxrLFxuICAgICAgICBpMThuOiB7XG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuaW52YWxpZC12YWx1ZS5ub3QtYW4tb2JqZWN0LmRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgYWN0aW9uOiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LmludmFsaWQtdmFsdWUubm90LWFuLW9iamVjdC5hY3Rpb25cIixcbiAgICAgICAgICB2YWx1ZXM6IHsgaW5kZXggfVxuICAgICAgICB9XG4gICAgICB9LCAhMDtcbiAgICBpZiAoIWJsay5fa2V5IHx8IHR5cGVvZiBibGsuX2tleSAhPSBcInN0cmluZ1wiKVxuICAgICAgcmV0dXJuIHJlc29sdXRpb24gPSB7XG4gICAgICAgIHBhdGNoZXM6IFtzZXQoeyAuLi5ibGssIF9rZXk6IGtleUdlbmVyYXRvcigpIH0sIFtpbmRleF0pXSxcbiAgICAgICAgZGVzY3JpcHRpb246IGBCbG9jayBhdCBpbmRleCAke2luZGV4fSBpcyBtaXNzaW5nIHJlcXVpcmVkIF9rZXkuYCxcbiAgICAgICAgYWN0aW9uOiBcIlNldCB0aGUgYmxvY2sgd2l0aCBhIHJhbmRvbSBfa2V5IHZhbHVlXCIsXG4gICAgICAgIGl0ZW06IGJsayxcbiAgICAgICAgaTE4bjoge1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LmludmFsaWQtdmFsdWUubWlzc2luZy1rZXkuZGVzY3JpcHRpb25cIixcbiAgICAgICAgICBhY3Rpb246IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuaW52YWxpZC12YWx1ZS5taXNzaW5nLWtleS5hY3Rpb25cIixcbiAgICAgICAgICB2YWx1ZXM6IHsgaW5kZXggfVxuICAgICAgICB9XG4gICAgICB9LCAhMDtcbiAgICBpZiAoIWJsay5fdHlwZSB8fCAhdmFsaWRCbG9ja1R5cGVzLmluY2x1ZGVzKGJsay5fdHlwZSkpIHtcbiAgICAgIGlmIChibGsuX3R5cGUgPT09IFwiYmxvY2tcIikge1xuICAgICAgICBjb25zdCBjdXJyZW50QmxvY2tUeXBlTmFtZSA9IHR5cGVzLmJsb2NrLm5hbWU7XG4gICAgICAgIHJldHVybiByZXNvbHV0aW9uID0ge1xuICAgICAgICAgIHBhdGNoZXM6IFtzZXQoeyAuLi5ibGssIF90eXBlOiBjdXJyZW50QmxvY2tUeXBlTmFtZSB9LCBbeyBfa2V5OiBibGsuX2tleSB9XSldLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQmxvY2sgd2l0aCBfa2V5ICcke2Jsay5fa2V5fScgaGFzIGludmFsaWQgdHlwZSBuYW1lICcke2Jsay5fdHlwZX0nLiBBY2NvcmRpbmcgdG8gdGhlIHNjaGVtYSwgdGhlIGJsb2NrIHR5cGUgbmFtZSBpcyAnJHtjdXJyZW50QmxvY2tUeXBlTmFtZX0nYCxcbiAgICAgICAgICBhY3Rpb246IGBVc2UgdHlwZSAnJHtjdXJyZW50QmxvY2tUeXBlTmFtZX0nYCxcbiAgICAgICAgICBpdGVtOiBibGssXG4gICAgICAgICAgaTE4bjoge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuaW52YWxpZC12YWx1ZS5pbmNvcnJlY3QtYmxvY2stdHlwZS5kZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgYWN0aW9uOiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LmludmFsaWQtdmFsdWUuaW5jb3JyZWN0LWJsb2NrLXR5cGUuYWN0aW9uXCIsXG4gICAgICAgICAgICB2YWx1ZXM6IHsga2V5OiBibGsuX2tleSwgZXhwZWN0ZWRUeXBlTmFtZTogY3VycmVudEJsb2NrVHlwZU5hbWUgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgITA7XG4gICAgICB9XG4gICAgICByZXR1cm4gIWJsay5fdHlwZSAmJiBpc1BvcnRhYmxlVGV4dFRleHRCbG9jayh7IC4uLmJsaywgX3R5cGU6IHR5cGVzLmJsb2NrLm5hbWUgfSkgPyAocmVzb2x1dGlvbiA9IHtcbiAgICAgICAgcGF0Y2hlczogW3NldCh7IC4uLmJsaywgX3R5cGU6IHR5cGVzLmJsb2NrLm5hbWUgfSwgW3sgX2tleTogYmxrLl9rZXkgfV0pXSxcbiAgICAgICAgZGVzY3JpcHRpb246IGBCbG9jayB3aXRoIF9rZXkgJyR7YmxrLl9rZXl9JyBpcyBtaXNzaW5nIGEgdHlwZSBuYW1lLiBBY2NvcmRpbmcgdG8gdGhlIHNjaGVtYSwgdGhlIGJsb2NrIHR5cGUgbmFtZSBpcyAnJHt0eXBlcy5ibG9jay5uYW1lfSdgLFxuICAgICAgICBhY3Rpb246IGBVc2UgdHlwZSAnJHt0eXBlcy5ibG9jay5uYW1lfSdgLFxuICAgICAgICBpdGVtOiBibGssXG4gICAgICAgIGkxOG46IHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm1pc3NpbmctYmxvY2stdHlwZS5kZXNjcmlwdGlvblwiLFxuICAgICAgICAgIGFjdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm1pc3NpbmctYmxvY2stdHlwZS5hY3Rpb25cIixcbiAgICAgICAgICB2YWx1ZXM6IHsga2V5OiBibGsuX2tleSwgZXhwZWN0ZWRUeXBlTmFtZTogdHlwZXMuYmxvY2submFtZSB9XG4gICAgICAgIH1cbiAgICAgIH0sICEwKSA6IGJsay5fdHlwZSA/IChyZXNvbHV0aW9uID0ge1xuICAgICAgICBwYXRjaGVzOiBbdW5zZXQoW3sgX2tleTogYmxrLl9rZXkgfV0pXSxcbiAgICAgICAgZGVzY3JpcHRpb246IGBCbG9jayB3aXRoIF9rZXkgJyR7YmxrLl9rZXl9JyBoYXMgaW52YWxpZCBfdHlwZSAnJHtibGsuX3R5cGV9J2AsXG4gICAgICAgIGFjdGlvbjogXCJSZW1vdmUgdGhlIGJsb2NrXCIsXG4gICAgICAgIGl0ZW06IGJsayxcbiAgICAgICAgaTE4bjoge1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LmludmFsaWQtdmFsdWUuZGlzYWxsb3dlZC10eXBlLmRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgYWN0aW9uOiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LmludmFsaWQtdmFsdWUuZGlzYWxsb3dlZC10eXBlLmFjdGlvblwiLFxuICAgICAgICAgIHZhbHVlczogeyBrZXk6IGJsay5fa2V5LCB0eXBlTmFtZTogYmxrLl90eXBlIH1cbiAgICAgICAgfVxuICAgICAgfSwgITApIDogKHJlc29sdXRpb24gPSB7XG4gICAgICAgIHBhdGNoZXM6IFt1bnNldChbeyBfa2V5OiBibGsuX2tleSB9XSldLFxuICAgICAgICBkZXNjcmlwdGlvbjogYEJsb2NrIHdpdGggX2tleSAnJHtibGsuX2tleX0nIGlzIG1pc3NpbmcgYW4gX3R5cGUgcHJvcGVydHlgLFxuICAgICAgICBhY3Rpb246IFwiUmVtb3ZlIHRoZSBibG9ja1wiLFxuICAgICAgICBpdGVtOiBibGssXG4gICAgICAgIGkxOG46IHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm1pc3NpbmctdHlwZS5kZXNjcmlwdGlvblwiLFxuICAgICAgICAgIGFjdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm1pc3NpbmctdHlwZS5hY3Rpb25cIixcbiAgICAgICAgICB2YWx1ZXM6IHsga2V5OiBibGsuX2tleSB9XG4gICAgICAgIH1cbiAgICAgIH0sICEwKTtcbiAgICB9XG4gICAgaWYgKGJsay5fdHlwZSA9PT0gdHlwZXMuYmxvY2submFtZSkge1xuICAgICAgY29uc3QgdGV4dEJsb2NrID0gYmxrO1xuICAgICAgaWYgKHRleHRCbG9jay5jaGlsZHJlbiAmJiAhQXJyYXkuaXNBcnJheSh0ZXh0QmxvY2suY2hpbGRyZW4pKVxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbiA9IHtcbiAgICAgICAgICBwYXRjaGVzOiBbc2V0KHsgY2hpbGRyZW46IFtdIH0sIFt7IF9rZXk6IHRleHRCbG9jay5fa2V5IH1dKV0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IGBUZXh0IGJsb2NrIHdpdGggX2tleSAnJHt0ZXh0QmxvY2suX2tleX0nIGhhcyBhIGludmFsaWQgcmVxdWlyZWQgcHJvcGVydHkgJ2NoaWxkcmVuJy5gLFxuICAgICAgICAgIGFjdGlvbjogXCJSZXNldCB0aGUgY2hpbGRyZW4gcHJvcGVydHlcIixcbiAgICAgICAgICBpdGVtOiB0ZXh0QmxvY2ssXG4gICAgICAgICAgaTE4bjoge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuaW52YWxpZC12YWx1ZS5taXNzaW5nLW9yLWludmFsaWQtY2hpbGRyZW4uZGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgIGFjdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm1pc3Npbmctb3ItaW52YWxpZC1jaGlsZHJlbi5hY3Rpb25cIixcbiAgICAgICAgICAgIHZhbHVlczogeyBrZXk6IHRleHRCbG9jay5fa2V5IH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sICEwO1xuICAgICAgaWYgKHRleHRCbG9jay5jaGlsZHJlbiA9PT0gdm9pZCAwIHx8IEFycmF5LmlzQXJyYXkodGV4dEJsb2NrLmNoaWxkcmVuKSAmJiB0ZXh0QmxvY2suY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IG5ld1NwYW4gPSB7XG4gICAgICAgICAgX3R5cGU6IHR5cGVzLnNwYW4ubmFtZSxcbiAgICAgICAgICBfa2V5OiBrZXlHZW5lcmF0b3IoKSxcbiAgICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICAgIG1hcmtzOiBbXVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbiA9IHtcbiAgICAgICAgICBhdXRvUmVzb2x2ZTogITAsXG4gICAgICAgICAgcGF0Y2hlczogW1xuICAgICAgICAgICAgc2V0SWZNaXNzaW5nKFtdLCBbeyBfa2V5OiBibGsuX2tleSB9LCBcImNoaWxkcmVuXCJdKSxcbiAgICAgICAgICAgIGluc2VydCQxKFtuZXdTcGFuXSwgXCJhZnRlclwiLCBbeyBfa2V5OiBibGsuX2tleSB9LCBcImNoaWxkcmVuXCIsIDBdKVxuICAgICAgICAgIF0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IGBDaGlsZHJlbiBmb3IgdGV4dCBibG9jayB3aXRoIF9rZXkgJyR7YmxrLl9rZXl9JyBpcyBlbXB0eS5gLFxuICAgICAgICAgIGFjdGlvbjogXCJJbnNlcnQgYW4gZW1wdHkgdGV4dFwiLFxuICAgICAgICAgIGl0ZW06IGJsayxcbiAgICAgICAgICBpMThuOiB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLmVtcHR5LWNoaWxkcmVuLmRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICBhY3Rpb246IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuaW52YWxpZC12YWx1ZS5lbXB0eS1jaGlsZHJlbi5hY3Rpb25cIixcbiAgICAgICAgICAgIHZhbHVlczogeyBrZXk6IGJsay5fa2V5IH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sICEwO1xuICAgICAgfVxuICAgICAgaWYgKGJsay5tYXJrRGVmcyAmJiAhQXJyYXkuaXNBcnJheShibGsubWFya0RlZnMpKVxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbiA9IHtcbiAgICAgICAgICBwYXRjaGVzOiBbc2V0KHsgLi4udGV4dEJsb2NrLCBtYXJrRGVmczogRU1QVFlfTUFSS0RFRlMgfSwgW3sgX2tleTogdGV4dEJsb2NrLl9rZXkgfV0pXSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJCbG9jayBoYXMgaW52YWxpZCByZXF1aXJlZCBwcm9wZXJ0eSAnbWFya0RlZnMnLlwiLFxuICAgICAgICAgIGFjdGlvbjogXCJBZGQgZW1wdHkgbWFya0RlZnMgYXJyYXlcIixcbiAgICAgICAgICBpdGVtOiB0ZXh0QmxvY2ssXG4gICAgICAgICAgaTE4bjoge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuaW52YWxpZC12YWx1ZS5taXNzaW5nLW9yLWludmFsaWQtbWFya2RlZnMuZGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgIGFjdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm1pc3Npbmctb3ItaW52YWxpZC1tYXJrZGVmcy5hY3Rpb25cIixcbiAgICAgICAgICAgIHZhbHVlczogeyBrZXk6IHRleHRCbG9jay5fa2V5IH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sICEwO1xuICAgICAgY29uc3QgYWxsVXNlZE1hcmtzID0gdW5pcShcbiAgICAgICAgZmxhdHRlbiQxKFxuICAgICAgICAgIHRleHRCbG9jay5jaGlsZHJlbi5maWx0ZXIoKGNsZCkgPT4gY2xkLl90eXBlID09PSB0eXBlcy5zcGFuLm5hbWUpLm1hcCgoY2xkKSA9PiBjbGQubWFya3MgfHwgW10pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShibGsubWFya0RlZnMpICYmIGJsay5tYXJrRGVmcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHVudXNlZE1hcmtEZWZzID0gdW5pcShcbiAgICAgICAgICBibGsubWFya0RlZnMubWFwKChkZWYpID0+IGRlZi5fa2V5KS5maWx0ZXIoKGtleSkgPT4gIWFsbFVzZWRNYXJrcy5pbmNsdWRlcyhrZXkpKVxuICAgICAgICApO1xuICAgICAgICBpZiAodW51c2VkTWFya0RlZnMubGVuZ3RoID4gMClcbiAgICAgICAgICByZXR1cm4gcmVzb2x1dGlvbiA9IHtcbiAgICAgICAgICAgIGF1dG9SZXNvbHZlOiAhMCxcbiAgICAgICAgICAgIHBhdGNoZXM6IHVudXNlZE1hcmtEZWZzLm1hcChcbiAgICAgICAgICAgICAgKG1hcmtEZWZLZXkpID0+IHVuc2V0KFt7IF9rZXk6IGJsay5fa2V5IH0sIFwibWFya0RlZnNcIiwgeyBfa2V5OiBtYXJrRGVmS2V5IH1dKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQmxvY2sgY29udGFpbnMgb3JwaGFuZWQgZGF0YSAodW51c2VkIG1hcmsgZGVmaW5pdGlvbnMpOiAke3VudXNlZE1hcmtEZWZzLmpvaW4oXG4gICAgICAgICAgICAgIFwiLCBcIlxuICAgICAgICAgICAgKX0uYCxcbiAgICAgICAgICAgIGFjdGlvbjogXCJSZW1vdmUgdW51c2VkIG1hcmsgZGVmaW5pdGlvbiBpdGVtXCIsXG4gICAgICAgICAgICBpdGVtOiBibGssXG4gICAgICAgICAgICBpMThuOiB7XG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LmludmFsaWQtdmFsdWUub3JwaGFuZWQtbWFyay1kZWZzLmRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICAgIGFjdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm9ycGhhbmVkLW1hcmstZGVmcy5hY3Rpb25cIixcbiAgICAgICAgICAgICAgdmFsdWVzOiB7IGtleTogYmxrLl9rZXksIHVudXNlZE1hcmtEZWZzOiB1bnVzZWRNYXJrRGVmcy5tYXAoKG0pID0+IG0udG9TdHJpbmcoKSkgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sICEwO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3JwaGFuZWRNYXJrcyA9IGFsbFVzZWRNYXJrcy5maWx0ZXIoXG4gICAgICAgIChtYXJrKSA9PiAhdHlwZXMuZGVjb3JhdG9ycy5tYXAoKGRlYykgPT4gZGVjLnZhbHVlKS5pbmNsdWRlcyhtYXJrKVxuICAgICAgKS5maWx0ZXIoXG4gICAgICAgIChtYXJrKSA9PiB0ZXh0QmxvY2subWFya0RlZnMgPT09IHZvaWQgMCB8fCAhdGV4dEJsb2NrLm1hcmtEZWZzLmZpbmQoKGRlZikgPT4gZGVmLl9rZXkgPT09IG1hcmspXG4gICAgICApO1xuICAgICAgaWYgKG9ycGhhbmVkTWFya3MubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBzcGFuQ2hpbGRyZW4gPSB0ZXh0QmxvY2suY2hpbGRyZW4uZmlsdGVyKFxuICAgICAgICAgIChjbGQpID0+IGNsZC5fdHlwZSA9PT0gdHlwZXMuc3Bhbi5uYW1lICYmIEFycmF5LmlzQXJyYXkoY2xkLm1hcmtzKSAmJiBjbGQubWFya3Muc29tZSgobWFyaykgPT4gb3JwaGFuZWRNYXJrcy5pbmNsdWRlcyhtYXJrKSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHNwYW5DaGlsZHJlbikge1xuICAgICAgICAgIGNvbnN0IG9ycGhhbmVkID0gb3JwaGFuZWRNYXJrcy5qb2luKFwiLCBcIik7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdXRpb24gPSB7XG4gICAgICAgICAgICBhdXRvUmVzb2x2ZTogITAsXG4gICAgICAgICAgICBwYXRjaGVzOiBzcGFuQ2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gc2V0KFxuICAgICAgICAgICAgICAoY2hpbGQubWFya3MgfHwgW10pLmZpbHRlcigoY01yaykgPT4gIW9ycGhhbmVkTWFya3MuaW5jbHVkZXMoY01yaykpLFxuICAgICAgICAgICAgICBbeyBfa2V5OiBibGsuX2tleSB9LCBcImNoaWxkcmVuXCIsIHsgX2tleTogY2hpbGQuX2tleSB9LCBcIm1hcmtzXCJdXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQmxvY2sgd2l0aCBfa2V5ICcke2Jsay5fa2V5fScgY29udGFpbnMgbWFya3MgKCR7b3JwaGFuZWR9KSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IGNvbnRlbnQgbW9kZWwuYCxcbiAgICAgICAgICAgIGFjdGlvbjogXCJSZW1vdmUgaW52YWxpZCBtYXJrc1wiLFxuICAgICAgICAgICAgaXRlbTogYmxrLFxuICAgICAgICAgICAgaTE4bjoge1xuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm9ycGhhbmVkLW1hcmtzLmRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICAgIGFjdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm9ycGhhbmVkLW1hcmtzLmFjdGlvblwiLFxuICAgICAgICAgICAgICB2YWx1ZXM6IHsga2V5OiBibGsuX2tleSwgb3JwaGFuZWRNYXJrczogb3JwaGFuZWRNYXJrcy5tYXAoKG0pID0+IG0udG9TdHJpbmcoKSkgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sICEwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0ZXh0QmxvY2suY2hpbGRyZW4uc29tZSgoY2hpbGQsIGNJbmRleCkgPT4ge1xuICAgICAgICBpZiAoIWlzUGxhaW5PYmplY3QoY2hpbGQpKVxuICAgICAgICAgIHJldHVybiByZXNvbHV0aW9uID0ge1xuICAgICAgICAgICAgcGF0Y2hlczogW3Vuc2V0KFt7IF9rZXk6IGJsay5fa2V5IH0sIFwiY2hpbGRyZW5cIiwgY0luZGV4XSldLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGBDaGlsZCBhdCBpbmRleCAnJHtjSW5kZXh9JyBpbiBibG9jayB3aXRoIGtleSAnJHtibGsuX2tleX0nIGlzIG5vdCBhbiBvYmplY3QuYCxcbiAgICAgICAgICAgIGFjdGlvbjogXCJSZW1vdmUgdGhlIGl0ZW1cIixcbiAgICAgICAgICAgIGl0ZW06IGJsayxcbiAgICAgICAgICAgIGkxOG46IHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuaW52YWxpZC12YWx1ZS5ub24tb2JqZWN0LWNoaWxkLmRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICAgIGFjdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm5vbi1vYmplY3QtY2hpbGQuYWN0aW9uXCIsXG4gICAgICAgICAgICAgIHZhbHVlczogeyBrZXk6IGJsay5fa2V5LCBpbmRleDogY0luZGV4IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAhMDtcbiAgICAgICAgaWYgKCFjaGlsZC5fa2V5IHx8IHR5cGVvZiBjaGlsZC5fa2V5ICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBjb25zdCBuZXdDaGlsZCA9IHsgLi4uY2hpbGQsIF9rZXk6IGtleUdlbmVyYXRvcigpIH07XG4gICAgICAgICAgcmV0dXJuIHJlc29sdXRpb24gPSB7XG4gICAgICAgICAgICBhdXRvUmVzb2x2ZTogITAsXG4gICAgICAgICAgICBwYXRjaGVzOiBbc2V0KG5ld0NoaWxkLCBbeyBfa2V5OiBibGsuX2tleSB9LCBcImNoaWxkcmVuXCIsIGNJbmRleF0pXSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQ2hpbGQgYXQgaW5kZXggJHtjSW5kZXh9IGlzIG1pc3NpbmcgcmVxdWlyZWQgX2tleSBpbiBibG9jayB3aXRoIF9rZXkgJHtibGsuX2tleX0uYCxcbiAgICAgICAgICAgIGFjdGlvbjogXCJTZXQgYSBuZXcgcmFuZG9tIF9rZXkgb24gdGhlIG9iamVjdFwiLFxuICAgICAgICAgICAgaXRlbTogYmxrLFxuICAgICAgICAgICAgaTE4bjoge1xuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm1pc3NpbmctY2hpbGQta2V5LmRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICAgIGFjdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm1pc3NpbmctY2hpbGQta2V5LmFjdGlvblwiLFxuICAgICAgICAgICAgICB2YWx1ZXM6IHsga2V5OiBibGsuX2tleSwgaW5kZXg6IGNJbmRleCB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgITA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkLl90eXBlID8gdmFsaWRDaGlsZFR5cGVzLmluY2x1ZGVzKGNoaWxkLl90eXBlKSA/IGNoaWxkLl90eXBlID09PSB0eXBlcy5zcGFuLm5hbWUgJiYgdHlwZW9mIGNoaWxkLnRleHQgIT0gXCJzdHJpbmdcIiA/IChyZXNvbHV0aW9uID0ge1xuICAgICAgICAgIHBhdGNoZXM6IFtcbiAgICAgICAgICAgIHNldCh7IC4uLmNoaWxkLCB0ZXh0OiBcIlwiIH0sIFt7IF9rZXk6IGJsay5fa2V5IH0sIFwiY2hpbGRyZW5cIiwgeyBfa2V5OiBjaGlsZC5fa2V5IH1dKVxuICAgICAgICAgIF0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IGBDaGlsZCB3aXRoIF9rZXkgJyR7Y2hpbGQuX2tleX0nIGluIGJsb2NrIHdpdGgga2V5ICcke2Jsay5fa2V5fScgaGFzIG1pc3Npbmcgb3IgaW52YWxpZCB0ZXh0IHByb3BlcnR5IWAsXG4gICAgICAgICAgYWN0aW9uOiBcIldyaXRlIGFuIGVtcHR5IHRleHQgcHJvcGVydHkgdG8gdGhlIG9iamVjdFwiLFxuICAgICAgICAgIGl0ZW06IGJsayxcbiAgICAgICAgICBpMThuOiB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLmludmFsaWQtc3Bhbi10ZXh0LmRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICBhY3Rpb246IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuaW52YWxpZC12YWx1ZS5pbnZhbGlkLXNwYW4tdGV4dC5hY3Rpb25cIixcbiAgICAgICAgICAgIHZhbHVlczogeyBrZXk6IGJsay5fa2V5LCBjaGlsZEtleTogY2hpbGQuX2tleSB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCAhMCkgOiAhMSA6IChyZXNvbHV0aW9uID0ge1xuICAgICAgICAgIHBhdGNoZXM6IFt1bnNldChbeyBfa2V5OiBibGsuX2tleSB9LCBcImNoaWxkcmVuXCIsIHsgX2tleTogY2hpbGQuX2tleSB9XSldLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQ2hpbGQgd2l0aCBfa2V5ICcke2NoaWxkLl9rZXl9JyBpbiBibG9jayB3aXRoIGtleSAnJHtibGsuX2tleX0nIGhhcyBpbnZhbGlkICdfdHlwZScgcHJvcGVydHkgKCR7Y2hpbGQuX3R5cGV9KS5gLFxuICAgICAgICAgIGFjdGlvbjogXCJSZW1vdmUgdGhlIG9iamVjdFwiLFxuICAgICAgICAgIGl0ZW06IGJsayxcbiAgICAgICAgICBpMThuOiB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLmRpc2FsbG93ZWQtY2hpbGQtdHlwZS5kZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgYWN0aW9uOiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LmludmFsaWQtdmFsdWUuZGlzYWxsb3dlZC1jaGlsZC10eXBlLmFjdGlvblwiLFxuICAgICAgICAgICAgdmFsdWVzOiB7IGtleTogYmxrLl9rZXksIGNoaWxkS2V5OiBjaGlsZC5fa2V5LCBjaGlsZFR5cGU6IGNoaWxkLl90eXBlIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sICEwKSA6IChyZXNvbHV0aW9uID0ge1xuICAgICAgICAgIHBhdGNoZXM6IFt1bnNldChbeyBfa2V5OiBibGsuX2tleSB9LCBcImNoaWxkcmVuXCIsIHsgX2tleTogY2hpbGQuX2tleSB9XSldLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQ2hpbGQgd2l0aCBfa2V5ICcke2NoaWxkLl9rZXl9JyBpbiBibG9jayB3aXRoIGtleSAnJHtibGsuX2tleX0nIGlzIG1pc3NpbmcgJ190eXBlJyBwcm9wZXJ0eS5gLFxuICAgICAgICAgIGFjdGlvbjogXCJSZW1vdmUgdGhlIG9iamVjdFwiLFxuICAgICAgICAgIGl0ZW06IGJsayxcbiAgICAgICAgICBpMThuOiB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5pbnZhbGlkLXZhbHVlLm1pc3NpbmctY2hpbGQtdHlwZS5kZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgYWN0aW9uOiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LmludmFsaWQtdmFsdWUubWlzc2luZy1jaGlsZC10eXBlLmFjdGlvblwiLFxuICAgICAgICAgICAgdmFsdWVzOiB7IGtleTogYmxrLl9rZXksIGNoaWxkS2V5OiBjaGlsZC5fa2V5IH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sICEwKTtcbiAgICAgIH0pICYmICh2YWxpZCA9ICExKTtcbiAgICB9XG4gICAgcmV0dXJuICExO1xuICB9KSAmJiAodmFsaWQgPSAhMSksIHsgdmFsaWQsIHJlc29sdXRpb24sIHZhbHVlIH0pO1xufVxuY29uc3QgZGVidWckNiA9IGRlYnVnV2l0aE5hbWUoXCJwbHVnaW46d2l0aEluc2VydERhdGFcIik7XG5mdW5jdGlvbiBjcmVhdGVXaXRoSW5zZXJ0RGF0YShjaGFuZ2UkLCBzY2hlbWFUeXBlcywga2V5R2VuZXJhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICBjb25zdCBibG9ja1R5cGVOYW1lID0gc2NoZW1hVHlwZXMuYmxvY2submFtZSwgc3BhblR5cGVOYW1lID0gc2NoZW1hVHlwZXMuc3Bhbi5uYW1lLCB3aGl0ZXNwYWNlT25QYXN0ZU1vZGUgPSBzY2hlbWFUeXBlcy5ibG9jay5vcHRpb25zLnVuc3RhYmxlX3doaXRlc3BhY2VPblBhc3RlTW9kZSwgdG9QbGFpblRleHQgPSAoYmxvY2tzKSA9PiBibG9ja3MubWFwKChibG9jaykgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuIGVkaXRvci5pc1RleHRCbG9jayhibG9jaykgPyBibG9jay5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIHJldHVybiBjaGlsZC5fdHlwZSA9PT0gc3BhblR5cGVOYW1lID8gY2hpbGQudGV4dCA6IGBbJHsoKF9hMiA9IHNjaGVtYVR5cGVzLmlubGluZU9iamVjdHMuZmluZCgodCkgPT4gdC5uYW1lID09PSBjaGlsZC5fdHlwZSkpID09IG51bGwgPyB2b2lkIDAgOiBfYTIudGl0bGUpIHx8IFwiT2JqZWN0XCJ9XWA7XG4gICAgICB9KS5qb2luKFwiXCIpIDogYFskeygoX2EgPSBzY2hlbWFUeXBlcy5ibG9ja09iamVjdHMuZmluZCgodCkgPT4gdC5uYW1lID09PSBibG9jay5fdHlwZSkpID09IG51bGwgPyB2b2lkIDAgOiBfYS50aXRsZSkgfHwgXCJPYmplY3RcIn1dYDtcbiAgICB9KS5qb2luKGBcblxuYCk7XG4gICAgcmV0dXJuIGVkaXRvci5zZXRGcmFnbWVudERhdGEgPSAoZGF0YSwgb3JpZ2luRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3I7XG4gICAgICBpZiAoIXNlbGVjdGlvbilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMoc2VsZWN0aW9uKSwgc3RhcnRWb2lkID0gRWRpdG9yLnZvaWQoZWRpdG9yLCB7IGF0OiBzdGFydC5wYXRoIH0pLCBlbmRWb2lkID0gRWRpdG9yLnZvaWQoZWRpdG9yLCB7IGF0OiBlbmQucGF0aCB9KTtcbiAgICAgIGlmIChSYW5nZS5pc0NvbGxhcHNlZChzZWxlY3Rpb24pICYmICFzdGFydFZvaWQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGRvbVJhbmdlID0gUmVhY3RFZGl0b3IudG9ET01SYW5nZShlZGl0b3IsIHNlbGVjdGlvbik7XG4gICAgICBsZXQgY29udGVudHMgPSBkb21SYW5nZS5jbG9uZUNvbnRlbnRzKCk7XG4gICAgICBpZiAoZW5kVm9pZCkge1xuICAgICAgICBjb25zdCBbdm9pZE5vZGVdID0gZW5kVm9pZCwgciA9IGRvbVJhbmdlLmNsb25lUmFuZ2UoKSwgZG9tTm9kZSA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIHZvaWROb2RlKTtcbiAgICAgICAgci5zZXRFbmRBZnRlcihkb21Ob2RlKSwgY29udGVudHMgPSByLmNsb25lQ29udGVudHMoKTtcbiAgICAgIH1cbiAgICAgIEFycmF5LmZyb20oY29udGVudHMucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXNsYXRlLXplcm8td2lkdGhdXCIpKS5mb3JFYWNoKCh6dykgPT4ge1xuICAgICAgICBjb25zdCBpc05ld2xpbmUgPSB6dy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNsYXRlLXplcm8td2lkdGhcIikgPT09IFwiblwiO1xuICAgICAgICB6dy50ZXh0Q29udGVudCA9IGlzTmV3bGluZSA/IGBcbmAgOiBcIlwiO1xuICAgICAgfSksIEFycmF5LmZyb20oY29udGVudHMucXVlcnlTZWxlY3RvckFsbChcIipcIikpLmZvckVhY2goKGVsbSkgPT4ge1xuICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpLCBlbG0ucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1zbGF0ZS1pbmxpbmVcIiksIGVsbS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXNsYXRlLWxlYWZcIiksIGVsbS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXNsYXRlLW5vZGVcIiksIGVsbS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXNsYXRlLXNwYWNlclwiKSwgZWxtLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtc2xhdGUtc3RyaW5nXCIpLCBlbG0ucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1zbGF0ZS16ZXJvLXdpZHRoXCIpLCBlbG0ucmVtb3ZlQXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBlbG0uYXR0cmlidXRlcylcbiAgICAgICAgICBlbG0uaGFzQXR0cmlidXRlKGtleSkgJiYgZWxtLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBkaXYgPSBjb250ZW50cy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoY29udGVudHMpLCBkaXYuc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsIFwidHJ1ZVwiKSwgY29udGVudHMub3duZXJEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gICAgICBjb25zdCBhc0hUTUwgPSBkaXYuaW5uZXJIVE1MO1xuICAgICAgY29udGVudHMub3duZXJEb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdik7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IGVkaXRvci5nZXRGcmFnbWVudCgpLCBwb3J0YWJsZVRleHQgPSBmcm9tU2xhdGVWYWx1ZShmcmFnbWVudCwgYmxvY2tUeXBlTmFtZSksIGFzSlNPTiA9IEpTT04uc3RyaW5naWZ5KHBvcnRhYmxlVGV4dCksIGFzUGxhaW5UZXh0ID0gdG9QbGFpblRleHQocG9ydGFibGVUZXh0KTtcbiAgICAgIGRhdGEuY2xlYXJEYXRhKCksIGRhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgYXNQbGFpblRleHQpLCBkYXRhLnNldERhdGEoXCJ0ZXh0L2h0bWxcIiwgYXNIVE1MKSwgZGF0YS5zZXREYXRhKFwiYXBwbGljYXRpb24vanNvblwiLCBhc0pTT04pLCBkYXRhLnNldERhdGEoXCJhcHBsaWNhdGlvbi94LXBvcnRhYmxlLXRleHRcIiwgYXNKU09OKSwgZGVidWckNihcInRleHRcIiwgYXNQbGFpblRleHQpLCBkYXRhLnNldERhdGEoXCJhcHBsaWNhdGlvbi94LXBvcnRhYmxlLXRleHQtZXZlbnQtb3JpZ2luXCIsIG9yaWdpbkV2ZW50IHx8IFwiZXh0ZXJuYWxcIiksIGRlYnVnJDYoXCJTZXQgZnJhZ21lbnQgZGF0YVwiLCBhc0pTT04sIGFzSFRNTCk7XG4gICAgfSwgZWRpdG9yLmluc2VydFBvcnRhYmxlVGV4dERhdGEgPSAoZGF0YSkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIGlmICghZWRpdG9yLnNlbGVjdGlvbilcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgY29uc3QgcFRleHQgPSBkYXRhLmdldERhdGEoXCJhcHBsaWNhdGlvbi94LXBvcnRhYmxlLXRleHRcIiksIG9yaWdpbiA9IGRhdGEuZ2V0RGF0YShcImFwcGxpY2F0aW9uL3gtcG9ydGFibGUtdGV4dC1ldmVudC1vcmlnaW5cIik7XG4gICAgICBpZiAoZGVidWckNihgSW5zZXJ0aW5nIHBvcnRhYmxlIHRleHQgZnJvbSAke29yaWdpbn0gZXZlbnRgLCBwVGV4dCksIHBUZXh0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UocFRleHQpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpICYmIHBhcnNlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3Qgc2xhdGVWYWx1ZSA9IF9yZWdlbmVyYXRlS2V5cyhcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIHRvU2xhdGVWYWx1ZShwYXJzZWQsIHsgc2NoZW1hVHlwZXMgfSksXG4gICAgICAgICAgICBrZXlHZW5lcmF0b3IsXG4gICAgICAgICAgICBzcGFuVHlwZU5hbWVcbiAgICAgICAgICApLCB2YWxpZGF0aW9uID0gdmFsaWRhdGVWYWx1ZShwYXJzZWQsIHNjaGVtYVR5cGVzLCBrZXlHZW5lcmF0b3IpO1xuICAgICAgICAgIGlmICghdmFsaWRhdGlvbi52YWxpZCAmJiAhKChfYSA9IHZhbGlkYXRpb24ucmVzb2x1dGlvbikgIT0gbnVsbCAmJiBfYS5hdXRvUmVzb2x2ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yRGVzY3JpcHRpb24gPSBgJHsoX2IgPSB2YWxpZGF0aW9uLnJlc29sdXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYi5kZXNjcmlwdGlvbn1gO1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZSQubmV4dCh7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgICAgbGV2ZWw6IFwid2FybmluZ1wiLFxuICAgICAgICAgICAgICBuYW1lOiBcInBhc3RlRXJyb3JcIixcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgIGRhdGE6IHZhbGlkYXRpb25cbiAgICAgICAgICAgIH0pLCBkZWJ1ZyQ2KFwiSW52YWxpZCBpbnNlcnQgcmVzdWx0XCIsIHZhbGlkYXRpb24pLCAhMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9pbnNlcnRGcmFnbWVudChlZGl0b3IsIHNsYXRlVmFsdWUsIHNjaGVtYVR5cGVzKSwgITA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9LCBlZGl0b3IuaW5zZXJ0VGV4dE9ySFRNTERhdGEgPSAoZGF0YSkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKCFlZGl0b3Iuc2VsZWN0aW9uKVxuICAgICAgICByZXR1cm4gZGVidWckNihcIk5vIHNlbGVjdGlvbiwgbm90IGluc2VydGluZ1wiKSwgITE7XG4gICAgICBjaGFuZ2UkLm5leHQoeyB0eXBlOiBcImxvYWRpbmdcIiwgaXNMb2FkaW5nOiAhMCB9KTtcbiAgICAgIGNvbnN0IGh0bWwgPSBkYXRhLmdldERhdGEoXCJ0ZXh0L2h0bWxcIiksIHRleHQgPSBkYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpO1xuICAgICAgaWYgKGh0bWwgfHwgdGV4dCkge1xuICAgICAgICBkZWJ1ZyQ2KFwiSW5zZXJ0aW5nIGRhdGFcIiwgZGF0YSk7XG4gICAgICAgIGxldCBwb3J0YWJsZVRleHQsIGZyYWdtZW50LCBpbnNlcnRlZFR5cGU7XG4gICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgaWYgKHBvcnRhYmxlVGV4dCA9IGh0bWxUb0Jsb2NrcyhodG1sLCBzY2hlbWFUeXBlcy5wb3J0YWJsZVRleHQsIHtcbiAgICAgICAgICAgIHVuc3RhYmxlX3doaXRlc3BhY2VPblBhc3RlTW9kZTogd2hpdGVzcGFjZU9uUGFzdGVNb2RlXG4gICAgICAgICAgfSkubWFwKChibG9jaykgPT4gbm9ybWFsaXplQmxvY2soYmxvY2ssIHsgYmxvY2tUeXBlTmFtZSB9KSksIGZyYWdtZW50ID0gdG9TbGF0ZVZhbHVlKHBvcnRhYmxlVGV4dCwgeyBzY2hlbWFUeXBlcyB9KSwgaW5zZXJ0ZWRUeXBlID0gXCJIVE1MXCIsIHBvcnRhYmxlVGV4dC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdGV4dFRvSHRtbCA9IGA8aHRtbD48Ym9keT4ke2VzY2FwZUh0bWwodGV4dCkuc3BsaXQoL1xcbnsyLH0vKS5tYXAoXG4gICAgICAgICAgICAobGluZSkgPT4gbGluZSA/IGA8cD4ke2xpbmUucmVwbGFjZSgvKD86XFxyXFxufFxccnxcXG4pL2csIFwiPGJyLz5cIil9PC9wPmAgOiBcIjxwPjwvcD5cIlxuICAgICAgICAgICkuam9pbihcIlwiKX08L2JvZHk+PC9odG1sPmA7XG4gICAgICAgICAgcG9ydGFibGVUZXh0ID0gaHRtbFRvQmxvY2tzKHRleHRUb0h0bWwsIHNjaGVtYVR5cGVzLnBvcnRhYmxlVGV4dCkubWFwKFxuICAgICAgICAgICAgKGJsb2NrKSA9PiBub3JtYWxpemVCbG9jayhibG9jaywgeyBibG9ja1R5cGVOYW1lIH0pXG4gICAgICAgICAgKSwgZnJhZ21lbnQgPSB0b1NsYXRlVmFsdWUocG9ydGFibGVUZXh0LCB7XG4gICAgICAgICAgICBzY2hlbWFUeXBlc1xuICAgICAgICAgIH0pLCBpbnNlcnRlZFR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVWYWx1ZShwb3J0YWJsZVRleHQsIHNjaGVtYVR5cGVzLCBrZXlHZW5lcmF0b3IpO1xuICAgICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgICBjb25zdCBlcnJvckRlc2NyaXB0aW9uID0gYENvdWxkIG5vdCB2YWxpZGF0ZSB0aGUgcmVzdWx0aW5nIHBvcnRhYmxlIHRleHQgdG8gaW5zZXJ0LlxuJHsoX2EgPSB2YWxpZGF0aW9uLnJlc29sdXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYS5kZXNjcmlwdGlvbn1cblRyeSB0byBpbnNlcnQgYXMgcGxhaW4gdGV4dCAoc2hpZnQtcGFzdGUpIGluc3RlYWQuYDtcbiAgICAgICAgICByZXR1cm4gY2hhbmdlJC5uZXh0KHtcbiAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgIGxldmVsOiBcIndhcm5pbmdcIixcbiAgICAgICAgICAgIG5hbWU6IFwicGFzdGVFcnJvclwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yRGVzY3JpcHRpb24sXG4gICAgICAgICAgICBkYXRhOiB2YWxpZGF0aW9uXG4gICAgICAgICAgfSksIGRlYnVnJDYoXCJJbnZhbGlkIGluc2VydCByZXN1bHRcIiwgdmFsaWRhdGlvbiksICExO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWJ1ZyQ2KGBJbnNlcnRpbmcgJHtpbnNlcnRlZFR5cGV9IGZyYWdtZW50IGF0ICR7SlNPTi5zdHJpbmdpZnkoZWRpdG9yLnNlbGVjdGlvbil9YCksIF9pbnNlcnRGcmFnbWVudChlZGl0b3IsIGZyYWdtZW50LCBzY2hlbWFUeXBlcyksIGNoYW5nZSQubmV4dCh7IHR5cGU6IFwibG9hZGluZ1wiLCBpc0xvYWRpbmc6ICExIH0pLCAhMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGFuZ2UkLm5leHQoeyB0eXBlOiBcImxvYWRpbmdcIiwgaXNMb2FkaW5nOiAhMSB9KSwgITE7XG4gICAgfSwgZWRpdG9yLmluc2VydERhdGEgPSAoZGF0YSkgPT4ge1xuICAgICAgZWRpdG9yLmluc2VydFBvcnRhYmxlVGV4dERhdGEoZGF0YSkgfHwgZWRpdG9yLmluc2VydFRleHRPckhUTUxEYXRhKGRhdGEpO1xuICAgIH0sIGVkaXRvci5pbnNlcnRGcmFnbWVudERhdGEgPSAoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgZnJhZ21lbnQgPSBkYXRhLmdldERhdGEoXCJhcHBsaWNhdGlvbi94LXBvcnRhYmxlLXRleHRcIik7XG4gICAgICBpZiAoZnJhZ21lbnQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShmcmFnbWVudCk7XG4gICAgICAgIHJldHVybiBlZGl0b3IuaW5zZXJ0RnJhZ21lbnQocGFyc2VkKSwgITA7XG4gICAgICB9XG4gICAgICByZXR1cm4gITE7XG4gICAgfSwgZWRpdG9yO1xuICB9O1xufVxuY29uc3QgZW50aXR5TWFwID0ge1xuICBcIiZcIjogXCImYW1wO1wiLFxuICBcIjxcIjogXCImbHQ7XCIsXG4gIFwiPlwiOiBcIiZndDtcIixcbiAgJ1wiJzogXCImcXVvdDtcIixcbiAgXCInXCI6IFwiJiMzOTtcIixcbiAgXCIvXCI6IFwiJiN4MkY7XCIsXG4gIFwiYFwiOiBcIiYjeDYwO1wiLFxuICBcIj1cIjogXCImI3gzRDtcIlxufTtcbmZ1bmN0aW9uIGVzY2FwZUh0bWwoc3RyKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyKS5yZXBsYWNlKC9bJjw+XCInYD0vXS9nLCAocykgPT4gZW50aXR5TWFwW3NdKTtcbn1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRlS2V5cyhlZGl0b3IsIGZyYWdtZW50LCBrZXlHZW5lcmF0b3IsIHNwYW5UeXBlTmFtZSkge1xuICByZXR1cm4gZnJhZ21lbnQubWFwKChub2RlKSA9PiB7XG4gICAgY29uc3QgbmV3Tm9kZSA9IHsgLi4ubm9kZSB9O1xuICAgIGVkaXRvci5pc1RleHRCbG9jayhuZXdOb2RlKSAmJiAobmV3Tm9kZS5tYXJrRGVmcyA9IChuZXdOb2RlLm1hcmtEZWZzIHx8IFtdKS5tYXAoKGRlZikgPT4ge1xuICAgICAgY29uc3Qgb2xkS2V5ID0gZGVmLl9rZXksIG5ld0tleSA9IGtleUdlbmVyYXRvcigpO1xuICAgICAgcmV0dXJuIG5ld05vZGUuY2hpbGRyZW4gPSBuZXdOb2RlLmNoaWxkcmVuLm1hcChcbiAgICAgICAgKGNoaWxkKSA9PiBjaGlsZC5fdHlwZSA9PT0gc3BhblR5cGVOYW1lICYmIGVkaXRvci5pc1RleHRTcGFuKGNoaWxkKSA/IHtcbiAgICAgICAgICAuLi5jaGlsZCxcbiAgICAgICAgICBtYXJrczogY2hpbGQubWFya3MgJiYgY2hpbGQubWFya3MuaW5jbHVkZXMob2xkS2V5KSA/IChcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbmVzdGVkLWNhbGxiYWNrc1xuICAgICAgICAgICAgWy4uLmNoaWxkLm1hcmtzXS5maWx0ZXIoKG1hcmspID0+IG1hcmsgIT09IG9sZEtleSkuY29uY2F0KG5ld0tleSlcbiAgICAgICAgICApIDogY2hpbGQubWFya3NcbiAgICAgICAgfSA6IGNoaWxkXG4gICAgICApLCB7IC4uLmRlZiwgX2tleTogbmV3S2V5IH07XG4gICAgfSkpO1xuICAgIGNvbnN0IG5vZGVXaXRoTmV3S2V5cyA9IHsgLi4ubmV3Tm9kZSwgX2tleToga2V5R2VuZXJhdG9yKCkgfTtcbiAgICByZXR1cm4gZWRpdG9yLmlzVGV4dEJsb2NrKG5vZGVXaXRoTmV3S2V5cykgJiYgKG5vZGVXaXRoTmV3S2V5cy5jaGlsZHJlbiA9IG5vZGVXaXRoTmV3S2V5cy5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiAoe1xuICAgICAgLi4uY2hpbGQsXG4gICAgICBfa2V5OiBrZXlHZW5lcmF0b3IoKVxuICAgIH0pKSksIG5vZGVXaXRoTmV3S2V5cztcbiAgfSk7XG59XG5mdW5jdGlvbiBfaW5zZXJ0RnJhZ21lbnQoZWRpdG9yLCBmcmFnbWVudCwgc2NoZW1hVHlwZXMpIHtcbiAgZWRpdG9yLndpdGhvdXROb3JtYWxpemluZygoKSA9PiB7XG4gICAgaWYgKCFlZGl0b3Iuc2VsZWN0aW9uKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IFtmb2N1c0Jsb2NrLCBmb2N1c1BhdGhdID0gRWRpdG9yLm5vZGUoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uLCB7IGRlcHRoOiAxIH0pO1xuICAgIGlmIChlZGl0b3IuaXNUZXh0QmxvY2soZm9jdXNCbG9jaykgJiYgZWRpdG9yLmlzVGV4dEJsb2NrKGZyYWdtZW50WzBdKSkge1xuICAgICAgY29uc3QgeyBtYXJrRGVmcyB9ID0gZm9jdXNCbG9jaztcbiAgICAgIGRlYnVnJDYoXCJNaXhpbmcgbWFya0RlZnMgb2YgZm9jdXNCbG9jayBhbmQgZnJhZ21lbnRzWzBdIGJsb2NrXCIsIG1hcmtEZWZzLCBmcmFnbWVudFswXS5tYXJrRGVmcyksIGlzRXF1YWwobWFya0RlZnMsIGZyYWdtZW50WzBdLm1hcmtEZWZzKSB8fCBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICBlZGl0b3IsXG4gICAgICAgIHtcbiAgICAgICAgICBtYXJrRGVmczogdW5pcShbLi4uZnJhZ21lbnRbMF0ubWFya0RlZnMgfHwgW10sIC4uLm1hcmtEZWZzIHx8IFtdXSlcbiAgICAgICAgfSxcbiAgICAgICAgeyBhdDogZm9jdXNQYXRoLCBtb2RlOiBcImxvd2VzdFwiLCB2b2lkczogITEgfVxuICAgICAgKTtcbiAgICB9XG4gICAgaXNFcXVhbFRvRW1wdHlFZGl0b3IoZWRpdG9yLmNoaWxkcmVuLCBzY2hlbWFUeXBlcykgPyAoVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGVkaXRvciwgeyBhdDogWzAsIDBdIH0pLCBlZGl0b3IuaW5zZXJ0RnJhZ21lbnQoZnJhZ21lbnQpLCBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwgeyBhdDogWzBdIH0pKSA6IGVkaXRvci5pbnNlcnRGcmFnbWVudChmcmFnbWVudCk7XG4gIH0pLCBlZGl0b3Iub25DaGFuZ2UoKTtcbn1cbmNvbnN0IG9yaWdpbmFsRm5NYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgd2l0aFBsdWdpbnMgPSAoZWRpdG9yLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGUgPSBlZGl0b3IsIHsga2V5R2VuZXJhdG9yLCBwb3J0YWJsZVRleHRFZGl0b3IsIHBhdGNoZXMkLCByZWFkT25seSwgbWF4QmxvY2tzIH0gPSBvcHRpb25zLCB7IHNjaGVtYVR5cGVzLCBjaGFuZ2UkIH0gPSBwb3J0YWJsZVRleHRFZGl0b3I7XG4gIGUuc3Vic2NyaXB0aW9ucyA9IFtdLCBlLmRlc3Ryb3kgPyBlLmRlc3Ryb3koKSA6IG9yaWdpbmFsRm5NYXAuc2V0KGUsIHtcbiAgICBhcHBseTogZS5hcHBseSxcbiAgICBvbkNoYW5nZTogZS5vbkNoYW5nZSxcbiAgICBub3JtYWxpemVOb2RlOiBlLm5vcm1hbGl6ZU5vZGVcbiAgfSk7XG4gIGNvbnN0IG9wZXJhdGlvblRvUGF0Y2hlcyA9IGNyZWF0ZU9wZXJhdGlvblRvUGF0Y2hlcyhzY2hlbWFUeXBlcyksIHdpdGhPYmplY3RLZXlzID0gY3JlYXRlV2l0aE9iamVjdEtleXMoc2NoZW1hVHlwZXMsIGtleUdlbmVyYXRvciksIHdpdGhTY2hlbWFUeXBlcyA9IGNyZWF0ZVdpdGhTY2hlbWFUeXBlcyh7IHNjaGVtYVR5cGVzLCBrZXlHZW5lcmF0b3IgfSksIHdpdGhFZGl0YWJsZUFQSSA9IGNyZWF0ZVdpdGhFZGl0YWJsZUFQSShwb3J0YWJsZVRleHRFZGl0b3IsIHNjaGVtYVR5cGVzLCBrZXlHZW5lcmF0b3IpLCB3aXRoUGF0Y2hlcyA9IGNyZWF0ZVdpdGhQYXRjaGVzKHtcbiAgICBjaGFuZ2UkLFxuICAgIGtleUdlbmVyYXRvcixcbiAgICBwYXRjaGVzJCxcbiAgICBwYXRjaEZ1bmN0aW9uczogb3BlcmF0aW9uVG9QYXRjaGVzLFxuICAgIHJlYWRPbmx5LFxuICAgIHNjaGVtYVR5cGVzXG4gIH0pLCB3aXRoTWF4QmxvY2tzID0gY3JlYXRlV2l0aE1heEJsb2NrcyhtYXhCbG9ja3MgfHwgLTEpLCB3aXRoUG9ydGFibGVUZXh0TGlzdHMgPSBjcmVhdGVXaXRoUG9ydGFibGVUZXh0TGlzdHMoc2NoZW1hVHlwZXMpLCB3aXRoVW5kb1JlZG8gPSBjcmVhdGVXaXRoVW5kb1JlZG8oe1xuICAgIHJlYWRPbmx5LFxuICAgIHBhdGNoZXMkLFxuICAgIGJsb2NrU2NoZW1hVHlwZTogc2NoZW1hVHlwZXMuYmxvY2tcbiAgfSksIHdpdGhQb3J0YWJsZVRleHRNYXJrTW9kZWwgPSBjcmVhdGVXaXRoUG9ydGFibGVUZXh0TWFya01vZGVsKHNjaGVtYVR5cGVzLCBjaGFuZ2UkKSwgd2l0aFBvcnRhYmxlVGV4dEJsb2NrU3R5bGUgPSBjcmVhdGVXaXRoUG9ydGFibGVUZXh0QmxvY2tTdHlsZShzY2hlbWFUeXBlcyksIHdpdGhQbGFjZWhvbGRlckJsb2NrID0gY3JlYXRlV2l0aFBsYWNlaG9sZGVyQmxvY2soKSwgd2l0aEluc2VydEJyZWFrID0gY3JlYXRlV2l0aEluc2VydEJyZWFrKHNjaGVtYVR5cGVzKSwgd2l0aFV0aWxzID0gY3JlYXRlV2l0aFV0aWxzKHsga2V5R2VuZXJhdG9yLCBzY2hlbWFUeXBlcywgcG9ydGFibGVUZXh0RWRpdG9yIH0pLCB3aXRoUG9ydGFibGVUZXh0U2VsZWN0aW9ucyA9IGNyZWF0ZVdpdGhQb3J0YWJsZVRleHRTZWxlY3Rpb25zKGNoYW5nZSQsIHNjaGVtYVR5cGVzKTtcbiAgcmV0dXJuIGUuZGVzdHJveSA9ICgpID0+IHtcbiAgICBjb25zdCBvcmlnaW5hbEZ1bmN0aW9ucyA9IG9yaWdpbmFsRm5NYXAuZ2V0KGUpO1xuICAgIGlmICghb3JpZ2luYWxGdW5jdGlvbnMpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBwcmlzdGluZSB2ZXJzaW9ucyBvZiBlZGl0b3IgZnVuY3Rpb25zXCIpO1xuICAgIGUuYXBwbHkgPSBvcmlnaW5hbEZ1bmN0aW9ucy5hcHBseSwgZS5oaXN0b3J5ID0geyB1bmRvczogW10sIHJlZG9zOiBbXSB9LCBlLm5vcm1hbGl6ZU5vZGUgPSBvcmlnaW5hbEZ1bmN0aW9ucy5ub3JtYWxpemVOb2RlLCBlLm9uQ2hhbmdlID0gb3JpZ2luYWxGdW5jdGlvbnMub25DaGFuZ2U7XG4gIH0sIHJlYWRPbmx5ID8ge1xuICAgIGVkaXRvcjogd2l0aFNjaGVtYVR5cGVzKFxuICAgICAgd2l0aE9iamVjdEtleXMoXG4gICAgICAgIHdpdGhQb3J0YWJsZVRleHRNYXJrTW9kZWwoXG4gICAgICAgICAgd2l0aFBvcnRhYmxlVGV4dEJsb2NrU3R5bGUoXG4gICAgICAgICAgICB3aXRoVXRpbHMoXG4gICAgICAgICAgICAgIHdpdGhQbGFjZWhvbGRlckJsb2NrKFxuICAgICAgICAgICAgICAgIHdpdGhQb3J0YWJsZVRleHRMaXN0cyhcbiAgICAgICAgICAgICAgICAgIHdpdGhQb3J0YWJsZVRleHRTZWxlY3Rpb25zKHdpdGhFZGl0YWJsZUFQSSh3aXRoSW5zZXJ0QnJlYWsoZSkpKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICksXG4gICAgc3Vic2NyaWJlOiAoKSA9PiBub29wXG4gIH0gOiB7XG4gICAgZWRpdG9yOiB3aXRoU2NoZW1hVHlwZXMoXG4gICAgICB3aXRoT2JqZWN0S2V5cyhcbiAgICAgICAgd2l0aFBvcnRhYmxlVGV4dE1hcmtNb2RlbChcbiAgICAgICAgICB3aXRoUG9ydGFibGVUZXh0QmxvY2tTdHlsZShcbiAgICAgICAgICAgIHdpdGhQb3J0YWJsZVRleHRMaXN0cyhcbiAgICAgICAgICAgICAgd2l0aFBsYWNlaG9sZGVyQmxvY2soXG4gICAgICAgICAgICAgICAgd2l0aFV0aWxzKFxuICAgICAgICAgICAgICAgICAgd2l0aE1heEJsb2NrcyhcbiAgICAgICAgICAgICAgICAgICAgd2l0aFVuZG9SZWRvKFxuICAgICAgICAgICAgICAgICAgICAgIHdpdGhQYXRjaGVzKHdpdGhQb3J0YWJsZVRleHRTZWxlY3Rpb25zKHdpdGhFZGl0YWJsZUFQSSh3aXRoSW5zZXJ0QnJlYWsoZSkpKSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICksXG4gICAgc3Vic2NyaWJlOiAoKSA9PiB7XG4gICAgICBjb25zdCB1bnN1YnNjcmliZXMgPSBbXTtcbiAgICAgIHJldHVybiBlZGl0b3Iuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChzdWJzY3JpYmVGbikgPT4ge1xuICAgICAgICB1bnN1YnNjcmliZXMucHVzaChzdWJzY3JpYmVGbigpKTtcbiAgICAgIH0pLCAoKSA9PiB7XG4gICAgICAgIHVuc3Vic2NyaWJlcy5mb3JFYWNoKCh1bnN1YnNjcmliZUZuKSA9PiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmVGbigpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufSwgZGVidWckNSA9IGRlYnVnV2l0aE5hbWUoXCJjb21wb25lbnQ6UG9ydGFibGVUZXh0RWRpdG9yOlNsYXRlQ29udGFpbmVyXCIpO1xuZnVuY3Rpb24gU2xhdGVDb250YWluZXIocHJvcHMpIHtcbiAgY29uc3QgeyBwYXRjaGVzJCwgcG9ydGFibGVUZXh0RWRpdG9yLCByZWFkT25seSwgbWF4QmxvY2tzLCBrZXlHZW5lcmF0b3IgfSA9IHByb3BzLCBbW3NsYXRlRWRpdG9yLCBzdWJzY3JpYmVdXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICBkZWJ1ZyQ1KFwiQ3JlYXRpbmcgbmV3IFNsYXRlIGVkaXRvciBpbnN0YW5jZVwiKTtcbiAgICBjb25zdCB7IGVkaXRvciwgc3Vic2NyaWJlOiBfc3ViIH0gPSB3aXRoUGx1Z2lucyh3aXRoUmVhY3QoY3JlYXRlRWRpdG9yKCkpLCB7XG4gICAgICBrZXlHZW5lcmF0b3IsXG4gICAgICBtYXhCbG9ja3MsXG4gICAgICBwYXRjaGVzJCxcbiAgICAgIHBvcnRhYmxlVGV4dEVkaXRvcixcbiAgICAgIHJlYWRPbmx5XG4gICAgfSk7XG4gICAgcmV0dXJuIEtFWV9UT19WQUxVRV9FTEVNRU5ULnNldChlZGl0b3IsIHt9KSwgS0VZX1RPX1NMQVRFX0VMRU1FTlQuc2V0KGVkaXRvciwge30pLCBbZWRpdG9yLCBfc3ViXTtcbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBzdWJzY3JpYmUoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbc3Vic2NyaWJlXSksIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGVidWckNShcIlJlLWluaXRpYWxpemluZyBwbHVnaW4gY2hhaW5cIiksIHdpdGhQbHVnaW5zKHNsYXRlRWRpdG9yLCB7XG4gICAgICBrZXlHZW5lcmF0b3IsXG4gICAgICBtYXhCbG9ja3MsXG4gICAgICBwYXRjaGVzJCxcbiAgICAgIHBvcnRhYmxlVGV4dEVkaXRvcixcbiAgICAgIHJlYWRPbmx5XG4gICAgfSk7XG4gIH0sIFtrZXlHZW5lcmF0b3IsIHBvcnRhYmxlVGV4dEVkaXRvciwgbWF4QmxvY2tzLCByZWFkT25seSwgcGF0Y2hlcyQsIHNsYXRlRWRpdG9yXSk7XG4gIGNvbnN0IGluaXRpYWxWYWx1ZSA9IHVzZU1lbW8oKCkgPT4gW3NsYXRlRWRpdG9yLnB0ZUNyZWF0ZUVtcHR5QmxvY2soKV0sIFtzbGF0ZUVkaXRvcl0pO1xuICByZXR1cm4gdXNlRWZmZWN0KCgpID0+ICgpID0+IHtcbiAgICBkZWJ1ZyQ1KFwiRGVzdHJveWluZyBTbGF0ZSBlZGl0b3JcIiksIHNsYXRlRWRpdG9yLmRlc3Ryb3koKTtcbiAgfSwgW3NsYXRlRWRpdG9yXSksIC8qIEBfX1BVUkVfXyAqLyBqc3goU2xhdGUsIHsgZWRpdG9yOiBzbGF0ZUVkaXRvciwgaW5pdGlhbFZhbHVlLCBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW4gfSk7XG59XG5jb25zdCBkZWZhdWx0S2V5R2VuZXJhdG9yID0gKCkgPT4gcmFuZG9tS2V5KDEyKSwgUG9ydGFibGVUZXh0RWRpdG9yS2V5R2VuZXJhdG9yQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoZGVmYXVsdEtleUdlbmVyYXRvciksIHVzZVBvcnRhYmxlVGV4dEVkaXRvcktleUdlbmVyYXRvciA9ICgpID0+IHtcbiAgY29uc3Qga2V5R2VuZXJhdG9yID0gdXNlQ29udGV4dChQb3J0YWJsZVRleHRFZGl0b3JLZXlHZW5lcmF0b3JDb250ZXh0KTtcbiAgaWYgKGtleUdlbmVyYXRvciA9PT0gdm9pZCAwKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGhlIGB1c2VQb3J0YWJsZVRleHRFZGl0b3JLZXlHZW5lcmF0b3JgIGhvb2sgbXVzdCBiZSB1c2VkIGluc2lkZSB0aGUgPFBvcnRhYmxlVGV4dEVkaXRvcj4gY29tcG9uZW50J3MgY29udGV4dC5cIlxuICAgICk7XG4gIHJldHVybiBrZXlHZW5lcmF0b3I7XG59LCBQb3J0YWJsZVRleHRFZGl0b3JTZWxlY3Rpb25Db250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKSwgdXNlUG9ydGFibGVUZXh0RWRpdG9yU2VsZWN0aW9uID0gKCkgPT4ge1xuICBjb25zdCBzZWxlY3Rpb24gPSB1c2VDb250ZXh0KFBvcnRhYmxlVGV4dEVkaXRvclNlbGVjdGlvbkNvbnRleHQpO1xuICBpZiAoc2VsZWN0aW9uID09PSB2b2lkIDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGUgYHVzZVBvcnRhYmxlVGV4dEVkaXRvclNlbGVjdGlvbmAgaG9vayBtdXN0IGJlIHVzZWQgaW5zaWRlIHRoZSA8UG9ydGFibGVUZXh0RWRpdG9yPiBjb21wb25lbnQncyBjb250ZXh0LlwiXG4gICAgKTtcbiAgcmV0dXJuIHNlbGVjdGlvbjtcbn0sIFBvcnRhYmxlVGV4dEVkaXRvclZhbHVlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoXG4gIHZvaWQgMFxuKSwgUG9ydGFibGVUZXh0RWRpdG9yUmVhZE9ubHlDb250ZXh0ID0gY3JlYXRlQ29udGV4dCghMSksIHVzZVBvcnRhYmxlVGV4dEVkaXRvclJlYWRPbmx5U3RhdHVzID0gKCkgPT4ge1xuICBjb25zdCByZWFkT25seSA9IHVzZUNvbnRleHQoUG9ydGFibGVUZXh0RWRpdG9yUmVhZE9ubHlDb250ZXh0KTtcbiAgaWYgKHJlYWRPbmx5ID09PSB2b2lkIDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGUgYHVzZVBvcnRhYmxlVGV4dEVkaXRvclJlYWRPbmx5YCBob29rIG11c3QgYmUgdXNlZCBpbnNpZGUgdGhlIDxQb3J0YWJsZVRleHRFZGl0b3I+IGNvbXBvbmVudCdzIGNvbnRleHQuXCJcbiAgICApO1xuICByZXR1cm4gcmVhZE9ubHk7XG59LCBkZWJ1ZyQ0ID0gZGVidWdXaXRoTmFtZShcImhvb2s6dXNlU3luY1ZhbHVlXCIpLCBDVVJSRU5UX1ZBTFVFID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiB1c2VTeW5jVmFsdWUocHJvcHMpIHtcbiAgY29uc3QgeyBwb3J0YWJsZVRleHRFZGl0b3IsIHJlYWRPbmx5LCBrZXlHZW5lcmF0b3IgfSA9IHByb3BzLCB7IGNoYW5nZSQsIHNjaGVtYVR5cGVzIH0gPSBwb3J0YWJsZVRleHRFZGl0b3IsIHByZXZpb3VzVmFsdWUgPSB1c2VSZWYoKSwgc2xhdGVFZGl0b3IgPSB1c2VTbGF0ZSgpLCB1cGRhdGVWYWx1ZUZ1bmN0aW9uUmVmID0gdXNlUmVmKCksIHVwZGF0ZUZyb21DdXJyZW50VmFsdWUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gQ1VSUkVOVF9WQUxVRS5nZXQocG9ydGFibGVUZXh0RWRpdG9yKTtcbiAgICBpZiAocHJldmlvdXNWYWx1ZS5jdXJyZW50ID09PSBjdXJyZW50VmFsdWUpIHtcbiAgICAgIGRlYnVnJDQoXCJWYWx1ZSBpcyB0aGUgc2FtZSBvYmplY3QgYXMgcHJldmlvdXMsIG5vdCBuZWVkIHRvIHN5bmNcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHVwZGF0ZVZhbHVlRnVuY3Rpb25SZWYuY3VycmVudCAmJiBjdXJyZW50VmFsdWUgJiYgKGRlYnVnJDQoXCJVcGRhdGluZyB0aGUgdmFsdWUgZGVib3VuY2VkXCIpLCB1cGRhdGVWYWx1ZUZ1bmN0aW9uUmVmLmN1cnJlbnQoY3VycmVudFZhbHVlKSk7XG4gIH0sIFtwb3J0YWJsZVRleHRFZGl0b3JdKSwgdXBkYXRlVmFsdWVEZWJvdW5jZWQgPSB1c2VNZW1vKFxuICAgICgpID0+IGRlYm91bmNlKHVwZGF0ZUZyb21DdXJyZW50VmFsdWUsIDFlMywgeyB0cmFpbGluZzogITAsIGxlYWRpbmc6ICExIH0pLFxuICAgIFt1cGRhdGVGcm9tQ3VycmVudFZhbHVlXVxuICApO1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlRnVuY3Rpb24gPSAodmFsdWUpID0+IHtcbiAgICAgIENVUlJFTlRfVkFMVUUuc2V0KHBvcnRhYmxlVGV4dEVkaXRvciwgdmFsdWUpO1xuICAgICAgY29uc3QgaXNQcm9jZXNzaW5nTG9jYWxDaGFuZ2VzID0gaXNDaGFuZ2luZ0xvY2FsbHkoc2xhdGVFZGl0b3IpLCBpc1Byb2Nlc3NpbmdSZW1vdGVDaGFuZ2VzID0gaXNDaGFuZ2luZ1JlbW90ZWx5KHNsYXRlRWRpdG9yKTtcbiAgICAgIGlmICghcmVhZE9ubHkpIHtcbiAgICAgICAgaWYgKGlzUHJvY2Vzc2luZ0xvY2FsQ2hhbmdlcykge1xuICAgICAgICAgIGRlYnVnJDQoXCJIYXMgbG9jYWwgY2hhbmdlcywgbm90IHN5bmNpbmcgdmFsdWUgcmlnaHQgbm93XCIpLCB1cGRhdGVWYWx1ZURlYm91bmNlZCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9jZXNzaW5nUmVtb3RlQ2hhbmdlcykge1xuICAgICAgICAgIGRlYnVnJDQoXCJIYXMgcmVtb3RlIGNoYW5nZXMsIG5vdCBzeW5jaW5nIHZhbHVlIHJpZ2h0IG5vd1wiKSwgdXBkYXRlVmFsdWVEZWJvdW5jZWQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBpc0NoYW5nZWQgPSAhMSwgaXNWYWxpZCA9ICEwO1xuICAgICAgY29uc3QgaGFkU2VsZWN0aW9uID0gISFzbGF0ZUVkaXRvci5zZWxlY3Rpb247XG4gICAgICBpZiAoKCF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDApICYmIChkZWJ1ZyQ0KFwiVmFsdWUgaXMgZW1wdHlcIiksIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoc2xhdGVFZGl0b3IsICgpID0+IHtcbiAgICAgICAgd2l0aG91dFNhdmluZyhzbGF0ZUVkaXRvciwgKCkgPT4ge1xuICAgICAgICAgIHdpdGhvdXRQYXRjaGluZyhzbGF0ZUVkaXRvciwgKCkgPT4ge1xuICAgICAgICAgICAgaGFkU2VsZWN0aW9uICYmIFRyYW5zZm9ybXMuZGVzZWxlY3Qoc2xhdGVFZGl0b3IpO1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW5MZW5ndGggPSBzbGF0ZUVkaXRvci5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICBzbGF0ZUVkaXRvci5jaGlsZHJlbi5mb3JFYWNoKChfLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKHNsYXRlRWRpdG9yLCB7XG4gICAgICAgICAgICAgICAgYXQ6IFtjaGlsZHJlbkxlbmd0aCAtIDEgLSBpbmRleF1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSwgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhzbGF0ZUVkaXRvciwgc2xhdGVFZGl0b3IucHRlQ3JlYXRlRW1wdHlCbG9jaygpLCB7IGF0OiBbMF0gfSksIGhhZFNlbGVjdGlvbiAmJiBUcmFuc2Zvcm1zLnNlbGVjdChzbGF0ZUVkaXRvciwgWzAsIDBdKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KSwgaXNDaGFuZ2VkID0gITApLCB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHNsYXRlVmFsdWVGcm9tUHJvcHMgPSB0b1NsYXRlVmFsdWUodmFsdWUsIHtcbiAgICAgICAgICBzY2hlbWFUeXBlc1xuICAgICAgICB9KTtcbiAgICAgICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhzbGF0ZUVkaXRvciwgKCkgPT4ge1xuICAgICAgICAgIHdpdGhSZW1vdGVDaGFuZ2VzKHNsYXRlRWRpdG9yLCAoKSA9PiB7XG4gICAgICAgICAgICB3aXRob3V0U2F2aW5nKHNsYXRlRWRpdG9yLCAoKSA9PiB7XG4gICAgICAgICAgICAgIHdpdGhvdXRQYXRjaGluZyhzbGF0ZUVkaXRvciwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuTGVuZ3RoID0gc2xhdGVFZGl0b3IuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChzbGF0ZVZhbHVlRnJvbVByb3BzLmxlbmd0aCA8IGNoaWxkcmVuTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gY2hpbGRyZW5MZW5ndGggLSAxOyBpID4gc2xhdGVWYWx1ZUZyb21Qcm9wcy5sZW5ndGggLSAxOyBpLS0pXG4gICAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoc2xhdGVFZGl0b3IsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdDogW2ldXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgaXNDaGFuZ2VkID0gITA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNsYXRlVmFsdWVGcm9tUHJvcHMuZm9yRWFjaCgoY3VycmVudEJsb2NrLCBjdXJyZW50QmxvY2tJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZEJsb2NrID0gc2xhdGVFZGl0b3IuY2hpbGRyZW5bY3VycmVudEJsb2NrSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgaWYgKG9sZEJsb2NrICYmICFpc0VxdWFsKGN1cnJlbnRCbG9jaywgb2xkQmxvY2spICYmIGlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvblZhbHVlID0gW3ZhbHVlW2N1cnJlbnRCbG9ja0luZGV4XV0sIHZhbGlkYXRpb24gPSB2YWxpZGF0ZVZhbHVlKHZhbGlkYXRpb25WYWx1ZSwgc2NoZW1hVHlwZXMsIGtleUdlbmVyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgICF2YWxpZGF0aW9uLnZhbGlkICYmIChfYSA9IHZhbGlkYXRpb24ucmVzb2x1dGlvbikgIT0gbnVsbCAmJiBfYS5hdXRvUmVzb2x2ZSAmJiAoKF9iID0gdmFsaWRhdGlvbi5yZXNvbHV0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2IucGF0Y2hlcy5sZW5ndGgpID4gMCAmJiAhcmVhZE9ubHkgJiYgcHJldmlvdXNWYWx1ZS5jdXJyZW50ICYmIHByZXZpb3VzVmFsdWUuY3VycmVudCAhPT0gdmFsdWUgJiYgKGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgICAgICBgJHt2YWxpZGF0aW9uLnJlc29sdXRpb24uYWN0aW9ufSBmb3IgYmxvY2sgd2l0aCBfa2V5ICcke3ZhbGlkYXRpb25WYWx1ZVswXS5fa2V5fScuICR7KF9jID0gdmFsaWRhdGlvbi5yZXNvbHV0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2MuZGVzY3JpcHRpb259YFxuICAgICAgICAgICAgICAgICAgICApLCB2YWxpZGF0aW9uLnJlc29sdXRpb24ucGF0Y2hlcy5mb3JFYWNoKChwYXRjaCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZSQubmV4dCh7IHR5cGU6IFwicGF0Y2hcIiwgcGF0Y2ggfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKSwgdmFsaWRhdGlvbi52YWxpZCB8fCAoX2QgPSB2YWxpZGF0aW9uLnJlc29sdXRpb24pICE9IG51bGwgJiYgX2QuYXV0b1Jlc29sdmUgPyAob2xkQmxvY2suX2tleSA9PT0gY3VycmVudEJsb2NrLl9rZXkgPyAoZGVidWckNC5lbmFibGVkICYmIGRlYnVnJDQoXCJVcGRhdGluZyBibG9ja1wiLCBvbGRCbG9jaywgY3VycmVudEJsb2NrKSwgX3VwZGF0ZUJsb2NrKHNsYXRlRWRpdG9yLCBjdXJyZW50QmxvY2ssIG9sZEJsb2NrLCBjdXJyZW50QmxvY2tJbmRleCkpIDogKGRlYnVnJDQuZW5hYmxlZCAmJiBkZWJ1ZyQ0KFwiUmVwbGFjaW5nIGJsb2NrXCIsIG9sZEJsb2NrLCBjdXJyZW50QmxvY2spLCBfcmVwbGFjZUJsb2NrKHNsYXRlRWRpdG9yLCBjdXJyZW50QmxvY2ssIGN1cnJlbnRCbG9ja0luZGV4KSksIGlzQ2hhbmdlZCA9ICEwKSA6IChjaGFuZ2UkLm5leHQoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaW52YWxpZFZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogdmFsaWRhdGlvbi5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pLCBpc1ZhbGlkID0gITEpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKCFvbGRCbG9jayAmJiBpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25WYWx1ZSA9IFt2YWx1ZVtjdXJyZW50QmxvY2tJbmRleF1dLCB2YWxpZGF0aW9uID0gdmFsaWRhdGVWYWx1ZSh2YWxpZGF0aW9uVmFsdWUsIHNjaGVtYVR5cGVzLCBrZXlHZW5lcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyQ0LmVuYWJsZWQgJiYgZGVidWckNChcbiAgICAgICAgICAgICAgICAgICAgICBcIlZhbGlkYXRpbmcgYW5kIGluc2VydGluZyBuZXcgYmxvY2sgaW4gdGhlIGVuZCBvZiB0aGUgdmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmxvY2tcbiAgICAgICAgICAgICAgICAgICAgKSwgdmFsaWRhdGlvbi52YWxpZCB8fCAoX2UgPSB2YWxpZGF0aW9uLnJlc29sdXRpb24pICE9IG51bGwgJiYgX2UuYXV0b1Jlc29sdmUgPyB3aXRoUHJlc2VydmVLZXlzKHNsYXRlRWRpdG9yLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhzbGF0ZUVkaXRvciwgY3VycmVudEJsb2NrLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdDogW2N1cnJlbnRCbG9ja0luZGV4XVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KSA6IChkZWJ1ZyQ0KFwiSW52YWxpZFwiLCB2YWxpZGF0aW9uKSwgY2hhbmdlJC5uZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImludmFsaWRWYWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb246IHZhbGlkYXRpb24ucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9KSwgaXNWYWxpZCA9ICExKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgZGVidWckNChcIkludmFsaWQgdmFsdWUsIHJldHVybmluZ1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzQ2hhbmdlZCkge1xuICAgICAgICBkZWJ1ZyQ0KFwiU2VydmVyIHZhbHVlIGNoYW5nZWQsIHN5bmNpbmcgZWRpdG9yXCIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHNsYXRlRWRpdG9yLm9uQ2hhbmdlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKSwgY2hhbmdlJC5uZXh0KHtcbiAgICAgICAgICAgIHR5cGU6IFwiaW52YWxpZFZhbHVlXCIsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBudWxsLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGFkU2VsZWN0aW9uICYmICFzbGF0ZUVkaXRvci5zZWxlY3Rpb24gJiYgKFRyYW5zZm9ybXMuc2VsZWN0KHNsYXRlRWRpdG9yLCB7XG4gICAgICAgICAgYW5jaG9yOiB7IHBhdGg6IFswLCAwXSwgb2Zmc2V0OiAwIH0sXG4gICAgICAgICAgZm9jdXM6IHsgcGF0aDogWzAsIDBdLCBvZmZzZXQ6IDAgfVxuICAgICAgICB9KSwgc2xhdGVFZGl0b3Iub25DaGFuZ2UoKSksIGNoYW5nZSQubmV4dCh7IHR5cGU6IFwidmFsdWVcIiwgdmFsdWUgfSk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgZGVidWckNChcIlNlcnZlciB2YWx1ZSBhbmQgZWRpdG9yIHZhbHVlIGlzIGVxdWFsLCBubyBuZWVkIHRvIHN5bmMuXCIpO1xuICAgICAgcHJldmlvdXNWYWx1ZS5jdXJyZW50ID0gdmFsdWU7XG4gICAgfTtcbiAgICByZXR1cm4gdXBkYXRlVmFsdWVGdW5jdGlvblJlZi5jdXJyZW50ID0gdXBkYXRlRnVuY3Rpb24sIHVwZGF0ZUZ1bmN0aW9uO1xuICB9LCBbXG4gICAgY2hhbmdlJCxcbiAgICBrZXlHZW5lcmF0b3IsXG4gICAgcG9ydGFibGVUZXh0RWRpdG9yLFxuICAgIHJlYWRPbmx5LFxuICAgIHNjaGVtYVR5cGVzLFxuICAgIHNsYXRlRWRpdG9yLFxuICAgIHVwZGF0ZVZhbHVlRGVib3VuY2VkXG4gIF0pO1xufVxuZnVuY3Rpb24gX3JlcGxhY2VCbG9jayhzbGF0ZUVkaXRvciwgY3VycmVudEJsb2NrLCBjdXJyZW50QmxvY2tJbmRleCkge1xuICBjb25zdCBjdXJyZW50U2VsZWN0aW9uID0gc2xhdGVFZGl0b3Iuc2VsZWN0aW9uLCBzZWxlY3Rpb25Gb2N1c09uQmxvY2sgPSBjdXJyZW50U2VsZWN0aW9uICYmIGN1cnJlbnRTZWxlY3Rpb24uZm9jdXMucGF0aFswXSA9PT0gY3VycmVudEJsb2NrSW5kZXg7XG4gIHNlbGVjdGlvbkZvY3VzT25CbG9jayAmJiBUcmFuc2Zvcm1zLmRlc2VsZWN0KHNsYXRlRWRpdG9yKSwgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhzbGF0ZUVkaXRvciwgeyBhdDogW2N1cnJlbnRCbG9ja0luZGV4XSB9KSwgd2l0aFByZXNlcnZlS2V5cyhzbGF0ZUVkaXRvciwgKCkgPT4ge1xuICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoc2xhdGVFZGl0b3IsIGN1cnJlbnRCbG9jaywgeyBhdDogW2N1cnJlbnRCbG9ja0luZGV4XSB9KTtcbiAgfSksIHNsYXRlRWRpdG9yLm9uQ2hhbmdlKCksIHNlbGVjdGlvbkZvY3VzT25CbG9jayAmJiBUcmFuc2Zvcm1zLnNlbGVjdChzbGF0ZUVkaXRvciwgY3VycmVudFNlbGVjdGlvbik7XG59XG5mdW5jdGlvbiBfdXBkYXRlQmxvY2soc2xhdGVFZGl0b3IsIGN1cnJlbnRCbG9jaywgb2xkQmxvY2ssIGN1cnJlbnRCbG9ja0luZGV4KSB7XG4gIGlmIChUcmFuc2Zvcm1zLnNldE5vZGVzKHNsYXRlRWRpdG9yLCBjdXJyZW50QmxvY2ssIHtcbiAgICBhdDogW2N1cnJlbnRCbG9ja0luZGV4XVxuICB9KSwgc2xhdGVFZGl0b3IuaXNUZXh0QmxvY2soY3VycmVudEJsb2NrKSAmJiBzbGF0ZUVkaXRvci5pc1RleHRCbG9jayhvbGRCbG9jaykpIHtcbiAgICBjb25zdCBvbGRCbG9ja0NoaWxkcmVuTGVuZ3RoID0gb2xkQmxvY2suY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGN1cnJlbnRCbG9jay5jaGlsZHJlbi5sZW5ndGggPCBvbGRCbG9ja0NoaWxkcmVuTGVuZ3RoICYmIEFycmF5LmZyb20oQXJyYXkob2xkQmxvY2tDaGlsZHJlbkxlbmd0aCAtIGN1cnJlbnRCbG9jay5jaGlsZHJlbi5sZW5ndGgpKS5mb3JFYWNoKFxuICAgICAgKF8sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBvbGRCbG9ja0NoaWxkcmVuTGVuZ3RoIC0gMSAtIGluZGV4O1xuICAgICAgICBjaGlsZEluZGV4ID4gMCAmJiAoZGVidWckNChcIlJlbW92aW5nIGNoaWxkXCIpLCBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKHNsYXRlRWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IFtjdXJyZW50QmxvY2tJbmRleCwgY2hpbGRJbmRleF1cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICksIGN1cnJlbnRCbG9jay5jaGlsZHJlbi5mb3JFYWNoKChjdXJyZW50QmxvY2tDaGlsZCwgY3VycmVudEJsb2NrQ2hpbGRJbmRleCkgPT4ge1xuICAgICAgY29uc3Qgb2xkQmxvY2tDaGlsZCA9IG9sZEJsb2NrLmNoaWxkcmVuW2N1cnJlbnRCbG9ja0NoaWxkSW5kZXhdLCBpc0NoaWxkQ2hhbmdlZCA9ICFpc0VxdWFsKGN1cnJlbnRCbG9ja0NoaWxkLCBvbGRCbG9ja0NoaWxkKSwgaXNUZXh0Q2hhbmdlZCA9ICFpc0VxdWFsKGN1cnJlbnRCbG9ja0NoaWxkLnRleHQsIG9sZEJsb2NrQ2hpbGQgPT0gbnVsbCA/IHZvaWQgMCA6IG9sZEJsb2NrQ2hpbGQudGV4dCksIHBhdGggPSBbY3VycmVudEJsb2NrSW5kZXgsIGN1cnJlbnRCbG9ja0NoaWxkSW5kZXhdO1xuICAgICAgaWYgKGlzQ2hpbGRDaGFuZ2VkKVxuICAgICAgICBpZiAoY3VycmVudEJsb2NrQ2hpbGQuX2tleSA9PT0gKG9sZEJsb2NrQ2hpbGQgPT0gbnVsbCA/IHZvaWQgMCA6IG9sZEJsb2NrQ2hpbGQuX2tleSkpIHtcbiAgICAgICAgICBkZWJ1ZyQ0KFwiVXBkYXRpbmcgY2hhbmdlZCBjaGlsZFwiLCBjdXJyZW50QmxvY2tDaGlsZCwgb2xkQmxvY2tDaGlsZCksIFRyYW5zZm9ybXMuc2V0Tm9kZXMoc2xhdGVFZGl0b3IsIGN1cnJlbnRCbG9ja0NoaWxkLCB7XG4gICAgICAgICAgICBhdDogcGF0aFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IGlzU3Bhbk5vZGUgPSBUZXh0LmlzVGV4dChjdXJyZW50QmxvY2tDaGlsZCkgJiYgY3VycmVudEJsb2NrQ2hpbGQuX3R5cGUgPT09IFwic3BhblwiICYmIFRleHQuaXNUZXh0KG9sZEJsb2NrQ2hpbGQpICYmIG9sZEJsb2NrQ2hpbGQuX3R5cGUgPT09IFwic3BhblwiO1xuICAgICAgICAgIGlzU3Bhbk5vZGUgJiYgaXNUZXh0Q2hhbmdlZCA/IChUcmFuc2Zvcm1zLmRlbGV0ZShzbGF0ZUVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IHsgZm9jdXM6IHsgcGF0aCwgb2Zmc2V0OiAwIH0sIGFuY2hvcjogeyBwYXRoLCBvZmZzZXQ6IG9sZEJsb2NrQ2hpbGQudGV4dC5sZW5ndGggfSB9XG4gICAgICAgICAgfSksIFRyYW5zZm9ybXMuaW5zZXJ0VGV4dChzbGF0ZUVkaXRvciwgY3VycmVudEJsb2NrQ2hpbGQudGV4dCwge1xuICAgICAgICAgICAgYXQ6IHBhdGhcbiAgICAgICAgICB9KSwgc2xhdGVFZGl0b3Iub25DaGFuZ2UoKSkgOiBpc1NwYW5Ob2RlIHx8IChkZWJ1ZyQ0KFwiVXBkYXRpbmcgY2hhbmdlZCBpbmxpbmUgb2JqZWN0IGNoaWxkXCIsIGN1cnJlbnRCbG9ja0NoaWxkKSwgVHJhbnNmb3Jtcy5zZXROb2RlcyhcbiAgICAgICAgICAgIHNsYXRlRWRpdG9yLFxuICAgICAgICAgICAgeyBfa2V5OiBWT0lEX0NISUxEX0tFWSB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBhdDogWy4uLnBhdGgsIDBdLFxuICAgICAgICAgICAgICB2b2lkczogITBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApKTtcbiAgICAgICAgfSBlbHNlIG9sZEJsb2NrQ2hpbGQgPyAoZGVidWckNChcIlJlcGxhY2luZyBjaGlsZFwiLCBjdXJyZW50QmxvY2tDaGlsZCksIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoc2xhdGVFZGl0b3IsIHtcbiAgICAgICAgICBhdDogW2N1cnJlbnRCbG9ja0luZGV4LCBjdXJyZW50QmxvY2tDaGlsZEluZGV4XVxuICAgICAgICB9KSwgd2l0aFByZXNlcnZlS2V5cyhzbGF0ZUVkaXRvciwgKCkgPT4ge1xuICAgICAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoc2xhdGVFZGl0b3IsIGN1cnJlbnRCbG9ja0NoaWxkLCB7XG4gICAgICAgICAgICBhdDogW2N1cnJlbnRCbG9ja0luZGV4LCBjdXJyZW50QmxvY2tDaGlsZEluZGV4XVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KSwgc2xhdGVFZGl0b3Iub25DaGFuZ2UoKSkgOiBvbGRCbG9ja0NoaWxkIHx8IChkZWJ1ZyQ0KFwiSW5zZXJ0aW5nIG5ldyBjaGlsZFwiLCBjdXJyZW50QmxvY2tDaGlsZCksIHdpdGhQcmVzZXJ2ZUtleXMoc2xhdGVFZGl0b3IsICgpID0+IHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKHNsYXRlRWRpdG9yLCBjdXJyZW50QmxvY2tDaGlsZCwge1xuICAgICAgICAgICAgYXQ6IFtjdXJyZW50QmxvY2tJbmRleCwgY3VycmVudEJsb2NrQ2hpbGRJbmRleF1cbiAgICAgICAgICB9KSwgc2xhdGVFZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xuICB9XG59XG5jb25zdCBkZWJ1ZyQzID0gZGVidWdXaXRoTmFtZShcImNvbXBvbmVudDpQb3J0YWJsZVRleHRFZGl0b3I6U3luY2hyb25pemVyXCIpLCBkZWJ1Z1ZlcmJvc2UgPSBkZWJ1ZyQzLmVuYWJsZWQgJiYgITEsIEZMVVNIX1BBVENIRVNfVEhST1RUTEVEX01TID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwidGVzdFwiID8gNTAwIDogMWUzO1xuZnVuY3Rpb24gU3luY2hyb25pemVyKHByb3BzKSB7XG4gIGNvbnN0IHsgY2hhbmdlJCwgcG9ydGFibGVUZXh0RWRpdG9yLCBvbkNoYW5nZSwga2V5R2VuZXJhdG9yLCByZWFkT25seSwgdmFsdWUgfSA9IHByb3BzLCBbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dID0gdXNlU3RhdGUobnVsbCksIHBlbmRpbmdQYXRjaGVzID0gdXNlUmVmKFtdKSwgc3luY1ZhbHVlID0gdXNlU3luY1ZhbHVlKHtcbiAgICBrZXlHZW5lcmF0b3IsXG4gICAgb25DaGFuZ2UsXG4gICAgcG9ydGFibGVUZXh0RWRpdG9yLFxuICAgIHJlYWRPbmx5XG4gIH0pLCBzbGF0ZUVkaXRvciA9IHVzZVNsYXRlKCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgSVNfUFJPQ0VTU0lOR19MT0NBTF9DSEFOR0VTLnNldChzbGF0ZUVkaXRvciwgITEpO1xuICB9LCBbc2xhdGVFZGl0b3JdKTtcbiAgY29uc3Qgb25GbHVzaFBlbmRpbmdQYXRjaGVzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChwZW5kaW5nUGF0Y2hlcy5jdXJyZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgIGRlYnVnJDMoXCJGbHVzaGluZyBwZW5kaW5nIHBhdGNoZXNcIiksIGRlYnVnVmVyYm9zZSAmJiBkZWJ1ZyQzKGBQYXRjaGVzOlxuJHtKU09OLnN0cmluZ2lmeShwZW5kaW5nUGF0Y2hlcy5jdXJyZW50LCBudWxsLCAyKX1gKTtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gUG9ydGFibGVUZXh0RWRpdG9yLmdldFZhbHVlKHBvcnRhYmxlVGV4dEVkaXRvcik7XG4gICAgICBjaGFuZ2UkLm5leHQoeyB0eXBlOiBcIm11dGF0aW9uXCIsIHBhdGNoZXM6IHBlbmRpbmdQYXRjaGVzLmN1cnJlbnQsIHNuYXBzaG90IH0pLCBwZW5kaW5nUGF0Y2hlcy5jdXJyZW50ID0gW107XG4gICAgfVxuICAgIElTX1BST0NFU1NJTkdfTE9DQUxfQ0hBTkdFUy5zZXQoc2xhdGVFZGl0b3IsICExKTtcbiAgfSwgW3NsYXRlRWRpdG9yLCBwb3J0YWJsZVRleHRFZGl0b3IsIGNoYW5nZSRdKSwgb25GbHVzaFBlbmRpbmdQYXRjaGVzVGhyb3R0bGVkID0gdXNlTWVtbygoKSA9PiB0aHJvdHRsZShcbiAgICAoKSA9PiB7XG4gICAgICBpZiAoRWRpdG9yLmlzTm9ybWFsaXppbmcoc2xhdGVFZGl0b3IpKSB7XG4gICAgICAgIG9uRmx1c2hQZW5kaW5nUGF0Y2hlcygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvbkZsdXNoUGVuZGluZ1BhdGNoZXNUaHJvdHRsZWQoKTtcbiAgICB9LFxuICAgIEZMVVNIX1BBVENIRVNfVEhST1RUTEVEX01TLFxuICAgIHtcbiAgICAgIGxlYWRpbmc6ICExLFxuICAgICAgdHJhaWxpbmc6ICEwXG4gICAgfVxuICApLCBbb25GbHVzaFBlbmRpbmdQYXRjaGVzLCBzbGF0ZUVkaXRvcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4gKCkgPT4ge1xuICAgIG9uRmx1c2hQZW5kaW5nUGF0Y2hlcygpO1xuICB9LCBbb25GbHVzaFBlbmRpbmdQYXRjaGVzXSksIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGVidWckMyhcIlN1YnNjcmliaW5nIHRvIGVkaXRvciBjaGFuZ2VzJFwiKTtcbiAgICBjb25zdCBzdWIgPSBjaGFuZ2UkLnN1YnNjcmliZSgobmV4dCkgPT4ge1xuICAgICAgc3dpdGNoIChuZXh0LnR5cGUpIHtcbiAgICAgICAgY2FzZSBcInBhdGNoXCI6XG4gICAgICAgICAgSVNfUFJPQ0VTU0lOR19MT0NBTF9DSEFOR0VTLnNldChzbGF0ZUVkaXRvciwgITApLCBwZW5kaW5nUGF0Y2hlcy5jdXJyZW50LnB1c2gobmV4dC5wYXRjaCksIG9uRmx1c2hQZW5kaW5nUGF0Y2hlc1Rocm90dGxlZCgpLCBvbkNoYW5nZShuZXh0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNlbGVjdGlvblwiOlxuICAgICAgICAgIHN0YXJ0VHJhbnNpdGlvbigoKSA9PiB7XG4gICAgICAgICAgICBkZWJ1Z1ZlcmJvc2UgJiYgZGVidWckMyhcIlNldHRpbmcgc2VsZWN0aW9uXCIpLCBzZXRTZWxlY3Rpb24obmV4dC5zZWxlY3Rpb24pO1xuICAgICAgICAgIH0pLCBvbkNoYW5nZShuZXh0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBvbkNoYW5nZShuZXh0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGVidWckMyhcIlVuc3Vic2NyaWJpbmcgdG8gY2hhbmdlcyRcIiksIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtjaGFuZ2UkLCBvbkNoYW5nZSwgb25GbHVzaFBlbmRpbmdQYXRjaGVzVGhyb3R0bGVkLCBzbGF0ZUVkaXRvcl0pO1xuICBjb25zdCBoYW5kbGVPbmxpbmUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGVidWckMyhcIkVkaXRvciBpcyBvbmxpbmUsIHN5bmNpbmcgZnJvbSBwcm9wcy52YWx1ZVwiKSwgY2hhbmdlJC5uZXh0KHsgdHlwZTogXCJjb25uZWN0aW9uXCIsIHZhbHVlOiBcIm9ubGluZVwiIH0pLCBzeW5jVmFsdWUodmFsdWUpO1xuICB9LCBbY2hhbmdlJCwgc3luY1ZhbHVlLCB2YWx1ZV0pLCBoYW5kbGVPZmZsaW5lID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGRlYnVnJDMoXCJFZGl0b3IgaXMgb2ZmbGluZVwiKSwgY2hhbmdlJC5uZXh0KHsgdHlwZTogXCJjb25uZWN0aW9uXCIsIHZhbHVlOiBcIm9mZmxpbmVcIiB9KTtcbiAgfSwgW2NoYW5nZSRdKTtcbiAgdXNlRWZmZWN0KCgpID0+IChwb3J0YWJsZVRleHRFZGl0b3IucHJvcHMucGF0Y2hlcyQgJiYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsIGhhbmRsZU9ubGluZSksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCBoYW5kbGVPZmZsaW5lKSksICgpID0+IHtcbiAgICBwb3J0YWJsZVRleHRFZGl0b3IucHJvcHMucGF0Y2hlcyQgJiYgKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsIGhhbmRsZU9ubGluZSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCBoYW5kbGVPZmZsaW5lKSk7XG4gIH0pKTtcbiAgY29uc3QgaXNJbml0aWFsVmFsdWVGcm9tUHJvcHMgPSB1c2VSZWYoITApO1xuICByZXR1cm4gdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkZWJ1ZyQzKFwiVmFsdWUgZnJvbSBwcm9wcyBjaGFuZ2VkLCBzeW5jaW5nIG5ldyB2YWx1ZVwiKSwgc3luY1ZhbHVlKHZhbHVlKSwgaXNJbml0aWFsVmFsdWVGcm9tUHJvcHMuY3VycmVudCAmJiAoY2hhbmdlJC5uZXh0KHsgdHlwZTogXCJsb2FkaW5nXCIsIGlzTG9hZGluZzogITEgfSksIGNoYW5nZSQubmV4dCh7IHR5cGU6IFwicmVhZHlcIiB9KSwgaXNJbml0aWFsVmFsdWVGcm9tUHJvcHMuY3VycmVudCA9ICExKTtcbiAgfSwgW2NoYW5nZSQsIHN5bmNWYWx1ZSwgdmFsdWVdKSwgLyogQF9fUFVSRV9fICovIGpzeChQb3J0YWJsZVRleHRFZGl0b3JLZXlHZW5lcmF0b3JDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBrZXlHZW5lcmF0b3IsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFBvcnRhYmxlVGV4dEVkaXRvckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHBvcnRhYmxlVGV4dEVkaXRvciwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUG9ydGFibGVUZXh0RWRpdG9yVmFsdWVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQb3J0YWJsZVRleHRFZGl0b3JSZWFkT25seUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHJlYWRPbmx5LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQb3J0YWJsZVRleHRFZGl0b3JTZWxlY3Rpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBzZWxlY3Rpb24sIGNoaWxkcmVuOiBwcm9wcy5jaGlsZHJlbiB9KSB9KSB9KSB9KSB9KTtcbn1cbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY29uc3QgZGVidWckMiA9IGRlYnVnV2l0aE5hbWUoXCJjb21wb25lbnQ6UG9ydGFibGVUZXh0RWRpdG9yXCIpO1xuY2xhc3MgUG9ydGFibGVUZXh0RWRpdG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBpZiAoc3VwZXIocHJvcHMpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY2hhbmdlJFwiLCBuZXcgU3ViamVjdCgpKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcInNjaGVtYVR5cGVzXCIpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZWRpdGFibGVcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJzZXRFZGl0YWJsZVwiLCAoZWRpdGFibGUpID0+IHtcbiAgICAgIHRoaXMuZWRpdGFibGUgPSB7IC4uLnRoaXMuZWRpdGFibGUsIC4uLmVkaXRhYmxlIH07XG4gICAgfSksICFwcm9wcy5zY2hlbWFUeXBlKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQb3J0YWJsZVRleHRFZGl0b3I6IG1pc3NpbmcgXCJ0eXBlXCIgcHJvcGVydHknKTtcbiAgICBwcm9wcy5pbmNvbWluZ1BhdGNoZXMkICYmIGNvbnNvbGUud2FybihcIlRoZSBwcm9wICdpbmNvbWluZ1BhdGNoZXMkJyBpcyBkZXByZWNhdGVkIGFuZCByZW5hbWVkIHRvICdwYXRjaGVzJCdcIiksIHRoaXMuY2hhbmdlJC5uZXh0KHsgdHlwZTogXCJsb2FkaW5nXCIsIGlzTG9hZGluZzogITAgfSksIHRoaXMuc2NoZW1hVHlwZXMgPSBnZXRQb3J0YWJsZVRleHRNZW1iZXJTY2hlbWFUeXBlcyhcbiAgICAgIHByb3BzLnNjaGVtYVR5cGUuaGFzT3duUHJvcGVydHkoXCJqc29uVHlwZVwiKSA/IHByb3BzLnNjaGVtYVR5cGUgOiBjb21waWxlVHlwZShwcm9wcy5zY2hlbWFUeXBlKVxuICAgICk7XG4gIH1cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIHRoaXMucHJvcHMuc2NoZW1hVHlwZSAhPT0gcHJldlByb3BzLnNjaGVtYVR5cGUgJiYgKHRoaXMuc2NoZW1hVHlwZXMgPSBnZXRQb3J0YWJsZVRleHRNZW1iZXJTY2hlbWFUeXBlcyhcbiAgICAgIHRoaXMucHJvcHMuc2NoZW1hVHlwZS5oYXNPd25Qcm9wZXJ0eShcImpzb25UeXBlXCIpID8gdGhpcy5wcm9wcy5zY2hlbWFUeXBlIDogY29tcGlsZVR5cGUodGhpcy5wcm9wcy5zY2hlbWFUeXBlKVxuICAgICkpLCB0aGlzLnByb3BzLmVkaXRvclJlZiAhPT0gcHJldlByb3BzLmVkaXRvclJlZiAmJiB0aGlzLnByb3BzLmVkaXRvclJlZiAmJiAodGhpcy5wcm9wcy5lZGl0b3JSZWYuY3VycmVudCA9IHRoaXMpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG9uQ2hhbmdlLCB2YWx1ZSwgY2hpbGRyZW4sIHBhdGNoZXMkLCBpbmNvbWluZ1BhdGNoZXMkIH0gPSB0aGlzLnByb3BzLCB7IGNoYW5nZSQgfSA9IHRoaXMsIF9wYXRjaGVzJCA9IGluY29taW5nUGF0Y2hlcyQgfHwgcGF0Y2hlcyQsIG1heEJsb2NrcyA9IHR5cGVvZiB0aGlzLnByb3BzLm1heEJsb2NrcyA+IFwidVwiID8gdm9pZCAwIDogcGFyc2VJbnQodGhpcy5wcm9wcy5tYXhCbG9ja3MudG9TdHJpbmcoKSwgMTApIHx8IHZvaWQgMCwgcmVhZE9ubHkgPSAhIXRoaXMucHJvcHMucmVhZE9ubHksIGtleUdlbmVyYXRvciA9IHRoaXMucHJvcHMua2V5R2VuZXJhdG9yIHx8IGRlZmF1bHRLZXlHZW5lcmF0b3I7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBTbGF0ZUNvbnRhaW5lcixcbiAgICAgIHtcbiAgICAgICAga2V5R2VuZXJhdG9yLFxuICAgICAgICBtYXhCbG9ja3MsXG4gICAgICAgIHBhdGNoZXMkOiBfcGF0Y2hlcyQsXG4gICAgICAgIHBvcnRhYmxlVGV4dEVkaXRvcjogdGhpcyxcbiAgICAgICAgcmVhZE9ubHksXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFN5bmNocm9uaXplcixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjaGFuZ2UkLFxuICAgICAgICAgICAga2V5R2VuZXJhdG9yLFxuICAgICAgICAgICAgb25DaGFuZ2UsXG4gICAgICAgICAgICBwb3J0YWJsZVRleHRFZGl0b3I6IHRoaXMsXG4gICAgICAgICAgICByZWFkT25seSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApO1xuICB9XG59XG5fX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJhY3RpdmVBbm5vdGF0aW9uc1wiLCAoZWRpdG9yKSA9PiBlZGl0b3IgJiYgZWRpdG9yLmVkaXRhYmxlID8gZWRpdG9yLmVkaXRhYmxlLmFjdGl2ZUFubm90YXRpb25zKCkgOiBbXSksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcImlzQW5ub3RhdGlvbkFjdGl2ZVwiLCAoZWRpdG9yLCBhbm5vdGF0aW9uVHlwZSkgPT4gZWRpdG9yICYmIGVkaXRvci5lZGl0YWJsZSA/IGVkaXRvci5lZGl0YWJsZS5pc0Fubm90YXRpb25BY3RpdmUoYW5ub3RhdGlvblR5cGUpIDogITEpLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJhZGRBbm5vdGF0aW9uXCIsIChlZGl0b3IsIHR5cGUsIHZhbHVlKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChfYSA9IGVkaXRvci5lZGl0YWJsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmFkZEFubm90YXRpb24odHlwZSwgdmFsdWUpO1xufSksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcImJsdXJcIiwgKGVkaXRvcikgPT4ge1xuICB2YXIgX2E7XG4gIGRlYnVnJDIoXCJIb3N0IGJsdXJyZWRcIiksIChfYSA9IGVkaXRvci5lZGl0YWJsZSkgPT0gbnVsbCB8fCBfYS5ibHVyKCk7XG59KSwgX19wdWJsaWNGaWVsZChQb3J0YWJsZVRleHRFZGl0b3IsIFwiZGVsZXRlXCIsIChlZGl0b3IsIHNlbGVjdGlvbiwgb3B0aW9ucykgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiAoX2EgPSBlZGl0b3IuZWRpdGFibGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kZWxldGUoc2VsZWN0aW9uLCBvcHRpb25zKTtcbn0pLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJmaW5kRE9NTm9kZVwiLCAoZWRpdG9yLCBlbGVtZW50KSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChfYSA9IGVkaXRvci5lZGl0YWJsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZpbmRET01Ob2RlKGVsZW1lbnQpO1xufSksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcImZpbmRCeVBhdGhcIiwgKGVkaXRvciwgcGF0aCkgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiAoKF9hID0gZWRpdG9yLmVkaXRhYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZmluZEJ5UGF0aChwYXRoKSkgfHwgW107XG59KSwgX19wdWJsaWNGaWVsZChQb3J0YWJsZVRleHRFZGl0b3IsIFwiZm9jdXNcIiwgKGVkaXRvcikgPT4ge1xuICB2YXIgX2E7XG4gIGRlYnVnJDIoXCJIb3N0IHJlcXVlc3RpbmcgZm9jdXNcIiksIChfYSA9IGVkaXRvci5lZGl0YWJsZSkgPT0gbnVsbCB8fCBfYS5mb2N1cygpO1xufSksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcImZvY3VzQmxvY2tcIiwgKGVkaXRvcikgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiAoX2EgPSBlZGl0b3IuZWRpdGFibGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5mb2N1c0Jsb2NrKCk7XG59KSwgX19wdWJsaWNGaWVsZChQb3J0YWJsZVRleHRFZGl0b3IsIFwiZm9jdXNDaGlsZFwiLCAoZWRpdG9yKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChfYSA9IGVkaXRvci5lZGl0YWJsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZvY3VzQ2hpbGQoKTtcbn0pLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJnZXRTZWxlY3Rpb25cIiwgKGVkaXRvcikgPT4gZWRpdG9yLmVkaXRhYmxlID8gZWRpdG9yLmVkaXRhYmxlLmdldFNlbGVjdGlvbigpIDogbnVsbCksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcImdldFZhbHVlXCIsIChlZGl0b3IpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gKF9hID0gZWRpdG9yLmVkaXRhYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZ2V0VmFsdWUoKTtcbn0pLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJoYXNCbG9ja1N0eWxlXCIsIChlZGl0b3IsIGJsb2NrU3R5bGUpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gKF9hID0gZWRpdG9yLmVkaXRhYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaGFzQmxvY2tTdHlsZShibG9ja1N0eWxlKTtcbn0pLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJoYXNMaXN0U3R5bGVcIiwgKGVkaXRvciwgbGlzdFN0eWxlKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChfYSA9IGVkaXRvci5lZGl0YWJsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmhhc0xpc3RTdHlsZShsaXN0U3R5bGUpO1xufSksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcImlzQ29sbGFwc2VkU2VsZWN0aW9uXCIsIChlZGl0b3IpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gKF9hID0gZWRpdG9yLmVkaXRhYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaXNDb2xsYXBzZWRTZWxlY3Rpb24oKTtcbn0pLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJpc0V4cGFuZGVkU2VsZWN0aW9uXCIsIChlZGl0b3IpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gKF9hID0gZWRpdG9yLmVkaXRhYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaXNFeHBhbmRlZFNlbGVjdGlvbigpO1xufSksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcImlzTWFya0FjdGl2ZVwiLCAoZWRpdG9yLCBtYXJrKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChfYSA9IGVkaXRvci5lZGl0YWJsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmlzTWFya0FjdGl2ZShtYXJrKTtcbn0pLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJpbnNlcnRDaGlsZFwiLCAoZWRpdG9yLCB0eXBlLCB2YWx1ZSkgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiBkZWJ1ZyQyKFwiSG9zdCBpbnNlcnRpbmcgY2hpbGRcIiksIChfYSA9IGVkaXRvci5lZGl0YWJsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmluc2VydENoaWxkKHR5cGUsIHZhbHVlKTtcbn0pLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJpbnNlcnRCbG9ja1wiLCAoZWRpdG9yLCB0eXBlLCB2YWx1ZSkgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiAoX2EgPSBlZGl0b3IuZWRpdGFibGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pbnNlcnRCbG9jayh0eXBlLCB2YWx1ZSk7XG59KSwgX19wdWJsaWNGaWVsZChQb3J0YWJsZVRleHRFZGl0b3IsIFwiaW5zZXJ0QnJlYWtcIiwgKGVkaXRvcikgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiAoX2EgPSBlZGl0b3IuZWRpdGFibGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pbnNlcnRCcmVhaygpO1xufSksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcImlzVm9pZFwiLCAoZWRpdG9yLCBlbGVtZW50KSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChfYSA9IGVkaXRvci5lZGl0YWJsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmlzVm9pZChlbGVtZW50KTtcbn0pLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJpc09iamVjdFBhdGhcIiwgKGVkaXRvciwgcGF0aCkgPT4ge1xuICBpZiAoIXBhdGggfHwgIUFycmF5LmlzQXJyYXkocGF0aCkpIHJldHVybiAhMTtcbiAgY29uc3QgaXNDaGlsZE9iamVjdEVkaXRQYXRoID0gcGF0aC5sZW5ndGggPiAzICYmIHBhdGhbMV0gPT09IFwiY2hpbGRyZW5cIjtcbiAgcmV0dXJuIHBhdGgubGVuZ3RoID4gMSAmJiBwYXRoWzFdICE9PSBcImNoaWxkcmVuXCIgfHwgaXNDaGlsZE9iamVjdEVkaXRQYXRoO1xufSksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcIm1hcmtzXCIsIChlZGl0b3IpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gKF9hID0gZWRpdG9yLmVkaXRhYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWFya3MoKTtcbn0pLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJzZWxlY3RcIiwgKGVkaXRvciwgc2VsZWN0aW9uKSA9PiB7XG4gIHZhciBfYTtcbiAgZGVidWckMihcIkhvc3Qgc2V0dGluZyBzZWxlY3Rpb25cIiwgc2VsZWN0aW9uKSwgKF9hID0gZWRpdG9yLmVkaXRhYmxlKSA9PSBudWxsIHx8IF9hLnNlbGVjdChzZWxlY3Rpb24pO1xufSksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcInJlbW92ZUFubm90YXRpb25cIiwgKGVkaXRvciwgdHlwZSkgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiAoX2EgPSBlZGl0b3IuZWRpdGFibGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZW1vdmVBbm5vdGF0aW9uKHR5cGUpO1xufSksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcInRvZ2dsZUJsb2NrU3R5bGVcIiwgKGVkaXRvciwgYmxvY2tTdHlsZSkgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiBkZWJ1ZyQyKFwiSG9zdCBpcyB0b2dnbGluZyBibG9jayBzdHlsZVwiKSwgKF9hID0gZWRpdG9yLmVkaXRhYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX2EudG9nZ2xlQmxvY2tTdHlsZShibG9ja1N0eWxlKTtcbn0pLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJ0b2dnbGVMaXN0XCIsIChlZGl0b3IsIGxpc3RTdHlsZSkgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiAoX2EgPSBlZGl0b3IuZWRpdGFibGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS50b2dnbGVMaXN0KGxpc3RTdHlsZSk7XG59KSwgX19wdWJsaWNGaWVsZChQb3J0YWJsZVRleHRFZGl0b3IsIFwidG9nZ2xlTWFya1wiLCAoZWRpdG9yLCBtYXJrKSA9PiB7XG4gIHZhciBfYTtcbiAgZGVidWckMihcIkhvc3QgdG9nZ2xpbmcgbWFya1wiLCBtYXJrKSwgKF9hID0gZWRpdG9yLmVkaXRhYmxlKSA9PSBudWxsIHx8IF9hLnRvZ2dsZU1hcmsobWFyayk7XG59KSwgX19wdWJsaWNGaWVsZChQb3J0YWJsZVRleHRFZGl0b3IsIFwiZ2V0RnJhZ21lbnRcIiwgKGVkaXRvcikgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiBkZWJ1ZyQyKFwiSG9zdCBnZXR0aW5nIGZyYWdtZW50XCIpLCAoX2EgPSBlZGl0b3IuZWRpdGFibGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5nZXRGcmFnbWVudCgpO1xufSksIF9fcHVibGljRmllbGQoUG9ydGFibGVUZXh0RWRpdG9yLCBcInVuZG9cIiwgKGVkaXRvcikgPT4ge1xuICB2YXIgX2E7XG4gIGRlYnVnJDIoXCJIb3N0IHVuZG9pbmdcIiksIChfYSA9IGVkaXRvci5lZGl0YWJsZSkgPT0gbnVsbCB8fCBfYS51bmRvKCk7XG59KSwgX19wdWJsaWNGaWVsZChQb3J0YWJsZVRleHRFZGl0b3IsIFwicmVkb1wiLCAoZWRpdG9yKSA9PiB7XG4gIHZhciBfYTtcbiAgZGVidWckMihcIkhvc3QgcmVkb2luZ1wiKSwgKF9hID0gZWRpdG9yLmVkaXRhYmxlKSA9PSBudWxsIHx8IF9hLnJlZG8oKTtcbn0pLCBfX3B1YmxpY0ZpZWxkKFBvcnRhYmxlVGV4dEVkaXRvciwgXCJpc1NlbGVjdGlvbnNPdmVybGFwcGluZ1wiLCAoZWRpdG9yLCBzZWxlY3Rpb25BLCBzZWxlY3Rpb25CKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChfYSA9IGVkaXRvci5lZGl0YWJsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmlzU2VsZWN0aW9uc092ZXJsYXBwaW5nKHNlbGVjdGlvbkEsIHNlbGVjdGlvbkIpO1xufSk7XG5jb25zdCBkZWJ1ZyQxID0gZGVidWdXaXRoTmFtZShcImNvbXBvbmVudHM6TGVhZlwiKSwgRU1QVFlfTUFSS1MgPSBbXSwgTGVhZiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IGF0dHJpYnV0ZXMsIGNoaWxkcmVuLCBsZWFmLCBzY2hlbWFUeXBlcywgcmVuZGVyQ2hpbGQsIHJlbmRlckRlY29yYXRvciwgcmVuZGVyQW5ub3RhdGlvbiB9ID0gcHJvcHMsIHNwYW5SZWYgPSB1c2VSZWYobnVsbCksIHBvcnRhYmxlVGV4dEVkaXRvciA9IHVzZVBvcnRhYmxlVGV4dEVkaXRvcigpLCBibG9ja1NlbGVjdGVkID0gdXNlU2VsZWN0ZWQoKSwgW2ZvY3VzZWQsIHNldEZvY3VzZWRdID0gdXNlU3RhdGUoITEpLCBbc2VsZWN0ZWQsIHNldFNlbGVjdGVkXSA9IHVzZVN0YXRlKCExKSwgYmxvY2sgPSBjaGlsZHJlbi5wcm9wcy5wYXJlbnQsIHBhdGggPSB1c2VNZW1vKFxuICAgICgpID0+IGJsb2NrID8gW3sgX2tleTogYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLl9rZXkgfSwgXCJjaGlsZHJlblwiLCB7IF9rZXk6IGxlYWYuX2tleSB9XSA6IFtdLFxuICAgIFtibG9jaywgbGVhZi5fa2V5XVxuICApLCBkZWNvcmF0b3JWYWx1ZXMgPSB1c2VNZW1vKFxuICAgICgpID0+IHNjaGVtYVR5cGVzLmRlY29yYXRvcnMubWFwKChkZWMpID0+IGRlYy52YWx1ZSksXG4gICAgW3NjaGVtYVR5cGVzLmRlY29yYXRvcnNdXG4gICksIG1hcmtzID0gdXNlTWVtbyhcbiAgICAoKSA9PiB1bmlxKChsZWFmLm1hcmtzIHx8IEVNUFRZX01BUktTKS5maWx0ZXIoKG1hcmspID0+IGRlY29yYXRvclZhbHVlcy5pbmNsdWRlcyhtYXJrKSkpLFxuICAgIFtkZWNvcmF0b3JWYWx1ZXMsIGxlYWYubWFya3NdXG4gICksIGFubm90YXRpb25NYXJrcyA9IEFycmF5LmlzQXJyYXkobGVhZi5tYXJrcykgPyBsZWFmLm1hcmtzIDogRU1QVFlfTUFSS1MsIGFubm90YXRpb25zID0gdXNlTWVtbyhcbiAgICAoKSA9PiBhbm5vdGF0aW9uTWFya3MubWFwKFxuICAgICAgKG1hcmspID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gIWRlY29yYXRvclZhbHVlcy5pbmNsdWRlcyhtYXJrKSAmJiAoKF9hID0gYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLm1hcmtEZWZzKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZmluZCgoZGVmKSA9PiBkZWYuX2tleSA9PT0gbWFyaykpO1xuICAgICAgfVxuICAgICkuZmlsdGVyKEJvb2xlYW4pLFxuICAgIFthbm5vdGF0aW9uTWFya3MsIGJsb2NrLCBkZWNvcmF0b3JWYWx1ZXNdXG4gICksIHNob3VsZFRyYWNrU2VsZWN0aW9uQW5kRm9jdXMgPSBhbm5vdGF0aW9ucy5sZW5ndGggPiAwICYmIGJsb2NrU2VsZWN0ZWQ7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzaG91bGRUcmFja1NlbGVjdGlvbkFuZEZvY3VzKSB7XG4gICAgICBzZXRGb2N1c2VkKCExKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2VsID0gUG9ydGFibGVUZXh0RWRpdG9yLmdldFNlbGVjdGlvbihwb3J0YWJsZVRleHRFZGl0b3IpO1xuICAgIHNlbCAmJiBpc0VxdWFsKHNlbC5mb2N1cy5wYXRoLCBwYXRoKSAmJiBQb3J0YWJsZVRleHRFZGl0b3IuaXNDb2xsYXBzZWRTZWxlY3Rpb24ocG9ydGFibGVUZXh0RWRpdG9yKSAmJiBzdGFydFRyYW5zaXRpb24oKCkgPT4ge1xuICAgICAgc2V0Rm9jdXNlZCghMCk7XG4gICAgfSk7XG4gIH0sIFtzaG91bGRUcmFja1NlbGVjdGlvbkFuZEZvY3VzLCBwYXRoLCBwb3J0YWJsZVRleHRFZGl0b3JdKTtcbiAgY29uc3Qgc2V0U2VsZWN0ZWRGcm9tUmFuZ2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFzaG91bGRUcmFja1NlbGVjdGlvbkFuZEZvY3VzKVxuICAgICAgcmV0dXJuO1xuICAgIGRlYnVnJDEoXCJTZXR0aW5nIHNlbGVjdGlvbiBhbmQgZm9jdXMgZnJvbSByYW5nZVwiKTtcbiAgICBjb25zdCB3aW5TZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCF3aW5TZWxlY3Rpb24pIHtcbiAgICAgIHNldFNlbGVjdGVkKCExKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHdpblNlbGVjdGlvbiAmJiB3aW5TZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApIHtcbiAgICAgIGNvbnN0IHJhbmdlID0gd2luU2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgICBzcGFuUmVmLmN1cnJlbnQgJiYgcmFuZ2UuaW50ZXJzZWN0c05vZGUoc3BhblJlZi5jdXJyZW50KSA/IHNldFNlbGVjdGVkKCEwKSA6IHNldFNlbGVjdGVkKCExKTtcbiAgICB9IGVsc2VcbiAgICAgIHNldFNlbGVjdGVkKCExKTtcbiAgfSwgW3Nob3VsZFRyYWNrU2VsZWN0aW9uQW5kRm9jdXNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNob3VsZFRyYWNrU2VsZWN0aW9uQW5kRm9jdXMpXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgc3ViID0gcG9ydGFibGVUZXh0RWRpdG9yLmNoYW5nZSQuc3Vic2NyaWJlKChuZXh0KSA9PiB7XG4gICAgICBpZiAobmV4dC50eXBlID09PSBcImJsdXJcIikge1xuICAgICAgICBzZXRGb2N1c2VkKCExKSwgc2V0U2VsZWN0ZWQoITEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAobmV4dC50eXBlID09PSBcImZvY3VzXCIpIHtcbiAgICAgICAgY29uc3Qgc2VsID0gUG9ydGFibGVUZXh0RWRpdG9yLmdldFNlbGVjdGlvbihwb3J0YWJsZVRleHRFZGl0b3IpO1xuICAgICAgICBzZWwgJiYgaXNFcXVhbChzZWwuZm9jdXMucGF0aCwgcGF0aCkgJiYgUG9ydGFibGVUZXh0RWRpdG9yLmlzQ29sbGFwc2VkU2VsZWN0aW9uKHBvcnRhYmxlVGV4dEVkaXRvcikgJiYgc2V0Rm9jdXNlZCghMCksIHNldFNlbGVjdGVkRnJvbVJhbmdlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG5leHQudHlwZSA9PT0gXCJzZWxlY3Rpb25cIiAmJiAobmV4dC5zZWxlY3Rpb24gJiYgaXNFcXVhbChuZXh0LnNlbGVjdGlvbi5mb2N1cy5wYXRoLCBwYXRoKSAmJiBQb3J0YWJsZVRleHRFZGl0b3IuaXNDb2xsYXBzZWRTZWxlY3Rpb24ocG9ydGFibGVUZXh0RWRpdG9yKSA/IHNldEZvY3VzZWQoITApIDogc2V0Rm9jdXNlZCghMSksIHNldFNlbGVjdGVkRnJvbVJhbmdlKCkpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbcGF0aCwgcG9ydGFibGVUZXh0RWRpdG9yLCBzZXRTZWxlY3RlZEZyb21SYW5nZSwgc2hvdWxkVHJhY2tTZWxlY3Rpb25BbmRGb2N1c10pLCB1c2VFZmZlY3QoKCkgPT4gc2V0U2VsZWN0ZWRGcm9tUmFuZ2UoKSwgW3NldFNlbGVjdGVkRnJvbVJhbmdlXSk7XG4gIGNvbnN0IGNvbnRlbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgcmV0dXJuZWRDaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIGlmIChUZXh0LmlzVGV4dChsZWFmKSAmJiBsZWFmLl90eXBlID09PSBzY2hlbWFUeXBlcy5zcGFuLm5hbWUgJiYgKG1hcmtzLmZvckVhY2goKG1hcmspID0+IHtcbiAgICAgIGNvbnN0IHNjaGVtYVR5cGUgPSBzY2hlbWFUeXBlcy5kZWNvcmF0b3JzLmZpbmQoKGRlYykgPT4gZGVjLnZhbHVlID09PSBtYXJrKTtcbiAgICAgIGlmIChzY2hlbWFUeXBlICYmIHJlbmRlckRlY29yYXRvcikge1xuICAgICAgICBjb25zdCBfcHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2hpbGRyZW46IHJldHVybmVkQ2hpbGRyZW4sXG4gICAgICAgICAgICBlZGl0b3JFbGVtZW50UmVmOiBzcGFuUmVmLFxuICAgICAgICAgICAgZm9jdXNlZCxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgICAgIHNjaGVtYVR5cGUsXG4gICAgICAgICAgICB2YWx1ZTogbWFya1xuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ0eXBlXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oXCJQcm9wZXJ0eSAndHlwZScgaXMgZGVwcmVjYXRlZCwgdXNlICdzY2hlbWFUeXBlJyBpbnN0ZWFkLlwiKSwgc2NoZW1hVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybmVkQ2hpbGRyZW4gPSByZW5kZXJEZWNvcmF0b3IoX3Byb3BzKTtcbiAgICAgIH1cbiAgICB9KSwgYmxvY2sgJiYgYW5ub3RhdGlvbnMubGVuZ3RoID4gMCAmJiBhbm5vdGF0aW9ucy5mb3JFYWNoKChhbm5vdGF0aW9uKSA9PiB7XG4gICAgICBjb25zdCBzY2hlbWFUeXBlID0gc2NoZW1hVHlwZXMuYW5ub3RhdGlvbnMuZmluZCgodCkgPT4gdC5uYW1lID09PSBhbm5vdGF0aW9uLl90eXBlKTtcbiAgICAgIGlmIChzY2hlbWFUeXBlKVxuICAgICAgICBpZiAocmVuZGVyQW5ub3RhdGlvbikge1xuICAgICAgICAgIGNvbnN0IF9wcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYmxvY2ssXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiByZXR1cm5lZENoaWxkcmVuLFxuICAgICAgICAgICAgICBlZGl0b3JFbGVtZW50UmVmOiBzcGFuUmVmLFxuICAgICAgICAgICAgICBmb2N1c2VkLFxuICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgICAgICAgc2NoZW1hVHlwZSxcbiAgICAgICAgICAgICAgdmFsdWU6IGFubm90YXRpb25cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInR5cGVcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS53YXJuKFwiUHJvcGVydHkgJ3R5cGUnIGlzIGRlcHJlY2F0ZWQsIHVzZSAnc2NoZW1hVHlwZScgaW5zdGVhZC5cIiksIHNjaGVtYVR5cGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybmVkQ2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8ganN4KFwic3BhblwiLCB7IHJlZjogc3BhblJlZiwgY2hpbGRyZW46IHJlbmRlckFubm90YXRpb24oX3Byb3BzKSB9KTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgcmV0dXJuZWRDaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRGVmYXVsdEFubm90YXRpb24sIHsgYW5ub3RhdGlvbiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgcmVmOiBzcGFuUmVmLCBjaGlsZHJlbjogcmV0dXJuZWRDaGlsZHJlbiB9KSB9KTtcbiAgICB9KSwgYmxvY2sgJiYgcmVuZGVyQ2hpbGQpKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGJsb2NrLmNoaWxkcmVuLmZpbmQoKF9jaGlsZCkgPT4gX2NoaWxkLl9rZXkgPT09IGxlYWYuX2tleSk7XG4gICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgY29uc3QgX3Byb3BzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFubm90YXRpb25zLFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IHJldHVybmVkQ2hpbGRyZW4gfSksXG4gICAgICAgICAgICBlZGl0b3JFbGVtZW50UmVmOiBzcGFuUmVmLFxuICAgICAgICAgICAgZm9jdXNlZCxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBzY2hlbWFUeXBlOiBzY2hlbWFUeXBlcy5zcGFuLFxuICAgICAgICAgICAgc2VsZWN0ZWQsXG4gICAgICAgICAgICB2YWx1ZTogY2hpbGRcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwidHlwZVwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS53YXJuKFwiUHJvcGVydHkgJ3R5cGUnIGlzIGRlcHJlY2F0ZWQsIHVzZSAnc2NoZW1hVHlwZScgaW5zdGVhZC5cIiksIHNjaGVtYVR5cGVzLnNwYW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm5lZENoaWxkcmVuID0gcmVuZGVyQ2hpbGQoX3Byb3BzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldHVybmVkQ2hpbGRyZW47XG4gIH0sIFtcbiAgICBhbm5vdGF0aW9ucyxcbiAgICBibG9jayxcbiAgICBjaGlsZHJlbixcbiAgICBmb2N1c2VkLFxuICAgIGxlYWYsXG4gICAgbWFya3MsXG4gICAgcGF0aCxcbiAgICByZW5kZXJBbm5vdGF0aW9uLFxuICAgIHJlbmRlckNoaWxkLFxuICAgIHJlbmRlckRlY29yYXRvcixcbiAgICBzY2hlbWFUeXBlcy5hbm5vdGF0aW9ucyxcbiAgICBzY2hlbWFUeXBlcy5kZWNvcmF0b3JzLFxuICAgIHNjaGVtYVR5cGVzLnNwYW4sXG4gICAgc2VsZWN0ZWRcbiAgXSk7XG4gIHJldHVybiB1c2VNZW1vKFxuICAgICgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgLi4uYXR0cmlidXRlcywgcmVmOiBzcGFuUmVmLCBjaGlsZHJlbjogY29udGVudCB9LCBsZWFmLl9rZXkpLFxuICAgIFtsZWFmLCBhdHRyaWJ1dGVzLCBjb250ZW50XVxuICApO1xufSwgZGVidWcgPSBkZWJ1Z1dpdGhOYW1lKFwiY29tcG9uZW50OkVkaXRhYmxlXCIpLCBQTEFDRUhPTERFUl9TVFlMRSA9IHtcbiAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICBsZWZ0OiAwLFxuICByaWdodDogMFxufSwgRU1QVFlfREVDT1JBVElPTlNfU1RBVEUgPSBbXSwgUG9ydGFibGVUZXh0RWRpdGFibGUgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3Qge1xuICAgIGhvdGtleXMsXG4gICAgb25CbHVyLFxuICAgIG9uRm9jdXMsXG4gICAgb25CZWZvcmVJbnB1dCxcbiAgICBvblBhc3RlLFxuICAgIG9uQ29weSxcbiAgICBvbkNsaWNrLFxuICAgIHJhbmdlRGVjb3JhdGlvbnMsXG4gICAgcmVuZGVyQW5ub3RhdGlvbixcbiAgICByZW5kZXJCbG9jayxcbiAgICByZW5kZXJDaGlsZCxcbiAgICByZW5kZXJEZWNvcmF0b3IsXG4gICAgcmVuZGVyTGlzdEl0ZW0sXG4gICAgcmVuZGVyUGxhY2Vob2xkZXIsXG4gICAgcmVuZGVyU3R5bGUsXG4gICAgc2VsZWN0aW9uOiBwcm9wc1NlbGVjdGlvbixcbiAgICBzY3JvbGxTZWxlY3Rpb25JbnRvVmlldyxcbiAgICBzcGVsbENoZWNrLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHMsIHBvcnRhYmxlVGV4dEVkaXRvciA9IHVzZVBvcnRhYmxlVGV4dEVkaXRvcigpLCByZWFkT25seSA9IHVzZVBvcnRhYmxlVGV4dEVkaXRvclJlYWRPbmx5U3RhdHVzKCksIGtleUdlbmVyYXRvciA9IHVzZVBvcnRhYmxlVGV4dEVkaXRvcktleUdlbmVyYXRvcigpLCByZWYgPSB1c2VSZWYobnVsbCksIFtlZGl0YWJsZUVsZW1lbnQsIHNldEVkaXRhYmxlRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKSwgW2hhc0ludmFsaWRWYWx1ZSwgc2V0SGFzSW52YWxpZFZhbHVlXSA9IHVzZVN0YXRlKCExKSwgW3JhbmdlRGVjb3JhdGlvblN0YXRlLCBzZXRSYW5nZURlY29yYXRpb25zU3RhdGVdID0gdXNlU3RhdGUoRU1QVFlfREVDT1JBVElPTlNfU1RBVEUpO1xuICB1c2VJbXBlcmF0aXZlSGFuZGxlKGZvcndhcmRlZFJlZiwgKCkgPT4gcmVmLmN1cnJlbnQpO1xuICBjb25zdCByYW5nZURlY29yYXRpb25zUmVmID0gdXNlUmVmKHJhbmdlRGVjb3JhdGlvbnMpLCB7IGNoYW5nZSQsIHNjaGVtYVR5cGVzIH0gPSBwb3J0YWJsZVRleHRFZGl0b3IsIHNsYXRlRWRpdG9yID0gdXNlU2xhdGUoKSwgYmxvY2tUeXBlTmFtZSA9IHNjaGVtYVR5cGVzLmJsb2NrLm5hbWUsIHdpdGhJbnNlcnREYXRhID0gdXNlTWVtbyhcbiAgICAoKSA9PiBjcmVhdGVXaXRoSW5zZXJ0RGF0YShjaGFuZ2UkLCBzY2hlbWFUeXBlcywga2V5R2VuZXJhdG9yKSxcbiAgICBbY2hhbmdlJCwga2V5R2VuZXJhdG9yLCBzY2hlbWFUeXBlc11cbiAgKSwgd2l0aEhvdEtleXMgPSB1c2VNZW1vKFxuICAgICgpID0+IGNyZWF0ZVdpdGhIb3RrZXlzKHNjaGVtYVR5cGVzLCBwb3J0YWJsZVRleHRFZGl0b3IsIGhvdGtleXMpLFxuICAgIFtob3RrZXlzLCBwb3J0YWJsZVRleHRFZGl0b3IsIHNjaGVtYVR5cGVzXVxuICApO1xuICB1c2VNZW1vKCgpID0+IHJlYWRPbmx5ID8gKGRlYnVnKFwiRWRpdGFibGUgaXMgaW4gcmVhZCBvbmx5IG1vZGVcIiksIHdpdGhJbnNlcnREYXRhKHNsYXRlRWRpdG9yKSkgOiAoZGVidWcoXCJFZGl0YWJsZSBpcyBpbiBlZGl0IG1vZGVcIiksIHdpdGhJbnNlcnREYXRhKHdpdGhIb3RLZXlzKHNsYXRlRWRpdG9yKSkpLCBbcmVhZE9ubHksIHNsYXRlRWRpdG9yLCB3aXRoSG90S2V5cywgd2l0aEluc2VydERhdGFdKTtcbiAgY29uc3QgcmVuZGVyRWxlbWVudCA9IHVzZUNhbGxiYWNrKFxuICAgIChlUHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBFbGVtZW50LFxuICAgICAge1xuICAgICAgICAuLi5lUHJvcHMsXG4gICAgICAgIHJlYWRPbmx5LFxuICAgICAgICByZW5kZXJCbG9jayxcbiAgICAgICAgcmVuZGVyQ2hpbGQsXG4gICAgICAgIHJlbmRlckxpc3RJdGVtLFxuICAgICAgICByZW5kZXJTdHlsZSxcbiAgICAgICAgc2NoZW1hVHlwZXMsXG4gICAgICAgIHNwZWxsQ2hlY2tcbiAgICAgIH1cbiAgICApLFxuICAgIFtzY2hlbWFUeXBlcywgc3BlbGxDaGVjaywgcmVhZE9ubHksIHJlbmRlckJsb2NrLCByZW5kZXJDaGlsZCwgcmVuZGVyTGlzdEl0ZW0sIHJlbmRlclN0eWxlXVxuICApLCByZW5kZXJMZWFmID0gdXNlQ2FsbGJhY2soXG4gICAgKGxQcm9wcykgPT4ge1xuICAgICAgaWYgKGxQcm9wcy5sZWFmLl90eXBlID09PSBcInNwYW5cIikge1xuICAgICAgICBsZXQgcmVuZGVyZWQgPSAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIExlYWYsXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4ubFByb3BzLFxuICAgICAgICAgICAgc2NoZW1hVHlwZXMsXG4gICAgICAgICAgICByZW5kZXJBbm5vdGF0aW9uLFxuICAgICAgICAgICAgcmVuZGVyQ2hpbGQsXG4gICAgICAgICAgICByZW5kZXJEZWNvcmF0b3IsXG4gICAgICAgICAgICByZWFkT25seVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJlbmRlclBsYWNlaG9sZGVyICYmIGxQcm9wcy5sZWFmLnBsYWNlaG9sZGVyICYmIGxQcm9wcy50ZXh0LnRleHQgPT09IFwiXCIpXG4gICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwic3BhblwiLCB7IHN0eWxlOiBQTEFDRUhPTERFUl9TVFlMRSwgY29udGVudEVkaXRhYmxlOiAhMSwgY2hpbGRyZW46IHJlbmRlclBsYWNlaG9sZGVyKCkgfSksXG4gICAgICAgICAgICByZW5kZXJlZFxuICAgICAgICAgIF0gfSk7XG4gICAgICAgIGNvbnN0IGRlY29yYXRpb24gPSBsUHJvcHMubGVhZi5yYW5nZURlY29yYXRpb247XG4gICAgICAgIHJldHVybiBkZWNvcmF0aW9uICYmIChyZW5kZXJlZCA9IGRlY29yYXRpb24uY29tcG9uZW50KHsgY2hpbGRyZW46IHJlbmRlcmVkIH0pKSwgcmVuZGVyZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbFByb3BzLmNoaWxkcmVuO1xuICAgIH0sXG4gICAgW3JlYWRPbmx5LCByZW5kZXJBbm5vdGF0aW9uLCByZW5kZXJDaGlsZCwgcmVuZGVyRGVjb3JhdG9yLCByZW5kZXJQbGFjZWhvbGRlciwgc2NoZW1hVHlwZXNdXG4gICksIHJlc3RvcmVTZWxlY3Rpb25Gcm9tUHJvcHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHByb3BzU2VsZWN0aW9uKSB7XG4gICAgICBkZWJ1ZyhgU2VsZWN0aW9uIGZyb20gcHJvcHMgJHtKU09OLnN0cmluZ2lmeShwcm9wc1NlbGVjdGlvbil9YCk7XG4gICAgICBjb25zdCBub3JtYWxpemVkU2VsZWN0aW9uID0gbm9ybWFsaXplU2VsZWN0aW9uKFxuICAgICAgICBwcm9wc1NlbGVjdGlvbixcbiAgICAgICAgZnJvbVNsYXRlVmFsdWUoc2xhdGVFZGl0b3IuY2hpbGRyZW4sIGJsb2NrVHlwZU5hbWUpXG4gICAgICApO1xuICAgICAgaWYgKG5vcm1hbGl6ZWRTZWxlY3Rpb24gIT09IG51bGwpIHtcbiAgICAgICAgZGVidWcoYE5vcm1hbGl6ZWQgc2VsZWN0aW9uIGZyb20gcHJvcHMgJHtKU09OLnN0cmluZ2lmeShub3JtYWxpemVkU2VsZWN0aW9uKX1gKTtcbiAgICAgICAgY29uc3Qgc2xhdGVSYW5nZSA9IHRvU2xhdGVSYW5nZShub3JtYWxpemVkU2VsZWN0aW9uLCBzbGF0ZUVkaXRvcik7XG4gICAgICAgIHNsYXRlUmFuZ2UgJiYgKFRyYW5zZm9ybXMuc2VsZWN0KHNsYXRlRWRpdG9yLCBzbGF0ZVJhbmdlKSwgc2xhdGVFZGl0b3Iub3BlcmF0aW9ucy5zb21lKChvKSA9PiBvLnR5cGUgPT09IFwic2V0X3NlbGVjdGlvblwiKSB8fCBjaGFuZ2UkLm5leHQoeyB0eXBlOiBcInNlbGVjdGlvblwiLCBzZWxlY3Rpb246IG5vcm1hbGl6ZWRTZWxlY3Rpb24gfSksIHNsYXRlRWRpdG9yLm9uQ2hhbmdlKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3Byb3BzU2VsZWN0aW9uLCBzbGF0ZUVkaXRvciwgYmxvY2tUeXBlTmFtZSwgY2hhbmdlJF0pLCBzeW5jUmFuZ2VEZWNvcmF0aW9ucyA9IHVzZUNhbGxiYWNrKFxuICAgIChvcGVyYXRpb24pID0+IHtcbiAgICAgIGlmIChyYW5nZURlY29yYXRpb25zICYmIHJhbmdlRGVjb3JhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXdTbGF0ZVJhbmdlcyA9IFtdO1xuICAgICAgICBpZiAocmFuZ2VEZWNvcmF0aW9ucy5mb3JFYWNoKChyYW5nZURlY29yYXRpb25JdGVtKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2xhdGVSYW5nZSA9IHRvU2xhdGVSYW5nZShyYW5nZURlY29yYXRpb25JdGVtLnNlbGVjdGlvbiwgc2xhdGVFZGl0b3IpO1xuICAgICAgICAgIGlmICghUmFuZ2UuaXNSYW5nZShzbGF0ZVJhbmdlKSkge1xuICAgICAgICAgICAgcmFuZ2VEZWNvcmF0aW9uSXRlbS5vbk1vdmVkICYmIHJhbmdlRGVjb3JhdGlvbkl0ZW0ub25Nb3ZlZCh7XG4gICAgICAgICAgICAgIG5ld1NlbGVjdGlvbjogbnVsbCxcbiAgICAgICAgICAgICAgcmFuZ2VEZWNvcmF0aW9uOiByYW5nZURlY29yYXRpb25JdGVtLFxuICAgICAgICAgICAgICBvcmlnaW46IFwibG9jYWxcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBuZXdSYW5nZTtcbiAgICAgICAgICBpZiAob3BlcmF0aW9uICYmIChuZXdSYW5nZSA9IG1vdmVSYW5nZUJ5T3BlcmF0aW9uKHNsYXRlUmFuZ2UsIG9wZXJhdGlvbiksIG5ld1JhbmdlICYmIG5ld1JhbmdlICE9PSBzbGF0ZVJhbmdlIHx8IG5ld1JhbmdlID09PSBudWxsICYmIHNsYXRlUmFuZ2UpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFBvcnRhYmxlVGV4dEVkaXRvci5nZXRWYWx1ZShwb3J0YWJsZVRleHRFZGl0b3IpLCBuZXdSYW5nZVNlbGVjdGlvbiA9IHRvUG9ydGFibGVUZXh0UmFuZ2UodmFsdWUsIG5ld1JhbmdlLCBzY2hlbWFUeXBlcyk7XG4gICAgICAgICAgICByYW5nZURlY29yYXRpb25JdGVtLm9uTW92ZWQgJiYgcmFuZ2VEZWNvcmF0aW9uSXRlbS5vbk1vdmVkKHtcbiAgICAgICAgICAgICAgbmV3U2VsZWN0aW9uOiBuZXdSYW5nZVNlbGVjdGlvbixcbiAgICAgICAgICAgICAgcmFuZ2VEZWNvcmF0aW9uOiByYW5nZURlY29yYXRpb25JdGVtLFxuICAgICAgICAgICAgICBvcmlnaW46IFwibG9jYWxcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld1JhbmdlICE9PSBudWxsICYmIG5ld1NsYXRlUmFuZ2VzLnB1c2goeyAuLi5uZXdSYW5nZSB8fCBzbGF0ZVJhbmdlLCByYW5nZURlY29yYXRpb246IHJhbmdlRGVjb3JhdGlvbkl0ZW0gfSk7XG4gICAgICAgIH0pLCBuZXdTbGF0ZVJhbmdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2V0UmFuZ2VEZWNvcmF0aW9uc1N0YXRlKG5ld1NsYXRlUmFuZ2VzKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldFJhbmdlRGVjb3JhdGlvbnNTdGF0ZShFTVBUWV9ERUNPUkFUSU9OU19TVEFURSk7XG4gICAgfSxcbiAgICBbcG9ydGFibGVUZXh0RWRpdG9yLCByYW5nZURlY29yYXRpb25zLCBzY2hlbWFUeXBlcywgc2xhdGVFZGl0b3JdXG4gICk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3ViID0gY2hhbmdlJC5zdWJzY3JpYmUoKG5leHQpID0+IHtcbiAgICAgIHN3aXRjaCAobmV4dC50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJyZWFkeVwiOlxuICAgICAgICAgIHJlc3RvcmVTZWxlY3Rpb25Gcm9tUHJvcHMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImludmFsaWRWYWx1ZVwiOlxuICAgICAgICAgIHNldEhhc0ludmFsaWRWYWx1ZSghMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgIHNldEhhc0ludmFsaWRWYWx1ZSghMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtjaGFuZ2UkLCByZXN0b3JlU2VsZWN0aW9uRnJvbVByb3BzXSksIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcHJvcHNTZWxlY3Rpb24gJiYgIWhhc0ludmFsaWRWYWx1ZSAmJiByZXN0b3JlU2VsZWN0aW9uRnJvbVByb3BzKCk7XG4gIH0sIFtoYXNJbnZhbGlkVmFsdWUsIHByb3BzU2VsZWN0aW9uLCByZXN0b3JlU2VsZWN0aW9uRnJvbVByb3BzXSk7XG4gIGNvbnN0IG9yaWdpbmFsQXBwbHkgPSB1c2VNZW1vKCgpID0+IHNsYXRlRWRpdG9yLmFwcGx5LCBbc2xhdGVFZGl0b3JdKSwgW3N5bmNlZFJhbmdlRGVjb3JhdGlvbnMsIHNldFN5bmNlZFJhbmdlRGVjb3JhdGlvbnNdID0gdXNlU3RhdGUoITEpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHN5bmNlZFJhbmdlRGVjb3JhdGlvbnMgfHwgKHNldFN5bmNlZFJhbmdlRGVjb3JhdGlvbnMoITApLCBzeW5jUmFuZ2VEZWNvcmF0aW9ucygpKTtcbiAgfSwgW3N5bmNSYW5nZURlY29yYXRpb25zLCBzeW5jZWRSYW5nZURlY29yYXRpb25zXSksIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaXNFcXVhbChyYW5nZURlY29yYXRpb25zLCByYW5nZURlY29yYXRpb25zUmVmLmN1cnJlbnQpIHx8IHN5bmNSYW5nZURlY29yYXRpb25zKCksIHJhbmdlRGVjb3JhdGlvbnNSZWYuY3VycmVudCA9IHJhbmdlRGVjb3JhdGlvbnM7XG4gIH0sIFtyYW5nZURlY29yYXRpb25zLCBzeW5jUmFuZ2VEZWNvcmF0aW9uc10pLCB1c2VFZmZlY3QoKCkgPT4gKHNsYXRlRWRpdG9yLmFwcGx5ID0gKG9wKSA9PiB7XG4gICAgb3JpZ2luYWxBcHBseShvcCksIG9wLnR5cGUgIT09IFwic2V0X3NlbGVjdGlvblwiICYmIHN5bmNSYW5nZURlY29yYXRpb25zKG9wKTtcbiAgfSwgKCkgPT4ge1xuICAgIHNsYXRlRWRpdG9yLmFwcGx5ID0gb3JpZ2luYWxBcHBseTtcbiAgfSksIFtvcmlnaW5hbEFwcGx5LCBzbGF0ZUVkaXRvciwgc3luY1JhbmdlRGVjb3JhdGlvbnNdKTtcbiAgY29uc3QgaGFuZGxlQ29weSA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgb25Db3B5ICYmIG9uQ29weShldmVudCkgIT09IHZvaWQgMCAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sXG4gICAgW29uQ29weV1cbiAgKSwgaGFuZGxlUGFzdGUgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdCgpLCAhIXNsYXRlRWRpdG9yLnNlbGVjdGlvbikge1xuICAgICAgICBpZiAoIW9uUGFzdGUpIHtcbiAgICAgICAgICBkZWJ1ZyhcIlBhc3Rpbmcgbm9ybWFsbHlcIiksIHNsYXRlRWRpdG9yLmluc2VydERhdGEoZXZlbnQuY2xpcGJvYXJkRGF0YSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBQb3J0YWJsZVRleHRFZGl0b3IuZ2V0VmFsdWUocG9ydGFibGVUZXh0RWRpdG9yKSwgcHRSYW5nZSA9IHRvUG9ydGFibGVUZXh0UmFuZ2UodmFsdWUsIHNsYXRlRWRpdG9yLnNlbGVjdGlvbiwgc2NoZW1hVHlwZXMpLCBwYXRoID0gKHB0UmFuZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IHB0UmFuZ2UuZm9jdXMucGF0aCkgfHwgW107XG4gICAgICAgICAgcmVzb2x2ZShcbiAgICAgICAgICAgIG9uUGFzdGUoe1xuICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgIHNjaGVtYVR5cGVzXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChkZWJ1ZyhcIkN1c3RvbSBwYXN0ZSBmdW5jdGlvbiBmcm9tIGNsaWVudCByZXNvbHZlZFwiLCByZXN1bHQpLCBjaGFuZ2UkLm5leHQoeyB0eXBlOiBcImxvYWRpbmdcIiwgaXNMb2FkaW5nOiAhMCB9KSwgIXJlc3VsdCB8fCAhcmVzdWx0Lmluc2VydCkge1xuICAgICAgICAgICAgZGVidWcoXCJObyByZXN1bHQgZnJvbSBjdXN0b20gcGFzdGUgaGFuZGxlciwgcGFzdGluZyBub3JtYWxseVwiKSwgc2xhdGVFZGl0b3IuaW5zZXJ0RGF0YShldmVudC5jbGlwYm9hcmREYXRhKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuaW5zZXJ0KSB7XG4gICAgICAgICAgICBzbGF0ZUVkaXRvci5pbnNlcnRGcmFnbWVudChcbiAgICAgICAgICAgICAgdG9TbGF0ZVZhbHVlKHJlc3VsdC5pbnNlcnQsIHsgc2NoZW1hVHlwZXMgfSlcbiAgICAgICAgICAgICksIGNoYW5nZSQubmV4dCh7IHR5cGU6IFwibG9hZGluZ1wiLCBpc0xvYWRpbmc6ICExIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJZb3VyIG9uUGFzdGUgZnVuY3Rpb24gcmV0dXJuZWQgc29tZXRoaW5nIHVuZXhwZWN0ZWQ6XCIsIHJlc3VsdCk7XG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gKGNoYW5nZSQubmV4dCh7IHR5cGU6IFwibG9hZGluZ1wiLCBpc0xvYWRpbmc6ICExIH0pLCBjb25zb2xlLmVycm9yKGVycm9yKSwgZXJyb3IpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtjaGFuZ2UkLCBvblBhc3RlLCBwb3J0YWJsZVRleHRFZGl0b3IsIHNjaGVtYVR5cGVzLCBzbGF0ZUVkaXRvcl1cbiAgKSwgaGFuZGxlT25Gb2N1cyA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgaWYgKG9uRm9jdXMgJiYgb25Gb2N1cyhldmVudCksICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBQb3J0YWJsZVRleHRFZGl0b3IuZ2V0U2VsZWN0aW9uKHBvcnRhYmxlVGV4dEVkaXRvcik7XG4gICAgICAgIHNlbGVjdGlvbiA9PT0gbnVsbCAmJiAoVHJhbnNmb3Jtcy5zZWxlY3Qoc2xhdGVFZGl0b3IsIEVkaXRvci5zdGFydChzbGF0ZUVkaXRvciwgW10pKSwgc2xhdGVFZGl0b3Iub25DaGFuZ2UoKSksIGNoYW5nZSQubmV4dCh7IHR5cGU6IFwiZm9jdXNcIiwgZXZlbnQgfSk7XG4gICAgICAgIGNvbnN0IG5ld1NlbGVjdGlvbiA9IFBvcnRhYmxlVGV4dEVkaXRvci5nZXRTZWxlY3Rpb24ocG9ydGFibGVUZXh0RWRpdG9yKTtcbiAgICAgICAgc2VsZWN0aW9uID09PSBuZXdTZWxlY3Rpb24gJiYgY2hhbmdlJC5uZXh0KHtcbiAgICAgICAgICB0eXBlOiBcInNlbGVjdGlvblwiLFxuICAgICAgICAgIHNlbGVjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtvbkZvY3VzLCBwb3J0YWJsZVRleHRFZGl0b3IsIGNoYW5nZSQsIHNsYXRlRWRpdG9yXVxuICApLCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgaWYgKG9uQ2xpY2sgJiYgb25DbGljayhldmVudCksIHNsYXRlRWRpdG9yLnNlbGVjdGlvbiAmJiBldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgY29uc3QgW2xhc3RCbG9jaywgcGF0aF0gPSBOb2RlLmxhc3Qoc2xhdGVFZGl0b3IsIFtdKSwgZm9jdXNQYXRoID0gc2xhdGVFZGl0b3Iuc2VsZWN0aW9uLmZvY3VzLnBhdGguc2xpY2UoMCwgMSksIGxhc3RQYXRoID0gcGF0aC5zbGljZSgwLCAxKTtcbiAgICAgICAgaWYgKFBhdGguZXF1YWxzKGZvY3VzUGF0aCwgbGFzdFBhdGgpKSB7XG4gICAgICAgICAgY29uc3Qgbm9kZSA9IE5vZGUuZGVzY2VuZGFudChzbGF0ZUVkaXRvciwgcGF0aC5zbGljZSgwLCAxKSk7XG4gICAgICAgICAgbGFzdEJsb2NrICYmIEVkaXRvci5pc1ZvaWQoc2xhdGVFZGl0b3IsIG5vZGUpICYmIChUcmFuc2Zvcm1zLmluc2VydE5vZGVzKHNsYXRlRWRpdG9yLCBzbGF0ZUVkaXRvci5wdGVDcmVhdGVFbXB0eUJsb2NrKCkpLCBzbGF0ZUVkaXRvci5vbkNoYW5nZSgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgW29uQ2xpY2ssIHNsYXRlRWRpdG9yXVxuICApLCBoYW5kbGVPbkJsdXIgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIG9uQmx1ciAmJiBvbkJsdXIoZXZlbnQpLCBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpIHx8IGNoYW5nZSQubmV4dCh7IHR5cGU6IFwiYmx1clwiLCBldmVudCB9KTtcbiAgICB9LFxuICAgIFtjaGFuZ2UkLCBvbkJsdXJdXG4gICksIGhhbmRsZU9uQmVmb3JlSW5wdXQgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIG9uQmVmb3JlSW5wdXQgJiYgb25CZWZvcmVJbnB1dChldmVudCk7XG4gICAgfSxcbiAgICBbb25CZWZvcmVJbnB1dF1cbiAgKSwgdmFsaWRhdGVTZWxlY3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFzbGF0ZUVkaXRvci5zZWxlY3Rpb24pXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgcm9vdCA9IFJlYWN0RWRpdG9yLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChzbGF0ZUVkaXRvciksIHsgYWN0aXZlRWxlbWVudCB9ID0gcm9vdDtcbiAgICBpZiAocmVmLmN1cnJlbnQgIT09IGFjdGl2ZUVsZW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZG9tU2VsZWN0aW9uID0gUmVhY3RFZGl0b3IuZ2V0V2luZG93KHNsYXRlRWRpdG9yKS5nZXRTZWxlY3Rpb24oKTtcbiAgICBpZiAoIWRvbVNlbGVjdGlvbiB8fCBkb21TZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBleGlzdGluZ0RPTVJhbmdlID0gZG9tU2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5ld0RPTVJhbmdlID0gUmVhY3RFZGl0b3IudG9ET01SYW5nZShzbGF0ZUVkaXRvciwgc2xhdGVFZGl0b3Iuc2VsZWN0aW9uKTtcbiAgICAgIChuZXdET01SYW5nZS5zdGFydE9mZnNldCAhPT0gZXhpc3RpbmdET01SYW5nZS5zdGFydE9mZnNldCB8fCBuZXdET01SYW5nZS5lbmRPZmZzZXQgIT09IGV4aXN0aW5nRE9NUmFuZ2UuZW5kT2Zmc2V0KSAmJiAoZGVidWcoXCJET00gcmFuZ2Ugb3V0IG9mIHN5bmMsIHZhbGlkYXRpbmcgc2VsZWN0aW9uXCIpLCBkb21TZWxlY3Rpb24gPT0gbnVsbCB8fCBkb21TZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCksIGRvbVNlbGVjdGlvbi5hZGRSYW5nZShuZXdET01SYW5nZSkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgZGVidWcoXCJDb3VsZCBub3QgcmVzb2x2ZSBzZWxlY3Rpb24sIHNlbGVjdGluZyB0b3AgZG9jdW1lbnRcIiksIFRyYW5zZm9ybXMuZGVzZWxlY3Qoc2xhdGVFZGl0b3IpLCBzbGF0ZUVkaXRvci5jaGlsZHJlbi5sZW5ndGggPiAwICYmIFRyYW5zZm9ybXMuc2VsZWN0KHNsYXRlRWRpdG9yLCBbMCwgMF0pLCBzbGF0ZUVkaXRvci5vbkNoYW5nZSgpO1xuICAgIH1cbiAgfSwgW3JlZiwgc2xhdGVFZGl0b3JdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZWRpdGFibGVFbGVtZW50KSB7XG4gICAgICBjb25zdCBtdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodmFsaWRhdGVTZWxlY3Rpb24pO1xuICAgICAgcmV0dXJuIG11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShlZGl0YWJsZUVsZW1lbnQsIHtcbiAgICAgICAgYXR0cmlidXRlT2xkVmFsdWU6ICExLFxuICAgICAgICBhdHRyaWJ1dGVzOiAhMSxcbiAgICAgICAgY2hhcmFjdGVyRGF0YTogITEsXG4gICAgICAgIGNoaWxkTGlzdDogITAsXG4gICAgICAgIHN1YnRyZWU6ICEwXG4gICAgICB9KSwgKCkgPT4ge1xuICAgICAgICBtdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbdmFsaWRhdGVTZWxlY3Rpb24sIGVkaXRhYmxlRWxlbWVudF0pO1xuICBjb25zdCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBwcm9wcy5vbktleURvd24gJiYgcHJvcHMub25LZXlEb3duKGV2ZW50KSwgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgc2xhdGVFZGl0b3IucHRlV2l0aEhvdEtleXMoZXZlbnQpO1xuICAgIH0sXG4gICAgW3Byb3BzLCBzbGF0ZUVkaXRvcl1cbiAgKSwgc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXdUb1NsYXRlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHNjcm9sbFNlbGVjdGlvbkludG9WaWV3ICE9PSB2b2lkIDApXG4gICAgICByZXR1cm4gc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcgPT09IG51bGwgPyBub29wIDogKGVkaXRvciwgZG9tUmFuZ2UpID0+IHtcbiAgICAgICAgc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcocG9ydGFibGVUZXh0RWRpdG9yLCBkb21SYW5nZSk7XG4gICAgICB9O1xuICB9LCBbcG9ydGFibGVUZXh0RWRpdG9yLCBzY3JvbGxTZWxlY3Rpb25JbnRvVmlld10pLCBkZWNvcmF0ZSA9IHVzZUNhbGxiYWNrKFxuICAgIChbLCBwYXRoXSkgPT4ge1xuICAgICAgaWYgKGlzRXF1YWxUb0VtcHR5RWRpdG9yKHNsYXRlRWRpdG9yLmNoaWxkcmVuLCBzY2hlbWFUeXBlcykpXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgYW5jaG9yOiB7XG4gICAgICAgICAgICAgIHBhdGg6IFswLCAwXSxcbiAgICAgICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9jdXM6IHtcbiAgICAgICAgICAgICAgcGF0aDogWzAsIDBdLFxuICAgICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogITBcbiAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBFTVBUWV9ERUNPUkFUSU9OU19TVEFURTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHJhbmdlRGVjb3JhdGlvblN0YXRlLmZpbHRlcigoaXRlbSkgPT4gUmFuZ2UuaXNDb2xsYXBzZWQoaXRlbSkgPyBwYXRoLmxlbmd0aCAhPT0gMiA/ICExIDogUGF0aC5lcXVhbHMoaXRlbS5mb2N1cy5wYXRoLCBwYXRoKSAmJiBQYXRoLmVxdWFscyhpdGVtLmFuY2hvci5wYXRoLCBwYXRoKSA6IFJhbmdlLmludGVyc2VjdGlvbihpdGVtLCB7IGFuY2hvcjogeyBwYXRoLCBvZmZzZXQ6IDAgfSwgZm9jdXM6IHsgcGF0aCwgb2Zmc2V0OiAwIH0gfSkgfHwgUmFuZ2UuaW5jbHVkZXMoaXRlbSwgcGF0aCkpO1xuICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPiAwID8gcmVzdWx0IDogRU1QVFlfREVDT1JBVElPTlNfU1RBVEU7XG4gICAgfSxcbiAgICBbc2xhdGVFZGl0b3IsIHNjaGVtYVR5cGVzLCByYW5nZURlY29yYXRpb25TdGF0ZV1cbiAgKTtcbiAgcmV0dXJuIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVmLmN1cnJlbnQgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoc2xhdGVFZGl0b3IsIHNsYXRlRWRpdG9yKSwgc2V0RWRpdGFibGVFbGVtZW50KHJlZi5jdXJyZW50KTtcbiAgfSwgW3NsYXRlRWRpdG9yLCByZWZdKSwgcG9ydGFibGVUZXh0RWRpdG9yID8gaGFzSW52YWxpZFZhbHVlID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgRWRpdGFibGUsXG4gICAge1xuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgYXV0b0ZvY3VzOiAhMSxcbiAgICAgIGNsYXNzTmFtZTogcmVzdFByb3BzLmNsYXNzTmFtZSB8fCBcInB0LWVkaXRhYmxlXCIsXG4gICAgICBkZWNvcmF0ZSxcbiAgICAgIG9uQmx1cjogaGFuZGxlT25CbHVyLFxuICAgICAgb25Db3B5OiBoYW5kbGVDb3B5LFxuICAgICAgb25DbGljazogaGFuZGxlQ2xpY2ssXG4gICAgICBvbkRPTUJlZm9yZUlucHV0OiBoYW5kbGVPbkJlZm9yZUlucHV0LFxuICAgICAgb25Gb2N1czogaGFuZGxlT25Gb2N1cyxcbiAgICAgIG9uS2V5RG93bjogaGFuZGxlS2V5RG93bixcbiAgICAgIG9uUGFzdGU6IGhhbmRsZVBhc3RlLFxuICAgICAgcmVhZE9ubHksXG4gICAgICByZW5kZXJQbGFjZWhvbGRlcjogdm9pZCAwLFxuICAgICAgcmVuZGVyRWxlbWVudCxcbiAgICAgIHJlbmRlckxlYWYsXG4gICAgICBzY3JvbGxTZWxlY3Rpb25JbnRvVmlldzogc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXdUb1NsYXRlXG4gICAgfVxuICApIDogbnVsbDtcbn0pO1xuZnVuY3Rpb24gY29tcGFjdFBhdGNoZXMocGF0Y2hlcykge1xuICBjb25zdCBsYXN0UGF0Y2ggPSBwYXRjaGVzLnNsaWNlKC0xKVswXTtcbiAgaWYgKGxhc3RQYXRjaCAmJiBsYXN0UGF0Y2gudHlwZSA9PT0gXCJ1bnNldFwiICYmIGxhc3RQYXRjaC5wYXRoLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm4gW2xhc3RQYXRjaF07XG4gIGxldCBmaW5hbFBhdGNoZXMgPSBwYXRjaGVzO1xuICByZXR1cm4gZmluYWxQYXRjaGVzID0gZmluYWxQYXRjaGVzLmZpbHRlcigocGF0Y2gsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFwYXRjaClcbiAgICAgIHJldHVybiAhMTtcbiAgICBjb25zdCBuZXh0UGF0Y2ggPSBmaW5hbFBhdGNoZXNbaW5kZXggKyAxXTtcbiAgICByZXR1cm4gIShuZXh0UGF0Y2ggJiYgbmV4dFBhdGNoLnR5cGUgPT09IFwic2V0XCIgJiYgcGF0Y2gudHlwZSA9PT0gXCJzZXRcIiAmJiBpc0VxdWFsKHBhdGNoLnBhdGgsIG5leHRQYXRjaC5wYXRoKSk7XG4gIH0pLCBmaW5hbFBhdGNoZXMubGVuZ3RoICE9PSBwYXRjaGVzLmxlbmd0aCA/IGZpbmFsUGF0Y2hlcyA6IHBhdGNoZXM7XG59XG5leHBvcnQge1xuICBQb3J0YWJsZVRleHRFZGl0YWJsZSxcbiAgUG9ydGFibGVUZXh0RWRpdG9yLFxuICBjb21wYWN0UGF0Y2hlcyxcbiAgZGVmYXVsdEtleUdlbmVyYXRvciBhcyBrZXlHZW5lcmF0b3IsXG4gIHVzZVBvcnRhYmxlVGV4dEVkaXRvcixcbiAgdXNlUG9ydGFibGVUZXh0RWRpdG9yU2VsZWN0aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/portable-text-editor/lib/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/schema/lib/_chunks-es/resolve.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/schema/lib/_chunks-es/resolve.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_MAX_FIELD_DEPTH: () => (/* binding */ DEFAULT_MAX_FIELD_DEPTH),\n/* harmony export */   resolveSearchConfig: () => (/* binding */ resolveSearchConfig),\n/* harmony export */   resolveSearchConfigForBaseFieldPaths: () => (/* binding */ resolveSearchConfigForBaseFieldPaths)\n/* harmony export */ });\n/* harmony import */ var lodash_isFinite_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/isFinite.js */ \"(ssr)/./node_modules/lodash/isFinite.js\");\n/* harmony import */ var lodash_uniqBy_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/uniqBy.js */ \"(ssr)/./node_modules/lodash/uniqBy.js\");\n\n\nconst DEFAULT_MAX_FIELD_DEPTH = 5, stringFieldsSymbols = {}, getStringFieldSymbol = (maxDepth) => (stringFieldsSymbols[maxDepth] || (stringFieldsSymbols[maxDepth] = Symbol(`__cachedStringFields_${maxDepth}`)), stringFieldsSymbols[maxDepth]), isReference = (type) => type.type && type.type.name === \"reference\", portableTextFields = [\"style\", \"list\"], isPortableTextBlock = (type) => type.name === \"block\" || type.type && isPortableTextBlock(type.type), isPortableTextArray = (type) => type.jsonType === \"array\" && Array.isArray(type.of) && type.of.some(isPortableTextBlock);\nfunction reduceType(type, reducer, acc, path = [], maxDepth) {\n  if (maxDepth < 0)\n    return acc;\n  const accumulator = reducer(acc, type, path);\n  return type.jsonType === \"array\" && Array.isArray(type.of) ? reduceArray(type, reducer, accumulator, path, maxDepth) : type.jsonType === \"object\" && Array.isArray(type.fields) && !isReference(type) ? reduceObject(type, reducer, accumulator, path, maxDepth) : accumulator;\n}\nfunction reduceArray(arrayType, reducer, accumulator, path, maxDepth) {\n  return arrayType.of.reduce(\n    (acc, ofType) => reduceType(ofType, reducer, acc, path, maxDepth - 1),\n    accumulator\n  );\n}\nfunction reduceObject(objectType, reducer, accumulator, path, maxDepth) {\n  const isPtBlock = isPortableTextBlock(objectType);\n  return objectType.fields.reduce((acc, field) => {\n    if (isPtBlock && portableTextFields.includes(field.name))\n      return acc;\n    const segment = [field.name].concat(field.type.jsonType === \"array\" ? [[]] : []);\n    return reduceType(field.type, reducer, acc, path.concat(segment), maxDepth - 1);\n  }, accumulator);\n}\nconst BASE_WEIGHTS = [\n  { weight: 1, path: [\"_id\"] },\n  { weight: 1, path: [\"_type\"] }\n], PREVIEW_FIELD_WEIGHT_MAP = {\n  title: 10,\n  subtitle: 5,\n  description: 1.5\n};\nfunction deriveFromPreview(type, maxDepth) {\n  var _a;\n  const select = (_a = type == null ? void 0 : type.preview) == null ? void 0 : _a.select;\n  if (!select)\n    return [];\n  const fields = [];\n  for (const fieldName of Object.keys(select)) {\n    if (!(fieldName in PREVIEW_FIELD_WEIGHT_MAP))\n      continue;\n    const path = select[fieldName].split(\".\");\n    maxDepth > -1 && path.length - 1 > maxDepth || fields.push({\n      weight: PREVIEW_FIELD_WEIGHT_MAP[fieldName],\n      path\n    });\n  }\n  return fields;\n}\nfunction getCachedStringFieldPaths(type, maxDepth) {\n  const symbol = getStringFieldSymbol(maxDepth);\n  return type[symbol] || (type[symbol] = lodash_uniqBy_js__WEBPACK_IMPORTED_MODULE_1__(\n    [\n      ...BASE_WEIGHTS,\n      ...deriveFromPreview(type, maxDepth),\n      ...getStringFieldPaths(type, maxDepth).map((path) => ({ weight: 1, path })),\n      ...getPortableTextFieldPaths(type, maxDepth).map((path) => ({\n        weight: 1,\n        path,\n        mapWith: \"pt::text\"\n      }))\n    ],\n    (spec) => spec.path.join(\".\")\n  )), type[symbol];\n}\nfunction getCachedBaseFieldPaths(type, maxDepth) {\n  const symbol = getStringFieldSymbol(maxDepth);\n  return type[symbol] || (type[symbol] = lodash_uniqBy_js__WEBPACK_IMPORTED_MODULE_1__(\n    [...BASE_WEIGHTS, ...deriveFromPreview(type, maxDepth)],\n    (spec) => spec.path.join(\".\")\n  )), type[symbol];\n}\nfunction getStringFieldPaths(type, maxDepth) {\n  return reduceType(type, (accumulator, childType, path) => childType.jsonType === \"string\" ? [...accumulator, path] : accumulator, [], [], maxDepth);\n}\nfunction getPortableTextFieldPaths(type, maxDepth) {\n  return reduceType(type, (accumulator, childType, path) => isPortableTextArray(childType) ? [...accumulator, path] : accumulator, [], [], maxDepth);\n}\nfunction resolveSearchConfigForBaseFieldPaths(type, maxDepth) {\n  return getCachedBaseFieldPaths(type, normalizeMaxDepth(maxDepth));\n}\nfunction resolveSearchConfig(type, maxDepth) {\n  return getCachedStringFieldPaths(type, normalizeMaxDepth(maxDepth));\n}\nfunction normalizeMaxDepth(maxDepth) {\n  return !lodash_isFinite_js__WEBPACK_IMPORTED_MODULE_0__(maxDepth) || maxDepth < 1 || maxDepth > DEFAULT_MAX_FIELD_DEPTH ? DEFAULT_MAX_FIELD_DEPTH - 1 : maxDepth - 1;\n}\n\n//# sourceMappingURL=resolve.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9zY2hlbWEvbGliL19jaHVua3MtZXMvcmVzb2x2ZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEM7QUFDSjtBQUN0QywyREFBMkQseUlBQXlJLFNBQVM7QUFDN007QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLElBQUksMEJBQTBCO0FBQzlCLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyw2Q0FBTTtBQUMvQztBQUNBO0FBQ0E7QUFDQSw4REFBOEQsaUJBQWlCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyw2Q0FBTTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwrQ0FBUTtBQUNsQjtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvc2NoZW1hL2xpYi9fY2h1bmtzLWVzL3Jlc29sdmUubWpzP2IxY2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGlzRmluaXRlIGZyb20gXCJsb2Rhc2gvaXNGaW5pdGUuanNcIjtcbmltcG9ydCB1bmlxQnkgZnJvbSBcImxvZGFzaC91bmlxQnkuanNcIjtcbmNvbnN0IERFRkFVTFRfTUFYX0ZJRUxEX0RFUFRIID0gNSwgc3RyaW5nRmllbGRzU3ltYm9scyA9IHt9LCBnZXRTdHJpbmdGaWVsZFN5bWJvbCA9IChtYXhEZXB0aCkgPT4gKHN0cmluZ0ZpZWxkc1N5bWJvbHNbbWF4RGVwdGhdIHx8IChzdHJpbmdGaWVsZHNTeW1ib2xzW21heERlcHRoXSA9IFN5bWJvbChgX19jYWNoZWRTdHJpbmdGaWVsZHNfJHttYXhEZXB0aH1gKSksIHN0cmluZ0ZpZWxkc1N5bWJvbHNbbWF4RGVwdGhdKSwgaXNSZWZlcmVuY2UgPSAodHlwZSkgPT4gdHlwZS50eXBlICYmIHR5cGUudHlwZS5uYW1lID09PSBcInJlZmVyZW5jZVwiLCBwb3J0YWJsZVRleHRGaWVsZHMgPSBbXCJzdHlsZVwiLCBcImxpc3RcIl0sIGlzUG9ydGFibGVUZXh0QmxvY2sgPSAodHlwZSkgPT4gdHlwZS5uYW1lID09PSBcImJsb2NrXCIgfHwgdHlwZS50eXBlICYmIGlzUG9ydGFibGVUZXh0QmxvY2sodHlwZS50eXBlKSwgaXNQb3J0YWJsZVRleHRBcnJheSA9ICh0eXBlKSA9PiB0eXBlLmpzb25UeXBlID09PSBcImFycmF5XCIgJiYgQXJyYXkuaXNBcnJheSh0eXBlLm9mKSAmJiB0eXBlLm9mLnNvbWUoaXNQb3J0YWJsZVRleHRCbG9jayk7XG5mdW5jdGlvbiByZWR1Y2VUeXBlKHR5cGUsIHJlZHVjZXIsIGFjYywgcGF0aCA9IFtdLCBtYXhEZXB0aCkge1xuICBpZiAobWF4RGVwdGggPCAwKVxuICAgIHJldHVybiBhY2M7XG4gIGNvbnN0IGFjY3VtdWxhdG9yID0gcmVkdWNlcihhY2MsIHR5cGUsIHBhdGgpO1xuICByZXR1cm4gdHlwZS5qc29uVHlwZSA9PT0gXCJhcnJheVwiICYmIEFycmF5LmlzQXJyYXkodHlwZS5vZikgPyByZWR1Y2VBcnJheSh0eXBlLCByZWR1Y2VyLCBhY2N1bXVsYXRvciwgcGF0aCwgbWF4RGVwdGgpIDogdHlwZS5qc29uVHlwZSA9PT0gXCJvYmplY3RcIiAmJiBBcnJheS5pc0FycmF5KHR5cGUuZmllbGRzKSAmJiAhaXNSZWZlcmVuY2UodHlwZSkgPyByZWR1Y2VPYmplY3QodHlwZSwgcmVkdWNlciwgYWNjdW11bGF0b3IsIHBhdGgsIG1heERlcHRoKSA6IGFjY3VtdWxhdG9yO1xufVxuZnVuY3Rpb24gcmVkdWNlQXJyYXkoYXJyYXlUeXBlLCByZWR1Y2VyLCBhY2N1bXVsYXRvciwgcGF0aCwgbWF4RGVwdGgpIHtcbiAgcmV0dXJuIGFycmF5VHlwZS5vZi5yZWR1Y2UoXG4gICAgKGFjYywgb2ZUeXBlKSA9PiByZWR1Y2VUeXBlKG9mVHlwZSwgcmVkdWNlciwgYWNjLCBwYXRoLCBtYXhEZXB0aCAtIDEpLFxuICAgIGFjY3VtdWxhdG9yXG4gICk7XG59XG5mdW5jdGlvbiByZWR1Y2VPYmplY3Qob2JqZWN0VHlwZSwgcmVkdWNlciwgYWNjdW11bGF0b3IsIHBhdGgsIG1heERlcHRoKSB7XG4gIGNvbnN0IGlzUHRCbG9jayA9IGlzUG9ydGFibGVUZXh0QmxvY2sob2JqZWN0VHlwZSk7XG4gIHJldHVybiBvYmplY3RUeXBlLmZpZWxkcy5yZWR1Y2UoKGFjYywgZmllbGQpID0+IHtcbiAgICBpZiAoaXNQdEJsb2NrICYmIHBvcnRhYmxlVGV4dEZpZWxkcy5pbmNsdWRlcyhmaWVsZC5uYW1lKSlcbiAgICAgIHJldHVybiBhY2M7XG4gICAgY29uc3Qgc2VnbWVudCA9IFtmaWVsZC5uYW1lXS5jb25jYXQoZmllbGQudHlwZS5qc29uVHlwZSA9PT0gXCJhcnJheVwiID8gW1tdXSA6IFtdKTtcbiAgICByZXR1cm4gcmVkdWNlVHlwZShmaWVsZC50eXBlLCByZWR1Y2VyLCBhY2MsIHBhdGguY29uY2F0KHNlZ21lbnQpLCBtYXhEZXB0aCAtIDEpO1xuICB9LCBhY2N1bXVsYXRvcik7XG59XG5jb25zdCBCQVNFX1dFSUdIVFMgPSBbXG4gIHsgd2VpZ2h0OiAxLCBwYXRoOiBbXCJfaWRcIl0gfSxcbiAgeyB3ZWlnaHQ6IDEsIHBhdGg6IFtcIl90eXBlXCJdIH1cbl0sIFBSRVZJRVdfRklFTERfV0VJR0hUX01BUCA9IHtcbiAgdGl0bGU6IDEwLFxuICBzdWJ0aXRsZTogNSxcbiAgZGVzY3JpcHRpb246IDEuNVxufTtcbmZ1bmN0aW9uIGRlcml2ZUZyb21QcmV2aWV3KHR5cGUsIG1heERlcHRoKSB7XG4gIHZhciBfYTtcbiAgY29uc3Qgc2VsZWN0ID0gKF9hID0gdHlwZSA9PSBudWxsID8gdm9pZCAwIDogdHlwZS5wcmV2aWV3KSA9PSBudWxsID8gdm9pZCAwIDogX2Euc2VsZWN0O1xuICBpZiAoIXNlbGVjdClcbiAgICByZXR1cm4gW107XG4gIGNvbnN0IGZpZWxkcyA9IFtdO1xuICBmb3IgKGNvbnN0IGZpZWxkTmFtZSBvZiBPYmplY3Qua2V5cyhzZWxlY3QpKSB7XG4gICAgaWYgKCEoZmllbGROYW1lIGluIFBSRVZJRVdfRklFTERfV0VJR0hUX01BUCkpXG4gICAgICBjb250aW51ZTtcbiAgICBjb25zdCBwYXRoID0gc2VsZWN0W2ZpZWxkTmFtZV0uc3BsaXQoXCIuXCIpO1xuICAgIG1heERlcHRoID4gLTEgJiYgcGF0aC5sZW5ndGggLSAxID4gbWF4RGVwdGggfHwgZmllbGRzLnB1c2goe1xuICAgICAgd2VpZ2h0OiBQUkVWSUVXX0ZJRUxEX1dFSUdIVF9NQVBbZmllbGROYW1lXSxcbiAgICAgIHBhdGhcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZmllbGRzO1xufVxuZnVuY3Rpb24gZ2V0Q2FjaGVkU3RyaW5nRmllbGRQYXRocyh0eXBlLCBtYXhEZXB0aCkge1xuICBjb25zdCBzeW1ib2wgPSBnZXRTdHJpbmdGaWVsZFN5bWJvbChtYXhEZXB0aCk7XG4gIHJldHVybiB0eXBlW3N5bWJvbF0gfHwgKHR5cGVbc3ltYm9sXSA9IHVuaXFCeShcbiAgICBbXG4gICAgICAuLi5CQVNFX1dFSUdIVFMsXG4gICAgICAuLi5kZXJpdmVGcm9tUHJldmlldyh0eXBlLCBtYXhEZXB0aCksXG4gICAgICAuLi5nZXRTdHJpbmdGaWVsZFBhdGhzKHR5cGUsIG1heERlcHRoKS5tYXAoKHBhdGgpID0+ICh7IHdlaWdodDogMSwgcGF0aCB9KSksXG4gICAgICAuLi5nZXRQb3J0YWJsZVRleHRGaWVsZFBhdGhzKHR5cGUsIG1heERlcHRoKS5tYXAoKHBhdGgpID0+ICh7XG4gICAgICAgIHdlaWdodDogMSxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgbWFwV2l0aDogXCJwdDo6dGV4dFwiXG4gICAgICB9KSlcbiAgICBdLFxuICAgIChzcGVjKSA9PiBzcGVjLnBhdGguam9pbihcIi5cIilcbiAgKSksIHR5cGVbc3ltYm9sXTtcbn1cbmZ1bmN0aW9uIGdldENhY2hlZEJhc2VGaWVsZFBhdGhzKHR5cGUsIG1heERlcHRoKSB7XG4gIGNvbnN0IHN5bWJvbCA9IGdldFN0cmluZ0ZpZWxkU3ltYm9sKG1heERlcHRoKTtcbiAgcmV0dXJuIHR5cGVbc3ltYm9sXSB8fCAodHlwZVtzeW1ib2xdID0gdW5pcUJ5KFxuICAgIFsuLi5CQVNFX1dFSUdIVFMsIC4uLmRlcml2ZUZyb21QcmV2aWV3KHR5cGUsIG1heERlcHRoKV0sXG4gICAgKHNwZWMpID0+IHNwZWMucGF0aC5qb2luKFwiLlwiKVxuICApKSwgdHlwZVtzeW1ib2xdO1xufVxuZnVuY3Rpb24gZ2V0U3RyaW5nRmllbGRQYXRocyh0eXBlLCBtYXhEZXB0aCkge1xuICByZXR1cm4gcmVkdWNlVHlwZSh0eXBlLCAoYWNjdW11bGF0b3IsIGNoaWxkVHlwZSwgcGF0aCkgPT4gY2hpbGRUeXBlLmpzb25UeXBlID09PSBcInN0cmluZ1wiID8gWy4uLmFjY3VtdWxhdG9yLCBwYXRoXSA6IGFjY3VtdWxhdG9yLCBbXSwgW10sIG1heERlcHRoKTtcbn1cbmZ1bmN0aW9uIGdldFBvcnRhYmxlVGV4dEZpZWxkUGF0aHModHlwZSwgbWF4RGVwdGgpIHtcbiAgcmV0dXJuIHJlZHVjZVR5cGUodHlwZSwgKGFjY3VtdWxhdG9yLCBjaGlsZFR5cGUsIHBhdGgpID0+IGlzUG9ydGFibGVUZXh0QXJyYXkoY2hpbGRUeXBlKSA/IFsuLi5hY2N1bXVsYXRvciwgcGF0aF0gOiBhY2N1bXVsYXRvciwgW10sIFtdLCBtYXhEZXB0aCk7XG59XG5mdW5jdGlvbiByZXNvbHZlU2VhcmNoQ29uZmlnRm9yQmFzZUZpZWxkUGF0aHModHlwZSwgbWF4RGVwdGgpIHtcbiAgcmV0dXJuIGdldENhY2hlZEJhc2VGaWVsZFBhdGhzKHR5cGUsIG5vcm1hbGl6ZU1heERlcHRoKG1heERlcHRoKSk7XG59XG5mdW5jdGlvbiByZXNvbHZlU2VhcmNoQ29uZmlnKHR5cGUsIG1heERlcHRoKSB7XG4gIHJldHVybiBnZXRDYWNoZWRTdHJpbmdGaWVsZFBhdGhzKHR5cGUsIG5vcm1hbGl6ZU1heERlcHRoKG1heERlcHRoKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVNYXhEZXB0aChtYXhEZXB0aCkge1xuICByZXR1cm4gIWlzRmluaXRlKG1heERlcHRoKSB8fCBtYXhEZXB0aCA8IDEgfHwgbWF4RGVwdGggPiBERUZBVUxUX01BWF9GSUVMRF9ERVBUSCA/IERFRkFVTFRfTUFYX0ZJRUxEX0RFUFRIIC0gMSA6IG1heERlcHRoIC0gMTtcbn1cbmV4cG9ydCB7XG4gIERFRkFVTFRfTUFYX0ZJRUxEX0RFUFRILFxuICByZXNvbHZlU2VhcmNoQ29uZmlnLFxuICByZXNvbHZlU2VhcmNoQ29uZmlnRm9yQmFzZUZpZWxkUGF0aHNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/schema/lib/_chunks-es/resolve.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/schema/lib/_internal.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@sanity/schema/lib/_internal.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_MAX_FIELD_DEPTH: () => (/* reexport safe */ _chunks_es_resolve_mjs__WEBPACK_IMPORTED_MODULE_11__.DEFAULT_MAX_FIELD_DEPTH),\n/* harmony export */   extractSchema: () => (/* binding */ extractSchema),\n/* harmony export */   groupProblems: () => (/* binding */ groupProblems),\n/* harmony export */   isActionEnabled: () => (/* binding */ isActionEnabled),\n/* harmony export */   resolveSearchConfig: () => (/* reexport safe */ _chunks_es_resolve_mjs__WEBPACK_IMPORTED_MODULE_11__.resolveSearchConfig),\n/* harmony export */   resolveSearchConfigForBaseFieldPaths: () => (/* reexport safe */ _chunks_es_resolve_mjs__WEBPACK_IMPORTED_MODULE_11__.resolveSearchConfigForBaseFieldPaths),\n/* harmony export */   validateSchema: () => (/* binding */ validateSchema)\n/* harmony export */ });\n/* harmony import */ var lodash_difference_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/difference.js */ \"(ssr)/./node_modules/lodash/difference.js\");\n/* harmony import */ var _chunks_es_resolve_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./_chunks-es/resolve.mjs */ \"(ssr)/./node_modules/@sanity/schema/lib/_chunks-es/resolve.mjs\");\n/* harmony import */ var groq_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! groq-js */ \"(ssr)/./node_modules/groq-js/dist/1.mjs\");\n/* harmony import */ var lodash_flatten_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/flatten.js */ \"(ssr)/./node_modules/lodash/flatten.js\");\n/* harmony import */ var lodash_get_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/get.js */ \"(ssr)/./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_uniq_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/uniq.js */ \"(ssr)/./node_modules/lodash/uniq.js\");\n/* harmony import */ var humanize_list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! humanize-list */ \"(ssr)/./node_modules/humanize-list/index.js\");\n/* harmony import */ var lodash_partition_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/partition.js */ \"(ssr)/./node_modules/lodash/partition.js\");\n/* harmony import */ var lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/isPlainObject.js */ \"(ssr)/./node_modules/lodash/isPlainObject.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/omit.js */ \"(ssr)/./node_modules/lodash/omit.js\");\n/* harmony import */ var leven__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! leven */ \"(ssr)/./node_modules/leven/index.js\");\n/* harmony import */ var object_inspect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! object-inspect */ \"(ssr)/./node_modules/object-inspect/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst ACTIONS_FLAG = \"__experimental_actions\", DEFAULT_ACTIONS = [\"create\", \"update\", \"delete\", \"publish\"], VALID_ACTIONS = DEFAULT_ACTIONS, readActions = (schemaType) => ACTIONS_FLAG in schemaType ? schemaType[ACTIONS_FLAG] : DEFAULT_ACTIONS, validateActions = (typeName, actions) => {\n  if (!Array.isArray(actions))\n    throw new Error(\n      `The value of <type>.${ACTIONS_FLAG} should be an array with any of the actions ${VALID_ACTIONS.join(\n        \", \"\n      )}`\n    );\n  const invalid = lodash_difference_js__WEBPACK_IMPORTED_MODULE_0__(actions, VALID_ACTIONS);\n  if (invalid.length > 0)\n    throw new Error(\n      `Invalid action${invalid.length > 1 ? \"s\" : \"\"} configured for schema type \"${typeName}\": ${invalid.join(\n        \", \"\n      )}. Valid actions are: ${VALID_ACTIONS.join(\", \")}`\n    );\n  return actions;\n}, resolveEnabledActions = (schemaType) => validateActions(schemaType.name, readActions(schemaType)), isActionEnabled = (schemaType, action) => resolveEnabledActions(schemaType).includes(action), documentDefaultFields = (typeName) => ({\n  _id: {\n    type: \"objectAttribute\",\n    value: { type: \"string\" }\n  },\n  _type: {\n    type: \"objectAttribute\",\n    value: { type: \"string\", value: typeName }\n  },\n  _createdAt: {\n    type: \"objectAttribute\",\n    value: { type: \"string\" }\n  },\n  _updatedAt: {\n    type: \"objectAttribute\",\n    value: { type: \"string\" }\n  },\n  _rev: {\n    type: \"objectAttribute\",\n    value: { type: \"string\" }\n  }\n}), typesMap = /* @__PURE__ */ new Map([\n  [\"text\", { type: \"string\" }],\n  [\"url\", { type: \"string\" }],\n  [\"datetime\", { type: \"string\" }],\n  [\"date\", { type: \"string\" }],\n  [\"boolean\", { type: \"boolean\" }],\n  [\"email\", { type: \"string\" }]\n]);\nfunction extractSchema(schemaDef, extractOptions = {}) {\n  const inlineFields = /* @__PURE__ */ new Set(), schema = [];\n  sortByDependencies(schemaDef).forEach((typeName) => {\n    const schemaType = schemaDef.get(typeName);\n    if (schemaType === void 0)\n      return;\n    const base = convertBaseType(schemaType);\n    base !== null && (base.type === \"type\" && inlineFields.add(schemaType), schema.push(base));\n  });\n  function convertBaseType(schemaType) {\n    let typeName;\n    if (schemaType.type ? typeName = schemaType.type.name : \"jsonType\" in schemaType && (typeName = schemaType.jsonType), typeName === \"document\" && isObjectType(schemaType)) {\n      const defaultAttributes = documentDefaultFields(schemaType.name), object2 = createObject(schemaType);\n      return object2.type === \"unknown\" ? null : {\n        name: schemaType.name,\n        type: \"document\",\n        attributes: {\n          ...defaultAttributes,\n          ...object2.attributes\n        }\n      };\n    }\n    const value = convertSchemaType(schemaType);\n    return value.type === \"unknown\" ? null : value.type === \"object\" ? {\n      name: schemaType.name,\n      type: \"type\",\n      value: {\n        type: \"object\",\n        attributes: {\n          _type: {\n            type: \"objectAttribute\",\n            value: {\n              type: \"string\",\n              value: schemaType.name\n            }\n          },\n          ...value.attributes\n        }\n      }\n    } : {\n      name: schemaType.name,\n      type: \"type\",\n      value\n    };\n  }\n  function convertSchemaType(schemaType) {\n    var _a, _b, _c;\n    if (((_a = lastType(schemaType)) == null ? void 0 : _a.name) === \"document\")\n      return (0,groq_js__WEBPACK_IMPORTED_MODULE_9__.createReferenceTypeNode)(schemaType.name);\n    if (inlineFields.has(schemaType.type))\n      return { type: \"inline\", name: schemaType.type.name };\n    if (((_c = (_b = schemaType.type) == null ? void 0 : _b.type) == null ? void 0 : _c.name) === \"object\")\n      return { type: \"inline\", name: schemaType.type.name };\n    if (isStringType(schemaType))\n      return createStringTypeNodeDefintion(schemaType);\n    if (isNumberType(schemaType))\n      return createNumberTypeNodeDefintion(schemaType);\n    if (schemaType.type && typesMap.has(schemaType.type.name))\n      return typesMap.get(schemaType.type.name);\n    if (isCrossDatasetReferenceType(schemaType))\n      return { type: \"unknown\" };\n    if (isReferenceType(schemaType))\n      return createReferenceTypeNodeDefintion(schemaType);\n    if (isArrayType(schemaType))\n      return createArray(schemaType);\n    if (isObjectType(schemaType))\n      return createObject(schemaType);\n    throw new Error(`Type \"${schemaType.name}\" not found`);\n  }\n  function createObject(schemaType) {\n    var _a;\n    const attributes = {}, fields = gatherFields(schemaType);\n    for (const field of fields) {\n      const fieldIsRequired = isFieldRequired(field), value = convertSchemaType(field.type);\n      if (value === null)\n        continue;\n      hasAssetRequired(field) && value.type === \"object\" && (value.attributes.asset.optional = !1);\n      const optional = extractOptions.enforceRequiredFields ? fieldIsRequired === !1 : !0;\n      attributes[field.name] = {\n        type: \"objectAttribute\",\n        value,\n        optional\n      };\n    }\n    return Object.keys(attributes).length === 0 ? { type: \"unknown\" } : (((_a = schemaType.type) == null ? void 0 : _a.name) !== \"document\" && schemaType.name !== \"object\" && (attributes._type = {\n      type: \"objectAttribute\",\n      value: {\n        type: \"string\",\n        value: schemaType.name\n      }\n    }), {\n      type: \"object\",\n      attributes\n    });\n  }\n  function createArray(arraySchemaType) {\n    const of = [];\n    for (const item of arraySchemaType.of) {\n      const field = convertSchemaType(item);\n      field.type === \"inline\" ? of.push({\n        type: \"object\",\n        attributes: {\n          _key: createKeyField()\n        },\n        rest: field\n      }) : (field.type === \"object\" && (field.rest = {\n        type: \"object\",\n        attributes: {\n          _key: createKeyField()\n        }\n      }), of.push(field));\n    }\n    return of.length === 0 ? { type: \"null\" } : {\n      type: \"array\",\n      of: of.length > 1 ? {\n        type: \"union\",\n        of\n      } : of[0]\n    };\n  }\n  return schema;\n}\nfunction createKeyField() {\n  return {\n    type: \"objectAttribute\",\n    value: {\n      type: \"string\"\n    }\n  };\n}\nfunction isFieldRequired(field) {\n  const { validation } = field.type;\n  if (!validation)\n    return !1;\n  const rules = Array.isArray(validation) ? validation : [validation];\n  for (const rule of rules) {\n    let required = !1;\n    const proxy = new Proxy(\n      {},\n      {\n        get: (target, methodName) => () => (methodName === \"required\" && (required = !0), proxy)\n      }\n    );\n    if (typeof rule == \"function\" && (rule(proxy), required) || typeof rule == \"object\" && rule !== null && \"_required\" in rule && rule._required === \"required\")\n      return !0;\n  }\n  return !1;\n}\nfunction hasAssetRequired(field) {\n  const { validation } = field.type;\n  if (!validation)\n    return !1;\n  const rules = Array.isArray(validation) ? validation : [validation];\n  for (const rule of rules) {\n    let assetRequired = !1;\n    const proxy = new Proxy(\n      {},\n      {\n        get: (target, methodName) => () => (methodName === \"assetRequired\" && (assetRequired = !0), proxy)\n      }\n    );\n    if (typeof rule == \"function\" && (rule(proxy), assetRequired) || typeof rule == \"object\" && rule !== null && \"_rules\" in rule && Array.isArray(rule._rules) && rule._rules.some((r) => r.flag === \"assetRequired\"))\n      return !0;\n  }\n  return !1;\n}\nfunction isObjectType(typeDef) {\n  return isType(typeDef, \"object\") || typeDef.jsonType === \"object\" || \"fields\" in typeDef;\n}\nfunction isArrayType(typeDef) {\n  return isType(typeDef, \"array\");\n}\nfunction isReferenceType(typeDef) {\n  return isType(typeDef, \"reference\");\n}\nfunction isCrossDatasetReferenceType(typeDef) {\n  return isType(typeDef, \"crossDatasetReference\");\n}\nfunction isStringType(typeDef) {\n  return isType(typeDef, \"string\");\n}\nfunction isNumberType(typeDef) {\n  return isType(typeDef, \"number\");\n}\nfunction createStringTypeNodeDefintion(stringSchemaType) {\n  var _a;\n  const listOptions = (_a = stringSchemaType.options) == null ? void 0 : _a.list;\n  return listOptions && Array.isArray(listOptions) ? {\n    type: \"union\",\n    of: listOptions.map((v) => ({\n      type: \"string\",\n      value: typeof v == \"string\" ? v : v.value\n    }))\n  } : {\n    type: \"string\"\n  };\n}\nfunction createNumberTypeNodeDefintion(numberSchemaType) {\n  var _a;\n  const listOptions = (_a = numberSchemaType.options) == null ? void 0 : _a.list;\n  return listOptions && Array.isArray(listOptions) ? {\n    type: \"union\",\n    of: listOptions.map((v) => ({\n      type: \"number\",\n      value: typeof v == \"number\" ? v : v.value\n    }))\n  } : {\n    type: \"number\"\n  };\n}\nfunction createReferenceTypeNodeDefintion(reference2) {\n  const references = gatherReferenceNames(reference2);\n  return references.length === 1 ? (0,groq_js__WEBPACK_IMPORTED_MODULE_9__.createReferenceTypeNode)(references[0]) : {\n    type: \"union\",\n    of: references.map((name) => (0,groq_js__WEBPACK_IMPORTED_MODULE_9__.createReferenceTypeNode)(name))\n  };\n}\nfunction gatherReferenceNames(type) {\n  const allReferences = gatherReferenceTypes(type);\n  return [.../* @__PURE__ */ new Set([...allReferences.map((ref) => ref.name)])];\n}\nfunction gatherReferenceTypes(type) {\n  const refTo = \"to\" in type ? type.to : [];\n  return \"type\" in type && isReferenceType(type.type) ? [...gatherReferenceTypes(type.type), ...refTo] : refTo;\n}\nfunction gatherFields(type) {\n  return \"fields\" in type ? type.type ? gatherFields(type.type).concat(type.fields) : type.fields : [];\n}\nfunction isType(typeDef, typeName) {\n  let type = typeDef;\n  for (; type; ) {\n    if (type.name === typeName || type.type && type.type.name === typeName)\n      return !0;\n    type = type.type;\n  }\n  return !1;\n}\nfunction lastType(typeDef) {\n  let type = typeDef;\n  for (; type; ) {\n    if (!type.type)\n      return type;\n    type = type.type;\n  }\n}\nfunction sortByDependencies(compiledSchema) {\n  const seen = /* @__PURE__ */ new Set();\n  function walkDependencies(schemaType, dependencies) {\n    if (!seen.has(schemaType)) {\n      if (seen.add(schemaType), \"fields\" in schemaType)\n        for (const field of gatherFields(schemaType)) {\n          const last = lastType(field.type);\n          if (last.name === \"document\") {\n            dependencies.add(last);\n            continue;\n          }\n          let schemaTypeName;\n          schemaType.type.type ? schemaTypeName = field.type.type.name : \"jsonType\" in schemaType.type && (schemaTypeName = field.type.jsonType), (schemaTypeName === \"object\" || schemaTypeName === \"block\") && (isReferenceType(field.type) ? field.type.to.forEach((ref) => dependencies.add(ref.type)) : dependencies.add(field.type)), walkDependencies(field.type, dependencies);\n        }\n      else if (\"of\" in schemaType)\n        for (const item of schemaType.of)\n          walkDependencies(item, dependencies);\n    }\n  }\n  const dependencyMap = /* @__PURE__ */ new Map();\n  compiledSchema.getTypeNames().forEach((typeName) => {\n    const schemaType = compiledSchema.get(typeName);\n    if (schemaType === void 0 || schemaType.type === null)\n      return;\n    const dependencies = /* @__PURE__ */ new Set();\n    walkDependencies(schemaType, dependencies), dependencyMap.set(schemaType, dependencies), seen.clear();\n  });\n  const typeNames = [], currentlyVisiting = /* @__PURE__ */ new Set(), visited = /* @__PURE__ */ new Set();\n  function visit(type) {\n    if (visited.has(type) || currentlyVisiting.has(type))\n      return;\n    currentlyVisiting.add(type);\n    const deps = dependencyMap.get(type);\n    deps !== void 0 && deps.forEach((dep) => visit(dep)), currentlyVisiting.delete(type), visited.add(type), typeNames.includes(type.name) || typeNames.unshift(type.name);\n  }\n  for (const [type] of dependencyMap)\n    visit(type);\n  return typeNames;\n}\nconst HELP_IDS = {\n  TYPE_INVALID: \"schema-type-invalid\",\n  TYPE_IS_ESM_MODULE: \"schema-type-is-esm-module\",\n  TYPE_NAME_RESERVED: \"schema-type-name-reserved\",\n  TYPE_MISSING_NAME: \"schema-type-missing-name-or-type\",\n  TYPE_MISSING_TYPE: \"schema-type-missing-name-or-type\",\n  TYPE_TITLE_RECOMMENDED: \"schema-type-title-is-recommended\",\n  TYPE_TITLE_INVALID: \"schema-type-title-is-recommended\",\n  OBJECT_FIELDS_INVALID: \"schema-object-fields-invalid\",\n  OBJECT_FIELD_NOT_UNIQUE: \"schema-object-fields-invalid\",\n  OBJECT_FIELD_NAME_INVALID: \"schema-object-fields-invalid\",\n  OBJECT_FIELD_DEFINITION_INVALID_TYPE: \"schema-object-fields-invalid\",\n  ARRAY_PREDEFINED_CHOICES_INVALID: \"schema-predefined-choices-invalid\",\n  ARRAY_OF_ARRAY: \"schema-array-of-array\",\n  ARRAY_OF_INVALID: \"schema-array-of-invalid\",\n  ARRAY_OF_NOT_UNIQUE: \"schema-array-of-invalid\",\n  ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT: \"schema-array-of-type-global-type-conflict\",\n  ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT: \"schema-array-of-type-builtin-type-conflict\",\n  REFERENCE_TO_INVALID: \"schema-reference-to-invalid\",\n  REFERENCE_TO_NOT_UNIQUE: \"schema-reference-to-invalid\",\n  REFERENCE_INVALID_OPTIONS: \"schema-reference-invalid-options\",\n  REFERENCE_INVALID_OPTIONS_LOCATION: \"schema-reference-options-nesting\",\n  REFERENCE_INVALID_FILTER_PARAMS_COMBINATION: \"schema-reference-filter-params-combination\",\n  SLUG_SLUGIFY_FN_RENAMED: \"slug-slugifyfn-renamed\",\n  ASSET_METADATA_FIELD_INVALID: \"asset-metadata-field-invalid\",\n  CROSS_DATASET_REFERENCE_INVALID: \"cross-dataset-reference-invalid\",\n  DEPRECATED_BLOCKEDITOR_KEY: \"schema-deprecated-blockeditor-key\",\n  STANDALONE_BLOCK_TYPE: \"schema-standalone-block-type\"\n};\nfunction createValidationResult(severity, message, helpId) {\n  if (helpId && !Object.keys(HELP_IDS).some((id) => HELP_IDS[id] === helpId))\n    throw new Error(\n      `Used the unknown helpId \"${helpId}\", please add it to the array in createValidationResult.js`\n    );\n  return {\n    severity,\n    message,\n    helpId\n  };\n}\nconst error = (message, helpId) => createValidationResult(\"error\", message, helpId), warning = (message, helpId) => createValidationResult(\"warning\", message, helpId);\nfunction groupProblems(types) {\n  return lodash_flatten_js__WEBPACK_IMPORTED_MODULE_1__(types.map((type) => getTypeProblems(type))).filter(\n    (type) => type.problems.length > 0\n  );\n}\nfunction createTypeWithMembersProblemsAccessor(memberPropertyName, getMembers = (type) => lodash_get_js__WEBPACK_IMPORTED_MODULE_2__(type, memberPropertyName)) {\n  return function(type, parentPath) {\n    const currentPath = [\n      ...parentPath,\n      { kind: \"type\", type: type.type, name: type.name }\n    ], members = getMembers(type) || [], memberProblems = Array.isArray(members) ? members.map((memberType) => {\n      const propertySegment = {\n        kind: \"property\",\n        name: memberPropertyName\n      }, memberPath = [...currentPath, propertySegment];\n      return getTypeProblems(memberType, memberPath);\n    }) : [\n      [\n        {\n          path: currentPath,\n          problems: [error(`Member declaration (${memberPropertyName}) is not an array`)]\n        }\n      ]\n    ];\n    return [\n      {\n        path: currentPath,\n        problems: type._problems || []\n      },\n      ...lodash_flatten_js__WEBPACK_IMPORTED_MODULE_1__(memberProblems)\n    ];\n  };\n}\nconst arrify = (val) => Array.isArray(val) ? val : typeof val > \"u\" && [] || [val], getObjectProblems = createTypeWithMembersProblemsAccessor(\"fields\"), getImageProblems = createTypeWithMembersProblemsAccessor(\"fields\"), getFileProblems = createTypeWithMembersProblemsAccessor(\"fields\"), getArrayProblems = createTypeWithMembersProblemsAccessor(\"of\"), getReferenceProblems = createTypeWithMembersProblemsAccessor(\n  \"to\",\n  (type) => \"to\" in type ? arrify(type.to) : []\n), getBlockAnnotationProblems = createTypeWithMembersProblemsAccessor(\"marks.annotations\"), getBlockMemberProblems = createTypeWithMembersProblemsAccessor(\"of\"), getBlockProblems = (type, problems) => [\n  ...getBlockAnnotationProblems(type, problems),\n  ...getBlockMemberProblems(type, problems)\n];\nfunction getDefaultProblems(type, path = []) {\n  return [\n    {\n      path: [...path, { kind: \"type\", type: type.type, name: type.name }],\n      problems: type._problems || []\n    }\n  ];\n}\nfunction getTypeProblems(type, path = []) {\n  switch (type.type) {\n    case \"object\":\n      return getObjectProblems(type, path);\n    case \"document\":\n      return getObjectProblems(type, path);\n    case \"array\":\n      return getArrayProblems(type, path);\n    case \"reference\":\n      return getReferenceProblems(type, path);\n    case \"block\":\n      return getBlockProblems(type, path);\n    case \"image\":\n      return getImageProblems(type, path);\n    case \"file\":\n      return getFileProblems(type, path);\n    default:\n      return getDefaultProblems(type, path);\n  }\n}\nfunction getDupes(array2, selector = (v) => v) {\n  const dupes = array2.reduce((acc, item) => {\n    const key = selector(item);\n    return acc[key] || (acc[key] = []), acc[key].push(item), acc;\n  }, {});\n  return Object.keys(dupes).map((key) => dupes[key].length > 1 ? dupes[key] : null).filter(Boolean);\n}\nconst NOOP_VISITOR = (typeDef) => typeDef, TYPE_TYPE = { name: \"type\", type: null }, FUTURE_RESERVED = [\"any\", \"time\", \"date\"];\nfunction traverseSchema(types = [], coreTypes2 = [], visitor = NOOP_VISITOR) {\n  const coreTypesRegistry = /* @__PURE__ */ Object.create(null), registry = /* @__PURE__ */ Object.create(null), coreTypeNames2 = coreTypes2.map((typeDef) => typeDef.name), reservedTypeNames = FUTURE_RESERVED.concat(coreTypeNames2), typeNames = types.map((typeDef) => typeDef && typeDef.name).filter(Boolean);\n  coreTypes2.forEach((coreType) => {\n    coreTypesRegistry[coreType.name] = coreType;\n  }), types.forEach((type, i) => {\n    registry[type && type.name || `__unnamed_${i}`] = {};\n  });\n  function getType(typeName) {\n    return typeName === \"type\" ? TYPE_TYPE : coreTypesRegistry[typeName] || registry[typeName] || null;\n  }\n  const duplicateNames = lodash_uniq_js__WEBPACK_IMPORTED_MODULE_3__(lodash_flatten_js__WEBPACK_IMPORTED_MODULE_1__(getDupes(typeNames)));\n  function isDuplicate(typeName) {\n    return duplicateNames.includes(typeName);\n  }\n  function getTypeNames() {\n    return typeNames.concat(coreTypeNames2);\n  }\n  function isReserved(typeName) {\n    return typeName === \"type\" || reservedTypeNames.includes(typeName);\n  }\n  const visitType = (isRoot) => (typeDef, index) => visitor(typeDef, {\n    visit: visitType(!1),\n    isRoot,\n    getType,\n    getTypeNames,\n    isReserved,\n    isDuplicate,\n    index\n  });\n  return coreTypes2.forEach((coreTypeDef) => {\n    Object.assign(coreTypesRegistry[coreTypeDef.name], visitType(coreTypeDef));\n  }), types.forEach((typeDef, i) => {\n    Object.assign(\n      registry[typeDef && typeDef.name || `__unnamed_${i}`],\n      visitType(!0)(typeDef, i)\n    );\n  }), {\n    get(typeName) {\n      const res = registry[typeName] || coreTypesRegistry[typeName];\n      if (res)\n        return res;\n      throw new Error(`No such type: ${typeName}`);\n    },\n    has(typeName) {\n      return typeName in registry || typeName in coreTypesRegistry;\n    },\n    getTypeNames() {\n      return Object.keys(registry);\n    },\n    getTypes() {\n      return this.getTypeNames().map(this.get);\n    },\n    toJSON() {\n      return this.getTypes();\n    }\n  };\n}\nconst coreTypes = [\n  { name: \"array\", jsonType: \"array\", type: \"type\" },\n  { name: \"block\", jsonType: \"object\", type: \"type\" },\n  { name: \"boolean\", jsonType: \"boolean\", type: \"type\" },\n  { name: \"datetime\", jsonType: \"string\", type: \"type\" },\n  { name: \"date\", jsonType: \"string\", type: \"type\" },\n  { name: \"document\", jsonType: \"object\", type: \"type\" },\n  { name: \"email\", jsonType: \"string\", type: \"type\" },\n  { name: \"file\", jsonType: \"object\", type: \"type\" },\n  { name: \"geopoint\", jsonType: \"object\", type: \"type\" },\n  { name: \"image\", jsonType: \"object\", type: \"type\" },\n  { name: \"number\", jsonType: \"number\", type: \"type\" },\n  { name: \"object\", jsonType: \"object\", type: \"type\" },\n  { name: \"reference\", jsonType: \"object\", type: \"type\" },\n  { name: \"crossDatasetReference\", jsonType: \"object\", type: \"type\" },\n  { name: \"slug\", jsonType: \"object\", type: \"type\" },\n  { name: \"span\", jsonType: \"object\", type: \"type\" },\n  { name: \"string\", jsonType: \"string\", type: \"type\" },\n  { name: \"telephone\", jsonType: \"string\", type: \"type\" },\n  { name: \"text\", jsonType: \"string\", type: \"type\" },\n  { name: \"url\", jsonType: \"string\", type: \"type\" }\n], coreTypeNames = coreTypes.map((t) => t.name);\nfunction traverseSanitySchema(schemaTypes, visitor) {\n  return traverseSchema(schemaTypes, coreTypes, visitor);\n}\nfunction isPrimitiveTypeName(typeName) {\n  return typeName === \"string\" || typeName === \"number\" || typeName === \"boolean\";\n}\nfunction isAssignable(typeName, type) {\n  return (typeof type.name == \"string\" ? type.name : type.type) === typeName;\n}\nfunction quote$2(n) {\n  return `\"${n}\"`;\n}\nfunction pluralize(arr, suf = \"s\") {\n  return arr.length === 1 ? \"\" : suf;\n}\nfunction format(value) {\n  return Array.isArray(value) ? `array with ${value.length} entries` : typeof value == \"object\" && value !== null ? `object with keys ${humanize_list__WEBPACK_IMPORTED_MODULE_4__(Object.keys(value).map(quote$2))}` : quote$2(value);\n}\nvar array = (typeDef, visitorContext) => {\n  var _a, _b, _c;\n  const ofIsArray = Array.isArray(typeDef.of);\n  if (ofIsArray) {\n    const invalid = typeDef.of.reduce((errs, def, idx) => {\n      if (typeof def.name == \"string\" && // specifying the same name as the type is redundant, but should not be a hard error at this point\n      // Consider showing a warning for this and deprecate this ability eventually\n      def.name !== def.type && coreTypeNames.includes(def.name))\n        return errs.concat(\n          error(\n            `Found array member declaration with the same type name as a built-in type (\"${def.name}\"). Array members can not be given the same name as a built-in type.`,\n            HELP_IDS.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT\n          )\n        );\n      if (def.type === \"object\" && def.name && visitorContext.getType(def.name))\n        return errs.concat(\n          warning(\n            `Found array member declaration with the same name as the global schema type \"${def.name}\". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`,\n            HELP_IDS.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT\n          )\n        );\n      if (def.type === \"array\")\n        return errs.concat(\n          error(\n            'Found array member declaration of type \"array\" - multidimensional arrays are not currently supported by Sanity',\n            HELP_IDS.ARRAY_OF_ARRAY\n          )\n        );\n      if (def)\n        return errs;\n      const err = `Found ${def === null ? \"null\" : typeof def}, expected member declaration`;\n      return errs.concat(\n        error(\n          `Found invalid type member declaration in array at index ${idx}: ${err}`,\n          HELP_IDS.ARRAY_OF_INVALID\n        )\n      );\n    }, []);\n    if (invalid.length > 0)\n      return {\n        ...typeDef,\n        of: [],\n        _problems: invalid\n      };\n  }\n  const problems = lodash_flatten_js__WEBPACK_IMPORTED_MODULE_1__([\n    ofIsArray ? getDupes(typeDef.of, (t) => `${t.name};${t.type}`).map(\n      (dupes) => error(\n        `Found ${dupes.length} members with same type, but not unique names \"${dupes[0].type}\" in array. This makes it impossible to tell their values apart and you should consider naming them`,\n        HELP_IDS.ARRAY_OF_NOT_UNIQUE\n      )\n    ) : error(\n      'The array type is missing or having an invalid value for the required \"of\" property',\n      HELP_IDS.ARRAY_OF_INVALID\n    )\n  ]), of = ofIsArray ? typeDef.of : [], hasObjectTypesWithoutName = of.some(\n    (type) => type.type === \"object\" && typeof type.name > \"u\"\n  );\n  of.some((ofType) => ofType.type === \"block\") && hasObjectTypesWithoutName && problems.push(\n    error(\n      \"The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.\",\n      HELP_IDS.ARRAY_OF_INVALID\n    )\n  );\n  const [primitiveTypes, objectTypes] = lodash_partition_js__WEBPACK_IMPORTED_MODULE_5__(\n    of,\n    (ofType) => {\n      var _a2;\n      return isPrimitiveTypeName(ofType.type) || isPrimitiveTypeName((_a2 = visitorContext.getType(ofType.type)) == null ? void 0 : _a2.jsonType);\n    }\n  ), isMixedArray = primitiveTypes.length > 0 && objectTypes.length > 0;\n  if (isMixedArray) {\n    const primitiveTypeNames = primitiveTypes.map((t) => t.type), objectTypeNames = objectTypes.map((t) => t.type);\n    problems.push(\n      error(\n        `The array type's 'of' property can't have both object types and primitive types (found primitive type ${pluralize(\n          primitiveTypeNames\n        )} ${humanize_list__WEBPACK_IMPORTED_MODULE_4__(primitiveTypeNames.map(quote$2))} and object type${pluralize(\n          objectTypeNames\n        )} ${humanize_list__WEBPACK_IMPORTED_MODULE_4__(objectTypeNames.map(quote$2))})`,\n        HELP_IDS.ARRAY_OF_INVALID\n      )\n    );\n  }\n  const list = (_a = typeDef == null ? void 0 : typeDef.options) == null ? void 0 : _a.list;\n  return !isMixedArray && Array.isArray(list) && (primitiveTypes.length > 0 ? list.forEach((option) => {\n    var _a2;\n    const value = (_a2 = option == null ? void 0 : option.value) != null ? _a2 : option;\n    if (!primitiveTypes.some((primitiveType) => typeof value === visitorContext.getType(primitiveType.type).jsonType)) {\n      const formattedTypeList = humanize_list__WEBPACK_IMPORTED_MODULE_4__(\n        primitiveTypes.map((t) => t.name || t.type),\n        { conjunction: \"or\" }\n      );\n      problems.push(\n        error(\n          `An invalid entry found in options.list: ${format(\n            value\n          )}. Must be either a value of type ${formattedTypeList}, or an object with {title: string, value: ${formattedTypeList}}`,\n          HELP_IDS.ARRAY_PREDEFINED_CHOICES_INVALID\n        )\n      );\n    }\n  }) : list.forEach((option) => {\n    const optionTypeName = option._type || \"object\";\n    objectTypes.some(\n      (validObjectType) => isAssignable(optionTypeName, validObjectType)\n    ) || problems.push(\n      error(\n        `An invalid entry found in options.list: ${format(\n          option\n        )}. Must be an object with \"_type\" set to ${humanize_list__WEBPACK_IMPORTED_MODULE_4__(\n          objectTypes.map((t) => t.name || t.type).map((t) => t === \"object\" ? \"undefined\" : quote$2(t)),\n          { conjunction: \"or\" }\n        )}`,\n        HELP_IDS.ARRAY_PREDEFINED_CHOICES_INVALID\n      )\n    );\n  })), (_b = typeDef == null ? void 0 : typeDef.options) != null && _b.list && ((_c = typeDef == null ? void 0 : typeDef.options) == null ? void 0 : _c.layout) === \"tags\" && problems.push(\n    warning(\n      \"Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.\"\n    )\n  ), {\n    ...typeDef,\n    of: of.map(visitorContext.visit),\n    _problems: problems\n  };\n};\nfunction isJSONTypeOf(type, jsonType, visitorContext) {\n  if (\"jsonType\" in type)\n    return type.jsonType === jsonType;\n  const parentType = visitorContext.getType(type.type);\n  if (!parentType)\n    throw new Error(`Could not resolve jsonType of ${type.name}. No parent type found`);\n  return isJSONTypeOf(parentType, jsonType, visitorContext);\n}\nconst getTypeOf = (thing) => Array.isArray(thing) ? \"array\" : typeof thing, quote$1 = (str) => `\"${str}\"`, allowedKeys = [\n  \"components\",\n  \"lists\",\n  \"marks\",\n  \"name\",\n  \"of\",\n  \"options\",\n  \"styles\",\n  \"title\",\n  \"type\",\n  \"validation\"\n], allowedMarkKeys = [\"decorators\", \"annotations\"], allowedStyleKeys = [\"blockEditor\", \"title\", \"value\", \"icon\", \"component\"], allowedDecoratorKeys = [\"blockEditor\", \"title\", \"value\", \"icon\", \"component\"], allowedListKeys = [\"title\", \"value\", \"icon\", \"component\"], supportedBuiltInObjectTypes = [\"file\", \"image\", \"object\", \"reference\"];\nfunction validateBlockType(typeDef, visitorContext) {\n  const problems = [];\n  let styles = typeDef.styles, lists = typeDef.lists, marks = typeDef.marks, members = typeDef.of;\n  const disallowedKeys = Object.keys(typeDef).filter(\n    (key) => !allowedKeys.includes(key) && !key.startsWith(\"_\")\n  );\n  return disallowedKeys.length > 0 && problems.push(\n    error(\n      `Found unknown properties for block declaration: ${humanize_list__WEBPACK_IMPORTED_MODULE_4__(\n        disallowedKeys.map(quote$1)\n      )}`\n    )\n  ), marks && (marks = validateMarks(typeDef.marks, visitorContext, problems)), styles && (styles = validateStyles(styles, visitorContext, problems)), lists && (lists = validateLists(lists, visitorContext, problems)), members && (members = validateMembers(members, visitorContext, problems)), {\n    ...lodash_omit_js__WEBPACK_IMPORTED_MODULE_7__(typeDef, disallowedKeys),\n    marks,\n    styles,\n    name: typeDef.name || typeDef.type,\n    of: members,\n    _problems: problems\n  };\n}\nfunction validateMarks(marks, visitorContext, problems) {\n  let decorators = marks.decorators, annotations = marks.annotations;\n  if (!lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(marks))\n    return problems.push(error(`\"marks\" declaration should be an object, got ${getTypeOf(marks)}`)), problems;\n  const disallowedMarkKeys = Object.keys(marks).filter(\n    (key) => !allowedMarkKeys.includes(key) && !key.startsWith(\"_\")\n  );\n  return disallowedMarkKeys.length > 0 && problems.push(\n    error(\n      `Found unknown properties for block declaration: ${humanize_list__WEBPACK_IMPORTED_MODULE_4__(\n        disallowedMarkKeys.map(quote$1)\n      )}`\n    )\n  ), decorators && !Array.isArray(decorators) ? problems.push(\n    error(`\"marks.decorators\" declaration should be an array, got ${getTypeOf(decorators)}`)\n  ) : decorators && (decorators.filter((dec) => !!dec.blockEditor).forEach((dec) => {\n    dec.icon = dec.blockEditor.icon, dec.component = dec.blockEditor.render;\n  }), decorators = validateDecorators(decorators, visitorContext, problems)), annotations && !Array.isArray(annotations) ? problems.push(\n    error(`\"marks.annotations\" declaration should be an array, got ${getTypeOf(annotations)}`)\n  ) : annotations && (annotations = validateAnnotations(annotations, visitorContext, problems)), { ...marks, decorators, annotations };\n}\nfunction validateLists(lists, visitorContext, problems) {\n  return Array.isArray(lists) ? (lists.forEach((list, index) => {\n    if (!lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(list)) {\n      problems.push(error(`List must be an object, got ${getTypeOf(list)}`));\n      return;\n    }\n    const name = list.value || `#${index}`, disallowedKeys = Object.keys(list).filter(\n      (key) => !allowedListKeys.includes(key) && !key.startsWith(\"_\")\n    );\n    disallowedKeys.length > 0 && problems.push(\n      error(\n        `Found unknown properties for list ${name}: ${humanize_list__WEBPACK_IMPORTED_MODULE_4__(disallowedKeys.map(quote$1))}`\n      )\n    ), list.value ? typeof list.value != \"string\" ? problems.push(\n      error(\n        `List type #${index} has an invalid \"value\" property, expected string, got ${getTypeOf(\n          list.value\n        )}`\n      )\n    ) : list.title || problems.push(warning(`List type ${name} is missing recommended \"title\" property`)) : problems.push(error(`List #${index} is missing required \"value\" property`));\n  }), lists) : (problems.push(error(`\"lists\" declaration should be an array, got ${getTypeOf(lists)}`)), problems);\n}\nfunction validateStyles(styles, visitorContext, problems) {\n  return Array.isArray(styles) ? (styles.forEach((style, index) => {\n    if (!lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(style)) {\n      problems.push(error(`Style must be an object, got ${getTypeOf(style)}`));\n      return;\n    }\n    const name = style.value || `#${index}`, disallowedKeys = Object.keys(style).filter(\n      (key) => !allowedStyleKeys.includes(key) && !key.startsWith(\"_\")\n    );\n    disallowedKeys.length > 0 && problems.push(\n      error(\n        `Found unknown properties for style ${name}: ${humanize_list__WEBPACK_IMPORTED_MODULE_4__(disallowedKeys.map(quote$1))}`\n      )\n    ), style.value ? typeof style.value != \"string\" ? problems.push(\n      error(\n        `Style #${index} has an invalid \"value\" property, expected string, got ${getTypeOf(\n          style.value\n        )}`\n      )\n    ) : style.title || problems.push(warning(`Style ${name} is missing recommended \"title\" property`)) : problems.push(error(`Style #${index} is missing required \"value\" property`)), typeof style.blockEditor < \"u\" && (problems.push(\n      warning(\n        'Style has deprecated key \"blockEditor\", please refer to the documentation on how to configure the block type for version 3.',\n        HELP_IDS.DEPRECATED_BLOCKEDITOR_KEY\n      )\n    ), style.component = style.component || style.blockEditor.render);\n  }), styles) : (problems.push(error(`\"styles\" declaration should be an array, got ${getTypeOf(styles)}`)), problems);\n}\nfunction validateDecorators(decorators, visitorContext, problems) {\n  return decorators.forEach((decorator, index) => {\n    if (!lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(decorator)) {\n      problems.push(error(`Annotation must be an object, got ${getTypeOf(decorator)}`));\n      return;\n    }\n    const name = decorator.value || `#${index}`, disallowedKeys = Object.keys(decorator).filter(\n      (key) => !allowedDecoratorKeys.includes(key) && !key.startsWith(\"_\")\n    );\n    disallowedKeys.length > 0 && problems.push(\n      error(\n        `Found unknown properties for decorator ${name}: ${humanize_list__WEBPACK_IMPORTED_MODULE_4__(\n          disallowedKeys.map(quote$1)\n        )}`\n      )\n    ), decorator.value ? typeof decorator.value != \"string\" ? problems.push(\n      error(\n        `Decorator #${index} has an invalid \"value\" property, expected string, got ${getTypeOf(\n          decorator.value\n        )}`\n      )\n    ) : decorator.title || problems.push(warning(`Decorator ${name} is missing recommended \"title\" property`)) : problems.push(error(`Decorator #${index} is missing required \"value\" property`)), typeof decorator.blockEditor < \"u\" && (problems.push(\n      warning(\n        `Decorator \"${name}\" has deprecated key \"blockEditor\", please refer to the documentation on how to configure the block type for version 3.`,\n        HELP_IDS.DEPRECATED_BLOCKEDITOR_KEY\n      )\n    ), decorator.icon = decorator.icon || decorator.blockEditor.icon, decorator.component = decorator.component || decorator.blockEditor.render);\n  }), decorators;\n}\nfunction validateAnnotations(annotations, visitorContext, problems) {\n  return annotations.map((annotation) => {\n    var _a, _b;\n    if (!lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(annotation))\n      return {\n        ...annotation,\n        _problems: [error(`Annotation must be an object, got ${getTypeOf(annotation)}`)]\n      };\n    const { _problems } = visitorContext.visit(annotation, visitorContext), targetType = annotation.type && visitorContext.getType(annotation.type);\n    return targetType && !isJSONTypeOf(targetType, \"object\", visitorContext) && _problems.push(\n      error(\n        `Annotation cannot have type \"${annotation.type}\" - annotation types must inherit from object`\n      )\n    ), typeof annotation.blockEditor < \"u\" && (problems.push(\n      warning(\n        'Annotation has deprecated key \"blockEditor\", please refer to the documentation on how to configure the block type for version 3.',\n        HELP_IDS.DEPRECATED_BLOCKEDITOR_KEY\n      )\n    ), annotation.icon = annotation.icon || annotation.blockEditor.icon, (_a = annotation.blockEditor) != null && _a.render && !((_b = annotation.components) != null && _b.annotation) && (annotation.components = annotation.components || {}, annotation.components.annotation = annotation.components.annotation || annotation.blockEditor.render)), { ...annotation, _problems };\n  });\n}\nfunction validateMembers(members, visitorContext, problems) {\n  if (!Array.isArray(members)) {\n    problems.push(error(`\"of\" declaration should be an array, got ${getTypeOf(members)}`));\n    return;\n  }\n  return members.map((member) => {\n    const { _problems } = visitorContext.visit(member, visitorContext);\n    if (member.type === \"object\" && member.name && visitorContext.getType(member.name))\n      return {\n        ...member,\n        _problems: [\n          warning(\n            `Found array member declaration with the same name as the global schema type \"${member.name}\". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`,\n            HELP_IDS.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT\n          )\n        ]\n      };\n    let type = member;\n    for (; type && !type.jsonType; )\n      type = visitorContext.getType(type.type);\n    const nonObjectCoreTypes = coreTypeNames.filter((n) => !supportedBuiltInObjectTypes.includes(n));\n    return (\n      // Must be object-like type (to validate hoisted types)\n      type && type.jsonType !== \"object\" || // Can't be a core type, or core object type that isn't supported (like 'span')\n      nonObjectCoreTypes.some((coreName) => coreName === member.type) ? {\n        ...member,\n        _problems: [\n          error(\n            `Block member types must be a supported object-like type. The following built-in types are supported: '${supportedBuiltInObjectTypes.join(\n              \"', '\"\n            )}'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}`,\n            HELP_IDS.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT\n          )\n        ]\n      } : { ...member, _problems }\n    );\n  });\n}\nfunction validateNonObjectFieldsProp(typeDef, visitorContext) {\n  if (!(\"fields\" in typeDef))\n    return [];\n  let type = typeDef;\n  for (; type && !type.jsonType; )\n    type = visitorContext.getType(type.type);\n  return type && type.jsonType !== \"object\" ? [error('Type has propery \"fields\", but is not an object/document type.')] : [];\n}\nconst quote = (str) => `\"${str}\"`;\nfunction validateTypeName(typeName, visitorContext) {\n  const possibleTypeNames = visitorContext.getTypeNames();\n  if (!typeName)\n    return [error(\"Type is missing a type.\", HELP_IDS.TYPE_MISSING_TYPE)];\n  if (typeof typeName != \"string\")\n    return [\n      error(\n        'Type has an invalid \"type\"-property - should be a string.',\n        HELP_IDS.TYPE_MISSING_TYPE\n      )\n    ];\n  if (!possibleTypeNames.includes(typeName)) {\n    const suggestions = possibleTypeNames.map((possibleTypeName) => [leven__WEBPACK_IMPORTED_MODULE_8__(typeName, possibleTypeName), possibleTypeName]).filter(([distance]) => distance < 3).map(([_, name]) => name), suggestion = suggestions.length > 0 ? ` Did you mean ${humanize_list__WEBPACK_IMPORTED_MODULE_4__(suggestions.map(quote), { conjunction: \"or\" })}?` : \"\";\n    return [error(`Unknown type: ${typeName}.${suggestion}`)];\n  }\n  return [];\n}\nfunction validateDeprecatedProperties(type) {\n  var _a, _b, _c;\n  const warnings = [];\n  return type != null && type.inputComponent && warnings.push(\n    warning('The \"inputComponent\" property is deprecated. Use \"components.input\" instead.')\n  ), (_a = type == null ? void 0 : type.preview) != null && _a.component && warnings.push(\n    warning('The \"preview.component\" property is deprecated. Use \"components.preview\" instead.')\n  ), type != null && type.diffComponent && warnings.push(\n    warning('The \"diffComponent\" property is deprecated. Use \"components.diff\" instead.')\n  ), (_b = type == null ? void 0 : type.options) != null && _b.editModal && warnings.push(\n    warning('The \"options.editModal\" property is deprecated. Use \"options.modal\" instead.')\n  ), (_c = type == null ? void 0 : type.options) != null && _c.isHighlighted && warnings.push(\n    warning(\n      'The \"options.isHighlighted\" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.'\n    )\n  ), warnings;\n}\nvar common = (typeDef, visitorContext) => ({\n  ...typeDef,\n  _problems: [\n    ...validateTypeName(typeDef.type, visitorContext),\n    ...validateNonObjectFieldsProp(typeDef, visitorContext),\n    ...validateDeprecatedProperties(typeDef)\n  ].filter(Boolean)\n});\nfunction normalizeToProp$1(typeDef) {\n  return Array.isArray(typeDef.to) ? typeDef.to : typeDef.to ? [typeDef.to] : typeDef.to;\n}\nconst VALID_DATASET = /^[a-z0-9~][-_a-z0-9]+$/;\nfunction isValidDatasetName(name) {\n  return name.length >= 2 && name.toLowerCase() === name && VALID_DATASET.test(name) || `The provided dataset \"${name}\" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`;\n}\nvar crossDatasetReference = (typeDef, visitorContext) => {\n  const isValidTo = Array.isArray(typeDef.to) || lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(typeDef.to), normalizedTo = normalizeToProp$1(typeDef), problems = lodash_flatten_js__WEBPACK_IMPORTED_MODULE_1__([\n    isValidTo ? getDupes(normalizedTo, (t) => `${t.name};${t.type}`).map(\n      (dupes) => error(\n        `Found ${dupes.length} members with same type, but not unique names \"${dupes[0].type}\" in reference. This makes it impossible to tell their values apart and you should consider naming them`,\n        HELP_IDS.CROSS_DATASET_REFERENCE_INVALID\n      )\n    ) : error(\n      'The cross dataset reference type is missing or having an invalid value for the required \"to\" property. It should be an array of accepted types.',\n      HELP_IDS.CROSS_DATASET_REFERENCE_INVALID\n    )\n  ]);\n  if (isValidTo && normalizedTo.length === 0 && problems.push(\n    error(\n      'The cross dataset reference type should define at least one referenced type. Please check the \"to\" property.',\n      HELP_IDS.CROSS_DATASET_REFERENCE_INVALID\n    )\n  ), normalizedTo.forEach((crossDatasetTypeDef, index) => {\n    crossDatasetTypeDef.type || problems.push(\n      error(\n        `The referenced type at index ${index} must be named. Specify the name of the type you want to create references to.`,\n        HELP_IDS.CROSS_DATASET_REFERENCE_INVALID\n      )\n    ), lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(crossDatasetTypeDef.preview) || problems.push(\n      error(\n        `Missing required preview config for the referenced type \"${crossDatasetTypeDef.type || \"<unknown type>\"}\"`,\n        HELP_IDS.CROSS_DATASET_REFERENCE_INVALID\n      )\n    );\n  }), typeof typeDef.dataset == \"string\") {\n    const datasetValidation = isValidDatasetName(typeDef.dataset);\n    datasetValidation !== !0 && problems.push(error(datasetValidation, HELP_IDS.CROSS_DATASET_REFERENCE_INVALID));\n  } else\n    problems.push(\n      error(\n        \"A cross dataset reference must specify a `dataset`\",\n        HELP_IDS.CROSS_DATASET_REFERENCE_INVALID\n      )\n    );\n  return typeDef.studioUrl && typeof typeDef.studioUrl != \"function\" && problems.push(\n    error(\n      'The \"studioUrl\" property on a cross dataset reference must be a function taking \"{id, type}\" as argument and returning a studio url.',\n      HELP_IDS.CROSS_DATASET_REFERENCE_INVALID\n    )\n  ), problems.push(...getOptionErrors$1(typeDef)), {\n    ...typeDef,\n    _problems: problems\n  };\n};\nfunction getOptionErrors$1(typeDef) {\n  const { options } = typeDef, problems = [];\n  return problems.push(\n    ...[\"filter\", \"filterParams\"].filter((key) => key in typeDef).map(\n      (key) => error(\n        `\\`${key}\\` is not allowed on a reference type definition - did you mean \\`options.${key}\\`?`,\n        HELP_IDS.REFERENCE_INVALID_OPTIONS_LOCATION\n      )\n    )\n  ), options ? lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(options) ? typeof options.filter == \"function\" && typeof options.filterParams < \"u\" ? problems.concat(\n    error(\n      \"`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.\",\n      HELP_IDS.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION\n    )\n  ) : typeof options.filter == \"function\" || !options.filter && !options.filterParams ? problems : typeof options.filter != \"string\" ? problems.concat(\n    error(`If set, \\`filter\\` must be a string. Got ${typeof options.filter}`)\n  ) : typeof options.filterParams < \"u\" && !lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(options.filterParams) ? problems.concat(error(\"If set, `filterParams` must be an object.\")) : options.filterParams ? problems.concat(\n    Object.keys(options.filterParams).filter((key) => key.startsWith(\"__\") || key.startsWith(\"$\")).map((key) => error(`Filter parameter cannot be prefixed with \"$\" or \"__\". Got ${key}\".`))\n  ) : problems : problems.concat(\n    error(\n      \"The reference type expects `options` to be an object\",\n      HELP_IDS.REFERENCE_INVALID_OPTIONS\n    )\n  ) : problems;\n}\nconst REACT_SYM_RE = /^Symbol\\(react\\..+\\)$/;\nfunction isComponentLike(value) {\n  return typeof value == \"function\" || typeof (value == null ? void 0 : value.$$typeof) == \"symbol\" && REACT_SYM_RE.test(String(value == null ? void 0 : value.$$typeof));\n}\nfunction validateComponent(typeDef) {\n  const components = \"components\" in typeDef ? typeDef.components : !1;\n  if (!components)\n    return [];\n  const warnings = [];\n  return components.input && !isComponentLike(components.input) && warnings.push(\n    warning(\n      `The \\`components.input\\` property is set but does not appear to be a valid React component (expected a function, but saw ${object_inspect__WEBPACK_IMPORTED_MODULE_10__(\n        components.input\n      )}). If you have imported a custom input component, please verify that you have imported the correct named/default export.`\n    )\n  ), components.field && !isComponentLike(components.field) && warnings.push(\n    warning(\n      `The \\`components.field\\` property is set but does not appear to be a valid React component (expected a function, but saw ${object_inspect__WEBPACK_IMPORTED_MODULE_10__(\n        components.field\n      )}). If you have imported a custom field component, please verify that you have imported the correct named/default export.`\n    )\n  ), components.item && !isComponentLike(components.item) && warnings.push(\n    warning(\n      `The \\`components.item\\` property is set but does not appear to be a valid React component (expected a function, but saw ${object_inspect__WEBPACK_IMPORTED_MODULE_10__(\n        components.item\n      )}). If you have imported a custom item component, please verify that you have imported the correct named/default export.`\n    )\n  ), components.preview && !isComponentLike(components.preview) && warnings.push(\n    warning(\n      `The \\`components.preview\\` property is set but does not appear to be a valid React component (expected a function, but saw ${object_inspect__WEBPACK_IMPORTED_MODULE_10__(\n        components.preview\n      )}). If you have imported a custom preview component, please verify that you have imported the correct named/default export.`\n    )\n  ), warnings;\n}\nconst VALID_FIELD_RE = /^[A-Za-z]+[0-9A-Za-z_]*$/, CONVENTIONAL_FIELD_RE = /^[A-Za-z_]+[0-9A-Za-z_]*$/;\nfunction validateFieldName(name) {\n  return typeof name != \"string\" ? [\n    error(\n      `Field names must be strings. Saw \"${object_inspect__WEBPACK_IMPORTED_MODULE_10__(name)}\"`,\n      HELP_IDS.OBJECT_FIELD_NAME_INVALID\n    )\n  ] : name.startsWith(\"_\") ? [\n    error(\n      `Invalid field name \"${name}\". Field names cannot start with underscores \"_\" as it's reserved for system fields.`,\n      HELP_IDS.OBJECT_FIELD_NAME_INVALID\n    )\n  ] : VALID_FIELD_RE.test(name) ? CONVENTIONAL_FIELD_RE.test(name) ? [] : [\n    warning(\n      \"Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on.\"\n    ),\n    HELP_IDS.OBJECT_FIELD_NAME_INVALID\n  ] : [\n    error(\n      `Invalid field name: \"${name}\". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ${String(\n        VALID_FIELD_RE\n      )}).`,\n      HELP_IDS.OBJECT_FIELD_NAME_INVALID\n    )\n  ];\n}\nfunction validateField(field, _visitorContext) {\n  if (!lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(field))\n    return [\n      error(\n        `Incorrect type for field definition - should be an object, saw ${object_inspect__WEBPACK_IMPORTED_MODULE_10__(field)}`,\n        HELP_IDS.OBJECT_FIELD_DEFINITION_INVALID_TYPE\n      )\n    ];\n  const problems = [];\n  return problems.push(\n    ...\"name\" in field ? validateFieldName(field.name) : [error(\"Missing field name\", HELP_IDS.OBJECT_FIELD_NAME_INVALID)]\n  ), problems.push(...validateComponent(field)), problems;\n}\nfunction getDuplicateFields(array2) {\n  const dupes = {};\n  return array2.forEach((field) => {\n    dupes[field.name] || (dupes[field.name] = []), dupes[field.name].push(field);\n  }), Object.keys(dupes).map((fieldName) => dupes[fieldName].length > 1 ? dupes[fieldName] : null).filter(Boolean);\n}\nfunction validateFields(fields, options = { allowEmpty: !1 }) {\n  const problems = [];\n  if (!Array.isArray(fields))\n    return [\n      error(\n        `The \"fields\" property must be an array of fields. Instead saw \"${typeof fields}\"`,\n        HELP_IDS.OBJECT_FIELDS_INVALID\n      )\n    ];\n  const fieldsWithNames = fields.filter((field) => typeof field.name == \"string\");\n  getDuplicateFields(fieldsWithNames).forEach((dupes) => {\n    problems.push(\n      error(\n        `Found ${dupes.length} fields with name \"${dupes[0].name}\" in object`,\n        HELP_IDS.OBJECT_FIELD_NOT_UNIQUE\n      )\n    );\n  }), fields.length === 0 && !options.allowEmpty && problems.push(error(\"Object should have at least one field\", HELP_IDS.OBJECT_FIELDS_INVALID));\n  const standaloneBlockFields = fields.filter((field) => field.type === \"block\").map((field) => `\"${field.name}\"`);\n  if (standaloneBlockFields.length > 0) {\n    const fmtFields = standaloneBlockFields.join(\", \");\n    problems.push(\n      error(\n        `Invalid standalone block field(s) ${fmtFields}. Block content must be defined as an array of blocks`,\n        HELP_IDS.STANDALONE_BLOCK_TYPE\n      )\n    );\n  }\n  return problems;\n}\nfunction validatePreview(preview) {\n  return lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(preview) ? typeof preview.prepare < \"u\" && typeof preview.prepare != \"function\" ? [\n    error(\n      `The \"preview.prepare\" property must be a function, instead saw \"${typeof preview.prepare}\"`\n    )\n  ] : preview.select ? lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(preview.select) ? Object.keys(preview.select).reduce((errs, key) => typeof preview.select[key] == \"string\" ? errs : errs.concat(\n    error(\n      `The key \"${key}\" of \"preview.select\" must be a string, instead saw \"${typeof preview.select[key]}\"`\n    )\n  ), []) : [\n    error(\n      `The \"preview.select\" property must be an object, instead saw \"${typeof preview.prepare}\"`\n    )\n  ] : [] : [error(`The \"preview\" property must be an object, instead saw \"${typeof preview}\"`)];\n}\nvar object = (typeDef, visitorContext) => {\n  let problems = validateFields(typeDef.fields), preview = typeDef.preview;\n  if (preview) {\n    const previewErrors = validatePreview(typeDef.preview);\n    problems = problems.concat(previewErrors), preview = previewErrors.some((err) => err.severity === \"error\") ? {} : preview;\n  }\n  return typeDef.type !== \"document\" && typeDef.type !== \"object\" && typeof typeDef.initialValue < \"u\" && problems.push(\n    error('The \"initialValue\" property is currently only supported for document & object types.')\n  ), {\n    ...typeDef,\n    preview,\n    fields: (Array.isArray(typeDef.fields) ? typeDef.fields : []).map((field, index) => {\n      const { name, ...fieldTypeDef } = field, { _problems, ...fieldType } = visitorContext.visit(fieldTypeDef, index);\n      return {\n        name,\n        ...fieldType,\n        _problems: validateField(field).concat(_problems || [])\n      };\n    }),\n    _problems: problems\n  };\n}, documentVisitor = (typeDefinition, visitorContext) => {\n  const typeDef = object(typeDefinition, visitorContext), { initialValue, initialValues } = typeDef;\n  return typeof initialValue < \"u\" && !lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(initialValue) && typeof initialValue != \"function\" && typeDef._problems.push(\n    error('The \"initialValue\" property must be either a plain object or a function')\n  ), typeof initialValues < \"u\" && typeDef._problems.push(error('Found property \"initialValues\" - did you mean \"initialValue\"?')), typeDef;\n}, file = (typeDef, visitorContext) => {\n  const problems = [], fields = typeDef.fields;\n  fields && problems.push(...validateFields(fields, { allowEmpty: !0 }));\n  const invalidFieldNames = Array.isArray(fields) ? fields == null ? void 0 : fields.filter((field) => field.name === \"asset\") : [];\n  return typeDef.options && typeof typeDef.options.metadata < \"u\" && !Array.isArray(typeDef.options.metadata) ? problems.push(\n    error(\n      \"Invalid type for file `metadata` field - must be an array of strings\",\n      HELP_IDS.ASSET_METADATA_FIELD_INVALID\n    )\n  ) : invalidFieldNames.length > 0 && problems.push(error(\"The name `asset` is not a valid field name for type `file`.\")), {\n    ...typeDef,\n    fields: (Array.isArray(fields) ? fields : []).map((field, index) => {\n      const { name, ...fieldTypeDef } = field, { _problems, ...fieldType } = visitorContext.visit(fieldTypeDef, index);\n      return {\n        name,\n        ...fieldType,\n        _problems: validateField(field).concat(_problems || [])\n      };\n    }),\n    _problems: problems\n  };\n};\nconst autoMeta = [\"dimensions\", \"hasAlpha\", \"isOpaque\"];\nvar image = (typeDef, visitorContext) => {\n  const problems = [], fields = typeDef.fields;\n  fields && problems.push(...validateFields(fields, { allowEmpty: !0 }));\n  let options = typeDef.options;\n  const metadata = options == null ? void 0 : options.metadata, superfluousMeta = Array.isArray(metadata) ? metadata.filter((meta) => autoMeta.includes(meta)) : [], invalidFieldNames = [\"asset\", \"hotspot\", \"crop\"], fieldsWithInvalidName = Array.isArray(fields) ? fields == null ? void 0 : fields.filter((field) => invalidFieldNames.includes(field.name)) : [];\n  return typeof metadata < \"u\" && !Array.isArray(metadata) ? problems.push(\n    error(\n      \"Invalid type for image `metadata` field - must be an array of strings\",\n      HELP_IDS.ASSET_METADATA_FIELD_INVALID\n    )\n  ) : superfluousMeta.length > 0 ? (problems.push(\n    warning(\n      `Image \\`metadata\\` field contains superfluous properties (they are always included): ${superfluousMeta.join(\n        \", \"\n      )}`\n    )\n  ), options = { ...options, metadata: metadata.filter((meta) => !autoMeta.includes(meta)) }) : fieldsWithInvalidName.length > 0 && problems.push(\n    error(\n      `The names \\`${invalidFieldNames.join(\n        \"`, `\"\n      )}\\` are invalid field names for type \\`image\\`.`\n    )\n  ), {\n    ...typeDef,\n    options,\n    fields: (Array.isArray(fields) ? fields : []).map((field, index) => {\n      const { name, ...fieldTypeDef } = field, { _problems, ...fieldType } = visitorContext.visit(fieldTypeDef, index);\n      return {\n        name,\n        ...fieldType,\n        _problems: validateField(field).concat(_problems || [])\n      };\n    }),\n    _problems: problems\n  };\n};\nfunction normalizeToProp(typeDef) {\n  return Array.isArray(typeDef.to) ? typeDef.to : typeDef.to ? [typeDef.to] : typeDef.to;\n}\nvar reference = (typeDef, visitorContext) => {\n  const isValidTo = Array.isArray(typeDef.to) || lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(typeDef.to), normalizedTo = normalizeToProp(typeDef), problems = lodash_flatten_js__WEBPACK_IMPORTED_MODULE_1__([\n    isValidTo ? getDupes(normalizedTo, (t) => `${t.name};${t.type}`).map(\n      (dupes) => error(\n        `Found ${dupes.length} members with same type, but not unique names \"${dupes[0].type}\" in reference. This makes it impossible to tell their values apart and you should consider naming them`,\n        HELP_IDS.REFERENCE_TO_INVALID\n      )\n    ) : error(\n      'The reference type is missing or having an invalid value for the required \"to\" property. It should be an array of accepted types.',\n      HELP_IDS.REFERENCE_TO_INVALID\n    )\n  ]);\n  return isValidTo && normalizedTo.length === 0 && problems.push(\n    error(\n      'The reference type should define at least one accepted type. Please check the \"to\" property.',\n      HELP_IDS.REFERENCE_TO_INVALID\n    )\n  ), problems.push(...getOptionErrors(typeDef)), {\n    ...typeDef,\n    to: (isValidTo ? normalizedTo : []).map(visitorContext.visit),\n    _problems: problems\n  };\n};\nfunction getOptionErrors(typeDef) {\n  const { options } = typeDef, problems = [];\n  return problems.push(\n    ...[\"filter\", \"filterParams\"].filter((key) => key in typeDef).map(\n      (key) => error(\n        `\\`${key}\\` is not allowed on a reference type definition - did you mean \\`options.${key}\\`?`,\n        HELP_IDS.REFERENCE_INVALID_OPTIONS_LOCATION\n      )\n    )\n  ), options ? lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(options) ? typeof options.filter == \"function\" && typeof options.filterParams < \"u\" ? problems.concat(\n    error(\n      \"`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.\",\n      HELP_IDS.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION\n    )\n  ) : typeof options.filter == \"function\" || !options.filter && !options.filterParams ? problems : typeof options.filter != \"string\" ? problems.concat(\n    error(`If set, \\`filter\\` must be a string. Got ${typeof options.filter}`)\n  ) : typeof options.filterParams < \"u\" && !lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_6__(options.filterParams) ? problems.concat(error(\"If set, `filterParams` must be an object.\")) : options.filterParams ? problems.concat(\n    Object.keys(options.filterParams).filter((key) => key.startsWith(\"__\") || key.startsWith(\"$\")).map((key) => error(`Filter parameter cannot be prefixed with \"$\" or \"__\". Got ${key}\".`))\n  ) : problems : problems.concat(\n    error(\n      \"The reference type expects `options` to be an object\",\n      HELP_IDS.REFERENCE_INVALID_OPTIONS\n    )\n  ) : problems;\n}\nvar rootType = (typeDef, visitorContext) => {\n  const hasName = !!typeDef.name;\n  if (!hasName && Object.keys(typeDef).length === 1)\n    return {\n      ...typeDef,\n      _problems: [\n        error(\n          \"Invalid/undefined type declaration, check declaration or the import/export of the schema type.\",\n          HELP_IDS.TYPE_INVALID\n        )\n      ]\n    };\n  const problems = [];\n  return looksLikeEsmModule(typeDef) ? problems.push(\n    error(\n      \"Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property\",\n      HELP_IDS.TYPE_IS_ESM_MODULE\n    )\n  ) : hasName ? visitorContext.isReserved(typeDef.name) && problems.push(\n    error(\n      `Invalid type name: \"${typeDef.name}\" is a reserved name.`,\n      HELP_IDS.TYPE_NAME_RESERVED\n    )\n  ) : problems.push(error(\"Missing type name\", HELP_IDS.TYPE_MISSING_NAME)), visitorContext.isDuplicate(typeDef.name) && problems.push(\n    error(\n      `Invalid type name: A type with name \"${typeDef.name}\" is already defined in the schema.`\n    )\n  ), problems.push(...validateComponent(typeDef)), \"title\" in typeDef && typeof typeDef.title != \"string\" && problems.push(warning(\"Type title is not a string.\", HELP_IDS.TYPE_TITLE_INVALID)), {\n    ...typeDef,\n    _problems: problems\n  };\n};\nfunction looksLikeEsmModule(typeDef) {\n  return !typeDef.name && typeDef.default && (typeDef.default.name || typeDef.default.title);\n}\nvar slug = (typeDef, visitorContext) => {\n  const problems = [];\n  return typeDef.options && typeDef.options.slugifyFn && (problems.push(\n    warning(\n      'Heads up! The \"slugifyFn\" option has been renamed to \"slugify\".',\n      HELP_IDS.SLUG_SLUGIFY_FN_RENAMED\n    )\n  ), typeDef.options.slugify = typeDef.options.slugifyFn), {\n    ...typeDef,\n    _problems: problems\n  };\n};\nconst typeVisitors = {\n  array,\n  object,\n  slug,\n  file,\n  image,\n  block: validateBlockType,\n  document: documentVisitor,\n  reference,\n  crossDatasetReference\n}, getNoopVisitor = (visitorContext) => (schemaDef) => ({\n  name: `<unnamed_type_@_index_${visitorContext.index}>`,\n  ...schemaDef,\n  _problems: []\n});\nfunction combine(...visitors) {\n  return (schemaType, visitorContext) => visitors.reduce(\n    (result, visitor) => {\n      const res = visitor(result, visitorContext);\n      return {\n        ...res,\n        _problems: result._problems.concat(res._problems)\n      };\n    },\n    { _problems: [], ...schemaType }\n  );\n}\nfunction validateSchema(schemaTypes) {\n  return traverseSanitySchema(schemaTypes, (schemaDef, visitorContext) => {\n    const typeVisitor = schemaDef && schemaDef.type && typeVisitors[schemaDef.type] || getNoopVisitor(visitorContext);\n    return visitorContext.isRoot ? combine(rootType, common, typeVisitor)(schemaDef, visitorContext) : combine(common, typeVisitor)(schemaDef, visitorContext);\n  });\n}\n\n//# sourceMappingURL=_internal.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9zY2hlbWEvbGliL19pbnRlcm5hbC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4QztBQUNnRjtBQUM1RTtBQUNWO0FBQ1I7QUFDRTtBQUNPO0FBQ0c7QUFDUTtBQUNsQjtBQUNSO0FBQ1c7QUFDckM7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGNBQWMsNkNBQTZDO0FBQ3hGO0FBQ0EsUUFBUTtBQUNSO0FBQ0Esa0JBQWtCLGlEQUFVO0FBQzVCO0FBQ0E7QUFDQSx1QkFBdUIsK0JBQStCLDhCQUE4QixTQUFTLEtBQUs7QUFDbEc7QUFDQSxRQUFRLHVCQUF1Qix5QkFBeUI7QUFDeEQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsQ0FBQztBQUNELGFBQWEsZ0JBQWdCO0FBQzdCLFlBQVksZ0JBQWdCO0FBQzVCLGlCQUFpQixnQkFBZ0I7QUFDakMsYUFBYSxnQkFBZ0I7QUFDN0IsZ0JBQWdCLGlCQUFpQjtBQUNqQyxjQUFjLGdCQUFnQjtBQUM5QjtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnRUFB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QTtBQUNBLENBQUM7QUFDRCxpQ0FBaUMscUJBQXFCO0FBQ3REO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBU0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9zY2hlbWEvbGliL19pbnRlcm5hbC5tanM/ZTFhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGlmZmVyZW5jZSBmcm9tIFwibG9kYXNoL2RpZmZlcmVuY2UuanNcIjtcbmltcG9ydCB7IERFRkFVTFRfTUFYX0ZJRUxEX0RFUFRILCByZXNvbHZlU2VhcmNoQ29uZmlnLCByZXNvbHZlU2VhcmNoQ29uZmlnRm9yQmFzZUZpZWxkUGF0aHMgfSBmcm9tIFwiLi9fY2h1bmtzLWVzL3Jlc29sdmUubWpzXCI7XG5pbXBvcnQgeyBjcmVhdGVSZWZlcmVuY2VUeXBlTm9kZSB9IGZyb20gXCJncm9xLWpzXCI7XG5pbXBvcnQgZmxhdHRlbiBmcm9tIFwibG9kYXNoL2ZsYXR0ZW4uanNcIjtcbmltcG9ydCBnZXQgZnJvbSBcImxvZGFzaC9nZXQuanNcIjtcbmltcG9ydCB1bmlxIGZyb20gXCJsb2Rhc2gvdW5pcS5qc1wiO1xuaW1wb3J0IGh1bWFuaXplTGlzdCBmcm9tIFwiaHVtYW5pemUtbGlzdFwiO1xuaW1wb3J0IHBhcnRpdGlvbiBmcm9tIFwibG9kYXNoL3BhcnRpdGlvbi5qc1wiO1xuaW1wb3J0IGlzUGxhaW5PYmplY3QgZnJvbSBcImxvZGFzaC9pc1BsYWluT2JqZWN0LmpzXCI7XG5pbXBvcnQgb21pdCBmcm9tIFwibG9kYXNoL29taXQuanNcIjtcbmltcG9ydCBsZXZlbiBmcm9tIFwibGV2ZW5cIjtcbmltcG9ydCBpbnNwZWN0IGZyb20gXCJvYmplY3QtaW5zcGVjdFwiO1xuY29uc3QgQUNUSU9OU19GTEFHID0gXCJfX2V4cGVyaW1lbnRhbF9hY3Rpb25zXCIsIERFRkFVTFRfQUNUSU9OUyA9IFtcImNyZWF0ZVwiLCBcInVwZGF0ZVwiLCBcImRlbGV0ZVwiLCBcInB1Ymxpc2hcIl0sIFZBTElEX0FDVElPTlMgPSBERUZBVUxUX0FDVElPTlMsIHJlYWRBY3Rpb25zID0gKHNjaGVtYVR5cGUpID0+IEFDVElPTlNfRkxBRyBpbiBzY2hlbWFUeXBlID8gc2NoZW1hVHlwZVtBQ1RJT05TX0ZMQUddIDogREVGQVVMVF9BQ1RJT05TLCB2YWxpZGF0ZUFjdGlvbnMgPSAodHlwZU5hbWUsIGFjdGlvbnMpID0+IHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFjdGlvbnMpKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBUaGUgdmFsdWUgb2YgPHR5cGU+LiR7QUNUSU9OU19GTEFHfSBzaG91bGQgYmUgYW4gYXJyYXkgd2l0aCBhbnkgb2YgdGhlIGFjdGlvbnMgJHtWQUxJRF9BQ1RJT05TLmpvaW4oXG4gICAgICAgIFwiLCBcIlxuICAgICAgKX1gXG4gICAgKTtcbiAgY29uc3QgaW52YWxpZCA9IGRpZmZlcmVuY2UoYWN0aW9ucywgVkFMSURfQUNUSU9OUyk7XG4gIGlmIChpbnZhbGlkLmxlbmd0aCA+IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgYWN0aW9uJHtpbnZhbGlkLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9IGNvbmZpZ3VyZWQgZm9yIHNjaGVtYSB0eXBlIFwiJHt0eXBlTmFtZX1cIjogJHtpbnZhbGlkLmpvaW4oXG4gICAgICAgIFwiLCBcIlxuICAgICAgKX0uIFZhbGlkIGFjdGlvbnMgYXJlOiAke1ZBTElEX0FDVElPTlMuam9pbihcIiwgXCIpfWBcbiAgICApO1xuICByZXR1cm4gYWN0aW9ucztcbn0sIHJlc29sdmVFbmFibGVkQWN0aW9ucyA9IChzY2hlbWFUeXBlKSA9PiB2YWxpZGF0ZUFjdGlvbnMoc2NoZW1hVHlwZS5uYW1lLCByZWFkQWN0aW9ucyhzY2hlbWFUeXBlKSksIGlzQWN0aW9uRW5hYmxlZCA9IChzY2hlbWFUeXBlLCBhY3Rpb24pID0+IHJlc29sdmVFbmFibGVkQWN0aW9ucyhzY2hlbWFUeXBlKS5pbmNsdWRlcyhhY3Rpb24pLCBkb2N1bWVudERlZmF1bHRGaWVsZHMgPSAodHlwZU5hbWUpID0+ICh7XG4gIF9pZDoge1xuICAgIHR5cGU6IFwib2JqZWN0QXR0cmlidXRlXCIsXG4gICAgdmFsdWU6IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gIH0sXG4gIF90eXBlOiB7XG4gICAgdHlwZTogXCJvYmplY3RBdHRyaWJ1dGVcIixcbiAgICB2YWx1ZTogeyB0eXBlOiBcInN0cmluZ1wiLCB2YWx1ZTogdHlwZU5hbWUgfVxuICB9LFxuICBfY3JlYXRlZEF0OiB7XG4gICAgdHlwZTogXCJvYmplY3RBdHRyaWJ1dGVcIixcbiAgICB2YWx1ZTogeyB0eXBlOiBcInN0cmluZ1wiIH1cbiAgfSxcbiAgX3VwZGF0ZWRBdDoge1xuICAgIHR5cGU6IFwib2JqZWN0QXR0cmlidXRlXCIsXG4gICAgdmFsdWU6IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gIH0sXG4gIF9yZXY6IHtcbiAgICB0eXBlOiBcIm9iamVjdEF0dHJpYnV0ZVwiLFxuICAgIHZhbHVlOiB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICB9XG59KSwgdHlwZXNNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcChbXG4gIFtcInRleHRcIiwgeyB0eXBlOiBcInN0cmluZ1wiIH1dLFxuICBbXCJ1cmxcIiwgeyB0eXBlOiBcInN0cmluZ1wiIH1dLFxuICBbXCJkYXRldGltZVwiLCB7IHR5cGU6IFwic3RyaW5nXCIgfV0sXG4gIFtcImRhdGVcIiwgeyB0eXBlOiBcInN0cmluZ1wiIH1dLFxuICBbXCJib29sZWFuXCIsIHsgdHlwZTogXCJib29sZWFuXCIgfV0sXG4gIFtcImVtYWlsXCIsIHsgdHlwZTogXCJzdHJpbmdcIiB9XVxuXSk7XG5mdW5jdGlvbiBleHRyYWN0U2NoZW1hKHNjaGVtYURlZiwgZXh0cmFjdE9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBpbmxpbmVGaWVsZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLCBzY2hlbWEgPSBbXTtcbiAgc29ydEJ5RGVwZW5kZW5jaWVzKHNjaGVtYURlZikuZm9yRWFjaCgodHlwZU5hbWUpID0+IHtcbiAgICBjb25zdCBzY2hlbWFUeXBlID0gc2NoZW1hRGVmLmdldCh0eXBlTmFtZSk7XG4gICAgaWYgKHNjaGVtYVR5cGUgPT09IHZvaWQgMClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBiYXNlID0gY29udmVydEJhc2VUeXBlKHNjaGVtYVR5cGUpO1xuICAgIGJhc2UgIT09IG51bGwgJiYgKGJhc2UudHlwZSA9PT0gXCJ0eXBlXCIgJiYgaW5saW5lRmllbGRzLmFkZChzY2hlbWFUeXBlKSwgc2NoZW1hLnB1c2goYmFzZSkpO1xuICB9KTtcbiAgZnVuY3Rpb24gY29udmVydEJhc2VUeXBlKHNjaGVtYVR5cGUpIHtcbiAgICBsZXQgdHlwZU5hbWU7XG4gICAgaWYgKHNjaGVtYVR5cGUudHlwZSA/IHR5cGVOYW1lID0gc2NoZW1hVHlwZS50eXBlLm5hbWUgOiBcImpzb25UeXBlXCIgaW4gc2NoZW1hVHlwZSAmJiAodHlwZU5hbWUgPSBzY2hlbWFUeXBlLmpzb25UeXBlKSwgdHlwZU5hbWUgPT09IFwiZG9jdW1lbnRcIiAmJiBpc09iamVjdFR5cGUoc2NoZW1hVHlwZSkpIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRBdHRyaWJ1dGVzID0gZG9jdW1lbnREZWZhdWx0RmllbGRzKHNjaGVtYVR5cGUubmFtZSksIG9iamVjdDIgPSBjcmVhdGVPYmplY3Qoc2NoZW1hVHlwZSk7XG4gICAgICByZXR1cm4gb2JqZWN0Mi50eXBlID09PSBcInVua25vd25cIiA/IG51bGwgOiB7XG4gICAgICAgIG5hbWU6IHNjaGVtYVR5cGUubmFtZSxcbiAgICAgICAgdHlwZTogXCJkb2N1bWVudFwiLFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgLi4uZGVmYXVsdEF0dHJpYnV0ZXMsXG4gICAgICAgICAgLi4ub2JqZWN0Mi5hdHRyaWJ1dGVzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gY29udmVydFNjaGVtYVR5cGUoc2NoZW1hVHlwZSk7XG4gICAgcmV0dXJuIHZhbHVlLnR5cGUgPT09IFwidW5rbm93blwiID8gbnVsbCA6IHZhbHVlLnR5cGUgPT09IFwib2JqZWN0XCIgPyB7XG4gICAgICBuYW1lOiBzY2hlbWFUeXBlLm5hbWUsXG4gICAgICB0eXBlOiBcInR5cGVcIixcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICBfdHlwZToge1xuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RBdHRyaWJ1dGVcIixcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgIHZhbHVlOiBzY2hlbWFUeXBlLm5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIC4uLnZhbHVlLmF0dHJpYnV0ZXNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gOiB7XG4gICAgICBuYW1lOiBzY2hlbWFUeXBlLm5hbWUsXG4gICAgICB0eXBlOiBcInR5cGVcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBjb252ZXJ0U2NoZW1hVHlwZShzY2hlbWFUeXBlKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgaWYgKCgoX2EgPSBsYXN0VHlwZShzY2hlbWFUeXBlKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm5hbWUpID09PSBcImRvY3VtZW50XCIpXG4gICAgICByZXR1cm4gY3JlYXRlUmVmZXJlbmNlVHlwZU5vZGUoc2NoZW1hVHlwZS5uYW1lKTtcbiAgICBpZiAoaW5saW5lRmllbGRzLmhhcyhzY2hlbWFUeXBlLnR5cGUpKVxuICAgICAgcmV0dXJuIHsgdHlwZTogXCJpbmxpbmVcIiwgbmFtZTogc2NoZW1hVHlwZS50eXBlLm5hbWUgfTtcbiAgICBpZiAoKChfYyA9IChfYiA9IHNjaGVtYVR5cGUudHlwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnR5cGUpID09IG51bGwgPyB2b2lkIDAgOiBfYy5uYW1lKSA9PT0gXCJvYmplY3RcIilcbiAgICAgIHJldHVybiB7IHR5cGU6IFwiaW5saW5lXCIsIG5hbWU6IHNjaGVtYVR5cGUudHlwZS5uYW1lIH07XG4gICAgaWYgKGlzU3RyaW5nVHlwZShzY2hlbWFUeXBlKSlcbiAgICAgIHJldHVybiBjcmVhdGVTdHJpbmdUeXBlTm9kZURlZmludGlvbihzY2hlbWFUeXBlKTtcbiAgICBpZiAoaXNOdW1iZXJUeXBlKHNjaGVtYVR5cGUpKVxuICAgICAgcmV0dXJuIGNyZWF0ZU51bWJlclR5cGVOb2RlRGVmaW50aW9uKHNjaGVtYVR5cGUpO1xuICAgIGlmIChzY2hlbWFUeXBlLnR5cGUgJiYgdHlwZXNNYXAuaGFzKHNjaGVtYVR5cGUudHlwZS5uYW1lKSlcbiAgICAgIHJldHVybiB0eXBlc01hcC5nZXQoc2NoZW1hVHlwZS50eXBlLm5hbWUpO1xuICAgIGlmIChpc0Nyb3NzRGF0YXNldFJlZmVyZW5jZVR5cGUoc2NoZW1hVHlwZSkpXG4gICAgICByZXR1cm4geyB0eXBlOiBcInVua25vd25cIiB9O1xuICAgIGlmIChpc1JlZmVyZW5jZVR5cGUoc2NoZW1hVHlwZSkpXG4gICAgICByZXR1cm4gY3JlYXRlUmVmZXJlbmNlVHlwZU5vZGVEZWZpbnRpb24oc2NoZW1hVHlwZSk7XG4gICAgaWYgKGlzQXJyYXlUeXBlKHNjaGVtYVR5cGUpKVxuICAgICAgcmV0dXJuIGNyZWF0ZUFycmF5KHNjaGVtYVR5cGUpO1xuICAgIGlmIChpc09iamVjdFR5cGUoc2NoZW1hVHlwZSkpXG4gICAgICByZXR1cm4gY3JlYXRlT2JqZWN0KHNjaGVtYVR5cGUpO1xuICAgIHRocm93IG5ldyBFcnJvcihgVHlwZSBcIiR7c2NoZW1hVHlwZS5uYW1lfVwiIG5vdCBmb3VuZGApO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdChzY2hlbWFUeXBlKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fSwgZmllbGRzID0gZ2F0aGVyRmllbGRzKHNjaGVtYVR5cGUpO1xuICAgIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICBjb25zdCBmaWVsZElzUmVxdWlyZWQgPSBpc0ZpZWxkUmVxdWlyZWQoZmllbGQpLCB2YWx1ZSA9IGNvbnZlcnRTY2hlbWFUeXBlKGZpZWxkLnR5cGUpO1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGhhc0Fzc2V0UmVxdWlyZWQoZmllbGQpICYmIHZhbHVlLnR5cGUgPT09IFwib2JqZWN0XCIgJiYgKHZhbHVlLmF0dHJpYnV0ZXMuYXNzZXQub3B0aW9uYWwgPSAhMSk7XG4gICAgICBjb25zdCBvcHRpb25hbCA9IGV4dHJhY3RPcHRpb25zLmVuZm9yY2VSZXF1aXJlZEZpZWxkcyA/IGZpZWxkSXNSZXF1aXJlZCA9PT0gITEgOiAhMDtcbiAgICAgIGF0dHJpYnV0ZXNbZmllbGQubmFtZV0gPSB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0QXR0cmlidXRlXCIsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvcHRpb25hbFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmxlbmd0aCA9PT0gMCA/IHsgdHlwZTogXCJ1bmtub3duXCIgfSA6ICgoKF9hID0gc2NoZW1hVHlwZS50eXBlKSA9PSBudWxsID8gdm9pZCAwIDogX2EubmFtZSkgIT09IFwiZG9jdW1lbnRcIiAmJiBzY2hlbWFUeXBlLm5hbWUgIT09IFwib2JqZWN0XCIgJiYgKGF0dHJpYnV0ZXMuX3R5cGUgPSB7XG4gICAgICB0eXBlOiBcIm9iamVjdEF0dHJpYnV0ZVwiLFxuICAgICAgdmFsdWU6IHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgdmFsdWU6IHNjaGVtYVR5cGUubmFtZVxuICAgICAgfVxuICAgIH0pLCB7XG4gICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgYXR0cmlidXRlc1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUFycmF5KGFycmF5U2NoZW1hVHlwZSkge1xuICAgIGNvbnN0IG9mID0gW107XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGFycmF5U2NoZW1hVHlwZS5vZikge1xuICAgICAgY29uc3QgZmllbGQgPSBjb252ZXJ0U2NoZW1hVHlwZShpdGVtKTtcbiAgICAgIGZpZWxkLnR5cGUgPT09IFwiaW5saW5lXCIgPyBvZi5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgIF9rZXk6IGNyZWF0ZUtleUZpZWxkKClcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdDogZmllbGRcbiAgICAgIH0pIDogKGZpZWxkLnR5cGUgPT09IFwib2JqZWN0XCIgJiYgKGZpZWxkLnJlc3QgPSB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICBfa2V5OiBjcmVhdGVLZXlGaWVsZCgpXG4gICAgICAgIH1cbiAgICAgIH0pLCBvZi5wdXNoKGZpZWxkKSk7XG4gICAgfVxuICAgIHJldHVybiBvZi5sZW5ndGggPT09IDAgPyB7IHR5cGU6IFwibnVsbFwiIH0gOiB7XG4gICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICBvZjogb2YubGVuZ3RoID4gMSA/IHtcbiAgICAgICAgdHlwZTogXCJ1bmlvblwiLFxuICAgICAgICBvZlxuICAgICAgfSA6IG9mWzBdXG4gICAgfTtcbiAgfVxuICByZXR1cm4gc2NoZW1hO1xufVxuZnVuY3Rpb24gY3JlYXRlS2V5RmllbGQoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJvYmplY3RBdHRyaWJ1dGVcIixcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGlzRmllbGRSZXF1aXJlZChmaWVsZCkge1xuICBjb25zdCB7IHZhbGlkYXRpb24gfSA9IGZpZWxkLnR5cGU7XG4gIGlmICghdmFsaWRhdGlvbilcbiAgICByZXR1cm4gITE7XG4gIGNvbnN0IHJ1bGVzID0gQXJyYXkuaXNBcnJheSh2YWxpZGF0aW9uKSA/IHZhbGlkYXRpb24gOiBbdmFsaWRhdGlvbl07XG4gIGZvciAoY29uc3QgcnVsZSBvZiBydWxlcykge1xuICAgIGxldCByZXF1aXJlZCA9ICExO1xuICAgIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KFxuICAgICAge30sXG4gICAgICB7XG4gICAgICAgIGdldDogKHRhcmdldCwgbWV0aG9kTmFtZSkgPT4gKCkgPT4gKG1ldGhvZE5hbWUgPT09IFwicmVxdWlyZWRcIiAmJiAocmVxdWlyZWQgPSAhMCksIHByb3h5KVxuICAgICAgfVxuICAgICk7XG4gICAgaWYgKHR5cGVvZiBydWxlID09IFwiZnVuY3Rpb25cIiAmJiAocnVsZShwcm94eSksIHJlcXVpcmVkKSB8fCB0eXBlb2YgcnVsZSA9PSBcIm9iamVjdFwiICYmIHJ1bGUgIT09IG51bGwgJiYgXCJfcmVxdWlyZWRcIiBpbiBydWxlICYmIHJ1bGUuX3JlcXVpcmVkID09PSBcInJlcXVpcmVkXCIpXG4gICAgICByZXR1cm4gITA7XG4gIH1cbiAgcmV0dXJuICExO1xufVxuZnVuY3Rpb24gaGFzQXNzZXRSZXF1aXJlZChmaWVsZCkge1xuICBjb25zdCB7IHZhbGlkYXRpb24gfSA9IGZpZWxkLnR5cGU7XG4gIGlmICghdmFsaWRhdGlvbilcbiAgICByZXR1cm4gITE7XG4gIGNvbnN0IHJ1bGVzID0gQXJyYXkuaXNBcnJheSh2YWxpZGF0aW9uKSA/IHZhbGlkYXRpb24gOiBbdmFsaWRhdGlvbl07XG4gIGZvciAoY29uc3QgcnVsZSBvZiBydWxlcykge1xuICAgIGxldCBhc3NldFJlcXVpcmVkID0gITE7XG4gICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoXG4gICAgICB7fSxcbiAgICAgIHtcbiAgICAgICAgZ2V0OiAodGFyZ2V0LCBtZXRob2ROYW1lKSA9PiAoKSA9PiAobWV0aG9kTmFtZSA9PT0gXCJhc3NldFJlcXVpcmVkXCIgJiYgKGFzc2V0UmVxdWlyZWQgPSAhMCksIHByb3h5KVxuICAgICAgfVxuICAgICk7XG4gICAgaWYgKHR5cGVvZiBydWxlID09IFwiZnVuY3Rpb25cIiAmJiAocnVsZShwcm94eSksIGFzc2V0UmVxdWlyZWQpIHx8IHR5cGVvZiBydWxlID09IFwib2JqZWN0XCIgJiYgcnVsZSAhPT0gbnVsbCAmJiBcIl9ydWxlc1wiIGluIHJ1bGUgJiYgQXJyYXkuaXNBcnJheShydWxlLl9ydWxlcykgJiYgcnVsZS5fcnVsZXMuc29tZSgocikgPT4gci5mbGFnID09PSBcImFzc2V0UmVxdWlyZWRcIikpXG4gICAgICByZXR1cm4gITA7XG4gIH1cbiAgcmV0dXJuICExO1xufVxuZnVuY3Rpb24gaXNPYmplY3RUeXBlKHR5cGVEZWYpIHtcbiAgcmV0dXJuIGlzVHlwZSh0eXBlRGVmLCBcIm9iamVjdFwiKSB8fCB0eXBlRGVmLmpzb25UeXBlID09PSBcIm9iamVjdFwiIHx8IFwiZmllbGRzXCIgaW4gdHlwZURlZjtcbn1cbmZ1bmN0aW9uIGlzQXJyYXlUeXBlKHR5cGVEZWYpIHtcbiAgcmV0dXJuIGlzVHlwZSh0eXBlRGVmLCBcImFycmF5XCIpO1xufVxuZnVuY3Rpb24gaXNSZWZlcmVuY2VUeXBlKHR5cGVEZWYpIHtcbiAgcmV0dXJuIGlzVHlwZSh0eXBlRGVmLCBcInJlZmVyZW5jZVwiKTtcbn1cbmZ1bmN0aW9uIGlzQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVHlwZSh0eXBlRGVmKSB7XG4gIHJldHVybiBpc1R5cGUodHlwZURlZiwgXCJjcm9zc0RhdGFzZXRSZWZlcmVuY2VcIik7XG59XG5mdW5jdGlvbiBpc1N0cmluZ1R5cGUodHlwZURlZikge1xuICByZXR1cm4gaXNUeXBlKHR5cGVEZWYsIFwic3RyaW5nXCIpO1xufVxuZnVuY3Rpb24gaXNOdW1iZXJUeXBlKHR5cGVEZWYpIHtcbiAgcmV0dXJuIGlzVHlwZSh0eXBlRGVmLCBcIm51bWJlclwiKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0cmluZ1R5cGVOb2RlRGVmaW50aW9uKHN0cmluZ1NjaGVtYVR5cGUpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBsaXN0T3B0aW9ucyA9IChfYSA9IHN0cmluZ1NjaGVtYVR5cGUub3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxpc3Q7XG4gIHJldHVybiBsaXN0T3B0aW9ucyAmJiBBcnJheS5pc0FycmF5KGxpc3RPcHRpb25zKSA/IHtcbiAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgb2Y6IGxpc3RPcHRpb25zLm1hcCgodikgPT4gKHtcbiAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICB2YWx1ZTogdHlwZW9mIHYgPT0gXCJzdHJpbmdcIiA/IHYgOiB2LnZhbHVlXG4gICAgfSkpXG4gIH0gOiB7XG4gICAgdHlwZTogXCJzdHJpbmdcIlxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlTnVtYmVyVHlwZU5vZGVEZWZpbnRpb24obnVtYmVyU2NoZW1hVHlwZSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IGxpc3RPcHRpb25zID0gKF9hID0gbnVtYmVyU2NoZW1hVHlwZS5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGlzdDtcbiAgcmV0dXJuIGxpc3RPcHRpb25zICYmIEFycmF5LmlzQXJyYXkobGlzdE9wdGlvbnMpID8ge1xuICAgIHR5cGU6IFwidW5pb25cIixcbiAgICBvZjogbGlzdE9wdGlvbnMubWFwKCh2KSA9PiAoe1xuICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgIHZhbHVlOiB0eXBlb2YgdiA9PSBcIm51bWJlclwiID8gdiA6IHYudmFsdWVcbiAgICB9KSlcbiAgfSA6IHtcbiAgICB0eXBlOiBcIm51bWJlclwiXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVSZWZlcmVuY2VUeXBlTm9kZURlZmludGlvbihyZWZlcmVuY2UyKSB7XG4gIGNvbnN0IHJlZmVyZW5jZXMgPSBnYXRoZXJSZWZlcmVuY2VOYW1lcyhyZWZlcmVuY2UyKTtcbiAgcmV0dXJuIHJlZmVyZW5jZXMubGVuZ3RoID09PSAxID8gY3JlYXRlUmVmZXJlbmNlVHlwZU5vZGUocmVmZXJlbmNlc1swXSkgOiB7XG4gICAgdHlwZTogXCJ1bmlvblwiLFxuICAgIG9mOiByZWZlcmVuY2VzLm1hcCgobmFtZSkgPT4gY3JlYXRlUmVmZXJlbmNlVHlwZU5vZGUobmFtZSkpXG4gIH07XG59XG5mdW5jdGlvbiBnYXRoZXJSZWZlcmVuY2VOYW1lcyh0eXBlKSB7XG4gIGNvbnN0IGFsbFJlZmVyZW5jZXMgPSBnYXRoZXJSZWZlcmVuY2VUeXBlcyh0eXBlKTtcbiAgcmV0dXJuIFsuLi4vKiBAX19QVVJFX18gKi8gbmV3IFNldChbLi4uYWxsUmVmZXJlbmNlcy5tYXAoKHJlZikgPT4gcmVmLm5hbWUpXSldO1xufVxuZnVuY3Rpb24gZ2F0aGVyUmVmZXJlbmNlVHlwZXModHlwZSkge1xuICBjb25zdCByZWZUbyA9IFwidG9cIiBpbiB0eXBlID8gdHlwZS50byA6IFtdO1xuICByZXR1cm4gXCJ0eXBlXCIgaW4gdHlwZSAmJiBpc1JlZmVyZW5jZVR5cGUodHlwZS50eXBlKSA/IFsuLi5nYXRoZXJSZWZlcmVuY2VUeXBlcyh0eXBlLnR5cGUpLCAuLi5yZWZUb10gOiByZWZUbztcbn1cbmZ1bmN0aW9uIGdhdGhlckZpZWxkcyh0eXBlKSB7XG4gIHJldHVybiBcImZpZWxkc1wiIGluIHR5cGUgPyB0eXBlLnR5cGUgPyBnYXRoZXJGaWVsZHModHlwZS50eXBlKS5jb25jYXQodHlwZS5maWVsZHMpIDogdHlwZS5maWVsZHMgOiBbXTtcbn1cbmZ1bmN0aW9uIGlzVHlwZSh0eXBlRGVmLCB0eXBlTmFtZSkge1xuICBsZXQgdHlwZSA9IHR5cGVEZWY7XG4gIGZvciAoOyB0eXBlOyApIHtcbiAgICBpZiAodHlwZS5uYW1lID09PSB0eXBlTmFtZSB8fCB0eXBlLnR5cGUgJiYgdHlwZS50eXBlLm5hbWUgPT09IHR5cGVOYW1lKVxuICAgICAgcmV0dXJuICEwO1xuICAgIHR5cGUgPSB0eXBlLnR5cGU7XG4gIH1cbiAgcmV0dXJuICExO1xufVxuZnVuY3Rpb24gbGFzdFR5cGUodHlwZURlZikge1xuICBsZXQgdHlwZSA9IHR5cGVEZWY7XG4gIGZvciAoOyB0eXBlOyApIHtcbiAgICBpZiAoIXR5cGUudHlwZSlcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIHR5cGUgPSB0eXBlLnR5cGU7XG4gIH1cbn1cbmZ1bmN0aW9uIHNvcnRCeURlcGVuZGVuY2llcyhjb21waWxlZFNjaGVtYSkge1xuICBjb25zdCBzZWVuID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgZnVuY3Rpb24gd2Fsa0RlcGVuZGVuY2llcyhzY2hlbWFUeXBlLCBkZXBlbmRlbmNpZXMpIHtcbiAgICBpZiAoIXNlZW4uaGFzKHNjaGVtYVR5cGUpKSB7XG4gICAgICBpZiAoc2Vlbi5hZGQoc2NoZW1hVHlwZSksIFwiZmllbGRzXCIgaW4gc2NoZW1hVHlwZSlcbiAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBnYXRoZXJGaWVsZHMoc2NoZW1hVHlwZSkpIHtcbiAgICAgICAgICBjb25zdCBsYXN0ID0gbGFzdFR5cGUoZmllbGQudHlwZSk7XG4gICAgICAgICAgaWYgKGxhc3QubmFtZSA9PT0gXCJkb2N1bWVudFwiKSB7XG4gICAgICAgICAgICBkZXBlbmRlbmNpZXMuYWRkKGxhc3QpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBzY2hlbWFUeXBlTmFtZTtcbiAgICAgICAgICBzY2hlbWFUeXBlLnR5cGUudHlwZSA/IHNjaGVtYVR5cGVOYW1lID0gZmllbGQudHlwZS50eXBlLm5hbWUgOiBcImpzb25UeXBlXCIgaW4gc2NoZW1hVHlwZS50eXBlICYmIChzY2hlbWFUeXBlTmFtZSA9IGZpZWxkLnR5cGUuanNvblR5cGUpLCAoc2NoZW1hVHlwZU5hbWUgPT09IFwib2JqZWN0XCIgfHwgc2NoZW1hVHlwZU5hbWUgPT09IFwiYmxvY2tcIikgJiYgKGlzUmVmZXJlbmNlVHlwZShmaWVsZC50eXBlKSA/IGZpZWxkLnR5cGUudG8uZm9yRWFjaCgocmVmKSA9PiBkZXBlbmRlbmNpZXMuYWRkKHJlZi50eXBlKSkgOiBkZXBlbmRlbmNpZXMuYWRkKGZpZWxkLnR5cGUpKSwgd2Fsa0RlcGVuZGVuY2llcyhmaWVsZC50eXBlLCBkZXBlbmRlbmNpZXMpO1xuICAgICAgICB9XG4gICAgICBlbHNlIGlmIChcIm9mXCIgaW4gc2NoZW1hVHlwZSlcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNjaGVtYVR5cGUub2YpXG4gICAgICAgICAgd2Fsa0RlcGVuZGVuY2llcyhpdGVtLCBkZXBlbmRlbmNpZXMpO1xuICAgIH1cbiAgfVxuICBjb25zdCBkZXBlbmRlbmN5TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgY29tcGlsZWRTY2hlbWEuZ2V0VHlwZU5hbWVzKCkuZm9yRWFjaCgodHlwZU5hbWUpID0+IHtcbiAgICBjb25zdCBzY2hlbWFUeXBlID0gY29tcGlsZWRTY2hlbWEuZ2V0KHR5cGVOYW1lKTtcbiAgICBpZiAoc2NoZW1hVHlwZSA9PT0gdm9pZCAwIHx8IHNjaGVtYVR5cGUudHlwZSA9PT0gbnVsbClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBkZXBlbmRlbmNpZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHdhbGtEZXBlbmRlbmNpZXMoc2NoZW1hVHlwZSwgZGVwZW5kZW5jaWVzKSwgZGVwZW5kZW5jeU1hcC5zZXQoc2NoZW1hVHlwZSwgZGVwZW5kZW5jaWVzKSwgc2Vlbi5jbGVhcigpO1xuICB9KTtcbiAgY29uc3QgdHlwZU5hbWVzID0gW10sIGN1cnJlbnRseVZpc2l0aW5nID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSwgdmlzaXRlZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGZ1bmN0aW9uIHZpc2l0KHR5cGUpIHtcbiAgICBpZiAodmlzaXRlZC5oYXModHlwZSkgfHwgY3VycmVudGx5VmlzaXRpbmcuaGFzKHR5cGUpKVxuICAgICAgcmV0dXJuO1xuICAgIGN1cnJlbnRseVZpc2l0aW5nLmFkZCh0eXBlKTtcbiAgICBjb25zdCBkZXBzID0gZGVwZW5kZW5jeU1hcC5nZXQodHlwZSk7XG4gICAgZGVwcyAhPT0gdm9pZCAwICYmIGRlcHMuZm9yRWFjaCgoZGVwKSA9PiB2aXNpdChkZXApKSwgY3VycmVudGx5VmlzaXRpbmcuZGVsZXRlKHR5cGUpLCB2aXNpdGVkLmFkZCh0eXBlKSwgdHlwZU5hbWVzLmluY2x1ZGVzKHR5cGUubmFtZSkgfHwgdHlwZU5hbWVzLnVuc2hpZnQodHlwZS5uYW1lKTtcbiAgfVxuICBmb3IgKGNvbnN0IFt0eXBlXSBvZiBkZXBlbmRlbmN5TWFwKVxuICAgIHZpc2l0KHR5cGUpO1xuICByZXR1cm4gdHlwZU5hbWVzO1xufVxuY29uc3QgSEVMUF9JRFMgPSB7XG4gIFRZUEVfSU5WQUxJRDogXCJzY2hlbWEtdHlwZS1pbnZhbGlkXCIsXG4gIFRZUEVfSVNfRVNNX01PRFVMRTogXCJzY2hlbWEtdHlwZS1pcy1lc20tbW9kdWxlXCIsXG4gIFRZUEVfTkFNRV9SRVNFUlZFRDogXCJzY2hlbWEtdHlwZS1uYW1lLXJlc2VydmVkXCIsXG4gIFRZUEVfTUlTU0lOR19OQU1FOiBcInNjaGVtYS10eXBlLW1pc3NpbmctbmFtZS1vci10eXBlXCIsXG4gIFRZUEVfTUlTU0lOR19UWVBFOiBcInNjaGVtYS10eXBlLW1pc3NpbmctbmFtZS1vci10eXBlXCIsXG4gIFRZUEVfVElUTEVfUkVDT01NRU5ERUQ6IFwic2NoZW1hLXR5cGUtdGl0bGUtaXMtcmVjb21tZW5kZWRcIixcbiAgVFlQRV9USVRMRV9JTlZBTElEOiBcInNjaGVtYS10eXBlLXRpdGxlLWlzLXJlY29tbWVuZGVkXCIsXG4gIE9CSkVDVF9GSUVMRFNfSU5WQUxJRDogXCJzY2hlbWEtb2JqZWN0LWZpZWxkcy1pbnZhbGlkXCIsXG4gIE9CSkVDVF9GSUVMRF9OT1RfVU5JUVVFOiBcInNjaGVtYS1vYmplY3QtZmllbGRzLWludmFsaWRcIixcbiAgT0JKRUNUX0ZJRUxEX05BTUVfSU5WQUxJRDogXCJzY2hlbWEtb2JqZWN0LWZpZWxkcy1pbnZhbGlkXCIsXG4gIE9CSkVDVF9GSUVMRF9ERUZJTklUSU9OX0lOVkFMSURfVFlQRTogXCJzY2hlbWEtb2JqZWN0LWZpZWxkcy1pbnZhbGlkXCIsXG4gIEFSUkFZX1BSRURFRklORURfQ0hPSUNFU19JTlZBTElEOiBcInNjaGVtYS1wcmVkZWZpbmVkLWNob2ljZXMtaW52YWxpZFwiLFxuICBBUlJBWV9PRl9BUlJBWTogXCJzY2hlbWEtYXJyYXktb2YtYXJyYXlcIixcbiAgQVJSQVlfT0ZfSU5WQUxJRDogXCJzY2hlbWEtYXJyYXktb2YtaW52YWxpZFwiLFxuICBBUlJBWV9PRl9OT1RfVU5JUVVFOiBcInNjaGVtYS1hcnJheS1vZi1pbnZhbGlkXCIsXG4gIEFSUkFZX09GX1RZUEVfR0xPQkFMX1RZUEVfQ09ORkxJQ1Q6IFwic2NoZW1hLWFycmF5LW9mLXR5cGUtZ2xvYmFsLXR5cGUtY29uZmxpY3RcIixcbiAgQVJSQVlfT0ZfVFlQRV9CVUlMVElOX1RZUEVfQ09ORkxJQ1Q6IFwic2NoZW1hLWFycmF5LW9mLXR5cGUtYnVpbHRpbi10eXBlLWNvbmZsaWN0XCIsXG4gIFJFRkVSRU5DRV9UT19JTlZBTElEOiBcInNjaGVtYS1yZWZlcmVuY2UtdG8taW52YWxpZFwiLFxuICBSRUZFUkVOQ0VfVE9fTk9UX1VOSVFVRTogXCJzY2hlbWEtcmVmZXJlbmNlLXRvLWludmFsaWRcIixcbiAgUkVGRVJFTkNFX0lOVkFMSURfT1BUSU9OUzogXCJzY2hlbWEtcmVmZXJlbmNlLWludmFsaWQtb3B0aW9uc1wiLFxuICBSRUZFUkVOQ0VfSU5WQUxJRF9PUFRJT05TX0xPQ0FUSU9OOiBcInNjaGVtYS1yZWZlcmVuY2Utb3B0aW9ucy1uZXN0aW5nXCIsXG4gIFJFRkVSRU5DRV9JTlZBTElEX0ZJTFRFUl9QQVJBTVNfQ09NQklOQVRJT046IFwic2NoZW1hLXJlZmVyZW5jZS1maWx0ZXItcGFyYW1zLWNvbWJpbmF0aW9uXCIsXG4gIFNMVUdfU0xVR0lGWV9GTl9SRU5BTUVEOiBcInNsdWctc2x1Z2lmeWZuLXJlbmFtZWRcIixcbiAgQVNTRVRfTUVUQURBVEFfRklFTERfSU5WQUxJRDogXCJhc3NldC1tZXRhZGF0YS1maWVsZC1pbnZhbGlkXCIsXG4gIENST1NTX0RBVEFTRVRfUkVGRVJFTkNFX0lOVkFMSUQ6IFwiY3Jvc3MtZGF0YXNldC1yZWZlcmVuY2UtaW52YWxpZFwiLFxuICBERVBSRUNBVEVEX0JMT0NLRURJVE9SX0tFWTogXCJzY2hlbWEtZGVwcmVjYXRlZC1ibG9ja2VkaXRvci1rZXlcIixcbiAgU1RBTkRBTE9ORV9CTE9DS19UWVBFOiBcInNjaGVtYS1zdGFuZGFsb25lLWJsb2NrLXR5cGVcIlxufTtcbmZ1bmN0aW9uIGNyZWF0ZVZhbGlkYXRpb25SZXN1bHQoc2V2ZXJpdHksIG1lc3NhZ2UsIGhlbHBJZCkge1xuICBpZiAoaGVscElkICYmICFPYmplY3Qua2V5cyhIRUxQX0lEUykuc29tZSgoaWQpID0+IEhFTFBfSURTW2lkXSA9PT0gaGVscElkKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVXNlZCB0aGUgdW5rbm93biBoZWxwSWQgXCIke2hlbHBJZH1cIiwgcGxlYXNlIGFkZCBpdCB0byB0aGUgYXJyYXkgaW4gY3JlYXRlVmFsaWRhdGlvblJlc3VsdC5qc2BcbiAgICApO1xuICByZXR1cm4ge1xuICAgIHNldmVyaXR5LFxuICAgIG1lc3NhZ2UsXG4gICAgaGVscElkXG4gIH07XG59XG5jb25zdCBlcnJvciA9IChtZXNzYWdlLCBoZWxwSWQpID0+IGNyZWF0ZVZhbGlkYXRpb25SZXN1bHQoXCJlcnJvclwiLCBtZXNzYWdlLCBoZWxwSWQpLCB3YXJuaW5nID0gKG1lc3NhZ2UsIGhlbHBJZCkgPT4gY3JlYXRlVmFsaWRhdGlvblJlc3VsdChcIndhcm5pbmdcIiwgbWVzc2FnZSwgaGVscElkKTtcbmZ1bmN0aW9uIGdyb3VwUHJvYmxlbXModHlwZXMpIHtcbiAgcmV0dXJuIGZsYXR0ZW4odHlwZXMubWFwKCh0eXBlKSA9PiBnZXRUeXBlUHJvYmxlbXModHlwZSkpKS5maWx0ZXIoXG4gICAgKHR5cGUpID0+IHR5cGUucHJvYmxlbXMubGVuZ3RoID4gMFxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlVHlwZVdpdGhNZW1iZXJzUHJvYmxlbXNBY2Nlc3NvcihtZW1iZXJQcm9wZXJ0eU5hbWUsIGdldE1lbWJlcnMgPSAodHlwZSkgPT4gZ2V0KHR5cGUsIG1lbWJlclByb3BlcnR5TmFtZSkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHR5cGUsIHBhcmVudFBhdGgpIHtcbiAgICBjb25zdCBjdXJyZW50UGF0aCA9IFtcbiAgICAgIC4uLnBhcmVudFBhdGgsXG4gICAgICB7IGtpbmQ6IFwidHlwZVwiLCB0eXBlOiB0eXBlLnR5cGUsIG5hbWU6IHR5cGUubmFtZSB9XG4gICAgXSwgbWVtYmVycyA9IGdldE1lbWJlcnModHlwZSkgfHwgW10sIG1lbWJlclByb2JsZW1zID0gQXJyYXkuaXNBcnJheShtZW1iZXJzKSA/IG1lbWJlcnMubWFwKChtZW1iZXJUeXBlKSA9PiB7XG4gICAgICBjb25zdCBwcm9wZXJ0eVNlZ21lbnQgPSB7XG4gICAgICAgIGtpbmQ6IFwicHJvcGVydHlcIixcbiAgICAgICAgbmFtZTogbWVtYmVyUHJvcGVydHlOYW1lXG4gICAgICB9LCBtZW1iZXJQYXRoID0gWy4uLmN1cnJlbnRQYXRoLCBwcm9wZXJ0eVNlZ21lbnRdO1xuICAgICAgcmV0dXJuIGdldFR5cGVQcm9ibGVtcyhtZW1iZXJUeXBlLCBtZW1iZXJQYXRoKTtcbiAgICB9KSA6IFtcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIHBhdGg6IGN1cnJlbnRQYXRoLFxuICAgICAgICAgIHByb2JsZW1zOiBbZXJyb3IoYE1lbWJlciBkZWNsYXJhdGlvbiAoJHttZW1iZXJQcm9wZXJ0eU5hbWV9KSBpcyBub3QgYW4gYXJyYXlgKV1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIF07XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgcGF0aDogY3VycmVudFBhdGgsXG4gICAgICAgIHByb2JsZW1zOiB0eXBlLl9wcm9ibGVtcyB8fCBbXVxuICAgICAgfSxcbiAgICAgIC4uLmZsYXR0ZW4obWVtYmVyUHJvYmxlbXMpXG4gICAgXTtcbiAgfTtcbn1cbmNvbnN0IGFycmlmeSA9ICh2YWwpID0+IEFycmF5LmlzQXJyYXkodmFsKSA/IHZhbCA6IHR5cGVvZiB2YWwgPiBcInVcIiAmJiBbXSB8fCBbdmFsXSwgZ2V0T2JqZWN0UHJvYmxlbXMgPSBjcmVhdGVUeXBlV2l0aE1lbWJlcnNQcm9ibGVtc0FjY2Vzc29yKFwiZmllbGRzXCIpLCBnZXRJbWFnZVByb2JsZW1zID0gY3JlYXRlVHlwZVdpdGhNZW1iZXJzUHJvYmxlbXNBY2Nlc3NvcihcImZpZWxkc1wiKSwgZ2V0RmlsZVByb2JsZW1zID0gY3JlYXRlVHlwZVdpdGhNZW1iZXJzUHJvYmxlbXNBY2Nlc3NvcihcImZpZWxkc1wiKSwgZ2V0QXJyYXlQcm9ibGVtcyA9IGNyZWF0ZVR5cGVXaXRoTWVtYmVyc1Byb2JsZW1zQWNjZXNzb3IoXCJvZlwiKSwgZ2V0UmVmZXJlbmNlUHJvYmxlbXMgPSBjcmVhdGVUeXBlV2l0aE1lbWJlcnNQcm9ibGVtc0FjY2Vzc29yKFxuICBcInRvXCIsXG4gICh0eXBlKSA9PiBcInRvXCIgaW4gdHlwZSA/IGFycmlmeSh0eXBlLnRvKSA6IFtdXG4pLCBnZXRCbG9ja0Fubm90YXRpb25Qcm9ibGVtcyA9IGNyZWF0ZVR5cGVXaXRoTWVtYmVyc1Byb2JsZW1zQWNjZXNzb3IoXCJtYXJrcy5hbm5vdGF0aW9uc1wiKSwgZ2V0QmxvY2tNZW1iZXJQcm9ibGVtcyA9IGNyZWF0ZVR5cGVXaXRoTWVtYmVyc1Byb2JsZW1zQWNjZXNzb3IoXCJvZlwiKSwgZ2V0QmxvY2tQcm9ibGVtcyA9ICh0eXBlLCBwcm9ibGVtcykgPT4gW1xuICAuLi5nZXRCbG9ja0Fubm90YXRpb25Qcm9ibGVtcyh0eXBlLCBwcm9ibGVtcyksXG4gIC4uLmdldEJsb2NrTWVtYmVyUHJvYmxlbXModHlwZSwgcHJvYmxlbXMpXG5dO1xuZnVuY3Rpb24gZ2V0RGVmYXVsdFByb2JsZW1zKHR5cGUsIHBhdGggPSBbXSkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIHBhdGg6IFsuLi5wYXRoLCB7IGtpbmQ6IFwidHlwZVwiLCB0eXBlOiB0eXBlLnR5cGUsIG5hbWU6IHR5cGUubmFtZSB9XSxcbiAgICAgIHByb2JsZW1zOiB0eXBlLl9wcm9ibGVtcyB8fCBbXVxuICAgIH1cbiAgXTtcbn1cbmZ1bmN0aW9uIGdldFR5cGVQcm9ibGVtcyh0eXBlLCBwYXRoID0gW10pIHtcbiAgc3dpdGNoICh0eXBlLnR5cGUpIHtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICByZXR1cm4gZ2V0T2JqZWN0UHJvYmxlbXModHlwZSwgcGF0aCk7XG4gICAgY2FzZSBcImRvY3VtZW50XCI6XG4gICAgICByZXR1cm4gZ2V0T2JqZWN0UHJvYmxlbXModHlwZSwgcGF0aCk7XG4gICAgY2FzZSBcImFycmF5XCI6XG4gICAgICByZXR1cm4gZ2V0QXJyYXlQcm9ibGVtcyh0eXBlLCBwYXRoKTtcbiAgICBjYXNlIFwicmVmZXJlbmNlXCI6XG4gICAgICByZXR1cm4gZ2V0UmVmZXJlbmNlUHJvYmxlbXModHlwZSwgcGF0aCk7XG4gICAgY2FzZSBcImJsb2NrXCI6XG4gICAgICByZXR1cm4gZ2V0QmxvY2tQcm9ibGVtcyh0eXBlLCBwYXRoKTtcbiAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgIHJldHVybiBnZXRJbWFnZVByb2JsZW1zKHR5cGUsIHBhdGgpO1xuICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICByZXR1cm4gZ2V0RmlsZVByb2JsZW1zKHR5cGUsIHBhdGgpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZ2V0RGVmYXVsdFByb2JsZW1zKHR5cGUsIHBhdGgpO1xuICB9XG59XG5mdW5jdGlvbiBnZXREdXBlcyhhcnJheTIsIHNlbGVjdG9yID0gKHYpID0+IHYpIHtcbiAgY29uc3QgZHVwZXMgPSBhcnJheTIucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICBjb25zdCBrZXkgPSBzZWxlY3RvcihpdGVtKTtcbiAgICByZXR1cm4gYWNjW2tleV0gfHwgKGFjY1trZXldID0gW10pLCBhY2Nba2V5XS5wdXNoKGl0ZW0pLCBhY2M7XG4gIH0sIHt9KTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGR1cGVzKS5tYXAoKGtleSkgPT4gZHVwZXNba2V5XS5sZW5ndGggPiAxID8gZHVwZXNba2V5XSA6IG51bGwpLmZpbHRlcihCb29sZWFuKTtcbn1cbmNvbnN0IE5PT1BfVklTSVRPUiA9ICh0eXBlRGVmKSA9PiB0eXBlRGVmLCBUWVBFX1RZUEUgPSB7IG5hbWU6IFwidHlwZVwiLCB0eXBlOiBudWxsIH0sIEZVVFVSRV9SRVNFUlZFRCA9IFtcImFueVwiLCBcInRpbWVcIiwgXCJkYXRlXCJdO1xuZnVuY3Rpb24gdHJhdmVyc2VTY2hlbWEodHlwZXMgPSBbXSwgY29yZVR5cGVzMiA9IFtdLCB2aXNpdG9yID0gTk9PUF9WSVNJVE9SKSB7XG4gIGNvbnN0IGNvcmVUeXBlc1JlZ2lzdHJ5ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIHJlZ2lzdHJ5ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIGNvcmVUeXBlTmFtZXMyID0gY29yZVR5cGVzMi5tYXAoKHR5cGVEZWYpID0+IHR5cGVEZWYubmFtZSksIHJlc2VydmVkVHlwZU5hbWVzID0gRlVUVVJFX1JFU0VSVkVELmNvbmNhdChjb3JlVHlwZU5hbWVzMiksIHR5cGVOYW1lcyA9IHR5cGVzLm1hcCgodHlwZURlZikgPT4gdHlwZURlZiAmJiB0eXBlRGVmLm5hbWUpLmZpbHRlcihCb29sZWFuKTtcbiAgY29yZVR5cGVzMi5mb3JFYWNoKChjb3JlVHlwZSkgPT4ge1xuICAgIGNvcmVUeXBlc1JlZ2lzdHJ5W2NvcmVUeXBlLm5hbWVdID0gY29yZVR5cGU7XG4gIH0pLCB0eXBlcy5mb3JFYWNoKCh0eXBlLCBpKSA9PiB7XG4gICAgcmVnaXN0cnlbdHlwZSAmJiB0eXBlLm5hbWUgfHwgYF9fdW5uYW1lZF8ke2l9YF0gPSB7fTtcbiAgfSk7XG4gIGZ1bmN0aW9uIGdldFR5cGUodHlwZU5hbWUpIHtcbiAgICByZXR1cm4gdHlwZU5hbWUgPT09IFwidHlwZVwiID8gVFlQRV9UWVBFIDogY29yZVR5cGVzUmVnaXN0cnlbdHlwZU5hbWVdIHx8IHJlZ2lzdHJ5W3R5cGVOYW1lXSB8fCBudWxsO1xuICB9XG4gIGNvbnN0IGR1cGxpY2F0ZU5hbWVzID0gdW5pcShmbGF0dGVuKGdldER1cGVzKHR5cGVOYW1lcykpKTtcbiAgZnVuY3Rpb24gaXNEdXBsaWNhdGUodHlwZU5hbWUpIHtcbiAgICByZXR1cm4gZHVwbGljYXRlTmFtZXMuaW5jbHVkZXModHlwZU5hbWUpO1xuICB9XG4gIGZ1bmN0aW9uIGdldFR5cGVOYW1lcygpIHtcbiAgICByZXR1cm4gdHlwZU5hbWVzLmNvbmNhdChjb3JlVHlwZU5hbWVzMik7XG4gIH1cbiAgZnVuY3Rpb24gaXNSZXNlcnZlZCh0eXBlTmFtZSkge1xuICAgIHJldHVybiB0eXBlTmFtZSA9PT0gXCJ0eXBlXCIgfHwgcmVzZXJ2ZWRUeXBlTmFtZXMuaW5jbHVkZXModHlwZU5hbWUpO1xuICB9XG4gIGNvbnN0IHZpc2l0VHlwZSA9IChpc1Jvb3QpID0+ICh0eXBlRGVmLCBpbmRleCkgPT4gdmlzaXRvcih0eXBlRGVmLCB7XG4gICAgdmlzaXQ6IHZpc2l0VHlwZSghMSksXG4gICAgaXNSb290LFxuICAgIGdldFR5cGUsXG4gICAgZ2V0VHlwZU5hbWVzLFxuICAgIGlzUmVzZXJ2ZWQsXG4gICAgaXNEdXBsaWNhdGUsXG4gICAgaW5kZXhcbiAgfSk7XG4gIHJldHVybiBjb3JlVHlwZXMyLmZvckVhY2goKGNvcmVUeXBlRGVmKSA9PiB7XG4gICAgT2JqZWN0LmFzc2lnbihjb3JlVHlwZXNSZWdpc3RyeVtjb3JlVHlwZURlZi5uYW1lXSwgdmlzaXRUeXBlKGNvcmVUeXBlRGVmKSk7XG4gIH0pLCB0eXBlcy5mb3JFYWNoKCh0eXBlRGVmLCBpKSA9PiB7XG4gICAgT2JqZWN0LmFzc2lnbihcbiAgICAgIHJlZ2lzdHJ5W3R5cGVEZWYgJiYgdHlwZURlZi5uYW1lIHx8IGBfX3VubmFtZWRfJHtpfWBdLFxuICAgICAgdmlzaXRUeXBlKCEwKSh0eXBlRGVmLCBpKVxuICAgICk7XG4gIH0pLCB7XG4gICAgZ2V0KHR5cGVOYW1lKSB7XG4gICAgICBjb25zdCByZXMgPSByZWdpc3RyeVt0eXBlTmFtZV0gfHwgY29yZVR5cGVzUmVnaXN0cnlbdHlwZU5hbWVdO1xuICAgICAgaWYgKHJlcylcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VjaCB0eXBlOiAke3R5cGVOYW1lfWApO1xuICAgIH0sXG4gICAgaGFzKHR5cGVOYW1lKSB7XG4gICAgICByZXR1cm4gdHlwZU5hbWUgaW4gcmVnaXN0cnkgfHwgdHlwZU5hbWUgaW4gY29yZVR5cGVzUmVnaXN0cnk7XG4gICAgfSxcbiAgICBnZXRUeXBlTmFtZXMoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMocmVnaXN0cnkpO1xuICAgIH0sXG4gICAgZ2V0VHlwZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRUeXBlTmFtZXMoKS5tYXAodGhpcy5nZXQpO1xuICAgIH0sXG4gICAgdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZXMoKTtcbiAgICB9XG4gIH07XG59XG5jb25zdCBjb3JlVHlwZXMgPSBbXG4gIHsgbmFtZTogXCJhcnJheVwiLCBqc29uVHlwZTogXCJhcnJheVwiLCB0eXBlOiBcInR5cGVcIiB9LFxuICB7IG5hbWU6IFwiYmxvY2tcIiwganNvblR5cGU6IFwib2JqZWN0XCIsIHR5cGU6IFwidHlwZVwiIH0sXG4gIHsgbmFtZTogXCJib29sZWFuXCIsIGpzb25UeXBlOiBcImJvb2xlYW5cIiwgdHlwZTogXCJ0eXBlXCIgfSxcbiAgeyBuYW1lOiBcImRhdGV0aW1lXCIsIGpzb25UeXBlOiBcInN0cmluZ1wiLCB0eXBlOiBcInR5cGVcIiB9LFxuICB7IG5hbWU6IFwiZGF0ZVwiLCBqc29uVHlwZTogXCJzdHJpbmdcIiwgdHlwZTogXCJ0eXBlXCIgfSxcbiAgeyBuYW1lOiBcImRvY3VtZW50XCIsIGpzb25UeXBlOiBcIm9iamVjdFwiLCB0eXBlOiBcInR5cGVcIiB9LFxuICB7IG5hbWU6IFwiZW1haWxcIiwganNvblR5cGU6IFwic3RyaW5nXCIsIHR5cGU6IFwidHlwZVwiIH0sXG4gIHsgbmFtZTogXCJmaWxlXCIsIGpzb25UeXBlOiBcIm9iamVjdFwiLCB0eXBlOiBcInR5cGVcIiB9LFxuICB7IG5hbWU6IFwiZ2VvcG9pbnRcIiwganNvblR5cGU6IFwib2JqZWN0XCIsIHR5cGU6IFwidHlwZVwiIH0sXG4gIHsgbmFtZTogXCJpbWFnZVwiLCBqc29uVHlwZTogXCJvYmplY3RcIiwgdHlwZTogXCJ0eXBlXCIgfSxcbiAgeyBuYW1lOiBcIm51bWJlclwiLCBqc29uVHlwZTogXCJudW1iZXJcIiwgdHlwZTogXCJ0eXBlXCIgfSxcbiAgeyBuYW1lOiBcIm9iamVjdFwiLCBqc29uVHlwZTogXCJvYmplY3RcIiwgdHlwZTogXCJ0eXBlXCIgfSxcbiAgeyBuYW1lOiBcInJlZmVyZW5jZVwiLCBqc29uVHlwZTogXCJvYmplY3RcIiwgdHlwZTogXCJ0eXBlXCIgfSxcbiAgeyBuYW1lOiBcImNyb3NzRGF0YXNldFJlZmVyZW5jZVwiLCBqc29uVHlwZTogXCJvYmplY3RcIiwgdHlwZTogXCJ0eXBlXCIgfSxcbiAgeyBuYW1lOiBcInNsdWdcIiwganNvblR5cGU6IFwib2JqZWN0XCIsIHR5cGU6IFwidHlwZVwiIH0sXG4gIHsgbmFtZTogXCJzcGFuXCIsIGpzb25UeXBlOiBcIm9iamVjdFwiLCB0eXBlOiBcInR5cGVcIiB9LFxuICB7IG5hbWU6IFwic3RyaW5nXCIsIGpzb25UeXBlOiBcInN0cmluZ1wiLCB0eXBlOiBcInR5cGVcIiB9LFxuICB7IG5hbWU6IFwidGVsZXBob25lXCIsIGpzb25UeXBlOiBcInN0cmluZ1wiLCB0eXBlOiBcInR5cGVcIiB9LFxuICB7IG5hbWU6IFwidGV4dFwiLCBqc29uVHlwZTogXCJzdHJpbmdcIiwgdHlwZTogXCJ0eXBlXCIgfSxcbiAgeyBuYW1lOiBcInVybFwiLCBqc29uVHlwZTogXCJzdHJpbmdcIiwgdHlwZTogXCJ0eXBlXCIgfVxuXSwgY29yZVR5cGVOYW1lcyA9IGNvcmVUeXBlcy5tYXAoKHQpID0+IHQubmFtZSk7XG5mdW5jdGlvbiB0cmF2ZXJzZVNhbml0eVNjaGVtYShzY2hlbWFUeXBlcywgdmlzaXRvcikge1xuICByZXR1cm4gdHJhdmVyc2VTY2hlbWEoc2NoZW1hVHlwZXMsIGNvcmVUeXBlcywgdmlzaXRvcik7XG59XG5mdW5jdGlvbiBpc1ByaW1pdGl2ZVR5cGVOYW1lKHR5cGVOYW1lKSB7XG4gIHJldHVybiB0eXBlTmFtZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlTmFtZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlTmFtZSA9PT0gXCJib29sZWFuXCI7XG59XG5mdW5jdGlvbiBpc0Fzc2lnbmFibGUodHlwZU5hbWUsIHR5cGUpIHtcbiAgcmV0dXJuICh0eXBlb2YgdHlwZS5uYW1lID09IFwic3RyaW5nXCIgPyB0eXBlLm5hbWUgOiB0eXBlLnR5cGUpID09PSB0eXBlTmFtZTtcbn1cbmZ1bmN0aW9uIHF1b3RlJDIobikge1xuICByZXR1cm4gYFwiJHtufVwiYDtcbn1cbmZ1bmN0aW9uIHBsdXJhbGl6ZShhcnIsIHN1ZiA9IFwic1wiKSB7XG4gIHJldHVybiBhcnIubGVuZ3RoID09PSAxID8gXCJcIiA6IHN1Zjtcbn1cbmZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBgYXJyYXkgd2l0aCAke3ZhbHVlLmxlbmd0aH0gZW50cmllc2AgOiB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCA/IGBvYmplY3Qgd2l0aCBrZXlzICR7aHVtYW5pemVMaXN0KE9iamVjdC5rZXlzKHZhbHVlKS5tYXAocXVvdGUkMikpfWAgOiBxdW90ZSQyKHZhbHVlKTtcbn1cbnZhciBhcnJheSA9ICh0eXBlRGVmLCB2aXNpdG9yQ29udGV4dCkgPT4ge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3Qgb2ZJc0FycmF5ID0gQXJyYXkuaXNBcnJheSh0eXBlRGVmLm9mKTtcbiAgaWYgKG9mSXNBcnJheSkge1xuICAgIGNvbnN0IGludmFsaWQgPSB0eXBlRGVmLm9mLnJlZHVjZSgoZXJycywgZGVmLCBpZHgpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgZGVmLm5hbWUgPT0gXCJzdHJpbmdcIiAmJiAvLyBzcGVjaWZ5aW5nIHRoZSBzYW1lIG5hbWUgYXMgdGhlIHR5cGUgaXMgcmVkdW5kYW50LCBidXQgc2hvdWxkIG5vdCBiZSBhIGhhcmQgZXJyb3IgYXQgdGhpcyBwb2ludFxuICAgICAgLy8gQ29uc2lkZXIgc2hvd2luZyBhIHdhcm5pbmcgZm9yIHRoaXMgYW5kIGRlcHJlY2F0ZSB0aGlzIGFiaWxpdHkgZXZlbnR1YWxseVxuICAgICAgZGVmLm5hbWUgIT09IGRlZi50eXBlICYmIGNvcmVUeXBlTmFtZXMuaW5jbHVkZXMoZGVmLm5hbWUpKVxuICAgICAgICByZXR1cm4gZXJycy5jb25jYXQoXG4gICAgICAgICAgZXJyb3IoXG4gICAgICAgICAgICBgRm91bmQgYXJyYXkgbWVtYmVyIGRlY2xhcmF0aW9uIHdpdGggdGhlIHNhbWUgdHlwZSBuYW1lIGFzIGEgYnVpbHQtaW4gdHlwZSAoXCIke2RlZi5uYW1lfVwiKS4gQXJyYXkgbWVtYmVycyBjYW4gbm90IGJlIGdpdmVuIHRoZSBzYW1lIG5hbWUgYXMgYSBidWlsdC1pbiB0eXBlLmAsXG4gICAgICAgICAgICBIRUxQX0lEUy5BUlJBWV9PRl9UWVBFX0JVSUxUSU5fVFlQRV9DT05GTElDVFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIGlmIChkZWYudHlwZSA9PT0gXCJvYmplY3RcIiAmJiBkZWYubmFtZSAmJiB2aXNpdG9yQ29udGV4dC5nZXRUeXBlKGRlZi5uYW1lKSlcbiAgICAgICAgcmV0dXJuIGVycnMuY29uY2F0KFxuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBgRm91bmQgYXJyYXkgbWVtYmVyIGRlY2xhcmF0aW9uIHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgZ2xvYmFsIHNjaGVtYSB0eXBlIFwiJHtkZWYubmFtZX1cIi4gSXQncyByZWNvbW1lbmRlZCB0byB1c2UgYSB1bmlxdWUgbmFtZSB0byBhdm9pZCBwb3NzaWJseSBpbmNvbXBhdGlibGUgZGF0YSB0eXBlcyB0aGF0IHNoYXJlcyB0aGUgc2FtZSBuYW1lLmAsXG4gICAgICAgICAgICBIRUxQX0lEUy5BUlJBWV9PRl9UWVBFX0dMT0JBTF9UWVBFX0NPTkZMSUNUXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgaWYgKGRlZi50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgIHJldHVybiBlcnJzLmNvbmNhdChcbiAgICAgICAgICBlcnJvcihcbiAgICAgICAgICAgICdGb3VuZCBhcnJheSBtZW1iZXIgZGVjbGFyYXRpb24gb2YgdHlwZSBcImFycmF5XCIgLSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cyBhcmUgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgYnkgU2FuaXR5JyxcbiAgICAgICAgICAgIEhFTFBfSURTLkFSUkFZX09GX0FSUkFZXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgaWYgKGRlZilcbiAgICAgICAgcmV0dXJuIGVycnM7XG4gICAgICBjb25zdCBlcnIgPSBgRm91bmQgJHtkZWYgPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiBkZWZ9LCBleHBlY3RlZCBtZW1iZXIgZGVjbGFyYXRpb25gO1xuICAgICAgcmV0dXJuIGVycnMuY29uY2F0KFxuICAgICAgICBlcnJvcihcbiAgICAgICAgICBgRm91bmQgaW52YWxpZCB0eXBlIG1lbWJlciBkZWNsYXJhdGlvbiBpbiBhcnJheSBhdCBpbmRleCAke2lkeH06ICR7ZXJyfWAsXG4gICAgICAgICAgSEVMUF9JRFMuQVJSQVlfT0ZfSU5WQUxJRFxuICAgICAgICApXG4gICAgICApO1xuICAgIH0sIFtdKTtcbiAgICBpZiAoaW52YWxpZC5sZW5ndGggPiAwKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4udHlwZURlZixcbiAgICAgICAgb2Y6IFtdLFxuICAgICAgICBfcHJvYmxlbXM6IGludmFsaWRcbiAgICAgIH07XG4gIH1cbiAgY29uc3QgcHJvYmxlbXMgPSBmbGF0dGVuKFtcbiAgICBvZklzQXJyYXkgPyBnZXREdXBlcyh0eXBlRGVmLm9mLCAodCkgPT4gYCR7dC5uYW1lfTske3QudHlwZX1gKS5tYXAoXG4gICAgICAoZHVwZXMpID0+IGVycm9yKFxuICAgICAgICBgRm91bmQgJHtkdXBlcy5sZW5ndGh9IG1lbWJlcnMgd2l0aCBzYW1lIHR5cGUsIGJ1dCBub3QgdW5pcXVlIG5hbWVzIFwiJHtkdXBlc1swXS50eXBlfVwiIGluIGFycmF5LiBUaGlzIG1ha2VzIGl0IGltcG9zc2libGUgdG8gdGVsbCB0aGVpciB2YWx1ZXMgYXBhcnQgYW5kIHlvdSBzaG91bGQgY29uc2lkZXIgbmFtaW5nIHRoZW1gLFxuICAgICAgICBIRUxQX0lEUy5BUlJBWV9PRl9OT1RfVU5JUVVFXG4gICAgICApXG4gICAgKSA6IGVycm9yKFxuICAgICAgJ1RoZSBhcnJheSB0eXBlIGlzIG1pc3Npbmcgb3IgaGF2aW5nIGFuIGludmFsaWQgdmFsdWUgZm9yIHRoZSByZXF1aXJlZCBcIm9mXCIgcHJvcGVydHknLFxuICAgICAgSEVMUF9JRFMuQVJSQVlfT0ZfSU5WQUxJRFxuICAgIClcbiAgXSksIG9mID0gb2ZJc0FycmF5ID8gdHlwZURlZi5vZiA6IFtdLCBoYXNPYmplY3RUeXBlc1dpdGhvdXROYW1lID0gb2Yuc29tZShcbiAgICAodHlwZSkgPT4gdHlwZS50eXBlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiB0eXBlLm5hbWUgPiBcInVcIlxuICApO1xuICBvZi5zb21lKChvZlR5cGUpID0+IG9mVHlwZS50eXBlID09PSBcImJsb2NrXCIpICYmIGhhc09iamVjdFR5cGVzV2l0aG91dE5hbWUgJiYgcHJvYmxlbXMucHVzaChcbiAgICBlcnJvcihcbiAgICAgIFwiVGhlIGFycmF5IHR5cGUncyAnb2YnIHByb3BlcnR5IGNhbid0IGhhdmUgYW4gb2JqZWN0IHR5cGUgd2l0aG91dCBhICduYW1lJyBwcm9wZXJ0eSBhcyBtZW1iZXIsIHdoZW4gdGhlICdibG9jaycgdHlwZSBpcyBhbHNvIGEgbWVtYmVyIG9mIHRoYXQgYXJyYXkuXCIsXG4gICAgICBIRUxQX0lEUy5BUlJBWV9PRl9JTlZBTElEXG4gICAgKVxuICApO1xuICBjb25zdCBbcHJpbWl0aXZlVHlwZXMsIG9iamVjdFR5cGVzXSA9IHBhcnRpdGlvbihcbiAgICBvZixcbiAgICAob2ZUeXBlKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuIGlzUHJpbWl0aXZlVHlwZU5hbWUob2ZUeXBlLnR5cGUpIHx8IGlzUHJpbWl0aXZlVHlwZU5hbWUoKF9hMiA9IHZpc2l0b3JDb250ZXh0LmdldFR5cGUob2ZUeXBlLnR5cGUpKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmpzb25UeXBlKTtcbiAgICB9XG4gICksIGlzTWl4ZWRBcnJheSA9IHByaW1pdGl2ZVR5cGVzLmxlbmd0aCA+IDAgJiYgb2JqZWN0VHlwZXMubGVuZ3RoID4gMDtcbiAgaWYgKGlzTWl4ZWRBcnJheSkge1xuICAgIGNvbnN0IHByaW1pdGl2ZVR5cGVOYW1lcyA9IHByaW1pdGl2ZVR5cGVzLm1hcCgodCkgPT4gdC50eXBlKSwgb2JqZWN0VHlwZU5hbWVzID0gb2JqZWN0VHlwZXMubWFwKCh0KSA9PiB0LnR5cGUpO1xuICAgIHByb2JsZW1zLnB1c2goXG4gICAgICBlcnJvcihcbiAgICAgICAgYFRoZSBhcnJheSB0eXBlJ3MgJ29mJyBwcm9wZXJ0eSBjYW4ndCBoYXZlIGJvdGggb2JqZWN0IHR5cGVzIGFuZCBwcmltaXRpdmUgdHlwZXMgKGZvdW5kIHByaW1pdGl2ZSB0eXBlICR7cGx1cmFsaXplKFxuICAgICAgICAgIHByaW1pdGl2ZVR5cGVOYW1lc1xuICAgICAgICApfSAke2h1bWFuaXplTGlzdChwcmltaXRpdmVUeXBlTmFtZXMubWFwKHF1b3RlJDIpKX0gYW5kIG9iamVjdCB0eXBlJHtwbHVyYWxpemUoXG4gICAgICAgICAgb2JqZWN0VHlwZU5hbWVzXG4gICAgICAgICl9ICR7aHVtYW5pemVMaXN0KG9iamVjdFR5cGVOYW1lcy5tYXAocXVvdGUkMikpfSlgLFxuICAgICAgICBIRUxQX0lEUy5BUlJBWV9PRl9JTlZBTElEXG4gICAgICApXG4gICAgKTtcbiAgfVxuICBjb25zdCBsaXN0ID0gKF9hID0gdHlwZURlZiA9PSBudWxsID8gdm9pZCAwIDogdHlwZURlZi5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGlzdDtcbiAgcmV0dXJuICFpc01peGVkQXJyYXkgJiYgQXJyYXkuaXNBcnJheShsaXN0KSAmJiAocHJpbWl0aXZlVHlwZXMubGVuZ3RoID4gMCA/IGxpc3QuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICBjb25zdCB2YWx1ZSA9IChfYTIgPSBvcHRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbi52YWx1ZSkgIT0gbnVsbCA/IF9hMiA6IG9wdGlvbjtcbiAgICBpZiAoIXByaW1pdGl2ZVR5cGVzLnNvbWUoKHByaW1pdGl2ZVR5cGUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gdmlzaXRvckNvbnRleHQuZ2V0VHlwZShwcmltaXRpdmVUeXBlLnR5cGUpLmpzb25UeXBlKSkge1xuICAgICAgY29uc3QgZm9ybWF0dGVkVHlwZUxpc3QgPSBodW1hbml6ZUxpc3QoXG4gICAgICAgIHByaW1pdGl2ZVR5cGVzLm1hcCgodCkgPT4gdC5uYW1lIHx8IHQudHlwZSksXG4gICAgICAgIHsgY29uanVuY3Rpb246IFwib3JcIiB9XG4gICAgICApO1xuICAgICAgcHJvYmxlbXMucHVzaChcbiAgICAgICAgZXJyb3IoXG4gICAgICAgICAgYEFuIGludmFsaWQgZW50cnkgZm91bmQgaW4gb3B0aW9ucy5saXN0OiAke2Zvcm1hdChcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKX0uIE11c3QgYmUgZWl0aGVyIGEgdmFsdWUgb2YgdHlwZSAke2Zvcm1hdHRlZFR5cGVMaXN0fSwgb3IgYW4gb2JqZWN0IHdpdGgge3RpdGxlOiBzdHJpbmcsIHZhbHVlOiAke2Zvcm1hdHRlZFR5cGVMaXN0fX1gLFxuICAgICAgICAgIEhFTFBfSURTLkFSUkFZX1BSRURFRklORURfQ0hPSUNFU19JTlZBTElEXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9KSA6IGxpc3QuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgY29uc3Qgb3B0aW9uVHlwZU5hbWUgPSBvcHRpb24uX3R5cGUgfHwgXCJvYmplY3RcIjtcbiAgICBvYmplY3RUeXBlcy5zb21lKFxuICAgICAgKHZhbGlkT2JqZWN0VHlwZSkgPT4gaXNBc3NpZ25hYmxlKG9wdGlvblR5cGVOYW1lLCB2YWxpZE9iamVjdFR5cGUpXG4gICAgKSB8fCBwcm9ibGVtcy5wdXNoKFxuICAgICAgZXJyb3IoXG4gICAgICAgIGBBbiBpbnZhbGlkIGVudHJ5IGZvdW5kIGluIG9wdGlvbnMubGlzdDogJHtmb3JtYXQoXG4gICAgICAgICAgb3B0aW9uXG4gICAgICAgICl9LiBNdXN0IGJlIGFuIG9iamVjdCB3aXRoIFwiX3R5cGVcIiBzZXQgdG8gJHtodW1hbml6ZUxpc3QoXG4gICAgICAgICAgb2JqZWN0VHlwZXMubWFwKCh0KSA9PiB0Lm5hbWUgfHwgdC50eXBlKS5tYXAoKHQpID0+IHQgPT09IFwib2JqZWN0XCIgPyBcInVuZGVmaW5lZFwiIDogcXVvdGUkMih0KSksXG4gICAgICAgICAgeyBjb25qdW5jdGlvbjogXCJvclwiIH1cbiAgICAgICAgKX1gLFxuICAgICAgICBIRUxQX0lEUy5BUlJBWV9QUkVERUZJTkVEX0NIT0lDRVNfSU5WQUxJRFxuICAgICAgKVxuICAgICk7XG4gIH0pKSwgKF9iID0gdHlwZURlZiA9PSBudWxsID8gdm9pZCAwIDogdHlwZURlZi5vcHRpb25zKSAhPSBudWxsICYmIF9iLmxpc3QgJiYgKChfYyA9IHR5cGVEZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHR5cGVEZWYub3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmxheW91dCkgPT09IFwidGFnc1wiICYmIHByb2JsZW1zLnB1c2goXG4gICAgd2FybmluZyhcbiAgICAgIFwiRm91bmQgYXJyYXkgbWVtYmVyIGRlY2xhcmF0aW9uIHdpdGggYm90aCB0YWdzIGxheW91dCBhbmQgYSBsaXN0IG9mIHByZWRlZmluZWQgdmFsdWVzLiBJZiB5b3Ugd2FudCB0byBkaXNwbGF5IGEgbGlzdCBvZiBwcmVkZWZpbmVkIHZhbHVlcywgcmVtb3ZlIHRoZSB0YWdzIGxheW91dCBmcm9tIGBvcHRpb25zYC5cIlxuICAgIClcbiAgKSwge1xuICAgIC4uLnR5cGVEZWYsXG4gICAgb2Y6IG9mLm1hcCh2aXNpdG9yQ29udGV4dC52aXNpdCksXG4gICAgX3Byb2JsZW1zOiBwcm9ibGVtc1xuICB9O1xufTtcbmZ1bmN0aW9uIGlzSlNPTlR5cGVPZih0eXBlLCBqc29uVHlwZSwgdmlzaXRvckNvbnRleHQpIHtcbiAgaWYgKFwianNvblR5cGVcIiBpbiB0eXBlKVxuICAgIHJldHVybiB0eXBlLmpzb25UeXBlID09PSBqc29uVHlwZTtcbiAgY29uc3QgcGFyZW50VHlwZSA9IHZpc2l0b3JDb250ZXh0LmdldFR5cGUodHlwZS50eXBlKTtcbiAgaWYgKCFwYXJlbnRUeXBlKVxuICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHJlc29sdmUganNvblR5cGUgb2YgJHt0eXBlLm5hbWV9LiBObyBwYXJlbnQgdHlwZSBmb3VuZGApO1xuICByZXR1cm4gaXNKU09OVHlwZU9mKHBhcmVudFR5cGUsIGpzb25UeXBlLCB2aXNpdG9yQ29udGV4dCk7XG59XG5jb25zdCBnZXRUeXBlT2YgPSAodGhpbmcpID0+IEFycmF5LmlzQXJyYXkodGhpbmcpID8gXCJhcnJheVwiIDogdHlwZW9mIHRoaW5nLCBxdW90ZSQxID0gKHN0cikgPT4gYFwiJHtzdHJ9XCJgLCBhbGxvd2VkS2V5cyA9IFtcbiAgXCJjb21wb25lbnRzXCIsXG4gIFwibGlzdHNcIixcbiAgXCJtYXJrc1wiLFxuICBcIm5hbWVcIixcbiAgXCJvZlwiLFxuICBcIm9wdGlvbnNcIixcbiAgXCJzdHlsZXNcIixcbiAgXCJ0aXRsZVwiLFxuICBcInR5cGVcIixcbiAgXCJ2YWxpZGF0aW9uXCJcbl0sIGFsbG93ZWRNYXJrS2V5cyA9IFtcImRlY29yYXRvcnNcIiwgXCJhbm5vdGF0aW9uc1wiXSwgYWxsb3dlZFN0eWxlS2V5cyA9IFtcImJsb2NrRWRpdG9yXCIsIFwidGl0bGVcIiwgXCJ2YWx1ZVwiLCBcImljb25cIiwgXCJjb21wb25lbnRcIl0sIGFsbG93ZWREZWNvcmF0b3JLZXlzID0gW1wiYmxvY2tFZGl0b3JcIiwgXCJ0aXRsZVwiLCBcInZhbHVlXCIsIFwiaWNvblwiLCBcImNvbXBvbmVudFwiXSwgYWxsb3dlZExpc3RLZXlzID0gW1widGl0bGVcIiwgXCJ2YWx1ZVwiLCBcImljb25cIiwgXCJjb21wb25lbnRcIl0sIHN1cHBvcnRlZEJ1aWx0SW5PYmplY3RUeXBlcyA9IFtcImZpbGVcIiwgXCJpbWFnZVwiLCBcIm9iamVjdFwiLCBcInJlZmVyZW5jZVwiXTtcbmZ1bmN0aW9uIHZhbGlkYXRlQmxvY2tUeXBlKHR5cGVEZWYsIHZpc2l0b3JDb250ZXh0KSB7XG4gIGNvbnN0IHByb2JsZW1zID0gW107XG4gIGxldCBzdHlsZXMgPSB0eXBlRGVmLnN0eWxlcywgbGlzdHMgPSB0eXBlRGVmLmxpc3RzLCBtYXJrcyA9IHR5cGVEZWYubWFya3MsIG1lbWJlcnMgPSB0eXBlRGVmLm9mO1xuICBjb25zdCBkaXNhbGxvd2VkS2V5cyA9IE9iamVjdC5rZXlzKHR5cGVEZWYpLmZpbHRlcihcbiAgICAoa2V5KSA9PiAhYWxsb3dlZEtleXMuaW5jbHVkZXMoa2V5KSAmJiAha2V5LnN0YXJ0c1dpdGgoXCJfXCIpXG4gICk7XG4gIHJldHVybiBkaXNhbGxvd2VkS2V5cy5sZW5ndGggPiAwICYmIHByb2JsZW1zLnB1c2goXG4gICAgZXJyb3IoXG4gICAgICBgRm91bmQgdW5rbm93biBwcm9wZXJ0aWVzIGZvciBibG9jayBkZWNsYXJhdGlvbjogJHtodW1hbml6ZUxpc3QoXG4gICAgICAgIGRpc2FsbG93ZWRLZXlzLm1hcChxdW90ZSQxKVxuICAgICAgKX1gXG4gICAgKVxuICApLCBtYXJrcyAmJiAobWFya3MgPSB2YWxpZGF0ZU1hcmtzKHR5cGVEZWYubWFya3MsIHZpc2l0b3JDb250ZXh0LCBwcm9ibGVtcykpLCBzdHlsZXMgJiYgKHN0eWxlcyA9IHZhbGlkYXRlU3R5bGVzKHN0eWxlcywgdmlzaXRvckNvbnRleHQsIHByb2JsZW1zKSksIGxpc3RzICYmIChsaXN0cyA9IHZhbGlkYXRlTGlzdHMobGlzdHMsIHZpc2l0b3JDb250ZXh0LCBwcm9ibGVtcykpLCBtZW1iZXJzICYmIChtZW1iZXJzID0gdmFsaWRhdGVNZW1iZXJzKG1lbWJlcnMsIHZpc2l0b3JDb250ZXh0LCBwcm9ibGVtcykpLCB7XG4gICAgLi4ub21pdCh0eXBlRGVmLCBkaXNhbGxvd2VkS2V5cyksXG4gICAgbWFya3MsXG4gICAgc3R5bGVzLFxuICAgIG5hbWU6IHR5cGVEZWYubmFtZSB8fCB0eXBlRGVmLnR5cGUsXG4gICAgb2Y6IG1lbWJlcnMsXG4gICAgX3Byb2JsZW1zOiBwcm9ibGVtc1xuICB9O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVNYXJrcyhtYXJrcywgdmlzaXRvckNvbnRleHQsIHByb2JsZW1zKSB7XG4gIGxldCBkZWNvcmF0b3JzID0gbWFya3MuZGVjb3JhdG9ycywgYW5ub3RhdGlvbnMgPSBtYXJrcy5hbm5vdGF0aW9ucztcbiAgaWYgKCFpc1BsYWluT2JqZWN0KG1hcmtzKSlcbiAgICByZXR1cm4gcHJvYmxlbXMucHVzaChlcnJvcihgXCJtYXJrc1wiIGRlY2xhcmF0aW9uIHNob3VsZCBiZSBhbiBvYmplY3QsIGdvdCAke2dldFR5cGVPZihtYXJrcyl9YCkpLCBwcm9ibGVtcztcbiAgY29uc3QgZGlzYWxsb3dlZE1hcmtLZXlzID0gT2JqZWN0LmtleXMobWFya3MpLmZpbHRlcihcbiAgICAoa2V5KSA9PiAhYWxsb3dlZE1hcmtLZXlzLmluY2x1ZGVzKGtleSkgJiYgIWtleS5zdGFydHNXaXRoKFwiX1wiKVxuICApO1xuICByZXR1cm4gZGlzYWxsb3dlZE1hcmtLZXlzLmxlbmd0aCA+IDAgJiYgcHJvYmxlbXMucHVzaChcbiAgICBlcnJvcihcbiAgICAgIGBGb3VuZCB1bmtub3duIHByb3BlcnRpZXMgZm9yIGJsb2NrIGRlY2xhcmF0aW9uOiAke2h1bWFuaXplTGlzdChcbiAgICAgICAgZGlzYWxsb3dlZE1hcmtLZXlzLm1hcChxdW90ZSQxKVxuICAgICAgKX1gXG4gICAgKVxuICApLCBkZWNvcmF0b3JzICYmICFBcnJheS5pc0FycmF5KGRlY29yYXRvcnMpID8gcHJvYmxlbXMucHVzaChcbiAgICBlcnJvcihgXCJtYXJrcy5kZWNvcmF0b3JzXCIgZGVjbGFyYXRpb24gc2hvdWxkIGJlIGFuIGFycmF5LCBnb3QgJHtnZXRUeXBlT2YoZGVjb3JhdG9ycyl9YClcbiAgKSA6IGRlY29yYXRvcnMgJiYgKGRlY29yYXRvcnMuZmlsdGVyKChkZWMpID0+ICEhZGVjLmJsb2NrRWRpdG9yKS5mb3JFYWNoKChkZWMpID0+IHtcbiAgICBkZWMuaWNvbiA9IGRlYy5ibG9ja0VkaXRvci5pY29uLCBkZWMuY29tcG9uZW50ID0gZGVjLmJsb2NrRWRpdG9yLnJlbmRlcjtcbiAgfSksIGRlY29yYXRvcnMgPSB2YWxpZGF0ZURlY29yYXRvcnMoZGVjb3JhdG9ycywgdmlzaXRvckNvbnRleHQsIHByb2JsZW1zKSksIGFubm90YXRpb25zICYmICFBcnJheS5pc0FycmF5KGFubm90YXRpb25zKSA/IHByb2JsZW1zLnB1c2goXG4gICAgZXJyb3IoYFwibWFya3MuYW5ub3RhdGlvbnNcIiBkZWNsYXJhdGlvbiBzaG91bGQgYmUgYW4gYXJyYXksIGdvdCAke2dldFR5cGVPZihhbm5vdGF0aW9ucyl9YClcbiAgKSA6IGFubm90YXRpb25zICYmIChhbm5vdGF0aW9ucyA9IHZhbGlkYXRlQW5ub3RhdGlvbnMoYW5ub3RhdGlvbnMsIHZpc2l0b3JDb250ZXh0LCBwcm9ibGVtcykpLCB7IC4uLm1hcmtzLCBkZWNvcmF0b3JzLCBhbm5vdGF0aW9ucyB9O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVMaXN0cyhsaXN0cywgdmlzaXRvckNvbnRleHQsIHByb2JsZW1zKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGxpc3RzKSA/IChsaXN0cy5mb3JFYWNoKChsaXN0LCBpbmRleCkgPT4ge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChsaXN0KSkge1xuICAgICAgcHJvYmxlbXMucHVzaChlcnJvcihgTGlzdCBtdXN0IGJlIGFuIG9iamVjdCwgZ290ICR7Z2V0VHlwZU9mKGxpc3QpfWApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmFtZSA9IGxpc3QudmFsdWUgfHwgYCMke2luZGV4fWAsIGRpc2FsbG93ZWRLZXlzID0gT2JqZWN0LmtleXMobGlzdCkuZmlsdGVyKFxuICAgICAgKGtleSkgPT4gIWFsbG93ZWRMaXN0S2V5cy5pbmNsdWRlcyhrZXkpICYmICFrZXkuc3RhcnRzV2l0aChcIl9cIilcbiAgICApO1xuICAgIGRpc2FsbG93ZWRLZXlzLmxlbmd0aCA+IDAgJiYgcHJvYmxlbXMucHVzaChcbiAgICAgIGVycm9yKFxuICAgICAgICBgRm91bmQgdW5rbm93biBwcm9wZXJ0aWVzIGZvciBsaXN0ICR7bmFtZX06ICR7aHVtYW5pemVMaXN0KGRpc2FsbG93ZWRLZXlzLm1hcChxdW90ZSQxKSl9YFxuICAgICAgKVxuICAgICksIGxpc3QudmFsdWUgPyB0eXBlb2YgbGlzdC52YWx1ZSAhPSBcInN0cmluZ1wiID8gcHJvYmxlbXMucHVzaChcbiAgICAgIGVycm9yKFxuICAgICAgICBgTGlzdCB0eXBlICMke2luZGV4fSBoYXMgYW4gaW52YWxpZCBcInZhbHVlXCIgcHJvcGVydHksIGV4cGVjdGVkIHN0cmluZywgZ290ICR7Z2V0VHlwZU9mKFxuICAgICAgICAgIGxpc3QudmFsdWVcbiAgICAgICAgKX1gXG4gICAgICApXG4gICAgKSA6IGxpc3QudGl0bGUgfHwgcHJvYmxlbXMucHVzaCh3YXJuaW5nKGBMaXN0IHR5cGUgJHtuYW1lfSBpcyBtaXNzaW5nIHJlY29tbWVuZGVkIFwidGl0bGVcIiBwcm9wZXJ0eWApKSA6IHByb2JsZW1zLnB1c2goZXJyb3IoYExpc3QgIyR7aW5kZXh9IGlzIG1pc3NpbmcgcmVxdWlyZWQgXCJ2YWx1ZVwiIHByb3BlcnR5YCkpO1xuICB9KSwgbGlzdHMpIDogKHByb2JsZW1zLnB1c2goZXJyb3IoYFwibGlzdHNcIiBkZWNsYXJhdGlvbiBzaG91bGQgYmUgYW4gYXJyYXksIGdvdCAke2dldFR5cGVPZihsaXN0cyl9YCkpLCBwcm9ibGVtcyk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVN0eWxlcyhzdHlsZXMsIHZpc2l0b3JDb250ZXh0LCBwcm9ibGVtcykge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShzdHlsZXMpID8gKHN0eWxlcy5mb3JFYWNoKChzdHlsZSwgaW5kZXgpID0+IHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3Qoc3R5bGUpKSB7XG4gICAgICBwcm9ibGVtcy5wdXNoKGVycm9yKGBTdHlsZSBtdXN0IGJlIGFuIG9iamVjdCwgZ290ICR7Z2V0VHlwZU9mKHN0eWxlKX1gKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5hbWUgPSBzdHlsZS52YWx1ZSB8fCBgIyR7aW5kZXh9YCwgZGlzYWxsb3dlZEtleXMgPSBPYmplY3Qua2V5cyhzdHlsZSkuZmlsdGVyKFxuICAgICAgKGtleSkgPT4gIWFsbG93ZWRTdHlsZUtleXMuaW5jbHVkZXMoa2V5KSAmJiAha2V5LnN0YXJ0c1dpdGgoXCJfXCIpXG4gICAgKTtcbiAgICBkaXNhbGxvd2VkS2V5cy5sZW5ndGggPiAwICYmIHByb2JsZW1zLnB1c2goXG4gICAgICBlcnJvcihcbiAgICAgICAgYEZvdW5kIHVua25vd24gcHJvcGVydGllcyBmb3Igc3R5bGUgJHtuYW1lfTogJHtodW1hbml6ZUxpc3QoZGlzYWxsb3dlZEtleXMubWFwKHF1b3RlJDEpKX1gXG4gICAgICApXG4gICAgKSwgc3R5bGUudmFsdWUgPyB0eXBlb2Ygc3R5bGUudmFsdWUgIT0gXCJzdHJpbmdcIiA/IHByb2JsZW1zLnB1c2goXG4gICAgICBlcnJvcihcbiAgICAgICAgYFN0eWxlICMke2luZGV4fSBoYXMgYW4gaW52YWxpZCBcInZhbHVlXCIgcHJvcGVydHksIGV4cGVjdGVkIHN0cmluZywgZ290ICR7Z2V0VHlwZU9mKFxuICAgICAgICAgIHN0eWxlLnZhbHVlXG4gICAgICAgICl9YFxuICAgICAgKVxuICAgICkgOiBzdHlsZS50aXRsZSB8fCBwcm9ibGVtcy5wdXNoKHdhcm5pbmcoYFN0eWxlICR7bmFtZX0gaXMgbWlzc2luZyByZWNvbW1lbmRlZCBcInRpdGxlXCIgcHJvcGVydHlgKSkgOiBwcm9ibGVtcy5wdXNoKGVycm9yKGBTdHlsZSAjJHtpbmRleH0gaXMgbWlzc2luZyByZXF1aXJlZCBcInZhbHVlXCIgcHJvcGVydHlgKSksIHR5cGVvZiBzdHlsZS5ibG9ja0VkaXRvciA8IFwidVwiICYmIChwcm9ibGVtcy5wdXNoKFxuICAgICAgd2FybmluZyhcbiAgICAgICAgJ1N0eWxlIGhhcyBkZXByZWNhdGVkIGtleSBcImJsb2NrRWRpdG9yXCIsIHBsZWFzZSByZWZlciB0byB0aGUgZG9jdW1lbnRhdGlvbiBvbiBob3cgdG8gY29uZmlndXJlIHRoZSBibG9jayB0eXBlIGZvciB2ZXJzaW9uIDMuJyxcbiAgICAgICAgSEVMUF9JRFMuREVQUkVDQVRFRF9CTE9DS0VESVRPUl9LRVlcbiAgICAgIClcbiAgICApLCBzdHlsZS5jb21wb25lbnQgPSBzdHlsZS5jb21wb25lbnQgfHwgc3R5bGUuYmxvY2tFZGl0b3IucmVuZGVyKTtcbiAgfSksIHN0eWxlcykgOiAocHJvYmxlbXMucHVzaChlcnJvcihgXCJzdHlsZXNcIiBkZWNsYXJhdGlvbiBzaG91bGQgYmUgYW4gYXJyYXksIGdvdCAke2dldFR5cGVPZihzdHlsZXMpfWApKSwgcHJvYmxlbXMpO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVEZWNvcmF0b3JzKGRlY29yYXRvcnMsIHZpc2l0b3JDb250ZXh0LCBwcm9ibGVtcykge1xuICByZXR1cm4gZGVjb3JhdG9ycy5mb3JFYWNoKChkZWNvcmF0b3IsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KGRlY29yYXRvcikpIHtcbiAgICAgIHByb2JsZW1zLnB1c2goZXJyb3IoYEFubm90YXRpb24gbXVzdCBiZSBhbiBvYmplY3QsIGdvdCAke2dldFR5cGVPZihkZWNvcmF0b3IpfWApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmFtZSA9IGRlY29yYXRvci52YWx1ZSB8fCBgIyR7aW5kZXh9YCwgZGlzYWxsb3dlZEtleXMgPSBPYmplY3Qua2V5cyhkZWNvcmF0b3IpLmZpbHRlcihcbiAgICAgIChrZXkpID0+ICFhbGxvd2VkRGVjb3JhdG9yS2V5cy5pbmNsdWRlcyhrZXkpICYmICFrZXkuc3RhcnRzV2l0aChcIl9cIilcbiAgICApO1xuICAgIGRpc2FsbG93ZWRLZXlzLmxlbmd0aCA+IDAgJiYgcHJvYmxlbXMucHVzaChcbiAgICAgIGVycm9yKFxuICAgICAgICBgRm91bmQgdW5rbm93biBwcm9wZXJ0aWVzIGZvciBkZWNvcmF0b3IgJHtuYW1lfTogJHtodW1hbml6ZUxpc3QoXG4gICAgICAgICAgZGlzYWxsb3dlZEtleXMubWFwKHF1b3RlJDEpXG4gICAgICAgICl9YFxuICAgICAgKVxuICAgICksIGRlY29yYXRvci52YWx1ZSA/IHR5cGVvZiBkZWNvcmF0b3IudmFsdWUgIT0gXCJzdHJpbmdcIiA/IHByb2JsZW1zLnB1c2goXG4gICAgICBlcnJvcihcbiAgICAgICAgYERlY29yYXRvciAjJHtpbmRleH0gaGFzIGFuIGludmFsaWQgXCJ2YWx1ZVwiIHByb3BlcnR5LCBleHBlY3RlZCBzdHJpbmcsIGdvdCAke2dldFR5cGVPZihcbiAgICAgICAgICBkZWNvcmF0b3IudmFsdWVcbiAgICAgICAgKX1gXG4gICAgICApXG4gICAgKSA6IGRlY29yYXRvci50aXRsZSB8fCBwcm9ibGVtcy5wdXNoKHdhcm5pbmcoYERlY29yYXRvciAke25hbWV9IGlzIG1pc3NpbmcgcmVjb21tZW5kZWQgXCJ0aXRsZVwiIHByb3BlcnR5YCkpIDogcHJvYmxlbXMucHVzaChlcnJvcihgRGVjb3JhdG9yICMke2luZGV4fSBpcyBtaXNzaW5nIHJlcXVpcmVkIFwidmFsdWVcIiBwcm9wZXJ0eWApKSwgdHlwZW9mIGRlY29yYXRvci5ibG9ja0VkaXRvciA8IFwidVwiICYmIChwcm9ibGVtcy5wdXNoKFxuICAgICAgd2FybmluZyhcbiAgICAgICAgYERlY29yYXRvciBcIiR7bmFtZX1cIiBoYXMgZGVwcmVjYXRlZCBrZXkgXCJibG9ja0VkaXRvclwiLCBwbGVhc2UgcmVmZXIgdG8gdGhlIGRvY3VtZW50YXRpb24gb24gaG93IHRvIGNvbmZpZ3VyZSB0aGUgYmxvY2sgdHlwZSBmb3IgdmVyc2lvbiAzLmAsXG4gICAgICAgIEhFTFBfSURTLkRFUFJFQ0FURURfQkxPQ0tFRElUT1JfS0VZXG4gICAgICApXG4gICAgKSwgZGVjb3JhdG9yLmljb24gPSBkZWNvcmF0b3IuaWNvbiB8fCBkZWNvcmF0b3IuYmxvY2tFZGl0b3IuaWNvbiwgZGVjb3JhdG9yLmNvbXBvbmVudCA9IGRlY29yYXRvci5jb21wb25lbnQgfHwgZGVjb3JhdG9yLmJsb2NrRWRpdG9yLnJlbmRlcik7XG4gIH0pLCBkZWNvcmF0b3JzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucywgdmlzaXRvckNvbnRleHQsIHByb2JsZW1zKSB7XG4gIHJldHVybiBhbm5vdGF0aW9ucy5tYXAoKGFubm90YXRpb24pID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICghaXNQbGFpbk9iamVjdChhbm5vdGF0aW9uKSlcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmFubm90YXRpb24sXG4gICAgICAgIF9wcm9ibGVtczogW2Vycm9yKGBBbm5vdGF0aW9uIG11c3QgYmUgYW4gb2JqZWN0LCBnb3QgJHtnZXRUeXBlT2YoYW5ub3RhdGlvbil9YCldXG4gICAgICB9O1xuICAgIGNvbnN0IHsgX3Byb2JsZW1zIH0gPSB2aXNpdG9yQ29udGV4dC52aXNpdChhbm5vdGF0aW9uLCB2aXNpdG9yQ29udGV4dCksIHRhcmdldFR5cGUgPSBhbm5vdGF0aW9uLnR5cGUgJiYgdmlzaXRvckNvbnRleHQuZ2V0VHlwZShhbm5vdGF0aW9uLnR5cGUpO1xuICAgIHJldHVybiB0YXJnZXRUeXBlICYmICFpc0pTT05UeXBlT2YodGFyZ2V0VHlwZSwgXCJvYmplY3RcIiwgdmlzaXRvckNvbnRleHQpICYmIF9wcm9ibGVtcy5wdXNoKFxuICAgICAgZXJyb3IoXG4gICAgICAgIGBBbm5vdGF0aW9uIGNhbm5vdCBoYXZlIHR5cGUgXCIke2Fubm90YXRpb24udHlwZX1cIiAtIGFubm90YXRpb24gdHlwZXMgbXVzdCBpbmhlcml0IGZyb20gb2JqZWN0YFxuICAgICAgKVxuICAgICksIHR5cGVvZiBhbm5vdGF0aW9uLmJsb2NrRWRpdG9yIDwgXCJ1XCIgJiYgKHByb2JsZW1zLnB1c2goXG4gICAgICB3YXJuaW5nKFxuICAgICAgICAnQW5ub3RhdGlvbiBoYXMgZGVwcmVjYXRlZCBrZXkgXCJibG9ja0VkaXRvclwiLCBwbGVhc2UgcmVmZXIgdG8gdGhlIGRvY3VtZW50YXRpb24gb24gaG93IHRvIGNvbmZpZ3VyZSB0aGUgYmxvY2sgdHlwZSBmb3IgdmVyc2lvbiAzLicsXG4gICAgICAgIEhFTFBfSURTLkRFUFJFQ0FURURfQkxPQ0tFRElUT1JfS0VZXG4gICAgICApXG4gICAgKSwgYW5ub3RhdGlvbi5pY29uID0gYW5ub3RhdGlvbi5pY29uIHx8IGFubm90YXRpb24uYmxvY2tFZGl0b3IuaWNvbiwgKF9hID0gYW5ub3RhdGlvbi5ibG9ja0VkaXRvcikgIT0gbnVsbCAmJiBfYS5yZW5kZXIgJiYgISgoX2IgPSBhbm5vdGF0aW9uLmNvbXBvbmVudHMpICE9IG51bGwgJiYgX2IuYW5ub3RhdGlvbikgJiYgKGFubm90YXRpb24uY29tcG9uZW50cyA9IGFubm90YXRpb24uY29tcG9uZW50cyB8fCB7fSwgYW5ub3RhdGlvbi5jb21wb25lbnRzLmFubm90YXRpb24gPSBhbm5vdGF0aW9uLmNvbXBvbmVudHMuYW5ub3RhdGlvbiB8fCBhbm5vdGF0aW9uLmJsb2NrRWRpdG9yLnJlbmRlcikpLCB7IC4uLmFubm90YXRpb24sIF9wcm9ibGVtcyB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTWVtYmVycyhtZW1iZXJzLCB2aXNpdG9yQ29udGV4dCwgcHJvYmxlbXMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KG1lbWJlcnMpKSB7XG4gICAgcHJvYmxlbXMucHVzaChlcnJvcihgXCJvZlwiIGRlY2xhcmF0aW9uIHNob3VsZCBiZSBhbiBhcnJheSwgZ290ICR7Z2V0VHlwZU9mKG1lbWJlcnMpfWApKTtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIG1lbWJlcnMubWFwKChtZW1iZXIpID0+IHtcbiAgICBjb25zdCB7IF9wcm9ibGVtcyB9ID0gdmlzaXRvckNvbnRleHQudmlzaXQobWVtYmVyLCB2aXNpdG9yQ29udGV4dCk7XG4gICAgaWYgKG1lbWJlci50eXBlID09PSBcIm9iamVjdFwiICYmIG1lbWJlci5uYW1lICYmIHZpc2l0b3JDb250ZXh0LmdldFR5cGUobWVtYmVyLm5hbWUpKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubWVtYmVyLFxuICAgICAgICBfcHJvYmxlbXM6IFtcbiAgICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgICAgYEZvdW5kIGFycmF5IG1lbWJlciBkZWNsYXJhdGlvbiB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGdsb2JhbCBzY2hlbWEgdHlwZSBcIiR7bWVtYmVyLm5hbWV9XCIuIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIGEgdW5pcXVlIG5hbWUgdG8gYXZvaWQgcG9zc2libHkgaW5jb21wYXRpYmxlIGRhdGEgdHlwZXMgdGhhdCBzaGFyZXMgdGhlIHNhbWUgbmFtZS5gLFxuICAgICAgICAgICAgSEVMUF9JRFMuQVJSQVlfT0ZfVFlQRV9HTE9CQUxfVFlQRV9DT05GTElDVFxuICAgICAgICAgIClcbiAgICAgICAgXVxuICAgICAgfTtcbiAgICBsZXQgdHlwZSA9IG1lbWJlcjtcbiAgICBmb3IgKDsgdHlwZSAmJiAhdHlwZS5qc29uVHlwZTsgKVxuICAgICAgdHlwZSA9IHZpc2l0b3JDb250ZXh0LmdldFR5cGUodHlwZS50eXBlKTtcbiAgICBjb25zdCBub25PYmplY3RDb3JlVHlwZXMgPSBjb3JlVHlwZU5hbWVzLmZpbHRlcigobikgPT4gIXN1cHBvcnRlZEJ1aWx0SW5PYmplY3RUeXBlcy5pbmNsdWRlcyhuKSk7XG4gICAgcmV0dXJuIChcbiAgICAgIC8vIE11c3QgYmUgb2JqZWN0LWxpa2UgdHlwZSAodG8gdmFsaWRhdGUgaG9pc3RlZCB0eXBlcylcbiAgICAgIHR5cGUgJiYgdHlwZS5qc29uVHlwZSAhPT0gXCJvYmplY3RcIiB8fCAvLyBDYW4ndCBiZSBhIGNvcmUgdHlwZSwgb3IgY29yZSBvYmplY3QgdHlwZSB0aGF0IGlzbid0IHN1cHBvcnRlZCAobGlrZSAnc3BhbicpXG4gICAgICBub25PYmplY3RDb3JlVHlwZXMuc29tZSgoY29yZU5hbWUpID0+IGNvcmVOYW1lID09PSBtZW1iZXIudHlwZSkgPyB7XG4gICAgICAgIC4uLm1lbWJlcixcbiAgICAgICAgX3Byb2JsZW1zOiBbXG4gICAgICAgICAgZXJyb3IoXG4gICAgICAgICAgICBgQmxvY2sgbWVtYmVyIHR5cGVzIG11c3QgYmUgYSBzdXBwb3J0ZWQgb2JqZWN0LWxpa2UgdHlwZS4gVGhlIGZvbGxvd2luZyBidWlsdC1pbiB0eXBlcyBhcmUgc3VwcG9ydGVkOiAnJHtzdXBwb3J0ZWRCdWlsdEluT2JqZWN0VHlwZXMuam9pbihcbiAgICAgICAgICAgICAgXCInLCAnXCJcbiAgICAgICAgICAgICl9Jy4gWW91IGNhbiBhbHNvIHVzZSBzaG9ydGhhbmRzIGZvciBwcmV2aW91c2x5IGRlZmluZWQgb2JqZWN0IHR5cGVzIGxpa2Uge3R5cGU6ICdteU9iamVjdFR5cGUnfWAsXG4gICAgICAgICAgICBIRUxQX0lEUy5BUlJBWV9PRl9UWVBFX0JVSUxUSU5fVFlQRV9DT05GTElDVFxuICAgICAgICAgIClcbiAgICAgICAgXVxuICAgICAgfSA6IHsgLi4ubWVtYmVyLCBfcHJvYmxlbXMgfVxuICAgICk7XG4gIH0pO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVOb25PYmplY3RGaWVsZHNQcm9wKHR5cGVEZWYsIHZpc2l0b3JDb250ZXh0KSB7XG4gIGlmICghKFwiZmllbGRzXCIgaW4gdHlwZURlZikpXG4gICAgcmV0dXJuIFtdO1xuICBsZXQgdHlwZSA9IHR5cGVEZWY7XG4gIGZvciAoOyB0eXBlICYmICF0eXBlLmpzb25UeXBlOyApXG4gICAgdHlwZSA9IHZpc2l0b3JDb250ZXh0LmdldFR5cGUodHlwZS50eXBlKTtcbiAgcmV0dXJuIHR5cGUgJiYgdHlwZS5qc29uVHlwZSAhPT0gXCJvYmplY3RcIiA/IFtlcnJvcignVHlwZSBoYXMgcHJvcGVyeSBcImZpZWxkc1wiLCBidXQgaXMgbm90IGFuIG9iamVjdC9kb2N1bWVudCB0eXBlLicpXSA6IFtdO1xufVxuY29uc3QgcXVvdGUgPSAoc3RyKSA9PiBgXCIke3N0cn1cImA7XG5mdW5jdGlvbiB2YWxpZGF0ZVR5cGVOYW1lKHR5cGVOYW1lLCB2aXNpdG9yQ29udGV4dCkge1xuICBjb25zdCBwb3NzaWJsZVR5cGVOYW1lcyA9IHZpc2l0b3JDb250ZXh0LmdldFR5cGVOYW1lcygpO1xuICBpZiAoIXR5cGVOYW1lKVxuICAgIHJldHVybiBbZXJyb3IoXCJUeXBlIGlzIG1pc3NpbmcgYSB0eXBlLlwiLCBIRUxQX0lEUy5UWVBFX01JU1NJTkdfVFlQRSldO1xuICBpZiAodHlwZW9mIHR5cGVOYW1lICE9IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIFtcbiAgICAgIGVycm9yKFxuICAgICAgICAnVHlwZSBoYXMgYW4gaW52YWxpZCBcInR5cGVcIi1wcm9wZXJ0eSAtIHNob3VsZCBiZSBhIHN0cmluZy4nLFxuICAgICAgICBIRUxQX0lEUy5UWVBFX01JU1NJTkdfVFlQRVxuICAgICAgKVxuICAgIF07XG4gIGlmICghcG9zc2libGVUeXBlTmFtZXMuaW5jbHVkZXModHlwZU5hbWUpKSB7XG4gICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSBwb3NzaWJsZVR5cGVOYW1lcy5tYXAoKHBvc3NpYmxlVHlwZU5hbWUpID0+IFtsZXZlbih0eXBlTmFtZSwgcG9zc2libGVUeXBlTmFtZSksIHBvc3NpYmxlVHlwZU5hbWVdKS5maWx0ZXIoKFtkaXN0YW5jZV0pID0+IGRpc3RhbmNlIDwgMykubWFwKChbXywgbmFtZV0pID0+IG5hbWUpLCBzdWdnZXN0aW9uID0gc3VnZ2VzdGlvbnMubGVuZ3RoID4gMCA/IGAgRGlkIHlvdSBtZWFuICR7aHVtYW5pemVMaXN0KHN1Z2dlc3Rpb25zLm1hcChxdW90ZSksIHsgY29uanVuY3Rpb246IFwib3JcIiB9KX0/YCA6IFwiXCI7XG4gICAgcmV0dXJuIFtlcnJvcihgVW5rbm93biB0eXBlOiAke3R5cGVOYW1lfS4ke3N1Z2dlc3Rpb259YCldO1xuICB9XG4gIHJldHVybiBbXTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlRGVwcmVjYXRlZFByb3BlcnRpZXModHlwZSkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3Qgd2FybmluZ3MgPSBbXTtcbiAgcmV0dXJuIHR5cGUgIT0gbnVsbCAmJiB0eXBlLmlucHV0Q29tcG9uZW50ICYmIHdhcm5pbmdzLnB1c2goXG4gICAgd2FybmluZygnVGhlIFwiaW5wdXRDb21wb25lbnRcIiBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLiBVc2UgXCJjb21wb25lbnRzLmlucHV0XCIgaW5zdGVhZC4nKVxuICApLCAoX2EgPSB0eXBlID09IG51bGwgPyB2b2lkIDAgOiB0eXBlLnByZXZpZXcpICE9IG51bGwgJiYgX2EuY29tcG9uZW50ICYmIHdhcm5pbmdzLnB1c2goXG4gICAgd2FybmluZygnVGhlIFwicHJldmlldy5jb21wb25lbnRcIiBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLiBVc2UgXCJjb21wb25lbnRzLnByZXZpZXdcIiBpbnN0ZWFkLicpXG4gICksIHR5cGUgIT0gbnVsbCAmJiB0eXBlLmRpZmZDb21wb25lbnQgJiYgd2FybmluZ3MucHVzaChcbiAgICB3YXJuaW5nKCdUaGUgXCJkaWZmQ29tcG9uZW50XCIgcHJvcGVydHkgaXMgZGVwcmVjYXRlZC4gVXNlIFwiY29tcG9uZW50cy5kaWZmXCIgaW5zdGVhZC4nKVxuICApLCAoX2IgPSB0eXBlID09IG51bGwgPyB2b2lkIDAgOiB0eXBlLm9wdGlvbnMpICE9IG51bGwgJiYgX2IuZWRpdE1vZGFsICYmIHdhcm5pbmdzLnB1c2goXG4gICAgd2FybmluZygnVGhlIFwib3B0aW9ucy5lZGl0TW9kYWxcIiBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLiBVc2UgXCJvcHRpb25zLm1vZGFsXCIgaW5zdGVhZC4nKVxuICApLCAoX2MgPSB0eXBlID09IG51bGwgPyB2b2lkIDAgOiB0eXBlLm9wdGlvbnMpICE9IG51bGwgJiYgX2MuaXNIaWdobGlnaHRlZCAmJiB3YXJuaW5ncy5wdXNoKFxuICAgIHdhcm5pbmcoXG4gICAgICAnVGhlIFwib3B0aW9ucy5pc0hpZ2hsaWdodGVkXCIgcHJvcGVydHkgaXMgZGVwcmVjYXRlZC4gWW91IGNhbiBwdXQgZmllbGRzIGJlaGluZCBhIGNvbGxhcHNlZCBmaWVsZHNldCBpZiB5b3Ugd2FudCB0byBoaWRlIHRoZW0gZnJvbSBwbGFpbiBzaWdodC4nXG4gICAgKVxuICApLCB3YXJuaW5ncztcbn1cbnZhciBjb21tb24gPSAodHlwZURlZiwgdmlzaXRvckNvbnRleHQpID0+ICh7XG4gIC4uLnR5cGVEZWYsXG4gIF9wcm9ibGVtczogW1xuICAgIC4uLnZhbGlkYXRlVHlwZU5hbWUodHlwZURlZi50eXBlLCB2aXNpdG9yQ29udGV4dCksXG4gICAgLi4udmFsaWRhdGVOb25PYmplY3RGaWVsZHNQcm9wKHR5cGVEZWYsIHZpc2l0b3JDb250ZXh0KSxcbiAgICAuLi52YWxpZGF0ZURlcHJlY2F0ZWRQcm9wZXJ0aWVzKHR5cGVEZWYpXG4gIF0uZmlsdGVyKEJvb2xlYW4pXG59KTtcbmZ1bmN0aW9uIG5vcm1hbGl6ZVRvUHJvcCQxKHR5cGVEZWYpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodHlwZURlZi50bykgPyB0eXBlRGVmLnRvIDogdHlwZURlZi50byA/IFt0eXBlRGVmLnRvXSA6IHR5cGVEZWYudG87XG59XG5jb25zdCBWQUxJRF9EQVRBU0VUID0gL15bYS16MC05fl1bLV9hLXowLTldKyQvO1xuZnVuY3Rpb24gaXNWYWxpZERhdGFzZXROYW1lKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUubGVuZ3RoID49IDIgJiYgbmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lICYmIFZBTElEX0RBVEFTRVQudGVzdChuYW1lKSB8fCBgVGhlIHByb3ZpZGVkIGRhdGFzZXQgXCIke25hbWV9XCIgZG9lc24ndCBsb29rIGxpa2UgYSB2YWxpZCBkYXRhc2V0LiBEYXRhc2V0IG5hbWVzIG11c3QgYmUgbW9yZSB0aGFuIDIgY2hhcmFjdGVycywgY2FuIG9ubHkgY29udGFpbiBsb3dlcmNhc2UgY2hhcmFjdGVycywgbnVtYmVycywgdW5kZXJzY29yZXMgYW5kIGRhc2hlcyBhbmQgY2FuIG5vdCBzdGFydCB3aXRoIGEgZGFzaCBvciBhbiB1bmRlcnNjb3JlYDtcbn1cbnZhciBjcm9zc0RhdGFzZXRSZWZlcmVuY2UgPSAodHlwZURlZiwgdmlzaXRvckNvbnRleHQpID0+IHtcbiAgY29uc3QgaXNWYWxpZFRvID0gQXJyYXkuaXNBcnJheSh0eXBlRGVmLnRvKSB8fCBpc1BsYWluT2JqZWN0KHR5cGVEZWYudG8pLCBub3JtYWxpemVkVG8gPSBub3JtYWxpemVUb1Byb3AkMSh0eXBlRGVmKSwgcHJvYmxlbXMgPSBmbGF0dGVuKFtcbiAgICBpc1ZhbGlkVG8gPyBnZXREdXBlcyhub3JtYWxpemVkVG8sICh0KSA9PiBgJHt0Lm5hbWV9OyR7dC50eXBlfWApLm1hcChcbiAgICAgIChkdXBlcykgPT4gZXJyb3IoXG4gICAgICAgIGBGb3VuZCAke2R1cGVzLmxlbmd0aH0gbWVtYmVycyB3aXRoIHNhbWUgdHlwZSwgYnV0IG5vdCB1bmlxdWUgbmFtZXMgXCIke2R1cGVzWzBdLnR5cGV9XCIgaW4gcmVmZXJlbmNlLiBUaGlzIG1ha2VzIGl0IGltcG9zc2libGUgdG8gdGVsbCB0aGVpciB2YWx1ZXMgYXBhcnQgYW5kIHlvdSBzaG91bGQgY29uc2lkZXIgbmFtaW5nIHRoZW1gLFxuICAgICAgICBIRUxQX0lEUy5DUk9TU19EQVRBU0VUX1JFRkVSRU5DRV9JTlZBTElEXG4gICAgICApXG4gICAgKSA6IGVycm9yKFxuICAgICAgJ1RoZSBjcm9zcyBkYXRhc2V0IHJlZmVyZW5jZSB0eXBlIGlzIG1pc3Npbmcgb3IgaGF2aW5nIGFuIGludmFsaWQgdmFsdWUgZm9yIHRoZSByZXF1aXJlZCBcInRvXCIgcHJvcGVydHkuIEl0IHNob3VsZCBiZSBhbiBhcnJheSBvZiBhY2NlcHRlZCB0eXBlcy4nLFxuICAgICAgSEVMUF9JRFMuQ1JPU1NfREFUQVNFVF9SRUZFUkVOQ0VfSU5WQUxJRFxuICAgIClcbiAgXSk7XG4gIGlmIChpc1ZhbGlkVG8gJiYgbm9ybWFsaXplZFRvLmxlbmd0aCA9PT0gMCAmJiBwcm9ibGVtcy5wdXNoKFxuICAgIGVycm9yKFxuICAgICAgJ1RoZSBjcm9zcyBkYXRhc2V0IHJlZmVyZW5jZSB0eXBlIHNob3VsZCBkZWZpbmUgYXQgbGVhc3Qgb25lIHJlZmVyZW5jZWQgdHlwZS4gUGxlYXNlIGNoZWNrIHRoZSBcInRvXCIgcHJvcGVydHkuJyxcbiAgICAgIEhFTFBfSURTLkNST1NTX0RBVEFTRVRfUkVGRVJFTkNFX0lOVkFMSURcbiAgICApXG4gICksIG5vcm1hbGl6ZWRUby5mb3JFYWNoKChjcm9zc0RhdGFzZXRUeXBlRGVmLCBpbmRleCkgPT4ge1xuICAgIGNyb3NzRGF0YXNldFR5cGVEZWYudHlwZSB8fCBwcm9ibGVtcy5wdXNoKFxuICAgICAgZXJyb3IoXG4gICAgICAgIGBUaGUgcmVmZXJlbmNlZCB0eXBlIGF0IGluZGV4ICR7aW5kZXh9IG11c3QgYmUgbmFtZWQuIFNwZWNpZnkgdGhlIG5hbWUgb2YgdGhlIHR5cGUgeW91IHdhbnQgdG8gY3JlYXRlIHJlZmVyZW5jZXMgdG8uYCxcbiAgICAgICAgSEVMUF9JRFMuQ1JPU1NfREFUQVNFVF9SRUZFUkVOQ0VfSU5WQUxJRFxuICAgICAgKVxuICAgICksIGlzUGxhaW5PYmplY3QoY3Jvc3NEYXRhc2V0VHlwZURlZi5wcmV2aWV3KSB8fCBwcm9ibGVtcy5wdXNoKFxuICAgICAgZXJyb3IoXG4gICAgICAgIGBNaXNzaW5nIHJlcXVpcmVkIHByZXZpZXcgY29uZmlnIGZvciB0aGUgcmVmZXJlbmNlZCB0eXBlIFwiJHtjcm9zc0RhdGFzZXRUeXBlRGVmLnR5cGUgfHwgXCI8dW5rbm93biB0eXBlPlwifVwiYCxcbiAgICAgICAgSEVMUF9JRFMuQ1JPU1NfREFUQVNFVF9SRUZFUkVOQ0VfSU5WQUxJRFxuICAgICAgKVxuICAgICk7XG4gIH0pLCB0eXBlb2YgdHlwZURlZi5kYXRhc2V0ID09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zdCBkYXRhc2V0VmFsaWRhdGlvbiA9IGlzVmFsaWREYXRhc2V0TmFtZSh0eXBlRGVmLmRhdGFzZXQpO1xuICAgIGRhdGFzZXRWYWxpZGF0aW9uICE9PSAhMCAmJiBwcm9ibGVtcy5wdXNoKGVycm9yKGRhdGFzZXRWYWxpZGF0aW9uLCBIRUxQX0lEUy5DUk9TU19EQVRBU0VUX1JFRkVSRU5DRV9JTlZBTElEKSk7XG4gIH0gZWxzZVxuICAgIHByb2JsZW1zLnB1c2goXG4gICAgICBlcnJvcihcbiAgICAgICAgXCJBIGNyb3NzIGRhdGFzZXQgcmVmZXJlbmNlIG11c3Qgc3BlY2lmeSBhIGBkYXRhc2V0YFwiLFxuICAgICAgICBIRUxQX0lEUy5DUk9TU19EQVRBU0VUX1JFRkVSRU5DRV9JTlZBTElEXG4gICAgICApXG4gICAgKTtcbiAgcmV0dXJuIHR5cGVEZWYuc3R1ZGlvVXJsICYmIHR5cGVvZiB0eXBlRGVmLnN0dWRpb1VybCAhPSBcImZ1bmN0aW9uXCIgJiYgcHJvYmxlbXMucHVzaChcbiAgICBlcnJvcihcbiAgICAgICdUaGUgXCJzdHVkaW9VcmxcIiBwcm9wZXJ0eSBvbiBhIGNyb3NzIGRhdGFzZXQgcmVmZXJlbmNlIG11c3QgYmUgYSBmdW5jdGlvbiB0YWtpbmcgXCJ7aWQsIHR5cGV9XCIgYXMgYXJndW1lbnQgYW5kIHJldHVybmluZyBhIHN0dWRpbyB1cmwuJyxcbiAgICAgIEhFTFBfSURTLkNST1NTX0RBVEFTRVRfUkVGRVJFTkNFX0lOVkFMSURcbiAgICApXG4gICksIHByb2JsZW1zLnB1c2goLi4uZ2V0T3B0aW9uRXJyb3JzJDEodHlwZURlZikpLCB7XG4gICAgLi4udHlwZURlZixcbiAgICBfcHJvYmxlbXM6IHByb2JsZW1zXG4gIH07XG59O1xuZnVuY3Rpb24gZ2V0T3B0aW9uRXJyb3JzJDEodHlwZURlZikge1xuICBjb25zdCB7IG9wdGlvbnMgfSA9IHR5cGVEZWYsIHByb2JsZW1zID0gW107XG4gIHJldHVybiBwcm9ibGVtcy5wdXNoKFxuICAgIC4uLltcImZpbHRlclwiLCBcImZpbHRlclBhcmFtc1wiXS5maWx0ZXIoKGtleSkgPT4ga2V5IGluIHR5cGVEZWYpLm1hcChcbiAgICAgIChrZXkpID0+IGVycm9yKFxuICAgICAgICBgXFxgJHtrZXl9XFxgIGlzIG5vdCBhbGxvd2VkIG9uIGEgcmVmZXJlbmNlIHR5cGUgZGVmaW5pdGlvbiAtIGRpZCB5b3UgbWVhbiBcXGBvcHRpb25zLiR7a2V5fVxcYD9gLFxuICAgICAgICBIRUxQX0lEUy5SRUZFUkVOQ0VfSU5WQUxJRF9PUFRJT05TX0xPQ0FUSU9OXG4gICAgICApXG4gICAgKVxuICApLCBvcHRpb25zID8gaXNQbGFpbk9iamVjdChvcHRpb25zKSA/IHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9wdGlvbnMuZmlsdGVyUGFyYW1zIDwgXCJ1XCIgPyBwcm9ibGVtcy5jb25jYXQoXG4gICAgZXJyb3IoXG4gICAgICBcImBmaWx0ZXJQYXJhbXNgIGNhbm5vdCBiZSB1c2VkIGlmIGBmaWx0ZXJgIGlzIGEgZnVuY3Rpb24uIEVpdGhlciBzdGF0aWNhbGx5IGRlZmluZSBgZmlsdGVyYCBhcyBhIHN0cmluZywgb3IgcmV0dXJuIGBwYXJhbXNgIGZyb20gdGhlIGBmaWx0ZXJgLWZ1bmN0aW9uLlwiLFxuICAgICAgSEVMUF9JRFMuUkVGRVJFTkNFX0lOVkFMSURfRklMVEVSX1BBUkFNU19DT01CSU5BVElPTlxuICAgIClcbiAgKSA6IHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PSBcImZ1bmN0aW9uXCIgfHwgIW9wdGlvbnMuZmlsdGVyICYmICFvcHRpb25zLmZpbHRlclBhcmFtcyA/IHByb2JsZW1zIDogdHlwZW9mIG9wdGlvbnMuZmlsdGVyICE9IFwic3RyaW5nXCIgPyBwcm9ibGVtcy5jb25jYXQoXG4gICAgZXJyb3IoYElmIHNldCwgXFxgZmlsdGVyXFxgIG11c3QgYmUgYSBzdHJpbmcuIEdvdCAke3R5cGVvZiBvcHRpb25zLmZpbHRlcn1gKVxuICApIDogdHlwZW9mIG9wdGlvbnMuZmlsdGVyUGFyYW1zIDwgXCJ1XCIgJiYgIWlzUGxhaW5PYmplY3Qob3B0aW9ucy5maWx0ZXJQYXJhbXMpID8gcHJvYmxlbXMuY29uY2F0KGVycm9yKFwiSWYgc2V0LCBgZmlsdGVyUGFyYW1zYCBtdXN0IGJlIGFuIG9iamVjdC5cIikpIDogb3B0aW9ucy5maWx0ZXJQYXJhbXMgPyBwcm9ibGVtcy5jb25jYXQoXG4gICAgT2JqZWN0LmtleXMob3B0aW9ucy5maWx0ZXJQYXJhbXMpLmZpbHRlcigoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aChcIl9fXCIpIHx8IGtleS5zdGFydHNXaXRoKFwiJFwiKSkubWFwKChrZXkpID0+IGVycm9yKGBGaWx0ZXIgcGFyYW1ldGVyIGNhbm5vdCBiZSBwcmVmaXhlZCB3aXRoIFwiJFwiIG9yIFwiX19cIi4gR290ICR7a2V5fVwiLmApKVxuICApIDogcHJvYmxlbXMgOiBwcm9ibGVtcy5jb25jYXQoXG4gICAgZXJyb3IoXG4gICAgICBcIlRoZSByZWZlcmVuY2UgdHlwZSBleHBlY3RzIGBvcHRpb25zYCB0byBiZSBhbiBvYmplY3RcIixcbiAgICAgIEhFTFBfSURTLlJFRkVSRU5DRV9JTlZBTElEX09QVElPTlNcbiAgICApXG4gICkgOiBwcm9ibGVtcztcbn1cbmNvbnN0IFJFQUNUX1NZTV9SRSA9IC9eU3ltYm9sXFwocmVhY3RcXC4uK1xcKSQvO1xuZnVuY3Rpb24gaXNDb21wb25lbnRMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiAodmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLiQkdHlwZW9mKSA9PSBcInN5bWJvbFwiICYmIFJFQUNUX1NZTV9SRS50ZXN0KFN0cmluZyh2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUuJCR0eXBlb2YpKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50KHR5cGVEZWYpIHtcbiAgY29uc3QgY29tcG9uZW50cyA9IFwiY29tcG9uZW50c1wiIGluIHR5cGVEZWYgPyB0eXBlRGVmLmNvbXBvbmVudHMgOiAhMTtcbiAgaWYgKCFjb21wb25lbnRzKVxuICAgIHJldHVybiBbXTtcbiAgY29uc3Qgd2FybmluZ3MgPSBbXTtcbiAgcmV0dXJuIGNvbXBvbmVudHMuaW5wdXQgJiYgIWlzQ29tcG9uZW50TGlrZShjb21wb25lbnRzLmlucHV0KSAmJiB3YXJuaW5ncy5wdXNoKFxuICAgIHdhcm5pbmcoXG4gICAgICBgVGhlIFxcYGNvbXBvbmVudHMuaW5wdXRcXGAgcHJvcGVydHkgaXMgc2V0IGJ1dCBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSB2YWxpZCBSZWFjdCBjb21wb25lbnQgKGV4cGVjdGVkIGEgZnVuY3Rpb24sIGJ1dCBzYXcgJHtpbnNwZWN0KFxuICAgICAgICBjb21wb25lbnRzLmlucHV0XG4gICAgICApfSkuIElmIHlvdSBoYXZlIGltcG9ydGVkIGEgY3VzdG9tIGlucHV0IGNvbXBvbmVudCwgcGxlYXNlIHZlcmlmeSB0aGF0IHlvdSBoYXZlIGltcG9ydGVkIHRoZSBjb3JyZWN0IG5hbWVkL2RlZmF1bHQgZXhwb3J0LmBcbiAgICApXG4gICksIGNvbXBvbmVudHMuZmllbGQgJiYgIWlzQ29tcG9uZW50TGlrZShjb21wb25lbnRzLmZpZWxkKSAmJiB3YXJuaW5ncy5wdXNoKFxuICAgIHdhcm5pbmcoXG4gICAgICBgVGhlIFxcYGNvbXBvbmVudHMuZmllbGRcXGAgcHJvcGVydHkgaXMgc2V0IGJ1dCBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSB2YWxpZCBSZWFjdCBjb21wb25lbnQgKGV4cGVjdGVkIGEgZnVuY3Rpb24sIGJ1dCBzYXcgJHtpbnNwZWN0KFxuICAgICAgICBjb21wb25lbnRzLmZpZWxkXG4gICAgICApfSkuIElmIHlvdSBoYXZlIGltcG9ydGVkIGEgY3VzdG9tIGZpZWxkIGNvbXBvbmVudCwgcGxlYXNlIHZlcmlmeSB0aGF0IHlvdSBoYXZlIGltcG9ydGVkIHRoZSBjb3JyZWN0IG5hbWVkL2RlZmF1bHQgZXhwb3J0LmBcbiAgICApXG4gICksIGNvbXBvbmVudHMuaXRlbSAmJiAhaXNDb21wb25lbnRMaWtlKGNvbXBvbmVudHMuaXRlbSkgJiYgd2FybmluZ3MucHVzaChcbiAgICB3YXJuaW5nKFxuICAgICAgYFRoZSBcXGBjb21wb25lbnRzLml0ZW1cXGAgcHJvcGVydHkgaXMgc2V0IGJ1dCBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSB2YWxpZCBSZWFjdCBjb21wb25lbnQgKGV4cGVjdGVkIGEgZnVuY3Rpb24sIGJ1dCBzYXcgJHtpbnNwZWN0KFxuICAgICAgICBjb21wb25lbnRzLml0ZW1cbiAgICAgICl9KS4gSWYgeW91IGhhdmUgaW1wb3J0ZWQgYSBjdXN0b20gaXRlbSBjb21wb25lbnQsIHBsZWFzZSB2ZXJpZnkgdGhhdCB5b3UgaGF2ZSBpbXBvcnRlZCB0aGUgY29ycmVjdCBuYW1lZC9kZWZhdWx0IGV4cG9ydC5gXG4gICAgKVxuICApLCBjb21wb25lbnRzLnByZXZpZXcgJiYgIWlzQ29tcG9uZW50TGlrZShjb21wb25lbnRzLnByZXZpZXcpICYmIHdhcm5pbmdzLnB1c2goXG4gICAgd2FybmluZyhcbiAgICAgIGBUaGUgXFxgY29tcG9uZW50cy5wcmV2aWV3XFxgIHByb3BlcnR5IGlzIHNldCBidXQgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgdmFsaWQgUmVhY3QgY29tcG9uZW50IChleHBlY3RlZCBhIGZ1bmN0aW9uLCBidXQgc2F3ICR7aW5zcGVjdChcbiAgICAgICAgY29tcG9uZW50cy5wcmV2aWV3XG4gICAgICApfSkuIElmIHlvdSBoYXZlIGltcG9ydGVkIGEgY3VzdG9tIHByZXZpZXcgY29tcG9uZW50LCBwbGVhc2UgdmVyaWZ5IHRoYXQgeW91IGhhdmUgaW1wb3J0ZWQgdGhlIGNvcnJlY3QgbmFtZWQvZGVmYXVsdCBleHBvcnQuYFxuICAgIClcbiAgKSwgd2FybmluZ3M7XG59XG5jb25zdCBWQUxJRF9GSUVMRF9SRSA9IC9eW0EtWmEtel0rWzAtOUEtWmEtel9dKiQvLCBDT05WRU5USU9OQUxfRklFTERfUkUgPSAvXltBLVphLXpfXStbMC05QS1aYS16X10qJC87XG5mdW5jdGlvbiB2YWxpZGF0ZUZpZWxkTmFtZShuYW1lKSB7XG4gIHJldHVybiB0eXBlb2YgbmFtZSAhPSBcInN0cmluZ1wiID8gW1xuICAgIGVycm9yKFxuICAgICAgYEZpZWxkIG5hbWVzIG11c3QgYmUgc3RyaW5ncy4gU2F3IFwiJHtpbnNwZWN0KG5hbWUpfVwiYCxcbiAgICAgIEhFTFBfSURTLk9CSkVDVF9GSUVMRF9OQU1FX0lOVkFMSURcbiAgICApXG4gIF0gOiBuYW1lLnN0YXJ0c1dpdGgoXCJfXCIpID8gW1xuICAgIGVycm9yKFxuICAgICAgYEludmFsaWQgZmllbGQgbmFtZSBcIiR7bmFtZX1cIi4gRmllbGQgbmFtZXMgY2Fubm90IHN0YXJ0IHdpdGggdW5kZXJzY29yZXMgXCJfXCIgYXMgaXQncyByZXNlcnZlZCBmb3Igc3lzdGVtIGZpZWxkcy5gLFxuICAgICAgSEVMUF9JRFMuT0JKRUNUX0ZJRUxEX05BTUVfSU5WQUxJRFxuICAgIClcbiAgXSA6IFZBTElEX0ZJRUxEX1JFLnRlc3QobmFtZSkgPyBDT05WRU5USU9OQUxfRklFTERfUkUudGVzdChuYW1lKSA/IFtdIDogW1xuICAgIHdhcm5pbmcoXG4gICAgICBcIlRoYXRzIGFuIGludGVyZXN0aW5nIGZpZWxkIG5hbWUgZm9yIHN1cmUhIEJ1dCBpdCBpcy4uLiBob3cgdG8gcHV0IGl0Li4uIGEgYml0Li4uIHVuY29udmVudGlvbmFsPyBJdCBtYXkgYmUgd2lzZSB0byBrZWVwIHNwZWNpYWwgY2hhcmFjdGVycyBvdXQgb2YgZmllbGQgbmFtZXMgZm9yIGVhc2llciBhY2Nlc3MgbGF0ZXIgb24uXCJcbiAgICApLFxuICAgIEhFTFBfSURTLk9CSkVDVF9GSUVMRF9OQU1FX0lOVkFMSURcbiAgXSA6IFtcbiAgICBlcnJvcihcbiAgICAgIGBJbnZhbGlkIGZpZWxkIG5hbWU6IFwiJHtuYW1lfVwiLiBGaWVsZHMgY2FuIG9ubHkgY29udGFpbiBjaGFyYWN0ZXJzIGZyb20gQS1aLCBudW1iZXJzIGFuZCB1bmRlcnNjb3JlcyBhbmQgc2hvdWxkIG5vdCBzdGFydCB3aXRoIGEgbnVtYmVyIChtdXN0IHBhc3MgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiAke1N0cmluZyhcbiAgICAgICAgVkFMSURfRklFTERfUkVcbiAgICAgICl9KS5gLFxuICAgICAgSEVMUF9JRFMuT0JKRUNUX0ZJRUxEX05BTUVfSU5WQUxJRFxuICAgIClcbiAgXTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlRmllbGQoZmllbGQsIF92aXNpdG9yQ29udGV4dCkge1xuICBpZiAoIWlzUGxhaW5PYmplY3QoZmllbGQpKVxuICAgIHJldHVybiBbXG4gICAgICBlcnJvcihcbiAgICAgICAgYEluY29ycmVjdCB0eXBlIGZvciBmaWVsZCBkZWZpbml0aW9uIC0gc2hvdWxkIGJlIGFuIG9iamVjdCwgc2F3ICR7aW5zcGVjdChmaWVsZCl9YCxcbiAgICAgICAgSEVMUF9JRFMuT0JKRUNUX0ZJRUxEX0RFRklOSVRJT05fSU5WQUxJRF9UWVBFXG4gICAgICApXG4gICAgXTtcbiAgY29uc3QgcHJvYmxlbXMgPSBbXTtcbiAgcmV0dXJuIHByb2JsZW1zLnB1c2goXG4gICAgLi4uXCJuYW1lXCIgaW4gZmllbGQgPyB2YWxpZGF0ZUZpZWxkTmFtZShmaWVsZC5uYW1lKSA6IFtlcnJvcihcIk1pc3NpbmcgZmllbGQgbmFtZVwiLCBIRUxQX0lEUy5PQkpFQ1RfRklFTERfTkFNRV9JTlZBTElEKV1cbiAgKSwgcHJvYmxlbXMucHVzaCguLi52YWxpZGF0ZUNvbXBvbmVudChmaWVsZCkpLCBwcm9ibGVtcztcbn1cbmZ1bmN0aW9uIGdldER1cGxpY2F0ZUZpZWxkcyhhcnJheTIpIHtcbiAgY29uc3QgZHVwZXMgPSB7fTtcbiAgcmV0dXJuIGFycmF5Mi5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgIGR1cGVzW2ZpZWxkLm5hbWVdIHx8IChkdXBlc1tmaWVsZC5uYW1lXSA9IFtdKSwgZHVwZXNbZmllbGQubmFtZV0ucHVzaChmaWVsZCk7XG4gIH0pLCBPYmplY3Qua2V5cyhkdXBlcykubWFwKChmaWVsZE5hbWUpID0+IGR1cGVzW2ZpZWxkTmFtZV0ubGVuZ3RoID4gMSA/IGR1cGVzW2ZpZWxkTmFtZV0gOiBudWxsKS5maWx0ZXIoQm9vbGVhbik7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUZpZWxkcyhmaWVsZHMsIG9wdGlvbnMgPSB7IGFsbG93RW1wdHk6ICExIH0pIHtcbiAgY29uc3QgcHJvYmxlbXMgPSBbXTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGZpZWxkcykpXG4gICAgcmV0dXJuIFtcbiAgICAgIGVycm9yKFxuICAgICAgICBgVGhlIFwiZmllbGRzXCIgcHJvcGVydHkgbXVzdCBiZSBhbiBhcnJheSBvZiBmaWVsZHMuIEluc3RlYWQgc2F3IFwiJHt0eXBlb2YgZmllbGRzfVwiYCxcbiAgICAgICAgSEVMUF9JRFMuT0JKRUNUX0ZJRUxEU19JTlZBTElEXG4gICAgICApXG4gICAgXTtcbiAgY29uc3QgZmllbGRzV2l0aE5hbWVzID0gZmllbGRzLmZpbHRlcigoZmllbGQpID0+IHR5cGVvZiBmaWVsZC5uYW1lID09IFwic3RyaW5nXCIpO1xuICBnZXREdXBsaWNhdGVGaWVsZHMoZmllbGRzV2l0aE5hbWVzKS5mb3JFYWNoKChkdXBlcykgPT4ge1xuICAgIHByb2JsZW1zLnB1c2goXG4gICAgICBlcnJvcihcbiAgICAgICAgYEZvdW5kICR7ZHVwZXMubGVuZ3RofSBmaWVsZHMgd2l0aCBuYW1lIFwiJHtkdXBlc1swXS5uYW1lfVwiIGluIG9iamVjdGAsXG4gICAgICAgIEhFTFBfSURTLk9CSkVDVF9GSUVMRF9OT1RfVU5JUVVFXG4gICAgICApXG4gICAgKTtcbiAgfSksIGZpZWxkcy5sZW5ndGggPT09IDAgJiYgIW9wdGlvbnMuYWxsb3dFbXB0eSAmJiBwcm9ibGVtcy5wdXNoKGVycm9yKFwiT2JqZWN0IHNob3VsZCBoYXZlIGF0IGxlYXN0IG9uZSBmaWVsZFwiLCBIRUxQX0lEUy5PQkpFQ1RfRklFTERTX0lOVkFMSUQpKTtcbiAgY29uc3Qgc3RhbmRhbG9uZUJsb2NrRmllbGRzID0gZmllbGRzLmZpbHRlcigoZmllbGQpID0+IGZpZWxkLnR5cGUgPT09IFwiYmxvY2tcIikubWFwKChmaWVsZCkgPT4gYFwiJHtmaWVsZC5uYW1lfVwiYCk7XG4gIGlmIChzdGFuZGFsb25lQmxvY2tGaWVsZHMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGZtdEZpZWxkcyA9IHN0YW5kYWxvbmVCbG9ja0ZpZWxkcy5qb2luKFwiLCBcIik7XG4gICAgcHJvYmxlbXMucHVzaChcbiAgICAgIGVycm9yKFxuICAgICAgICBgSW52YWxpZCBzdGFuZGFsb25lIGJsb2NrIGZpZWxkKHMpICR7Zm10RmllbGRzfS4gQmxvY2sgY29udGVudCBtdXN0IGJlIGRlZmluZWQgYXMgYW4gYXJyYXkgb2YgYmxvY2tzYCxcbiAgICAgICAgSEVMUF9JRFMuU1RBTkRBTE9ORV9CTE9DS19UWVBFXG4gICAgICApXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcHJvYmxlbXM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByZXZpZXcocHJldmlldykge1xuICByZXR1cm4gaXNQbGFpbk9iamVjdChwcmV2aWV3KSA/IHR5cGVvZiBwcmV2aWV3LnByZXBhcmUgPCBcInVcIiAmJiB0eXBlb2YgcHJldmlldy5wcmVwYXJlICE9IFwiZnVuY3Rpb25cIiA/IFtcbiAgICBlcnJvcihcbiAgICAgIGBUaGUgXCJwcmV2aWV3LnByZXBhcmVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgc2F3IFwiJHt0eXBlb2YgcHJldmlldy5wcmVwYXJlfVwiYFxuICAgIClcbiAgXSA6IHByZXZpZXcuc2VsZWN0ID8gaXNQbGFpbk9iamVjdChwcmV2aWV3LnNlbGVjdCkgPyBPYmplY3Qua2V5cyhwcmV2aWV3LnNlbGVjdCkucmVkdWNlKChlcnJzLCBrZXkpID0+IHR5cGVvZiBwcmV2aWV3LnNlbGVjdFtrZXldID09IFwic3RyaW5nXCIgPyBlcnJzIDogZXJycy5jb25jYXQoXG4gICAgZXJyb3IoXG4gICAgICBgVGhlIGtleSBcIiR7a2V5fVwiIG9mIFwicHJldmlldy5zZWxlY3RcIiBtdXN0IGJlIGEgc3RyaW5nLCBpbnN0ZWFkIHNhdyBcIiR7dHlwZW9mIHByZXZpZXcuc2VsZWN0W2tleV19XCJgXG4gICAgKVxuICApLCBbXSkgOiBbXG4gICAgZXJyb3IoXG4gICAgICBgVGhlIFwicHJldmlldy5zZWxlY3RcIiBwcm9wZXJ0eSBtdXN0IGJlIGFuIG9iamVjdCwgaW5zdGVhZCBzYXcgXCIke3R5cGVvZiBwcmV2aWV3LnByZXBhcmV9XCJgXG4gICAgKVxuICBdIDogW10gOiBbZXJyb3IoYFRoZSBcInByZXZpZXdcIiBwcm9wZXJ0eSBtdXN0IGJlIGFuIG9iamVjdCwgaW5zdGVhZCBzYXcgXCIke3R5cGVvZiBwcmV2aWV3fVwiYCldO1xufVxudmFyIG9iamVjdCA9ICh0eXBlRGVmLCB2aXNpdG9yQ29udGV4dCkgPT4ge1xuICBsZXQgcHJvYmxlbXMgPSB2YWxpZGF0ZUZpZWxkcyh0eXBlRGVmLmZpZWxkcyksIHByZXZpZXcgPSB0eXBlRGVmLnByZXZpZXc7XG4gIGlmIChwcmV2aWV3KSB7XG4gICAgY29uc3QgcHJldmlld0Vycm9ycyA9IHZhbGlkYXRlUHJldmlldyh0eXBlRGVmLnByZXZpZXcpO1xuICAgIHByb2JsZW1zID0gcHJvYmxlbXMuY29uY2F0KHByZXZpZXdFcnJvcnMpLCBwcmV2aWV3ID0gcHJldmlld0Vycm9ycy5zb21lKChlcnIpID0+IGVyci5zZXZlcml0eSA9PT0gXCJlcnJvclwiKSA/IHt9IDogcHJldmlldztcbiAgfVxuICByZXR1cm4gdHlwZURlZi50eXBlICE9PSBcImRvY3VtZW50XCIgJiYgdHlwZURlZi50eXBlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB0eXBlRGVmLmluaXRpYWxWYWx1ZSA8IFwidVwiICYmIHByb2JsZW1zLnB1c2goXG4gICAgZXJyb3IoJ1RoZSBcImluaXRpYWxWYWx1ZVwiIHByb3BlcnR5IGlzIGN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCBmb3IgZG9jdW1lbnQgJiBvYmplY3QgdHlwZXMuJylcbiAgKSwge1xuICAgIC4uLnR5cGVEZWYsXG4gICAgcHJldmlldyxcbiAgICBmaWVsZHM6IChBcnJheS5pc0FycmF5KHR5cGVEZWYuZmllbGRzKSA/IHR5cGVEZWYuZmllbGRzIDogW10pLm1hcCgoZmllbGQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB7IG5hbWUsIC4uLmZpZWxkVHlwZURlZiB9ID0gZmllbGQsIHsgX3Byb2JsZW1zLCAuLi5maWVsZFR5cGUgfSA9IHZpc2l0b3JDb250ZXh0LnZpc2l0KGZpZWxkVHlwZURlZiwgaW5kZXgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgLi4uZmllbGRUeXBlLFxuICAgICAgICBfcHJvYmxlbXM6IHZhbGlkYXRlRmllbGQoZmllbGQpLmNvbmNhdChfcHJvYmxlbXMgfHwgW10pXG4gICAgICB9O1xuICAgIH0pLFxuICAgIF9wcm9ibGVtczogcHJvYmxlbXNcbiAgfTtcbn0sIGRvY3VtZW50VmlzaXRvciA9ICh0eXBlRGVmaW5pdGlvbiwgdmlzaXRvckNvbnRleHQpID0+IHtcbiAgY29uc3QgdHlwZURlZiA9IG9iamVjdCh0eXBlRGVmaW5pdGlvbiwgdmlzaXRvckNvbnRleHQpLCB7IGluaXRpYWxWYWx1ZSwgaW5pdGlhbFZhbHVlcyB9ID0gdHlwZURlZjtcbiAgcmV0dXJuIHR5cGVvZiBpbml0aWFsVmFsdWUgPCBcInVcIiAmJiAhaXNQbGFpbk9iamVjdChpbml0aWFsVmFsdWUpICYmIHR5cGVvZiBpbml0aWFsVmFsdWUgIT0gXCJmdW5jdGlvblwiICYmIHR5cGVEZWYuX3Byb2JsZW1zLnB1c2goXG4gICAgZXJyb3IoJ1RoZSBcImluaXRpYWxWYWx1ZVwiIHByb3BlcnR5IG11c3QgYmUgZWl0aGVyIGEgcGxhaW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24nKVxuICApLCB0eXBlb2YgaW5pdGlhbFZhbHVlcyA8IFwidVwiICYmIHR5cGVEZWYuX3Byb2JsZW1zLnB1c2goZXJyb3IoJ0ZvdW5kIHByb3BlcnR5IFwiaW5pdGlhbFZhbHVlc1wiIC0gZGlkIHlvdSBtZWFuIFwiaW5pdGlhbFZhbHVlXCI/JykpLCB0eXBlRGVmO1xufSwgZmlsZSA9ICh0eXBlRGVmLCB2aXNpdG9yQ29udGV4dCkgPT4ge1xuICBjb25zdCBwcm9ibGVtcyA9IFtdLCBmaWVsZHMgPSB0eXBlRGVmLmZpZWxkcztcbiAgZmllbGRzICYmIHByb2JsZW1zLnB1c2goLi4udmFsaWRhdGVGaWVsZHMoZmllbGRzLCB7IGFsbG93RW1wdHk6ICEwIH0pKTtcbiAgY29uc3QgaW52YWxpZEZpZWxkTmFtZXMgPSBBcnJheS5pc0FycmF5KGZpZWxkcykgPyBmaWVsZHMgPT0gbnVsbCA/IHZvaWQgMCA6IGZpZWxkcy5maWx0ZXIoKGZpZWxkKSA9PiBmaWVsZC5uYW1lID09PSBcImFzc2V0XCIpIDogW107XG4gIHJldHVybiB0eXBlRGVmLm9wdGlvbnMgJiYgdHlwZW9mIHR5cGVEZWYub3B0aW9ucy5tZXRhZGF0YSA8IFwidVwiICYmICFBcnJheS5pc0FycmF5KHR5cGVEZWYub3B0aW9ucy5tZXRhZGF0YSkgPyBwcm9ibGVtcy5wdXNoKFxuICAgIGVycm9yKFxuICAgICAgXCJJbnZhbGlkIHR5cGUgZm9yIGZpbGUgYG1ldGFkYXRhYCBmaWVsZCAtIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5nc1wiLFxuICAgICAgSEVMUF9JRFMuQVNTRVRfTUVUQURBVEFfRklFTERfSU5WQUxJRFxuICAgIClcbiAgKSA6IGludmFsaWRGaWVsZE5hbWVzLmxlbmd0aCA+IDAgJiYgcHJvYmxlbXMucHVzaChlcnJvcihcIlRoZSBuYW1lIGBhc3NldGAgaXMgbm90IGEgdmFsaWQgZmllbGQgbmFtZSBmb3IgdHlwZSBgZmlsZWAuXCIpKSwge1xuICAgIC4uLnR5cGVEZWYsXG4gICAgZmllbGRzOiAoQXJyYXkuaXNBcnJheShmaWVsZHMpID8gZmllbGRzIDogW10pLm1hcCgoZmllbGQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB7IG5hbWUsIC4uLmZpZWxkVHlwZURlZiB9ID0gZmllbGQsIHsgX3Byb2JsZW1zLCAuLi5maWVsZFR5cGUgfSA9IHZpc2l0b3JDb250ZXh0LnZpc2l0KGZpZWxkVHlwZURlZiwgaW5kZXgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgLi4uZmllbGRUeXBlLFxuICAgICAgICBfcHJvYmxlbXM6IHZhbGlkYXRlRmllbGQoZmllbGQpLmNvbmNhdChfcHJvYmxlbXMgfHwgW10pXG4gICAgICB9O1xuICAgIH0pLFxuICAgIF9wcm9ibGVtczogcHJvYmxlbXNcbiAgfTtcbn07XG5jb25zdCBhdXRvTWV0YSA9IFtcImRpbWVuc2lvbnNcIiwgXCJoYXNBbHBoYVwiLCBcImlzT3BhcXVlXCJdO1xudmFyIGltYWdlID0gKHR5cGVEZWYsIHZpc2l0b3JDb250ZXh0KSA9PiB7XG4gIGNvbnN0IHByb2JsZW1zID0gW10sIGZpZWxkcyA9IHR5cGVEZWYuZmllbGRzO1xuICBmaWVsZHMgJiYgcHJvYmxlbXMucHVzaCguLi52YWxpZGF0ZUZpZWxkcyhmaWVsZHMsIHsgYWxsb3dFbXB0eTogITAgfSkpO1xuICBsZXQgb3B0aW9ucyA9IHR5cGVEZWYub3B0aW9ucztcbiAgY29uc3QgbWV0YWRhdGEgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm1ldGFkYXRhLCBzdXBlcmZsdW91c01ldGEgPSBBcnJheS5pc0FycmF5KG1ldGFkYXRhKSA/IG1ldGFkYXRhLmZpbHRlcigobWV0YSkgPT4gYXV0b01ldGEuaW5jbHVkZXMobWV0YSkpIDogW10sIGludmFsaWRGaWVsZE5hbWVzID0gW1wiYXNzZXRcIiwgXCJob3RzcG90XCIsIFwiY3JvcFwiXSwgZmllbGRzV2l0aEludmFsaWROYW1lID0gQXJyYXkuaXNBcnJheShmaWVsZHMpID8gZmllbGRzID09IG51bGwgPyB2b2lkIDAgOiBmaWVsZHMuZmlsdGVyKChmaWVsZCkgPT4gaW52YWxpZEZpZWxkTmFtZXMuaW5jbHVkZXMoZmllbGQubmFtZSkpIDogW107XG4gIHJldHVybiB0eXBlb2YgbWV0YWRhdGEgPCBcInVcIiAmJiAhQXJyYXkuaXNBcnJheShtZXRhZGF0YSkgPyBwcm9ibGVtcy5wdXNoKFxuICAgIGVycm9yKFxuICAgICAgXCJJbnZhbGlkIHR5cGUgZm9yIGltYWdlIGBtZXRhZGF0YWAgZmllbGQgLSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3NcIixcbiAgICAgIEhFTFBfSURTLkFTU0VUX01FVEFEQVRBX0ZJRUxEX0lOVkFMSURcbiAgICApXG4gICkgOiBzdXBlcmZsdW91c01ldGEubGVuZ3RoID4gMCA/IChwcm9ibGVtcy5wdXNoKFxuICAgIHdhcm5pbmcoXG4gICAgICBgSW1hZ2UgXFxgbWV0YWRhdGFcXGAgZmllbGQgY29udGFpbnMgc3VwZXJmbHVvdXMgcHJvcGVydGllcyAodGhleSBhcmUgYWx3YXlzIGluY2x1ZGVkKTogJHtzdXBlcmZsdW91c01ldGEuam9pbihcbiAgICAgICAgXCIsIFwiXG4gICAgICApfWBcbiAgICApXG4gICksIG9wdGlvbnMgPSB7IC4uLm9wdGlvbnMsIG1ldGFkYXRhOiBtZXRhZGF0YS5maWx0ZXIoKG1ldGEpID0+ICFhdXRvTWV0YS5pbmNsdWRlcyhtZXRhKSkgfSkgOiBmaWVsZHNXaXRoSW52YWxpZE5hbWUubGVuZ3RoID4gMCAmJiBwcm9ibGVtcy5wdXNoKFxuICAgIGVycm9yKFxuICAgICAgYFRoZSBuYW1lcyBcXGAke2ludmFsaWRGaWVsZE5hbWVzLmpvaW4oXG4gICAgICAgIFwiYCwgYFwiXG4gICAgICApfVxcYCBhcmUgaW52YWxpZCBmaWVsZCBuYW1lcyBmb3IgdHlwZSBcXGBpbWFnZVxcYC5gXG4gICAgKVxuICApLCB7XG4gICAgLi4udHlwZURlZixcbiAgICBvcHRpb25zLFxuICAgIGZpZWxkczogKEFycmF5LmlzQXJyYXkoZmllbGRzKSA/IGZpZWxkcyA6IFtdKS5tYXAoKGZpZWxkLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgeyBuYW1lLCAuLi5maWVsZFR5cGVEZWYgfSA9IGZpZWxkLCB7IF9wcm9ibGVtcywgLi4uZmllbGRUeXBlIH0gPSB2aXNpdG9yQ29udGV4dC52aXNpdChmaWVsZFR5cGVEZWYsIGluZGV4KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIC4uLmZpZWxkVHlwZSxcbiAgICAgICAgX3Byb2JsZW1zOiB2YWxpZGF0ZUZpZWxkKGZpZWxkKS5jb25jYXQoX3Byb2JsZW1zIHx8IFtdKVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBfcHJvYmxlbXM6IHByb2JsZW1zXG4gIH07XG59O1xuZnVuY3Rpb24gbm9ybWFsaXplVG9Qcm9wKHR5cGVEZWYpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodHlwZURlZi50bykgPyB0eXBlRGVmLnRvIDogdHlwZURlZi50byA/IFt0eXBlRGVmLnRvXSA6IHR5cGVEZWYudG87XG59XG52YXIgcmVmZXJlbmNlID0gKHR5cGVEZWYsIHZpc2l0b3JDb250ZXh0KSA9PiB7XG4gIGNvbnN0IGlzVmFsaWRUbyA9IEFycmF5LmlzQXJyYXkodHlwZURlZi50bykgfHwgaXNQbGFpbk9iamVjdCh0eXBlRGVmLnRvKSwgbm9ybWFsaXplZFRvID0gbm9ybWFsaXplVG9Qcm9wKHR5cGVEZWYpLCBwcm9ibGVtcyA9IGZsYXR0ZW4oW1xuICAgIGlzVmFsaWRUbyA/IGdldER1cGVzKG5vcm1hbGl6ZWRUbywgKHQpID0+IGAke3QubmFtZX07JHt0LnR5cGV9YCkubWFwKFxuICAgICAgKGR1cGVzKSA9PiBlcnJvcihcbiAgICAgICAgYEZvdW5kICR7ZHVwZXMubGVuZ3RofSBtZW1iZXJzIHdpdGggc2FtZSB0eXBlLCBidXQgbm90IHVuaXF1ZSBuYW1lcyBcIiR7ZHVwZXNbMF0udHlwZX1cIiBpbiByZWZlcmVuY2UuIFRoaXMgbWFrZXMgaXQgaW1wb3NzaWJsZSB0byB0ZWxsIHRoZWlyIHZhbHVlcyBhcGFydCBhbmQgeW91IHNob3VsZCBjb25zaWRlciBuYW1pbmcgdGhlbWAsXG4gICAgICAgIEhFTFBfSURTLlJFRkVSRU5DRV9UT19JTlZBTElEXG4gICAgICApXG4gICAgKSA6IGVycm9yKFxuICAgICAgJ1RoZSByZWZlcmVuY2UgdHlwZSBpcyBtaXNzaW5nIG9yIGhhdmluZyBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgcmVxdWlyZWQgXCJ0b1wiIHByb3BlcnR5LiBJdCBzaG91bGQgYmUgYW4gYXJyYXkgb2YgYWNjZXB0ZWQgdHlwZXMuJyxcbiAgICAgIEhFTFBfSURTLlJFRkVSRU5DRV9UT19JTlZBTElEXG4gICAgKVxuICBdKTtcbiAgcmV0dXJuIGlzVmFsaWRUbyAmJiBub3JtYWxpemVkVG8ubGVuZ3RoID09PSAwICYmIHByb2JsZW1zLnB1c2goXG4gICAgZXJyb3IoXG4gICAgICAnVGhlIHJlZmVyZW5jZSB0eXBlIHNob3VsZCBkZWZpbmUgYXQgbGVhc3Qgb25lIGFjY2VwdGVkIHR5cGUuIFBsZWFzZSBjaGVjayB0aGUgXCJ0b1wiIHByb3BlcnR5LicsXG4gICAgICBIRUxQX0lEUy5SRUZFUkVOQ0VfVE9fSU5WQUxJRFxuICAgIClcbiAgKSwgcHJvYmxlbXMucHVzaCguLi5nZXRPcHRpb25FcnJvcnModHlwZURlZikpLCB7XG4gICAgLi4udHlwZURlZixcbiAgICB0bzogKGlzVmFsaWRUbyA/IG5vcm1hbGl6ZWRUbyA6IFtdKS5tYXAodmlzaXRvckNvbnRleHQudmlzaXQpLFxuICAgIF9wcm9ibGVtczogcHJvYmxlbXNcbiAgfTtcbn07XG5mdW5jdGlvbiBnZXRPcHRpb25FcnJvcnModHlwZURlZikge1xuICBjb25zdCB7IG9wdGlvbnMgfSA9IHR5cGVEZWYsIHByb2JsZW1zID0gW107XG4gIHJldHVybiBwcm9ibGVtcy5wdXNoKFxuICAgIC4uLltcImZpbHRlclwiLCBcImZpbHRlclBhcmFtc1wiXS5maWx0ZXIoKGtleSkgPT4ga2V5IGluIHR5cGVEZWYpLm1hcChcbiAgICAgIChrZXkpID0+IGVycm9yKFxuICAgICAgICBgXFxgJHtrZXl9XFxgIGlzIG5vdCBhbGxvd2VkIG9uIGEgcmVmZXJlbmNlIHR5cGUgZGVmaW5pdGlvbiAtIGRpZCB5b3UgbWVhbiBcXGBvcHRpb25zLiR7a2V5fVxcYD9gLFxuICAgICAgICBIRUxQX0lEUy5SRUZFUkVOQ0VfSU5WQUxJRF9PUFRJT05TX0xPQ0FUSU9OXG4gICAgICApXG4gICAgKVxuICApLCBvcHRpb25zID8gaXNQbGFpbk9iamVjdChvcHRpb25zKSA/IHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9wdGlvbnMuZmlsdGVyUGFyYW1zIDwgXCJ1XCIgPyBwcm9ibGVtcy5jb25jYXQoXG4gICAgZXJyb3IoXG4gICAgICBcImBmaWx0ZXJQYXJhbXNgIGNhbm5vdCBiZSB1c2VkIGlmIGBmaWx0ZXJgIGlzIGEgZnVuY3Rpb24uIEVpdGhlciBzdGF0aWNhbGx5IGRlZmluZSBgZmlsdGVyYCBhcyBhIHN0cmluZywgb3IgcmV0dXJuIGBwYXJhbXNgIGZyb20gdGhlIGBmaWx0ZXJgLWZ1bmN0aW9uLlwiLFxuICAgICAgSEVMUF9JRFMuUkVGRVJFTkNFX0lOVkFMSURfRklMVEVSX1BBUkFNU19DT01CSU5BVElPTlxuICAgIClcbiAgKSA6IHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PSBcImZ1bmN0aW9uXCIgfHwgIW9wdGlvbnMuZmlsdGVyICYmICFvcHRpb25zLmZpbHRlclBhcmFtcyA/IHByb2JsZW1zIDogdHlwZW9mIG9wdGlvbnMuZmlsdGVyICE9IFwic3RyaW5nXCIgPyBwcm9ibGVtcy5jb25jYXQoXG4gICAgZXJyb3IoYElmIHNldCwgXFxgZmlsdGVyXFxgIG11c3QgYmUgYSBzdHJpbmcuIEdvdCAke3R5cGVvZiBvcHRpb25zLmZpbHRlcn1gKVxuICApIDogdHlwZW9mIG9wdGlvbnMuZmlsdGVyUGFyYW1zIDwgXCJ1XCIgJiYgIWlzUGxhaW5PYmplY3Qob3B0aW9ucy5maWx0ZXJQYXJhbXMpID8gcHJvYmxlbXMuY29uY2F0KGVycm9yKFwiSWYgc2V0LCBgZmlsdGVyUGFyYW1zYCBtdXN0IGJlIGFuIG9iamVjdC5cIikpIDogb3B0aW9ucy5maWx0ZXJQYXJhbXMgPyBwcm9ibGVtcy5jb25jYXQoXG4gICAgT2JqZWN0LmtleXMob3B0aW9ucy5maWx0ZXJQYXJhbXMpLmZpbHRlcigoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aChcIl9fXCIpIHx8IGtleS5zdGFydHNXaXRoKFwiJFwiKSkubWFwKChrZXkpID0+IGVycm9yKGBGaWx0ZXIgcGFyYW1ldGVyIGNhbm5vdCBiZSBwcmVmaXhlZCB3aXRoIFwiJFwiIG9yIFwiX19cIi4gR290ICR7a2V5fVwiLmApKVxuICApIDogcHJvYmxlbXMgOiBwcm9ibGVtcy5jb25jYXQoXG4gICAgZXJyb3IoXG4gICAgICBcIlRoZSByZWZlcmVuY2UgdHlwZSBleHBlY3RzIGBvcHRpb25zYCB0byBiZSBhbiBvYmplY3RcIixcbiAgICAgIEhFTFBfSURTLlJFRkVSRU5DRV9JTlZBTElEX09QVElPTlNcbiAgICApXG4gICkgOiBwcm9ibGVtcztcbn1cbnZhciByb290VHlwZSA9ICh0eXBlRGVmLCB2aXNpdG9yQ29udGV4dCkgPT4ge1xuICBjb25zdCBoYXNOYW1lID0gISF0eXBlRGVmLm5hbWU7XG4gIGlmICghaGFzTmFtZSAmJiBPYmplY3Qua2V5cyh0eXBlRGVmKS5sZW5ndGggPT09IDEpXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnR5cGVEZWYsXG4gICAgICBfcHJvYmxlbXM6IFtcbiAgICAgICAgZXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkL3VuZGVmaW5lZCB0eXBlIGRlY2xhcmF0aW9uLCBjaGVjayBkZWNsYXJhdGlvbiBvciB0aGUgaW1wb3J0L2V4cG9ydCBvZiB0aGUgc2NoZW1hIHR5cGUuXCIsXG4gICAgICAgICAgSEVMUF9JRFMuVFlQRV9JTlZBTElEXG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9O1xuICBjb25zdCBwcm9ibGVtcyA9IFtdO1xuICByZXR1cm4gbG9va3NMaWtlRXNtTW9kdWxlKHR5cGVEZWYpID8gcHJvYmxlbXMucHVzaChcbiAgICBlcnJvcihcbiAgICAgIFwiVHlwZSBhcHBlYXJzIHRvIGJlIGFuIEVTNiBtb2R1bGUgaW1wb3J0ZWQgdGhyb3VnaCBDb21tb25KUyByZXF1aXJlIC0gdXNlIGFuIGltcG9ydCBzdGF0ZW1lbnQgb3IgYWNjZXNzIHRoZSBgLmRlZmF1bHRgIHByb3BlcnR5XCIsXG4gICAgICBIRUxQX0lEUy5UWVBFX0lTX0VTTV9NT0RVTEVcbiAgICApXG4gICkgOiBoYXNOYW1lID8gdmlzaXRvckNvbnRleHQuaXNSZXNlcnZlZCh0eXBlRGVmLm5hbWUpICYmIHByb2JsZW1zLnB1c2goXG4gICAgZXJyb3IoXG4gICAgICBgSW52YWxpZCB0eXBlIG5hbWU6IFwiJHt0eXBlRGVmLm5hbWV9XCIgaXMgYSByZXNlcnZlZCBuYW1lLmAsXG4gICAgICBIRUxQX0lEUy5UWVBFX05BTUVfUkVTRVJWRURcbiAgICApXG4gICkgOiBwcm9ibGVtcy5wdXNoKGVycm9yKFwiTWlzc2luZyB0eXBlIG5hbWVcIiwgSEVMUF9JRFMuVFlQRV9NSVNTSU5HX05BTUUpKSwgdmlzaXRvckNvbnRleHQuaXNEdXBsaWNhdGUodHlwZURlZi5uYW1lKSAmJiBwcm9ibGVtcy5wdXNoKFxuICAgIGVycm9yKFxuICAgICAgYEludmFsaWQgdHlwZSBuYW1lOiBBIHR5cGUgd2l0aCBuYW1lIFwiJHt0eXBlRGVmLm5hbWV9XCIgaXMgYWxyZWFkeSBkZWZpbmVkIGluIHRoZSBzY2hlbWEuYFxuICAgIClcbiAgKSwgcHJvYmxlbXMucHVzaCguLi52YWxpZGF0ZUNvbXBvbmVudCh0eXBlRGVmKSksIFwidGl0bGVcIiBpbiB0eXBlRGVmICYmIHR5cGVvZiB0eXBlRGVmLnRpdGxlICE9IFwic3RyaW5nXCIgJiYgcHJvYmxlbXMucHVzaCh3YXJuaW5nKFwiVHlwZSB0aXRsZSBpcyBub3QgYSBzdHJpbmcuXCIsIEhFTFBfSURTLlRZUEVfVElUTEVfSU5WQUxJRCkpLCB7XG4gICAgLi4udHlwZURlZixcbiAgICBfcHJvYmxlbXM6IHByb2JsZW1zXG4gIH07XG59O1xuZnVuY3Rpb24gbG9va3NMaWtlRXNtTW9kdWxlKHR5cGVEZWYpIHtcbiAgcmV0dXJuICF0eXBlRGVmLm5hbWUgJiYgdHlwZURlZi5kZWZhdWx0ICYmICh0eXBlRGVmLmRlZmF1bHQubmFtZSB8fCB0eXBlRGVmLmRlZmF1bHQudGl0bGUpO1xufVxudmFyIHNsdWcgPSAodHlwZURlZiwgdmlzaXRvckNvbnRleHQpID0+IHtcbiAgY29uc3QgcHJvYmxlbXMgPSBbXTtcbiAgcmV0dXJuIHR5cGVEZWYub3B0aW9ucyAmJiB0eXBlRGVmLm9wdGlvbnMuc2x1Z2lmeUZuICYmIChwcm9ibGVtcy5wdXNoKFxuICAgIHdhcm5pbmcoXG4gICAgICAnSGVhZHMgdXAhIFRoZSBcInNsdWdpZnlGblwiIG9wdGlvbiBoYXMgYmVlbiByZW5hbWVkIHRvIFwic2x1Z2lmeVwiLicsXG4gICAgICBIRUxQX0lEUy5TTFVHX1NMVUdJRllfRk5fUkVOQU1FRFxuICAgIClcbiAgKSwgdHlwZURlZi5vcHRpb25zLnNsdWdpZnkgPSB0eXBlRGVmLm9wdGlvbnMuc2x1Z2lmeUZuKSwge1xuICAgIC4uLnR5cGVEZWYsXG4gICAgX3Byb2JsZW1zOiBwcm9ibGVtc1xuICB9O1xufTtcbmNvbnN0IHR5cGVWaXNpdG9ycyA9IHtcbiAgYXJyYXksXG4gIG9iamVjdCxcbiAgc2x1ZyxcbiAgZmlsZSxcbiAgaW1hZ2UsXG4gIGJsb2NrOiB2YWxpZGF0ZUJsb2NrVHlwZSxcbiAgZG9jdW1lbnQ6IGRvY3VtZW50VmlzaXRvcixcbiAgcmVmZXJlbmNlLFxuICBjcm9zc0RhdGFzZXRSZWZlcmVuY2Vcbn0sIGdldE5vb3BWaXNpdG9yID0gKHZpc2l0b3JDb250ZXh0KSA9PiAoc2NoZW1hRGVmKSA9PiAoe1xuICBuYW1lOiBgPHVubmFtZWRfdHlwZV9AX2luZGV4XyR7dmlzaXRvckNvbnRleHQuaW5kZXh9PmAsXG4gIC4uLnNjaGVtYURlZixcbiAgX3Byb2JsZW1zOiBbXVxufSk7XG5mdW5jdGlvbiBjb21iaW5lKC4uLnZpc2l0b3JzKSB7XG4gIHJldHVybiAoc2NoZW1hVHlwZSwgdmlzaXRvckNvbnRleHQpID0+IHZpc2l0b3JzLnJlZHVjZShcbiAgICAocmVzdWx0LCB2aXNpdG9yKSA9PiB7XG4gICAgICBjb25zdCByZXMgPSB2aXNpdG9yKHJlc3VsdCwgdmlzaXRvckNvbnRleHQpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVzLFxuICAgICAgICBfcHJvYmxlbXM6IHJlc3VsdC5fcHJvYmxlbXMuY29uY2F0KHJlcy5fcHJvYmxlbXMpXG4gICAgICB9O1xuICAgIH0sXG4gICAgeyBfcHJvYmxlbXM6IFtdLCAuLi5zY2hlbWFUeXBlIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlU2NoZW1hKHNjaGVtYVR5cGVzKSB7XG4gIHJldHVybiB0cmF2ZXJzZVNhbml0eVNjaGVtYShzY2hlbWFUeXBlcywgKHNjaGVtYURlZiwgdmlzaXRvckNvbnRleHQpID0+IHtcbiAgICBjb25zdCB0eXBlVmlzaXRvciA9IHNjaGVtYURlZiAmJiBzY2hlbWFEZWYudHlwZSAmJiB0eXBlVmlzaXRvcnNbc2NoZW1hRGVmLnR5cGVdIHx8IGdldE5vb3BWaXNpdG9yKHZpc2l0b3JDb250ZXh0KTtcbiAgICByZXR1cm4gdmlzaXRvckNvbnRleHQuaXNSb290ID8gY29tYmluZShyb290VHlwZSwgY29tbW9uLCB0eXBlVmlzaXRvcikoc2NoZW1hRGVmLCB2aXNpdG9yQ29udGV4dCkgOiBjb21iaW5lKGNvbW1vbiwgdHlwZVZpc2l0b3IpKHNjaGVtYURlZiwgdmlzaXRvckNvbnRleHQpO1xuICB9KTtcbn1cbmV4cG9ydCB7XG4gIERFRkFVTFRfTUFYX0ZJRUxEX0RFUFRILFxuICBleHRyYWN0U2NoZW1hLFxuICBncm91cFByb2JsZW1zLFxuICBpc0FjdGlvbkVuYWJsZWQsXG4gIHJlc29sdmVTZWFyY2hDb25maWcsXG4gIHJlc29sdmVTZWFyY2hDb25maWdGb3JCYXNlRmllbGRQYXRocyxcbiAgdmFsaWRhdGVTY2hlbWFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1faW50ZXJuYWwubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/schema/lib/_internal.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/schema/lib/index.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@sanity/schema/lib/index.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Schema: () => (/* binding */ Schema2),\n/* harmony export */   \"default\": () => (/* binding */ DeprecatedDefaultSchema)\n/* harmony export */ });\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/omit.js */ \"(ssr)/./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/pick.js */ \"(ssr)/./node_modules/lodash/pick.js\");\n/* harmony import */ var arrify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! arrify */ \"(ssr)/./node_modules/arrify/index.js\");\n/* harmony import */ var lodash_isUndefined_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/isUndefined.js */ \"(ssr)/./node_modules/lodash/isUndefined.js\");\n/* harmony import */ var lodash_omitBy_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/omitBy.js */ \"(ssr)/./node_modules/lodash/omitBy.js\");\n/* harmony import */ var lodash_capitalize_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/capitalize.js */ \"(ssr)/./node_modules/lodash/capitalize.js\");\n/* harmony import */ var _chunks_es_resolve_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./_chunks-es/resolve.mjs */ \"(ssr)/./node_modules/@sanity/schema/lib/_chunks-es/resolve.mjs\");\n/* harmony import */ var lodash_castArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/castArray.js */ \"(ssr)/./node_modules/lodash/castArray.js\");\n/* harmony import */ var lodash_flatMap_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/flatMap.js */ \"(ssr)/./node_modules/lodash/flatMap.js\");\n/* harmony import */ var lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/startCase.js */ \"(ssr)/./node_modules/lodash/startCase.js\");\n/* harmony import */ var lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/isPlainObject.js */ \"(ssr)/./node_modules/lodash/isPlainObject.js\");\n/* harmony import */ var lodash_toPath_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/toPath.js */ \"(ssr)/./node_modules/lodash/toPath.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_OVERRIDEABLE_FIELDS = [\n  \"jsonType\",\n  \"type\",\n  \"name\",\n  \"title\",\n  \"description\",\n  \"options\",\n  \"fieldsets\",\n  \"validation\",\n  \"readOnly\",\n  \"hidden\",\n  \"components\",\n  \"diffComponent\",\n  \"initialValue\",\n  \"deprecated\"\n], OVERRIDABLE_FIELDS$e = [...DEFAULT_OVERRIDEABLE_FIELDS], ANY_CORE = {\n  name: \"any\",\n  type: null,\n  jsonType: \"any\"\n}, AnyType = {\n  get() {\n    return ANY_CORE;\n  },\n  extend(subTypeDef, extendMember) {\n    const parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(ANY_CORE, OVERRIDABLE_FIELDS$e), subTypeDef, {\n      type: ANY_CORE,\n      of: subTypeDef.of.map((fieldDef) => ({\n        name: fieldDef.name,\n        type: extendMember(lodash_omit_js__WEBPACK_IMPORTED_MODULE_0__(fieldDef, \"name\"))\n      }))\n    });\n    return subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          if (extensionDef.of)\n            throw new Error('Cannot override `of` property of subtypes of \"array\"');\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$e), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n};\nfunction lazyGetter(target, key, getter, config = {}) {\n  return Object.defineProperty(target, key, {\n    configurable: !0,\n    enumerable: config.enumerable !== !1,\n    get() {\n      const val = getter();\n      return Object.defineProperty(target, key, {\n        value: val,\n        writable: !!config.writable,\n        configurable: !1\n      }), val;\n    }\n  }), target;\n}\nconst OVERRIDABLE_FIELDS$d = [...DEFAULT_OVERRIDEABLE_FIELDS], ARRAY_CORE = {\n  name: \"array\",\n  type: null,\n  jsonType: \"array\",\n  of: []\n}, ArrayType = {\n  get() {\n    return ARRAY_CORE;\n  },\n  extend(subTypeDef, createMemberType) {\n    const parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(ARRAY_CORE, OVERRIDABLE_FIELDS$d), subTypeDef, {\n      type: ARRAY_CORE\n    });\n    return lazyGetter(parsed, \"of\", () => subTypeDef.of.map((ofTypeDef) => createMemberType(ofTypeDef))), subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          if (extensionDef.of)\n            throw new Error('Cannot override `of` property of subtypes of \"array\"');\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$d), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n};\nfunction warnIfPreviewOnOptions(type) {\n  type.options && type.options.preview && console.warn(`Heads up! The preview config is no longer defined on \"options\", but instead on the type/field itself.\nPlease move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of \"${type.name}\".\n`);\n}\nfunction warnIfPreviewHasFields(type) {\n  const preview = type.preview || (type.options || {}).preview;\n  preview && \"fields\" in preview && console.warn(`Heads up! \"preview.fields\" should be renamed to \"preview.select\". Please update the preview config for \"${type.name}\".\n`);\n}\nfunction isEmpty(object) {\n  for (const key in object)\n    if (object.hasOwnProperty(key))\n      return !1;\n  return !0;\n}\nfunction _stringify(value, options, depth) {\n  if (depth > options.maxDepth)\n    return \"...\";\n  if (Array.isArray(value)) {\n    if (value.length === 0)\n      return \"[empty]\";\n    const capLength = Math.max(value.length - options.maxBreadth), asString2 = value.slice(0, options.maxBreadth).map((item, index) => _stringify(item, options, depth + 1)).concat(capLength > 0 ? `\\u2026+${capLength}` : []).join(\", \");\n    return depth === 0 ? asString2 : `[${asString2}]`;\n  }\n  if (typeof value == \"object\" && value !== null) {\n    const keys = Object.keys(value).filter(\n      (key) => !options.ignoreKeys.includes(key) && typeof value[key] < \"u\"\n    );\n    if (isEmpty(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(value, keys)))\n      return \"{empty}\";\n    const asString2 = keys.slice(0, options.maxBreadth).map((key) => `${key}: ${_stringify(value[key], options, depth + 1)}`).join(\", \");\n    return depth === 0 ? asString2 : `{${asString2}}`;\n  }\n  const asString = String(value);\n  return asString === \"\" ? '\"\"' : asString;\n}\nfunction stringify(value, options = {}) {\n  const opts = {\n    maxDepth: \"maxDepth\" in options ? options.maxDepth : 2,\n    maxBreadth: \"maxBreadth\" in options ? options.maxBreadth : 2,\n    ignoreKeys: \"ignoreKeys\" in options ? options.ignoreKeys : []\n  };\n  return _stringify(value, opts, 0);\n}\nconst OPTIONS = {\n  maxEntries: 2,\n  maxDepth: 2,\n  maxBreadth: 2,\n  ignoreKeys: [\"_id\", \"_type\", \"_key\", \"_ref\"]\n};\nfunction createFallbackPrepare(fieldNames) {\n  return (value) => ({\n    title: stringify(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(value, fieldNames), OPTIONS)\n  });\n}\nfunction isBlockField(field) {\n  return field.type === \"array\" && field.of && field.of.some((member) => member.type === \"block\") || !1;\n}\nconst TITLE_CANDIDATES = [\"title\", \"name\", \"label\", \"heading\", \"header\", \"caption\"], DESCRIPTION_CANDIDATES = [\"description\", ...TITLE_CANDIDATES];\nfunction fieldHasReferenceTo(fieldDef, refType) {\n  return arrify__WEBPACK_IMPORTED_MODULE_2__(fieldDef.to || []).some((memberTypeDef) => memberTypeDef.type === refType);\n}\nfunction isImageAssetField(fieldDef) {\n  return fieldHasReferenceTo(fieldDef, \"sanity.imageAsset\");\n}\nfunction resolveImageAssetPath(typeDef) {\n  const fields = typeDef.fields || [], imageAssetField = fields.find(isImageAssetField);\n  if (imageAssetField)\n    return imageAssetField.name;\n  const fieldWithImageAsset = fields.find(\n    (fieldDef) => (fieldDef.fields || []).some(isImageAssetField)\n  );\n  return fieldWithImageAsset ? `${fieldWithImageAsset.name}.asset` : void 0;\n}\nfunction isFileAssetField(fieldDef) {\n  return fieldHasReferenceTo(fieldDef, \"sanity.fileAsset\");\n}\nfunction resolveFileAssetPath(typeDef) {\n  const fields = typeDef.fields || [], assetField = fields.find(isFileAssetField);\n  if (assetField)\n    return assetField.name;\n  const fieldWithFileAsset = fields.find(\n    (fieldDef) => (fieldDef.fields || []).some(isFileAssetField)\n  );\n  return fieldWithFileAsset ? `${fieldWithFileAsset.name}.asset` : void 0;\n}\nfunction guessPreviewFields(rawObjectTypeDef) {\n  const objectTypeDef = { fields: [], ...rawObjectTypeDef }, stringFieldNames = objectTypeDef.fields.filter((field) => field.type === \"string\").map((field) => field.name), blockFieldNames = objectTypeDef.fields.filter(isBlockField).map((field) => field.name);\n  let titleField = TITLE_CANDIDATES.find(\n    (candidate) => stringFieldNames.includes(candidate) || blockFieldNames.includes(candidate)\n  ), descField = DESCRIPTION_CANDIDATES.find(\n    (candidate) => candidate !== titleField && (stringFieldNames.includes(candidate) || blockFieldNames.includes(candidate))\n  );\n  titleField || (titleField = stringFieldNames[0] || blockFieldNames[0], descField = stringFieldNames[1] || blockFieldNames[1]);\n  const mediaField = objectTypeDef.fields.find((field) => field.type === \"image\"), imageAssetPath = resolveImageAssetPath(objectTypeDef);\n  if (!titleField) {\n    const fileAssetPath = resolveFileAssetPath(objectTypeDef);\n    fileAssetPath && (titleField = `${fileAssetPath}.originalFilename`), imageAssetPath && (titleField = `${imageAssetPath}.originalFilename`);\n  }\n  if (!titleField && !imageAssetPath) {\n    const fieldNames = objectTypeDef.fields.map((field) => field.name);\n    return {\n      select: fieldNames.reduce((acc, fieldName) => (acc[fieldName] = fieldName, acc), {}),\n      prepare: createFallbackPrepare(fieldNames)\n    };\n  }\n  return {\n    select: lodash_omitBy_js__WEBPACK_IMPORTED_MODULE_4__(\n      {\n        title: titleField,\n        description: descField,\n        media: mediaField ? mediaField.name : imageAssetPath\n      },\n      lodash_isUndefined_js__WEBPACK_IMPORTED_MODULE_3__\n    )\n  };\n}\nfunction parseSelection(selection) {\n  return selection.reduce((acc, field) => (acc[field] = field, acc), {});\n}\nfunction parsePreview(preview) {\n  if (!preview)\n    return preview;\n  const select = preview.select || preview.fields || {};\n  return Array.isArray(select) ? {\n    ...lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(preview, [\"prepare\", \"component\"]),\n    select: parseSelection(select)\n  } : {\n    ...lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(preview, [\"prepare\", \"component\"]),\n    select\n  };\n}\nfunction createPreviewGetter(objectTypeDef) {\n  return function() {\n    return warnIfPreviewOnOptions(objectTypeDef), warnIfPreviewHasFields(objectTypeDef), parsePreview(objectTypeDef.preview || (objectTypeDef.options || {}).preview) || guessPreviewFields(objectTypeDef);\n  };\n}\nconst DEFAULT_LINK_ANNOTATION = {\n  type: \"object\",\n  name: \"link\",\n  title: \"Link\",\n  i18nTitleKey: \"inputs.portable-text.annotation.link\",\n  options: {\n    modal: { type: \"popover\" }\n  },\n  fields: [\n    {\n      name: \"href\",\n      type: \"url\",\n      title: \"Link\",\n      description: \"A valid web, email, phone, or relative link.\",\n      validation: (Rule) => Rule.uri({\n        scheme: [\"http\", \"https\", \"tel\", \"mailto\"],\n        allowRelative: !0\n      })\n    }\n  ]\n}, DEFAULT_TEXT_FIELD = {\n  type: \"text\",\n  name: \"text\",\n  title: \"Text\"\n}, DEFAULT_MARKS_FIELD = {\n  name: \"marks\",\n  type: \"array\",\n  of: [{ type: \"string\" }],\n  title: \"Marks\"\n}, LIST_TYPES = {\n  bullet: {\n    title: \"Bulleted list\",\n    value: \"bullet\",\n    i18nTitleKey: \"inputs.portable-text.list-type.bullet\"\n  },\n  numbered: {\n    title: \"Numbered list\",\n    value: \"number\",\n    i18nTitleKey: \"inputs.portable-text.list-type.number\"\n  }\n}, DEFAULT_LIST_TYPES = [LIST_TYPES.bullet, LIST_TYPES.numbered], BLOCK_STYLES = {\n  normal: { title: \"Normal\", value: \"normal\", i18nTitleKey: \"inputs.portable-text.style.normal\" },\n  h1: { title: \"Heading 1\", value: \"h1\", i18nTitleKey: \"inputs.portable-text.style.h1\" },\n  h2: { title: \"Heading 2\", value: \"h2\", i18nTitleKey: \"inputs.portable-text.style.h2\" },\n  h3: { title: \"Heading 3\", value: \"h3\", i18nTitleKey: \"inputs.portable-text.style.h3\" },\n  h4: { title: \"Heading 4\", value: \"h4\", i18nTitleKey: \"inputs.portable-text.style.h4\" },\n  h5: { title: \"Heading 5\", value: \"h5\", i18nTitleKey: \"inputs.portable-text.style.h5\" },\n  h6: { title: \"Heading 6\", value: \"h6\", i18nTitleKey: \"inputs.portable-text.style.h6\" },\n  blockquote: {\n    title: \"Quote\",\n    value: \"blockquote\",\n    i18nTitleKey: \"inputs.portable-text.style.quote\"\n  }\n}, DEFAULT_BLOCK_STYLES = [\n  BLOCK_STYLES.normal,\n  BLOCK_STYLES.h1,\n  BLOCK_STYLES.h2,\n  BLOCK_STYLES.h3,\n  BLOCK_STYLES.h4,\n  BLOCK_STYLES.h5,\n  BLOCK_STYLES.h6,\n  BLOCK_STYLES.blockquote\n], DECORATOR_STRONG = {\n  title: \"Strong\",\n  value: \"strong\",\n  i18nTitleKey: \"inputs.portable-text.decorator.strong\"\n}, DECORATOR_EMPHASIS = {\n  title: \"Italic\",\n  value: \"em\",\n  i18nTitleKey: \"inputs.portable-text.decorator.emphasis\"\n}, DECORATOR_CODE = {\n  title: \"Code\",\n  value: \"code\",\n  i18nTitleKey: \"inputs.portable-text.decorator.code\"\n}, DECORATOR_UNDERLINE = {\n  title: \"Underline\",\n  value: \"underline\",\n  i18nTitleKey: \"inputs.portable-text.decorator.underline\"\n}, DECORATOR_STRIKE = {\n  title: \"Strike\",\n  value: \"strike-through\",\n  i18nTitleKey: \"inputs.portable-text.decorator.strike-through\"\n}, DECORATORS = {\n  strong: DECORATOR_STRONG,\n  em: DECORATOR_EMPHASIS,\n  code: DECORATOR_CODE,\n  underline: DECORATOR_UNDERLINE,\n  strikeThrough: DECORATOR_STRIKE\n}, DEFAULT_DECORATORS = [\n  DECORATORS.strong,\n  DECORATORS.em,\n  DECORATORS.code,\n  DECORATORS.underline,\n  DECORATORS.strikeThrough\n], INHERITED_FIELDS$1 = [\n  \"type\",\n  \"name\",\n  \"title\",\n  \"jsonType\",\n  \"description\",\n  \"options\",\n  \"fieldsets\",\n  \"icon\"\n], BLOCK_CORE = {\n  name: \"block\",\n  title: \"Block\",\n  type: null,\n  jsonType: \"object\"\n}, DEFAULT_OPTIONS$3 = {}, BlockType = {\n  get() {\n    return BLOCK_CORE;\n  },\n  extend(subTypeDef, extendMember) {\n    const options = { ...subTypeDef.options || DEFAULT_OPTIONS$3 }, { marks, styles, lists, of, ...rest } = subTypeDef, childrenField = createChildrenField(marks, of), styleField = createStyleField(styles), listItemField = createListItemField(lists), markDefsField = {\n      name: \"markDefs\",\n      title: \"Mark definitions\",\n      type: \"array\",\n      of: (marks == null ? void 0 : marks.annotations) || DEFAULT_ANNOTATIONS\n    }, fields = [childrenField, styleField, listItemField, markDefsField, {\n      name: \"level\",\n      title: \"Indentation\",\n      type: \"number\"\n    }].concat(\n      subTypeDef.fields || []\n    ), parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(BLOCK_CORE, INHERITED_FIELDS$1), rest, {\n      type: BLOCK_CORE,\n      options\n    });\n    return lazyGetter(parsed, \"fields\", () => fields.map((fieldDef) => {\n      const { name, ...type } = fieldDef;\n      return {\n        name,\n        type: extendMember(type)\n      };\n    })), lazyGetter(parsed, \"preview\", createPreviewGetter(subTypeDef)), subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          if (extensionDef.fields)\n            throw new Error('Cannot override `fields` of subtypes of \"block\"');\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, INHERITED_FIELDS$1), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n};\nfunction ensureNormalStyle(styles) {\n  return styles.some((style) => style.value === \"normal\") ? styles : [BLOCK_STYLES.normal, ...styles];\n}\nfunction createStyleField(styles) {\n  return {\n    name: \"style\",\n    title: \"Style\",\n    type: \"string\",\n    options: {\n      list: ensureNormalStyle(styles || DEFAULT_BLOCK_STYLES)\n    }\n  };\n}\nfunction createListItemField(lists) {\n  return {\n    name: \"listItem\",\n    title: \"List type\",\n    type: \"string\",\n    options: {\n      list: lists || DEFAULT_LIST_TYPES\n    }\n  };\n}\nconst DEFAULT_ANNOTATIONS = [DEFAULT_LINK_ANNOTATION];\nfunction createChildrenField(marks, of = []) {\n  return {\n    name: \"children\",\n    title: \"Content\",\n    type: \"array\",\n    of: [\n      {\n        type: \"span\",\n        fields: [DEFAULT_TEXT_FIELD, DEFAULT_MARKS_FIELD],\n        annotations: marks && marks.annotations ? marks.annotations : DEFAULT_ANNOTATIONS,\n        decorators: marks && marks.decorators ? marks.decorators : DEFAULT_DECORATORS\n      },\n      ...of.filter((memberType) => memberType.type !== \"span\")\n    ]\n  };\n}\nconst INHERITED_FIELDS = [\n  \"type\",\n  \"name\",\n  \"title\",\n  \"jsonType\",\n  \"description\",\n  \"options\",\n  \"fieldsets\",\n  \"icon\"\n], SPAN_CORE = {\n  name: \"span\",\n  title: \"Span\",\n  type: null,\n  jsonType: \"object\"\n}, MARKS_FIELD = {\n  name: \"marks\",\n  title: \"Marks\",\n  type: \"array\",\n  of: [{ type: \"string\" }]\n}, TEXT_FIELD = {\n  name: \"text\",\n  title: \"Text\",\n  type: \"string\"\n}, DEFAULT_OPTIONS$2 = {}, SpanType = {\n  get() {\n    return SPAN_CORE;\n  },\n  extend(subTypeDef, extendMember) {\n    const options = { ...subTypeDef.options || DEFAULT_OPTIONS$2 }, { annotations = [], marks = [] } = subTypeDef, fields = [MARKS_FIELD, TEXT_FIELD], parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(SPAN_CORE, INHERITED_FIELDS), subTypeDef, {\n      type: SPAN_CORE,\n      options\n    });\n    return lazyGetter(parsed, \"fields\", () => fields.map((fieldDef) => {\n      const { name, ...type } = fieldDef;\n      return {\n        name,\n        type: extendMember(type)\n      };\n    })), lazyGetter(parsed, \"annotations\", () => annotations.map(extendMember)), lazyGetter(parsed, \"marks\", () => marks.map(extendMember)), lazyGetter(parsed, \"preview\", createPreviewGetter(subTypeDef)), subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          if (extensionDef.fields)\n            throw new Error('Cannot override `fields` of subtypes of \"span\"');\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, INHERITED_FIELDS), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n};\nvar primitivePreview = {\n  prepare: (val) => ({ title: String(val) })\n};\nconst OVERRIDABLE_FIELDS$c = [...DEFAULT_OVERRIDEABLE_FIELDS], BOOLEAN_CORE = {\n  name: \"boolean\",\n  title: \"Boolean\",\n  type: null,\n  jsonType: \"boolean\"\n}, BooleanType = {\n  get() {\n    return BOOLEAN_CORE;\n  },\n  extend(subTypeDef) {\n    const parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(BOOLEAN_CORE, OVERRIDABLE_FIELDS$c), subTypeDef, {\n      type: BOOLEAN_CORE,\n      preview: primitivePreview\n    });\n    return subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$c), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n}, REF_FIELD$1 = {\n  name: \"_ref\",\n  title: \"Referenced document ID\",\n  type: \"string\"\n}, WEAK_FIELD$1 = {\n  name: \"_weak\",\n  title: \"Weak reference marker\",\n  type: \"boolean\"\n}, DATASET_FIELD = {\n  name: \"_dataset\",\n  title: \"Target dataset\",\n  type: \"string\"\n}, PROJECT_ID_FIELD = {\n  name: \"_projectId\",\n  title: \"Target project ID\",\n  type: \"string\",\n  hidden: !0\n}, REFERENCE_FIELDS$1 = [REF_FIELD$1, WEAK_FIELD$1, DATASET_FIELD, PROJECT_ID_FIELD], OVERRIDABLE_FIELDS$b = [...DEFAULT_OVERRIDEABLE_FIELDS], CROSS_DATASET_REFERENCE_CORE = {\n  name: \"crossDatasetReference\",\n  type: null,\n  jsonType: \"object\"\n};\nfunction humanize$1(arr, conjunction) {\n  const len = arr.length;\n  if (len === 1)\n    return arr[0];\n  const first = arr.slice(0, len - 1), last = arr[len - 1];\n  return `${first.join(\", \")} ${conjunction} ${last}`;\n}\nfunction buildTitle$1(type) {\n  return !type.to || type.to.length === 0 ? \"Cross dataset Reference\" : `Cross dataset reference to ${humanize$1(\n    arrify__WEBPACK_IMPORTED_MODULE_2__(type.to).map((toType) => toType.title || lodash_capitalize_js__WEBPACK_IMPORTED_MODULE_5__(toType.type)),\n    \"or\"\n  ).toLowerCase()}`;\n}\nconst CrossDatasetReferenceType = {\n  get() {\n    return CROSS_DATASET_REFERENCE_CORE;\n  },\n  extend(subTypeDef, createMemberType) {\n    if (!subTypeDef.to)\n      throw new Error(\n        `Missing \"to\" field in cross dataset reference definition. Check the type ${subTypeDef.name}`\n      );\n    const parsed = Object.assign(\n      lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(CROSS_DATASET_REFERENCE_CORE, OVERRIDABLE_FIELDS$b),\n      subTypeDef,\n      {\n        type: CROSS_DATASET_REFERENCE_CORE\n      }\n    );\n    return lazyGetter(parsed, \"fields\", () => REFERENCE_FIELDS$1.map((fieldDef) => {\n      const { name, ...type } = fieldDef;\n      return {\n        name,\n        type: createMemberType(type)\n      };\n    })), lazyGetter(parsed, \"to\", () => arrify__WEBPACK_IMPORTED_MODULE_2__(subTypeDef.to).map((toType) => ({\n      ...toType,\n      // eslint-disable-next-line camelcase\n      __experimental_search: (0,_chunks_es_resolve_mjs__WEBPACK_IMPORTED_MODULE_11__.resolveSearchConfigForBaseFieldPaths)(toType)\n    }))), lazyGetter(parsed, \"title\", () => subTypeDef.title || buildTitle$1(parsed)), subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          if (extensionDef.of)\n            throw new Error('Cannot override `of` of subtypes of \"reference\"');\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$b), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n}, OVERRIDABLE_FIELDS$a = [...DEFAULT_OVERRIDEABLE_FIELDS], DATE_CORE = {\n  name: \"date\",\n  title: \"Datetime\",\n  type: null,\n  jsonType: \"string\"\n}, DateType = {\n  get() {\n    return DATE_CORE;\n  },\n  extend(subTypeDef) {\n    const parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(DATE_CORE, OVERRIDABLE_FIELDS$a), subTypeDef, {\n      type: DATE_CORE,\n      preview: primitivePreview\n    });\n    return subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$a), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n}, OVERRIDABLE_FIELDS$9 = [...DEFAULT_OVERRIDEABLE_FIELDS], DATETIME_CORE = {\n  name: \"datetime\",\n  title: \"Datetime\",\n  type: null,\n  jsonType: \"string\"\n}, DateTimeType = {\n  get() {\n    return DATETIME_CORE;\n  },\n  extend(subTypeDef) {\n    const parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(DATETIME_CORE, OVERRIDABLE_FIELDS$9), subTypeDef, {\n      type: DATETIME_CORE,\n      preview: primitivePreview\n    });\n    return subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$9), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n}, CANDIDATES = [\"title\", \"name\", \"label\", \"heading\", \"header\", \"caption\", \"description\"], PRIMITIVES = [\"string\", \"boolean\", \"number\"], isPrimitive = (field) => PRIMITIVES.includes(field.type);\nfunction guessOrderingConfig(objectTypeDef) {\n  let candidates = CANDIDATES.filter(\n    (candidate) => objectTypeDef.fields.some((field) => isPrimitive(field) && field.name === candidate)\n  );\n  return candidates.length === 0 && (candidates = objectTypeDef.fields.filter(isPrimitive).map((field) => field.name)), candidates.map(\n    (name) => ({\n      name,\n      i18n: {\n        title: { key: `default-orderings.${name}`, ns: \"studio\" }\n      },\n      title: lodash_capitalize_js__WEBPACK_IMPORTED_MODULE_5__(lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(name)),\n      by: [{ field: name, direction: \"asc\" }]\n    })\n  );\n}\nfunction normalizeSearchConfigs(configs) {\n  if (!Array.isArray(configs))\n    throw new Error(\n      \"The search config of a document type must be an array of search config objects\"\n    );\n  return configs.map((conf) => {\n    if (conf === \"defaults\")\n      return conf;\n    if (!lodash_isPlainObject_js__WEBPACK_IMPORTED_MODULE_9__(conf))\n      throw new Error(\"Search config must be an object of {path: string, weight: number}\");\n    return {\n      weight: \"weight\" in conf ? conf.weight : 1,\n      path: lodash_toPath_js__WEBPACK_IMPORTED_MODULE_10__(conf.path),\n      mapWith: typeof conf.mapWith == \"string\" ? conf.mapWith : void 0\n    };\n  });\n}\nconst OVERRIDABLE_FIELDS$8 = [\n  ...DEFAULT_OVERRIDEABLE_FIELDS,\n  \"orderings\",\n  \"__experimental_search\",\n  \"blockEditor\",\n  \"icon\"\n], ObjectType = {\n  get() {\n    return {\n      name: \"object\",\n      title: \"Object\",\n      type: null,\n      jsonType: \"object\"\n    };\n  },\n  extend(rawSubTypeDef, createMemberType) {\n    const subTypeDef = { fields: [], ...rawSubTypeDef }, options = { ...subTypeDef.options || {} }, parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(this.get(), OVERRIDABLE_FIELDS$8), subTypeDef, {\n      type: this.get(),\n      title: subTypeDef.title || (subTypeDef.name ? lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(subTypeDef.name) : \"Object\"),\n      options,\n      orderings: subTypeDef.orderings || guessOrderingConfig(subTypeDef),\n      fields: subTypeDef.fields.map((fieldDef) => {\n        const { name, fieldset, group, ...rest } = fieldDef;\n        return lazyGetter({\n          name,\n          group,\n          fieldset\n        }, \"type\", () => createMemberType({\n          ...rest,\n          title: fieldDef.title || lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(name)\n        }));\n      })\n    });\n    return lazyGetter(parsed, \"fieldsets\", () => createFieldsets(subTypeDef, parsed.fields)), lazyGetter(parsed, \"groups\", () => createFieldsGroups(subTypeDef, parsed.fields)), lazyGetter(parsed, \"preview\", createPreviewGetter(subTypeDef)), lazyGetter(\n      parsed,\n      \"__experimental_search\",\n      () => {\n        const userProvidedSearchConfig = subTypeDef.__experimental_search ? normalizeSearchConfigs(subTypeDef.__experimental_search) : null;\n        return userProvidedSearchConfig ? userProvidedSearchConfig.map(\n          (entry) => entry === \"defaults\" ? normalizeSearchConfigs(subTypeDef) : entry\n        ) : (0,_chunks_es_resolve_mjs__WEBPACK_IMPORTED_MODULE_11__.resolveSearchConfig)(parsed);\n      },\n      {\n        enumerable: !1\n      }\n    ), subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          if (extensionDef.fields)\n            throw new Error('Cannot override `fields` of subtypes of \"object\"');\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$8), {\n            title: extensionDef.title || subTypeDef.title || (subTypeDef.name ? lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(subTypeDef.name) : \"Object\"),\n            type: parent\n          });\n          return lazyGetter(current, \"__experimental_search\", () => parent.__experimental_search), subtype(current);\n        }\n      };\n    }\n  }\n};\nfunction createFieldsets(typeDef, fields) {\n  const fieldsetsByName = {};\n  for (const fieldset of typeDef.fieldsets || []) {\n    if (fieldsetsByName[fieldset.name])\n      throw new Error(\n        `Duplicate fieldset name \"${fieldset.name}\" found for type '${typeDef.title ? typeDef.title : lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(typeDef.name)}'`\n      );\n    fieldsetsByName[fieldset.name] = { title: lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(fieldset.name), ...fieldset, fields: [] };\n  }\n  const fieldsets = /* @__PURE__ */ new Set();\n  for (const field of fields) {\n    if (!field.fieldset) {\n      fieldsets.add({ single: !0, field });\n      continue;\n    }\n    const fieldset = fieldsetsByName[field.fieldset];\n    if (!fieldset)\n      throw new Error(\n        `Fieldset '${field.fieldset}' is not defined in schema for type '${typeDef.name}'`\n      );\n    fieldset.fields.push(field), fieldsets.add(fieldset);\n  }\n  return Array.from(fieldsets);\n}\nfunction createFieldsGroups(typeDef, fields) {\n  const groupsByName = {};\n  let numDefaultGroups = 0;\n  for (const group of typeDef.groups || []) {\n    if (groupsByName[group.name])\n      throw new Error(\n        `Duplicate group name \"${group.name}\" found for type '${typeDef.title ? typeDef.title : lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(typeDef.name)}'`\n      );\n    if (groupsByName[group.name] = { title: lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(group.name), ...group, fields: [] }, group.default && ++numDefaultGroups > 1)\n      throw new Error(\n        `More than one field group defined as default for type '${typeDef.title ? typeDef.title : lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(typeDef.name)}' - only 1 is supported`\n      );\n  }\n  return fields.forEach((field) => {\n    const fieldGroupNames = lodash_castArray_js__WEBPACK_IMPORTED_MODULE_6__(field.group || []);\n    fieldGroupNames.length !== 0 && fieldGroupNames.forEach((fieldGroupName) => {\n      const currentGroup = groupsByName[fieldGroupName];\n      if (!currentGroup)\n        throw new Error(\n          `Field group '${fieldGroupName}' is not defined in schema for type '${typeDef.title ? typeDef.name : lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(typeDef.name)}'`\n        );\n      currentGroup.fields.push(field);\n    });\n  }), lodash_flatMap_js__WEBPACK_IMPORTED_MODULE_7__(groupsByName).filter((group) => group.fields.length > 0);\n}\nconst DOCUMENT_CORE = {\n  name: \"document\",\n  title: \"Document\",\n  type: null,\n  jsonType: \"object\"\n}, DocumentType = {\n  get() {\n    return DOCUMENT_CORE;\n  },\n  extend: ObjectType.extend\n}, OVERRIDABLE_FIELDS$7 = [...DEFAULT_OVERRIDEABLE_FIELDS], EMAIL_CORE = {\n  name: \"email\",\n  title: \"Email\",\n  type: null,\n  jsonType: \"string\"\n}, EmailType = {\n  get() {\n    return EMAIL_CORE;\n  },\n  extend(subTypeDef) {\n    const parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(EMAIL_CORE, OVERRIDABLE_FIELDS$7), subTypeDef, {\n      type: EMAIL_CORE,\n      preview: primitivePreview\n    });\n    return subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$7), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n}, ASSET_FIELD$1 = {\n  name: \"asset\",\n  type: \"reference\",\n  to: { type: \"sanity.fileAsset\" }\n}, OVERRIDABLE_FIELDS$6 = [...DEFAULT_OVERRIDEABLE_FIELDS], FILE_CORE = {\n  name: \"file\",\n  title: \"File\",\n  type: null,\n  jsonType: \"object\"\n}, DEFAULT_OPTIONS$1 = {\n  accept: \"\"\n}, FileType = {\n  get() {\n    return FILE_CORE;\n  },\n  extend(rawSubTypeDef, createMemberType) {\n    const options = { ...rawSubTypeDef.options || DEFAULT_OPTIONS$1 }, fields = [ASSET_FIELD$1, ...rawSubTypeDef.fields || []], subTypeDef = { ...rawSubTypeDef, fields }, parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(FILE_CORE, OVERRIDABLE_FIELDS$6), subTypeDef, {\n      type: FILE_CORE,\n      title: subTypeDef.title || (subTypeDef.name ? lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(subTypeDef.name) : FILE_CORE.title),\n      options,\n      fields: subTypeDef.fields.map((fieldDef) => {\n        const { name, fieldset, ...rest } = fieldDef, compiledField = {\n          name,\n          fieldset,\n          isCustomized: !!rawSubTypeDef.fields\n        };\n        return lazyGetter(compiledField, \"type\", () => createMemberType({\n          ...rest,\n          title: fieldDef.title || lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(name)\n        }));\n      })\n    });\n    return lazyGetter(parsed, \"fieldsets\", () => createFieldsets(subTypeDef, parsed.fields)), lazyGetter(parsed, \"preview\", createPreviewGetter(Object.assign({}, subTypeDef, { fields }))), subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          if (extensionDef.fields)\n            throw new Error('Cannot override `fields` of subtypes of \"file\"');\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$6), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n}, ASSET_FIELD = {\n  name: \"asset\",\n  type: \"reference\",\n  to: [{ type: \"sanity.imageAsset\" }]\n}, HOTSPOT_FIELD = {\n  name: \"hotspot\",\n  type: \"sanity.imageHotspot\"\n}, CROP_FIELD = {\n  name: \"crop\",\n  type: \"sanity.imageCrop\"\n}, OVERRIDABLE_FIELDS$5 = [...DEFAULT_OVERRIDEABLE_FIELDS], IMAGE_CORE = {\n  name: \"image\",\n  title: \"Image\",\n  type: null,\n  jsonType: \"object\"\n}, DEFAULT_OPTIONS = {}, ImageType = {\n  get() {\n    return IMAGE_CORE;\n  },\n  extend(rawSubTypeDef, createMemberType) {\n    const options = { ...rawSubTypeDef.options || DEFAULT_OPTIONS };\n    let hotspotFields = [HOTSPOT_FIELD, CROP_FIELD];\n    options.hotspot || (hotspotFields = hotspotFields.map((field) => ({ ...field, hidden: !0 })));\n    const fields = [ASSET_FIELD, ...hotspotFields, ...rawSubTypeDef.fields || []], subTypeDef = { ...rawSubTypeDef, fields }, parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(this.get(), OVERRIDABLE_FIELDS$5), subTypeDef, {\n      type: IMAGE_CORE,\n      title: subTypeDef.title || (subTypeDef.name ? lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(subTypeDef.name) : IMAGE_CORE.title),\n      options,\n      fields: subTypeDef.fields.map((fieldDef) => {\n        const { name, fieldset, ...rest } = fieldDef, compiledField = {\n          name,\n          fieldset,\n          isCustomized: !!rawSubTypeDef.fields\n        };\n        return lazyGetter(compiledField, \"type\", () => createMemberType({\n          ...rest,\n          title: fieldDef.title || lodash_startCase_js__WEBPACK_IMPORTED_MODULE_8__(name)\n        }));\n      })\n    });\n    return lazyGetter(parsed, \"fieldsets\", () => createFieldsets(subTypeDef, parsed.fields)), lazyGetter(parsed, \"preview\", createPreviewGetter(Object.assign({}, subTypeDef, { fields }))), subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          if (extensionDef.fields)\n            throw new Error('Cannot override `fields` of subtypes of \"image\"');\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$5), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n}, OVERRIDABLE_FIELDS$4 = [...DEFAULT_OVERRIDEABLE_FIELDS], NUMBER_CORE = {\n  name: \"number\",\n  title: \"Number\",\n  type: null,\n  jsonType: \"number\"\n}, NumberType = {\n  get() {\n    return NUMBER_CORE;\n  },\n  extend(subTypeDef) {\n    const parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(NUMBER_CORE, OVERRIDABLE_FIELDS$4), subTypeDef, {\n      type: NUMBER_CORE,\n      preview: primitivePreview\n    });\n    return subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$4), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n}, REF_FIELD = {\n  name: \"_ref\",\n  title: \"Referenced document ID\",\n  type: \"string\"\n}, WEAK_FIELD = {\n  name: \"_weak\",\n  title: \"Weak reference\",\n  type: \"boolean\"\n}, REFERENCE_FIELDS = [REF_FIELD, WEAK_FIELD], OVERRIDABLE_FIELDS$3 = [...DEFAULT_OVERRIDEABLE_FIELDS], REFERENCE_CORE = {\n  name: \"reference\",\n  title: \"Reference\",\n  type: null,\n  jsonType: \"object\"\n};\nfunction humanize(arr, conjunction) {\n  const len = arr.length;\n  if (len === 1)\n    return arr[0];\n  const first = arr.slice(0, len - 1), last = arr[len - 1];\n  return `${first.join(\", \")} ${conjunction} ${last}`;\n}\nfunction buildTitle(type) {\n  return !type.to || type.to.length === 0 ? \"Reference\" : `Reference to ${humanize(\n    arrify__WEBPACK_IMPORTED_MODULE_2__(type.to).map((toType) => toType.title),\n    \"or\"\n  ).toLowerCase()}`;\n}\nconst ReferenceType = {\n  get() {\n    return REFERENCE_CORE;\n  },\n  extend(subTypeDef, createMemberType) {\n    if (!subTypeDef.to)\n      throw new Error(\n        `Missing \"to\" field in reference definition. Check the type ${subTypeDef.name}`\n      );\n    const parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(REFERENCE_CORE, OVERRIDABLE_FIELDS$3), subTypeDef, {\n      type: REFERENCE_CORE\n    });\n    return lazyGetter(parsed, \"fields\", () => REFERENCE_FIELDS.map((fieldDef) => {\n      const { name, ...type } = fieldDef;\n      return {\n        name,\n        type: createMemberType(type)\n      };\n    })), lazyGetter(parsed, \"fieldsets\", () => createFieldsets(subTypeDef, parsed.fields)), lazyGetter(parsed, \"to\", () => arrify__WEBPACK_IMPORTED_MODULE_2__(subTypeDef.to).map((toType) => createMemberType(toType))), lazyGetter(parsed, \"title\", () => subTypeDef.title || buildTitle(parsed)), subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          if (extensionDef.of)\n            throw new Error('Cannot override `of` of subtypes of \"reference\"');\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$3), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n}, OVERRIDABLE_FIELDS$2 = [...DEFAULT_OVERRIDEABLE_FIELDS], STRING_CORE = {\n  name: \"string\",\n  title: \"String\",\n  type: null,\n  jsonType: \"string\"\n}, StringType = {\n  get() {\n    return STRING_CORE;\n  },\n  extend(subTypeDef) {\n    const parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(STRING_CORE, OVERRIDABLE_FIELDS$2), subTypeDef, {\n      type: STRING_CORE,\n      preview: primitivePreview\n    });\n    return subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$2), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n}, OVERRIDABLE_FIELDS$1 = [...DEFAULT_OVERRIDEABLE_FIELDS, \"rows\"], TEXT_CORE = {\n  name: \"text\",\n  title: \"Text\",\n  type: null,\n  jsonType: \"string\"\n}, TextType = {\n  get() {\n    return TEXT_CORE;\n  },\n  extend(subTypeDef) {\n    const parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(TEXT_CORE, OVERRIDABLE_FIELDS$1), subTypeDef, {\n      type: TEXT_CORE,\n      preview: primitivePreview\n    });\n    return subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS$1), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n}, OVERRIDABLE_FIELDS = [...DEFAULT_OVERRIDEABLE_FIELDS], URL_CORE = {\n  name: \"url\",\n  title: \"Url\",\n  type: null,\n  jsonType: \"string\"\n}, UrlType = {\n  get() {\n    return URL_CORE;\n  },\n  extend(subTypeDef) {\n    const parsed = Object.assign(lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(URL_CORE, OVERRIDABLE_FIELDS), subTypeDef, {\n      type: URL_CORE,\n      preview: primitivePreview\n    });\n    return subtype(parsed);\n    function subtype(parent) {\n      return {\n        get() {\n          return parent;\n        },\n        extend: (extensionDef) => {\n          const current = Object.assign({}, parent, lodash_pick_js__WEBPACK_IMPORTED_MODULE_1__(extensionDef, OVERRIDABLE_FIELDS), {\n            type: parent\n          });\n          return subtype(current);\n        }\n      };\n    }\n  }\n};\nvar types = /* @__PURE__ */ Object.freeze({\n  __proto__: null,\n  any: AnyType,\n  array: ArrayType,\n  block: BlockType,\n  boolean: BooleanType,\n  crossDatasetReference: CrossDatasetReferenceType,\n  date: DateType,\n  datetime: DateTimeType,\n  document: DocumentType,\n  email: EmailType,\n  file: FileType,\n  image: ImageType,\n  number: NumberType,\n  object: ObjectType,\n  reference: ReferenceType,\n  span: SpanType,\n  string: StringType,\n  text: TextType,\n  url: UrlType\n}), __defProp = Object.defineProperty, __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField = (obj, key, value) => __defNormalProp(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nfunction compileRegistry(schemaDef) {\n  const registry = Object.assign(/* @__PURE__ */ Object.create(null), types), defsByName = schemaDef.types.reduce((acc, def) => {\n    if (acc[def.name])\n      throw new Error(`Duplicate type name added to schema: ${def.name}`);\n    return acc[def.name] = def, acc;\n  }, {});\n  return schemaDef.types.forEach(add), registry;\n  function ensure(typeName) {\n    if (!registry[typeName]) {\n      if (!defsByName[typeName])\n        throw new Error(`Unknown type: ${typeName}`);\n      add(defsByName[typeName]);\n    }\n  }\n  function extendMember(memberDef) {\n    return ensure(memberDef.type), registry[memberDef.type].extend(memberDef, extendMember).get();\n  }\n  function add(typeDef) {\n    ensure(typeDef.type), !registry[typeDef.name] && (registry[typeDef.name] = registry[typeDef.type].extend(typeDef, extendMember));\n  }\n}\nlet Schema$1 = class Schema {\n  constructor(schemaDef) {\n    __publicField(this, \"_original\"), __publicField(this, \"_registry\"), this._original = schemaDef, this._registry = compileRegistry(schemaDef);\n  }\n  static compile(schemaDef) {\n    return new Schema(schemaDef);\n  }\n  get name() {\n    return this._original.name;\n  }\n  get(name) {\n    return this._registry[name] && this._registry[name].get();\n  }\n  has(name) {\n    return name in this._registry;\n  }\n  getTypeNames() {\n    return Object.keys(this._registry);\n  }\n};\nclass DeprecatedDefaultSchema extends Schema$1 {\n  static compile(schemaDef) {\n    return new DeprecatedDefaultSchema(schemaDef);\n  }\n  constructor(schemaDef) {\n    super(schemaDef);\n    const stack = new Error(\n      'The default export of `@sanity/schema` is deprecated. Use `import {Schema} from \"@sanity/schema\"` instead.'\n    ).stack.replace(/^Error/, \"Warning\");\n    console.warn(stack);\n  }\n}\nconst Schema2 = Schema$1;\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9zY2hlbWEvbGliL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFrQztBQUNBO0FBQ047QUFDb0I7QUFDVjtBQUNRO0FBQ3VEO0FBQ3pEO0FBQ0o7QUFDSTtBQUNRO0FBQ2Q7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGlDQUFpQywyQ0FBSTtBQUNyQztBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMkNBQUk7QUFDL0IsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxVQUFVLDJDQUFJO0FBQ3hEO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxpQ0FBaUMsMkNBQUk7QUFDckM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsVUFBVSwyQ0FBSTtBQUN4RDtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVLGVBQWUsSUFBSSxtQkFBbUIsbUNBQW1DLFVBQVU7QUFDMUc7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JELDRKQUE0SixVQUFVO0FBQ3RLO0FBQ0E7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azovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9zY2hlbWEvbGliL2luZGV4Lm1qcz9kNTE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBvbWl0IGZyb20gXCJsb2Rhc2gvb21pdC5qc1wiO1xuaW1wb3J0IHBpY2sgZnJvbSBcImxvZGFzaC9waWNrLmpzXCI7XG5pbXBvcnQgYXJyaWZ5IGZyb20gXCJhcnJpZnlcIjtcbmltcG9ydCBpc1VuZGVmaW5lZCBmcm9tIFwibG9kYXNoL2lzVW5kZWZpbmVkLmpzXCI7XG5pbXBvcnQgb21pdEJ5IGZyb20gXCJsb2Rhc2gvb21pdEJ5LmpzXCI7XG5pbXBvcnQgY2FwaXRhbGl6ZSBmcm9tIFwibG9kYXNoL2NhcGl0YWxpemUuanNcIjtcbmltcG9ydCB7IHJlc29sdmVTZWFyY2hDb25maWdGb3JCYXNlRmllbGRQYXRocywgcmVzb2x2ZVNlYXJjaENvbmZpZyB9IGZyb20gXCIuL19jaHVua3MtZXMvcmVzb2x2ZS5tanNcIjtcbmltcG9ydCBjYXN0QXJyYXkgZnJvbSBcImxvZGFzaC9jYXN0QXJyYXkuanNcIjtcbmltcG9ydCBmbGF0TWFwIGZyb20gXCJsb2Rhc2gvZmxhdE1hcC5qc1wiO1xuaW1wb3J0IHN0YXJ0Q2FzZSBmcm9tIFwibG9kYXNoL3N0YXJ0Q2FzZS5qc1wiO1xuaW1wb3J0IGlzUGxhaW5PYmplY3QgZnJvbSBcImxvZGFzaC9pc1BsYWluT2JqZWN0LmpzXCI7XG5pbXBvcnQgdG9QYXRoIGZyb20gXCJsb2Rhc2gvdG9QYXRoLmpzXCI7XG5jb25zdCBERUZBVUxUX09WRVJSSURFQUJMRV9GSUVMRFMgPSBbXG4gIFwianNvblR5cGVcIixcbiAgXCJ0eXBlXCIsXG4gIFwibmFtZVwiLFxuICBcInRpdGxlXCIsXG4gIFwiZGVzY3JpcHRpb25cIixcbiAgXCJvcHRpb25zXCIsXG4gIFwiZmllbGRzZXRzXCIsXG4gIFwidmFsaWRhdGlvblwiLFxuICBcInJlYWRPbmx5XCIsXG4gIFwiaGlkZGVuXCIsXG4gIFwiY29tcG9uZW50c1wiLFxuICBcImRpZmZDb21wb25lbnRcIixcbiAgXCJpbml0aWFsVmFsdWVcIixcbiAgXCJkZXByZWNhdGVkXCJcbl0sIE9WRVJSSURBQkxFX0ZJRUxEUyRlID0gWy4uLkRFRkFVTFRfT1ZFUlJJREVBQkxFX0ZJRUxEU10sIEFOWV9DT1JFID0ge1xuICBuYW1lOiBcImFueVwiLFxuICB0eXBlOiBudWxsLFxuICBqc29uVHlwZTogXCJhbnlcIlxufSwgQW55VHlwZSA9IHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiBBTllfQ09SRTtcbiAgfSxcbiAgZXh0ZW5kKHN1YlR5cGVEZWYsIGV4dGVuZE1lbWJlcikge1xuICAgIGNvbnN0IHBhcnNlZCA9IE9iamVjdC5hc3NpZ24ocGljayhBTllfQ09SRSwgT1ZFUlJJREFCTEVfRklFTERTJGUpLCBzdWJUeXBlRGVmLCB7XG4gICAgICB0eXBlOiBBTllfQ09SRSxcbiAgICAgIG9mOiBzdWJUeXBlRGVmLm9mLm1hcCgoZmllbGREZWYpID0+ICh7XG4gICAgICAgIG5hbWU6IGZpZWxkRGVmLm5hbWUsXG4gICAgICAgIHR5cGU6IGV4dGVuZE1lbWJlcihvbWl0KGZpZWxkRGVmLCBcIm5hbWVcIikpXG4gICAgICB9KSlcbiAgICB9KTtcbiAgICByZXR1cm4gc3VidHlwZShwYXJzZWQpO1xuICAgIGZ1bmN0aW9uIHN1YnR5cGUocGFyZW50KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZXh0ZW5kOiAoZXh0ZW5zaW9uRGVmKSA9PiB7XG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkRlZi5vZilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG92ZXJyaWRlIGBvZmAgcHJvcGVydHkgb2Ygc3VidHlwZXMgb2YgXCJhcnJheVwiJyk7XG4gICAgICAgICAgY29uc3QgY3VycmVudCA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmVudCwgcGljayhleHRlbnNpb25EZWYsIE9WRVJSSURBQkxFX0ZJRUxEUyRlKSwge1xuICAgICAgICAgICAgdHlwZTogcGFyZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHN1YnR5cGUoY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gbGF6eUdldHRlcih0YXJnZXQsIGtleSwgZ2V0dGVyLCBjb25maWcgPSB7fSkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICBlbnVtZXJhYmxlOiBjb25maWcuZW51bWVyYWJsZSAhPT0gITEsXG4gICAgZ2V0KCkge1xuICAgICAgY29uc3QgdmFsID0gZ2V0dGVyKCk7XG4gICAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWwsXG4gICAgICAgIHdyaXRhYmxlOiAhIWNvbmZpZy53cml0YWJsZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMVxuICAgICAgfSksIHZhbDtcbiAgICB9XG4gIH0pLCB0YXJnZXQ7XG59XG5jb25zdCBPVkVSUklEQUJMRV9GSUVMRFMkZCA9IFsuLi5ERUZBVUxUX09WRVJSSURFQUJMRV9GSUVMRFNdLCBBUlJBWV9DT1JFID0ge1xuICBuYW1lOiBcImFycmF5XCIsXG4gIHR5cGU6IG51bGwsXG4gIGpzb25UeXBlOiBcImFycmF5XCIsXG4gIG9mOiBbXVxufSwgQXJyYXlUeXBlID0ge1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIEFSUkFZX0NPUkU7XG4gIH0sXG4gIGV4dGVuZChzdWJUeXBlRGVmLCBjcmVhdGVNZW1iZXJUeXBlKSB7XG4gICAgY29uc3QgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihwaWNrKEFSUkFZX0NPUkUsIE9WRVJSSURBQkxFX0ZJRUxEUyRkKSwgc3ViVHlwZURlZiwge1xuICAgICAgdHlwZTogQVJSQVlfQ09SRVxuICAgIH0pO1xuICAgIHJldHVybiBsYXp5R2V0dGVyKHBhcnNlZCwgXCJvZlwiLCAoKSA9PiBzdWJUeXBlRGVmLm9mLm1hcCgob2ZUeXBlRGVmKSA9PiBjcmVhdGVNZW1iZXJUeXBlKG9mVHlwZURlZikpKSwgc3VidHlwZShwYXJzZWQpO1xuICAgIGZ1bmN0aW9uIHN1YnR5cGUocGFyZW50KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZXh0ZW5kOiAoZXh0ZW5zaW9uRGVmKSA9PiB7XG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkRlZi5vZilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG92ZXJyaWRlIGBvZmAgcHJvcGVydHkgb2Ygc3VidHlwZXMgb2YgXCJhcnJheVwiJyk7XG4gICAgICAgICAgY29uc3QgY3VycmVudCA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmVudCwgcGljayhleHRlbnNpb25EZWYsIE9WRVJSSURBQkxFX0ZJRUxEUyRkKSwge1xuICAgICAgICAgICAgdHlwZTogcGFyZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHN1YnR5cGUoY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gd2FybklmUHJldmlld09uT3B0aW9ucyh0eXBlKSB7XG4gIHR5cGUub3B0aW9ucyAmJiB0eXBlLm9wdGlvbnMucHJldmlldyAmJiBjb25zb2xlLndhcm4oYEhlYWRzIHVwISBUaGUgcHJldmlldyBjb25maWcgaXMgbm8gbG9uZ2VyIGRlZmluZWQgb24gXCJvcHRpb25zXCIsIGJ1dCBpbnN0ZWFkIG9uIHRoZSB0eXBlL2ZpZWxkIGl0c2VsZi5cblBsZWFzZSBtb3ZlIHtvcHRpb25zOiB7cHJldmlldzogLi4ufX0gdG8gey4uLiwgcHJldmlldzogLi4ufSBvbiB0aGUgdHlwZS9maWVsZCBkZWZpbml0aW9uIG9mIFwiJHt0eXBlLm5hbWV9XCIuXG5gKTtcbn1cbmZ1bmN0aW9uIHdhcm5JZlByZXZpZXdIYXNGaWVsZHModHlwZSkge1xuICBjb25zdCBwcmV2aWV3ID0gdHlwZS5wcmV2aWV3IHx8ICh0eXBlLm9wdGlvbnMgfHwge30pLnByZXZpZXc7XG4gIHByZXZpZXcgJiYgXCJmaWVsZHNcIiBpbiBwcmV2aWV3ICYmIGNvbnNvbGUud2FybihgSGVhZHMgdXAhIFwicHJldmlldy5maWVsZHNcIiBzaG91bGQgYmUgcmVuYW1lZCB0byBcInByZXZpZXcuc2VsZWN0XCIuIFBsZWFzZSB1cGRhdGUgdGhlIHByZXZpZXcgY29uZmlnIGZvciBcIiR7dHlwZS5uYW1lfVwiLlxuYCk7XG59XG5mdW5jdGlvbiBpc0VtcHR5KG9iamVjdCkge1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpXG4gICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgcmV0dXJuICExO1xuICByZXR1cm4gITA7XG59XG5mdW5jdGlvbiBfc3RyaW5naWZ5KHZhbHVlLCBvcHRpb25zLCBkZXB0aCkge1xuICBpZiAoZGVwdGggPiBvcHRpb25zLm1heERlcHRoKVxuICAgIHJldHVybiBcIi4uLlwiO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIFwiW2VtcHR5XVwiO1xuICAgIGNvbnN0IGNhcExlbmd0aCA9IE1hdGgubWF4KHZhbHVlLmxlbmd0aCAtIG9wdGlvbnMubWF4QnJlYWR0aCksIGFzU3RyaW5nMiA9IHZhbHVlLnNsaWNlKDAsIG9wdGlvbnMubWF4QnJlYWR0aCkubWFwKChpdGVtLCBpbmRleCkgPT4gX3N0cmluZ2lmeShpdGVtLCBvcHRpb25zLCBkZXB0aCArIDEpKS5jb25jYXQoY2FwTGVuZ3RoID4gMCA/IGBcXHUyMDI2KyR7Y2FwTGVuZ3RofWAgOiBbXSkuam9pbihcIiwgXCIpO1xuICAgIHJldHVybiBkZXB0aCA9PT0gMCA/IGFzU3RyaW5nMiA6IGBbJHthc1N0cmluZzJ9XWA7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKS5maWx0ZXIoXG4gICAgICAoa2V5KSA9PiAhb3B0aW9ucy5pZ25vcmVLZXlzLmluY2x1ZGVzKGtleSkgJiYgdHlwZW9mIHZhbHVlW2tleV0gPCBcInVcIlxuICAgICk7XG4gICAgaWYgKGlzRW1wdHkocGljayh2YWx1ZSwga2V5cykpKVxuICAgICAgcmV0dXJuIFwie2VtcHR5fVwiO1xuICAgIGNvbnN0IGFzU3RyaW5nMiA9IGtleXMuc2xpY2UoMCwgb3B0aW9ucy5tYXhCcmVhZHRoKS5tYXAoKGtleSkgPT4gYCR7a2V5fTogJHtfc3RyaW5naWZ5KHZhbHVlW2tleV0sIG9wdGlvbnMsIGRlcHRoICsgMSl9YCkuam9pbihcIiwgXCIpO1xuICAgIHJldHVybiBkZXB0aCA9PT0gMCA/IGFzU3RyaW5nMiA6IGB7JHthc1N0cmluZzJ9fWA7XG4gIH1cbiAgY29uc3QgYXNTdHJpbmcgPSBTdHJpbmcodmFsdWUpO1xuICByZXR1cm4gYXNTdHJpbmcgPT09IFwiXCIgPyAnXCJcIicgOiBhc1N0cmluZztcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeSh2YWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IG9wdHMgPSB7XG4gICAgbWF4RGVwdGg6IFwibWF4RGVwdGhcIiBpbiBvcHRpb25zID8gb3B0aW9ucy5tYXhEZXB0aCA6IDIsXG4gICAgbWF4QnJlYWR0aDogXCJtYXhCcmVhZHRoXCIgaW4gb3B0aW9ucyA/IG9wdGlvbnMubWF4QnJlYWR0aCA6IDIsXG4gICAgaWdub3JlS2V5czogXCJpZ25vcmVLZXlzXCIgaW4gb3B0aW9ucyA/IG9wdGlvbnMuaWdub3JlS2V5cyA6IFtdXG4gIH07XG4gIHJldHVybiBfc3RyaW5naWZ5KHZhbHVlLCBvcHRzLCAwKTtcbn1cbmNvbnN0IE9QVElPTlMgPSB7XG4gIG1heEVudHJpZXM6IDIsXG4gIG1heERlcHRoOiAyLFxuICBtYXhCcmVhZHRoOiAyLFxuICBpZ25vcmVLZXlzOiBbXCJfaWRcIiwgXCJfdHlwZVwiLCBcIl9rZXlcIiwgXCJfcmVmXCJdXG59O1xuZnVuY3Rpb24gY3JlYXRlRmFsbGJhY2tQcmVwYXJlKGZpZWxkTmFtZXMpIHtcbiAgcmV0dXJuICh2YWx1ZSkgPT4gKHtcbiAgICB0aXRsZTogc3RyaW5naWZ5KHBpY2sodmFsdWUsIGZpZWxkTmFtZXMpLCBPUFRJT05TKVxuICB9KTtcbn1cbmZ1bmN0aW9uIGlzQmxvY2tGaWVsZChmaWVsZCkge1xuICByZXR1cm4gZmllbGQudHlwZSA9PT0gXCJhcnJheVwiICYmIGZpZWxkLm9mICYmIGZpZWxkLm9mLnNvbWUoKG1lbWJlcikgPT4gbWVtYmVyLnR5cGUgPT09IFwiYmxvY2tcIikgfHwgITE7XG59XG5jb25zdCBUSVRMRV9DQU5ESURBVEVTID0gW1widGl0bGVcIiwgXCJuYW1lXCIsIFwibGFiZWxcIiwgXCJoZWFkaW5nXCIsIFwiaGVhZGVyXCIsIFwiY2FwdGlvblwiXSwgREVTQ1JJUFRJT05fQ0FORElEQVRFUyA9IFtcImRlc2NyaXB0aW9uXCIsIC4uLlRJVExFX0NBTkRJREFURVNdO1xuZnVuY3Rpb24gZmllbGRIYXNSZWZlcmVuY2VUbyhmaWVsZERlZiwgcmVmVHlwZSkge1xuICByZXR1cm4gYXJyaWZ5KGZpZWxkRGVmLnRvIHx8IFtdKS5zb21lKChtZW1iZXJUeXBlRGVmKSA9PiBtZW1iZXJUeXBlRGVmLnR5cGUgPT09IHJlZlR5cGUpO1xufVxuZnVuY3Rpb24gaXNJbWFnZUFzc2V0RmllbGQoZmllbGREZWYpIHtcbiAgcmV0dXJuIGZpZWxkSGFzUmVmZXJlbmNlVG8oZmllbGREZWYsIFwic2FuaXR5LmltYWdlQXNzZXRcIik7XG59XG5mdW5jdGlvbiByZXNvbHZlSW1hZ2VBc3NldFBhdGgodHlwZURlZikge1xuICBjb25zdCBmaWVsZHMgPSB0eXBlRGVmLmZpZWxkcyB8fCBbXSwgaW1hZ2VBc3NldEZpZWxkID0gZmllbGRzLmZpbmQoaXNJbWFnZUFzc2V0RmllbGQpO1xuICBpZiAoaW1hZ2VBc3NldEZpZWxkKVxuICAgIHJldHVybiBpbWFnZUFzc2V0RmllbGQubmFtZTtcbiAgY29uc3QgZmllbGRXaXRoSW1hZ2VBc3NldCA9IGZpZWxkcy5maW5kKFxuICAgIChmaWVsZERlZikgPT4gKGZpZWxkRGVmLmZpZWxkcyB8fCBbXSkuc29tZShpc0ltYWdlQXNzZXRGaWVsZClcbiAgKTtcbiAgcmV0dXJuIGZpZWxkV2l0aEltYWdlQXNzZXQgPyBgJHtmaWVsZFdpdGhJbWFnZUFzc2V0Lm5hbWV9LmFzc2V0YCA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGlzRmlsZUFzc2V0RmllbGQoZmllbGREZWYpIHtcbiAgcmV0dXJuIGZpZWxkSGFzUmVmZXJlbmNlVG8oZmllbGREZWYsIFwic2FuaXR5LmZpbGVBc3NldFwiKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVGaWxlQXNzZXRQYXRoKHR5cGVEZWYpIHtcbiAgY29uc3QgZmllbGRzID0gdHlwZURlZi5maWVsZHMgfHwgW10sIGFzc2V0RmllbGQgPSBmaWVsZHMuZmluZChpc0ZpbGVBc3NldEZpZWxkKTtcbiAgaWYgKGFzc2V0RmllbGQpXG4gICAgcmV0dXJuIGFzc2V0RmllbGQubmFtZTtcbiAgY29uc3QgZmllbGRXaXRoRmlsZUFzc2V0ID0gZmllbGRzLmZpbmQoXG4gICAgKGZpZWxkRGVmKSA9PiAoZmllbGREZWYuZmllbGRzIHx8IFtdKS5zb21lKGlzRmlsZUFzc2V0RmllbGQpXG4gICk7XG4gIHJldHVybiBmaWVsZFdpdGhGaWxlQXNzZXQgPyBgJHtmaWVsZFdpdGhGaWxlQXNzZXQubmFtZX0uYXNzZXRgIDogdm9pZCAwO1xufVxuZnVuY3Rpb24gZ3Vlc3NQcmV2aWV3RmllbGRzKHJhd09iamVjdFR5cGVEZWYpIHtcbiAgY29uc3Qgb2JqZWN0VHlwZURlZiA9IHsgZmllbGRzOiBbXSwgLi4ucmF3T2JqZWN0VHlwZURlZiB9LCBzdHJpbmdGaWVsZE5hbWVzID0gb2JqZWN0VHlwZURlZi5maWVsZHMuZmlsdGVyKChmaWVsZCkgPT4gZmllbGQudHlwZSA9PT0gXCJzdHJpbmdcIikubWFwKChmaWVsZCkgPT4gZmllbGQubmFtZSksIGJsb2NrRmllbGROYW1lcyA9IG9iamVjdFR5cGVEZWYuZmllbGRzLmZpbHRlcihpc0Jsb2NrRmllbGQpLm1hcCgoZmllbGQpID0+IGZpZWxkLm5hbWUpO1xuICBsZXQgdGl0bGVGaWVsZCA9IFRJVExFX0NBTkRJREFURVMuZmluZChcbiAgICAoY2FuZGlkYXRlKSA9PiBzdHJpbmdGaWVsZE5hbWVzLmluY2x1ZGVzKGNhbmRpZGF0ZSkgfHwgYmxvY2tGaWVsZE5hbWVzLmluY2x1ZGVzKGNhbmRpZGF0ZSlcbiAgKSwgZGVzY0ZpZWxkID0gREVTQ1JJUFRJT05fQ0FORElEQVRFUy5maW5kKFxuICAgIChjYW5kaWRhdGUpID0+IGNhbmRpZGF0ZSAhPT0gdGl0bGVGaWVsZCAmJiAoc3RyaW5nRmllbGROYW1lcy5pbmNsdWRlcyhjYW5kaWRhdGUpIHx8IGJsb2NrRmllbGROYW1lcy5pbmNsdWRlcyhjYW5kaWRhdGUpKVxuICApO1xuICB0aXRsZUZpZWxkIHx8ICh0aXRsZUZpZWxkID0gc3RyaW5nRmllbGROYW1lc1swXSB8fCBibG9ja0ZpZWxkTmFtZXNbMF0sIGRlc2NGaWVsZCA9IHN0cmluZ0ZpZWxkTmFtZXNbMV0gfHwgYmxvY2tGaWVsZE5hbWVzWzFdKTtcbiAgY29uc3QgbWVkaWFGaWVsZCA9IG9iamVjdFR5cGVEZWYuZmllbGRzLmZpbmQoKGZpZWxkKSA9PiBmaWVsZC50eXBlID09PSBcImltYWdlXCIpLCBpbWFnZUFzc2V0UGF0aCA9IHJlc29sdmVJbWFnZUFzc2V0UGF0aChvYmplY3RUeXBlRGVmKTtcbiAgaWYgKCF0aXRsZUZpZWxkKSB7XG4gICAgY29uc3QgZmlsZUFzc2V0UGF0aCA9IHJlc29sdmVGaWxlQXNzZXRQYXRoKG9iamVjdFR5cGVEZWYpO1xuICAgIGZpbGVBc3NldFBhdGggJiYgKHRpdGxlRmllbGQgPSBgJHtmaWxlQXNzZXRQYXRofS5vcmlnaW5hbEZpbGVuYW1lYCksIGltYWdlQXNzZXRQYXRoICYmICh0aXRsZUZpZWxkID0gYCR7aW1hZ2VBc3NldFBhdGh9Lm9yaWdpbmFsRmlsZW5hbWVgKTtcbiAgfVxuICBpZiAoIXRpdGxlRmllbGQgJiYgIWltYWdlQXNzZXRQYXRoKSB7XG4gICAgY29uc3QgZmllbGROYW1lcyA9IG9iamVjdFR5cGVEZWYuZmllbGRzLm1hcCgoZmllbGQpID0+IGZpZWxkLm5hbWUpO1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3Q6IGZpZWxkTmFtZXMucmVkdWNlKChhY2MsIGZpZWxkTmFtZSkgPT4gKGFjY1tmaWVsZE5hbWVdID0gZmllbGROYW1lLCBhY2MpLCB7fSksXG4gICAgICBwcmVwYXJlOiBjcmVhdGVGYWxsYmFja1ByZXBhcmUoZmllbGROYW1lcylcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgc2VsZWN0OiBvbWl0QnkoXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiB0aXRsZUZpZWxkLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGVzY0ZpZWxkLFxuICAgICAgICBtZWRpYTogbWVkaWFGaWVsZCA/IG1lZGlhRmllbGQubmFtZSA6IGltYWdlQXNzZXRQYXRoXG4gICAgICB9LFxuICAgICAgaXNVbmRlZmluZWRcbiAgICApXG4gIH07XG59XG5mdW5jdGlvbiBwYXJzZVNlbGVjdGlvbihzZWxlY3Rpb24pIHtcbiAgcmV0dXJuIHNlbGVjdGlvbi5yZWR1Y2UoKGFjYywgZmllbGQpID0+IChhY2NbZmllbGRdID0gZmllbGQsIGFjYyksIHt9KTtcbn1cbmZ1bmN0aW9uIHBhcnNlUHJldmlldyhwcmV2aWV3KSB7XG4gIGlmICghcHJldmlldylcbiAgICByZXR1cm4gcHJldmlldztcbiAgY29uc3Qgc2VsZWN0ID0gcHJldmlldy5zZWxlY3QgfHwgcHJldmlldy5maWVsZHMgfHwge307XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHNlbGVjdCkgPyB7XG4gICAgLi4ucGljayhwcmV2aWV3LCBbXCJwcmVwYXJlXCIsIFwiY29tcG9uZW50XCJdKSxcbiAgICBzZWxlY3Q6IHBhcnNlU2VsZWN0aW9uKHNlbGVjdClcbiAgfSA6IHtcbiAgICAuLi5waWNrKHByZXZpZXcsIFtcInByZXBhcmVcIiwgXCJjb21wb25lbnRcIl0pLFxuICAgIHNlbGVjdFxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlUHJldmlld0dldHRlcihvYmplY3RUeXBlRGVmKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gd2FybklmUHJldmlld09uT3B0aW9ucyhvYmplY3RUeXBlRGVmKSwgd2FybklmUHJldmlld0hhc0ZpZWxkcyhvYmplY3RUeXBlRGVmKSwgcGFyc2VQcmV2aWV3KG9iamVjdFR5cGVEZWYucHJldmlldyB8fCAob2JqZWN0VHlwZURlZi5vcHRpb25zIHx8IHt9KS5wcmV2aWV3KSB8fCBndWVzc1ByZXZpZXdGaWVsZHMob2JqZWN0VHlwZURlZik7XG4gIH07XG59XG5jb25zdCBERUZBVUxUX0xJTktfQU5OT1RBVElPTiA9IHtcbiAgdHlwZTogXCJvYmplY3RcIixcbiAgbmFtZTogXCJsaW5rXCIsXG4gIHRpdGxlOiBcIkxpbmtcIixcbiAgaTE4blRpdGxlS2V5OiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LmFubm90YXRpb24ubGlua1wiLFxuICBvcHRpb25zOiB7XG4gICAgbW9kYWw6IHsgdHlwZTogXCJwb3BvdmVyXCIgfVxuICB9LFxuICBmaWVsZHM6IFtcbiAgICB7XG4gICAgICBuYW1lOiBcImhyZWZcIixcbiAgICAgIHR5cGU6IFwidXJsXCIsXG4gICAgICB0aXRsZTogXCJMaW5rXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJBIHZhbGlkIHdlYiwgZW1haWwsIHBob25lLCBvciByZWxhdGl2ZSBsaW5rLlwiLFxuICAgICAgdmFsaWRhdGlvbjogKFJ1bGUpID0+IFJ1bGUudXJpKHtcbiAgICAgICAgc2NoZW1lOiBbXCJodHRwXCIsIFwiaHR0cHNcIiwgXCJ0ZWxcIiwgXCJtYWlsdG9cIl0sXG4gICAgICAgIGFsbG93UmVsYXRpdmU6ICEwXG4gICAgICB9KVxuICAgIH1cbiAgXVxufSwgREVGQVVMVF9URVhUX0ZJRUxEID0ge1xuICB0eXBlOiBcInRleHRcIixcbiAgbmFtZTogXCJ0ZXh0XCIsXG4gIHRpdGxlOiBcIlRleHRcIlxufSwgREVGQVVMVF9NQVJLU19GSUVMRCA9IHtcbiAgbmFtZTogXCJtYXJrc1wiLFxuICB0eXBlOiBcImFycmF5XCIsXG4gIG9mOiBbeyB0eXBlOiBcInN0cmluZ1wiIH1dLFxuICB0aXRsZTogXCJNYXJrc1wiXG59LCBMSVNUX1RZUEVTID0ge1xuICBidWxsZXQ6IHtcbiAgICB0aXRsZTogXCJCdWxsZXRlZCBsaXN0XCIsXG4gICAgdmFsdWU6IFwiYnVsbGV0XCIsXG4gICAgaTE4blRpdGxlS2V5OiBcImlucHV0cy5wb3J0YWJsZS10ZXh0Lmxpc3QtdHlwZS5idWxsZXRcIlxuICB9LFxuICBudW1iZXJlZDoge1xuICAgIHRpdGxlOiBcIk51bWJlcmVkIGxpc3RcIixcbiAgICB2YWx1ZTogXCJudW1iZXJcIixcbiAgICBpMThuVGl0bGVLZXk6IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQubGlzdC10eXBlLm51bWJlclwiXG4gIH1cbn0sIERFRkFVTFRfTElTVF9UWVBFUyA9IFtMSVNUX1RZUEVTLmJ1bGxldCwgTElTVF9UWVBFUy5udW1iZXJlZF0sIEJMT0NLX1NUWUxFUyA9IHtcbiAgbm9ybWFsOiB7IHRpdGxlOiBcIk5vcm1hbFwiLCB2YWx1ZTogXCJub3JtYWxcIiwgaTE4blRpdGxlS2V5OiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LnN0eWxlLm5vcm1hbFwiIH0sXG4gIGgxOiB7IHRpdGxlOiBcIkhlYWRpbmcgMVwiLCB2YWx1ZTogXCJoMVwiLCBpMThuVGl0bGVLZXk6IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuc3R5bGUuaDFcIiB9LFxuICBoMjogeyB0aXRsZTogXCJIZWFkaW5nIDJcIiwgdmFsdWU6IFwiaDJcIiwgaTE4blRpdGxlS2V5OiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LnN0eWxlLmgyXCIgfSxcbiAgaDM6IHsgdGl0bGU6IFwiSGVhZGluZyAzXCIsIHZhbHVlOiBcImgzXCIsIGkxOG5UaXRsZUtleTogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5zdHlsZS5oM1wiIH0sXG4gIGg0OiB7IHRpdGxlOiBcIkhlYWRpbmcgNFwiLCB2YWx1ZTogXCJoNFwiLCBpMThuVGl0bGVLZXk6IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuc3R5bGUuaDRcIiB9LFxuICBoNTogeyB0aXRsZTogXCJIZWFkaW5nIDVcIiwgdmFsdWU6IFwiaDVcIiwgaTE4blRpdGxlS2V5OiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LnN0eWxlLmg1XCIgfSxcbiAgaDY6IHsgdGl0bGU6IFwiSGVhZGluZyA2XCIsIHZhbHVlOiBcImg2XCIsIGkxOG5UaXRsZUtleTogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5zdHlsZS5oNlwiIH0sXG4gIGJsb2NrcXVvdGU6IHtcbiAgICB0aXRsZTogXCJRdW90ZVwiLFxuICAgIHZhbHVlOiBcImJsb2NrcXVvdGVcIixcbiAgICBpMThuVGl0bGVLZXk6IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuc3R5bGUucXVvdGVcIlxuICB9XG59LCBERUZBVUxUX0JMT0NLX1NUWUxFUyA9IFtcbiAgQkxPQ0tfU1RZTEVTLm5vcm1hbCxcbiAgQkxPQ0tfU1RZTEVTLmgxLFxuICBCTE9DS19TVFlMRVMuaDIsXG4gIEJMT0NLX1NUWUxFUy5oMyxcbiAgQkxPQ0tfU1RZTEVTLmg0LFxuICBCTE9DS19TVFlMRVMuaDUsXG4gIEJMT0NLX1NUWUxFUy5oNixcbiAgQkxPQ0tfU1RZTEVTLmJsb2NrcXVvdGVcbl0sIERFQ09SQVRPUl9TVFJPTkcgPSB7XG4gIHRpdGxlOiBcIlN0cm9uZ1wiLFxuICB2YWx1ZTogXCJzdHJvbmdcIixcbiAgaTE4blRpdGxlS2V5OiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LmRlY29yYXRvci5zdHJvbmdcIlxufSwgREVDT1JBVE9SX0VNUEhBU0lTID0ge1xuICB0aXRsZTogXCJJdGFsaWNcIixcbiAgdmFsdWU6IFwiZW1cIixcbiAgaTE4blRpdGxlS2V5OiBcImlucHV0cy5wb3J0YWJsZS10ZXh0LmRlY29yYXRvci5lbXBoYXNpc1wiXG59LCBERUNPUkFUT1JfQ09ERSA9IHtcbiAgdGl0bGU6IFwiQ29kZVwiLFxuICB2YWx1ZTogXCJjb2RlXCIsXG4gIGkxOG5UaXRsZUtleTogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5kZWNvcmF0b3IuY29kZVwiXG59LCBERUNPUkFUT1JfVU5ERVJMSU5FID0ge1xuICB0aXRsZTogXCJVbmRlcmxpbmVcIixcbiAgdmFsdWU6IFwidW5kZXJsaW5lXCIsXG4gIGkxOG5UaXRsZUtleTogXCJpbnB1dHMucG9ydGFibGUtdGV4dC5kZWNvcmF0b3IudW5kZXJsaW5lXCJcbn0sIERFQ09SQVRPUl9TVFJJS0UgPSB7XG4gIHRpdGxlOiBcIlN0cmlrZVwiLFxuICB2YWx1ZTogXCJzdHJpa2UtdGhyb3VnaFwiLFxuICBpMThuVGl0bGVLZXk6IFwiaW5wdXRzLnBvcnRhYmxlLXRleHQuZGVjb3JhdG9yLnN0cmlrZS10aHJvdWdoXCJcbn0sIERFQ09SQVRPUlMgPSB7XG4gIHN0cm9uZzogREVDT1JBVE9SX1NUUk9ORyxcbiAgZW06IERFQ09SQVRPUl9FTVBIQVNJUyxcbiAgY29kZTogREVDT1JBVE9SX0NPREUsXG4gIHVuZGVybGluZTogREVDT1JBVE9SX1VOREVSTElORSxcbiAgc3RyaWtlVGhyb3VnaDogREVDT1JBVE9SX1NUUklLRVxufSwgREVGQVVMVF9ERUNPUkFUT1JTID0gW1xuICBERUNPUkFUT1JTLnN0cm9uZyxcbiAgREVDT1JBVE9SUy5lbSxcbiAgREVDT1JBVE9SUy5jb2RlLFxuICBERUNPUkFUT1JTLnVuZGVybGluZSxcbiAgREVDT1JBVE9SUy5zdHJpa2VUaHJvdWdoXG5dLCBJTkhFUklURURfRklFTERTJDEgPSBbXG4gIFwidHlwZVwiLFxuICBcIm5hbWVcIixcbiAgXCJ0aXRsZVwiLFxuICBcImpzb25UeXBlXCIsXG4gIFwiZGVzY3JpcHRpb25cIixcbiAgXCJvcHRpb25zXCIsXG4gIFwiZmllbGRzZXRzXCIsXG4gIFwiaWNvblwiXG5dLCBCTE9DS19DT1JFID0ge1xuICBuYW1lOiBcImJsb2NrXCIsXG4gIHRpdGxlOiBcIkJsb2NrXCIsXG4gIHR5cGU6IG51bGwsXG4gIGpzb25UeXBlOiBcIm9iamVjdFwiXG59LCBERUZBVUxUX09QVElPTlMkMyA9IHt9LCBCbG9ja1R5cGUgPSB7XG4gIGdldCgpIHtcbiAgICByZXR1cm4gQkxPQ0tfQ09SRTtcbiAgfSxcbiAgZXh0ZW5kKHN1YlR5cGVEZWYsIGV4dGVuZE1lbWJlcikge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLnN1YlR5cGVEZWYub3B0aW9ucyB8fCBERUZBVUxUX09QVElPTlMkMyB9LCB7IG1hcmtzLCBzdHlsZXMsIGxpc3RzLCBvZiwgLi4ucmVzdCB9ID0gc3ViVHlwZURlZiwgY2hpbGRyZW5GaWVsZCA9IGNyZWF0ZUNoaWxkcmVuRmllbGQobWFya3MsIG9mKSwgc3R5bGVGaWVsZCA9IGNyZWF0ZVN0eWxlRmllbGQoc3R5bGVzKSwgbGlzdEl0ZW1GaWVsZCA9IGNyZWF0ZUxpc3RJdGVtRmllbGQobGlzdHMpLCBtYXJrRGVmc0ZpZWxkID0ge1xuICAgICAgbmFtZTogXCJtYXJrRGVmc1wiLFxuICAgICAgdGl0bGU6IFwiTWFyayBkZWZpbml0aW9uc1wiLFxuICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgb2Y6IChtYXJrcyA9PSBudWxsID8gdm9pZCAwIDogbWFya3MuYW5ub3RhdGlvbnMpIHx8IERFRkFVTFRfQU5OT1RBVElPTlNcbiAgICB9LCBmaWVsZHMgPSBbY2hpbGRyZW5GaWVsZCwgc3R5bGVGaWVsZCwgbGlzdEl0ZW1GaWVsZCwgbWFya0RlZnNGaWVsZCwge1xuICAgICAgbmFtZTogXCJsZXZlbFwiLFxuICAgICAgdGl0bGU6IFwiSW5kZW50YXRpb25cIixcbiAgICAgIHR5cGU6IFwibnVtYmVyXCJcbiAgICB9XS5jb25jYXQoXG4gICAgICBzdWJUeXBlRGVmLmZpZWxkcyB8fCBbXVxuICAgICksIHBhcnNlZCA9IE9iamVjdC5hc3NpZ24ocGljayhCTE9DS19DT1JFLCBJTkhFUklURURfRklFTERTJDEpLCByZXN0LCB7XG4gICAgICB0eXBlOiBCTE9DS19DT1JFLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICAgIHJldHVybiBsYXp5R2V0dGVyKHBhcnNlZCwgXCJmaWVsZHNcIiwgKCkgPT4gZmllbGRzLm1hcCgoZmllbGREZWYpID0+IHtcbiAgICAgIGNvbnN0IHsgbmFtZSwgLi4udHlwZSB9ID0gZmllbGREZWY7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lLFxuICAgICAgICB0eXBlOiBleHRlbmRNZW1iZXIodHlwZSlcbiAgICAgIH07XG4gICAgfSkpLCBsYXp5R2V0dGVyKHBhcnNlZCwgXCJwcmV2aWV3XCIsIGNyZWF0ZVByZXZpZXdHZXR0ZXIoc3ViVHlwZURlZikpLCBzdWJ0eXBlKHBhcnNlZCk7XG4gICAgZnVuY3Rpb24gc3VidHlwZShwYXJlbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBleHRlbmQ6IChleHRlbnNpb25EZWYpID0+IHtcbiAgICAgICAgICBpZiAoZXh0ZW5zaW9uRGVmLmZpZWxkcylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG92ZXJyaWRlIGBmaWVsZHNgIG9mIHN1YnR5cGVzIG9mIFwiYmxvY2tcIicpO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJlbnQsIHBpY2soZXh0ZW5zaW9uRGVmLCBJTkhFUklURURfRklFTERTJDEpLCB7XG4gICAgICAgICAgICB0eXBlOiBwYXJlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gc3VidHlwZShjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBlbnN1cmVOb3JtYWxTdHlsZShzdHlsZXMpIHtcbiAgcmV0dXJuIHN0eWxlcy5zb21lKChzdHlsZSkgPT4gc3R5bGUudmFsdWUgPT09IFwibm9ybWFsXCIpID8gc3R5bGVzIDogW0JMT0NLX1NUWUxFUy5ub3JtYWwsIC4uLnN0eWxlc107XG59XG5mdW5jdGlvbiBjcmVhdGVTdHlsZUZpZWxkKHN0eWxlcykge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwic3R5bGVcIixcbiAgICB0aXRsZTogXCJTdHlsZVwiLFxuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgb3B0aW9uczoge1xuICAgICAgbGlzdDogZW5zdXJlTm9ybWFsU3R5bGUoc3R5bGVzIHx8IERFRkFVTFRfQkxPQ0tfU1RZTEVTKVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxpc3RJdGVtRmllbGQobGlzdHMpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcImxpc3RJdGVtXCIsXG4gICAgdGl0bGU6IFwiTGlzdCB0eXBlXCIsXG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICBvcHRpb25zOiB7XG4gICAgICBsaXN0OiBsaXN0cyB8fCBERUZBVUxUX0xJU1RfVFlQRVNcbiAgICB9XG4gIH07XG59XG5jb25zdCBERUZBVUxUX0FOTk9UQVRJT05TID0gW0RFRkFVTFRfTElOS19BTk5PVEFUSU9OXTtcbmZ1bmN0aW9uIGNyZWF0ZUNoaWxkcmVuRmllbGQobWFya3MsIG9mID0gW10pIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcImNoaWxkcmVuXCIsXG4gICAgdGl0bGU6IFwiQ29udGVudFwiLFxuICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICBvZjogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcInNwYW5cIixcbiAgICAgICAgZmllbGRzOiBbREVGQVVMVF9URVhUX0ZJRUxELCBERUZBVUxUX01BUktTX0ZJRUxEXSxcbiAgICAgICAgYW5ub3RhdGlvbnM6IG1hcmtzICYmIG1hcmtzLmFubm90YXRpb25zID8gbWFya3MuYW5ub3RhdGlvbnMgOiBERUZBVUxUX0FOTk9UQVRJT05TLFxuICAgICAgICBkZWNvcmF0b3JzOiBtYXJrcyAmJiBtYXJrcy5kZWNvcmF0b3JzID8gbWFya3MuZGVjb3JhdG9ycyA6IERFRkFVTFRfREVDT1JBVE9SU1xuICAgICAgfSxcbiAgICAgIC4uLm9mLmZpbHRlcigobWVtYmVyVHlwZSkgPT4gbWVtYmVyVHlwZS50eXBlICE9PSBcInNwYW5cIilcbiAgICBdXG4gIH07XG59XG5jb25zdCBJTkhFUklURURfRklFTERTID0gW1xuICBcInR5cGVcIixcbiAgXCJuYW1lXCIsXG4gIFwidGl0bGVcIixcbiAgXCJqc29uVHlwZVwiLFxuICBcImRlc2NyaXB0aW9uXCIsXG4gIFwib3B0aW9uc1wiLFxuICBcImZpZWxkc2V0c1wiLFxuICBcImljb25cIlxuXSwgU1BBTl9DT1JFID0ge1xuICBuYW1lOiBcInNwYW5cIixcbiAgdGl0bGU6IFwiU3BhblwiLFxuICB0eXBlOiBudWxsLFxuICBqc29uVHlwZTogXCJvYmplY3RcIlxufSwgTUFSS1NfRklFTEQgPSB7XG4gIG5hbWU6IFwibWFya3NcIixcbiAgdGl0bGU6IFwiTWFya3NcIixcbiAgdHlwZTogXCJhcnJheVwiLFxuICBvZjogW3sgdHlwZTogXCJzdHJpbmdcIiB9XVxufSwgVEVYVF9GSUVMRCA9IHtcbiAgbmFtZTogXCJ0ZXh0XCIsXG4gIHRpdGxlOiBcIlRleHRcIixcbiAgdHlwZTogXCJzdHJpbmdcIlxufSwgREVGQVVMVF9PUFRJT05TJDIgPSB7fSwgU3BhblR5cGUgPSB7XG4gIGdldCgpIHtcbiAgICByZXR1cm4gU1BBTl9DT1JFO1xuICB9LFxuICBleHRlbmQoc3ViVHlwZURlZiwgZXh0ZW5kTWVtYmVyKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgLi4uc3ViVHlwZURlZi5vcHRpb25zIHx8IERFRkFVTFRfT1BUSU9OUyQyIH0sIHsgYW5ub3RhdGlvbnMgPSBbXSwgbWFya3MgPSBbXSB9ID0gc3ViVHlwZURlZiwgZmllbGRzID0gW01BUktTX0ZJRUxELCBURVhUX0ZJRUxEXSwgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihwaWNrKFNQQU5fQ09SRSwgSU5IRVJJVEVEX0ZJRUxEUyksIHN1YlR5cGVEZWYsIHtcbiAgICAgIHR5cGU6IFNQQU5fQ09SRSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgICByZXR1cm4gbGF6eUdldHRlcihwYXJzZWQsIFwiZmllbGRzXCIsICgpID0+IGZpZWxkcy5tYXAoKGZpZWxkRGVmKSA9PiB7XG4gICAgICBjb25zdCB7IG5hbWUsIC4uLnR5cGUgfSA9IGZpZWxkRGVmO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdHlwZTogZXh0ZW5kTWVtYmVyKHR5cGUpXG4gICAgICB9O1xuICAgIH0pKSwgbGF6eUdldHRlcihwYXJzZWQsIFwiYW5ub3RhdGlvbnNcIiwgKCkgPT4gYW5ub3RhdGlvbnMubWFwKGV4dGVuZE1lbWJlcikpLCBsYXp5R2V0dGVyKHBhcnNlZCwgXCJtYXJrc1wiLCAoKSA9PiBtYXJrcy5tYXAoZXh0ZW5kTWVtYmVyKSksIGxhenlHZXR0ZXIocGFyc2VkLCBcInByZXZpZXdcIiwgY3JlYXRlUHJldmlld0dldHRlcihzdWJUeXBlRGVmKSksIHN1YnR5cGUocGFyc2VkKTtcbiAgICBmdW5jdGlvbiBzdWJ0eXBlKHBhcmVudCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGV4dGVuZDogKGV4dGVuc2lvbkRlZikgPT4ge1xuICAgICAgICAgIGlmIChleHRlbnNpb25EZWYuZmllbGRzKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgb3ZlcnJpZGUgYGZpZWxkc2Agb2Ygc3VidHlwZXMgb2YgXCJzcGFuXCInKTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50LCBwaWNrKGV4dGVuc2lvbkRlZiwgSU5IRVJJVEVEX0ZJRUxEUyksIHtcbiAgICAgICAgICAgIHR5cGU6IHBhcmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBzdWJ0eXBlKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxufTtcbnZhciBwcmltaXRpdmVQcmV2aWV3ID0ge1xuICBwcmVwYXJlOiAodmFsKSA9PiAoeyB0aXRsZTogU3RyaW5nKHZhbCkgfSlcbn07XG5jb25zdCBPVkVSUklEQUJMRV9GSUVMRFMkYyA9IFsuLi5ERUZBVUxUX09WRVJSSURFQUJMRV9GSUVMRFNdLCBCT09MRUFOX0NPUkUgPSB7XG4gIG5hbWU6IFwiYm9vbGVhblwiLFxuICB0aXRsZTogXCJCb29sZWFuXCIsXG4gIHR5cGU6IG51bGwsXG4gIGpzb25UeXBlOiBcImJvb2xlYW5cIlxufSwgQm9vbGVhblR5cGUgPSB7XG4gIGdldCgpIHtcbiAgICByZXR1cm4gQk9PTEVBTl9DT1JFO1xuICB9LFxuICBleHRlbmQoc3ViVHlwZURlZikge1xuICAgIGNvbnN0IHBhcnNlZCA9IE9iamVjdC5hc3NpZ24ocGljayhCT09MRUFOX0NPUkUsIE9WRVJSSURBQkxFX0ZJRUxEUyRjKSwgc3ViVHlwZURlZiwge1xuICAgICAgdHlwZTogQk9PTEVBTl9DT1JFLFxuICAgICAgcHJldmlldzogcHJpbWl0aXZlUHJldmlld1xuICAgIH0pO1xuICAgIHJldHVybiBzdWJ0eXBlKHBhcnNlZCk7XG4gICAgZnVuY3Rpb24gc3VidHlwZShwYXJlbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBleHRlbmQ6IChleHRlbnNpb25EZWYpID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50LCBwaWNrKGV4dGVuc2lvbkRlZiwgT1ZFUlJJREFCTEVfRklFTERTJGMpLCB7XG4gICAgICAgICAgICB0eXBlOiBwYXJlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gc3VidHlwZShjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0sIFJFRl9GSUVMRCQxID0ge1xuICBuYW1lOiBcIl9yZWZcIixcbiAgdGl0bGU6IFwiUmVmZXJlbmNlZCBkb2N1bWVudCBJRFwiLFxuICB0eXBlOiBcInN0cmluZ1wiXG59LCBXRUFLX0ZJRUxEJDEgPSB7XG4gIG5hbWU6IFwiX3dlYWtcIixcbiAgdGl0bGU6IFwiV2VhayByZWZlcmVuY2UgbWFya2VyXCIsXG4gIHR5cGU6IFwiYm9vbGVhblwiXG59LCBEQVRBU0VUX0ZJRUxEID0ge1xuICBuYW1lOiBcIl9kYXRhc2V0XCIsXG4gIHRpdGxlOiBcIlRhcmdldCBkYXRhc2V0XCIsXG4gIHR5cGU6IFwic3RyaW5nXCJcbn0sIFBST0pFQ1RfSURfRklFTEQgPSB7XG4gIG5hbWU6IFwiX3Byb2plY3RJZFwiLFxuICB0aXRsZTogXCJUYXJnZXQgcHJvamVjdCBJRFwiLFxuICB0eXBlOiBcInN0cmluZ1wiLFxuICBoaWRkZW46ICEwXG59LCBSRUZFUkVOQ0VfRklFTERTJDEgPSBbUkVGX0ZJRUxEJDEsIFdFQUtfRklFTEQkMSwgREFUQVNFVF9GSUVMRCwgUFJPSkVDVF9JRF9GSUVMRF0sIE9WRVJSSURBQkxFX0ZJRUxEUyRiID0gWy4uLkRFRkFVTFRfT1ZFUlJJREVBQkxFX0ZJRUxEU10sIENST1NTX0RBVEFTRVRfUkVGRVJFTkNFX0NPUkUgPSB7XG4gIG5hbWU6IFwiY3Jvc3NEYXRhc2V0UmVmZXJlbmNlXCIsXG4gIHR5cGU6IG51bGwsXG4gIGpzb25UeXBlOiBcIm9iamVjdFwiXG59O1xuZnVuY3Rpb24gaHVtYW5pemUkMShhcnIsIGNvbmp1bmN0aW9uKSB7XG4gIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gIGlmIChsZW4gPT09IDEpXG4gICAgcmV0dXJuIGFyclswXTtcbiAgY29uc3QgZmlyc3QgPSBhcnIuc2xpY2UoMCwgbGVuIC0gMSksIGxhc3QgPSBhcnJbbGVuIC0gMV07XG4gIHJldHVybiBgJHtmaXJzdC5qb2luKFwiLCBcIil9ICR7Y29uanVuY3Rpb259ICR7bGFzdH1gO1xufVxuZnVuY3Rpb24gYnVpbGRUaXRsZSQxKHR5cGUpIHtcbiAgcmV0dXJuICF0eXBlLnRvIHx8IHR5cGUudG8ubGVuZ3RoID09PSAwID8gXCJDcm9zcyBkYXRhc2V0IFJlZmVyZW5jZVwiIDogYENyb3NzIGRhdGFzZXQgcmVmZXJlbmNlIHRvICR7aHVtYW5pemUkMShcbiAgICBhcnJpZnkodHlwZS50bykubWFwKCh0b1R5cGUpID0+IHRvVHlwZS50aXRsZSB8fCBjYXBpdGFsaXplKHRvVHlwZS50eXBlKSksXG4gICAgXCJvclwiXG4gICkudG9Mb3dlckNhc2UoKX1gO1xufVxuY29uc3QgQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVHlwZSA9IHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiBDUk9TU19EQVRBU0VUX1JFRkVSRU5DRV9DT1JFO1xuICB9LFxuICBleHRlbmQoc3ViVHlwZURlZiwgY3JlYXRlTWVtYmVyVHlwZSkge1xuICAgIGlmICghc3ViVHlwZURlZi50bylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE1pc3NpbmcgXCJ0b1wiIGZpZWxkIGluIGNyb3NzIGRhdGFzZXQgcmVmZXJlbmNlIGRlZmluaXRpb24uIENoZWNrIHRoZSB0eXBlICR7c3ViVHlwZURlZi5uYW1lfWBcbiAgICAgICk7XG4gICAgY29uc3QgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHBpY2soQ1JPU1NfREFUQVNFVF9SRUZFUkVOQ0VfQ09SRSwgT1ZFUlJJREFCTEVfRklFTERTJGIpLFxuICAgICAgc3ViVHlwZURlZixcbiAgICAgIHtcbiAgICAgICAgdHlwZTogQ1JPU1NfREFUQVNFVF9SRUZFUkVOQ0VfQ09SRVxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIGxhenlHZXR0ZXIocGFyc2VkLCBcImZpZWxkc1wiLCAoKSA9PiBSRUZFUkVOQ0VfRklFTERTJDEubWFwKChmaWVsZERlZikgPT4ge1xuICAgICAgY29uc3QgeyBuYW1lLCAuLi50eXBlIH0gPSBmaWVsZERlZjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHR5cGU6IGNyZWF0ZU1lbWJlclR5cGUodHlwZSlcbiAgICAgIH07XG4gICAgfSkpLCBsYXp5R2V0dGVyKHBhcnNlZCwgXCJ0b1wiLCAoKSA9PiBhcnJpZnkoc3ViVHlwZURlZi50bykubWFwKCh0b1R5cGUpID0+ICh7XG4gICAgICAuLi50b1R5cGUsXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgICBfX2V4cGVyaW1lbnRhbF9zZWFyY2g6IHJlc29sdmVTZWFyY2hDb25maWdGb3JCYXNlRmllbGRQYXRocyh0b1R5cGUpXG4gICAgfSkpKSwgbGF6eUdldHRlcihwYXJzZWQsIFwidGl0bGVcIiwgKCkgPT4gc3ViVHlwZURlZi50aXRsZSB8fCBidWlsZFRpdGxlJDEocGFyc2VkKSksIHN1YnR5cGUocGFyc2VkKTtcbiAgICBmdW5jdGlvbiBzdWJ0eXBlKHBhcmVudCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGV4dGVuZDogKGV4dGVuc2lvbkRlZikgPT4ge1xuICAgICAgICAgIGlmIChleHRlbnNpb25EZWYub2YpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBvdmVycmlkZSBgb2ZgIG9mIHN1YnR5cGVzIG9mIFwicmVmZXJlbmNlXCInKTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50LCBwaWNrKGV4dGVuc2lvbkRlZiwgT1ZFUlJJREFCTEVfRklFTERTJGIpLCB7XG4gICAgICAgICAgICB0eXBlOiBwYXJlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gc3VidHlwZShjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0sIE9WRVJSSURBQkxFX0ZJRUxEUyRhID0gWy4uLkRFRkFVTFRfT1ZFUlJJREVBQkxFX0ZJRUxEU10sIERBVEVfQ09SRSA9IHtcbiAgbmFtZTogXCJkYXRlXCIsXG4gIHRpdGxlOiBcIkRhdGV0aW1lXCIsXG4gIHR5cGU6IG51bGwsXG4gIGpzb25UeXBlOiBcInN0cmluZ1wiXG59LCBEYXRlVHlwZSA9IHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiBEQVRFX0NPUkU7XG4gIH0sXG4gIGV4dGVuZChzdWJUeXBlRGVmKSB7XG4gICAgY29uc3QgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihwaWNrKERBVEVfQ09SRSwgT1ZFUlJJREFCTEVfRklFTERTJGEpLCBzdWJUeXBlRGVmLCB7XG4gICAgICB0eXBlOiBEQVRFX0NPUkUsXG4gICAgICBwcmV2aWV3OiBwcmltaXRpdmVQcmV2aWV3XG4gICAgfSk7XG4gICAgcmV0dXJuIHN1YnR5cGUocGFyc2VkKTtcbiAgICBmdW5jdGlvbiBzdWJ0eXBlKHBhcmVudCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGV4dGVuZDogKGV4dGVuc2lvbkRlZikgPT4ge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJlbnQsIHBpY2soZXh0ZW5zaW9uRGVmLCBPVkVSUklEQUJMRV9GSUVMRFMkYSksIHtcbiAgICAgICAgICAgIHR5cGU6IHBhcmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBzdWJ0eXBlKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxufSwgT1ZFUlJJREFCTEVfRklFTERTJDkgPSBbLi4uREVGQVVMVF9PVkVSUklERUFCTEVfRklFTERTXSwgREFURVRJTUVfQ09SRSA9IHtcbiAgbmFtZTogXCJkYXRldGltZVwiLFxuICB0aXRsZTogXCJEYXRldGltZVwiLFxuICB0eXBlOiBudWxsLFxuICBqc29uVHlwZTogXCJzdHJpbmdcIlxufSwgRGF0ZVRpbWVUeXBlID0ge1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIERBVEVUSU1FX0NPUkU7XG4gIH0sXG4gIGV4dGVuZChzdWJUeXBlRGVmKSB7XG4gICAgY29uc3QgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihwaWNrKERBVEVUSU1FX0NPUkUsIE9WRVJSSURBQkxFX0ZJRUxEUyQ5KSwgc3ViVHlwZURlZiwge1xuICAgICAgdHlwZTogREFURVRJTUVfQ09SRSxcbiAgICAgIHByZXZpZXc6IHByaW1pdGl2ZVByZXZpZXdcbiAgICB9KTtcbiAgICByZXR1cm4gc3VidHlwZShwYXJzZWQpO1xuICAgIGZ1bmN0aW9uIHN1YnR5cGUocGFyZW50KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZXh0ZW5kOiAoZXh0ZW5zaW9uRGVmKSA9PiB7XG4gICAgICAgICAgY29uc3QgY3VycmVudCA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmVudCwgcGljayhleHRlbnNpb25EZWYsIE9WRVJSSURBQkxFX0ZJRUxEUyQ5KSwge1xuICAgICAgICAgICAgdHlwZTogcGFyZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHN1YnR5cGUoY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG59LCBDQU5ESURBVEVTID0gW1widGl0bGVcIiwgXCJuYW1lXCIsIFwibGFiZWxcIiwgXCJoZWFkaW5nXCIsIFwiaGVhZGVyXCIsIFwiY2FwdGlvblwiLCBcImRlc2NyaXB0aW9uXCJdLCBQUklNSVRJVkVTID0gW1wic3RyaW5nXCIsIFwiYm9vbGVhblwiLCBcIm51bWJlclwiXSwgaXNQcmltaXRpdmUgPSAoZmllbGQpID0+IFBSSU1JVElWRVMuaW5jbHVkZXMoZmllbGQudHlwZSk7XG5mdW5jdGlvbiBndWVzc09yZGVyaW5nQ29uZmlnKG9iamVjdFR5cGVEZWYpIHtcbiAgbGV0IGNhbmRpZGF0ZXMgPSBDQU5ESURBVEVTLmZpbHRlcihcbiAgICAoY2FuZGlkYXRlKSA9PiBvYmplY3RUeXBlRGVmLmZpZWxkcy5zb21lKChmaWVsZCkgPT4gaXNQcmltaXRpdmUoZmllbGQpICYmIGZpZWxkLm5hbWUgPT09IGNhbmRpZGF0ZSlcbiAgKTtcbiAgcmV0dXJuIGNhbmRpZGF0ZXMubGVuZ3RoID09PSAwICYmIChjYW5kaWRhdGVzID0gb2JqZWN0VHlwZURlZi5maWVsZHMuZmlsdGVyKGlzUHJpbWl0aXZlKS5tYXAoKGZpZWxkKSA9PiBmaWVsZC5uYW1lKSksIGNhbmRpZGF0ZXMubWFwKFxuICAgIChuYW1lKSA9PiAoe1xuICAgICAgbmFtZSxcbiAgICAgIGkxOG46IHtcbiAgICAgICAgdGl0bGU6IHsga2V5OiBgZGVmYXVsdC1vcmRlcmluZ3MuJHtuYW1lfWAsIG5zOiBcInN0dWRpb1wiIH1cbiAgICAgIH0sXG4gICAgICB0aXRsZTogY2FwaXRhbGl6ZShzdGFydENhc2UobmFtZSkpLFxuICAgICAgYnk6IFt7IGZpZWxkOiBuYW1lLCBkaXJlY3Rpb246IFwiYXNjXCIgfV1cbiAgICB9KVxuICApO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU2VhcmNoQ29uZmlncyhjb25maWdzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShjb25maWdzKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRoZSBzZWFyY2ggY29uZmlnIG9mIGEgZG9jdW1lbnQgdHlwZSBtdXN0IGJlIGFuIGFycmF5IG9mIHNlYXJjaCBjb25maWcgb2JqZWN0c1wiXG4gICAgKTtcbiAgcmV0dXJuIGNvbmZpZ3MubWFwKChjb25mKSA9PiB7XG4gICAgaWYgKGNvbmYgPT09IFwiZGVmYXVsdHNcIilcbiAgICAgIHJldHVybiBjb25mO1xuICAgIGlmICghaXNQbGFpbk9iamVjdChjb25mKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlYXJjaCBjb25maWcgbXVzdCBiZSBhbiBvYmplY3Qgb2Yge3BhdGg6IHN0cmluZywgd2VpZ2h0OiBudW1iZXJ9XCIpO1xuICAgIHJldHVybiB7XG4gICAgICB3ZWlnaHQ6IFwid2VpZ2h0XCIgaW4gY29uZiA/IGNvbmYud2VpZ2h0IDogMSxcbiAgICAgIHBhdGg6IHRvUGF0aChjb25mLnBhdGgpLFxuICAgICAgbWFwV2l0aDogdHlwZW9mIGNvbmYubWFwV2l0aCA9PSBcInN0cmluZ1wiID8gY29uZi5tYXBXaXRoIDogdm9pZCAwXG4gICAgfTtcbiAgfSk7XG59XG5jb25zdCBPVkVSUklEQUJMRV9GSUVMRFMkOCA9IFtcbiAgLi4uREVGQVVMVF9PVkVSUklERUFCTEVfRklFTERTLFxuICBcIm9yZGVyaW5nc1wiLFxuICBcIl9fZXhwZXJpbWVudGFsX3NlYXJjaFwiLFxuICBcImJsb2NrRWRpdG9yXCIsXG4gIFwiaWNvblwiXG5dLCBPYmplY3RUeXBlID0ge1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IFwib2JqZWN0XCIsXG4gICAgICB0aXRsZTogXCJPYmplY3RcIixcbiAgICAgIHR5cGU6IG51bGwsXG4gICAgICBqc29uVHlwZTogXCJvYmplY3RcIlxuICAgIH07XG4gIH0sXG4gIGV4dGVuZChyYXdTdWJUeXBlRGVmLCBjcmVhdGVNZW1iZXJUeXBlKSB7XG4gICAgY29uc3Qgc3ViVHlwZURlZiA9IHsgZmllbGRzOiBbXSwgLi4ucmF3U3ViVHlwZURlZiB9LCBvcHRpb25zID0geyAuLi5zdWJUeXBlRGVmLm9wdGlvbnMgfHwge30gfSwgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihwaWNrKHRoaXMuZ2V0KCksIE9WRVJSSURBQkxFX0ZJRUxEUyQ4KSwgc3ViVHlwZURlZiwge1xuICAgICAgdHlwZTogdGhpcy5nZXQoKSxcbiAgICAgIHRpdGxlOiBzdWJUeXBlRGVmLnRpdGxlIHx8IChzdWJUeXBlRGVmLm5hbWUgPyBzdGFydENhc2Uoc3ViVHlwZURlZi5uYW1lKSA6IFwiT2JqZWN0XCIpLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIG9yZGVyaW5nczogc3ViVHlwZURlZi5vcmRlcmluZ3MgfHwgZ3Vlc3NPcmRlcmluZ0NvbmZpZyhzdWJUeXBlRGVmKSxcbiAgICAgIGZpZWxkczogc3ViVHlwZURlZi5maWVsZHMubWFwKChmaWVsZERlZikgPT4ge1xuICAgICAgICBjb25zdCB7IG5hbWUsIGZpZWxkc2V0LCBncm91cCwgLi4ucmVzdCB9ID0gZmllbGREZWY7XG4gICAgICAgIHJldHVybiBsYXp5R2V0dGVyKHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGdyb3VwLFxuICAgICAgICAgIGZpZWxkc2V0XG4gICAgICAgIH0sIFwidHlwZVwiLCAoKSA9PiBjcmVhdGVNZW1iZXJUeXBlKHtcbiAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgIHRpdGxlOiBmaWVsZERlZi50aXRsZSB8fCBzdGFydENhc2UobmFtZSlcbiAgICAgICAgfSkpO1xuICAgICAgfSlcbiAgICB9KTtcbiAgICByZXR1cm4gbGF6eUdldHRlcihwYXJzZWQsIFwiZmllbGRzZXRzXCIsICgpID0+IGNyZWF0ZUZpZWxkc2V0cyhzdWJUeXBlRGVmLCBwYXJzZWQuZmllbGRzKSksIGxhenlHZXR0ZXIocGFyc2VkLCBcImdyb3Vwc1wiLCAoKSA9PiBjcmVhdGVGaWVsZHNHcm91cHMoc3ViVHlwZURlZiwgcGFyc2VkLmZpZWxkcykpLCBsYXp5R2V0dGVyKHBhcnNlZCwgXCJwcmV2aWV3XCIsIGNyZWF0ZVByZXZpZXdHZXR0ZXIoc3ViVHlwZURlZikpLCBsYXp5R2V0dGVyKFxuICAgICAgcGFyc2VkLFxuICAgICAgXCJfX2V4cGVyaW1lbnRhbF9zZWFyY2hcIixcbiAgICAgICgpID0+IHtcbiAgICAgICAgY29uc3QgdXNlclByb3ZpZGVkU2VhcmNoQ29uZmlnID0gc3ViVHlwZURlZi5fX2V4cGVyaW1lbnRhbF9zZWFyY2ggPyBub3JtYWxpemVTZWFyY2hDb25maWdzKHN1YlR5cGVEZWYuX19leHBlcmltZW50YWxfc2VhcmNoKSA6IG51bGw7XG4gICAgICAgIHJldHVybiB1c2VyUHJvdmlkZWRTZWFyY2hDb25maWcgPyB1c2VyUHJvdmlkZWRTZWFyY2hDb25maWcubWFwKFxuICAgICAgICAgIChlbnRyeSkgPT4gZW50cnkgPT09IFwiZGVmYXVsdHNcIiA/IG5vcm1hbGl6ZVNlYXJjaENvbmZpZ3Moc3ViVHlwZURlZikgOiBlbnRyeVxuICAgICAgICApIDogcmVzb2x2ZVNlYXJjaENvbmZpZyhwYXJzZWQpO1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZW51bWVyYWJsZTogITFcbiAgICAgIH1cbiAgICApLCBzdWJ0eXBlKHBhcnNlZCk7XG4gICAgZnVuY3Rpb24gc3VidHlwZShwYXJlbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBleHRlbmQ6IChleHRlbnNpb25EZWYpID0+IHtcbiAgICAgICAgICBpZiAoZXh0ZW5zaW9uRGVmLmZpZWxkcylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG92ZXJyaWRlIGBmaWVsZHNgIG9mIHN1YnR5cGVzIG9mIFwib2JqZWN0XCInKTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50LCBwaWNrKGV4dGVuc2lvbkRlZiwgT1ZFUlJJREFCTEVfRklFTERTJDgpLCB7XG4gICAgICAgICAgICB0aXRsZTogZXh0ZW5zaW9uRGVmLnRpdGxlIHx8IHN1YlR5cGVEZWYudGl0bGUgfHwgKHN1YlR5cGVEZWYubmFtZSA/IHN0YXJ0Q2FzZShzdWJUeXBlRGVmLm5hbWUpIDogXCJPYmplY3RcIiksXG4gICAgICAgICAgICB0eXBlOiBwYXJlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbGF6eUdldHRlcihjdXJyZW50LCBcIl9fZXhwZXJpbWVudGFsX3NlYXJjaFwiLCAoKSA9PiBwYXJlbnQuX19leHBlcmltZW50YWxfc2VhcmNoKSwgc3VidHlwZShjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVGaWVsZHNldHModHlwZURlZiwgZmllbGRzKSB7XG4gIGNvbnN0IGZpZWxkc2V0c0J5TmFtZSA9IHt9O1xuICBmb3IgKGNvbnN0IGZpZWxkc2V0IG9mIHR5cGVEZWYuZmllbGRzZXRzIHx8IFtdKSB7XG4gICAgaWYgKGZpZWxkc2V0c0J5TmFtZVtmaWVsZHNldC5uYW1lXSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYER1cGxpY2F0ZSBmaWVsZHNldCBuYW1lIFwiJHtmaWVsZHNldC5uYW1lfVwiIGZvdW5kIGZvciB0eXBlICcke3R5cGVEZWYudGl0bGUgPyB0eXBlRGVmLnRpdGxlIDogc3RhcnRDYXNlKHR5cGVEZWYubmFtZSl9J2BcbiAgICAgICk7XG4gICAgZmllbGRzZXRzQnlOYW1lW2ZpZWxkc2V0Lm5hbWVdID0geyB0aXRsZTogc3RhcnRDYXNlKGZpZWxkc2V0Lm5hbWUpLCAuLi5maWVsZHNldCwgZmllbGRzOiBbXSB9O1xuICB9XG4gIGNvbnN0IGZpZWxkc2V0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgaWYgKCFmaWVsZC5maWVsZHNldCkge1xuICAgICAgZmllbGRzZXRzLmFkZCh7IHNpbmdsZTogITAsIGZpZWxkIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGZpZWxkc2V0ID0gZmllbGRzZXRzQnlOYW1lW2ZpZWxkLmZpZWxkc2V0XTtcbiAgICBpZiAoIWZpZWxkc2V0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRmllbGRzZXQgJyR7ZmllbGQuZmllbGRzZXR9JyBpcyBub3QgZGVmaW5lZCBpbiBzY2hlbWEgZm9yIHR5cGUgJyR7dHlwZURlZi5uYW1lfSdgXG4gICAgICApO1xuICAgIGZpZWxkc2V0LmZpZWxkcy5wdXNoKGZpZWxkKSwgZmllbGRzZXRzLmFkZChmaWVsZHNldCk7XG4gIH1cbiAgcmV0dXJuIEFycmF5LmZyb20oZmllbGRzZXRzKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUZpZWxkc0dyb3Vwcyh0eXBlRGVmLCBmaWVsZHMpIHtcbiAgY29uc3QgZ3JvdXBzQnlOYW1lID0ge307XG4gIGxldCBudW1EZWZhdWx0R3JvdXBzID0gMDtcbiAgZm9yIChjb25zdCBncm91cCBvZiB0eXBlRGVmLmdyb3VwcyB8fCBbXSkge1xuICAgIGlmIChncm91cHNCeU5hbWVbZ3JvdXAubmFtZV0pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBEdXBsaWNhdGUgZ3JvdXAgbmFtZSBcIiR7Z3JvdXAubmFtZX1cIiBmb3VuZCBmb3IgdHlwZSAnJHt0eXBlRGVmLnRpdGxlID8gdHlwZURlZi50aXRsZSA6IHN0YXJ0Q2FzZSh0eXBlRGVmLm5hbWUpfSdgXG4gICAgICApO1xuICAgIGlmIChncm91cHNCeU5hbWVbZ3JvdXAubmFtZV0gPSB7IHRpdGxlOiBzdGFydENhc2UoZ3JvdXAubmFtZSksIC4uLmdyb3VwLCBmaWVsZHM6IFtdIH0sIGdyb3VwLmRlZmF1bHQgJiYgKytudW1EZWZhdWx0R3JvdXBzID4gMSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE1vcmUgdGhhbiBvbmUgZmllbGQgZ3JvdXAgZGVmaW5lZCBhcyBkZWZhdWx0IGZvciB0eXBlICcke3R5cGVEZWYudGl0bGUgPyB0eXBlRGVmLnRpdGxlIDogc3RhcnRDYXNlKHR5cGVEZWYubmFtZSl9JyAtIG9ubHkgMSBpcyBzdXBwb3J0ZWRgXG4gICAgICApO1xuICB9XG4gIHJldHVybiBmaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICBjb25zdCBmaWVsZEdyb3VwTmFtZXMgPSBjYXN0QXJyYXkoZmllbGQuZ3JvdXAgfHwgW10pO1xuICAgIGZpZWxkR3JvdXBOYW1lcy5sZW5ndGggIT09IDAgJiYgZmllbGRHcm91cE5hbWVzLmZvckVhY2goKGZpZWxkR3JvdXBOYW1lKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50R3JvdXAgPSBncm91cHNCeU5hbWVbZmllbGRHcm91cE5hbWVdO1xuICAgICAgaWYgKCFjdXJyZW50R3JvdXApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgRmllbGQgZ3JvdXAgJyR7ZmllbGRHcm91cE5hbWV9JyBpcyBub3QgZGVmaW5lZCBpbiBzY2hlbWEgZm9yIHR5cGUgJyR7dHlwZURlZi50aXRsZSA/IHR5cGVEZWYubmFtZSA6IHN0YXJ0Q2FzZSh0eXBlRGVmLm5hbWUpfSdgXG4gICAgICAgICk7XG4gICAgICBjdXJyZW50R3JvdXAuZmllbGRzLnB1c2goZmllbGQpO1xuICAgIH0pO1xuICB9KSwgZmxhdE1hcChncm91cHNCeU5hbWUpLmZpbHRlcigoZ3JvdXApID0+IGdyb3VwLmZpZWxkcy5sZW5ndGggPiAwKTtcbn1cbmNvbnN0IERPQ1VNRU5UX0NPUkUgPSB7XG4gIG5hbWU6IFwiZG9jdW1lbnRcIixcbiAgdGl0bGU6IFwiRG9jdW1lbnRcIixcbiAgdHlwZTogbnVsbCxcbiAganNvblR5cGU6IFwib2JqZWN0XCJcbn0sIERvY3VtZW50VHlwZSA9IHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiBET0NVTUVOVF9DT1JFO1xuICB9LFxuICBleHRlbmQ6IE9iamVjdFR5cGUuZXh0ZW5kXG59LCBPVkVSUklEQUJMRV9GSUVMRFMkNyA9IFsuLi5ERUZBVUxUX09WRVJSSURFQUJMRV9GSUVMRFNdLCBFTUFJTF9DT1JFID0ge1xuICBuYW1lOiBcImVtYWlsXCIsXG4gIHRpdGxlOiBcIkVtYWlsXCIsXG4gIHR5cGU6IG51bGwsXG4gIGpzb25UeXBlOiBcInN0cmluZ1wiXG59LCBFbWFpbFR5cGUgPSB7XG4gIGdldCgpIHtcbiAgICByZXR1cm4gRU1BSUxfQ09SRTtcbiAgfSxcbiAgZXh0ZW5kKHN1YlR5cGVEZWYpIHtcbiAgICBjb25zdCBwYXJzZWQgPSBPYmplY3QuYXNzaWduKHBpY2soRU1BSUxfQ09SRSwgT1ZFUlJJREFCTEVfRklFTERTJDcpLCBzdWJUeXBlRGVmLCB7XG4gICAgICB0eXBlOiBFTUFJTF9DT1JFLFxuICAgICAgcHJldmlldzogcHJpbWl0aXZlUHJldmlld1xuICAgIH0pO1xuICAgIHJldHVybiBzdWJ0eXBlKHBhcnNlZCk7XG4gICAgZnVuY3Rpb24gc3VidHlwZShwYXJlbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBleHRlbmQ6IChleHRlbnNpb25EZWYpID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50LCBwaWNrKGV4dGVuc2lvbkRlZiwgT1ZFUlJJREFCTEVfRklFTERTJDcpLCB7XG4gICAgICAgICAgICB0eXBlOiBwYXJlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gc3VidHlwZShjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0sIEFTU0VUX0ZJRUxEJDEgPSB7XG4gIG5hbWU6IFwiYXNzZXRcIixcbiAgdHlwZTogXCJyZWZlcmVuY2VcIixcbiAgdG86IHsgdHlwZTogXCJzYW5pdHkuZmlsZUFzc2V0XCIgfVxufSwgT1ZFUlJJREFCTEVfRklFTERTJDYgPSBbLi4uREVGQVVMVF9PVkVSUklERUFCTEVfRklFTERTXSwgRklMRV9DT1JFID0ge1xuICBuYW1lOiBcImZpbGVcIixcbiAgdGl0bGU6IFwiRmlsZVwiLFxuICB0eXBlOiBudWxsLFxuICBqc29uVHlwZTogXCJvYmplY3RcIlxufSwgREVGQVVMVF9PUFRJT05TJDEgPSB7XG4gIGFjY2VwdDogXCJcIlxufSwgRmlsZVR5cGUgPSB7XG4gIGdldCgpIHtcbiAgICByZXR1cm4gRklMRV9DT1JFO1xuICB9LFxuICBleHRlbmQocmF3U3ViVHlwZURlZiwgY3JlYXRlTWVtYmVyVHlwZSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLnJhd1N1YlR5cGVEZWYub3B0aW9ucyB8fCBERUZBVUxUX09QVElPTlMkMSB9LCBmaWVsZHMgPSBbQVNTRVRfRklFTEQkMSwgLi4ucmF3U3ViVHlwZURlZi5maWVsZHMgfHwgW11dLCBzdWJUeXBlRGVmID0geyAuLi5yYXdTdWJUeXBlRGVmLCBmaWVsZHMgfSwgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihwaWNrKEZJTEVfQ09SRSwgT1ZFUlJJREFCTEVfRklFTERTJDYpLCBzdWJUeXBlRGVmLCB7XG4gICAgICB0eXBlOiBGSUxFX0NPUkUsXG4gICAgICB0aXRsZTogc3ViVHlwZURlZi50aXRsZSB8fCAoc3ViVHlwZURlZi5uYW1lID8gc3RhcnRDYXNlKHN1YlR5cGVEZWYubmFtZSkgOiBGSUxFX0NPUkUudGl0bGUpLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGZpZWxkczogc3ViVHlwZURlZi5maWVsZHMubWFwKChmaWVsZERlZikgPT4ge1xuICAgICAgICBjb25zdCB7IG5hbWUsIGZpZWxkc2V0LCAuLi5yZXN0IH0gPSBmaWVsZERlZiwgY29tcGlsZWRGaWVsZCA9IHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGZpZWxkc2V0LFxuICAgICAgICAgIGlzQ3VzdG9taXplZDogISFyYXdTdWJUeXBlRGVmLmZpZWxkc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbGF6eUdldHRlcihjb21waWxlZEZpZWxkLCBcInR5cGVcIiwgKCkgPT4gY3JlYXRlTWVtYmVyVHlwZSh7XG4gICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICB0aXRsZTogZmllbGREZWYudGl0bGUgfHwgc3RhcnRDYXNlKG5hbWUpXG4gICAgICAgIH0pKTtcbiAgICAgIH0pXG4gICAgfSk7XG4gICAgcmV0dXJuIGxhenlHZXR0ZXIocGFyc2VkLCBcImZpZWxkc2V0c1wiLCAoKSA9PiBjcmVhdGVGaWVsZHNldHMoc3ViVHlwZURlZiwgcGFyc2VkLmZpZWxkcykpLCBsYXp5R2V0dGVyKHBhcnNlZCwgXCJwcmV2aWV3XCIsIGNyZWF0ZVByZXZpZXdHZXR0ZXIoT2JqZWN0LmFzc2lnbih7fSwgc3ViVHlwZURlZiwgeyBmaWVsZHMgfSkpKSwgc3VidHlwZShwYXJzZWQpO1xuICAgIGZ1bmN0aW9uIHN1YnR5cGUocGFyZW50KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZXh0ZW5kOiAoZXh0ZW5zaW9uRGVmKSA9PiB7XG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkRlZi5maWVsZHMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBvdmVycmlkZSBgZmllbGRzYCBvZiBzdWJ0eXBlcyBvZiBcImZpbGVcIicpO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJlbnQsIHBpY2soZXh0ZW5zaW9uRGVmLCBPVkVSUklEQUJMRV9GSUVMRFMkNiksIHtcbiAgICAgICAgICAgIHR5cGU6IHBhcmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBzdWJ0eXBlKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxufSwgQVNTRVRfRklFTEQgPSB7XG4gIG5hbWU6IFwiYXNzZXRcIixcbiAgdHlwZTogXCJyZWZlcmVuY2VcIixcbiAgdG86IFt7IHR5cGU6IFwic2FuaXR5LmltYWdlQXNzZXRcIiB9XVxufSwgSE9UU1BPVF9GSUVMRCA9IHtcbiAgbmFtZTogXCJob3RzcG90XCIsXG4gIHR5cGU6IFwic2FuaXR5LmltYWdlSG90c3BvdFwiXG59LCBDUk9QX0ZJRUxEID0ge1xuICBuYW1lOiBcImNyb3BcIixcbiAgdHlwZTogXCJzYW5pdHkuaW1hZ2VDcm9wXCJcbn0sIE9WRVJSSURBQkxFX0ZJRUxEUyQ1ID0gWy4uLkRFRkFVTFRfT1ZFUlJJREVBQkxFX0ZJRUxEU10sIElNQUdFX0NPUkUgPSB7XG4gIG5hbWU6IFwiaW1hZ2VcIixcbiAgdGl0bGU6IFwiSW1hZ2VcIixcbiAgdHlwZTogbnVsbCxcbiAganNvblR5cGU6IFwib2JqZWN0XCJcbn0sIERFRkFVTFRfT1BUSU9OUyA9IHt9LCBJbWFnZVR5cGUgPSB7XG4gIGdldCgpIHtcbiAgICByZXR1cm4gSU1BR0VfQ09SRTtcbiAgfSxcbiAgZXh0ZW5kKHJhd1N1YlR5cGVEZWYsIGNyZWF0ZU1lbWJlclR5cGUpIHtcbiAgICBjb25zdCBvcHRpb25zID0geyAuLi5yYXdTdWJUeXBlRGVmLm9wdGlvbnMgfHwgREVGQVVMVF9PUFRJT05TIH07XG4gICAgbGV0IGhvdHNwb3RGaWVsZHMgPSBbSE9UU1BPVF9GSUVMRCwgQ1JPUF9GSUVMRF07XG4gICAgb3B0aW9ucy5ob3RzcG90IHx8IChob3RzcG90RmllbGRzID0gaG90c3BvdEZpZWxkcy5tYXAoKGZpZWxkKSA9PiAoeyAuLi5maWVsZCwgaGlkZGVuOiAhMCB9KSkpO1xuICAgIGNvbnN0IGZpZWxkcyA9IFtBU1NFVF9GSUVMRCwgLi4uaG90c3BvdEZpZWxkcywgLi4ucmF3U3ViVHlwZURlZi5maWVsZHMgfHwgW11dLCBzdWJUeXBlRGVmID0geyAuLi5yYXdTdWJUeXBlRGVmLCBmaWVsZHMgfSwgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihwaWNrKHRoaXMuZ2V0KCksIE9WRVJSSURBQkxFX0ZJRUxEUyQ1KSwgc3ViVHlwZURlZiwge1xuICAgICAgdHlwZTogSU1BR0VfQ09SRSxcbiAgICAgIHRpdGxlOiBzdWJUeXBlRGVmLnRpdGxlIHx8IChzdWJUeXBlRGVmLm5hbWUgPyBzdGFydENhc2Uoc3ViVHlwZURlZi5uYW1lKSA6IElNQUdFX0NPUkUudGl0bGUpLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGZpZWxkczogc3ViVHlwZURlZi5maWVsZHMubWFwKChmaWVsZERlZikgPT4ge1xuICAgICAgICBjb25zdCB7IG5hbWUsIGZpZWxkc2V0LCAuLi5yZXN0IH0gPSBmaWVsZERlZiwgY29tcGlsZWRGaWVsZCA9IHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGZpZWxkc2V0LFxuICAgICAgICAgIGlzQ3VzdG9taXplZDogISFyYXdTdWJUeXBlRGVmLmZpZWxkc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbGF6eUdldHRlcihjb21waWxlZEZpZWxkLCBcInR5cGVcIiwgKCkgPT4gY3JlYXRlTWVtYmVyVHlwZSh7XG4gICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICB0aXRsZTogZmllbGREZWYudGl0bGUgfHwgc3RhcnRDYXNlKG5hbWUpXG4gICAgICAgIH0pKTtcbiAgICAgIH0pXG4gICAgfSk7XG4gICAgcmV0dXJuIGxhenlHZXR0ZXIocGFyc2VkLCBcImZpZWxkc2V0c1wiLCAoKSA9PiBjcmVhdGVGaWVsZHNldHMoc3ViVHlwZURlZiwgcGFyc2VkLmZpZWxkcykpLCBsYXp5R2V0dGVyKHBhcnNlZCwgXCJwcmV2aWV3XCIsIGNyZWF0ZVByZXZpZXdHZXR0ZXIoT2JqZWN0LmFzc2lnbih7fSwgc3ViVHlwZURlZiwgeyBmaWVsZHMgfSkpKSwgc3VidHlwZShwYXJzZWQpO1xuICAgIGZ1bmN0aW9uIHN1YnR5cGUocGFyZW50KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZXh0ZW5kOiAoZXh0ZW5zaW9uRGVmKSA9PiB7XG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkRlZi5maWVsZHMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBvdmVycmlkZSBgZmllbGRzYCBvZiBzdWJ0eXBlcyBvZiBcImltYWdlXCInKTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50LCBwaWNrKGV4dGVuc2lvbkRlZiwgT1ZFUlJJREFCTEVfRklFTERTJDUpLCB7XG4gICAgICAgICAgICB0eXBlOiBwYXJlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gc3VidHlwZShjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0sIE9WRVJSSURBQkxFX0ZJRUxEUyQ0ID0gWy4uLkRFRkFVTFRfT1ZFUlJJREVBQkxFX0ZJRUxEU10sIE5VTUJFUl9DT1JFID0ge1xuICBuYW1lOiBcIm51bWJlclwiLFxuICB0aXRsZTogXCJOdW1iZXJcIixcbiAgdHlwZTogbnVsbCxcbiAganNvblR5cGU6IFwibnVtYmVyXCJcbn0sIE51bWJlclR5cGUgPSB7XG4gIGdldCgpIHtcbiAgICByZXR1cm4gTlVNQkVSX0NPUkU7XG4gIH0sXG4gIGV4dGVuZChzdWJUeXBlRGVmKSB7XG4gICAgY29uc3QgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihwaWNrKE5VTUJFUl9DT1JFLCBPVkVSUklEQUJMRV9GSUVMRFMkNCksIHN1YlR5cGVEZWYsIHtcbiAgICAgIHR5cGU6IE5VTUJFUl9DT1JFLFxuICAgICAgcHJldmlldzogcHJpbWl0aXZlUHJldmlld1xuICAgIH0pO1xuICAgIHJldHVybiBzdWJ0eXBlKHBhcnNlZCk7XG4gICAgZnVuY3Rpb24gc3VidHlwZShwYXJlbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBleHRlbmQ6IChleHRlbnNpb25EZWYpID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50LCBwaWNrKGV4dGVuc2lvbkRlZiwgT1ZFUlJJREFCTEVfRklFTERTJDQpLCB7XG4gICAgICAgICAgICB0eXBlOiBwYXJlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gc3VidHlwZShjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0sIFJFRl9GSUVMRCA9IHtcbiAgbmFtZTogXCJfcmVmXCIsXG4gIHRpdGxlOiBcIlJlZmVyZW5jZWQgZG9jdW1lbnQgSURcIixcbiAgdHlwZTogXCJzdHJpbmdcIlxufSwgV0VBS19GSUVMRCA9IHtcbiAgbmFtZTogXCJfd2Vha1wiLFxuICB0aXRsZTogXCJXZWFrIHJlZmVyZW5jZVwiLFxuICB0eXBlOiBcImJvb2xlYW5cIlxufSwgUkVGRVJFTkNFX0ZJRUxEUyA9IFtSRUZfRklFTEQsIFdFQUtfRklFTERdLCBPVkVSUklEQUJMRV9GSUVMRFMkMyA9IFsuLi5ERUZBVUxUX09WRVJSSURFQUJMRV9GSUVMRFNdLCBSRUZFUkVOQ0VfQ09SRSA9IHtcbiAgbmFtZTogXCJyZWZlcmVuY2VcIixcbiAgdGl0bGU6IFwiUmVmZXJlbmNlXCIsXG4gIHR5cGU6IG51bGwsXG4gIGpzb25UeXBlOiBcIm9iamVjdFwiXG59O1xuZnVuY3Rpb24gaHVtYW5pemUoYXJyLCBjb25qdW5jdGlvbikge1xuICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xuICBpZiAobGVuID09PSAxKVxuICAgIHJldHVybiBhcnJbMF07XG4gIGNvbnN0IGZpcnN0ID0gYXJyLnNsaWNlKDAsIGxlbiAtIDEpLCBsYXN0ID0gYXJyW2xlbiAtIDFdO1xuICByZXR1cm4gYCR7Zmlyc3Quam9pbihcIiwgXCIpfSAke2Nvbmp1bmN0aW9ufSAke2xhc3R9YDtcbn1cbmZ1bmN0aW9uIGJ1aWxkVGl0bGUodHlwZSkge1xuICByZXR1cm4gIXR5cGUudG8gfHwgdHlwZS50by5sZW5ndGggPT09IDAgPyBcIlJlZmVyZW5jZVwiIDogYFJlZmVyZW5jZSB0byAke2h1bWFuaXplKFxuICAgIGFycmlmeSh0eXBlLnRvKS5tYXAoKHRvVHlwZSkgPT4gdG9UeXBlLnRpdGxlKSxcbiAgICBcIm9yXCJcbiAgKS50b0xvd2VyQ2FzZSgpfWA7XG59XG5jb25zdCBSZWZlcmVuY2VUeXBlID0ge1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIFJFRkVSRU5DRV9DT1JFO1xuICB9LFxuICBleHRlbmQoc3ViVHlwZURlZiwgY3JlYXRlTWVtYmVyVHlwZSkge1xuICAgIGlmICghc3ViVHlwZURlZi50bylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE1pc3NpbmcgXCJ0b1wiIGZpZWxkIGluIHJlZmVyZW5jZSBkZWZpbml0aW9uLiBDaGVjayB0aGUgdHlwZSAke3N1YlR5cGVEZWYubmFtZX1gXG4gICAgICApO1xuICAgIGNvbnN0IHBhcnNlZCA9IE9iamVjdC5hc3NpZ24ocGljayhSRUZFUkVOQ0VfQ09SRSwgT1ZFUlJJREFCTEVfRklFTERTJDMpLCBzdWJUeXBlRGVmLCB7XG4gICAgICB0eXBlOiBSRUZFUkVOQ0VfQ09SRVxuICAgIH0pO1xuICAgIHJldHVybiBsYXp5R2V0dGVyKHBhcnNlZCwgXCJmaWVsZHNcIiwgKCkgPT4gUkVGRVJFTkNFX0ZJRUxEUy5tYXAoKGZpZWxkRGVmKSA9PiB7XG4gICAgICBjb25zdCB7IG5hbWUsIC4uLnR5cGUgfSA9IGZpZWxkRGVmO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdHlwZTogY3JlYXRlTWVtYmVyVHlwZSh0eXBlKVxuICAgICAgfTtcbiAgICB9KSksIGxhenlHZXR0ZXIocGFyc2VkLCBcImZpZWxkc2V0c1wiLCAoKSA9PiBjcmVhdGVGaWVsZHNldHMoc3ViVHlwZURlZiwgcGFyc2VkLmZpZWxkcykpLCBsYXp5R2V0dGVyKHBhcnNlZCwgXCJ0b1wiLCAoKSA9PiBhcnJpZnkoc3ViVHlwZURlZi50bykubWFwKCh0b1R5cGUpID0+IGNyZWF0ZU1lbWJlclR5cGUodG9UeXBlKSkpLCBsYXp5R2V0dGVyKHBhcnNlZCwgXCJ0aXRsZVwiLCAoKSA9PiBzdWJUeXBlRGVmLnRpdGxlIHx8IGJ1aWxkVGl0bGUocGFyc2VkKSksIHN1YnR5cGUocGFyc2VkKTtcbiAgICBmdW5jdGlvbiBzdWJ0eXBlKHBhcmVudCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGV4dGVuZDogKGV4dGVuc2lvbkRlZikgPT4ge1xuICAgICAgICAgIGlmIChleHRlbnNpb25EZWYub2YpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBvdmVycmlkZSBgb2ZgIG9mIHN1YnR5cGVzIG9mIFwicmVmZXJlbmNlXCInKTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50LCBwaWNrKGV4dGVuc2lvbkRlZiwgT1ZFUlJJREFCTEVfRklFTERTJDMpLCB7XG4gICAgICAgICAgICB0eXBlOiBwYXJlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gc3VidHlwZShjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0sIE9WRVJSSURBQkxFX0ZJRUxEUyQyID0gWy4uLkRFRkFVTFRfT1ZFUlJJREVBQkxFX0ZJRUxEU10sIFNUUklOR19DT1JFID0ge1xuICBuYW1lOiBcInN0cmluZ1wiLFxuICB0aXRsZTogXCJTdHJpbmdcIixcbiAgdHlwZTogbnVsbCxcbiAganNvblR5cGU6IFwic3RyaW5nXCJcbn0sIFN0cmluZ1R5cGUgPSB7XG4gIGdldCgpIHtcbiAgICByZXR1cm4gU1RSSU5HX0NPUkU7XG4gIH0sXG4gIGV4dGVuZChzdWJUeXBlRGVmKSB7XG4gICAgY29uc3QgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihwaWNrKFNUUklOR19DT1JFLCBPVkVSUklEQUJMRV9GSUVMRFMkMiksIHN1YlR5cGVEZWYsIHtcbiAgICAgIHR5cGU6IFNUUklOR19DT1JFLFxuICAgICAgcHJldmlldzogcHJpbWl0aXZlUHJldmlld1xuICAgIH0pO1xuICAgIHJldHVybiBzdWJ0eXBlKHBhcnNlZCk7XG4gICAgZnVuY3Rpb24gc3VidHlwZShwYXJlbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBleHRlbmQ6IChleHRlbnNpb25EZWYpID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50LCBwaWNrKGV4dGVuc2lvbkRlZiwgT1ZFUlJJREFCTEVfRklFTERTJDIpLCB7XG4gICAgICAgICAgICB0eXBlOiBwYXJlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gc3VidHlwZShjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0sIE9WRVJSSURBQkxFX0ZJRUxEUyQxID0gWy4uLkRFRkFVTFRfT1ZFUlJJREVBQkxFX0ZJRUxEUywgXCJyb3dzXCJdLCBURVhUX0NPUkUgPSB7XG4gIG5hbWU6IFwidGV4dFwiLFxuICB0aXRsZTogXCJUZXh0XCIsXG4gIHR5cGU6IG51bGwsXG4gIGpzb25UeXBlOiBcInN0cmluZ1wiXG59LCBUZXh0VHlwZSA9IHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiBURVhUX0NPUkU7XG4gIH0sXG4gIGV4dGVuZChzdWJUeXBlRGVmKSB7XG4gICAgY29uc3QgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihwaWNrKFRFWFRfQ09SRSwgT1ZFUlJJREFCTEVfRklFTERTJDEpLCBzdWJUeXBlRGVmLCB7XG4gICAgICB0eXBlOiBURVhUX0NPUkUsXG4gICAgICBwcmV2aWV3OiBwcmltaXRpdmVQcmV2aWV3XG4gICAgfSk7XG4gICAgcmV0dXJuIHN1YnR5cGUocGFyc2VkKTtcbiAgICBmdW5jdGlvbiBzdWJ0eXBlKHBhcmVudCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGV4dGVuZDogKGV4dGVuc2lvbkRlZikgPT4ge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJlbnQsIHBpY2soZXh0ZW5zaW9uRGVmLCBPVkVSUklEQUJMRV9GSUVMRFMkMSksIHtcbiAgICAgICAgICAgIHR5cGU6IHBhcmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBzdWJ0eXBlKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxufSwgT1ZFUlJJREFCTEVfRklFTERTID0gWy4uLkRFRkFVTFRfT1ZFUlJJREVBQkxFX0ZJRUxEU10sIFVSTF9DT1JFID0ge1xuICBuYW1lOiBcInVybFwiLFxuICB0aXRsZTogXCJVcmxcIixcbiAgdHlwZTogbnVsbCxcbiAganNvblR5cGU6IFwic3RyaW5nXCJcbn0sIFVybFR5cGUgPSB7XG4gIGdldCgpIHtcbiAgICByZXR1cm4gVVJMX0NPUkU7XG4gIH0sXG4gIGV4dGVuZChzdWJUeXBlRGVmKSB7XG4gICAgY29uc3QgcGFyc2VkID0gT2JqZWN0LmFzc2lnbihwaWNrKFVSTF9DT1JFLCBPVkVSUklEQUJMRV9GSUVMRFMpLCBzdWJUeXBlRGVmLCB7XG4gICAgICB0eXBlOiBVUkxfQ09SRSxcbiAgICAgIHByZXZpZXc6IHByaW1pdGl2ZVByZXZpZXdcbiAgICB9KTtcbiAgICByZXR1cm4gc3VidHlwZShwYXJzZWQpO1xuICAgIGZ1bmN0aW9uIHN1YnR5cGUocGFyZW50KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZXh0ZW5kOiAoZXh0ZW5zaW9uRGVmKSA9PiB7XG4gICAgICAgICAgY29uc3QgY3VycmVudCA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmVudCwgcGljayhleHRlbnNpb25EZWYsIE9WRVJSSURBQkxFX0ZJRUxEUyksIHtcbiAgICAgICAgICAgIHR5cGU6IHBhcmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBzdWJ0eXBlKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxufTtcbnZhciB0eXBlcyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBhbnk6IEFueVR5cGUsXG4gIGFycmF5OiBBcnJheVR5cGUsXG4gIGJsb2NrOiBCbG9ja1R5cGUsXG4gIGJvb2xlYW46IEJvb2xlYW5UeXBlLFxuICBjcm9zc0RhdGFzZXRSZWZlcmVuY2U6IENyb3NzRGF0YXNldFJlZmVyZW5jZVR5cGUsXG4gIGRhdGU6IERhdGVUeXBlLFxuICBkYXRldGltZTogRGF0ZVRpbWVUeXBlLFxuICBkb2N1bWVudDogRG9jdW1lbnRUeXBlLFxuICBlbWFpbDogRW1haWxUeXBlLFxuICBmaWxlOiBGaWxlVHlwZSxcbiAgaW1hZ2U6IEltYWdlVHlwZSxcbiAgbnVtYmVyOiBOdW1iZXJUeXBlLFxuICBvYmplY3Q6IE9iamVjdFR5cGUsXG4gIHJlZmVyZW5jZTogUmVmZXJlbmNlVHlwZSxcbiAgc3BhbjogU3BhblR5cGUsXG4gIHN0cmluZzogU3RyaW5nVHlwZSxcbiAgdGV4dDogVGV4dFR5cGUsXG4gIHVybDogVXJsVHlwZVxufSksIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWUsIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5mdW5jdGlvbiBjb21waWxlUmVnaXN0cnkoc2NoZW1hRGVmKSB7XG4gIGNvbnN0IHJlZ2lzdHJ5ID0gT2JqZWN0LmFzc2lnbigvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdHlwZXMpLCBkZWZzQnlOYW1lID0gc2NoZW1hRGVmLnR5cGVzLnJlZHVjZSgoYWNjLCBkZWYpID0+IHtcbiAgICBpZiAoYWNjW2RlZi5uYW1lXSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIHR5cGUgbmFtZSBhZGRlZCB0byBzY2hlbWE6ICR7ZGVmLm5hbWV9YCk7XG4gICAgcmV0dXJuIGFjY1tkZWYubmFtZV0gPSBkZWYsIGFjYztcbiAgfSwge30pO1xuICByZXR1cm4gc2NoZW1hRGVmLnR5cGVzLmZvckVhY2goYWRkKSwgcmVnaXN0cnk7XG4gIGZ1bmN0aW9uIGVuc3VyZSh0eXBlTmFtZSkge1xuICAgIGlmICghcmVnaXN0cnlbdHlwZU5hbWVdKSB7XG4gICAgICBpZiAoIWRlZnNCeU5hbWVbdHlwZU5hbWVdKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdHlwZTogJHt0eXBlTmFtZX1gKTtcbiAgICAgIGFkZChkZWZzQnlOYW1lW3R5cGVOYW1lXSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGV4dGVuZE1lbWJlcihtZW1iZXJEZWYpIHtcbiAgICByZXR1cm4gZW5zdXJlKG1lbWJlckRlZi50eXBlKSwgcmVnaXN0cnlbbWVtYmVyRGVmLnR5cGVdLmV4dGVuZChtZW1iZXJEZWYsIGV4dGVuZE1lbWJlcikuZ2V0KCk7XG4gIH1cbiAgZnVuY3Rpb24gYWRkKHR5cGVEZWYpIHtcbiAgICBlbnN1cmUodHlwZURlZi50eXBlKSwgIXJlZ2lzdHJ5W3R5cGVEZWYubmFtZV0gJiYgKHJlZ2lzdHJ5W3R5cGVEZWYubmFtZV0gPSByZWdpc3RyeVt0eXBlRGVmLnR5cGVdLmV4dGVuZCh0eXBlRGVmLCBleHRlbmRNZW1iZXIpKTtcbiAgfVxufVxubGV0IFNjaGVtYSQxID0gY2xhc3MgU2NoZW1hIHtcbiAgY29uc3RydWN0b3Ioc2NoZW1hRGVmKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9vcmlnaW5hbFwiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9yZWdpc3RyeVwiKSwgdGhpcy5fb3JpZ2luYWwgPSBzY2hlbWFEZWYsIHRoaXMuX3JlZ2lzdHJ5ID0gY29tcGlsZVJlZ2lzdHJ5KHNjaGVtYURlZik7XG4gIH1cbiAgc3RhdGljIGNvbXBpbGUoc2NoZW1hRGVmKSB7XG4gICAgcmV0dXJuIG5ldyBTY2hlbWEoc2NoZW1hRGVmKTtcbiAgfVxuICBnZXQgbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWwubmFtZTtcbiAgfVxuICBnZXQobmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9yZWdpc3RyeVtuYW1lXSAmJiB0aGlzLl9yZWdpc3RyeVtuYW1lXS5nZXQoKTtcbiAgfVxuICBoYXMobmFtZSkge1xuICAgIHJldHVybiBuYW1lIGluIHRoaXMuX3JlZ2lzdHJ5O1xuICB9XG4gIGdldFR5cGVOYW1lcygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fcmVnaXN0cnkpO1xuICB9XG59O1xuY2xhc3MgRGVwcmVjYXRlZERlZmF1bHRTY2hlbWEgZXh0ZW5kcyBTY2hlbWEkMSB7XG4gIHN0YXRpYyBjb21waWxlKHNjaGVtYURlZikge1xuICAgIHJldHVybiBuZXcgRGVwcmVjYXRlZERlZmF1bHRTY2hlbWEoc2NoZW1hRGVmKTtcbiAgfVxuICBjb25zdHJ1Y3RvcihzY2hlbWFEZWYpIHtcbiAgICBzdXBlcihzY2hlbWFEZWYpO1xuICAgIGNvbnN0IHN0YWNrID0gbmV3IEVycm9yKFxuICAgICAgJ1RoZSBkZWZhdWx0IGV4cG9ydCBvZiBgQHNhbml0eS9zY2hlbWFgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgaW1wb3J0IHtTY2hlbWF9IGZyb20gXCJAc2FuaXR5L3NjaGVtYVwiYCBpbnN0ZWFkLidcbiAgICApLnN0YWNrLnJlcGxhY2UoL15FcnJvci8sIFwiV2FybmluZ1wiKTtcbiAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICB9XG59XG5jb25zdCBTY2hlbWEyID0gU2NoZW1hJDE7XG5leHBvcnQge1xuICBTY2hlbWEyIGFzIFNjaGVtYSxcbiAgRGVwcmVjYXRlZERlZmF1bHRTY2hlbWEgYXMgZGVmYXVsdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/schema/lib/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/telemetry/dist/_chunks/noopLogger-b5b1676e.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@sanity/telemetry/dist/_chunks/noopLogger-b5b1676e.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   noopLogger: () => (/* binding */ noopLogger),\n/* harmony export */   onPageHide: () => (/* binding */ onPageHide),\n/* harmony export */   onVisibilityHidden: () => (/* binding */ onVisibilityHidden),\n/* harmony export */   registerLifecycleEvents: () => (/* binding */ registerLifecycleEvents)\n/* harmony export */ });\nconst capture = {\n  capture: true\n};\nfunction listen(target, type, cb) {\n  target.addEventListener(type, cb, capture);\n  return () => target.removeEventListener(type, cb, capture);\n}\nfunction onPageHide(listener) {\n  if (\"onpagehide\" in window) {\n    return listen(window, \"pagehide\", listener);\n  }\n  const cleanupUnload = listen(window, \"unload\", listener);\n  const cleanupBeforeUnload = listen(window, \"unload\", listener);\n  return () => {\n    cleanupUnload();\n    cleanupBeforeUnload();\n  };\n}\nfunction onVisibilityHidden(cb) {\n  return listen(document, \"visibilitychange\", () => {\n    if (document.visibilityState === \"hidden\") {\n      cb();\n    }\n  });\n}\nfunction registerLifecycleEvents(store) {\n  const unregisterVisibilityHidden = onVisibilityHidden(() => store.flush());\n  const unregisterPageHide = onPageHide(() => store.endWithBeacon());\n  return () => {\n    unregisterPageHide();\n    unregisterVisibilityHidden();\n  };\n}\nfunction createNoopLogger() {\n  const logger = {\n    updateUserProperties() {},\n    trace,\n    log\n  };\n  function trace(telemetryTrace) {\n    return {\n      start() {},\n      log(data) {},\n      complete() {},\n      newContext(name) {\n        return logger;\n      },\n      error(error) {},\n      await: promise => promise\n    };\n  }\n  function log(event, data) {}\n  return logger;\n}\nconst noopLogger = createNoopLogger();\n\n//# sourceMappingURL=noopLogger-b5b1676e.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS90ZWxlbWV0cnkvZGlzdC9fY2h1bmtzL25vb3BMb2dnZXItYjViMTY3NmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLGtCQUFrQjtBQUNsQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLE9BQU87QUFDUCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0U7QUFDL0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvdGVsZW1ldHJ5L2Rpc3QvX2NodW5rcy9ub29wTG9nZ2VyLWI1YjE2NzZlLmpzPzVkYjciXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2FwdHVyZSA9IHtcbiAgY2FwdHVyZTogdHJ1ZVxufTtcbmZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIHR5cGUsIGNiKSB7XG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNiLCBjYXB0dXJlKTtcbiAgcmV0dXJuICgpID0+IHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNiLCBjYXB0dXJlKTtcbn1cbmZ1bmN0aW9uIG9uUGFnZUhpZGUobGlzdGVuZXIpIHtcbiAgaWYgKFwib25wYWdlaGlkZVwiIGluIHdpbmRvdykge1xuICAgIHJldHVybiBsaXN0ZW4od2luZG93LCBcInBhZ2VoaWRlXCIsIGxpc3RlbmVyKTtcbiAgfVxuICBjb25zdCBjbGVhbnVwVW5sb2FkID0gbGlzdGVuKHdpbmRvdywgXCJ1bmxvYWRcIiwgbGlzdGVuZXIpO1xuICBjb25zdCBjbGVhbnVwQmVmb3JlVW5sb2FkID0gbGlzdGVuKHdpbmRvdywgXCJ1bmxvYWRcIiwgbGlzdGVuZXIpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNsZWFudXBVbmxvYWQoKTtcbiAgICBjbGVhbnVwQmVmb3JlVW5sb2FkKCk7XG4gIH07XG59XG5mdW5jdGlvbiBvblZpc2liaWxpdHlIaWRkZW4oY2IpIHtcbiAgcmV0dXJuIGxpc3Rlbihkb2N1bWVudCwgXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsICgpID0+IHtcbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcImhpZGRlblwiKSB7XG4gICAgICBjYigpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiByZWdpc3RlckxpZmVjeWNsZUV2ZW50cyhzdG9yZSkge1xuICBjb25zdCB1bnJlZ2lzdGVyVmlzaWJpbGl0eUhpZGRlbiA9IG9uVmlzaWJpbGl0eUhpZGRlbigoKSA9PiBzdG9yZS5mbHVzaCgpKTtcbiAgY29uc3QgdW5yZWdpc3RlclBhZ2VIaWRlID0gb25QYWdlSGlkZSgoKSA9PiBzdG9yZS5lbmRXaXRoQmVhY29uKCkpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHVucmVnaXN0ZXJQYWdlSGlkZSgpO1xuICAgIHVucmVnaXN0ZXJWaXNpYmlsaXR5SGlkZGVuKCk7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVOb29wTG9nZ2VyKCkge1xuICBjb25zdCBsb2dnZXIgPSB7XG4gICAgdXBkYXRlVXNlclByb3BlcnRpZXMoKSB7fSxcbiAgICB0cmFjZSxcbiAgICBsb2dcbiAgfTtcbiAgZnVuY3Rpb24gdHJhY2UodGVsZW1ldHJ5VHJhY2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQoKSB7fSxcbiAgICAgIGxvZyhkYXRhKSB7fSxcbiAgICAgIGNvbXBsZXRlKCkge30sXG4gICAgICBuZXdDb250ZXh0KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGxvZ2dlcjtcbiAgICAgIH0sXG4gICAgICBlcnJvcihlcnJvcikge30sXG4gICAgICBhd2FpdDogcHJvbWlzZSA9PiBwcm9taXNlXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBsb2coZXZlbnQsIGRhdGEpIHt9XG4gIHJldHVybiBsb2dnZXI7XG59XG5jb25zdCBub29wTG9nZ2VyID0gY3JlYXRlTm9vcExvZ2dlcigpO1xuZXhwb3J0IHsgbm9vcExvZ2dlciwgb25QYWdlSGlkZSwgb25WaXNpYmlsaXR5SGlkZGVuLCByZWdpc3RlckxpZmVjeWNsZUV2ZW50cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcExvZ2dlci1iNWIxNjc2ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/telemetry/dist/_chunks/noopLogger-b5b1676e.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/telemetry/dist/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@sanity/telemetry/dist/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBatchedStore: () => (/* binding */ createBatchedStore),\n/* harmony export */   createSessionId: () => (/* binding */ createSessionId),\n/* harmony export */   defineEvent: () => (/* binding */ defineEvent),\n/* harmony export */   defineTrace: () => (/* binding */ defineTrace),\n/* harmony export */   noopLogger: () => (/* reexport safe */ _chunks_noopLogger_b5b1676e_js__WEBPACK_IMPORTED_MODULE_0__.noopLogger),\n/* harmony export */   onPageHide: () => (/* reexport safe */ _chunks_noopLogger_b5b1676e_js__WEBPACK_IMPORTED_MODULE_0__.onPageHide),\n/* harmony export */   onVisibilityHidden: () => (/* reexport safe */ _chunks_noopLogger_b5b1676e_js__WEBPACK_IMPORTED_MODULE_0__.onVisibilityHidden),\n/* harmony export */   registerLifecycleEvents: () => (/* reexport safe */ _chunks_noopLogger_b5b1676e_js__WEBPACK_IMPORTED_MODULE_0__.registerLifecycleEvents)\n/* harmony export */ });\n/* harmony import */ var typeid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! typeid-js */ \"(ssr)/./node_modules/typeid-js/dist/chunk-FOHWUNKU.mjs\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/Subject.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/empty.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/catchError.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/tap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/throttle.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/concatMap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\");\n/* harmony import */ var _chunks_noopLogger_b5b1676e_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_chunks/noopLogger-b5b1676e.js */ \"(ssr)/./node_modules/@sanity/telemetry/dist/_chunks/noopLogger-b5b1676e.js\");\n\n\n\nfunction createSessionId() {\n  return (0,typeid_js__WEBPACK_IMPORTED_MODULE_1__.typeid)(\"session\").toString();\n}\nfunction createTraceId() {\n  return (0,typeid_js__WEBPACK_IMPORTED_MODULE_1__.typeid)(\"trace\").toString();\n}\nfunction splitAt(str, index) {\n  return index < 1 ? [str, \"\"] : [str.substring(0, index), str.substring(index)];\n}\nconst MAX_LENGTH = 1024;\nfunction trimErrorMessage(errorMessage) {\n  const newLineIndex = errorMessage.indexOf(\"\\n\");\n  const splitIndex = newLineIndex === -1 ? MAX_LENGTH : Math.min(newLineIndex, MAX_LENGTH);\n  const [first, rest] = splitAt(errorMessage, splitIndex);\n  return first + (rest ? \"\\u2026 (+\".concat(rest.length, \")\") : \"\");\n}\nfunction createStore(sessionId) {\n  const logEntries$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subject();\n  function pushTraceError(traceId, telemetryTrace, error, context) {\n    logEntries$.next({\n      sessionId,\n      type: \"trace.error\",\n      traceId,\n      name: telemetryTrace.name,\n      version: telemetryTrace.version,\n      data: {\n        message: trimErrorMessage(error.message)\n      },\n      context,\n      createdAt: /* @__PURE__ */new Date().toISOString()\n    });\n  }\n  function pushTraceEntry(type, traceId, telemetryTrace, data, context) {\n    logEntries$.next({\n      sessionId,\n      type,\n      traceId,\n      name: telemetryTrace.name,\n      version: telemetryTrace.version,\n      data,\n      context,\n      createdAt: /* @__PURE__ */new Date().toISOString()\n    });\n  }\n  function pushLogEntry(type, event, data) {\n    logEntries$.next({\n      sessionId,\n      type,\n      version: event.version,\n      name: event.name,\n      data,\n      createdAt: /* @__PURE__ */new Date().toISOString()\n    });\n  }\n  function pushUserPropertiesEntry(properties) {\n    logEntries$.next({\n      sessionId,\n      type: \"userProperties\",\n      properties,\n      createdAt: /* @__PURE__ */new Date().toISOString()\n    });\n  }\n  function createTrace(traceId, traceDef, context) {\n    return {\n      start() {\n        pushTraceEntry(\"trace.start\", traceId, traceDef, void 0, context);\n      },\n      newContext(name) {\n        return {\n          trace(innerTraceDef) {\n            return createTrace(\"\".concat(traceId, \".\").concat(name), innerTraceDef, context);\n          },\n          updateUserProperties() {},\n          log\n        };\n      },\n      log(data) {\n        pushTraceEntry(\"trace.log\", traceId, traceDef, data, context);\n      },\n      complete() {\n        pushTraceEntry(\"trace.complete\", traceId, traceDef, void 0, context);\n      },\n      error(error) {\n        pushTraceError(traceId, traceDef, error, context);\n      },\n      await(promise, data) {\n        this.start();\n        promise.then(result => {\n          this.log(data ? data : result);\n          this.complete();\n          return result;\n        }, error => {\n          this.error(error);\n          throw error;\n        });\n        return promise;\n      }\n    };\n  }\n  function log(event, data) {\n    pushLogEntry(\"log\", event, data);\n  }\n  return {\n    events$: logEntries$.asObservable(),\n    logger: {\n      updateUserProperties(properties) {\n        pushUserPropertiesEntry(properties);\n      },\n      trace: (traceDef, context) => {\n        const traceId = createTraceId();\n        return createTrace(traceId, traceDef, context);\n      },\n      log\n    }\n  };\n}\nconst unrefTimer = ms => new rxjs__WEBPACK_IMPORTED_MODULE_3__.Observable(subscriber => {\n  const timeout = setTimeout(() => {\n    subscriber.next();\n    subscriber.complete();\n  }, ms);\n  if (typeof timeout.unref === \"function\") {\n    timeout.unref();\n  }\n  return () => clearTimeout(timeout);\n});\nfunction createBatchedStore(sessionId, options) {\n  var _a;\n  const store = createStore(sessionId);\n  function resolveConsent() {\n    return options.resolveConsent().catch(err => (\n    // if we for some reason can't fetch consent we treat it as \"undetermined\", and try again at next flush\n    {\n      status: \"undetermined\"\n    }));\n  }\n  const _buffer = [];\n  function consume() {\n    const buf = _buffer.slice();\n    _buffer.length = 0;\n    return buf;\n  }\n  function submit() {\n    const pending = consume();\n    if (pending.length === 0) {\n      return rxjs__WEBPACK_IMPORTED_MODULE_4__.EMPTY;\n    }\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.combineLatest)([(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(pending), resolveConsent()]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.mergeMap)(_ref => {\n      let [events, consent] = _ref;\n      if (events.length === 0 || consent.status !== \"granted\") {\n        return rxjs__WEBPACK_IMPORTED_MODULE_4__.EMPTY;\n      }\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.from)(options.sendEvents(events)).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_9__.catchError)(err => {\n        _buffer.unshift(...events);\n        return rxjs__WEBPACK_IMPORTED_MODULE_4__.EMPTY;\n      }));\n    }));\n  }\n  const flushInterval = (_a = options.flushInterval) != null ? _a : 3e4;\n  const flush$ = store.events$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_10__.tap)(ev => _buffer.push(ev)), (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.map)(() => {}),\n  // void to avoid accidental use of events further down the pipe\n  (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.throttle)(() => unrefTimer(flushInterval), {\n    leading: false,\n    trailing: true\n  }), (0,rxjs__WEBPACK_IMPORTED_MODULE_13__.concatMap)(() => submit()));\n  function flush() {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_14__.lastValueFrom)(submit(), {\n      defaultValue: void 0\n    }).then(() => {});\n  }\n  const subscription = flush$.subscribe();\n  function endWithBeacon() {\n    if (!options.sendBeacon) {\n      end();\n      return true;\n    }\n    const events = consume();\n    subscription.unsubscribe();\n    return events.length > 0 ? options.sendBeacon(events) : true;\n  }\n  function end() {\n    return flush().then(() => {},\n    // void promise\n    () => {}\n    // ignore errors\n    ).finally(() => {\n      subscription.unsubscribe();\n    });\n  }\n  return {\n    end,\n    endWithBeacon,\n    // Note: flush may fail\n    flush,\n    logger: store.logger\n  };\n}\nfunction defineEvent(options) {\n  return {\n    type: \"log\",\n    name: options.name,\n    version: options.version,\n    description: options.description,\n    schema: void 0\n  };\n}\nfunction defineTrace(options) {\n  return {\n    type: \"trace\",\n    name: options.name,\n    version: options.version,\n    description: options.description,\n    schema: void 0,\n    context: void 0\n  };\n}\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS90ZWxlbWV0cnkvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFtQztBQUM0RztBQUN4QjtBQUN2SDtBQUNBLFNBQVMsaURBQU07QUFDZjtBQUNBO0FBQ0EsU0FBUyxpREFBTTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5Q0FBTztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLG1DQUFtQztBQUNuQztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNENBQVU7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHVDQUFLO0FBQ2xCO0FBQ0EsV0FBVyxtREFBYSxFQUFFLHdDQUFFLG1DQUFtQyw4Q0FBUTtBQUN2RTtBQUNBO0FBQ0EsZUFBZSx1Q0FBSztBQUNwQjtBQUNBLGFBQWEsMENBQUksa0NBQWtDLGdEQUFVO0FBQzdEO0FBQ0EsZUFBZSx1Q0FBSztBQUNwQixPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQ0FBb0MsMENBQUcsMEJBQTBCLDBDQUFHLFNBQVM7QUFDN0U7QUFDQSxFQUFFLCtDQUFRO0FBQ1Y7QUFDQTtBQUNBLEdBQUcsR0FBRyxnREFBUztBQUNmO0FBQ0EsV0FBVyxvREFBYTtBQUN4QjtBQUNBLEtBQUssZUFBZTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN5RTtBQUN6RSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS90ZWxlbWV0cnkvZGlzdC9pbmRleC5qcz80MWNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGVpZCB9IGZyb20gJ3R5cGVpZC1qcyc7XG5pbXBvcnQgeyBTdWJqZWN0LCB0YXAsIG1hcCwgdGhyb3R0bGUsIGNvbmNhdE1hcCwgT2JzZXJ2YWJsZSwgRU1QVFksIGNvbWJpbmVMYXRlc3QsIG9mLCBtZXJnZU1hcCwgZnJvbSwgY2F0Y2hFcnJvciwgbGFzdFZhbHVlRnJvbSB9IGZyb20gJ3J4anMnO1xuZXhwb3J0IHsgbm9vcExvZ2dlciwgb25QYWdlSGlkZSwgb25WaXNpYmlsaXR5SGlkZGVuLCByZWdpc3RlckxpZmVjeWNsZUV2ZW50cyB9IGZyb20gJy4vX2NodW5rcy9ub29wTG9nZ2VyLWI1YjE2NzZlLmpzJztcbmZ1bmN0aW9uIGNyZWF0ZVNlc3Npb25JZCgpIHtcbiAgcmV0dXJuIHR5cGVpZChcInNlc3Npb25cIikudG9TdHJpbmcoKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRyYWNlSWQoKSB7XG4gIHJldHVybiB0eXBlaWQoXCJ0cmFjZVwiKS50b1N0cmluZygpO1xufVxuZnVuY3Rpb24gc3BsaXRBdChzdHIsIGluZGV4KSB7XG4gIHJldHVybiBpbmRleCA8IDEgPyBbc3RyLCBcIlwiXSA6IFtzdHIuc3Vic3RyaW5nKDAsIGluZGV4KSwgc3RyLnN1YnN0cmluZyhpbmRleCldO1xufVxuY29uc3QgTUFYX0xFTkdUSCA9IDEwMjQ7XG5mdW5jdGlvbiB0cmltRXJyb3JNZXNzYWdlKGVycm9yTWVzc2FnZSkge1xuICBjb25zdCBuZXdMaW5lSW5kZXggPSBlcnJvck1lc3NhZ2UuaW5kZXhPZihcIlxcblwiKTtcbiAgY29uc3Qgc3BsaXRJbmRleCA9IG5ld0xpbmVJbmRleCA9PT0gLTEgPyBNQVhfTEVOR1RIIDogTWF0aC5taW4obmV3TGluZUluZGV4LCBNQVhfTEVOR1RIKTtcbiAgY29uc3QgW2ZpcnN0LCByZXN0XSA9IHNwbGl0QXQoZXJyb3JNZXNzYWdlLCBzcGxpdEluZGV4KTtcbiAgcmV0dXJuIGZpcnN0ICsgKHJlc3QgPyBcIlxcdTIwMjYgKCtcIi5jb25jYXQocmVzdC5sZW5ndGgsIFwiKVwiKSA6IFwiXCIpO1xufVxuZnVuY3Rpb24gY3JlYXRlU3RvcmUoc2Vzc2lvbklkKSB7XG4gIGNvbnN0IGxvZ0VudHJpZXMkID0gbmV3IFN1YmplY3QoKTtcbiAgZnVuY3Rpb24gcHVzaFRyYWNlRXJyb3IodHJhY2VJZCwgdGVsZW1ldHJ5VHJhY2UsIGVycm9yLCBjb250ZXh0KSB7XG4gICAgbG9nRW50cmllcyQubmV4dCh7XG4gICAgICBzZXNzaW9uSWQsXG4gICAgICB0eXBlOiBcInRyYWNlLmVycm9yXCIsXG4gICAgICB0cmFjZUlkLFxuICAgICAgbmFtZTogdGVsZW1ldHJ5VHJhY2UubmFtZSxcbiAgICAgIHZlcnNpb246IHRlbGVtZXRyeVRyYWNlLnZlcnNpb24sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIG1lc3NhZ2U6IHRyaW1FcnJvck1lc3NhZ2UoZXJyb3IubWVzc2FnZSlcbiAgICAgIH0sXG4gICAgICBjb250ZXh0LFxuICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi9uZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoVHJhY2VFbnRyeSh0eXBlLCB0cmFjZUlkLCB0ZWxlbWV0cnlUcmFjZSwgZGF0YSwgY29udGV4dCkge1xuICAgIGxvZ0VudHJpZXMkLm5leHQoe1xuICAgICAgc2Vzc2lvbklkLFxuICAgICAgdHlwZSxcbiAgICAgIHRyYWNlSWQsXG4gICAgICBuYW1lOiB0ZWxlbWV0cnlUcmFjZS5uYW1lLFxuICAgICAgdmVyc2lvbjogdGVsZW1ldHJ5VHJhY2UudmVyc2lvbixcbiAgICAgIGRhdGEsXG4gICAgICBjb250ZXh0LFxuICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi9uZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoTG9nRW50cnkodHlwZSwgZXZlbnQsIGRhdGEpIHtcbiAgICBsb2dFbnRyaWVzJC5uZXh0KHtcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHR5cGUsXG4gICAgICB2ZXJzaW9uOiBldmVudC52ZXJzaW9uLFxuICAgICAgbmFtZTogZXZlbnQubmFtZSxcbiAgICAgIGRhdGEsXG4gICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqL25ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hVc2VyUHJvcGVydGllc0VudHJ5KHByb3BlcnRpZXMpIHtcbiAgICBsb2dFbnRyaWVzJC5uZXh0KHtcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHR5cGU6IFwidXNlclByb3BlcnRpZXNcIixcbiAgICAgIHByb3BlcnRpZXMsXG4gICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqL25ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVRyYWNlKHRyYWNlSWQsIHRyYWNlRGVmLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0KCkge1xuICAgICAgICBwdXNoVHJhY2VFbnRyeShcInRyYWNlLnN0YXJ0XCIsIHRyYWNlSWQsIHRyYWNlRGVmLCB2b2lkIDAsIGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIG5ld0NvbnRleHQobmFtZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRyYWNlKGlubmVyVHJhY2VEZWYpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVUcmFjZShcIlwiLmNvbmNhdCh0cmFjZUlkLCBcIi5cIikuY29uY2F0KG5hbWUpLCBpbm5lclRyYWNlRGVmLCBjb250ZXh0KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVwZGF0ZVVzZXJQcm9wZXJ0aWVzKCkge30sXG4gICAgICAgICAgbG9nXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgbG9nKGRhdGEpIHtcbiAgICAgICAgcHVzaFRyYWNlRW50cnkoXCJ0cmFjZS5sb2dcIiwgdHJhY2VJZCwgdHJhY2VEZWYsIGRhdGEsIGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlKCkge1xuICAgICAgICBwdXNoVHJhY2VFbnRyeShcInRyYWNlLmNvbXBsZXRlXCIsIHRyYWNlSWQsIHRyYWNlRGVmLCB2b2lkIDAsIGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIGVycm9yKGVycm9yKSB7XG4gICAgICAgIHB1c2hUcmFjZUVycm9yKHRyYWNlSWQsIHRyYWNlRGVmLCBlcnJvciwgY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgYXdhaXQocHJvbWlzZSwgZGF0YSkge1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIHByb21pc2UudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgIHRoaXMubG9nKGRhdGEgPyBkYXRhIDogcmVzdWx0KTtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgIHRoaXMuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBsb2coZXZlbnQsIGRhdGEpIHtcbiAgICBwdXNoTG9nRW50cnkoXCJsb2dcIiwgZXZlbnQsIGRhdGEpO1xuICB9XG4gIHJldHVybiB7XG4gICAgZXZlbnRzJDogbG9nRW50cmllcyQuYXNPYnNlcnZhYmxlKCksXG4gICAgbG9nZ2VyOiB7XG4gICAgICB1cGRhdGVVc2VyUHJvcGVydGllcyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHB1c2hVc2VyUHJvcGVydGllc0VudHJ5KHByb3BlcnRpZXMpO1xuICAgICAgfSxcbiAgICAgIHRyYWNlOiAodHJhY2VEZWYsIGNvbnRleHQpID0+IHtcbiAgICAgICAgY29uc3QgdHJhY2VJZCA9IGNyZWF0ZVRyYWNlSWQoKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVRyYWNlKHRyYWNlSWQsIHRyYWNlRGVmLCBjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICBsb2dcbiAgICB9XG4gIH07XG59XG5jb25zdCB1bnJlZlRpbWVyID0gbXMgPT4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlciA9PiB7XG4gIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBzdWJzY3JpYmVyLm5leHQoKTtcbiAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gIH0sIG1zKTtcbiAgaWYgKHR5cGVvZiB0aW1lb3V0LnVucmVmID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aW1lb3V0LnVucmVmKCk7XG4gIH1cbiAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn0pO1xuZnVuY3Rpb24gY3JlYXRlQmF0Y2hlZFN0b3JlKHNlc3Npb25JZCwgb3B0aW9ucykge1xuICB2YXIgX2E7XG4gIGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoc2Vzc2lvbklkKTtcbiAgZnVuY3Rpb24gcmVzb2x2ZUNvbnNlbnQoKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMucmVzb2x2ZUNvbnNlbnQoKS5jYXRjaChlcnIgPT4gKFxuICAgIC8vIGlmIHdlIGZvciBzb21lIHJlYXNvbiBjYW4ndCBmZXRjaCBjb25zZW50IHdlIHRyZWF0IGl0IGFzIFwidW5kZXRlcm1pbmVkXCIsIGFuZCB0cnkgYWdhaW4gYXQgbmV4dCBmbHVzaFxuICAgIHtcbiAgICAgIHN0YXR1czogXCJ1bmRldGVybWluZWRcIlxuICAgIH0pKTtcbiAgfVxuICBjb25zdCBfYnVmZmVyID0gW107XG4gIGZ1bmN0aW9uIGNvbnN1bWUoKSB7XG4gICAgY29uc3QgYnVmID0gX2J1ZmZlci5zbGljZSgpO1xuICAgIF9idWZmZXIubGVuZ3RoID0gMDtcbiAgICByZXR1cm4gYnVmO1xuICB9XG4gIGZ1bmN0aW9uIHN1Ym1pdCgpIHtcbiAgICBjb25zdCBwZW5kaW5nID0gY29uc3VtZSgpO1xuICAgIGlmIChwZW5kaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEVNUFRZO1xuICAgIH1cbiAgICByZXR1cm4gY29tYmluZUxhdGVzdChbb2YocGVuZGluZyksIHJlc29sdmVDb25zZW50KCldKS5waXBlKG1lcmdlTWFwKF9yZWYgPT4ge1xuICAgICAgbGV0IFtldmVudHMsIGNvbnNlbnRdID0gX3JlZjtcbiAgICAgIGlmIChldmVudHMubGVuZ3RoID09PSAwIHx8IGNvbnNlbnQuc3RhdHVzICE9PSBcImdyYW50ZWRcIikge1xuICAgICAgICByZXR1cm4gRU1QVFk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnJvbShvcHRpb25zLnNlbmRFdmVudHMoZXZlbnRzKSkucGlwZShjYXRjaEVycm9yKGVyciA9PiB7XG4gICAgICAgIF9idWZmZXIudW5zaGlmdCguLi5ldmVudHMpO1xuICAgICAgICByZXR1cm4gRU1QVFk7XG4gICAgICB9KSk7XG4gICAgfSkpO1xuICB9XG4gIGNvbnN0IGZsdXNoSW50ZXJ2YWwgPSAoX2EgPSBvcHRpb25zLmZsdXNoSW50ZXJ2YWwpICE9IG51bGwgPyBfYSA6IDNlNDtcbiAgY29uc3QgZmx1c2gkID0gc3RvcmUuZXZlbnRzJC5waXBlKHRhcChldiA9PiBfYnVmZmVyLnB1c2goZXYpKSwgbWFwKCgpID0+IHt9KSxcbiAgLy8gdm9pZCB0byBhdm9pZCBhY2NpZGVudGFsIHVzZSBvZiBldmVudHMgZnVydGhlciBkb3duIHRoZSBwaXBlXG4gIHRocm90dGxlKCgpID0+IHVucmVmVGltZXIoZmx1c2hJbnRlcnZhbCksIHtcbiAgICBsZWFkaW5nOiBmYWxzZSxcbiAgICB0cmFpbGluZzogdHJ1ZVxuICB9KSwgY29uY2F0TWFwKCgpID0+IHN1Ym1pdCgpKSk7XG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKHN1Ym1pdCgpLCB7XG4gICAgICBkZWZhdWx0VmFsdWU6IHZvaWQgMFxuICAgIH0pLnRoZW4oKCkgPT4ge30pO1xuICB9XG4gIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGZsdXNoJC5zdWJzY3JpYmUoKTtcbiAgZnVuY3Rpb24gZW5kV2l0aEJlYWNvbigpIHtcbiAgICBpZiAoIW9wdGlvbnMuc2VuZEJlYWNvbikge1xuICAgICAgZW5kKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgZXZlbnRzID0gY29uc3VtZSgpO1xuICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIHJldHVybiBldmVudHMubGVuZ3RoID4gMCA/IG9wdGlvbnMuc2VuZEJlYWNvbihldmVudHMpIDogdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBlbmQoKSB7XG4gICAgcmV0dXJuIGZsdXNoKCkudGhlbigoKSA9PiB7fSxcbiAgICAvLyB2b2lkIHByb21pc2VcbiAgICAoKSA9PiB7fVxuICAgIC8vIGlnbm9yZSBlcnJvcnNcbiAgICApLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBlbmQsXG4gICAgZW5kV2l0aEJlYWNvbixcbiAgICAvLyBOb3RlOiBmbHVzaCBtYXkgZmFpbFxuICAgIGZsdXNoLFxuICAgIGxvZ2dlcjogc3RvcmUubG9nZ2VyXG4gIH07XG59XG5mdW5jdGlvbiBkZWZpbmVFdmVudChvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJsb2dcIixcbiAgICBuYW1lOiBvcHRpb25zLm5hbWUsXG4gICAgdmVyc2lvbjogb3B0aW9ucy52ZXJzaW9uLFxuICAgIGRlc2NyaXB0aW9uOiBvcHRpb25zLmRlc2NyaXB0aW9uLFxuICAgIHNjaGVtYTogdm9pZCAwXG4gIH07XG59XG5mdW5jdGlvbiBkZWZpbmVUcmFjZShvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJ0cmFjZVwiLFxuICAgIG5hbWU6IG9wdGlvbnMubmFtZSxcbiAgICB2ZXJzaW9uOiBvcHRpb25zLnZlcnNpb24sXG4gICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24sXG4gICAgc2NoZW1hOiB2b2lkIDAsXG4gICAgY29udGV4dDogdm9pZCAwXG4gIH07XG59XG5leHBvcnQgeyBjcmVhdGVCYXRjaGVkU3RvcmUsIGNyZWF0ZVNlc3Npb25JZCwgZGVmaW5lRXZlbnQsIGRlZmluZVRyYWNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/telemetry/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/telemetry/dist/react/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@sanity/telemetry/dist/react/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TelemetryProvider: () => (/* binding */ TelemetryProvider),\n/* harmony export */   useTelemetry: () => (/* binding */ useTelemetry),\n/* harmony export */   useTelemetryStoreLifeCycleEvents: () => (/* binding */ useTelemetryStoreLifeCycleEvents)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var _chunks_noopLogger_b5b1676e_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_chunks/noopLogger-b5b1676e.js */ \"(ssr)/./node_modules/@sanity/telemetry/dist/_chunks/noopLogger-b5b1676e.js\");\n\n\n\nfunction useTelemetryStoreLifeCycleEvents(store) {\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => (0,_chunks_noopLogger_b5b1676e_js__WEBPACK_IMPORTED_MODULE_2__.onVisibilityHidden)(store.flush), [store.flush]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => (0,_chunks_noopLogger_b5b1676e_js__WEBPACK_IMPORTED_MODULE_2__.onPageHide)(store.endWithBeacon), [store.endWithBeacon]);\n}\nconst TelemetryLoggerContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(_chunks_noopLogger_b5b1676e_js__WEBPACK_IMPORTED_MODULE_2__.noopLogger);\nfunction TelemetryProvider(_ref) {\n  let {\n    children,\n    store\n  } = _ref;\n  useTelemetryStoreLifeCycleEvents(store);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TelemetryLoggerContext.Provider, {\n    value: store.logger,\n    children\n  });\n}\nfunction useTelemetry() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TelemetryLoggerContext);\n}\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS90ZWxlbWV0cnkvZGlzdC9yZWFjdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNkQ7QUFDckI7QUFDdUQ7QUFDL0Y7QUFDQSxFQUFFLGdEQUFTLE9BQU8sa0ZBQWtCO0FBQ3BDLEVBQUUsZ0RBQVMsT0FBTywwRUFBVTtBQUM1QjtBQUNBLCtCQUErQixvREFBYSxDQUFDLHNFQUFVO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0Esd0JBQXdCLHNEQUFHO0FBQzNCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLFNBQVMsaURBQVU7QUFDbkI7QUFDNkU7QUFDN0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvdGVsZW1ldHJ5L2Rpc3QvcmVhY3QvaW5kZXguanM/ZmYwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBvblZpc2liaWxpdHlIaWRkZW4sIG9uUGFnZUhpZGUsIG5vb3BMb2dnZXIgfSBmcm9tICcuLi9fY2h1bmtzL25vb3BMb2dnZXItYjViMTY3NmUuanMnO1xuZnVuY3Rpb24gdXNlVGVsZW1ldHJ5U3RvcmVMaWZlQ3ljbGVFdmVudHMoc3RvcmUpIHtcbiAgdXNlRWZmZWN0KCgpID0+IG9uVmlzaWJpbGl0eUhpZGRlbihzdG9yZS5mbHVzaCksIFtzdG9yZS5mbHVzaF0pO1xuICB1c2VFZmZlY3QoKCkgPT4gb25QYWdlSGlkZShzdG9yZS5lbmRXaXRoQmVhY29uKSwgW3N0b3JlLmVuZFdpdGhCZWFjb25dKTtcbn1cbmNvbnN0IFRlbGVtZXRyeUxvZ2dlckNvbnRleHQgPSBjcmVhdGVDb250ZXh0KG5vb3BMb2dnZXIpO1xuZnVuY3Rpb24gVGVsZW1ldHJ5UHJvdmlkZXIoX3JlZikge1xuICBsZXQge1xuICAgIGNoaWxkcmVuLFxuICAgIHN0b3JlXG4gIH0gPSBfcmVmO1xuICB1c2VUZWxlbWV0cnlTdG9yZUxpZmVDeWNsZUV2ZW50cyhzdG9yZSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goVGVsZW1ldHJ5TG9nZ2VyQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBzdG9yZS5sb2dnZXIsXG4gICAgY2hpbGRyZW5cbiAgfSk7XG59XG5mdW5jdGlvbiB1c2VUZWxlbWV0cnkoKSB7XG4gIHJldHVybiB1c2VDb250ZXh0KFRlbGVtZXRyeUxvZ2dlckNvbnRleHQpO1xufVxuZXhwb3J0IHsgVGVsZW1ldHJ5UHJvdmlkZXIsIHVzZVRlbGVtZXRyeSwgdXNlVGVsZW1ldHJ5U3RvcmVMaWZlQ3ljbGVFdmVudHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/telemetry/dist/react/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/types/lib/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/types/lib/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defineArrayMember: () => (/* binding */ defineArrayMember),\n/* harmony export */   defineField: () => (/* binding */ defineField),\n/* harmony export */   defineType: () => (/* binding */ defineType),\n/* harmony export */   isArrayOfBlocksSchemaType: () => (/* binding */ isArrayOfBlocksSchemaType),\n/* harmony export */   isArrayOfObjectsSchemaType: () => (/* binding */ isArrayOfObjectsSchemaType),\n/* harmony export */   isArrayOfPrimitivesSchemaType: () => (/* binding */ isArrayOfPrimitivesSchemaType),\n/* harmony export */   isArraySchemaType: () => (/* binding */ isArraySchemaType),\n/* harmony export */   isBlockChildrenObjectField: () => (/* binding */ isBlockChildrenObjectField),\n/* harmony export */   isBlockListObjectField: () => (/* binding */ isBlockListObjectField),\n/* harmony export */   isBlockSchemaType: () => (/* binding */ isBlockSchemaType),\n/* harmony export */   isBlockStyleObjectField: () => (/* binding */ isBlockStyleObjectField),\n/* harmony export */   isBooleanSchemaType: () => (/* binding */ isBooleanSchemaType),\n/* harmony export */   isCreateIfNotExistsMutation: () => (/* binding */ isCreateIfNotExistsMutation),\n/* harmony export */   isCreateMutation: () => (/* binding */ isCreateMutation),\n/* harmony export */   isCreateOrReplaceMutation: () => (/* binding */ isCreateOrReplaceMutation),\n/* harmony export */   isCreateSquashedMutation: () => (/* binding */ isCreateSquashedMutation),\n/* harmony export */   isCrossDatasetReference: () => (/* binding */ isCrossDatasetReference),\n/* harmony export */   isCrossDatasetReferenceSchemaType: () => (/* binding */ isCrossDatasetReferenceSchemaType),\n/* harmony export */   isDeleteMutation: () => (/* binding */ isDeleteMutation),\n/* harmony export */   isDeprecatedSchemaType: () => (/* binding */ isDeprecatedSchemaType),\n/* harmony export */   isDeprecationConfiguration: () => (/* binding */ isDeprecationConfiguration),\n/* harmony export */   isDocumentSchemaType: () => (/* binding */ isDocumentSchemaType),\n/* harmony export */   isImage: () => (/* binding */ isImage),\n/* harmony export */   isIndexSegment: () => (/* binding */ isIndexSegment),\n/* harmony export */   isIndexTuple: () => (/* binding */ isIndexTuple),\n/* harmony export */   isKeySegment: () => (/* binding */ isKeySegment),\n/* harmony export */   isKeyedObject: () => (/* binding */ isKeyedObject),\n/* harmony export */   isNumberSchemaType: () => (/* binding */ isNumberSchemaType),\n/* harmony export */   isObjectSchemaType: () => (/* binding */ isObjectSchemaType),\n/* harmony export */   isPatchMutation: () => (/* binding */ isPatchMutation),\n/* harmony export */   isPortableTextListBlock: () => (/* binding */ isPortableTextListBlock),\n/* harmony export */   isPortableTextSpan: () => (/* binding */ isPortableTextSpan),\n/* harmony export */   isPortableTextTextBlock: () => (/* binding */ isPortableTextTextBlock),\n/* harmony export */   isPrimitiveSchemaType: () => (/* binding */ isPrimitiveSchemaType),\n/* harmony export */   isReference: () => (/* binding */ isReference),\n/* harmony export */   isReferenceSchemaType: () => (/* binding */ isReferenceSchemaType),\n/* harmony export */   isSanityDocument: () => (/* binding */ isSanityDocument),\n/* harmony export */   isSlug: () => (/* binding */ isSlug),\n/* harmony export */   isSpanSchemaType: () => (/* binding */ isSpanSchemaType),\n/* harmony export */   isStringSchemaType: () => (/* binding */ isStringSchemaType),\n/* harmony export */   isTitledListValue: () => (/* binding */ isTitledListValue),\n/* harmony export */   isTypedObject: () => (/* binding */ isTypedObject),\n/* harmony export */   isValidationError: () => (/* binding */ isValidationError),\n/* harmony export */   isValidationErrorMarker: () => (/* binding */ isValidationErrorMarker),\n/* harmony export */   isValidationInfo: () => (/* binding */ isValidationInfo),\n/* harmony export */   isValidationInfoMarker: () => (/* binding */ isValidationInfoMarker),\n/* harmony export */   isValidationWarning: () => (/* binding */ isValidationWarning),\n/* harmony export */   isValidationWarningMarker: () => (/* binding */ isValidationWarningMarker),\n/* harmony export */   typed: () => (/* binding */ typed)\n/* harmony export */ });\nfunction isObject(obj) {\n  return typeof obj == \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction isReference(reference) {\n  return isObject(reference) && typeof reference._ref == \"string\";\n}\nfunction isImage(value) {\n  return isObject(value) && isReference(value.asset) && value.asset._ref.startsWith(\"image-\");\n}\nfunction isCrossDatasetReference(reference) {\n  return isObject(reference) && typeof reference._ref == \"string\" && typeof reference._dataset == \"string\" && typeof reference._projectId == \"string\";\n}\nfunction isSanityDocument(document) {\n  return isObject(document) && typeof document._id == \"string\" && typeof document._type == \"string\";\n}\nfunction isTypedObject(obj) {\n  return isObject(obj) && typeof obj._type == \"string\";\n}\nfunction isKeyedObject(obj) {\n  return isObject(obj) && typeof obj._key == \"string\";\n}\nfunction isValidationErrorMarker(marker) {\n  return marker.level === \"error\";\n}\nfunction isValidationWarningMarker(marker) {\n  return marker.level === \"warning\";\n}\nfunction isValidationInfoMarker(marker) {\n  return marker.level === \"info\";\n}\nfunction isCreateMutation(mutation) {\n  return \"create\" in mutation;\n}\nfunction isCreateIfNotExistsMutation(mutation) {\n  return \"createIfNotExists\" in mutation;\n}\nfunction isCreateOrReplaceMutation(mutation) {\n  return \"createOrReplace\" in mutation;\n}\nfunction isDeleteMutation(mutation) {\n  return \"delete\" in mutation;\n}\nfunction isPatchMutation(mutation) {\n  return \"patch\" in mutation;\n}\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/, reIndexTuple = /^\\d*:\\d*$/;\nfunction isIndexSegment(segment) {\n  return typeof segment == \"number\" || typeof segment == \"string\" && /^\\[\\d+\\]$/.test(segment);\n}\nfunction isKeySegment(segment) {\n  return typeof segment == \"string\" ? reKeySegment.test(segment.trim()) : typeof segment == \"object\" && \"_key\" in segment;\n}\nfunction isIndexTuple(segment) {\n  if (typeof segment == \"string\" && reIndexTuple.test(segment))\n    return !0;\n  if (!Array.isArray(segment) || segment.length !== 2)\n    return !1;\n  const [from, to] = segment;\n  return (typeof from == \"number\" || from === \"\") && (typeof to == \"number\" || to === \"\");\n}\nfunction isRecord$1(value) {\n  return !!value && (typeof value == \"object\" || typeof value == \"function\");\n}\nfunction isPortableTextTextBlock(value) {\n  return isRecord$1(value) && typeof value._type == \"string\" && // block types can be named, so expect anything here.\n  Array.isArray(value.children) && value.children.every((child) => isRecord$1(child)) && (\"markDefs\" in value ? Array.isArray(value.markDefs) && value.markDefs.every((def) => isRecord$1(def)) : !0) && (\"style\" in value ? typeof value.style == \"string\" : !0);\n}\nfunction isPortableTextSpan(value) {\n  return isRecord$1(value) && value._type === \"span\" && typeof value.text == \"string\" && (\"marks\" in value ? Array.isArray(value.marks) && value.marks.every((mark) => typeof mark == \"string\") : !0);\n}\nfunction isPortableTextListBlock(value) {\n  return isPortableTextTextBlock(value) && \"listItem\" in value && typeof value.listItem == \"string\" && \"level\" in value && Number.isInteger(value.level);\n}\nfunction isRecord(value) {\n  return !!value && (typeof value == \"object\" || typeof value == \"function\");\n}\nfunction isDocumentSchemaType(type) {\n  if (!isObjectSchemaType(type))\n    return !1;\n  let current = type;\n  for (; current; ) {\n    if (current.name === \"document\")\n      return !0;\n    current = current.type;\n  }\n  return !1;\n}\nfunction isObjectSchemaType(type) {\n  return isRecord(type) ? type.jsonType === \"object\" : !1;\n}\nfunction isArraySchemaType(type) {\n  return isRecord(type) ? type.jsonType === \"array\" : !1;\n}\nfunction isArrayOfBlocksSchemaType(type) {\n  return isArraySchemaType(type) && type.of.some((memberType) => isBlockSchemaType(memberType));\n}\nfunction isArrayOfObjectsSchemaType(type) {\n  return isArraySchemaType(type) && type.of.every((memberType) => isObjectSchemaType(memberType));\n}\nfunction isArrayOfPrimitivesSchemaType(type) {\n  return isArraySchemaType(type) && type.of.every((memberType) => isPrimitiveSchemaType(memberType));\n}\nfunction isBooleanSchemaType(type) {\n  return isRecord(type) ? type.jsonType === \"boolean\" : !1;\n}\nfunction isStringSchemaType(type) {\n  return isRecord(type) ? type.jsonType === \"string\" : !1;\n}\nfunction isNumberSchemaType(type) {\n  return isRecord(type) ? type.jsonType === \"number\" : !1;\n}\nfunction isPrimitiveSchemaType(type) {\n  return isBooleanSchemaType(type) || isStringSchemaType(type) || isNumberSchemaType(type);\n}\nfunction isReferenceSchemaType(type) {\n  return isRecord(type) && (type.name === \"reference\" || isReferenceSchemaType(type.type));\n}\nfunction isDeprecatedSchemaType(type) {\n  return isRecord(type) ? typeof type.deprecated < \"u\" : !1;\n}\nfunction isDeprecationConfiguration(type) {\n  return isRecord(type) ? typeof type.deprecated < \"u\" : !1;\n}\nfunction isCrossDatasetReferenceSchemaType(type) {\n  return isRecord(type) && (type.name === \"crossDatasetReference\" || isCrossDatasetReferenceSchemaType(type.type));\n}\nfunction isTitledListValue(item) {\n  return typeof item == \"object\" && item !== null && \"title\" in item && \"value\" in item;\n}\nfunction isSpanSchemaType(type) {\n  return isRecord(type) ? Array.isArray(type.annotations) && Array.isArray(type.decorators) : !1;\n}\nfunction isBlockSchemaType(type) {\n  if (!isRecord(type) || !Array.isArray(type.fields)) return !1;\n  const maybeSpanChildren = type.fields.find(isBlockChildrenObjectField), maybeStyle = type.fields.find(isBlockStyleObjectField), maybeList = type.fields.find(isBlockListObjectField);\n  return isBlockChildrenObjectField(maybeSpanChildren) && isBlockStyleObjectField(maybeStyle) && isBlockListObjectField(maybeList);\n}\nfunction isBlockStyleObjectField(field) {\n  return !isRecord(field) || field.name !== \"style\" ? !1 : isRecord(field.type) && field.type.jsonType === \"string\";\n}\nfunction isBlockListObjectField(field) {\n  return !isRecord(field) || field.name !== \"listItem\" ? !1 : isRecord(field.type) && field.type.jsonType === \"string\";\n}\nfunction isBlockChildrenObjectField(field) {\n  return !isRecord(field) || field.name !== \"children\" || !isArraySchemaType(field.type) ? !1 : field.type.of.some(isSpanSchemaType);\n}\nfunction defineType(schemaDefinition, defineOptions) {\n  return schemaDefinition;\n}\nfunction defineField(schemaField, defineOptions) {\n  return schemaField;\n}\nfunction defineArrayMember(arrayOfSchema, defineOptions) {\n  return arrayOfSchema;\n}\nfunction typed(input) {\n  return input;\n}\nfunction isSlug(thing) {\n  return isObject(thing) && typeof thing.current == \"string\";\n}\nfunction isCreateSquashedMutation(mutation) {\n  return \"createSquashed\" in mutation;\n}\nfunction isValidationError(node) {\n  return node.level === \"error\";\n}\nfunction isValidationWarning(node) {\n  return node.level === \"warning\";\n}\nfunction isValidationInfo(node) {\n  return node.level === \"info\";\n}\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS90eXBlcy9saWIvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxTQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtREU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS90eXBlcy9saWIvaW5kZXgubWpzPzMzNzMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG9iaik7XG59XG5mdW5jdGlvbiBpc1JlZmVyZW5jZShyZWZlcmVuY2UpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlZmVyZW5jZSkgJiYgdHlwZW9mIHJlZmVyZW5jZS5fcmVmID09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc0ltYWdlKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWx1ZSkgJiYgaXNSZWZlcmVuY2UodmFsdWUuYXNzZXQpICYmIHZhbHVlLmFzc2V0Ll9yZWYuc3RhcnRzV2l0aChcImltYWdlLVwiKTtcbn1cbmZ1bmN0aW9uIGlzQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlKHJlZmVyZW5jZSkge1xuICByZXR1cm4gaXNPYmplY3QocmVmZXJlbmNlKSAmJiB0eXBlb2YgcmVmZXJlbmNlLl9yZWYgPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgcmVmZXJlbmNlLl9kYXRhc2V0ID09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHJlZmVyZW5jZS5fcHJvamVjdElkID09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc1Nhbml0eURvY3VtZW50KGRvY3VtZW50KSB7XG4gIHJldHVybiBpc09iamVjdChkb2N1bWVudCkgJiYgdHlwZW9mIGRvY3VtZW50Ll9pZCA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBkb2N1bWVudC5fdHlwZSA9PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNUeXBlZE9iamVjdChvYmopIHtcbiAgcmV0dXJuIGlzT2JqZWN0KG9iaikgJiYgdHlwZW9mIG9iai5fdHlwZSA9PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNLZXllZE9iamVjdChvYmopIHtcbiAgcmV0dXJuIGlzT2JqZWN0KG9iaikgJiYgdHlwZW9mIG9iai5fa2V5ID09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc1ZhbGlkYXRpb25FcnJvck1hcmtlcihtYXJrZXIpIHtcbiAgcmV0dXJuIG1hcmtlci5sZXZlbCA9PT0gXCJlcnJvclwiO1xufVxuZnVuY3Rpb24gaXNWYWxpZGF0aW9uV2FybmluZ01hcmtlcihtYXJrZXIpIHtcbiAgcmV0dXJuIG1hcmtlci5sZXZlbCA9PT0gXCJ3YXJuaW5nXCI7XG59XG5mdW5jdGlvbiBpc1ZhbGlkYXRpb25JbmZvTWFya2VyKG1hcmtlcikge1xuICByZXR1cm4gbWFya2VyLmxldmVsID09PSBcImluZm9cIjtcbn1cbmZ1bmN0aW9uIGlzQ3JlYXRlTXV0YXRpb24obXV0YXRpb24pIHtcbiAgcmV0dXJuIFwiY3JlYXRlXCIgaW4gbXV0YXRpb247XG59XG5mdW5jdGlvbiBpc0NyZWF0ZUlmTm90RXhpc3RzTXV0YXRpb24obXV0YXRpb24pIHtcbiAgcmV0dXJuIFwiY3JlYXRlSWZOb3RFeGlzdHNcIiBpbiBtdXRhdGlvbjtcbn1cbmZ1bmN0aW9uIGlzQ3JlYXRlT3JSZXBsYWNlTXV0YXRpb24obXV0YXRpb24pIHtcbiAgcmV0dXJuIFwiY3JlYXRlT3JSZXBsYWNlXCIgaW4gbXV0YXRpb247XG59XG5mdW5jdGlvbiBpc0RlbGV0ZU11dGF0aW9uKG11dGF0aW9uKSB7XG4gIHJldHVybiBcImRlbGV0ZVwiIGluIG11dGF0aW9uO1xufVxuZnVuY3Rpb24gaXNQYXRjaE11dGF0aW9uKG11dGF0aW9uKSB7XG4gIHJldHVybiBcInBhdGNoXCIgaW4gbXV0YXRpb247XG59XG5jb25zdCByZUtleVNlZ21lbnQgPSAvX2tleVxccyo9PVxccypbJ1wiXSguKilbJ1wiXS8sIHJlSW5kZXhUdXBsZSA9IC9eXFxkKjpcXGQqJC87XG5mdW5jdGlvbiBpc0luZGV4U2VnbWVudChzZWdtZW50KSB7XG4gIHJldHVybiB0eXBlb2Ygc2VnbWVudCA9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgJiYgL15cXFtcXGQrXFxdJC8udGVzdChzZWdtZW50KTtcbn1cbmZ1bmN0aW9uIGlzS2V5U2VnbWVudChzZWdtZW50KSB7XG4gIHJldHVybiB0eXBlb2Ygc2VnbWVudCA9PSBcInN0cmluZ1wiID8gcmVLZXlTZWdtZW50LnRlc3Qoc2VnbWVudC50cmltKCkpIDogdHlwZW9mIHNlZ21lbnQgPT0gXCJvYmplY3RcIiAmJiBcIl9rZXlcIiBpbiBzZWdtZW50O1xufVxuZnVuY3Rpb24gaXNJbmRleFR1cGxlKHNlZ21lbnQpIHtcbiAgaWYgKHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgJiYgcmVJbmRleFR1cGxlLnRlc3Qoc2VnbWVudCkpXG4gICAgcmV0dXJuICEwO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoc2VnbWVudCkgfHwgc2VnbWVudC5sZW5ndGggIT09IDIpXG4gICAgcmV0dXJuICExO1xuICBjb25zdCBbZnJvbSwgdG9dID0gc2VnbWVudDtcbiAgcmV0dXJuICh0eXBlb2YgZnJvbSA9PSBcIm51bWJlclwiIHx8IGZyb20gPT09IFwiXCIpICYmICh0eXBlb2YgdG8gPT0gXCJudW1iZXJcIiB8fCB0byA9PT0gXCJcIik7XG59XG5mdW5jdGlvbiBpc1JlY29yZCQxKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgdmFsdWUgPT0gXCJmdW5jdGlvblwiKTtcbn1cbmZ1bmN0aW9uIGlzUG9ydGFibGVUZXh0VGV4dEJsb2NrKHZhbHVlKSB7XG4gIHJldHVybiBpc1JlY29yZCQxKHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUuX3R5cGUgPT0gXCJzdHJpbmdcIiAmJiAvLyBibG9jayB0eXBlcyBjYW4gYmUgbmFtZWQsIHNvIGV4cGVjdCBhbnl0aGluZyBoZXJlLlxuICBBcnJheS5pc0FycmF5KHZhbHVlLmNoaWxkcmVuKSAmJiB2YWx1ZS5jaGlsZHJlbi5ldmVyeSgoY2hpbGQpID0+IGlzUmVjb3JkJDEoY2hpbGQpKSAmJiAoXCJtYXJrRGVmc1wiIGluIHZhbHVlID8gQXJyYXkuaXNBcnJheSh2YWx1ZS5tYXJrRGVmcykgJiYgdmFsdWUubWFya0RlZnMuZXZlcnkoKGRlZikgPT4gaXNSZWNvcmQkMShkZWYpKSA6ICEwKSAmJiAoXCJzdHlsZVwiIGluIHZhbHVlID8gdHlwZW9mIHZhbHVlLnN0eWxlID09IFwic3RyaW5nXCIgOiAhMCk7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dFNwYW4odmFsdWUpIHtcbiAgcmV0dXJuIGlzUmVjb3JkJDEodmFsdWUpICYmIHZhbHVlLl90eXBlID09PSBcInNwYW5cIiAmJiB0eXBlb2YgdmFsdWUudGV4dCA9PSBcInN0cmluZ1wiICYmIChcIm1hcmtzXCIgaW4gdmFsdWUgPyBBcnJheS5pc0FycmF5KHZhbHVlLm1hcmtzKSAmJiB2YWx1ZS5tYXJrcy5ldmVyeSgobWFyaykgPT4gdHlwZW9mIG1hcmsgPT0gXCJzdHJpbmdcIikgOiAhMCk7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dExpc3RCbG9jayh2YWx1ZSkge1xuICByZXR1cm4gaXNQb3J0YWJsZVRleHRUZXh0QmxvY2sodmFsdWUpICYmIFwibGlzdEl0ZW1cIiBpbiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubGlzdEl0ZW0gPT0gXCJzdHJpbmdcIiAmJiBcImxldmVsXCIgaW4gdmFsdWUgJiYgTnVtYmVyLmlzSW50ZWdlcih2YWx1ZS5sZXZlbCk7XG59XG5mdW5jdGlvbiBpc1JlY29yZCh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgfHwgdHlwZW9mIHZhbHVlID09IFwiZnVuY3Rpb25cIik7XG59XG5mdW5jdGlvbiBpc0RvY3VtZW50U2NoZW1hVHlwZSh0eXBlKSB7XG4gIGlmICghaXNPYmplY3RTY2hlbWFUeXBlKHR5cGUpKVxuICAgIHJldHVybiAhMTtcbiAgbGV0IGN1cnJlbnQgPSB0eXBlO1xuICBmb3IgKDsgY3VycmVudDsgKSB7XG4gICAgaWYgKGN1cnJlbnQubmFtZSA9PT0gXCJkb2N1bWVudFwiKVxuICAgICAgcmV0dXJuICEwO1xuICAgIGN1cnJlbnQgPSBjdXJyZW50LnR5cGU7XG4gIH1cbiAgcmV0dXJuICExO1xufVxuZnVuY3Rpb24gaXNPYmplY3RTY2hlbWFUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIGlzUmVjb3JkKHR5cGUpID8gdHlwZS5qc29uVHlwZSA9PT0gXCJvYmplY3RcIiA6ICExO1xufVxuZnVuY3Rpb24gaXNBcnJheVNjaGVtYVR5cGUodHlwZSkge1xuICByZXR1cm4gaXNSZWNvcmQodHlwZSkgPyB0eXBlLmpzb25UeXBlID09PSBcImFycmF5XCIgOiAhMTtcbn1cbmZ1bmN0aW9uIGlzQXJyYXlPZkJsb2Nrc1NjaGVtYVR5cGUodHlwZSkge1xuICByZXR1cm4gaXNBcnJheVNjaGVtYVR5cGUodHlwZSkgJiYgdHlwZS5vZi5zb21lKChtZW1iZXJUeXBlKSA9PiBpc0Jsb2NrU2NoZW1hVHlwZShtZW1iZXJUeXBlKSk7XG59XG5mdW5jdGlvbiBpc0FycmF5T2ZPYmplY3RzU2NoZW1hVHlwZSh0eXBlKSB7XG4gIHJldHVybiBpc0FycmF5U2NoZW1hVHlwZSh0eXBlKSAmJiB0eXBlLm9mLmV2ZXJ5KChtZW1iZXJUeXBlKSA9PiBpc09iamVjdFNjaGVtYVR5cGUobWVtYmVyVHlwZSkpO1xufVxuZnVuY3Rpb24gaXNBcnJheU9mUHJpbWl0aXZlc1NjaGVtYVR5cGUodHlwZSkge1xuICByZXR1cm4gaXNBcnJheVNjaGVtYVR5cGUodHlwZSkgJiYgdHlwZS5vZi5ldmVyeSgobWVtYmVyVHlwZSkgPT4gaXNQcmltaXRpdmVTY2hlbWFUeXBlKG1lbWJlclR5cGUpKTtcbn1cbmZ1bmN0aW9uIGlzQm9vbGVhblNjaGVtYVR5cGUodHlwZSkge1xuICByZXR1cm4gaXNSZWNvcmQodHlwZSkgPyB0eXBlLmpzb25UeXBlID09PSBcImJvb2xlYW5cIiA6ICExO1xufVxuZnVuY3Rpb24gaXNTdHJpbmdTY2hlbWFUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIGlzUmVjb3JkKHR5cGUpID8gdHlwZS5qc29uVHlwZSA9PT0gXCJzdHJpbmdcIiA6ICExO1xufVxuZnVuY3Rpb24gaXNOdW1iZXJTY2hlbWFUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIGlzUmVjb3JkKHR5cGUpID8gdHlwZS5qc29uVHlwZSA9PT0gXCJudW1iZXJcIiA6ICExO1xufVxuZnVuY3Rpb24gaXNQcmltaXRpdmVTY2hlbWFUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIGlzQm9vbGVhblNjaGVtYVR5cGUodHlwZSkgfHwgaXNTdHJpbmdTY2hlbWFUeXBlKHR5cGUpIHx8IGlzTnVtYmVyU2NoZW1hVHlwZSh0eXBlKTtcbn1cbmZ1bmN0aW9uIGlzUmVmZXJlbmNlU2NoZW1hVHlwZSh0eXBlKSB7XG4gIHJldHVybiBpc1JlY29yZCh0eXBlKSAmJiAodHlwZS5uYW1lID09PSBcInJlZmVyZW5jZVwiIHx8IGlzUmVmZXJlbmNlU2NoZW1hVHlwZSh0eXBlLnR5cGUpKTtcbn1cbmZ1bmN0aW9uIGlzRGVwcmVjYXRlZFNjaGVtYVR5cGUodHlwZSkge1xuICByZXR1cm4gaXNSZWNvcmQodHlwZSkgPyB0eXBlb2YgdHlwZS5kZXByZWNhdGVkIDwgXCJ1XCIgOiAhMTtcbn1cbmZ1bmN0aW9uIGlzRGVwcmVjYXRpb25Db25maWd1cmF0aW9uKHR5cGUpIHtcbiAgcmV0dXJuIGlzUmVjb3JkKHR5cGUpID8gdHlwZW9mIHR5cGUuZGVwcmVjYXRlZCA8IFwidVwiIDogITE7XG59XG5mdW5jdGlvbiBpc0Nyb3NzRGF0YXNldFJlZmVyZW5jZVNjaGVtYVR5cGUodHlwZSkge1xuICByZXR1cm4gaXNSZWNvcmQodHlwZSkgJiYgKHR5cGUubmFtZSA9PT0gXCJjcm9zc0RhdGFzZXRSZWZlcmVuY2VcIiB8fCBpc0Nyb3NzRGF0YXNldFJlZmVyZW5jZVNjaGVtYVR5cGUodHlwZS50eXBlKSk7XG59XG5mdW5jdGlvbiBpc1RpdGxlZExpc3RWYWx1ZShpdGVtKSB7XG4gIHJldHVybiB0eXBlb2YgaXRlbSA9PSBcIm9iamVjdFwiICYmIGl0ZW0gIT09IG51bGwgJiYgXCJ0aXRsZVwiIGluIGl0ZW0gJiYgXCJ2YWx1ZVwiIGluIGl0ZW07XG59XG5mdW5jdGlvbiBpc1NwYW5TY2hlbWFUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIGlzUmVjb3JkKHR5cGUpID8gQXJyYXkuaXNBcnJheSh0eXBlLmFubm90YXRpb25zKSAmJiBBcnJheS5pc0FycmF5KHR5cGUuZGVjb3JhdG9ycykgOiAhMTtcbn1cbmZ1bmN0aW9uIGlzQmxvY2tTY2hlbWFUeXBlKHR5cGUpIHtcbiAgaWYgKCFpc1JlY29yZCh0eXBlKSB8fCAhQXJyYXkuaXNBcnJheSh0eXBlLmZpZWxkcykpIHJldHVybiAhMTtcbiAgY29uc3QgbWF5YmVTcGFuQ2hpbGRyZW4gPSB0eXBlLmZpZWxkcy5maW5kKGlzQmxvY2tDaGlsZHJlbk9iamVjdEZpZWxkKSwgbWF5YmVTdHlsZSA9IHR5cGUuZmllbGRzLmZpbmQoaXNCbG9ja1N0eWxlT2JqZWN0RmllbGQpLCBtYXliZUxpc3QgPSB0eXBlLmZpZWxkcy5maW5kKGlzQmxvY2tMaXN0T2JqZWN0RmllbGQpO1xuICByZXR1cm4gaXNCbG9ja0NoaWxkcmVuT2JqZWN0RmllbGQobWF5YmVTcGFuQ2hpbGRyZW4pICYmIGlzQmxvY2tTdHlsZU9iamVjdEZpZWxkKG1heWJlU3R5bGUpICYmIGlzQmxvY2tMaXN0T2JqZWN0RmllbGQobWF5YmVMaXN0KTtcbn1cbmZ1bmN0aW9uIGlzQmxvY2tTdHlsZU9iamVjdEZpZWxkKGZpZWxkKSB7XG4gIHJldHVybiAhaXNSZWNvcmQoZmllbGQpIHx8IGZpZWxkLm5hbWUgIT09IFwic3R5bGVcIiA/ICExIDogaXNSZWNvcmQoZmllbGQudHlwZSkgJiYgZmllbGQudHlwZS5qc29uVHlwZSA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzQmxvY2tMaXN0T2JqZWN0RmllbGQoZmllbGQpIHtcbiAgcmV0dXJuICFpc1JlY29yZChmaWVsZCkgfHwgZmllbGQubmFtZSAhPT0gXCJsaXN0SXRlbVwiID8gITEgOiBpc1JlY29yZChmaWVsZC50eXBlKSAmJiBmaWVsZC50eXBlLmpzb25UeXBlID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNCbG9ja0NoaWxkcmVuT2JqZWN0RmllbGQoZmllbGQpIHtcbiAgcmV0dXJuICFpc1JlY29yZChmaWVsZCkgfHwgZmllbGQubmFtZSAhPT0gXCJjaGlsZHJlblwiIHx8ICFpc0FycmF5U2NoZW1hVHlwZShmaWVsZC50eXBlKSA/ICExIDogZmllbGQudHlwZS5vZi5zb21lKGlzU3BhblNjaGVtYVR5cGUpO1xufVxuZnVuY3Rpb24gZGVmaW5lVHlwZShzY2hlbWFEZWZpbml0aW9uLCBkZWZpbmVPcHRpb25zKSB7XG4gIHJldHVybiBzY2hlbWFEZWZpbml0aW9uO1xufVxuZnVuY3Rpb24gZGVmaW5lRmllbGQoc2NoZW1hRmllbGQsIGRlZmluZU9wdGlvbnMpIHtcbiAgcmV0dXJuIHNjaGVtYUZpZWxkO1xufVxuZnVuY3Rpb24gZGVmaW5lQXJyYXlNZW1iZXIoYXJyYXlPZlNjaGVtYSwgZGVmaW5lT3B0aW9ucykge1xuICByZXR1cm4gYXJyYXlPZlNjaGVtYTtcbn1cbmZ1bmN0aW9uIHR5cGVkKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dDtcbn1cbmZ1bmN0aW9uIGlzU2x1Zyh0aGluZykge1xuICByZXR1cm4gaXNPYmplY3QodGhpbmcpICYmIHR5cGVvZiB0aGluZy5jdXJyZW50ID09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc0NyZWF0ZVNxdWFzaGVkTXV0YXRpb24obXV0YXRpb24pIHtcbiAgcmV0dXJuIFwiY3JlYXRlU3F1YXNoZWRcIiBpbiBtdXRhdGlvbjtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRhdGlvbkVycm9yKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUubGV2ZWwgPT09IFwiZXJyb3JcIjtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRhdGlvbldhcm5pbmcobm9kZSkge1xuICByZXR1cm4gbm9kZS5sZXZlbCA9PT0gXCJ3YXJuaW5nXCI7XG59XG5mdW5jdGlvbiBpc1ZhbGlkYXRpb25JbmZvKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUubGV2ZWwgPT09IFwiaW5mb1wiO1xufVxuZXhwb3J0IHtcbiAgZGVmaW5lQXJyYXlNZW1iZXIsXG4gIGRlZmluZUZpZWxkLFxuICBkZWZpbmVUeXBlLFxuICBpc0FycmF5T2ZCbG9ja3NTY2hlbWFUeXBlLFxuICBpc0FycmF5T2ZPYmplY3RzU2NoZW1hVHlwZSxcbiAgaXNBcnJheU9mUHJpbWl0aXZlc1NjaGVtYVR5cGUsXG4gIGlzQXJyYXlTY2hlbWFUeXBlLFxuICBpc0Jsb2NrQ2hpbGRyZW5PYmplY3RGaWVsZCxcbiAgaXNCbG9ja0xpc3RPYmplY3RGaWVsZCxcbiAgaXNCbG9ja1NjaGVtYVR5cGUsXG4gIGlzQmxvY2tTdHlsZU9iamVjdEZpZWxkLFxuICBpc0Jvb2xlYW5TY2hlbWFUeXBlLFxuICBpc0NyZWF0ZUlmTm90RXhpc3RzTXV0YXRpb24sXG4gIGlzQ3JlYXRlTXV0YXRpb24sXG4gIGlzQ3JlYXRlT3JSZXBsYWNlTXV0YXRpb24sXG4gIGlzQ3JlYXRlU3F1YXNoZWRNdXRhdGlvbixcbiAgaXNDcm9zc0RhdGFzZXRSZWZlcmVuY2UsXG4gIGlzQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlU2NoZW1hVHlwZSxcbiAgaXNEZWxldGVNdXRhdGlvbixcbiAgaXNEZXByZWNhdGVkU2NoZW1hVHlwZSxcbiAgaXNEZXByZWNhdGlvbkNvbmZpZ3VyYXRpb24sXG4gIGlzRG9jdW1lbnRTY2hlbWFUeXBlLFxuICBpc0ltYWdlLFxuICBpc0luZGV4U2VnbWVudCxcbiAgaXNJbmRleFR1cGxlLFxuICBpc0tleVNlZ21lbnQsXG4gIGlzS2V5ZWRPYmplY3QsXG4gIGlzTnVtYmVyU2NoZW1hVHlwZSxcbiAgaXNPYmplY3RTY2hlbWFUeXBlLFxuICBpc1BhdGNoTXV0YXRpb24sXG4gIGlzUG9ydGFibGVUZXh0TGlzdEJsb2NrLFxuICBpc1BvcnRhYmxlVGV4dFNwYW4sXG4gIGlzUG9ydGFibGVUZXh0VGV4dEJsb2NrLFxuICBpc1ByaW1pdGl2ZVNjaGVtYVR5cGUsXG4gIGlzUmVmZXJlbmNlLFxuICBpc1JlZmVyZW5jZVNjaGVtYVR5cGUsXG4gIGlzU2FuaXR5RG9jdW1lbnQsXG4gIGlzU2x1ZyxcbiAgaXNTcGFuU2NoZW1hVHlwZSxcbiAgaXNTdHJpbmdTY2hlbWFUeXBlLFxuICBpc1RpdGxlZExpc3RWYWx1ZSxcbiAgaXNUeXBlZE9iamVjdCxcbiAgaXNWYWxpZGF0aW9uRXJyb3IsXG4gIGlzVmFsaWRhdGlvbkVycm9yTWFya2VyLFxuICBpc1ZhbGlkYXRpb25JbmZvLFxuICBpc1ZhbGlkYXRpb25JbmZvTWFya2VyLFxuICBpc1ZhbGlkYXRpb25XYXJuaW5nLFxuICBpc1ZhbGlkYXRpb25XYXJuaW5nTWFya2VyLFxuICB0eXBlZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/types/lib/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/ui/dist/_chunks-es/getTheme_v2.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@sanity/ui/dist/_chunks-es/getTheme_v2.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultThemeConfig: () => (/* binding */ defaultThemeConfig),\n/* harmony export */   getTheme_v2: () => (/* binding */ getTheme_v2),\n/* harmony export */   themeColor_v0_v2: () => (/* binding */ themeColor_v0_v2)\n/* harmony export */ });\nconst defaultThemeConfig = {\n  _version: 2,\n  avatar: {\n    sizes: [\n      { distance: -4, size: 19 },\n      { distance: -4, size: 25 },\n      { distance: -8, size: 33 },\n      { distance: -12, size: 49 }\n    ],\n    focusRing: { offset: 1, width: 1 }\n  },\n  button: {\n    textWeight: \"medium\",\n    border: { width: 1 },\n    focusRing: { offset: -1, width: 1 }\n  },\n  card: {\n    border: { width: 1 },\n    focusRing: { offset: -1, width: 1 },\n    shadow: { outline: 0.5 }\n  },\n  container: [320, 640, 960, 1280, 1600, 1920],\n  media: [360, 600, 900, 1200, 1800, 2400],\n  layer: {\n    dialog: { zOffset: 600 },\n    popover: { zOffset: 400 },\n    tooltip: { zOffset: 200 }\n  },\n  radius: [0, 1, 3, 6, 9, 12, 21],\n  shadow: [\n    null,\n    { umbra: [0, 0, 0, 0], penumbra: [0, 0, 0, 0], ambient: [0, 0, 0, 0] },\n    { umbra: [0, 3, 5, -2], penumbra: [0, 6, 10, 0], ambient: [0, 1, 18, 1] },\n    { umbra: [0, 7, 8, -4], penumbra: [0, 12, 17, 2], ambient: [0, 5, 22, 4] },\n    { umbra: [0, 9, 11, -5], penumbra: [0, 18, 28, 2], ambient: [0, 7, 34, 6] },\n    { umbra: [0, 11, 15, -7], penumbra: [0, 24, 38, 3], ambient: [0, 9, 46, 8] }\n  ],\n  space: [0, 4, 8, 12, 20, 32, 52, 84, 136, 220],\n  input: {\n    border: {\n      width: 1\n    },\n    checkbox: {\n      size: 17,\n      focusRing: { offset: -1, width: 1 }\n    },\n    radio: {\n      size: 17,\n      markSize: 9,\n      focusRing: { offset: -1, width: 1 }\n    },\n    switch: {\n      width: 25,\n      height: 17,\n      padding: 5,\n      transitionDurationMs: 150,\n      transitionTimingFunction: \"ease-out\",\n      focusRing: { offset: 1, width: 1 }\n    },\n    select: {\n      focusRing: { offset: -1, width: 1 }\n    },\n    text: {\n      focusRing: { offset: -1, width: 1 }\n    }\n  },\n  style: {\n    button: {\n      root: {\n        transition: \"background-color 100ms,border-color 100ms,color 100ms\"\n      }\n    }\n    // card: {\n    //   root: {\n    //     transition: 'background-color 100ms,border-color 100ms,color 100ms',\n    //   },\n    // },\n  }\n}, cache$1 = /* @__PURE__ */ new WeakMap();\nfunction themeColor_v0_v2(color_v0) {\n  var _a, _b, _c;\n  const cached_v2 = cache$1.get(color_v0);\n  if (cached_v2) return cached_v2;\n  const base = stateThemeColor_v0_v2(color_v0, color_v0.card.enabled), color_v2 = {\n    _blend: color_v0._blend || (color_v0.dark ? \"screen\" : \"multiply\"),\n    _dark: color_v0.dark,\n    accent: base.accent,\n    avatar: base.avatar,\n    backdrop: color_v0.base.shadow.ambient,\n    badge: base.badge,\n    bg: color_v0.base.bg,\n    border: color_v0.base.border,\n    button: {\n      default: stateTonesThemeColor_v0_v2(color_v0, color_v0.button.default),\n      ghost: stateTonesThemeColor_v0_v2(color_v0, color_v0.button.ghost),\n      bleed: stateTonesThemeColor_v0_v2(color_v0, color_v0.button.bleed)\n    },\n    code: base.code,\n    fg: color_v0.base.fg,\n    focusRing: color_v0.base.focusRing,\n    icon: base.muted.fg,\n    input: {\n      default: inputStatesThemeColor_v0_v2(color_v0.input.default),\n      invalid: inputStatesThemeColor_v0_v2(color_v0.input.invalid)\n    },\n    kbd: base.kbd,\n    link: base.link,\n    muted: {\n      ...base.muted,\n      bg: ((_a = color_v0.selectable) == null ? void 0 : _a.default.enabled.bg2) || color_v0.base.bg\n    },\n    selectable: stateTonesThemeColor_v0_v2(color_v0, color_v0.selectable || color_v0.muted),\n    shadow: color_v0.base.shadow,\n    skeleton: {\n      from: ((_b = color_v0.skeleton) == null ? void 0 : _b.from) || color_v0.base.border,\n      to: ((_c = color_v0.skeleton) == null ? void 0 : _c.to) || color_v0.base.border\n    },\n    syntax: color_v0.syntax\n  };\n  return cache$1.set(color_v0, color_v2), color_v2;\n}\nfunction stateTonesThemeColor_v0_v2(v0, t) {\n  return {\n    default: {\n      enabled: stateThemeColor_v0_v2(v0, t.default.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.default.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.default.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.default.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.default.disabled)\n    },\n    primary: {\n      enabled: stateThemeColor_v0_v2(v0, t.primary.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.primary.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.primary.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.primary.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.primary.disabled)\n    },\n    positive: {\n      enabled: stateThemeColor_v0_v2(v0, t.positive.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.positive.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.positive.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.positive.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.positive.disabled)\n    },\n    caution: {\n      enabled: stateThemeColor_v0_v2(v0, t.caution.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.caution.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.caution.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.caution.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.caution.disabled)\n    },\n    critical: {\n      enabled: stateThemeColor_v0_v2(v0, t.critical.enabled),\n      hovered: stateThemeColor_v0_v2(v0, t.critical.hovered),\n      pressed: stateThemeColor_v0_v2(v0, t.critical.pressed),\n      selected: stateThemeColor_v0_v2(v0, t.critical.selected),\n      disabled: stateThemeColor_v0_v2(v0, t.critical.disabled)\n    }\n  };\n}\nfunction stateThemeColor_v0_v2(v0, state) {\n  var _a, _b;\n  return {\n    ...state,\n    avatar: {\n      gray: {\n        bg: v0.spot.gray,\n        fg: v0.base.bg\n      },\n      blue: {\n        bg: v0.spot.blue,\n        fg: v0.base.bg\n      },\n      purple: {\n        bg: v0.spot.purple,\n        fg: v0.base.bg\n      },\n      magenta: {\n        bg: v0.spot.magenta,\n        fg: v0.base.bg\n      },\n      red: {\n        bg: v0.spot.red,\n        fg: v0.base.bg\n      },\n      orange: {\n        bg: v0.spot.orange,\n        fg: v0.base.bg\n      },\n      yellow: {\n        bg: v0.spot.yellow,\n        fg: v0.base.bg\n      },\n      green: {\n        bg: v0.spot.green,\n        fg: v0.base.bg\n      },\n      cyan: {\n        bg: v0.spot.cyan,\n        fg: v0.base.bg\n      }\n    },\n    badge: {\n      default: {\n        bg: v0.muted.default.enabled.bg,\n        fg: v0.muted.default.enabled.fg,\n        dot: v0.muted.default.enabled.muted.fg,\n        icon: v0.muted.default.enabled.muted.fg\n      },\n      primary: {\n        bg: v0.muted.primary.enabled.bg,\n        fg: v0.muted.primary.enabled.fg,\n        dot: v0.muted.primary.enabled.muted.fg,\n        icon: v0.muted.primary.enabled.muted.fg\n      },\n      positive: {\n        bg: v0.muted.positive.enabled.bg,\n        fg: v0.muted.positive.enabled.fg,\n        dot: v0.muted.positive.enabled.muted.fg,\n        icon: v0.muted.positive.enabled.muted.fg\n      },\n      caution: {\n        bg: v0.muted.caution.enabled.bg,\n        fg: v0.muted.caution.enabled.fg,\n        dot: v0.muted.caution.enabled.muted.fg,\n        icon: v0.muted.caution.enabled.muted.fg\n      },\n      critical: {\n        bg: v0.muted.critical.enabled.bg,\n        fg: v0.muted.critical.enabled.fg,\n        dot: v0.muted.critical.enabled.muted.fg,\n        icon: v0.muted.critical.enabled.muted.fg\n      }\n    },\n    kbd: {\n      bg: v0.muted.default.enabled.bg,\n      fg: v0.muted.default.enabled.fg,\n      border: v0.muted.default.enabled.border\n    },\n    muted: {\n      ...v0.muted.default.enabled.muted,\n      bg: state.bg2 || state.bg\n    },\n    skeleton: {\n      from: ((_a = state.skeleton) == null ? void 0 : _a.from) || state.border,\n      to: ((_b = state.skeleton) == null ? void 0 : _b.to) || state.border\n    }\n  };\n}\nfunction inputStatesThemeColor_v0_v2(states) {\n  return {\n    enabled: inputStateThemeColor_v0_v2(states.enabled),\n    disabled: inputStateThemeColor_v0_v2(states.disabled),\n    readOnly: inputStateThemeColor_v0_v2(states.readOnly),\n    hovered: inputStateThemeColor_v0_v2(states.hovered)\n  };\n}\nfunction inputStateThemeColor_v0_v2(state) {\n  return {\n    bg: state.bg,\n    border: state.border,\n    fg: state.fg,\n    muted: {\n      bg: state.bg2\n    },\n    placeholder: state.placeholder\n  };\n}\nconst cache = /* @__PURE__ */ new WeakMap();\nfunction getTheme_v2(theme) {\n  var _a, _b;\n  if ((_a = theme.sanity.v2) != null && _a._resolved) return theme.sanity.v2;\n  const cached_v2 = cache.get(theme);\n  if (cached_v2) return cached_v2;\n  const v2 = {\n    _version: 2,\n    _resolved: !0,\n    avatar: {\n      ...defaultThemeConfig.avatar,\n      ...theme.sanity.avatar\n    },\n    button: {\n      ...defaultThemeConfig.button,\n      ...theme.sanity.button\n    },\n    card: defaultThemeConfig.card,\n    color: themeColor_v0_v2(theme.sanity.color),\n    container: theme.sanity.container,\n    font: theme.sanity.fonts,\n    input: {\n      ...defaultThemeConfig.input,\n      ...theme.sanity.input,\n      checkbox: {\n        ...defaultThemeConfig.input.checkbox,\n        ...theme.sanity.input.checkbox\n      },\n      radio: {\n        ...defaultThemeConfig.input.radio,\n        ...theme.sanity.input.radio\n      },\n      switch: {\n        ...defaultThemeConfig.input.switch,\n        ...theme.sanity.input.switch\n      }\n    },\n    layer: (_b = theme.sanity.layer) != null ? _b : defaultThemeConfig.layer,\n    media: theme.sanity.media,\n    radius: theme.sanity.radius,\n    shadow: theme.sanity.shadows,\n    space: theme.sanity.space,\n    style: theme.sanity.styles\n  };\n  return cache.set(theme, v2), v2;\n}\n\n//# sourceMappingURL=getTheme_v2.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS91aS9kaXN0L19jaHVua3MtZXMvZ2V0VGhlbWVfdjIubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3QkFBd0I7QUFDaEMsUUFBUSx3QkFBd0I7QUFDaEMsUUFBUSx3QkFBd0I7QUFDaEMsUUFBUTtBQUNSO0FBQ0EsaUJBQWlCO0FBQ2pCLEdBQUc7QUFDSDtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLGlCQUFpQjtBQUNqQixHQUFHO0FBQ0g7QUFDQSxjQUFjLFVBQVU7QUFDeEIsaUJBQWlCLHNCQUFzQjtBQUN2QyxjQUFjO0FBQ2QsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QixlQUFlLGNBQWM7QUFDN0IsZUFBZTtBQUNmLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLG9FQUFvRTtBQUMxRSxNQUFNLHVFQUF1RTtBQUM3RSxNQUFNLHdFQUF3RTtBQUM5RSxNQUFNLHlFQUF5RTtBQUMvRSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixLQUFLO0FBQ0w7QUFDQSxtQkFBbUI7QUFDbkIsS0FBSztBQUNMO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixRQUFRO0FBQ1I7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L3VpL2Rpc3QvX2NodW5rcy1lcy9nZXRUaGVtZV92Mi5tanM/ZmI0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkZWZhdWx0VGhlbWVDb25maWcgPSB7XG4gIF92ZXJzaW9uOiAyLFxuICBhdmF0YXI6IHtcbiAgICBzaXplczogW1xuICAgICAgeyBkaXN0YW5jZTogLTQsIHNpemU6IDE5IH0sXG4gICAgICB7IGRpc3RhbmNlOiAtNCwgc2l6ZTogMjUgfSxcbiAgICAgIHsgZGlzdGFuY2U6IC04LCBzaXplOiAzMyB9LFxuICAgICAgeyBkaXN0YW5jZTogLTEyLCBzaXplOiA0OSB9XG4gICAgXSxcbiAgICBmb2N1c1Jpbmc6IHsgb2Zmc2V0OiAxLCB3aWR0aDogMSB9XG4gIH0sXG4gIGJ1dHRvbjoge1xuICAgIHRleHRXZWlnaHQ6IFwibWVkaXVtXCIsXG4gICAgYm9yZGVyOiB7IHdpZHRoOiAxIH0sXG4gICAgZm9jdXNSaW5nOiB7IG9mZnNldDogLTEsIHdpZHRoOiAxIH1cbiAgfSxcbiAgY2FyZDoge1xuICAgIGJvcmRlcjogeyB3aWR0aDogMSB9LFxuICAgIGZvY3VzUmluZzogeyBvZmZzZXQ6IC0xLCB3aWR0aDogMSB9LFxuICAgIHNoYWRvdzogeyBvdXRsaW5lOiAwLjUgfVxuICB9LFxuICBjb250YWluZXI6IFszMjAsIDY0MCwgOTYwLCAxMjgwLCAxNjAwLCAxOTIwXSxcbiAgbWVkaWE6IFszNjAsIDYwMCwgOTAwLCAxMjAwLCAxODAwLCAyNDAwXSxcbiAgbGF5ZXI6IHtcbiAgICBkaWFsb2c6IHsgek9mZnNldDogNjAwIH0sXG4gICAgcG9wb3ZlcjogeyB6T2Zmc2V0OiA0MDAgfSxcbiAgICB0b29sdGlwOiB7IHpPZmZzZXQ6IDIwMCB9XG4gIH0sXG4gIHJhZGl1czogWzAsIDEsIDMsIDYsIDksIDEyLCAyMV0sXG4gIHNoYWRvdzogW1xuICAgIG51bGwsXG4gICAgeyB1bWJyYTogWzAsIDAsIDAsIDBdLCBwZW51bWJyYTogWzAsIDAsIDAsIDBdLCBhbWJpZW50OiBbMCwgMCwgMCwgMF0gfSxcbiAgICB7IHVtYnJhOiBbMCwgMywgNSwgLTJdLCBwZW51bWJyYTogWzAsIDYsIDEwLCAwXSwgYW1iaWVudDogWzAsIDEsIDE4LCAxXSB9LFxuICAgIHsgdW1icmE6IFswLCA3LCA4LCAtNF0sIHBlbnVtYnJhOiBbMCwgMTIsIDE3LCAyXSwgYW1iaWVudDogWzAsIDUsIDIyLCA0XSB9LFxuICAgIHsgdW1icmE6IFswLCA5LCAxMSwgLTVdLCBwZW51bWJyYTogWzAsIDE4LCAyOCwgMl0sIGFtYmllbnQ6IFswLCA3LCAzNCwgNl0gfSxcbiAgICB7IHVtYnJhOiBbMCwgMTEsIDE1LCAtN10sIHBlbnVtYnJhOiBbMCwgMjQsIDM4LCAzXSwgYW1iaWVudDogWzAsIDksIDQ2LCA4XSB9XG4gIF0sXG4gIHNwYWNlOiBbMCwgNCwgOCwgMTIsIDIwLCAzMiwgNTIsIDg0LCAxMzYsIDIyMF0sXG4gIGlucHV0OiB7XG4gICAgYm9yZGVyOiB7XG4gICAgICB3aWR0aDogMVxuICAgIH0sXG4gICAgY2hlY2tib3g6IHtcbiAgICAgIHNpemU6IDE3LFxuICAgICAgZm9jdXNSaW5nOiB7IG9mZnNldDogLTEsIHdpZHRoOiAxIH1cbiAgICB9LFxuICAgIHJhZGlvOiB7XG4gICAgICBzaXplOiAxNyxcbiAgICAgIG1hcmtTaXplOiA5LFxuICAgICAgZm9jdXNSaW5nOiB7IG9mZnNldDogLTEsIHdpZHRoOiAxIH1cbiAgICB9LFxuICAgIHN3aXRjaDoge1xuICAgICAgd2lkdGg6IDI1LFxuICAgICAgaGVpZ2h0OiAxNyxcbiAgICAgIHBhZGRpbmc6IDUsXG4gICAgICB0cmFuc2l0aW9uRHVyYXRpb25NczogMTUwLFxuICAgICAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBcImVhc2Utb3V0XCIsXG4gICAgICBmb2N1c1Jpbmc6IHsgb2Zmc2V0OiAxLCB3aWR0aDogMSB9XG4gICAgfSxcbiAgICBzZWxlY3Q6IHtcbiAgICAgIGZvY3VzUmluZzogeyBvZmZzZXQ6IC0xLCB3aWR0aDogMSB9XG4gICAgfSxcbiAgICB0ZXh0OiB7XG4gICAgICBmb2N1c1Jpbmc6IHsgb2Zmc2V0OiAtMSwgd2lkdGg6IDEgfVxuICAgIH1cbiAgfSxcbiAgc3R5bGU6IHtcbiAgICBidXR0b246IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgdHJhbnNpdGlvbjogXCJiYWNrZ3JvdW5kLWNvbG9yIDEwMG1zLGJvcmRlci1jb2xvciAxMDBtcyxjb2xvciAxMDBtc1wiXG4gICAgICB9XG4gICAgfVxuICAgIC8vIGNhcmQ6IHtcbiAgICAvLyAgIHJvb3Q6IHtcbiAgICAvLyAgICAgdHJhbnNpdGlvbjogJ2JhY2tncm91bmQtY29sb3IgMTAwbXMsYm9yZGVyLWNvbG9yIDEwMG1zLGNvbG9yIDEwMG1zJyxcbiAgICAvLyAgIH0sXG4gICAgLy8gfSxcbiAgfVxufSwgY2FjaGUkMSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gdGhlbWVDb2xvcl92MF92Mihjb2xvcl92MCkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3QgY2FjaGVkX3YyID0gY2FjaGUkMS5nZXQoY29sb3JfdjApO1xuICBpZiAoY2FjaGVkX3YyKSByZXR1cm4gY2FjaGVkX3YyO1xuICBjb25zdCBiYXNlID0gc3RhdGVUaGVtZUNvbG9yX3YwX3YyKGNvbG9yX3YwLCBjb2xvcl92MC5jYXJkLmVuYWJsZWQpLCBjb2xvcl92MiA9IHtcbiAgICBfYmxlbmQ6IGNvbG9yX3YwLl9ibGVuZCB8fCAoY29sb3JfdjAuZGFyayA/IFwic2NyZWVuXCIgOiBcIm11bHRpcGx5XCIpLFxuICAgIF9kYXJrOiBjb2xvcl92MC5kYXJrLFxuICAgIGFjY2VudDogYmFzZS5hY2NlbnQsXG4gICAgYXZhdGFyOiBiYXNlLmF2YXRhcixcbiAgICBiYWNrZHJvcDogY29sb3JfdjAuYmFzZS5zaGFkb3cuYW1iaWVudCxcbiAgICBiYWRnZTogYmFzZS5iYWRnZSxcbiAgICBiZzogY29sb3JfdjAuYmFzZS5iZyxcbiAgICBib3JkZXI6IGNvbG9yX3YwLmJhc2UuYm9yZGVyLFxuICAgIGJ1dHRvbjoge1xuICAgICAgZGVmYXVsdDogc3RhdGVUb25lc1RoZW1lQ29sb3JfdjBfdjIoY29sb3JfdjAsIGNvbG9yX3YwLmJ1dHRvbi5kZWZhdWx0KSxcbiAgICAgIGdob3N0OiBzdGF0ZVRvbmVzVGhlbWVDb2xvcl92MF92Mihjb2xvcl92MCwgY29sb3JfdjAuYnV0dG9uLmdob3N0KSxcbiAgICAgIGJsZWVkOiBzdGF0ZVRvbmVzVGhlbWVDb2xvcl92MF92Mihjb2xvcl92MCwgY29sb3JfdjAuYnV0dG9uLmJsZWVkKVxuICAgIH0sXG4gICAgY29kZTogYmFzZS5jb2RlLFxuICAgIGZnOiBjb2xvcl92MC5iYXNlLmZnLFxuICAgIGZvY3VzUmluZzogY29sb3JfdjAuYmFzZS5mb2N1c1JpbmcsXG4gICAgaWNvbjogYmFzZS5tdXRlZC5mZyxcbiAgICBpbnB1dDoge1xuICAgICAgZGVmYXVsdDogaW5wdXRTdGF0ZXNUaGVtZUNvbG9yX3YwX3YyKGNvbG9yX3YwLmlucHV0LmRlZmF1bHQpLFxuICAgICAgaW52YWxpZDogaW5wdXRTdGF0ZXNUaGVtZUNvbG9yX3YwX3YyKGNvbG9yX3YwLmlucHV0LmludmFsaWQpXG4gICAgfSxcbiAgICBrYmQ6IGJhc2Uua2JkLFxuICAgIGxpbms6IGJhc2UubGluayxcbiAgICBtdXRlZDoge1xuICAgICAgLi4uYmFzZS5tdXRlZCxcbiAgICAgIGJnOiAoKF9hID0gY29sb3JfdjAuc2VsZWN0YWJsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRlZmF1bHQuZW5hYmxlZC5iZzIpIHx8IGNvbG9yX3YwLmJhc2UuYmdcbiAgICB9LFxuICAgIHNlbGVjdGFibGU6IHN0YXRlVG9uZXNUaGVtZUNvbG9yX3YwX3YyKGNvbG9yX3YwLCBjb2xvcl92MC5zZWxlY3RhYmxlIHx8IGNvbG9yX3YwLm11dGVkKSxcbiAgICBzaGFkb3c6IGNvbG9yX3YwLmJhc2Uuc2hhZG93LFxuICAgIHNrZWxldG9uOiB7XG4gICAgICBmcm9tOiAoKF9iID0gY29sb3JfdjAuc2tlbGV0b24pID09IG51bGwgPyB2b2lkIDAgOiBfYi5mcm9tKSB8fCBjb2xvcl92MC5iYXNlLmJvcmRlcixcbiAgICAgIHRvOiAoKF9jID0gY29sb3JfdjAuc2tlbGV0b24pID09IG51bGwgPyB2b2lkIDAgOiBfYy50bykgfHwgY29sb3JfdjAuYmFzZS5ib3JkZXJcbiAgICB9LFxuICAgIHN5bnRheDogY29sb3JfdjAuc3ludGF4XG4gIH07XG4gIHJldHVybiBjYWNoZSQxLnNldChjb2xvcl92MCwgY29sb3JfdjIpLCBjb2xvcl92Mjtcbn1cbmZ1bmN0aW9uIHN0YXRlVG9uZXNUaGVtZUNvbG9yX3YwX3YyKHYwLCB0KSB7XG4gIHJldHVybiB7XG4gICAgZGVmYXVsdDoge1xuICAgICAgZW5hYmxlZDogc3RhdGVUaGVtZUNvbG9yX3YwX3YyKHYwLCB0LmRlZmF1bHQuZW5hYmxlZCksXG4gICAgICBob3ZlcmVkOiBzdGF0ZVRoZW1lQ29sb3JfdjBfdjIodjAsIHQuZGVmYXVsdC5ob3ZlcmVkKSxcbiAgICAgIHByZXNzZWQ6IHN0YXRlVGhlbWVDb2xvcl92MF92Mih2MCwgdC5kZWZhdWx0LnByZXNzZWQpLFxuICAgICAgc2VsZWN0ZWQ6IHN0YXRlVGhlbWVDb2xvcl92MF92Mih2MCwgdC5kZWZhdWx0LnNlbGVjdGVkKSxcbiAgICAgIGRpc2FibGVkOiBzdGF0ZVRoZW1lQ29sb3JfdjBfdjIodjAsIHQuZGVmYXVsdC5kaXNhYmxlZClcbiAgICB9LFxuICAgIHByaW1hcnk6IHtcbiAgICAgIGVuYWJsZWQ6IHN0YXRlVGhlbWVDb2xvcl92MF92Mih2MCwgdC5wcmltYXJ5LmVuYWJsZWQpLFxuICAgICAgaG92ZXJlZDogc3RhdGVUaGVtZUNvbG9yX3YwX3YyKHYwLCB0LnByaW1hcnkuaG92ZXJlZCksXG4gICAgICBwcmVzc2VkOiBzdGF0ZVRoZW1lQ29sb3JfdjBfdjIodjAsIHQucHJpbWFyeS5wcmVzc2VkKSxcbiAgICAgIHNlbGVjdGVkOiBzdGF0ZVRoZW1lQ29sb3JfdjBfdjIodjAsIHQucHJpbWFyeS5zZWxlY3RlZCksXG4gICAgICBkaXNhYmxlZDogc3RhdGVUaGVtZUNvbG9yX3YwX3YyKHYwLCB0LnByaW1hcnkuZGlzYWJsZWQpXG4gICAgfSxcbiAgICBwb3NpdGl2ZToge1xuICAgICAgZW5hYmxlZDogc3RhdGVUaGVtZUNvbG9yX3YwX3YyKHYwLCB0LnBvc2l0aXZlLmVuYWJsZWQpLFxuICAgICAgaG92ZXJlZDogc3RhdGVUaGVtZUNvbG9yX3YwX3YyKHYwLCB0LnBvc2l0aXZlLmhvdmVyZWQpLFxuICAgICAgcHJlc3NlZDogc3RhdGVUaGVtZUNvbG9yX3YwX3YyKHYwLCB0LnBvc2l0aXZlLnByZXNzZWQpLFxuICAgICAgc2VsZWN0ZWQ6IHN0YXRlVGhlbWVDb2xvcl92MF92Mih2MCwgdC5wb3NpdGl2ZS5zZWxlY3RlZCksXG4gICAgICBkaXNhYmxlZDogc3RhdGVUaGVtZUNvbG9yX3YwX3YyKHYwLCB0LnBvc2l0aXZlLmRpc2FibGVkKVxuICAgIH0sXG4gICAgY2F1dGlvbjoge1xuICAgICAgZW5hYmxlZDogc3RhdGVUaGVtZUNvbG9yX3YwX3YyKHYwLCB0LmNhdXRpb24uZW5hYmxlZCksXG4gICAgICBob3ZlcmVkOiBzdGF0ZVRoZW1lQ29sb3JfdjBfdjIodjAsIHQuY2F1dGlvbi5ob3ZlcmVkKSxcbiAgICAgIHByZXNzZWQ6IHN0YXRlVGhlbWVDb2xvcl92MF92Mih2MCwgdC5jYXV0aW9uLnByZXNzZWQpLFxuICAgICAgc2VsZWN0ZWQ6IHN0YXRlVGhlbWVDb2xvcl92MF92Mih2MCwgdC5jYXV0aW9uLnNlbGVjdGVkKSxcbiAgICAgIGRpc2FibGVkOiBzdGF0ZVRoZW1lQ29sb3JfdjBfdjIodjAsIHQuY2F1dGlvbi5kaXNhYmxlZClcbiAgICB9LFxuICAgIGNyaXRpY2FsOiB7XG4gICAgICBlbmFibGVkOiBzdGF0ZVRoZW1lQ29sb3JfdjBfdjIodjAsIHQuY3JpdGljYWwuZW5hYmxlZCksXG4gICAgICBob3ZlcmVkOiBzdGF0ZVRoZW1lQ29sb3JfdjBfdjIodjAsIHQuY3JpdGljYWwuaG92ZXJlZCksXG4gICAgICBwcmVzc2VkOiBzdGF0ZVRoZW1lQ29sb3JfdjBfdjIodjAsIHQuY3JpdGljYWwucHJlc3NlZCksXG4gICAgICBzZWxlY3RlZDogc3RhdGVUaGVtZUNvbG9yX3YwX3YyKHYwLCB0LmNyaXRpY2FsLnNlbGVjdGVkKSxcbiAgICAgIGRpc2FibGVkOiBzdGF0ZVRoZW1lQ29sb3JfdjBfdjIodjAsIHQuY3JpdGljYWwuZGlzYWJsZWQpXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gc3RhdGVUaGVtZUNvbG9yX3YwX3YyKHYwLCBzdGF0ZSkge1xuICB2YXIgX2EsIF9iO1xuICByZXR1cm4ge1xuICAgIC4uLnN0YXRlLFxuICAgIGF2YXRhcjoge1xuICAgICAgZ3JheToge1xuICAgICAgICBiZzogdjAuc3BvdC5ncmF5LFxuICAgICAgICBmZzogdjAuYmFzZS5iZ1xuICAgICAgfSxcbiAgICAgIGJsdWU6IHtcbiAgICAgICAgYmc6IHYwLnNwb3QuYmx1ZSxcbiAgICAgICAgZmc6IHYwLmJhc2UuYmdcbiAgICAgIH0sXG4gICAgICBwdXJwbGU6IHtcbiAgICAgICAgYmc6IHYwLnNwb3QucHVycGxlLFxuICAgICAgICBmZzogdjAuYmFzZS5iZ1xuICAgICAgfSxcbiAgICAgIG1hZ2VudGE6IHtcbiAgICAgICAgYmc6IHYwLnNwb3QubWFnZW50YSxcbiAgICAgICAgZmc6IHYwLmJhc2UuYmdcbiAgICAgIH0sXG4gICAgICByZWQ6IHtcbiAgICAgICAgYmc6IHYwLnNwb3QucmVkLFxuICAgICAgICBmZzogdjAuYmFzZS5iZ1xuICAgICAgfSxcbiAgICAgIG9yYW5nZToge1xuICAgICAgICBiZzogdjAuc3BvdC5vcmFuZ2UsXG4gICAgICAgIGZnOiB2MC5iYXNlLmJnXG4gICAgICB9LFxuICAgICAgeWVsbG93OiB7XG4gICAgICAgIGJnOiB2MC5zcG90LnllbGxvdyxcbiAgICAgICAgZmc6IHYwLmJhc2UuYmdcbiAgICAgIH0sXG4gICAgICBncmVlbjoge1xuICAgICAgICBiZzogdjAuc3BvdC5ncmVlbixcbiAgICAgICAgZmc6IHYwLmJhc2UuYmdcbiAgICAgIH0sXG4gICAgICBjeWFuOiB7XG4gICAgICAgIGJnOiB2MC5zcG90LmN5YW4sXG4gICAgICAgIGZnOiB2MC5iYXNlLmJnXG4gICAgICB9XG4gICAgfSxcbiAgICBiYWRnZToge1xuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBiZzogdjAubXV0ZWQuZGVmYXVsdC5lbmFibGVkLmJnLFxuICAgICAgICBmZzogdjAubXV0ZWQuZGVmYXVsdC5lbmFibGVkLmZnLFxuICAgICAgICBkb3Q6IHYwLm11dGVkLmRlZmF1bHQuZW5hYmxlZC5tdXRlZC5mZyxcbiAgICAgICAgaWNvbjogdjAubXV0ZWQuZGVmYXVsdC5lbmFibGVkLm11dGVkLmZnXG4gICAgICB9LFxuICAgICAgcHJpbWFyeToge1xuICAgICAgICBiZzogdjAubXV0ZWQucHJpbWFyeS5lbmFibGVkLmJnLFxuICAgICAgICBmZzogdjAubXV0ZWQucHJpbWFyeS5lbmFibGVkLmZnLFxuICAgICAgICBkb3Q6IHYwLm11dGVkLnByaW1hcnkuZW5hYmxlZC5tdXRlZC5mZyxcbiAgICAgICAgaWNvbjogdjAubXV0ZWQucHJpbWFyeS5lbmFibGVkLm11dGVkLmZnXG4gICAgICB9LFxuICAgICAgcG9zaXRpdmU6IHtcbiAgICAgICAgYmc6IHYwLm11dGVkLnBvc2l0aXZlLmVuYWJsZWQuYmcsXG4gICAgICAgIGZnOiB2MC5tdXRlZC5wb3NpdGl2ZS5lbmFibGVkLmZnLFxuICAgICAgICBkb3Q6IHYwLm11dGVkLnBvc2l0aXZlLmVuYWJsZWQubXV0ZWQuZmcsXG4gICAgICAgIGljb246IHYwLm11dGVkLnBvc2l0aXZlLmVuYWJsZWQubXV0ZWQuZmdcbiAgICAgIH0sXG4gICAgICBjYXV0aW9uOiB7XG4gICAgICAgIGJnOiB2MC5tdXRlZC5jYXV0aW9uLmVuYWJsZWQuYmcsXG4gICAgICAgIGZnOiB2MC5tdXRlZC5jYXV0aW9uLmVuYWJsZWQuZmcsXG4gICAgICAgIGRvdDogdjAubXV0ZWQuY2F1dGlvbi5lbmFibGVkLm11dGVkLmZnLFxuICAgICAgICBpY29uOiB2MC5tdXRlZC5jYXV0aW9uLmVuYWJsZWQubXV0ZWQuZmdcbiAgICAgIH0sXG4gICAgICBjcml0aWNhbDoge1xuICAgICAgICBiZzogdjAubXV0ZWQuY3JpdGljYWwuZW5hYmxlZC5iZyxcbiAgICAgICAgZmc6IHYwLm11dGVkLmNyaXRpY2FsLmVuYWJsZWQuZmcsXG4gICAgICAgIGRvdDogdjAubXV0ZWQuY3JpdGljYWwuZW5hYmxlZC5tdXRlZC5mZyxcbiAgICAgICAgaWNvbjogdjAubXV0ZWQuY3JpdGljYWwuZW5hYmxlZC5tdXRlZC5mZ1xuICAgICAgfVxuICAgIH0sXG4gICAga2JkOiB7XG4gICAgICBiZzogdjAubXV0ZWQuZGVmYXVsdC5lbmFibGVkLmJnLFxuICAgICAgZmc6IHYwLm11dGVkLmRlZmF1bHQuZW5hYmxlZC5mZyxcbiAgICAgIGJvcmRlcjogdjAubXV0ZWQuZGVmYXVsdC5lbmFibGVkLmJvcmRlclxuICAgIH0sXG4gICAgbXV0ZWQ6IHtcbiAgICAgIC4uLnYwLm11dGVkLmRlZmF1bHQuZW5hYmxlZC5tdXRlZCxcbiAgICAgIGJnOiBzdGF0ZS5iZzIgfHwgc3RhdGUuYmdcbiAgICB9LFxuICAgIHNrZWxldG9uOiB7XG4gICAgICBmcm9tOiAoKF9hID0gc3RhdGUuc2tlbGV0b24pID09IG51bGwgPyB2b2lkIDAgOiBfYS5mcm9tKSB8fCBzdGF0ZS5ib3JkZXIsXG4gICAgICB0bzogKChfYiA9IHN0YXRlLnNrZWxldG9uKSA9PSBudWxsID8gdm9pZCAwIDogX2IudG8pIHx8IHN0YXRlLmJvcmRlclxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGlucHV0U3RhdGVzVGhlbWVDb2xvcl92MF92MihzdGF0ZXMpIHtcbiAgcmV0dXJuIHtcbiAgICBlbmFibGVkOiBpbnB1dFN0YXRlVGhlbWVDb2xvcl92MF92MihzdGF0ZXMuZW5hYmxlZCksXG4gICAgZGlzYWJsZWQ6IGlucHV0U3RhdGVUaGVtZUNvbG9yX3YwX3YyKHN0YXRlcy5kaXNhYmxlZCksXG4gICAgcmVhZE9ubHk6IGlucHV0U3RhdGVUaGVtZUNvbG9yX3YwX3YyKHN0YXRlcy5yZWFkT25seSksXG4gICAgaG92ZXJlZDogaW5wdXRTdGF0ZVRoZW1lQ29sb3JfdjBfdjIoc3RhdGVzLmhvdmVyZWQpXG4gIH07XG59XG5mdW5jdGlvbiBpbnB1dFN0YXRlVGhlbWVDb2xvcl92MF92MihzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGJnOiBzdGF0ZS5iZyxcbiAgICBib3JkZXI6IHN0YXRlLmJvcmRlcixcbiAgICBmZzogc3RhdGUuZmcsXG4gICAgbXV0ZWQ6IHtcbiAgICAgIGJnOiBzdGF0ZS5iZzJcbiAgICB9LFxuICAgIHBsYWNlaG9sZGVyOiBzdGF0ZS5wbGFjZWhvbGRlclxuICB9O1xufVxuY29uc3QgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGdldFRoZW1lX3YyKHRoZW1lKSB7XG4gIHZhciBfYSwgX2I7XG4gIGlmICgoX2EgPSB0aGVtZS5zYW5pdHkudjIpICE9IG51bGwgJiYgX2EuX3Jlc29sdmVkKSByZXR1cm4gdGhlbWUuc2FuaXR5LnYyO1xuICBjb25zdCBjYWNoZWRfdjIgPSBjYWNoZS5nZXQodGhlbWUpO1xuICBpZiAoY2FjaGVkX3YyKSByZXR1cm4gY2FjaGVkX3YyO1xuICBjb25zdCB2MiA9IHtcbiAgICBfdmVyc2lvbjogMixcbiAgICBfcmVzb2x2ZWQ6ICEwLFxuICAgIGF2YXRhcjoge1xuICAgICAgLi4uZGVmYXVsdFRoZW1lQ29uZmlnLmF2YXRhcixcbiAgICAgIC4uLnRoZW1lLnNhbml0eS5hdmF0YXJcbiAgICB9LFxuICAgIGJ1dHRvbjoge1xuICAgICAgLi4uZGVmYXVsdFRoZW1lQ29uZmlnLmJ1dHRvbixcbiAgICAgIC4uLnRoZW1lLnNhbml0eS5idXR0b25cbiAgICB9LFxuICAgIGNhcmQ6IGRlZmF1bHRUaGVtZUNvbmZpZy5jYXJkLFxuICAgIGNvbG9yOiB0aGVtZUNvbG9yX3YwX3YyKHRoZW1lLnNhbml0eS5jb2xvciksXG4gICAgY29udGFpbmVyOiB0aGVtZS5zYW5pdHkuY29udGFpbmVyLFxuICAgIGZvbnQ6IHRoZW1lLnNhbml0eS5mb250cyxcbiAgICBpbnB1dDoge1xuICAgICAgLi4uZGVmYXVsdFRoZW1lQ29uZmlnLmlucHV0LFxuICAgICAgLi4udGhlbWUuc2FuaXR5LmlucHV0LFxuICAgICAgY2hlY2tib3g6IHtcbiAgICAgICAgLi4uZGVmYXVsdFRoZW1lQ29uZmlnLmlucHV0LmNoZWNrYm94LFxuICAgICAgICAuLi50aGVtZS5zYW5pdHkuaW5wdXQuY2hlY2tib3hcbiAgICAgIH0sXG4gICAgICByYWRpbzoge1xuICAgICAgICAuLi5kZWZhdWx0VGhlbWVDb25maWcuaW5wdXQucmFkaW8sXG4gICAgICAgIC4uLnRoZW1lLnNhbml0eS5pbnB1dC5yYWRpb1xuICAgICAgfSxcbiAgICAgIHN3aXRjaDoge1xuICAgICAgICAuLi5kZWZhdWx0VGhlbWVDb25maWcuaW5wdXQuc3dpdGNoLFxuICAgICAgICAuLi50aGVtZS5zYW5pdHkuaW5wdXQuc3dpdGNoXG4gICAgICB9XG4gICAgfSxcbiAgICBsYXllcjogKF9iID0gdGhlbWUuc2FuaXR5LmxheWVyKSAhPSBudWxsID8gX2IgOiBkZWZhdWx0VGhlbWVDb25maWcubGF5ZXIsXG4gICAgbWVkaWE6IHRoZW1lLnNhbml0eS5tZWRpYSxcbiAgICByYWRpdXM6IHRoZW1lLnNhbml0eS5yYWRpdXMsXG4gICAgc2hhZG93OiB0aGVtZS5zYW5pdHkuc2hhZG93cyxcbiAgICBzcGFjZTogdGhlbWUuc2FuaXR5LnNwYWNlLFxuICAgIHN0eWxlOiB0aGVtZS5zYW5pdHkuc3R5bGVzXG4gIH07XG4gIHJldHVybiBjYWNoZS5zZXQodGhlbWUsIHYyKSwgdjI7XG59XG5leHBvcnQge1xuICBkZWZhdWx0VGhlbWVDb25maWcsXG4gIGdldFRoZW1lX3YyLFxuICB0aGVtZUNvbG9yX3YwX3YyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0VGhlbWVfdjIubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/ui/dist/_chunks-es/getTheme_v2.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/ui/dist/index.mjs":
/*!************************************************!*\
  !*** ./node_modules/@sanity/ui/dist/index.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Arrow: () => (/* binding */ Arrow),\n/* harmony export */   Autocomplete: () => (/* binding */ Autocomplete),\n/* harmony export */   Avatar: () => (/* binding */ Avatar),\n/* harmony export */   AvatarCounter: () => (/* binding */ AvatarCounter),\n/* harmony export */   AvatarStack: () => (/* binding */ AvatarStack),\n/* harmony export */   Badge: () => (/* binding */ Badge),\n/* harmony export */   BoundaryElementProvider: () => (/* binding */ BoundaryElementProvider),\n/* harmony export */   Box: () => (/* binding */ Box),\n/* harmony export */   Breadcrumbs: () => (/* binding */ Breadcrumbs),\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   Card: () => (/* binding */ Card),\n/* harmony export */   Checkbox: () => (/* binding */ Checkbox),\n/* harmony export */   Code: () => (/* binding */ Code),\n/* harmony export */   CodeSkeleton: () => (/* binding */ CodeSkeleton),\n/* harmony export */   ConditionalWrapper: () => (/* binding */ ConditionalWrapper),\n/* harmony export */   Container: () => (/* binding */ Container),\n/* harmony export */   Dialog: () => (/* binding */ Dialog),\n/* harmony export */   DialogContext: () => (/* binding */ DialogContext),\n/* harmony export */   DialogProvider: () => (/* binding */ DialogProvider),\n/* harmony export */   ElementQuery: () => (/* binding */ ElementQuery),\n/* harmony export */   ErrorBoundary: () => (/* binding */ ErrorBoundary),\n/* harmony export */   Flex: () => (/* binding */ Flex),\n/* harmony export */   Grid: () => (/* binding */ Grid),\n/* harmony export */   Heading: () => (/* binding */ Heading),\n/* harmony export */   HeadingSkeleton: () => (/* binding */ HeadingSkeleton),\n/* harmony export */   Hotkeys: () => (/* binding */ Hotkeys),\n/* harmony export */   Inline: () => (/* binding */ Inline),\n/* harmony export */   KBD: () => (/* binding */ KBD),\n/* harmony export */   Label: () => (/* binding */ Label),\n/* harmony export */   LabelSkeleton: () => (/* binding */ LabelSkeleton),\n/* harmony export */   Layer: () => (/* binding */ Layer),\n/* harmony export */   LayerProvider: () => (/* binding */ LayerProvider),\n/* harmony export */   Menu: () => (/* binding */ Menu),\n/* harmony export */   MenuButton: () => (/* binding */ MenuButton),\n/* harmony export */   MenuDivider: () => (/* binding */ MenuDivider),\n/* harmony export */   MenuGroup: () => (/* binding */ MenuGroup),\n/* harmony export */   MenuItem: () => (/* binding */ MenuItem),\n/* harmony export */   Popover: () => (/* binding */ Popover),\n/* harmony export */   Portal: () => (/* binding */ Portal),\n/* harmony export */   PortalProvider: () => (/* binding */ PortalProvider),\n/* harmony export */   Radio: () => (/* binding */ Radio),\n/* harmony export */   Select: () => (/* binding */ Select),\n/* harmony export */   Skeleton: () => (/* binding */ Skeleton),\n/* harmony export */   Spinner: () => (/* binding */ Spinner),\n/* harmony export */   SrOnly: () => (/* binding */ SrOnly),\n/* harmony export */   Stack: () => (/* binding */ Stack),\n/* harmony export */   Switch: () => (/* binding */ Switch),\n/* harmony export */   Tab: () => (/* binding */ Tab),\n/* harmony export */   TabList: () => (/* binding */ TabList),\n/* harmony export */   TabPanel: () => (/* binding */ TabPanel),\n/* harmony export */   Text: () => (/* binding */ Text),\n/* harmony export */   TextArea: () => (/* binding */ TextArea),\n/* harmony export */   TextInput: () => (/* binding */ TextInput),\n/* harmony export */   TextSkeleton: () => (/* binding */ TextSkeleton),\n/* harmony export */   ThemeColorProvider: () => (/* binding */ ThemeColorProvider),\n/* harmony export */   ThemeProvider: () => (/* binding */ ThemeProvider),\n/* harmony export */   Toast: () => (/* binding */ Toast),\n/* harmony export */   ToastProvider: () => (/* binding */ ToastProvider),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   TooltipDelayGroupContext: () => (/* binding */ TooltipDelayGroupContext),\n/* harmony export */   TooltipDelayGroupProvider: () => (/* binding */ TooltipDelayGroupProvider),\n/* harmony export */   Tree: () => (/* binding */ Tree),\n/* harmony export */   TreeItem: () => (/* binding */ TreeItem),\n/* harmony export */   VirtualList: () => (/* binding */ VirtualList),\n/* harmony export */   _ResizeObserver: () => (/* binding */ _ResizeObserver),\n/* harmony export */   _elementSizeObserver: () => (/* binding */ _elementSizeObserver),\n/* harmony export */   _fillCSSObject: () => (/* binding */ _fillCSSObject),\n/* harmony export */   _getArrayProp: () => (/* binding */ _getArrayProp),\n/* harmony export */   _getResponsiveSpace: () => (/* binding */ _getResponsiveSpace),\n/* harmony export */   _hasFocus: () => (/* binding */ _hasFocus),\n/* harmony export */   _isEnterToClickElement: () => (/* binding */ _isEnterToClickElement),\n/* harmony export */   _isScrollable: () => (/* binding */ _isScrollable),\n/* harmony export */   _raf: () => (/* binding */ _raf),\n/* harmony export */   _raf2: () => (/* binding */ _raf2),\n/* harmony export */   _responsive: () => (/* binding */ _responsive),\n/* harmony export */   attemptFocus: () => (/* binding */ attemptFocus),\n/* harmony export */   containsOrEqualsElement: () => (/* binding */ containsOrEqualsElement),\n/* harmony export */   createColorTheme: () => (/* binding */ createColorTheme),\n/* harmony export */   focusFirstDescendant: () => (/* binding */ focusFirstDescendant),\n/* harmony export */   focusLastDescendant: () => (/* binding */ focusLastDescendant),\n/* harmony export */   hexToRgb: () => (/* binding */ hexToRgb),\n/* harmony export */   hslToRgb: () => (/* binding */ hslToRgb),\n/* harmony export */   isFocusable: () => (/* binding */ isFocusable),\n/* harmony export */   isHTMLAnchorElement: () => (/* binding */ isHTMLAnchorElement),\n/* harmony export */   isHTMLButtonElement: () => (/* binding */ isHTMLButtonElement),\n/* harmony export */   isHTMLElement: () => (/* binding */ isHTMLElement),\n/* harmony export */   isHTMLInputElement: () => (/* binding */ isHTMLInputElement),\n/* harmony export */   isHTMLSelectElement: () => (/* binding */ isHTMLSelectElement),\n/* harmony export */   isHTMLTextAreaElement: () => (/* binding */ isHTMLTextAreaElement),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   parseColor: () => (/* binding */ parseColor),\n/* harmony export */   rem: () => (/* binding */ rem),\n/* harmony export */   responsiveCodeFontStyle: () => (/* binding */ responsiveCodeFontStyle),\n/* harmony export */   responsiveHeadingFont: () => (/* binding */ responsiveHeadingFont),\n/* harmony export */   responsiveLabelFont: () => (/* binding */ responsiveLabelFont),\n/* harmony export */   responsiveTextAlignStyle: () => (/* binding */ responsiveTextAlignStyle),\n/* harmony export */   responsiveTextFont: () => (/* binding */ responsiveTextFont),\n/* harmony export */   rgbToHex: () => (/* binding */ rgbToHex),\n/* harmony export */   rgbToHsl: () => (/* binding */ rgbToHsl),\n/* harmony export */   rgba: () => (/* binding */ rgba),\n/* harmony export */   screen: () => (/* binding */ screen),\n/* harmony export */   studioTheme: () => (/* binding */ studioTheme),\n/* harmony export */   useArrayProp: () => (/* binding */ useArrayProp),\n/* harmony export */   useBoundaryElement: () => (/* binding */ useBoundaryElement),\n/* harmony export */   useClickOutside: () => (/* binding */ useClickOutside),\n/* harmony export */   useCustomValidity: () => (/* binding */ useCustomValidity),\n/* harmony export */   useDialog: () => (/* binding */ useDialog),\n/* harmony export */   useElementRect: () => (/* binding */ useElementRect),\n/* harmony export */   useElementSize: () => (/* binding */ useElementSize),\n/* harmony export */   useForwardedRef: () => (/* binding */ useForwardedRef),\n/* harmony export */   useGlobalKeyDown: () => (/* binding */ useGlobalKeyDown),\n/* harmony export */   useLayer: () => (/* binding */ useLayer),\n/* harmony export */   useMediaIndex: () => (/* binding */ useMediaIndex),\n/* harmony export */   usePortal: () => (/* binding */ usePortal),\n/* harmony export */   usePrefersDark: () => (/* binding */ usePrefersDark),\n/* harmony export */   usePrefersReducedMotion: () => (/* binding */ usePrefersReducedMotion),\n/* harmony export */   useRootTheme: () => (/* binding */ useRootTheme),\n/* harmony export */   useTheme: () => (/* binding */ useTheme),\n/* harmony export */   useTheme_v2: () => (/* binding */ useTheme_v2),\n/* harmony export */   useToast: () => (/* binding */ useToast),\n/* harmony export */   useTooltipDelayGroup: () => (/* binding */ useTooltipDelayGroup),\n/* harmony export */   useTree: () => (/* binding */ useTree)\n/* harmony export */ });\n/* harmony import */ var _sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sanity/ui/theme */ \"(ssr)/./node_modules/@sanity/ui/dist/theme.mjs\");\n/* harmony import */ var _sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./_chunks-es/getTheme_v2.mjs */ \"(ssr)/./node_modules/@sanity/ui/dist/_chunks-es/getTheme_v2.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_is__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-is */ \"(ssr)/./node_modules/react-is/index.js\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! styled-components */ \"(ssr)/./node_modules/styled-components/dist/styled-components.esm.js\");\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sanity/icons */ \"(ssr)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var react_refractor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-refractor */ \"(ssr)/./node_modules/react-refractor/lib/Refractor.js\");\n/* harmony import */ var _floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @floating-ui/react-dom */ \"(ssr)/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs\");\n/* harmony import */ var _floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @floating-ui/react-dom */ \"(ssr)/./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/dom/motion.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst createColorTheme = _sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__.createColorTheme, hexToRgb = _sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__.hexToRgb, hslToRgb = _sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__.hslToRgb, multiply = _sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__.multiply, parseColor = _sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__.parseColor, rgbToHex = _sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__.rgbToHex, rgbToHsl = _sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__.rgbToHsl, rgba = _sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__.rgba, screen = _sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__.screen, studioTheme = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__.buildTheme)(), EMPTY_ARRAY = [], EMPTY_RECORD = {}, POPOVER_MOTION_CONTENT_OPACITY_PROPERTY = \"--motion-content-opacity\", POPOVER_MOTION_PROPS = {\n  initial: {\n    opacity: 0.5,\n    [POPOVER_MOTION_CONTENT_OPACITY_PROPERTY]: 0,\n    scale: 0.97,\n    willChange: \"transform\"\n  },\n  animate: {\n    opacity: [null, 1, 1],\n    [POPOVER_MOTION_CONTENT_OPACITY_PROPERTY]: [null, null, 1],\n    scale: 1\n  },\n  exit: {\n    // @ts-expect-error -- passing null a second time is valid: https://github.com/framer/motion/blob/b9ce4c42914c3916ea523609c5b032dfc72718bb/packages/framer-motion/src/animation/utils/keyframes.ts#L34C22-L34C22\n    opacity: [null, null, 0],\n    [POPOVER_MOTION_CONTENT_OPACITY_PROPERTY]: [null, 0, 0],\n    scale: 0.97\n  },\n  transition: { duration: 0.4, type: \"spring\" }\n};\nfunction _fillCSSObject(keys, value) {\n  return keys.reduce((style, key2) => (style[key2] = value, style), {});\n}\nfunction rem(pixelValue) {\n  return pixelValue === 0 ? 0 : `${pixelValue / 16}rem`;\n}\nfunction _responsive(media, values, callback) {\n  return ((values == null ? void 0 : values.map(callback)) || []).map((statement, mediaIndex) => mediaIndex === 0 ? statement : { [`@media screen and (min-width: ${media[mediaIndex - 1]}px)`]: statement });\n}\nfunction _getArrayProp(val, defaultVal) {\n  return val === void 0 ? defaultVal || EMPTY_ARRAY : Array.isArray(val) ? val : [val];\n}\nfunction _getResponsiveSpace(theme, props, spaceIndexes = EMPTY_ARRAY) {\n  if (!Array.isArray(spaceIndexes))\n    throw new Error(\"the property must be array of numbers\");\n  if (spaceIndexes.length === 0)\n    return null;\n  const { media, space } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(theme);\n  return _responsive(\n    media,\n    spaceIndexes,\n    (spaceIndex) => _fillCSSObject(props, rem(space[spaceIndex]))\n  );\n}\nfunction responsiveFont(fontKey, props) {\n  const { $size, $weight } = props, { font, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), { family, sizes, weights } = font[fontKey], fontWeight = $weight && weights[$weight] || weights.regular, defaultSize = sizes[2], base = {\n    position: \"relative\",\n    fontFamily: family,\n    fontWeight,\n    padding: \"1px 0\",\n    margin: 0,\n    \"&:before\": {\n      content: '\"\"',\n      display: \"block\",\n      height: 0\n    },\n    \"&:after\": {\n      content: '\"\"',\n      display: \"block\",\n      height: 0\n    },\n    \"& > code, & > span\": {\n      display: \"block\"\n    },\n    \"&:not([hidden])\": {\n      display: \"block\"\n    }\n  };\n  if (!$size)\n    return responsiveFont.warned || (console.warn(\"No size specified for responsive font\", { fontKey, $size, props, base }), responsiveFont.warned = !0), [base];\n  const resp = _responsive(media, $size, (sizeIndex) => fontSize(sizes[sizeIndex] || defaultSize));\n  return [base, ...resp];\n}\nfunction fontSize(size2) {\n  const { ascenderHeight, descenderHeight, fontSize: fontSize2, iconSize, letterSpacing, lineHeight } = size2, negHeight = ascenderHeight + descenderHeight, capHeight = lineHeight - negHeight, iconOffset = (capHeight - iconSize) / 2, customIconSize = Math.floor(fontSize2 * 1.125 / 2) * 2 + 1, customIconOffset = (capHeight - customIconSize) / 2;\n  return {\n    fontSize: rem(fontSize2),\n    lineHeight: `calc(${lineHeight} / ${fontSize2})`,\n    letterSpacing: rem(letterSpacing),\n    transform: `translateY(${rem(descenderHeight)})`,\n    \"&:before\": {\n      marginTop: `calc(${rem(0 - negHeight)} - 1px)`\n    },\n    \"&:after\": {\n      marginBottom: \"-1px\"\n    },\n    \"& svg:not([data-sanity-icon])\": {\n      fontSize: `calc(${customIconSize} / 16 * 1rem)`,\n      margin: rem(customIconOffset)\n    },\n    \"& [data-sanity-icon]\": {\n      fontSize: `calc(${iconSize} / 16 * 1rem)`,\n      margin: rem(iconOffset)\n    }\n  };\n}\nfunction responsiveCodeFontStyle(props) {\n  return responsiveFont(\"code\", props);\n}\nfunction responsiveHeadingFont(props) {\n  return responsiveFont(\"heading\", props);\n}\nfunction responsiveLabelFont(props) {\n  return responsiveFont(\"label\", props);\n}\nfunction responsiveTextAlignStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$align, (textAlign) => ({ textAlign }));\n}\nfunction responsiveTextFont(props) {\n  return responsiveFont(\"text\", props);\n}\nfunction useArrayProp(val, defaultVal) {\n  const __perf_hash__ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => JSON.stringify(val != null ? val : defaultVal), [defaultVal, val]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => _getArrayProp(val, defaultVal),\n    // Improve performance: Keep object identify for a given hash of the value\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [__perf_hash__]\n  );\n}\nfunction _getElements(element, elementsArg) {\n  const ret = [element];\n  for (const el of elementsArg)\n    Array.isArray(el) ? ret.push(...el) : ret.push(el);\n  return ret.filter(Boolean);\n}\nfunction useClickOutside(listener, elementsArg = EMPTY_ARRAY, boundaryElement) {\n  const [element, setElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), [elements, setElements] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => _getElements(element, elementsArg)), elementsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(elements);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const prevElements = elementsRef.current, nextElements = _getElements(element, elementsArg);\n    if (prevElements.length !== nextElements.length) {\n      setElements(nextElements), elementsRef.current = nextElements;\n      return;\n    }\n    for (const el of prevElements)\n      if (!nextElements.includes(el)) {\n        setElements(nextElements), elementsRef.current = nextElements;\n        return;\n      }\n    for (const el of nextElements)\n      if (!prevElements.includes(el)) {\n        setElements(nextElements), elementsRef.current = nextElements;\n        return;\n      }\n  }, [element, elementsArg]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!listener) return;\n    const handleWindowMouseDown = (evt) => {\n      const target = evt.target;\n      if (target instanceof Node && !(boundaryElement && !boundaryElement.contains(target))) {\n        for (const el of elements)\n          if (target === el || el.contains(target))\n            return;\n        listener(evt);\n      }\n    };\n    return window.addEventListener(\"mousedown\", handleWindowMouseDown), () => {\n      window.removeEventListener(\"mousedown\", handleWindowMouseDown);\n    };\n  }, [boundaryElement, listener, elements]), setElement;\n}\nvar resizeObservers = [], hasActiveObservations = function() {\n  return resizeObservers.some(function(ro) {\n    return ro.activeTargets.length > 0;\n  });\n}, hasSkippedObservations = function() {\n  return resizeObservers.some(function(ro) {\n    return ro.skippedTargets.length > 0;\n  });\n}, msg = \"ResizeObserver loop completed with undelivered notifications.\", deliverResizeLoopError = function() {\n  var event;\n  typeof ErrorEvent == \"function\" ? event = new ErrorEvent(\"error\", {\n    message: msg\n  }) : (event = document.createEvent(\"Event\"), event.initEvent(\"error\", !1, !1), event.message = msg), window.dispatchEvent(event);\n}, ResizeObserverBoxOptions;\n(function(ResizeObserverBoxOptions2) {\n  ResizeObserverBoxOptions2.BORDER_BOX = \"border-box\", ResizeObserverBoxOptions2.CONTENT_BOX = \"content-box\", ResizeObserverBoxOptions2.DEVICE_PIXEL_CONTENT_BOX = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nvar freeze = function(obj) {\n  return Object.freeze(obj);\n}, ResizeObserverSize = /* @__PURE__ */ function() {\n  function ResizeObserverSize2(inlineSize, blockSize) {\n    this.inlineSize = inlineSize, this.blockSize = blockSize, freeze(this);\n  }\n  return ResizeObserverSize2;\n}(), DOMRectReadOnly = function() {\n  function DOMRectReadOnly2(x, y, width, height) {\n    return this.x = x, this.y = y, this.width = width, this.height = height, this.top = this.y, this.left = this.x, this.bottom = this.top + this.height, this.right = this.left + this.width, freeze(this);\n  }\n  return DOMRectReadOnly2.prototype.toJSON = function() {\n    var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n    return { x, y, top, right, bottom, left, width, height };\n  }, DOMRectReadOnly2.fromRect = function(rectangle) {\n    return new DOMRectReadOnly2(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n  }, DOMRectReadOnly2;\n}(), isSVG = function(target) {\n  return target instanceof SVGElement && \"getBBox\" in target;\n}, isHidden = function(target) {\n  if (isSVG(target)) {\n    var _a = target.getBBox(), width = _a.width, height = _a.height;\n    return !width && !height;\n  }\n  var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n  return !(offsetWidth || offsetHeight || target.getClientRects().length);\n}, isElement = function(obj) {\n  var _a;\n  if (obj instanceof Element)\n    return !0;\n  var scope = (_a = obj == null ? void 0 : obj.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView;\n  return !!(scope && obj instanceof scope.Element);\n}, isReplacedElement = function(target) {\n  switch (target.tagName) {\n    case \"INPUT\":\n      if (target.type !== \"image\")\n        break;\n    case \"VIDEO\":\n    case \"AUDIO\":\n    case \"EMBED\":\n    case \"OBJECT\":\n    case \"CANVAS\":\n    case \"IFRAME\":\n    case \"IMG\":\n      return !0;\n  }\n  return !1;\n}, global$1 = typeof window < \"u\" ? window : {}, cache = /* @__PURE__ */ new WeakMap(), scrollRegexp = /auto|scroll/, verticalRegexp = /^tb|vertical/, IE = /msie|trident/i.test(global$1.navigator && global$1.navigator.userAgent), parseDimension = function(pixel) {\n  return parseFloat(pixel || \"0\");\n}, size$1 = function(inlineSize, blockSize, switchSizes) {\n  return inlineSize === void 0 && (inlineSize = 0), blockSize === void 0 && (blockSize = 0), switchSizes === void 0 && (switchSizes = !1), new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n}, zeroBoxes = freeze({\n  devicePixelContentBoxSize: size$1(),\n  borderBoxSize: size$1(),\n  contentBoxSize: size$1(),\n  contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n}), calculateBoxSizes = function(target, forceRecalculation) {\n  if (forceRecalculation === void 0 && (forceRecalculation = !1), cache.has(target) && !forceRecalculation)\n    return cache.get(target);\n  if (isHidden(target))\n    return cache.set(target, zeroBoxes), zeroBoxes;\n  var cs = getComputedStyle(target), svg = isSVG(target) && target.ownerSVGElement && target.getBBox(), removePadding = !IE && cs.boxSizing === \"border-box\", switchSizes = verticalRegexp.test(cs.writingMode || \"\"), canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || \"\"), canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || \"\"), paddingTop = svg ? 0 : parseDimension(cs.paddingTop), paddingRight = svg ? 0 : parseDimension(cs.paddingRight), paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom), paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft), borderTop2 = svg ? 0 : parseDimension(cs.borderTopWidth), borderRight2 = svg ? 0 : parseDimension(cs.borderRightWidth), borderBottom2 = svg ? 0 : parseDimension(cs.borderBottomWidth), borderLeft2 = svg ? 0 : parseDimension(cs.borderLeftWidth), horizontalPadding = paddingLeft + paddingRight, verticalPadding = paddingTop + paddingBottom, horizontalBorderArea = borderLeft2 + borderRight2, verticalBorderArea = borderTop2 + borderBottom2, horizontalScrollbarThickness = canScrollHorizontally ? target.offsetHeight - verticalBorderArea - target.clientHeight : 0, verticalScrollbarThickness = canScrollVertically ? target.offsetWidth - horizontalBorderArea - target.clientWidth : 0, widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0, heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0, contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness, contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness, borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea, borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea, boxes = freeze({\n    devicePixelContentBoxSize: size$1(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n    borderBoxSize: size$1(borderBoxWidth, borderBoxHeight, switchSizes),\n    contentBoxSize: size$1(contentWidth, contentHeight, switchSizes),\n    contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n  });\n  return cache.set(target, boxes), boxes;\n}, calculateBoxSize = function(target, observedBox, forceRecalculation) {\n  var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n  switch (observedBox) {\n    case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n      return devicePixelContentBoxSize;\n    case ResizeObserverBoxOptions.BORDER_BOX:\n      return borderBoxSize;\n    default:\n      return contentBoxSize;\n  }\n}, ResizeObserverEntry = /* @__PURE__ */ function() {\n  function ResizeObserverEntry2(target) {\n    var boxes = calculateBoxSizes(target);\n    this.target = target, this.contentRect = boxes.contentRect, this.borderBoxSize = freeze([boxes.borderBoxSize]), this.contentBoxSize = freeze([boxes.contentBoxSize]), this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n  }\n  return ResizeObserverEntry2;\n}(), calculateDepthForNode = function(node) {\n  if (isHidden(node))\n    return 1 / 0;\n  for (var depth = 0, parent = node.parentNode; parent; )\n    depth += 1, parent = parent.parentNode;\n  return depth;\n}, broadcastActiveObservations = function() {\n  var shallowestDepth = 1 / 0, callbacks2 = [];\n  resizeObservers.forEach(function(ro) {\n    if (ro.activeTargets.length !== 0) {\n      var entries = [];\n      ro.activeTargets.forEach(function(ot) {\n        var entry = new ResizeObserverEntry(ot.target), targetDepth = calculateDepthForNode(ot.target);\n        entries.push(entry), ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox), targetDepth < shallowestDepth && (shallowestDepth = targetDepth);\n      }), callbacks2.push(function() {\n        ro.callback.call(ro.observer, entries, ro.observer);\n      }), ro.activeTargets.splice(0, ro.activeTargets.length);\n    }\n  });\n  for (var _i = 0, callbacks_1 = callbacks2; _i < callbacks_1.length; _i++) {\n    var callback = callbacks_1[_i];\n    callback();\n  }\n  return shallowestDepth;\n}, gatherActiveObservationsAtDepth = function(depth) {\n  resizeObservers.forEach(function(ro) {\n    ro.activeTargets.splice(0, ro.activeTargets.length), ro.skippedTargets.splice(0, ro.skippedTargets.length), ro.observationTargets.forEach(function(ot) {\n      ot.isActive() && (calculateDepthForNode(ot.target) > depth ? ro.activeTargets.push(ot) : ro.skippedTargets.push(ot));\n    });\n  });\n}, process = function() {\n  var depth = 0;\n  for (gatherActiveObservationsAtDepth(depth); hasActiveObservations(); )\n    depth = broadcastActiveObservations(), gatherActiveObservationsAtDepth(depth);\n  return hasSkippedObservations() && deliverResizeLoopError(), depth > 0;\n}, trigger, callbacks = [], notify = function() {\n  return callbacks.splice(0).forEach(function(cb) {\n    return cb();\n  });\n}, queueMicroTask = function(callback) {\n  if (!trigger) {\n    var toggle_1 = 0, el_1 = document.createTextNode(\"\"), config = { characterData: !0 };\n    new MutationObserver(function() {\n      return notify();\n    }).observe(el_1, config), trigger = function() {\n      el_1.textContent = \"\".concat(toggle_1 ? toggle_1-- : toggle_1++);\n    };\n  }\n  callbacks.push(callback), trigger();\n}, queueResizeObserver = function(cb) {\n  queueMicroTask(function() {\n    requestAnimationFrame(cb);\n  });\n}, watching = 0, isWatching = function() {\n  return !!watching;\n}, CATCH_PERIOD = 250, observerConfig = { attributes: !0, characterData: !0, childList: !0, subtree: !0 }, events = [\n  \"resize\",\n  \"load\",\n  \"transitionend\",\n  \"animationend\",\n  \"animationstart\",\n  \"animationiteration\",\n  \"keyup\",\n  \"keydown\",\n  \"mouseup\",\n  \"mousedown\",\n  \"mouseover\",\n  \"mouseout\",\n  \"blur\",\n  \"focus\"\n], time = function(timeout) {\n  return timeout === void 0 && (timeout = 0), Date.now() + timeout;\n}, scheduled = !1, Scheduler = function() {\n  function Scheduler2() {\n    var _this = this;\n    this.stopped = !0, this.listener = function() {\n      return _this.schedule();\n    };\n  }\n  return Scheduler2.prototype.run = function(timeout) {\n    var _this = this;\n    if (timeout === void 0 && (timeout = CATCH_PERIOD), !scheduled) {\n      scheduled = !0;\n      var until = time(timeout);\n      queueResizeObserver(function() {\n        var elementsHaveResized = !1;\n        try {\n          elementsHaveResized = process();\n        } finally {\n          if (scheduled = !1, timeout = until - time(), !isWatching())\n            return;\n          elementsHaveResized ? _this.run(1e3) : timeout > 0 ? _this.run(timeout) : _this.start();\n        }\n      });\n    }\n  }, Scheduler2.prototype.schedule = function() {\n    this.stop(), this.run();\n  }, Scheduler2.prototype.observe = function() {\n    var _this = this, cb = function() {\n      return _this.observer && _this.observer.observe(document.body, observerConfig);\n    };\n    document.body ? cb() : global$1.addEventListener(\"DOMContentLoaded\", cb);\n  }, Scheduler2.prototype.start = function() {\n    var _this = this;\n    this.stopped && (this.stopped = !1, this.observer = new MutationObserver(this.listener), this.observe(), events.forEach(function(name) {\n      return global$1.addEventListener(name, _this.listener, !0);\n    }));\n  }, Scheduler2.prototype.stop = function() {\n    var _this = this;\n    this.stopped || (this.observer && this.observer.disconnect(), events.forEach(function(name) {\n      return global$1.removeEventListener(name, _this.listener, !0);\n    }), this.stopped = !0);\n  }, Scheduler2;\n}(), scheduler = new Scheduler(), updateCount = function(n) {\n  !watching && n > 0 && scheduler.start(), watching += n, !watching && scheduler.stop();\n}, skipNotifyOnElement = function(target) {\n  return !isSVG(target) && !isReplacedElement(target) && getComputedStyle(target).display === \"inline\";\n}, ResizeObservation = function() {\n  function ResizeObservation2(target, observedBox) {\n    this.target = target, this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX, this.lastReportedSize = {\n      inlineSize: 0,\n      blockSize: 0\n    };\n  }\n  return ResizeObservation2.prototype.isActive = function() {\n    var size2 = calculateBoxSize(this.target, this.observedBox, !0);\n    return skipNotifyOnElement(this.target) && (this.lastReportedSize = size2), this.lastReportedSize.inlineSize !== size2.inlineSize || this.lastReportedSize.blockSize !== size2.blockSize;\n  }, ResizeObservation2;\n}(), ResizeObserverDetail = /* @__PURE__ */ function() {\n  function ResizeObserverDetail2(resizeObserver, callback) {\n    this.activeTargets = [], this.skippedTargets = [], this.observationTargets = [], this.observer = resizeObserver, this.callback = callback;\n  }\n  return ResizeObserverDetail2;\n}(), observerMap = /* @__PURE__ */ new WeakMap(), getObservationIndex = function(observationTargets, target) {\n  for (var i = 0; i < observationTargets.length; i += 1)\n    if (observationTargets[i].target === target)\n      return i;\n  return -1;\n}, ResizeObserverController = function() {\n  function ResizeObserverController2() {\n  }\n  return ResizeObserverController2.connect = function(resizeObserver, callback) {\n    var detail = new ResizeObserverDetail(resizeObserver, callback);\n    observerMap.set(resizeObserver, detail);\n  }, ResizeObserverController2.observe = function(resizeObserver, target, options) {\n    var detail = observerMap.get(resizeObserver), firstObservation = detail.observationTargets.length === 0;\n    getObservationIndex(detail.observationTargets, target) < 0 && (firstObservation && resizeObservers.push(detail), detail.observationTargets.push(new ResizeObservation(target, options && options.box)), updateCount(1), scheduler.schedule());\n  }, ResizeObserverController2.unobserve = function(resizeObserver, target) {\n    var detail = observerMap.get(resizeObserver), index = getObservationIndex(detail.observationTargets, target), lastObservation = detail.observationTargets.length === 1;\n    index >= 0 && (lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1), detail.observationTargets.splice(index, 1), updateCount(-1));\n  }, ResizeObserverController2.disconnect = function(resizeObserver) {\n    var _this = this, detail = observerMap.get(resizeObserver);\n    detail.observationTargets.slice().forEach(function(ot) {\n      return _this.unobserve(resizeObserver, ot.target);\n    }), detail.activeTargets.splice(0, detail.activeTargets.length);\n  }, ResizeObserverController2;\n}(), ResizeObserver = function() {\n  function ResizeObserver2(callback) {\n    if (arguments.length === 0)\n      throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n    if (typeof callback != \"function\")\n      throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n    ResizeObserverController.connect(this, callback);\n  }\n  return ResizeObserver2.prototype.observe = function(target, options) {\n    if (arguments.length === 0)\n      throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n    if (!isElement(target))\n      throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n    ResizeObserverController.observe(this, target, options);\n  }, ResizeObserver2.prototype.unobserve = function(target) {\n    if (arguments.length === 0)\n      throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n    if (!isElement(target))\n      throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n    ResizeObserverController.unobserve(this, target);\n  }, ResizeObserver2.prototype.disconnect = function() {\n    ResizeObserverController.disconnect(this);\n  }, ResizeObserver2.toString = function() {\n    return \"function ResizeObserver () { [polyfill code] }\";\n  }, ResizeObserver2;\n}();\nconst _ResizeObserver = typeof document < \"u\" && typeof window < \"u\" && window.ResizeObserver ? window.ResizeObserver : ResizeObserver, _elementSizeObserver = _createElementSizeObserver();\nfunction _createElementRectValueListener() {\n  return {\n    subscribe(element, subscriber) {\n      const resizeObserver = new _ResizeObserver(([entry]) => {\n        subscriber({\n          _contentRect: entry.contentRect,\n          border: {\n            width: entry.borderBoxSize[0].inlineSize,\n            height: entry.borderBoxSize[0].blockSize\n          },\n          content: {\n            width: entry.contentRect.width,\n            height: entry.contentRect.height\n          }\n        });\n      });\n      return resizeObserver.observe(element), () => {\n        resizeObserver.unobserve(element), resizeObserver.disconnect();\n      };\n    }\n  };\n}\nfunction _createElementSizeObserver() {\n  const disposeCache = /* @__PURE__ */ new WeakMap(), subscribersCache = /* @__PURE__ */ new WeakMap();\n  return {\n    subscribe(element, subscriber) {\n      const subscribers = subscribersCache.get(element) || [];\n      let dispose = disposeCache.get(element);\n      return subscribersCache.has(element) || (subscribersCache.set(element, subscribers), dispose = _createElementRectValueListener().subscribe(element, (elementRect) => {\n        for (const sub of subscribers)\n          sub(elementRect);\n      })), subscribers.push(subscriber), () => {\n        const idx = subscribers.indexOf(subscriber);\n        idx > -1 && subscribers.splice(idx, 1), subscribers.length === 0 && dispose && dispose();\n      };\n    }\n  };\n}\nfunction useElementSize(element) {\n  const [size2, setSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (element)\n      return _elementSizeObserver.subscribe(element, setSize);\n  }, [element]), size2;\n}\nfunction useElementRect(element) {\n  const elementSize = useElementSize(element);\n  return (elementSize == null ? void 0 : elementSize._contentRect) || null;\n}\nfunction useGlobalKeyDown(onKeyDown) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => (addEventListener(\"keydown\", onKeyDown), () => removeEventListener(\"keydown\", onKeyDown)), [onKeyDown]);\n}\nfunction getGlobalScope() {\n  if (typeof globalThis < \"u\") return globalThis;\n  if (typeof window < \"u\") return window;\n  if (typeof self < \"u\") return self;\n  if (typeof global < \"u\") return global;\n  throw new Error(\"@sanity/ui: could not locate global scope\");\n}\nconst globalScope = getGlobalScope();\nfunction createGlobalScopedContext(key2, defaultValue) {\n  return typeof document > \"u\" ? (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(defaultValue) : (globalScope[key2] = globalScope[key2] || (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(defaultValue), globalScope[key2]);\n}\nconst key$8 = Symbol.for(\"@sanity/ui/context/theme\"), ThemeContext = createGlobalScopedContext(key$8, null);\nfunction ThemeProvider(props) {\n  const parentTheme = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ThemeContext), {\n    children,\n    scheme = (parentTheme == null ? void 0 : parentTheme.scheme) || \"light\",\n    theme: rootTheme = (parentTheme == null ? void 0 : parentTheme.theme) || null,\n    tone = (parentTheme == null ? void 0 : parentTheme.tone) || \"default\"\n  } = props, themeContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => rootTheme ? {\n    version: 0,\n    theme: rootTheme,\n    scheme,\n    tone\n  } : null, [rootTheme, scheme, tone]), theme = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => rootTheme ? (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_5__.getScopedTheme)(rootTheme, scheme, tone) : null, [scheme, rootTheme, tone]);\n  return theme ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ThemeContext.Provider, { value: themeContext, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(styled_components__WEBPACK_IMPORTED_MODULE_7__.ThemeProvider, { theme, children }) }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"pre\", { children: 'ThemeProvider: no \"theme\" property provided' });\n}\nfunction useRootTheme() {\n  const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ThemeContext);\n  if (!value)\n    throw new Error(\"useRootTheme(): missing context value\");\n  return value;\n}\nfunction ThemeColorProvider(props) {\n  const { children, scheme, tone } = props, root = useRootTheme();\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ThemeProvider, { scheme: scheme || root.scheme, theme: root.theme, tone, children });\n}\nfunction useTheme() {\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.useTheme)();\n}\nfunction useTheme_v2() {\n  return (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)((0,styled_components__WEBPACK_IMPORTED_MODULE_7__.useTheme)());\n}\nconst MEDIA_STORE_CACHE = /* @__PURE__ */ new WeakMap();\nfunction _getMediaQuery(media, index) {\n  return index === 0 ? `screen and (max-width: ${media[index] - 1}px)` : index === media.length ? `screen and (min-width: ${media[index - 1]}px)` : `screen and (min-width: ${media[index - 1]}px) and (max-width: ${media[index] - 1}px)`;\n}\nfunction _createMediaStore(media) {\n  const mediaLen = media.length;\n  let sizes;\n  const getSizes = () => {\n    if (!sizes) {\n      sizes = [];\n      for (let index = mediaLen; index > -1; index -= 1) {\n        const mediaQuery = _getMediaQuery(media, index);\n        sizes.push({ index, mq: window.matchMedia(mediaQuery) });\n      }\n    }\n    return sizes;\n  };\n  return { getSnapshot: () => {\n    for (const { index, mq } of getSizes())\n      if (mq.matches) return index;\n    return 0;\n  }, subscribe: (onStoreChange) => {\n    const disposeFns = [];\n    for (const { mq } of getSizes()) {\n      const handleChange = () => {\n        mq.matches && onStoreChange();\n      };\n      mq.addEventListener(\"change\", handleChange), disposeFns.push(() => mq.removeEventListener(\"change\", handleChange));\n    }\n    return () => {\n      for (const disposeFn of disposeFns)\n        disposeFn();\n    };\n  } };\n}\nfunction getServerSnapshot$2() {\n  return 0;\n}\nfunction useMediaIndex() {\n  const { media } = useTheme_v2();\n  let store = MEDIA_STORE_CACHE.get(media);\n  return store || (store = _createMediaStore(media), MEDIA_STORE_CACHE.set(media, store)), (0,react__WEBPACK_IMPORTED_MODULE_1__.useSyncExternalStore)(store.subscribe, store.getSnapshot, getServerSnapshot$2);\n}\nlet MEDIA_QUERY_CACHE$1;\nfunction getMatchMedia$1() {\n  return MEDIA_QUERY_CACHE$1 || (MEDIA_QUERY_CACHE$1 = window.matchMedia(\"(prefers-color-scheme: dark)\")), MEDIA_QUERY_CACHE$1;\n}\nfunction subscribe$2(onStoreChange) {\n  const matchMedia = getMatchMedia$1();\n  return matchMedia.addEventListener(\"change\", onStoreChange), () => matchMedia.removeEventListener(\"change\", onStoreChange);\n}\nfunction getSnapshot$1() {\n  return getMatchMedia$1().matches;\n}\nfunction getServerSnapshot$1() {\n  return !1;\n}\nfunction usePrefersDark() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useSyncExternalStore)(subscribe$2, getSnapshot$1, getServerSnapshot$1);\n}\nlet MEDIA_QUERY_CACHE;\nfunction getMatchMedia() {\n  return MEDIA_QUERY_CACHE || (MEDIA_QUERY_CACHE = window.matchMedia(\"(prefers-reduced-motion: reduce)\")), MEDIA_QUERY_CACHE;\n}\nfunction subscribe$1(onStoreChange) {\n  const matchMedia = getMatchMedia();\n  return matchMedia.addEventListener(\"change\", onStoreChange), () => matchMedia.removeEventListener(\"change\", onStoreChange);\n}\nfunction getSnapshot() {\n  return getMatchMedia().matches;\n}\nfunction getServerSnapshot() {\n  return !1;\n}\nfunction usePrefersReducedMotion() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useSyncExternalStore)(subscribe$1, getSnapshot, getServerSnapshot);\n}\nfunction useForwardedRef(ref) {\n  const innerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, () => innerRef.current), innerRef;\n}\nfunction useCustomValidity(ref, customValidity) {\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    var _a;\n    (_a = ref.current) == null || _a.setCustomValidity(customValidity || \"\");\n  }, [customValidity, ref]);\n}\nfunction responsiveBorderStyle() {\n  return [border, borderTop, borderRight, borderBottom, borderLeft];\n}\nfunction border(props) {\n  var _a, _b;\n  const { card, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), borderStyle = `${(_b = (_a = card.border) == null ? void 0 : _a.width) != null ? _b : 1}px solid var(--card-border-color)`;\n  return _responsive(\n    media,\n    props.$border,\n    (value) => value ? { \"&&\": { border: borderStyle } } : { \"&&\": { border: 0 } }\n  );\n}\nfunction borderTop(props) {\n  var _a, _b;\n  const { card, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), borderStyle = `${(_b = (_a = card.border) == null ? void 0 : _a.width) != null ? _b : 1}px solid var(--card-border-color)`;\n  return _responsive(\n    media,\n    props.$borderTop,\n    (value) => value ? { \"&&\": { borderTop: borderStyle } } : { \"&&\": { borderTop: 0 } }\n  );\n}\nfunction borderRight(props) {\n  var _a, _b;\n  const { card, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), borderStyle = `${(_b = (_a = card.border) == null ? void 0 : _a.width) != null ? _b : 1}px solid var(--card-border-color)`;\n  return _responsive(\n    media,\n    props.$borderRight,\n    (value) => value ? { \"&&\": { borderRight: borderStyle } } : { \"&&\": { borderRight: 0 } }\n  );\n}\nfunction borderBottom(props) {\n  var _a, _b;\n  const { card, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), borderStyle = `${(_b = (_a = card.border) == null ? void 0 : _a.width) != null ? _b : 1}px solid var(--card-border-color)`;\n  return _responsive(\n    media,\n    props.$borderBottom,\n    (value) => value ? { \"&&\": { borderBottom: borderStyle } } : { \"&&\": { borderBottom: 0 } }\n  );\n}\nfunction borderLeft(props) {\n  var _a, _b;\n  const { card, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), borderStyle = `${(_b = (_a = card.border) == null ? void 0 : _a.width) != null ? _b : 1}px solid var(--card-border-color)`;\n  return _responsive(\n    media,\n    props.$borderLeft,\n    (value) => value ? { \"&&\": { borderLeft: borderStyle } } : { \"&&\": { borderLeft: 0 } }\n  );\n}\nconst BASE_STYLE$4 = {\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: \"none\"\n  }\n}, BOX_SIZING = {\n  content: \"content-box\",\n  border: \"border-box\"\n}, BOX_HEIGHT = {\n  stretch: \"stretch\",\n  fill: \"100%\"\n};\nfunction boxStyle() {\n  return BASE_STYLE$4;\n}\nfunction responsiveBoxStyle() {\n  return [\n    responsiveBoxSizingStyle,\n    responsiveBoxHeightStyle,\n    responsiveBoxOverflowStyle,\n    responsiveBoxDisplayStyle\n  ];\n}\nfunction responsiveBoxDisplayStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$display, (display) => ({\n    \"&:not([hidden])\": { display }\n  }));\n}\nfunction responsiveBoxSizingStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$sizing, (sizing) => ({\n    boxSizing: BOX_SIZING[sizing]\n  }));\n}\nfunction responsiveBoxHeightStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$height, (height) => ({\n    height: BOX_HEIGHT[height]\n  }));\n}\nfunction responsiveBoxOverflowStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$overflow, (overflow) => ({\n    overflow\n  }));\n}\nconst BASE_STYLE$3 = {\n  \"&&:not([hidden])\": {\n    display: \"flex\"\n  }\n};\nfunction responsiveFlexStyle() {\n  return [\n    BASE_STYLE$3,\n    responsiveFlexAlignStyle,\n    responsiveFlexGapStyle,\n    responsiveFlexWrapStyle,\n    responsiveFlexJustifyStyle,\n    responsiveFlexDirectionStyle\n  ];\n}\nfunction responsiveFlexAlignStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$align, (align) => ({ alignItems: align }));\n}\nfunction responsiveFlexGapStyle(props) {\n  const { media, space } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$gap, (gap) => ({\n    gap: gap ? rem(space[gap]) : void 0\n  }));\n}\nfunction responsiveFlexWrapStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$wrap, (wrap) => ({ flexWrap: wrap }));\n}\nfunction responsiveFlexJustifyStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$justify, (justify) => ({ justifyContent: justify }));\n}\nfunction responsiveFlexDirectionStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$direction, (direction) => ({ flexDirection: direction }));\n}\nconst BASE_STYLE$2 = {\n  minWidth: 0,\n  minHeight: 0\n};\nfunction flexItemStyle() {\n  return [BASE_STYLE$2, responsiveFlexItemStyle];\n}\nfunction responsiveFlexItemStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return props.$flex ? _responsive(media, props.$flex, (flex) => ({ flex })) : EMPTY_ARRAY;\n}\nfunction focusRingBorderStyle(border2) {\n  return `inset 0 0 0 ${border2.width}px ${border2.color}`;\n}\nfunction focusRingStyle(opts) {\n  const { base, border: border2, focusRing } = opts, focusRingOutsetWidth = focusRing.offset + focusRing.width, focusRingInsetWidth = 0 - focusRing.offset, bgColor = base ? base.bg : \"var(--card-bg-color)\";\n  return [\n    focusRingInsetWidth > 0 && `inset 0 0 0 ${focusRingInsetWidth}px var(--card-focus-ring-color)`,\n    border2 && focusRingBorderStyle(border2),\n    focusRingInsetWidth < 0 && `0 0 0 ${0 - focusRingInsetWidth}px ${bgColor}`,\n    focusRingOutsetWidth > 0 && `0 0 0 ${focusRingOutsetWidth}px var(--card-focus-ring-color)`\n  ].filter(Boolean).join(\",\");\n}\nconst GRID_CSS = {\n  \"&&:not([hidden])\": {\n    display: \"grid\"\n  },\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: \"none\"\n  }\n}, GRID_AUTO_COLUMS = {\n  auto: \"auto\",\n  min: \"min-content\",\n  max: \"max-content\",\n  fr: \"minmax(0, 1fr)\"\n}, GRID_AUTO_ROWS = {\n  auto: \"auto\",\n  min: \"min-content\",\n  max: \"max-content\",\n  fr: \"minmax(0, 1fr)\"\n};\nfunction responsiveGridStyle() {\n  return [\n    GRID_CSS,\n    responsiveGridAutoFlowStyle,\n    responsiveGridAutoRowsStyle,\n    responsiveGridAutoColsStyle,\n    responsiveGridColumnsStyle,\n    responsiveGridRowsStyle,\n    responsiveGridGapStyle,\n    responsiveGridGapXStyle,\n    responsiveGridGapYStyle\n  ];\n}\nfunction responsiveGridAutoFlowStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$autoFlow, (autoFlow) => ({\n    gridAutoFlow: autoFlow\n  }));\n}\nfunction responsiveGridAutoRowsStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$autoRows, (autoRows) => ({\n    gridAutoRows: autoRows && GRID_AUTO_ROWS[autoRows]\n  }));\n}\nfunction responsiveGridAutoColsStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$autoCols, (autoCols) => ({\n    gridAutoColumns: autoCols && GRID_AUTO_COLUMS[autoCols]\n  }));\n}\nfunction responsiveGridColumnsStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$columns, (columns) => ({\n    gridTemplateColumns: columns && `repeat(${columns},minmax(0,1fr));`\n  }));\n}\nfunction responsiveGridRowsStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$rows, (rows) => ({\n    gridTemplateRows: rows && `repeat(${rows},minmax(0,1fr));`\n  }));\n}\nfunction responsiveGridGapStyle(props) {\n  const { media, space } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$gap, (gap) => ({\n    gridGap: gap ? rem(space[gap]) : void 0\n  }));\n}\nfunction responsiveGridGapXStyle(props) {\n  const { media, space } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$gapX, (gapX) => ({\n    columnGap: gapX ? rem(space[gapX]) : void 0\n  }));\n}\nfunction responsiveGridGapYStyle(props) {\n  const { media, space } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$gapY, (gapY) => ({\n    rowGap: gapY ? rem(space[gapY]) : void 0\n  }));\n}\nfunction responsiveGridItemStyle() {\n  return [\n    responsiveGridItemRowStyle,\n    responsiveGridItemRowStartStyle,\n    responsiveGridItemRowEndStyle,\n    responsiveGridItemColumnStyle,\n    responsiveGridItemColumnStartStyle,\n    responsiveGridItemColumnEndStyle\n  ];\n}\nconst GRID_ITEM_ROW = {\n  auto: \"auto\",\n  full: \"1 / -1\"\n}, GRID_ITEM_COLUMN = {\n  auto: \"auto\",\n  full: \"1 / -1\"\n};\nfunction responsiveGridItemRowStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$row, (row) => typeof row == \"number\" ? { gridRow: `span ${row} / span ${row}` } : { gridRow: GRID_ITEM_ROW[row] });\n}\nfunction responsiveGridItemRowStartStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$rowStart, (rowStart) => ({\n    gridRowStart: rowStart\n  }));\n}\nfunction responsiveGridItemRowEndStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$rowEnd, (rowEnd) => ({ gridRowEnd: rowEnd }));\n}\nfunction responsiveGridItemColumnStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$column, (column) => typeof column == \"number\" ? { gridColumn: `span ${column} / span ${column}` } : { gridColumn: GRID_ITEM_COLUMN[column] });\n}\nfunction responsiveGridItemColumnStartStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$columnStart, (columnStart) => ({\n    gridColumnStart: columnStart\n  }));\n}\nfunction responsiveGridItemColumnEndStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$columnEnd, (columnEnd) => ({\n    gridColumnEnd: columnEnd\n  }));\n}\nfunction responsiveInputPaddingStyle(props) {\n  const { $fontSize, $iconLeft, $iconRight, $padding, $space } = props, { font, media, space } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), len = Math.max($padding.length, $space.length, $fontSize.length), _padding = [], _space = [], _fontSize = [];\n  for (let i = 0; i < len; i += 1)\n    _fontSize[i] = $fontSize[i] === void 0 ? _fontSize[i - 1] : $fontSize[i], _padding[i] = $padding[i] === void 0 ? _padding[i - 1] : $padding[i], _space[i] = $space[i] === void 0 ? _space[i - 1] : $space[i];\n  return _responsive(media, _padding, (_, i) => {\n    const size2 = font.text.sizes[_fontSize[i]] || font.text.sizes[2], emSize = size2.lineHeight - size2.ascenderHeight - size2.descenderHeight, p = space[_padding[i]], s = space[_space[i]], styles = {\n      paddingTop: rem(p - size2.ascenderHeight),\n      paddingRight: rem(p),\n      paddingBottom: rem(p - size2.descenderHeight),\n      paddingLeft: rem(p)\n    };\n    return $iconRight && (styles.paddingRight = rem(p + emSize + s)), $iconLeft && (styles.paddingLeft = rem(p + emSize + s)), styles;\n  });\n}\nfunction responsiveInputPaddingIconRightStyle(props) {\n  return responsiveInputPaddingStyle({ ...props, $iconRight: !0 });\n}\nconst ROOT_STYLE = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n  &:not([hidden]) {\n    display: flex;\n  }\n\n  align-items: center;\n`;\nfunction textInputRootStyle() {\n  return ROOT_STYLE;\n}\nfunction textInputBaseStyle(props) {\n  const { $scheme, $tone, $weight } = props, { color, font } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    appearance: none;\n    background: none;\n    border: 0;\n    border-radius: 0;\n    outline: none;\n    width: 100%;\n    box-sizing: border-box;\n    font-family: ${font.text.family};\n    font-weight: ${$weight && font.text.weights[$weight] || font.text.weights.regular};\n    margin: 0;\n    position: relative;\n    z-index: 1;\n    display: block;\n\n    /* NOTE: This is a hack to disable Chrome’s autofill styles */\n    &:-webkit-autofill,\n    &:-webkit-autofill:hover,\n    &:-webkit-autofill:focus,\n    &:-webkit-autofill:active {\n      -webkit-text-fill-color: var(--input-fg-color) !important;\n      transition: background-color 5000s;\n      transition-delay: 86400s /* 24h */;\n    }\n\n    /* &:is(textarea) */\n    &[data-as='textarea'] {\n      resize: none;\n    }\n\n    color: var(--input-fg-color);\n\n    &::placeholder {\n      color: var(--input-placeholder-color);\n    }\n\n    &[data-scheme='${$scheme}'][data-tone='${$tone}'] {\n      --input-fg-color: ${color.input.default.enabled.fg};\n      --input-placeholder-color: ${color.input.default.enabled.placeholder};\n\n      /* enabled */\n      &:not(:invalid):not(:disabled):not(:read-only) {\n        --input-fg-color: ${color.input.default.enabled.fg};\n        --input-placeholder-color: ${color.input.default.enabled.placeholder};\n      }\n\n      /* disabled */\n      &:not(:invalid):disabled {\n        --input-fg-color: ${color.input.default.disabled.fg};\n        --input-placeholder-color: ${color.input.default.disabled.placeholder};\n      }\n\n      /* invalid */\n      &:invalid {\n        --input-fg-color: ${color.input.invalid.enabled.fg};\n        --input-placeholder-color: ${color.input.invalid.enabled.placeholder};\n      }\n\n      /* readOnly */\n      &:read-only {\n        --input-fg-color: ${color.input.default.readOnly.fg};\n        --input-placeholder-color: ${color.input.default.readOnly.placeholder};\n      }\n    }\n  `;\n}\nfunction textInputFontSizeStyle(props) {\n  const { font, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$fontSize, (sizeIndex) => {\n    const size2 = font.text.sizes[sizeIndex] || font.text.sizes[2];\n    return {\n      fontSize: rem(size2.fontSize),\n      lineHeight: size2.lineHeight / size2.fontSize\n    };\n  });\n}\nfunction textInputRepresentationStyle(props) {\n  const { $hasPrefix, $hasSuffix, $scheme, $tone, $unstableDisableFocusRing } = props, { color, input } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    --input-box-shadow: none;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: block;\n    pointer-events: none;\n    z-index: 0;\n\n    background-color: var(--card-bg-color);\n    box-shadow: var(--input-box-shadow);\n\n    border-top-left-radius: ${$hasPrefix ? 0 : void 0};\n    border-bottom-left-radius: ${$hasPrefix ? 0 : void 0};\n    border-top-right-radius: ${$hasSuffix ? 0 : void 0};\n    border-bottom-right-radius: ${$hasSuffix ? 0 : void 0};\n\n    &[data-scheme='${$scheme}'][data-tone='${$tone}'] {\n      --card-bg-color: ${color.input.default.enabled.bg};\n      --card-fg-color: ${color.input.default.enabled.fg};\n\n      /* enabled */\n      *:not(:disabled) + &[data-border] {\n        --input-box-shadow: ${focusRingBorderStyle({\n    color: color.input.default.enabled.border,\n    width: input.border.width\n  })};\n      }\n\n      /* invalid */\n      *:not(:disabled):invalid + & {\n        --card-bg-color: ${color.input.invalid.enabled.bg};\n        --card-fg-color: ${color.input.invalid.enabled.fg};\n\n        &[data-border] {\n          --input-box-shadow: ${focusRingBorderStyle({\n    color: color.input.invalid.enabled.border,\n    width: input.border.width\n  })};\n        }\n      }\n\n      /* focused */\n      *:not(:disabled):focus + & {\n        &[data-border] {\n          --input-box-shadow: ${$unstableDisableFocusRing ? void 0 : focusRingStyle({\n    border: { color: color.input.default.enabled.border, width: input.border.width },\n    focusRing: input.text.focusRing\n  })};\n        }\n\n        &:not([data-border]) {\n          --input-box-shadow: ${$unstableDisableFocusRing ? void 0 : focusRingStyle({ focusRing: input.text.focusRing })};\n        }\n      }\n\n      /* disabled */\n      *:not(:invalid):disabled + & {\n        --card-bg-color: ${color.input.default.disabled.bg} !important;\n        --card-fg-color: ${color.input.default.disabled.fg} !important;\n        --card-icon-color: ${color.input.default.disabled.fg} !important;\n\n        &[data-border] {\n          --input-box-shadow: ${focusRingBorderStyle({\n    color: color.input.default.disabled.border,\n    width: input.border.width\n  })};\n        }\n      }\n\n      *:invalid:disabled + & {\n        --card-bg-color: ${color.input.invalid.disabled.bg} !important;\n        --card-fg-color: ${color.input.invalid.disabled.fg} !important;\n        --card-icon-color: ${color.input.invalid.disabled.fg} !important;\n\n        &[data-border] {\n          --input-box-shadow: ${focusRingBorderStyle({\n    color: color.input.invalid.disabled.border,\n    width: input.border.width\n  })};\n        }\n      }\n\n      /* readOnly */\n      *:not(:invalid):read-only + & {\n        --card-bg-color: ${color.input.default.readOnly.bg} !important;\n        --card-fg-color: ${color.input.default.readOnly.fg} !important;\n      }\n\n      *:invalid:read-only + & {\n        --card-bg-color: ${color.input.invalid.readOnly.bg} !important;\n        --card-fg-color: ${color.input.invalid.readOnly.fg} !important;\n      }\n\n      /* hovered */\n      @media (hover: hover) {\n        *:not(:disabled):not(:read-only):not(:invalid):hover + & {\n          --card-bg-color: ${color.input.default.hovered.bg};\n          --card-fg-color: ${color.input.default.hovered.fg};\n        }\n\n        *:invalid:not(:disabled):not(:read-only):hover + & {\n          --card-bg-color: ${color.input.invalid.hovered.bg};\n          --card-fg-color: ${color.input.invalid.hovered.fg};\n        }\n\n        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {\n          --input-box-shadow: ${focusRingBorderStyle({\n    color: color.input.default.hovered.border,\n    width: input.border.width\n  })};\n        }\n\n        *:invalid:not(:disabled):not(:read-only):not(:focus):hover + &[data-border] {\n          --input-box-shadow: ${focusRingBorderStyle({\n    color: color.input.invalid.hovered.border,\n    width: input.border.width\n  })};\n        }\n      }\n    }\n  `;\n}\nfunction responsiveMarginStyle(props) {\n  const { theme } = props;\n  return [\n    _getResponsiveSpace(theme, [\"margin\"], props.$margin),\n    _getResponsiveSpace(theme, [\"marginLeft\", \"marginRight\"], props.$marginX),\n    _getResponsiveSpace(theme, [\"marginTop\", \"marginBottom\"], props.$marginY),\n    _getResponsiveSpace(theme, [\"marginTop\"], props.$marginTop),\n    _getResponsiveSpace(theme, [\"marginRight\"], props.$marginRight),\n    _getResponsiveSpace(theme, [\"marginBottom\"], props.$marginBottom),\n    _getResponsiveSpace(theme, [\"marginLeft\"], props.$marginLeft)\n  ].filter(Boolean);\n}\nfunction responsivePaddingStyle(props) {\n  const { theme } = props;\n  return [\n    _getResponsiveSpace(theme, [\"padding\"], props.$padding),\n    _getResponsiveSpace(theme, [\"paddingLeft\", \"paddingRight\"], props.$paddingX),\n    _getResponsiveSpace(theme, [\"paddingTop\", \"paddingBottom\"], props.$paddingY),\n    _getResponsiveSpace(theme, [\"paddingTop\"], props.$paddingTop),\n    _getResponsiveSpace(theme, [\"paddingRight\"], props.$paddingRight),\n    _getResponsiveSpace(theme, [\"paddingBottom\"], props.$paddingBottom),\n    _getResponsiveSpace(theme, [\"paddingLeft\"], props.$paddingLeft)\n  ].filter(Boolean);\n}\nfunction responsiveRadiusStyle(props) {\n  const { media, radius } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$radius, (value) => {\n    let borderRadius = 0;\n    return typeof value == \"number\" && (borderRadius = rem(radius[value])), value === \"full\" && (borderRadius = \"9999px\"), { borderRadius };\n  });\n}\nfunction toBoxShadow(shadow, color) {\n  return `${shadow.map(rem).join(\" \")} ${color}`;\n}\nfunction shadowStyle(shadow, outlineWidth = 1) {\n  if (!shadow) return EMPTY_RECORD;\n  const outline = `0 0 0 ${rem(outlineWidth)} var(--card-shadow-outline-color)`, umbra = toBoxShadow(shadow.umbra, \"var(--card-shadow-umbra-color)\"), penumbra = toBoxShadow(shadow.penumbra, \"var(--card-shadow-penumbra-color)\"), ambient = toBoxShadow(shadow.ambient, \"var(--card-shadow-ambient-color)\");\n  return { boxShadow: `${outline}, ${umbra}, ${penumbra}, ${ambient}` };\n}\nfunction responsiveShadowStyle(props) {\n  const { card, media, shadow } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(\n    media,\n    props.$shadow,\n    (index) => shadowStyle(shadow[index], card.shadow.outline)\n  );\n}\nfunction labelBaseStyle(props) {\n  const { $accent, $muted } = props, { font } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    text-transform: uppercase;\n\n    ${$accent && (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted && (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${font.code.family};\n      border-radius: 1px;\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n    }\n\n    & svg {\n      /* Certain popular CSS libraries changes the defaults for SVG display */\n      /* Make sure SVGs are rendered as inline elements */\n      display: inline;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `;\n}\nconst Root$C = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(responsiveLabelFont, responsiveTextAlignStyle, labelBaseStyle), SpanWithTextOverflow$2 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  overflow: clip;\n`, Label = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const {\n    accent,\n    align,\n    children: childrenProp,\n    muted = !1,\n    size: size2 = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props;\n  let children = childrenProp;\n  return textOverflow === \"ellipsis\" ? children = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SpanWithTextOverflow$2, { children }) : children = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children }), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$C,\n    {\n      \"data-ui\": \"Label\",\n      ...restProps,\n      $accent: accent,\n      $align: useArrayProp(align),\n      $muted: muted,\n      $size: useArrayProp(size2),\n      $weight: weight,\n      ref,\n      children\n    }\n  );\n}), avatarStyle = {\n  root: avatarRootStyle,\n  arrow: avatarArrowStyle,\n  bgStroke: avatarBgStrokeStyle,\n  stroke: avatarStrokeStyle,\n  initials: avatarInitialsStyle,\n  image: avatarImageStyle\n};\nfunction avatarArrowStyle() {\n  return {\n    position: \"absolute\",\n    boxSizing: \"border-box\",\n    zIndex: 0,\n    opacity: 0,\n    transition: \"all 0.2s linear\",\n    transform: \"rotate(-90deg) translate3d(0, 6px, 0)\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    \"& > svg\": {\n      width: \"11px\",\n      height: \"7px\",\n      position: \"absolute\",\n      top: \"-5px\",\n      left: \"50%\",\n      transform: \"translateX(-6px)\",\n      \"&:not([hidden])\": {\n        display: \"block\"\n      }\n    },\n    \"[data-arrow-position='inside'] > &\": {\n      transform: \"rotate(-90deg) translate3d(0, 6px, 0)\",\n      opacity: 0\n    },\n    \"[data-arrow-position='top'] > &\": {\n      opacity: 1,\n      transform: \"rotate(0deg)\"\n    },\n    \"[data-arrow-position='bottom'] > &\": {\n      opacity: 1,\n      transform: \"rotate(-180deg)\"\n    }\n  };\n}\nfunction avatarRootStyle(props) {\n  const { $color } = props, { avatar } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return {\n    \"--avatar-bg-color\": `var(--card-avatar-${$color}-bg-color)`,\n    \"--avatar-fg-color\": `var(--card-avatar-${$color}-fg-color)`,\n    backgroundColor: \"var(--avatar-bg-color)\",\n    position: \"relative\",\n    boxSizing: \"border-box\",\n    userSelect: \"none\",\n    boxShadow: \"0 0 0 1px var(--card-bg-color)\",\n    '&[data-status=\"inactive\"]': {\n      opacity: 0.5\n    },\n    \"&>svg\": {\n      \"&:not([hidden])\": {\n        display: \"block\"\n      }\n    },\n    /* &:is(button) */\n    '&[data-as=\"button\"]': {\n      WebkitFontSmoothing: \"inherit\",\n      appearance: \"none\",\n      margin: 0,\n      padding: 0,\n      border: 0,\n      font: \"inherit\",\n      color: \"inherit\",\n      outline: \"none\",\n      \"&:focus\": {\n        boxShadow: focusRingStyle({ focusRing: avatar.focusRing })\n      },\n      \"&:focus:not(:focus-visible)\": {\n        boxShadow: \"none\"\n      }\n    }\n  };\n}\nfunction responsiveAvatarSizeStyle(props) {\n  const { avatar, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$size, (size2) => {\n    const avatarSize = avatar.sizes[size2] || avatar.sizes[0];\n    return {\n      width: rem(avatarSize.size),\n      height: rem(avatarSize.size),\n      borderRadius: rem(avatarSize.size / 2),\n      \"&>svg\": {\n        width: rem(avatarSize.size),\n        height: rem(avatarSize.size),\n        borderRadius: rem(avatarSize.size / 2)\n      }\n    };\n  });\n}\nfunction avatarImageStyle() {\n  return {\n    position: \"relative\"\n  };\n}\nfunction avatarInitialsStyle() {\n  return {\n    width: \"100%\",\n    height: \"100%\",\n    color: \"var(--avatar-fg-color)\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textTransform: \"uppercase\",\n    textAlign: \"center\",\n    borderRadius: \"50%\",\n    \"&:not([hidden])\": {\n      display: \"flex\"\n    }\n  };\n}\nfunction avatarBgStrokeStyle() {\n  return {\n    strokeWidth: \"4px\",\n    stroke: \"var(--card-bg-color)\"\n  };\n}\nfunction avatarStrokeStyle() {\n  return {\n    strokeWidth: \"2px\",\n    stroke: \"var(--avatar-bg-color)\",\n    '[data-status=\"editing\"] &': {\n      strokeDasharray: \"2 4\",\n      strokeLinecap: \"round\"\n    }\n  };\n}\nconst Root$B = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(\n  responsiveAvatarSizeStyle,\n  avatarStyle.root\n), Arrow$1 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(avatarStyle.arrow), BgStroke = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.ellipse(avatarStyle.bgStroke), Stroke = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.ellipse(avatarStyle.stroke), Initials = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(avatarStyle.initials), InitialsLabel = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Label)({\n  color: \"inherit\"\n}), Image = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.svg(avatarStyle.image), Avatar = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const {\n    __unstable_hideInnerStroke,\n    as: asProp,\n    color = \"gray\",\n    src,\n    title,\n    initials,\n    onImageLoadError,\n    arrowPosition: arrowPositionProp,\n    animateArrowFrom,\n    status = \"online\",\n    size: sizeProp = 1,\n    ...restProps\n  } = props, { avatar } = useTheme_v2(), as = react_is__WEBPACK_IMPORTED_MODULE_2__.isValidElementType(asProp) ? asProp : \"div\", size2 = useArrayProp(sizeProp), _sizeRem = (avatar.sizes[size2[0]] || avatar.sizes[0]).size, _radius = _sizeRem / 2, elementId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)(), [arrowPosition, setArrowPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    animateArrowFrom || arrowPositionProp || \"inside\"\n  ), [imageFailed, setImageFailed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1), imageId = `avatar-image-${elementId}`;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (arrowPosition === arrowPositionProp) return;\n    const raf = requestAnimationFrame(() => setArrowPosition(arrowPositionProp));\n    return () => cancelAnimationFrame(raf);\n  }, [arrowPosition, arrowPositionProp]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    src && setImageFailed(!1);\n  }, [src]);\n  const handleImageError = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setImageFailed(!0), onImageLoadError && onImageLoadError(new Error(\"Avatar: the image failed to load\"));\n  }, [onImageLoadError]), initialsSize = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => size2.map((s) => s === 1 ? 1 : s === 2 ? 3 : s === 3 ? 5 : 0),\n    [size2]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    Root$B,\n    {\n      as,\n      \"data-as\": typeof as == \"string\" ? as : void 0,\n      \"data-ui\": \"Avatar\",\n      ...restProps,\n      $color: color,\n      $size: size2,\n      \"aria-label\": title,\n      \"data-arrow-position\": arrowPosition,\n      \"data-status\": status,\n      ref,\n      title,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Arrow$1, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", { width: \"11\", height: \"7\", viewBox: \"0 0 11 7\", fill: \"none\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          \"path\",\n          {\n            d: \"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z\",\n            fill: color\n          }\n        ) }) }),\n        !imageFailed && src && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Image, { viewBox: `0 0 ${_sizeRem} ${_sizeRem}`, fill: \"none\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"defs\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"pattern\", { id: imageId, patternContentUnits: \"objectBoundingBox\", width: \"1\", height: \"1\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            \"image\",\n            {\n              href: src,\n              width: \"1\",\n              height: \"1\",\n              onError: handleImageError\n            }\n          ) }) }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"circle\", { cx: _radius, cy: _radius, r: _radius, fill: `url(#${imageId})` }),\n          !__unstable_hideInnerStroke && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            BgStroke,\n            {\n              cx: _radius,\n              cy: _radius,\n              rx: _radius,\n              ry: _radius,\n              vectorEffect: \"non-scaling-stroke\"\n            }\n          ),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            Stroke,\n            {\n              cx: _radius,\n              cy: _radius,\n              rx: _radius,\n              ry: _radius,\n              vectorEffect: \"non-scaling-stroke\"\n            }\n          )\n        ] }),\n        (imageFailed || !src) && initials && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Initials, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InitialsLabel, { forwardedAs: \"span\", size: initialsSize, weight: \"medium\", children: initials }) }) })\n      ]\n    }\n  );\n});\nfunction _responsiveAvatarCounterSizeStyle(props) {\n  const { avatar, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$size, (size2) => {\n    const avatarSize = avatar.sizes[size2];\n    return avatarSize ? {\n      borderRadius: rem(avatarSize.size / 2),\n      minWidth: rem(avatarSize.size),\n      height: rem(avatarSize.size)\n    } : EMPTY_RECORD;\n  });\n}\nfunction _avatarCounterBaseStyle(props) {\n  const { space } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    user-select: none;\n    color: inherit;\n    color: var(--card-fg-color);\n    background: var(--card-bg-color);\n    box-shadow:\n      0 0 0 1px var(--card-bg-color),\n      inset 0 0 0 1px var(--card-hairline-hard-color);\n    padding: 0 ${rem(space[2])};\n\n    &:not([hidden]) {\n      display: flex;\n    }\n  `;\n}\nconst Root$A = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(\n  _responsiveAvatarCounterSizeStyle,\n  _avatarCounterBaseStyle\n), AvatarCounter = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { count, size: sizeProp = 1 } = props, size2 = useArrayProp(sizeProp), fontSize2 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => size2.map((s) => s === 1 ? 1 : s === 2 ? 3 : s === 3 ? 5 : 0),\n    [size2]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$A, { $size: size2, \"data-ui\": \"AvatarCounter\", ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Label, { as: \"span\", size: fontSize2, weight: \"medium\", children: count }) });\n}), BASE_STYLES = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n  white-space: nowrap;\n\n  & > div {\n    vertical-align: top;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  }\n`;\nfunction avatarStackStyle() {\n  return BASE_STYLES;\n}\nfunction responsiveAvatarStackSizeStyle(props) {\n  const { avatar, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$size, (size2) => {\n    const avatarSize = avatar.sizes[size2];\n    return avatarSize ? {\n      \"& > div + div\": {\n        marginLeft: rem(avatarSize.distance)\n      }\n    } : EMPTY_RECORD;\n  });\n}\nconst Root$z = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(responsiveAvatarStackSizeStyle, avatarStackStyle), AvatarStack = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const {\n    children: childrenProp,\n    maxLength: maxLengthProp = 4,\n    size: sizeProp = 1,\n    ...restProps\n  } = props, children = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => react__WEBPACK_IMPORTED_MODULE_1__.Children.toArray(childrenProp).filter(react__WEBPACK_IMPORTED_MODULE_1__.isValidElement),\n    [childrenProp]\n  ), maxLength = Math.max(maxLengthProp, 0), size2 = useArrayProp(sizeProp), len = children.length, visibleCount = maxLength - 1, extraCount = len - visibleCount, visibleChildren = extraCount > 1 ? children.slice(extraCount, len) : children;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Root$z, { \"data-ui\": \"AvatarStack\", ...restProps, ref, $size: size2, children: [\n    len === 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AvatarCounter, { count: len, size: size2 }) }),\n    len !== 0 && extraCount > 1 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AvatarCounter, { count: extraCount, size: size2 }) }),\n    visibleChildren.map((child, childIndex) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(child, { size: size2 }) }, String(childIndex)))\n  ] });\n}), Root$y = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(\n  boxStyle,\n  flexItemStyle,\n  responsiveBoxStyle,\n  responsiveGridItemStyle,\n  responsiveMarginStyle,\n  responsivePaddingStyle\n), Box = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const {\n    as: asProp = \"div\",\n    column,\n    columnStart,\n    columnEnd,\n    display = \"block\",\n    flex,\n    height,\n    margin = 0,\n    marginX,\n    marginY,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    overflow,\n    padding = 0,\n    paddingX,\n    paddingY,\n    paddingTop,\n    paddingRight,\n    paddingBottom,\n    paddingLeft,\n    row,\n    rowStart,\n    rowEnd,\n    sizing,\n    ...restProps\n  } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$y,\n    {\n      \"data-as\": typeof asProp == \"string\" ? asProp : void 0,\n      \"data-ui\": \"Box\",\n      ...restProps,\n      $column: useArrayProp(column),\n      $columnStart: useArrayProp(columnStart),\n      $columnEnd: useArrayProp(columnEnd),\n      $display: useArrayProp(display),\n      $flex: useArrayProp(flex),\n      $height: useArrayProp(height),\n      $margin: useArrayProp(margin),\n      $marginX: useArrayProp(marginX),\n      $marginY: useArrayProp(marginY),\n      $marginTop: useArrayProp(marginTop),\n      $marginRight: useArrayProp(marginRight),\n      $marginBottom: useArrayProp(marginBottom),\n      $marginLeft: useArrayProp(marginLeft),\n      $overflow: useArrayProp(overflow),\n      $padding: useArrayProp(padding),\n      $paddingX: useArrayProp(paddingX),\n      $paddingY: useArrayProp(paddingY),\n      $paddingTop: useArrayProp(paddingTop),\n      $paddingRight: useArrayProp(paddingRight),\n      $paddingBottom: useArrayProp(paddingBottom),\n      $paddingLeft: useArrayProp(paddingLeft),\n      $row: useArrayProp(row),\n      $rowStart: useArrayProp(rowStart),\n      $rowEnd: useArrayProp(rowEnd),\n      $sizing: useArrayProp(sizing),\n      as: asProp,\n      ref,\n      children: props.children\n    }\n  );\n});\nfunction textBaseStyle(props) {\n  const { $accent, $muted } = props, { font } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    color: var(--card-fg-color);\n\n    ${$accent && (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted && (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${font.code.family};\n      border-radius: 1px;\n      background-color: var(--card-code-bg-color);\n      color: var(--card-code-fg-color);\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n      color: var(--card-link-color);\n      outline: none;\n\n      @media (hover: hover) {\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n\n      &:focus {\n        box-shadow:\n          0 0 0 1px var(--card-bg-color),\n          0 0 0 3px var(--card-focus-ring-color);\n      }\n\n      &:focus:not(:focus-visible) {\n        box-shadow: none;\n      }\n    }\n\n    & strong {\n      font-weight: ${font.text.weights.bold};\n    }\n\n    & svg {\n      /* Certain popular CSS libraries changes the defaults for SVG display */\n      /* Make sure SVGs are rendered as inline elements */\n      display: inline;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n      color: var(--card-icon-color);\n\n      & path {\n        vector-effect: non-scaling-stroke !important;\n      }\n    }\n  `;\n}\nconst Root$x = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(\n  responsiveTextFont,\n  responsiveTextAlignStyle,\n  textBaseStyle\n), SpanWithTextOverflow$1 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  overflow: clip;\n`, Text = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const {\n    accent = !1,\n    align,\n    children: childrenProp,\n    muted = !1,\n    size: size2 = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props;\n  let children = childrenProp;\n  return textOverflow === \"ellipsis\" && (children = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SpanWithTextOverflow$1, { children })), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$x,\n    {\n      \"data-ui\": \"Text\",\n      ...restProps,\n      $accent: accent,\n      $align: useArrayProp(align),\n      $muted: muted,\n      ref,\n      $size: useArrayProp(size2),\n      $weight: weight,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children })\n    }\n  );\n});\nfunction badgeStyle(props) {\n  const { $tone } = props;\n  return {\n    \"--card-bg-color\": `var(--card-badge-${$tone}-bg-color)`,\n    \"--card-fg-color\": `var(--card-badge-${$tone}-fg-color)`,\n    backgroundColor: \"var(--card-bg-color)\",\n    cursor: \"default\",\n    \"&:not([hidden])\": {\n      display: \"inline-block\",\n      verticalAlign: \"top\"\n    }\n  };\n}\nconst Root$w = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)(\n  responsiveRadiusStyle,\n  badgeStyle\n), Badge = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const {\n    children,\n    fontSize: fontSize2 = 1,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    mode: _deprecated_mode,\n    padding = 1,\n    radius = \"full\",\n    tone = \"default\",\n    ...restProps\n  } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$w,\n    {\n      \"data-ui\": \"Badge\",\n      ...restProps,\n      $tone: tone,\n      $radius: useArrayProp(radius),\n      padding: useArrayProp(padding),\n      ref,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { size: fontSize2, children })\n    }\n  );\n}), Root$v = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)(\n  flexItemStyle,\n  responsiveFlexStyle\n), Flex = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { align, as, direction = \"row\", gap, justify, wrap, ...restProps } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$v,\n    {\n      \"data-ui\": \"Flex\",\n      ...restProps,\n      $align: useArrayProp(align),\n      $direction: useArrayProp(direction),\n      $gap: useArrayProp(gap),\n      $justify: useArrayProp(justify),\n      $wrap: useArrayProp(wrap),\n      forwardedAs: as,\n      ref\n    }\n  );\n}), rotate$1 = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.keyframes)`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`, Root$u = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Text)`\n  & > span > svg {\n    animation: ${rotate$1} 500ms linear infinite;\n  }\n`, Spinner = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$u, { \"data-ui\": \"Spinner\", ...props, ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_8__.SpinnerIcon, {}) });\n});\nfunction _cardColorStyle(base, color, checkered = !1) {\n  return {\n    // from base\n    \"--card-backdrop-color\": base.backdrop,\n    \"--card-focus-ring-color\": base.focusRing,\n    \"--card-shadow-outline-color\": base.shadow.outline,\n    \"--card-shadow-umbra-color\": base.shadow.umbra,\n    \"--card-shadow-penumbra-color\": base.shadow.penumbra,\n    \"--card-shadow-ambient-color\": base.shadow.ambient,\n    // from state\n    \"--card-accent-fg-color\": color.accent.fg,\n    \"--card-avatar-gray-bg-color\": color.avatar.gray.bg,\n    \"--card-avatar-gray-fg-color\": color.avatar.gray.fg,\n    \"--card-avatar-blue-bg-color\": color.avatar.blue.bg,\n    \"--card-avatar-blue-fg-color\": color.avatar.blue.fg,\n    \"--card-avatar-purple-bg-color\": color.avatar.purple.bg,\n    \"--card-avatar-purple-fg-color\": color.avatar.purple.fg,\n    \"--card-avatar-magenta-bg-color\": color.avatar.magenta.bg,\n    \"--card-avatar-magenta-fg-color\": color.avatar.magenta.fg,\n    \"--card-avatar-red-bg-color\": color.avatar.red.bg,\n    \"--card-avatar-red-fg-color\": color.avatar.red.fg,\n    \"--card-avatar-orange-bg-color\": color.avatar.orange.bg,\n    \"--card-avatar-orange-fg-color\": color.avatar.orange.fg,\n    \"--card-avatar-yellow-bg-color\": color.avatar.yellow.bg,\n    \"--card-avatar-yellow-fg-color\": color.avatar.yellow.fg,\n    \"--card-avatar-green-bg-color\": color.avatar.green.bg,\n    \"--card-avatar-green-fg-color\": color.avatar.green.fg,\n    \"--card-avatar-cyan-bg-color\": color.avatar.cyan.bg,\n    \"--card-avatar-cyan-fg-color\": color.avatar.cyan.fg,\n    \"--card-bg-color\": color.bg,\n    \"--card-bg-image\": checkered ? `repeating-conic-gradient(${color.bg} 0% 25%, ${color.muted.bg} 0% 50%)` : void 0,\n    \"--card-border-color\": color.border,\n    \"--card-badge-default-bg-color\": color.badge.default.bg,\n    \"--card-badge-default-dot-color\": color.badge.default.dot,\n    \"--card-badge-default-fg-color\": color.badge.default.fg,\n    \"--card-badge-default-icon-color\": color.badge.default.icon,\n    \"--card-badge-primary-bg-color\": color.badge.primary.bg,\n    \"--card-badge-primary-dot-color\": color.badge.primary.dot,\n    \"--card-badge-primary-fg-color\": color.badge.primary.fg,\n    \"--card-badge-primary-icon-color\": color.badge.primary.icon,\n    \"--card-badge-positive-bg-color\": color.badge.positive.bg,\n    \"--card-badge-positive-dot-color\": color.badge.positive.dot,\n    \"--card-badge-positive-fg-color\": color.badge.positive.fg,\n    \"--card-badge-positive-icon-color\": color.badge.positive.icon,\n    \"--card-badge-caution-bg-color\": color.badge.caution.bg,\n    \"--card-badge-caution-dot-color\": color.badge.caution.dot,\n    \"--card-badge-caution-fg-color\": color.badge.caution.fg,\n    \"--card-badge-caution-icon-color\": color.badge.caution.icon,\n    \"--card-badge-critical-bg-color\": color.badge.critical.bg,\n    \"--card-badge-critical-dot-color\": color.badge.critical.dot,\n    \"--card-badge-critical-fg-color\": color.badge.critical.fg,\n    \"--card-badge-critical-icon-color\": color.badge.critical.icon,\n    \"--card-code-bg-color\": color.code.bg,\n    \"--card-code-fg-color\": color.code.fg,\n    \"--card-fg-color\": color.fg,\n    \"--card-icon-color\": color.icon,\n    \"--card-kbd-bg-color\": color.kbd.bg,\n    \"--card-kbd-border-color\": color.kbd.border,\n    \"--card-kbd-fg-color\": color.kbd.fg,\n    \"--card-link-fg-color\": color.link.fg,\n    \"--card-muted-bg-color\": color.muted.bg,\n    \"--card-muted-fg-color\": color.muted.fg,\n    \"--card-skeleton-color-from\": color.skeleton.from,\n    \"--card-skeleton-color-to\": color.skeleton.to,\n    // deprecated variables (kept for legacy)\n    \"--card-bg2-color\": color.muted.bg,\n    \"--card-link-color\": color.link.fg,\n    \"--card-hairline-soft-color\": color.border,\n    \"--card-hairline-hard-color\": color.border\n  };\n}\nfunction buttonBaseStyles(props) {\n  const { $width } = props, { style } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    ${style == null ? void 0 : style.button};\n\n    -webkit-font-smoothing: inherit;\n    appearance: none;\n    display: inline-flex;\n    align-items: center;\n    font: inherit;\n    border: 0;\n    outline: none;\n    user-select: none;\n    text-decoration: none;\n    border: 0;\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n    white-space: nowrap;\n    text-align: left;\n    position: relative;\n    vertical-align: top;\n\n    ${$width === \"fill\" && (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n      width: -moz-available;\n      width: -webkit-fill-available;\n      width: stretch;\n    `}\n\n    & > span {\n      display: block;\n      flex: 1;\n      min-width: 0;\n      border-radius: inherit;\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n      padding: 0;\n    }\n  `;\n}\nfunction combineBoxShadow(...boxShadows) {\n  return boxShadows.filter(Boolean).join(\",\");\n}\nfunction buttonColorStyles(props) {\n  var _a;\n  const { $mode } = props, { button, color: baseColor, style } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), shadow = props.$mode === \"ghost\", mode = baseColor.button[$mode] || baseColor.button.default, color = mode[props.$tone] || mode.default, border2 = {\n    width: button.border.width,\n    color: \"var(--card-border-color)\"\n  }, defaultBoxShadow = void 0;\n  return [\n    _cardColorStyle(baseColor, color.enabled),\n    {\n      backgroundColor: \"var(--card-bg-color)\",\n      color: \"var(--card-fg-color)\",\n      boxShadow: focusRingBorderStyle(border2),\n      '&:disabled, &[data-disabled=\"true\"]': _cardColorStyle(baseColor, color.disabled),\n      \"&:not([data-disabled='true'])\": {\n        boxShadow: combineBoxShadow(\n          focusRingBorderStyle(border2),\n          shadow ? defaultBoxShadow : void 0\n        ),\n        \"&:focus\": {\n          boxShadow: focusRingStyle({\n            base: baseColor,\n            border: { width: 2, color: baseColor.bg },\n            focusRing: button.focusRing\n          })\n        },\n        \"&:focus:not(:focus-visible)\": {\n          boxShadow: combineBoxShadow(\n            focusRingBorderStyle(border2),\n            shadow ? defaultBoxShadow : void 0\n          )\n        },\n        \"@media (hover: hover)\": {\n          \"&:hover\": _cardColorStyle(baseColor, color.hovered),\n          \"&:active\": _cardColorStyle(baseColor, color.pressed),\n          \"&[data-hovered]\": _cardColorStyle(baseColor, color.hovered)\n        },\n        \"&[data-selected]\": _cardColorStyle(baseColor, color.pressed)\n      }\n    },\n    (_a = style == null ? void 0 : style.button) == null ? void 0 : _a.root\n  ].filter(Boolean);\n}\nconst Root$t = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.button(responsiveRadiusStyle, buttonBaseStyles, buttonColorStyles), LoadingBox = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--card-bg-color);\n  border-radius: inherit;\n  z-index: 1;\n  box-shadow: inherit;\n`, Button = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const {\n    children,\n    disabled,\n    fontSize: fontSize2 = 1,\n    icon: IconComponent,\n    iconRight: IconRightComponent,\n    justify: justifyProp = \"center\",\n    loading,\n    mode = \"default\",\n    padding: paddingProp = 3,\n    paddingX: paddingXProp,\n    paddingY: paddingYProp,\n    paddingTop: paddingTopProp,\n    paddingBottom: paddingBottomProp,\n    paddingLeft: paddingLeftProp,\n    paddingRight: paddingRightProp,\n    radius: radiusProp = 2,\n    selected,\n    space: spaceProp = 3,\n    text,\n    textAlign,\n    tone = \"default\",\n    type = \"button\",\n    muted = !1,\n    width,\n    ...restProps\n  } = props, { button } = useTheme_v2(), justify = useArrayProp(justifyProp), padding = useArrayProp(paddingProp), paddingX = useArrayProp(paddingXProp), paddingY = useArrayProp(paddingYProp), paddingTop = useArrayProp(paddingTopProp), paddingBottom = useArrayProp(paddingBottomProp), paddingLeft = useArrayProp(paddingLeftProp), paddingRight = useArrayProp(paddingRightProp), radius = useArrayProp(radiusProp), space = useArrayProp(spaceProp), boxProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      // flex: 1,\n      padding,\n      paddingX,\n      paddingY,\n      paddingTop,\n      paddingBottom,\n      paddingLeft,\n      paddingRight\n    }),\n    [padding, paddingX, paddingY, paddingTop, paddingBottom, paddingLeft, paddingRight]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    Root$t,\n    {\n      \"data-ui\": \"Button\",\n      ...restProps,\n      $mode: mode,\n      $radius: radius,\n      $tone: tone,\n      \"data-disabled\": !!(loading || disabled),\n      \"data-selected\": selected ? \"\" : void 0,\n      disabled: !!(loading || disabled),\n      ref,\n      type,\n      $width: width,\n      children: [\n        !!loading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LoadingBox, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Spinner, {}) }),\n        (IconComponent || text || IconRightComponent) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { as: \"span\", ...boxProps, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Flex, { as: \"span\", justify, gap: space, children: [\n          IconComponent && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Text, { size: fontSize2, children: [\n            (0,react__WEBPACK_IMPORTED_MODULE_1__.isValidElement)(IconComponent) && IconComponent,\n            (0,react_is__WEBPACK_IMPORTED_MODULE_2__.isValidElementType)(IconComponent) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconComponent, {})\n          ] }),\n          text && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            Text,\n            {\n              muted,\n              align: textAlign,\n              size: fontSize2,\n              textOverflow: \"ellipsis\",\n              weight: button.textWeight,\n              children: text\n            }\n          ),\n          IconRightComponent && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Text, { size: fontSize2, children: [\n            (0,react__WEBPACK_IMPORTED_MODULE_1__.isValidElement)(IconRightComponent) && IconRightComponent,\n            (0,react_is__WEBPACK_IMPORTED_MODULE_2__.isValidElementType)(IconRightComponent) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconRightComponent, {})\n          ] })\n        ] }) }),\n        children && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { as: \"span\", ...boxProps, children })\n      ]\n    }\n  );\n});\nfunction cardStyle(props) {\n  return [cardBaseStyle(props), cardColorStyle(props)];\n}\nfunction cardBaseStyle(props) {\n  const { $checkered } = props, { space } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    ${$checkered && (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n      background-size: ${space[3]}px ${space[3]}px;\n      background-position: 50% 50%;\n      background-image: var(--card-bg-image);\n    `}\n\n    &[data-as='button'] {\n      -webkit-font-smoothing: inherit;\n      appearance: none;\n      outline: none;\n      font: inherit;\n      text-align: inherit;\n      border: 0;\n      width: -moz-available;\n      width: -webkit-fill-available;\n      width: stretch;\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      outline: none;\n      text-decoration: none;\n    }\n\n    /* &:is(pre) */\n    &[data-as='pre'] {\n      font: inherit;\n    }\n  `;\n}\nfunction cardColorStyle(props) {\n  var _a;\n  const { $checkered, $focusRing, $muted } = props, { card, color, style } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), border2 = { width: card.border.width, color: \"var(--card-border-color)\" };\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    color-scheme: ${color._dark ? \"dark\" : \"light\"};\n\n    ${_cardColorStyle(color, color, $checkered)}\n\n    background-color: ${$muted ? \"var(--card-muted-bg-color)\" : \"var(--card-bg-color)\"};\n    color: var(--card-fg-color);\n\n    /* &:is(button) */\n    &[data-as='button'] {\n      --card-focus-ring-box-shadow: none;\n\n      cursor: default;\n      box-shadow: var(--card-focus-ring-box-shadow);\n\n      &:disabled {\n        ${_cardColorStyle(color, color.selectable.default.disabled, $checkered)}\n      }\n\n      &:not(:disabled) {\n        &[data-pressed] {\n          ${_cardColorStyle(color, color.selectable.default.pressed, $checkered)}\n        }\n\n        &[data-selected] {\n          ${_cardColorStyle(color, color.selectable.default.selected, $checkered)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-pressed]):not([data-selected]) {\n            &[data-hovered],\n            &:hover {\n              ${_cardColorStyle(color, color.selectable.default.hovered, $checkered)}\n            }\n\n            &:active {\n              ${_cardColorStyle(color, color.selectable.default.pressed, $checkered)}\n            }\n          }\n        }\n\n        &:focus-visible {\n          --card-focus-ring-box-shadow: ${$focusRing ? focusRingStyle({ base: color, border: border2, focusRing: card.focusRing }) : void 0};\n        }\n      }\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      cursor: pointer;\n      box-shadow: var(--card-focus-ring-box-shadow);\n\n      &[data-disabled] {\n        ${_cardColorStyle(color, color.selectable.default.disabled, $checkered)}\n      }\n\n      &:not([data-disabled]) {\n        &[data-pressed] {\n          ${_cardColorStyle(color, color.selectable.default.pressed, $checkered)}\n        }\n\n        &[data-selected] {\n          ${_cardColorStyle(color, color.selectable.default.selected, $checkered)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-pressed]):not([data-selected]) {\n            &[data-hovered],\n            &:hover {\n              ${_cardColorStyle(color, color.selectable.default.hovered, $checkered)}\n            }\n\n            &:active {\n              ${_cardColorStyle(color, color.selectable.default.pressed, $checkered)}\n            }\n          }\n        }\n\n        &:focus-visible {\n          --card-focus-ring-box-shadow: ${$focusRing ? focusRingStyle({ base: color, border: border2, focusRing: card.focusRing }) : void 0};\n        }\n      }\n    }\n\n    ${(_a = style == null ? void 0 : style.card) == null ? void 0 : _a.root}\n  `;\n}\nconst Root$s = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)(responsiveBorderStyle, responsiveRadiusStyle, responsiveShadowStyle, cardStyle), Card = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const {\n    __unstable_checkered: checkered = !1,\n    __unstable_focusRing: focusRing = !1,\n    as: asProp,\n    border: border2,\n    borderTop: borderTop2,\n    borderRight: borderRight2,\n    borderBottom: borderBottom2,\n    borderLeft: borderLeft2,\n    muted,\n    pressed,\n    radius = 0,\n    scheme,\n    selected,\n    shadow,\n    tone: toneProp = \"default\",\n    ...restProps\n  } = props, as = (0,react_is__WEBPACK_IMPORTED_MODULE_2__.isValidElementType)(asProp) ? asProp : \"div\", rootTheme = useRootTheme(), tone = toneProp === \"inherit\" ? rootTheme.tone : toneProp;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ThemeColorProvider, { scheme, tone, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$s,\n    {\n      \"data-as\": typeof as == \"string\" ? as : void 0,\n      \"data-scheme\": rootTheme.scheme,\n      \"data-ui\": \"Card\",\n      \"data-tone\": tone,\n      ...restProps,\n      $border: useArrayProp(border2),\n      $borderTop: useArrayProp(borderTop2),\n      $borderRight: useArrayProp(borderRight2),\n      $borderBottom: useArrayProp(borderBottom2),\n      $borderLeft: useArrayProp(borderLeft2),\n      $checkered: checkered,\n      $focusRing: focusRing,\n      $muted: muted,\n      $radius: useArrayProp(radius),\n      $shadow: useArrayProp(shadow),\n      $tone: tone,\n      \"data-checkered\": checkered ? \"\" : void 0,\n      \"data-pressed\": pressed ? \"\" : void 0,\n      \"data-selected\": selected ? \"\" : void 0,\n      forwardedAs: as,\n      ref,\n      selected\n    }\n  ) });\n});\nfunction checkboxBaseStyles() {\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    position: relative;\n    display: inline-block;\n  `;\n}\nfunction inputElementStyles(props) {\n  const { color, input, radius } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), { focusRing } = input.checkbox;\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    outline: none;\n    opacity: 0;\n    z-index: 1;\n    padding: 0;\n    margin: 0;\n\n    & + span {\n      position: relative;\n      display: block;\n      height: ${rem(input.checkbox.size)};\n      width: ${rem(input.checkbox.size)};\n      box-sizing: border-box;\n      box-shadow: ${focusRingBorderStyle({\n    color: color.input.default.enabled.border,\n    width: input.border.width\n  })};\n      border-radius: ${rem(radius[2])};\n      line-height: 1;\n      background-color: ${color.input.default.enabled.bg};\n\n      & > svg {\n        display: block;\n        position: absolute;\n        opacity: 0;\n        height: 100%;\n        width: 100%;\n\n        & > path {\n          vector-effect: non-scaling-stroke;\n          stroke-width: 1.5px !important;\n        }\n      }\n    }\n\n    &:checked + span {\n      background: ${color.input.default.enabled.fg};\n      box-shadow: ${focusRingBorderStyle({\n    color: color.input.default.enabled.fg,\n    width: input.border.width\n  })};\n      color: ${color.input.default.enabled.bg};\n    }\n\n    /* focus */\n    &:not(:disabled):focus:focus-visible + span {\n      box-shadow: ${focusRingStyle({ focusRing })};\n    }\n\n    /* focus when checked - uses a different offset */\n    &:not(:disabled):focus:focus-visible&:checked + span {\n      box-shadow: ${focusRingStyle({ focusRing: { width: 1, offset: 1 } })};\n    }\n\n    &[data-error] + span {\n      background-color: ${color.input.invalid.enabled.border};\n      box-shadow: ${focusRingBorderStyle({\n    width: input.border.width,\n    color: color.input.invalid.enabled.muted.bg\n  })};\n      color: ${color.input.default.disabled.fg};\n    }\n    &[data-error]&:checked + span {\n      background-color: ${color.input.invalid.enabled.muted.bg};\n      color: ${color.input.default.enabled.bg};\n    }\n    &[data-error]&:checked&:not(:disabled):focus:focus-visible + span {\n      box-shadow: ${focusRingStyle({\n    border: { width: input.border.width, color: color.input.invalid.readOnly.muted.bg },\n    focusRing: { width: 1, offset: 1 }\n  })};\n    }\n\n    &:disabled + span {\n      background-color: ${color.input.default.disabled.bg};\n      box-shadow: ${focusRingBorderStyle({\n    width: input.border.width,\n    color: color.input.default.disabled.border\n  })};\n      color: ${color.input.default.disabled.fg};\n    }\n    &:disabled&:checked + span {\n      background-color: ${color.input.default.disabled.muted.bg};\n    }\n\n    &[data-read-only] + span {\n      background-color: ${color.input.default.readOnly.bg};\n      box-shadow: ${focusRingBorderStyle({\n    width: input.border.width,\n    color: color.input.default.readOnly.border\n  })};\n      color: ${color.input.default.readOnly.fg};\n    }\n\n    &[data-read-only]&:checked + span {\n      background-color: ${color.input.default.readOnly.muted.bg};\n    }\n\n    &:checked + span > svg:first-child {\n      opacity: 1;\n    }\n    &:indeterminate + span > svg:last-child {\n      opacity: 1;\n    }\n  `;\n}\nconst Root$r = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(checkboxBaseStyles), Input$5 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.input(inputElementStyles), Checkbox = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const {\n    checked,\n    className,\n    disabled,\n    indeterminate,\n    customValidity,\n    readOnly,\n    style,\n    ...restProps\n  } = props, ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n    forwardedRef,\n    () => ref.current\n  ), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    ref.current && (ref.current.indeterminate = indeterminate || !1);\n  }, [indeterminate]), useCustomValidity(ref, customValidity), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Root$r, { className, \"data-ui\": \"Checkbox\", style, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      Input$5,\n      {\n        \"data-read-only\": !disabled && readOnly ? \"\" : void 0,\n        \"data-error\": customValidity ? \"\" : void 0,\n        ...restProps,\n        checked,\n        disabled: disabled || readOnly,\n        type: \"checkbox\",\n        readOnly,\n        ref\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", { children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_8__.CheckmarkIcon, {}),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_8__.RemoveIcon, {})\n    ] })\n  ] });\n});\nfunction codeSyntaxHighlightingStyle({ theme }) {\n  const {\n    color: { syntax: color }\n  } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(theme);\n  return {\n    \"&.atrule\": { color: color.atrule },\n    \"&.attr-name\": { color: color.attrName },\n    \"&.attr-value\": { color: color.attrValue },\n    \"&.attribute\": { color: color.attribute },\n    \"&.boolean\": { color: color.boolean },\n    \"&.builtin\": { color: color.builtin },\n    \"&.cdata\": { color: color.cdata },\n    \"&.char\": { color: color.char },\n    \"&.class\": { color: color.class },\n    \"&.class-name\": { color: color.className },\n    \"&.comment\": { color: color.comment },\n    \"&.constant\": { color: color.constant },\n    \"&.deleted\": { color: color.deleted },\n    \"&.doctype\": { color: color.doctype },\n    \"&.entity\": { color: color.entity },\n    \"&.function\": { color: color.function },\n    \"&.hexcode\": { color: color.hexcode },\n    \"&.id\": { color: color.id },\n    \"&.important\": { color: color.important },\n    \"&.inserted\": { color: color.inserted },\n    \"&.keyword\": { color: color.keyword },\n    \"&.number\": { color: color.number },\n    \"&.operator\": { color: color.operator },\n    \"&.prolog\": { color: color.prolog },\n    \"&.property\": { color: color.property },\n    \"&.pseudo-class\": { color: color.pseudoClass },\n    \"&.pseudo-element\": { color: color.pseudoElement },\n    \"&.punctuation\": { color: color.punctuation },\n    \"&.regex\": { color: color.regex },\n    \"&.selector\": { color: color.selector },\n    \"&.string\": { color: color.string },\n    \"&.symbol\": { color: color.symbol },\n    \"&.tag\": { color: color.tag },\n    \"&.unit\": { color: color.unit },\n    \"&.url\": { color: color.url },\n    \"&.variable\": { color: color.variable }\n  };\n}\nfunction codeBaseStyle() {\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    color: var(--card-code-fg-color);\n\n    & code {\n      font-family: inherit;\n\n      &.refractor .token {\n        ${codeSyntaxHighlightingStyle}\n      }\n    }\n\n    & a {\n      color: inherit;\n      text-decoration: underline;\n      border-radius: 1px;\n    }\n\n    & svg {\n      /* Certain popular CSS libraries changes the defaults for SVG display */\n      /* Make sure SVGs are rendered as inline elements */\n      display: inline;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `;\n}\nconst Root$q = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.pre(codeBaseStyle, responsiveCodeFontStyle), Code = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { children, language: languageProp, size: size2 = 2, weight, ...restProps } = props, language = typeof languageProp == \"string\" ? languageProp : void 0, registered = language ? react_refractor__WEBPACK_IMPORTED_MODULE_3__.hasLanguage(language) : !1;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Root$q, { \"data-ui\": \"Code\", ...restProps, $size: useArrayProp(size2), $weight: weight, ref, children: [\n    !(language && registered) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", { children }),\n    language && registered && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_refractor__WEBPACK_IMPORTED_MODULE_3__, { inline: !0, language, value: String(children) })\n  ] });\n}), BASE_STYLE$1 = {\n  width: \"100%\",\n  margin: \"0 auto\"\n};\nfunction containerBaseStyle() {\n  return BASE_STYLE$1;\n}\nfunction responsiveContainerWidthStyle(props) {\n  const { container, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$width, (val) => ({\n    maxWidth: val === \"auto\" ? \"none\" : rem(container[val])\n  }));\n}\nconst Root$p = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)(\n  containerBaseStyle,\n  responsiveContainerWidthStyle\n), Container = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { as, width = 2, ...restProps } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$p,\n    {\n      \"data-ui\": \"Container\",\n      ...restProps,\n      $width: useArrayProp(width),\n      forwardedAs: as,\n      ref\n    }\n  );\n}), Root$o = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)(responsiveGridStyle), Grid = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { as, autoRows, autoCols, autoFlow, columns, gap, gapX, gapY, rows, children, ...restProps } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$o,\n    {\n      \"data-as\": typeof as == \"string\" ? as : void 0,\n      \"data-ui\": \"Grid\",\n      ...restProps,\n      $autoRows: useArrayProp(autoRows),\n      $autoCols: useArrayProp(autoCols),\n      $autoFlow: useArrayProp(autoFlow),\n      $columns: useArrayProp(columns),\n      $gap: useArrayProp(gap),\n      $gapX: useArrayProp(gapX),\n      $gapY: useArrayProp(gapY),\n      $rows: useArrayProp(rows),\n      forwardedAs: as,\n      ref,\n      children\n    }\n  );\n});\nfunction headingBaseStyle(props) {\n  const { $accent, $muted } = props, { font } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    ${$accent && (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted && (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${font.code.family};\n      border-radius: 1px;\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n      color: var(--card-link-color);\n      outline: none;\n\n      @media (hover: hover) {\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n\n      &:focus {\n        box-shadow:\n          0 0 0 1px var(--card-bg-color),\n          0 0 0 3px var(--card-focus-ring-color);\n      }\n\n      &:focus:not(:focus-visible) {\n        box-shadow: none;\n      }\n    }\n\n    & strong {\n      font-weight: ${font.heading.weights.bold};\n    }\n\n    & svg {\n      /* Certain popular CSS libraries changes the defaults for SVG display */\n      /* Make sure SVGs are rendered as inline elements */\n      display: inline;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `;\n}\nconst Root$n = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(headingBaseStyle, responsiveTextAlignStyle, responsiveHeadingFont), SpanWithTextOverflow = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  overflow: clip;\n`, Heading = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const {\n    accent = !1,\n    align,\n    children: childrenProp,\n    muted = !1,\n    size: size2 = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props;\n  let children = childrenProp;\n  return textOverflow === \"ellipsis\" && (children = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SpanWithTextOverflow, { children })), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$n,\n    {\n      \"data-ui\": \"Heading\",\n      ...restProps,\n      $accent: accent,\n      $align: useArrayProp(align),\n      $muted: muted,\n      $size: useArrayProp(size2),\n      $weight: weight,\n      ref,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children })\n    }\n  );\n});\nfunction inlineBaseStyle() {\n  return {\n    lineHeight: 0,\n    \"&&:not([hidden])\": {\n      display: \"block\"\n    },\n    \"& > div\": {\n      display: \"inline-block\",\n      verticalAlign: \"middle\"\n    }\n  };\n}\nfunction inlineSpaceStyle(props) {\n  const { media, space } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$space, (spaceIndex) => {\n    const _space = rem(spaceIndex === 0.5 ? space[1] / 2 : space[spaceIndex]);\n    return {\n      margin: `-${_space} 0 0 -${_space}`,\n      \"& > div\": { padding: `${_space} 0 0 ${_space}` }\n    };\n  });\n}\nconst Root$m = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)(inlineBaseStyle, inlineSpaceStyle), Inline = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { as, children: childrenProp, space, ...restProps } = props, children = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => react__WEBPACK_IMPORTED_MODULE_1__.Children.map(childrenProp, (child) => child && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: child })),\n    [childrenProp]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$m,\n    {\n      \"data-ui\": \"Inline\",\n      ...restProps,\n      $space: useArrayProp(space),\n      forwardedAs: as,\n      ref,\n      children\n    }\n  );\n});\nfunction kbdStyle() {\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    --card-bg-color: var(--card-kbd-bg-color);\n    --card-border-color: var(--card-kbd-border-color);\n    --card-fg-color: var(--card-kbd-fg-color);\n\n    box-shadow: inset 0 0 0 1px var(--card-border-color);\n    background: var(--card-bg-color);\n    font: inherit;\n\n    vertical-align: top;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `;\n}\nconst Root$l = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.kbd(responsiveRadiusStyle, kbdStyle), KBD = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { children, fontSize: fontSize2 = 0, padding = 1, radius = 2, ...restProps } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$l, { \"data-ui\": \"KBD\", ...restProps, $radius: useArrayProp(radius), ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { as: \"span\", padding, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { as: \"span\", size: fontSize2, weight: \"semibold\", children }) }) });\n}), origin = {\n  name: \"@sanity/ui/origin\",\n  fn({ middlewareData, placement, rects }) {\n    var _a, _b;\n    const [side] = placement.split(\"-\"), floatingWidth = rects.floating.width, floatingHeight = rects.floating.height, shiftX = ((_a = middlewareData.shift) == null ? void 0 : _a.x) || 0, shiftY = ((_b = middlewareData.shift) == null ? void 0 : _b.y) || 0;\n    if (floatingWidth <= 0 || floatingHeight <= 0)\n      return {};\n    const isVerticalPlacement = [\"bottom\", \"top\"].includes(side), { originX, originY } = isVerticalPlacement ? {\n      originX: clamp(0.5 - shiftX / floatingWidth, 0, 1),\n      originY: side === \"bottom\" ? 0 : 1\n    } : {\n      originX: side === \"left\" ? 1 : 0,\n      originY: clamp(0.5 - shiftY / floatingHeight, 0, 1)\n    };\n    return {\n      data: { originX, originY }\n    };\n  }\n};\nfunction clamp(num, min, max) {\n  return Math.min(Math.max(num, min), max);\n}\nfunction moveTowardsLength(movingPoint, targetPoint, amount) {\n  const width = targetPoint.x - movingPoint.x, height = targetPoint.y - movingPoint.y, distance = Math.sqrt(width * width + height * height);\n  return moveTowardsFractional(movingPoint, targetPoint, Math.min(1, amount / distance));\n}\nfunction moveTowardsFractional(movingPoint, targetPoint, fraction) {\n  return {\n    x: movingPoint.x + (targetPoint.x - movingPoint.x) * fraction,\n    y: movingPoint.y + (targetPoint.y - movingPoint.y) * fraction\n  };\n}\nfunction getRoundedCommands(points) {\n  const len = points.length, cmds = [];\n  for (let i = 0; i < len; i += 1) {\n    const point = points[i], prevPoint = points[i - 1], nextPoint = points[i + 1];\n    if (prevPoint && point.radius) {\n      const curveStart = moveTowardsLength(point, prevPoint, point.radius), curveEnd = moveTowardsLength(point, nextPoint, point.radius), startControl = moveTowardsFractional(curveStart, point, 0.5), endControl = moveTowardsFractional(point, curveEnd, 0.5);\n      cmds.push({\n        type: \"point\",\n        ...curveStart\n      }), cmds.push({\n        type: \"curve\",\n        curveEnd,\n        startControl,\n        endControl\n      });\n    } else\n      cmds.push({\n        type: \"point\",\n        ...point\n      });\n  }\n  return cmds;\n}\nfunction compileCommands(cmds) {\n  return cmds.map((n, idx) => n.type === \"point\" ? `${idx === 0 ? \"M\" : \"L\"} ${n.x} ${n.y}` : n.type === \"curve\" ? `C ${n.startControl.x} ${n.startControl.y} ${n.endControl.x} ${n.endControl.y} ${n.curveEnd.x} ${n.curveEnd.y}` : \"\").join(\" \");\n}\nconst Root$k = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(\n  ({ $w: w }) => (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    position: absolute;\n    width: ${w}px;\n    height: ${w}px;\n\n    :empty + & {\n      display: none;\n    }\n\n    & > svg {\n      display: block;\n      line-height: 0;\n      transform-origin: ${w / 2}px ${w / 2}px;\n    }\n\n    [data-placement^='top'] > & {\n      bottom: -${w}px;\n\n      & > svg {\n        transform: rotate(0);\n      }\n    }\n\n    [data-placement^='right'] > & {\n      left: -${w}px;\n\n      & > svg {\n        transform: rotate(90deg);\n      }\n    }\n\n    [data-placement^='left'] > & {\n      right: -${w}px;\n\n      & > svg {\n        transform: rotate(-90deg);\n      }\n    }\n\n    [data-placement^='bottom'] > & {\n      top: -${w}px;\n\n      & > svg {\n        transform: rotate(180deg);\n      }\n    }\n  `\n), StrokePath = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.path`\n  stroke: var(--card-shadow-outline-color);\n`, ShapePath = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.path`\n  fill: var(--card-bg-color);\n`, Arrow = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { width: w, height: h, radius = 0, ...restProps } = props, { card } = useTheme_v2(), strokeWidth = card.shadow.outline, center = w / 2, points = [\n    {\n      x: 0,\n      y: 0\n    },\n    {\n      x: radius,\n      y: 0,\n      radius\n    },\n    {\n      x: center,\n      y: h - 1,\n      radius\n    },\n    {\n      x: w - radius,\n      y: 0,\n      radius\n    },\n    {\n      x: w,\n      y: 0\n    }\n  ], cmds = getRoundedCommands(points), path = compileCommands(cmds), strokePath = `${path}`, fillPath = `${path} M ${w} -1 M 0 -1 Z`;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$k, { ...restProps, $w: w, ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", { width: w, height: w, viewBox: `0 0 ${w} ${w}`, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"mask\", { id: \"stroke-mask\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"rect\", { x: 0, y: strokeWidth, width: w, height: w, fill: \"white\" }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StrokePath, { d: strokePath, mask: \"url(#stroke-mask)\", strokeWidth: strokeWidth * 2 }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ShapePath, { d: fillPath })\n  ] }) });\n}), key$7 = Symbol.for(\"@sanity/ui/context/boundaryElement\"), BoundaryElementContext = createGlobalScopedContext(\n  key$7,\n  null\n);\nfunction BoundaryElementProvider(props) {\n  const { children, element } = props, value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({ version: 0, element }), [element]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BoundaryElementContext.Provider, { value, children });\n}\nfunction isRecord(value) {\n  return !!(value && typeof value == \"object\" && !Array.isArray(value));\n}\nconst DEFAULT_VALUE = {\n  version: 0,\n  element: null\n};\nfunction useBoundaryElement() {\n  const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(BoundaryElementContext);\n  if (value && (!isRecord(value) || value.version !== 0))\n    throw new Error(\"useBoundaryElement(): the context value is not compatible\");\n  return value || DEFAULT_VALUE;\n}\nfunction ConditionalWrapper({\n  children,\n  condition,\n  wrapper\n}) {\n  return condition ? wrapper(children) : children;\n}\nfunction findMaxBreakpoints(media, width) {\n  const ret = [];\n  for (let i = 0; i < media.length; i += 1)\n    media[i] > width && ret.push(i);\n  return ret;\n}\nfunction findMinBreakpoints(media, width) {\n  const ret = [];\n  for (let i = 0; i < media.length; i += 1)\n    media[i] <= width && ret.push(i);\n  return ret;\n}\nconst ElementQuery = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const theme = useTheme_v2(), { children, media = theme.media, ...restProps } = props, ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), [element, setElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), elementSize = useElementSize(element), width = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    var _a;\n    return (_a = elementSize == null ? void 0 : elementSize.border.width) != null ? _a : window.innerWidth;\n  }, [elementSize]), max = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => findMaxBreakpoints(media, width), [media, width]), min = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => findMinBreakpoints(media, width), [media, width]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(forwardedRef, () => ref.current);\n  const setRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((el) => {\n    ref.current = el, setElement(el);\n  }, []);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"div\",\n    {\n      \"data-ui\": \"ElementQuery\",\n      ...restProps,\n      \"data-eq-max\": max.length ? max.join(\" \") : void 0,\n      \"data-eq-min\": min.length ? min.join(\" \") : void 0,\n      ref: setRef,\n      children\n    }\n  );\n});\nvar __defProp = Object.defineProperty, __defNormalProp = (obj, key2, value) => key2 in obj ? __defProp(obj, key2, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key2] = value, __publicField = (obj, key2, value) => __defNormalProp(obj, key2 + \"\", value);\nclass ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_1__.Component {\n  constructor() {\n    super(...arguments), __publicField(this, \"state\", { error: null });\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  componentDidCatch(error, info) {\n    this.props.onCatch({ error, info });\n  }\n  render() {\n    const { error } = this.state;\n    if (error) {\n      const message = typeof (error == null ? void 0 : error.message) == \"string\" ? error.message : \"Error\";\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Code, { children: message });\n    }\n    return this.props.children;\n  }\n}\nfunction getLayerContext(contextValue) {\n  if (!isRecord(contextValue) || contextValue.version !== 0)\n    throw new Error(\"the context value is not compatible\");\n  if (!contextValue)\n    throw new Error(\"components using `useLayer()` should be wrapped in a <LayerProvider>.\");\n  if (contextValue.version === 0)\n    return contextValue;\n  throw new Error(\"could not get layer context\");\n}\nconst key$6 = Symbol.for(\"@sanity/ui/context/layer\"), LayerContext = createGlobalScopedContext(key$6, null);\nfunction useLayer() {\n  const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(LayerContext);\n  if (!value)\n    throw new Error(\"useLayer(): missing context value\");\n  try {\n    return getLayerContext(value);\n  } catch (err) {\n    throw err instanceof Error ? new Error(`useLayer(): ${err.message}`) : new Error(`useLayer(): ${err}`);\n  }\n}\nfunction _raf(fn) {\n  const frameId = requestAnimationFrame(fn);\n  return () => {\n    cancelAnimationFrame(frameId);\n  };\n}\nfunction _raf2(fn) {\n  let innerDispose = null;\n  const outerDispose = _raf(() => {\n    innerDispose = _raf(fn);\n  });\n  return () => {\n    innerDispose && innerDispose(), outerDispose();\n  };\n}\nfunction _isEnterToClickElement(element) {\n  return isHTMLAnchorElement(element) || isHTMLButtonElement(element);\n}\nfunction isHTMLElement(node) {\n  return node instanceof Node && node.nodeType === Node.ELEMENT_NODE;\n}\nfunction isHTMLAnchorElement(element) {\n  return isHTMLElement(element) && element.nodeName === \"A\";\n}\nfunction isHTMLInputElement(element) {\n  return isHTMLElement(element) && element.nodeName === \"INPUT\";\n}\nfunction isHTMLButtonElement(element) {\n  return isHTMLElement(element) && element.nodeName === \"BUTTON\";\n}\nfunction isHTMLSelectElement(element) {\n  return isHTMLElement(element) && element.nodeName === \"SELECT\";\n}\nfunction isHTMLTextAreaElement(element) {\n  return isHTMLElement(element) && element.nodeName === \"TEXTAREA\";\n}\nfunction containsOrEqualsElement(element, node) {\n  return element.contains(node) || element === node;\n}\nfunction _hasFocus(element) {\n  return !!document.activeElement && element.contains(document.activeElement);\n}\nfunction isFocusable(element) {\n  return element.tabIndex > 0 || element.tabIndex === 0 && element.getAttribute(\"tabIndex\") !== null ? !0 : isHTMLAnchorElement(element) ? !!element.href && element.rel !== \"ignore\" : isHTMLInputElement(element) ? element.type !== \"hidden\" && element.type !== \"file\" && !element.disabled : isHTMLButtonElement(element) || isHTMLSelectElement(element) || isHTMLTextAreaElement(element) ? !element.disabled : !1;\n}\nfunction attemptFocus(element) {\n  if (!isFocusable(element))\n    return !1;\n  try {\n    element.focus();\n  } catch {\n  }\n  return document.activeElement === element;\n}\nfunction focusFirstDescendant(element) {\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const child = element.childNodes[i];\n    if (isHTMLElement(child) && (attemptFocus(child) || focusFirstDescendant(child)))\n      return !0;\n  }\n  return !1;\n}\nfunction focusLastDescendant(element) {\n  for (let i = element.childNodes.length - 1; i >= 0; i--) {\n    const child = element.childNodes[i];\n    if (isHTMLElement(child) && (attemptFocus(child) || focusLastDescendant(child)))\n      return !0;\n  }\n  return !1;\n}\nfunction _isScrollable(el) {\n  if (!(el instanceof Element)) return !1;\n  const style = window.getComputedStyle(el);\n  return style.overflowX.includes(\"auto\") || style.overflowX.includes(\"scroll\") || style.overflowY.includes(\"auto\") || style.overflowY.includes(\"scroll\");\n}\nfunction LayerProvider(props) {\n  var _a;\n  const { children, zOffset: zOffsetProp = 0 } = props, parentContextValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(LayerContext), parent = parentContextValue && getLayerContext(parentContextValue), parentRegisterChild = parent == null ? void 0 : parent.registerChild, level = ((_a = parent == null ? void 0 : parent.level) != null ? _a : 0) + 1, zOffset = useArrayProp(zOffsetProp), maxMediaIndex = zOffset.length - 1, mediaIndex = Math.min(useMediaIndex(), maxMediaIndex), zIndex = parent ? parent.zIndex + zOffset[mediaIndex] : zOffset[mediaIndex], [, setChildLayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}), [size2, setSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0), isTopLayer = size2 === 0, registerChild = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (childLevel) => {\n      const parentDispose = parentRegisterChild == null ? void 0 : parentRegisterChild(childLevel);\n      return childLevel !== void 0 ? setChildLayers((state) => {\n        var _a2;\n        const prevLen = (_a2 = state[childLevel]) != null ? _a2 : 0, nextState = { ...state, [childLevel]: prevLen + 1 };\n        return setSize(Object.keys(nextState).length), nextState;\n      }) : setSize((v) => v + 1), () => {\n        childLevel !== void 0 ? setChildLayers((state) => {\n          const nextState = { ...state };\n          return nextState[childLevel] === 1 ? (delete nextState[childLevel], setSize(Object.keys(nextState).length)) : nextState[childLevel] -= 1, nextState;\n        }) : setSize((v) => v - 1), parentDispose == null || parentDispose();\n      };\n    },\n    [parentRegisterChild]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => parentRegisterChild == null ? void 0 : parentRegisterChild(level), [level, parentRegisterChild]);\n  const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      version: 0,\n      isTopLayer,\n      level,\n      registerChild,\n      size: size2,\n      zIndex\n    }),\n    [isTopLayer, level, registerChild, size2, zIndex]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LayerContext.Provider, { value, children });\n}\nconst Root$j = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div({ position: \"relative\" }), LayerChildren = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const { children, onActivate, onFocus, style = EMPTY_RECORD, ...restProps } = props, { zIndex, isTopLayer } = useLayer(), lastFocusedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), isTopLayerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(isTopLayer);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(forwardedRef, () => ref.current), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    isTopLayerRef.current !== isTopLayer && isTopLayer && (onActivate == null || onActivate({ activeElement: lastFocusedRef.current })), isTopLayerRef.current = isTopLayer;\n  }, [isTopLayer, onActivate]);\n  const handleFocus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      onFocus == null || onFocus(event);\n      const rootElement = ref.current, target = document.activeElement;\n      !isTopLayer || !rootElement || !target || isHTMLElement(target) && containsOrEqualsElement(rootElement, target) && (lastFocusedRef.current = target);\n    },\n    [isTopLayer, onFocus]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$j, { ...restProps, \"data-ui\": \"Layer\", onFocus: handleFocus, ref, style: { ...style, zIndex }, children });\n}), Layer = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { children, zOffset = 1, ...restProps } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LayerProvider, { zOffset, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LayerChildren, { ...restProps, ref, children }) });\n}), key$5 = Symbol.for(\"@sanity/ui/context/portal\"), elementKey = Symbol.for(\"@sanity/ui/context/portal/element\");\nglobalScope[elementKey] = null;\nconst defaultContextValue = {\n  version: 0,\n  boundaryElement: null,\n  get element() {\n    return typeof document > \"u\" ? null : (globalScope[elementKey] || (globalScope[elementKey] = document.createElement(\"div\"), globalScope[elementKey].setAttribute(\"data-portal\", \"\"), document.body.appendChild(globalScope[elementKey])), globalScope[elementKey]);\n  }\n}, PortalContext = createGlobalScopedContext(key$5, defaultContextValue);\nfunction usePortal() {\n  const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PortalContext);\n  if (!value)\n    throw new Error(\"usePortal(): missing context value\");\n  if (!isRecord(value) || value.version !== 0)\n    throw new Error(\"usePortal(): the context value is not compatible\");\n  return value;\n}\nfunction Portal(props) {\n  var _a;\n  const { children, __unstable_name: name } = props, portal = usePortal(), portalElement = (name ? portal.elements && portal.elements[name] : portal.element) || ((_a = portal.elements) == null ? void 0 : _a.default);\n  return portalElement ? (0,react_dom__WEBPACK_IMPORTED_MODULE_4__.createPortal)(children, portalElement) : null;\n}\nfunction useUnique(value) {\n  const valueRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(value);\n  return _isEqual(valueRef.current, value) || (valueRef.current = value), valueRef.current;\n}\nfunction _isEqual(objA, objB) {\n  if (!objA || !objB)\n    return objA === objB;\n  const keysA = Object.keys(objA), keysB = Object.keys(objB);\n  return keysA.length !== keysB.length ? !1 : keysA.every((key2) => objA[key2] === objB[key2]);\n}\nfunction PortalProvider(props) {\n  const { boundaryElement, children, element, __unstable_elements: elementsProp } = props, elements = useUnique(elementsProp), fallbackElement = (0,react__WEBPACK_IMPORTED_MODULE_1__.useSyncExternalStore)(\n    emptySubscribe$1,\n    () => document.body,\n    () => null\n  ), value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({\n    version: 0,\n    boundaryElement: boundaryElement || null,\n    element: element || fallbackElement,\n    elements\n  }), [boundaryElement, element, elements, fallbackElement]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PortalContext.Provider, { value, children });\n}\nconst emptySubscribe$1 = () => () => {\n}, Root$i = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div`\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  overflow: hidden;\n  overflow: clip;\n`, SrOnly = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { as, children } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$i, { \"aria-hidden\": !0, as, \"data-ui\": \"SrOnly\", ref, children });\n}), Root$h = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div`\n  position: relative;\n`, ItemWrapper = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n`, VirtualList = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const { as = \"div\", gap = 0, getItemKey, items = [], onChange, renderItem, ...restProps } = props, { space } = useTheme_v2(), ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), wrapperRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), [scrollTop, setScrollTop] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0), [scrollHeight, setScrollHeight] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0), [itemHeight, setItemHeight] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(forwardedRef, () => ref.current), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!wrapperRef.current) return;\n    const firstElement = wrapperRef.current.firstChild;\n    firstElement instanceof HTMLElement && setItemHeight(firstElement.offsetHeight);\n  }, [renderItem]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!ref.current) return;\n    let _scrollEl = ref.current.parentNode;\n    for (; _scrollEl && !_isScrollable(_scrollEl); )\n      _scrollEl = _scrollEl.parentNode;\n    if (_scrollEl) {\n      const scrollEl = _scrollEl;\n      if (!(scrollEl instanceof HTMLElement)) return;\n      const handleScroll2 = () => {\n        setScrollTop(scrollEl.scrollTop);\n      };\n      scrollEl.addEventListener(\"scroll\", handleScroll2, { passive: !0 });\n      const ro = new _ResizeObserver((entries) => {\n        setScrollHeight(entries[0].contentRect.height);\n      });\n      return ro.observe(scrollEl), handleScroll2(), () => {\n        scrollEl.removeEventListener(\"scroll\", handleScroll2), ro.unobserve(scrollEl), ro.disconnect();\n      };\n    }\n    const handleScroll = () => {\n      setScrollTop(window.scrollY);\n    }, handleResize = () => {\n      setScrollHeight(window.innerHeight);\n    };\n    return window.addEventListener(\"scroll\", handleScroll, { passive: !0 }), window.addEventListener(\"resize\", handleResize), setScrollHeight(window.innerHeight), handleScroll(), () => {\n      window.removeEventListener(\"scroll\", handleScroll), window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n  const len = items.length, height = itemHeight ? len * (itemHeight + space[gap]) - space[gap] : 0, fromIndex = height ? Math.max(Math.floor(scrollTop / height * len) - 2, 0) : 0, toIndex = height ? Math.ceil((scrollTop + scrollHeight) / height * len) + 1 : 0;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onChange && onChange({ fromIndex, gap: space[gap], itemHeight, scrollHeight, scrollTop, toIndex });\n  }, [fromIndex, gap, itemHeight, onChange, scrollHeight, scrollTop, space, toIndex]);\n  const children = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => !renderItem || items.length === 0 ? null : itemHeight === -1 ? [/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ItemWrapper, { children: renderItem(items[0]) }, 0)] : items.slice(fromIndex, toIndex).map((item, _itemIndex) => {\n    const itemIndex = fromIndex + _itemIndex, node = renderItem(item), key2 = getItemKey ? getItemKey(item, itemIndex) : itemIndex;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ItemWrapper, { style: { top: itemIndex * (itemHeight + space[gap]) }, children: node }, key2);\n  }), [fromIndex, gap, getItemKey, itemHeight, items, renderItem, space, toIndex]), wrapperStyle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({ height }), [height]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$h, { as, \"data-ui\": \"VirtualList\", ...restProps, ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: wrapperRef, style: wrapperStyle, children }) });\n}), DEFAULT_POPOVER_DISTANCE = 4, DEFAULT_POPOVER_PADDING = 4, DEFAULT_POPOVER_ARROW_WIDTH = 19, DEFAULT_POPOVER_ARROW_HEIGHT = 8, DEFAULT_POPOVER_ARROW_RADIUS = 2, DEFAULT_POPOVER_MARGINS = [0, 0, 0, 0], DEFAULT_FALLBACK_PLACEMENTS$1 = {\n  top: [\"bottom\", \"left\", \"right\"],\n  \"top-start\": [\"bottom-start\", \"left-start\", \"right-start\"],\n  \"top-end\": [\"bottom-end\", \"left-end\", \"right-end\"],\n  bottom: [\"top\", \"left\", \"right\"],\n  \"bottom-start\": [\"top-start\", \"left-start\", \"right-start\"],\n  \"bottom-end\": [\"top-end\", \"left-end\", \"right-end\"],\n  left: [\"right\", \"top\", \"bottom\"],\n  \"left-start\": [\"right-start\", \"top-start\", \"bottom-start\"],\n  \"left-end\": [\"right-end\", \"top-end\", \"bottom-end\"],\n  right: [\"left\", \"top\", \"bottom\"],\n  \"right-start\": [\"left-start\", \"top-start\", \"bottom-start\"],\n  \"right-end\": [\"left-end\", \"top-end\", \"bottom-end\"]\n};\nfunction size(options) {\n  const { apply, margins, padding = 0 } = options;\n  return {\n    name: \"@sanity/ui/size\",\n    async fn(args) {\n      const { elements, placement, platform, rects } = args, { floating, reference } = rects, overflow = await (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_9__.detectOverflow)(args, {\n        altBoundary: !0,\n        boundary: options.boundaryElement || void 0,\n        elementContext: \"floating\",\n        padding,\n        rootBoundary: \"viewport\"\n      });\n      let maxWidth = 1 / 0, maxHeight = 1 / 0;\n      const floatingW = floating.width, floatingH = floating.height;\n      placement.includes(\"top\") && (maxWidth = floatingW - (overflow.left + overflow.right), maxHeight = floatingH - overflow.top), placement.includes(\"right\") && (maxWidth = floatingW - overflow.right, maxHeight = floatingH - (overflow.top + overflow.bottom)), placement.includes(\"bottom\") && (maxWidth = floatingW - (overflow.left + overflow.right), maxHeight = floatingH - overflow.bottom), placement.includes(\"left\") && (maxWidth = floatingW - overflow.left, maxHeight = floatingH - (overflow.top + overflow.bottom)), apply({\n        availableWidth: maxWidth - margins[1] - margins[3],\n        availableHeight: maxHeight - margins[0] - margins[2],\n        elements,\n        referenceWidth: reference.width - margins[1] - margins[3]\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating), targetH = nextDimensions.height, targetW = nextDimensions.width;\n      return floatingW !== targetW || floatingH !== targetH ? { reset: { rects: !0 } } : {};\n    }\n  };\n}\nfunction calcCurrentWidth(params) {\n  const { container, mediaIndex, width } = params, w = width[mediaIndex], currentWidth = w === void 0 ? width[width.length - 1] : w;\n  return typeof currentWidth == \"number\" ? container[currentWidth] : void 0;\n}\nfunction calcMaxWidth(params) {\n  const { boundaryWidth, currentWidth } = params;\n  if (!(currentWidth === void 0 && boundaryWidth === void 0))\n    return Math.min(\n      currentWidth != null ? currentWidth : 1 / 0,\n      (boundaryWidth || 1 / 0) - DEFAULT_POPOVER_PADDING * 2\n    );\n}\nconst MotionCard$1 = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)((0,framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion)(Card))`\n  &:not([hidden]) {\n    display: flex;\n  }\n  flex-direction: column;\n  width: max-content;\n  min-width: min-content;\n  & > * {\n    opacity: var(${POPOVER_MOTION_CONTENT_OPACITY_PROPERTY}, 1);\n    will-change: opacity;\n  }\n`, PopoverCard = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n    const {\n      __unstable_margins: marginsProp,\n      animate,\n      arrow: arrow2,\n      arrowRef,\n      arrowX,\n      arrowY,\n      children,\n      padding,\n      placement,\n      originX,\n      originY,\n      overflow,\n      radius,\n      scheme,\n      shadow,\n      strategy,\n      style,\n      tone,\n      width,\n      x: xProp,\n      y: yProp,\n      ...restProps\n    } = props, { zIndex } = useLayer(), margins = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n      () => marginsProp || DEFAULT_POPOVER_MARGINS,\n      [marginsProp]\n    ), x = (xProp != null ? xProp : 0) + margins[3], y = (yProp != null ? yProp : 0) + margins[0], rootStyle2 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n      () => ({\n        left: x,\n        originX,\n        originY,\n        position: strategy,\n        top: y,\n        width,\n        zIndex,\n        willChange: animate ? \"transform\" : void 0,\n        ...style\n      }),\n      [animate, originX, originY, strategy, style, width, x, y, zIndex]\n    ), arrowStyle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n      () => ({\n        left: arrowX !== null ? arrowX : void 0,\n        top: arrowY !== null ? arrowY : void 0,\n        right: void 0,\n        bottom: void 0\n      }),\n      [arrowX, arrowY]\n    );\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n      MotionCard$1,\n      {\n        \"data-ui\": \"Popover\",\n        ...restProps,\n        \"data-placement\": placement,\n        radius,\n        ref,\n        scheme,\n        shadow,\n        sizing: \"border\",\n        style: rootStyle2,\n        tone,\n        ...animate ? POPOVER_MOTION_PROPS : {},\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Flex, { \"data-ui\": \"Popover__wrapper\", direction: \"column\", flex: 1, overflow, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Flex, { direction: \"column\", flex: 1, padding, children }) }),\n          arrow2 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            Arrow,\n            {\n              ref: arrowRef,\n              style: arrowStyle,\n              width: DEFAULT_POPOVER_ARROW_WIDTH,\n              height: DEFAULT_POPOVER_ARROW_HEIGHT,\n              radius: DEFAULT_POPOVER_ARROW_RADIUS\n            }\n          )\n        ]\n      }\n    );\n  })\n);\nPopoverCard.displayName = \"PopoverCard\";\nconst Popover = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    const { container, layer } = useTheme_v2(), boundaryElementContext = useBoundaryElement(), {\n      __unstable_margins: margins = DEFAULT_POPOVER_MARGINS,\n      animate: _animate = !1,\n      arrow: arrowProp = !1,\n      boundaryElement = boundaryElementContext.element,\n      children: childProp,\n      constrainSize = !1,\n      content,\n      disabled,\n      fallbackPlacements = (_b = props.fallbackPlacements) != null ? _b : DEFAULT_FALLBACK_PLACEMENTS$1[(_a = props.placement) != null ? _a : \"bottom\"],\n      matchReferenceWidth,\n      floatingBoundary = (_c = props.boundaryElement) != null ? _c : boundaryElementContext.element,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onActivate,\n      open,\n      overflow = \"hidden\",\n      padding: paddingProp,\n      placement: placementProp = \"bottom\",\n      portal,\n      preventOverflow = !0,\n      radius: radiusProp = 3,\n      referenceBoundary = (_d = props.boundaryElement) != null ? _d : boundaryElementContext.element,\n      referenceElement,\n      scheme,\n      shadow: shadowProp = 3,\n      tone = \"inherit\",\n      width: widthProp = \"auto\",\n      zOffset: zOffsetProp = layer.popover.zOffset,\n      updateRef,\n      ...restProps\n    } = props, animate = usePrefersReducedMotion() ? !1 : _animate, boundarySize = (_e = useElementSize(boundaryElement)) == null ? void 0 : _e.border, padding = useArrayProp(paddingProp), radius = useArrayProp(radiusProp), shadow = useArrayProp(shadowProp), widthArrayProp = useArrayProp(widthProp), zOffset = useArrayProp(zOffsetProp), ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), arrowRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), rootBoundary = \"viewport\";\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n      forwardedRef,\n      () => ref.current\n    );\n    const mediaIndex = useMediaIndex(), boundaryWidth = constrainSize || preventOverflow ? boundarySize == null ? void 0 : boundarySize.width : void 0, width = calcCurrentWidth({\n      container,\n      mediaIndex,\n      width: widthArrayProp\n    }), widthRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(width);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n      widthRef.current = width;\n    }, [width]);\n    const maxWidth = calcMaxWidth({ boundaryWidth, currentWidth: width }), maxWidthRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(maxWidth);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n      maxWidthRef.current = maxWidth;\n    }, [maxWidth]);\n    const referenceWidthRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n      const floatingElement = ref.current;\n      if (!open || !floatingElement) return;\n      const referenceWidth = referenceWidthRef.current;\n      matchReferenceWidth ? referenceWidth !== void 0 && (floatingElement.style.width = `${referenceWidth}px`) : width !== void 0 && (floatingElement.style.width = `${width}px`), typeof maxWidth == \"number\" && (floatingElement.style.maxWidth = `${maxWidth}px`);\n    }, [width, matchReferenceWidth, maxWidth, open]);\n    const middleware = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n      const ret = [];\n      return (constrainSize || preventOverflow) && ret.push(\n        (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__.flip)({\n          boundary: floatingBoundary || void 0,\n          fallbackPlacements,\n          padding: DEFAULT_POPOVER_PADDING,\n          rootBoundary\n        })\n      ), ret.push((0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__.offset)({ mainAxis: DEFAULT_POPOVER_DISTANCE })), (constrainSize || matchReferenceWidth) && ret.push(\n        size({\n          apply({ availableWidth, availableHeight, elements, referenceWidth }) {\n            referenceWidthRef.current = referenceWidth;\n            const _currentWidth = widthRef.current, _maxWidth = maxWidthRef.current;\n            matchReferenceWidth ? elements.floating.style.width = `${referenceWidth}px` : _currentWidth !== void 0 && (elements.floating.style.width = `${_currentWidth}px`), constrainSize && (elements.floating.style.maxWidth = `${Math.min(\n              availableWidth,\n              _maxWidth != null ? _maxWidth : 1 / 0\n            )}px`, elements.floating.style.maxHeight = `${availableHeight}px`);\n          },\n          boundaryElement: floatingBoundary || void 0,\n          constrainSize,\n          margins,\n          matchReferenceWidth,\n          padding: DEFAULT_POPOVER_PADDING\n        })\n      ), preventOverflow && ret.push(\n        (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__.shift)({\n          boundary: floatingBoundary || void 0,\n          rootBoundary,\n          padding: DEFAULT_POPOVER_PADDING\n        })\n      ), arrowProp && ret.push(\n        (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__.arrow)({\n          element: arrowRef,\n          padding: DEFAULT_POPOVER_PADDING\n        })\n      ), animate && ret.push(origin), ret.push(\n        (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__.hide)({\n          boundary: referenceBoundary || void 0,\n          padding: DEFAULT_POPOVER_PADDING,\n          strategy: \"referenceHidden\"\n        })\n      ), ret;\n    }, [\n      animate,\n      arrowProp,\n      constrainSize,\n      fallbackPlacements,\n      floatingBoundary,\n      margins,\n      matchReferenceWidth,\n      preventOverflow,\n      referenceBoundary\n    ]), { x, y, middlewareData, placement, refs, strategy, update } = (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__.useFloating)({\n      middleware,\n      placement: placementProp,\n      whileElementsMounted: _floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_9__.autoUpdate\n    }), referenceHidden = (_f = middlewareData.hide) == null ? void 0 : _f.referenceHidden, arrowX = (_g = middlewareData.arrow) == null ? void 0 : _g.x, arrowY = (_h = middlewareData.arrow) == null ? void 0 : _h.y, originX = (_i = middlewareData[\"@sanity/ui/origin\"]) == null ? void 0 : _i.originX, originY = (_j = middlewareData[\"@sanity/ui/origin\"]) == null ? void 0 : _j.originY, setArrow = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((arrowEl) => {\n      arrowRef.current = arrowEl;\n    }, []), setFloating = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (node) => {\n        ref.current = node, refs.setFloating(node);\n      },\n      [refs]\n    ), setReference = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (node) => {\n        refs.setReference(node);\n        const childRef = childProp == null ? void 0 : childProp.ref;\n        typeof childRef == \"function\" ? childRef(node) : childRef && (childRef.current = node);\n      },\n      [childProp, refs]\n    ), child = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => !childProp || referenceElement ? null : (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(childProp, { ref: setReference }), [childProp, referenceElement, setReference]);\n    if ((0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n      updateRef && (typeof updateRef == \"function\" ? updateRef(update) : updateRef && (updateRef.current = update));\n    }, [update, updateRef]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n      child || refs.setReference(referenceElement || null);\n    }, [referenceElement, refs, child]), disabled)\n      return childProp || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});\n    const popover = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LayerProvider, { zOffset, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      PopoverCard,\n      {\n        ...restProps,\n        __unstable_margins: margins,\n        animate,\n        arrow: arrowProp,\n        arrowRef: setArrow,\n        arrowX,\n        arrowY,\n        hidden: referenceHidden,\n        overflow,\n        padding,\n        placement,\n        radius,\n        ref: setFloating,\n        scheme,\n        shadow,\n        originX,\n        originY,\n        strategy,\n        tone,\n        width: matchReferenceWidth ? referenceWidthRef.current : width,\n        x,\n        y,\n        children: content\n      }\n    ) });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        ConditionalWrapper,\n        {\n          condition: animate,\n          wrapper: (children) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.AnimatePresence, { children }),\n          children: open && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            ConditionalWrapper,\n            {\n              condition: !!portal,\n              wrapper: (children) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal, { __unstable_name: typeof portal == \"string\" ? portal : void 0, children }),\n              children: popover\n            }\n          )\n        }\n      ),\n      child\n    ] });\n  })\n);\nPopover.displayName = \"Popover\";\nfunction radioBaseStyle() {\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    position: relative;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n\n    &[data-read-only] {\n      outline: 1px solid red;\n    }\n  `;\n}\nfunction inputElementStyle(props) {\n  const { color, input } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), dist = (input.radio.size - input.radio.markSize) / 2;\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    appearance: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    height: 100%;\n    width: 100%;\n    outline: none;\n    z-index: 1;\n    padding: 0;\n    margin: 0;\n    border-radius: ${rem(input.radio.size / 2)};\n    border: none;\n\n    /* enabled */\n    & + span {\n      display: block;\n      position: relative;\n      height: ${rem(input.radio.size)};\n      width: ${rem(input.radio.size)};\n      border-radius: ${rem(input.radio.size / 2)};\n      background: ${color.input.default.enabled.bg};\n      box-shadow: ${focusRingBorderStyle({\n    color: color.input.default.enabled.border,\n    width: input.border.width\n  })};\n\n      &::after {\n        content: '';\n        position: absolute;\n        top: ${rem(dist)};\n        left: ${rem(dist)};\n        height: ${rem(input.radio.markSize)};\n        width: ${rem(input.radio.markSize)};\n        border-radius: ${rem(input.radio.markSize / 2)};\n        background: ${color.input.default.enabled.fg};\n        opacity: 0;\n      }\n    }\n\n    /* focused */\n    &:not(:disabled):focus + span {\n      box-shadow: ${focusRingStyle({\n    border: { width: input.border.width, color: color.input.default.enabled.border },\n    focusRing: input.radio.focusRing\n  })};\n    }\n\n    &:not(:disabled):focus:not(:focus-visible) + span {\n      box-shadow: ${focusRingBorderStyle({\n    color: color.input.default.enabled.border,\n    width: input.border.width\n  })};\n    }\n\n    &:checked + span::after {\n      opacity: 1;\n    }\n\n    /* customValidity */\n    &[data-error] + span {\n      background-color: ${color.input.invalid.enabled.border};\n      box-shadow: ${focusRingBorderStyle({\n    width: input.border.width,\n    color: color.input.invalid.enabled.muted.bg\n  })};\n      &::after {\n        background: ${color.input.invalid.enabled.muted.bg};\n      }\n    }\n\n    /* read only */\n    &[data-read-only] + span {\n      box-shadow: 0 0 0 1px ${color.input.default.readOnly.border};\n      background: ${color.input.default.readOnly.bg};\n\n      &::after {\n        background: ${color.input.default.readOnly.border};\n      }\n    }\n\n    /* disabled */\n    &:not([data-read-only]):disabled + span {\n      box-shadow: 0 0 0 1px ${color.input.default.disabled.border};\n      background: ${color.input.default.disabled.bg};\n\n      &::after {\n        background: ${color.input.default.disabled.border};\n      }\n    }\n  `;\n}\nconst Root$g = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(radioBaseStyle), Input$4 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.input(inputElementStyle), Radio = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const { className, disabled, style, customValidity, readOnly, ...restProps } = props, ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n    forwardedRef,\n    () => ref.current\n  ), useCustomValidity(ref, customValidity), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Root$g, { className, \"data-ui\": \"Radio\", style, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      Input$4,\n      {\n        \"data-read-only\": !disabled && readOnly ? \"\" : void 0,\n        \"data-error\": customValidity ? \"\" : void 0,\n        ...restProps,\n        disabled: disabled || readOnly,\n        readOnly,\n        ref,\n        type: \"radio\"\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {})\n  ] });\n});\nfunction rootStyle() {\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    position: relative;\n    width: -moz-available;\n    width: -webkit-fill-available;\n    width: stretch;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `;\n}\nfunction inputBaseStyle(props) {\n  const { font } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    -webkit-font-smoothing: antialiased;\n    appearance: none;\n    border: 0;\n    font-family: ${font.text.family};\n    color: inherit;\n    width: 100%;\n    outline: none;\n    margin: 0;\n\n    &:disabled {\n      opacity: 1;\n    }\n  `;\n}\nfunction inputColorStyle(props) {\n  const { color, input } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    /* enabled */\n    background-color: ${color.input.default.enabled.bg};\n    color: ${color.input.default.enabled.fg};\n    box-shadow: ${focusRingBorderStyle({\n    color: color.input.default.enabled.border,\n    width: input.border.width\n  })};\n\n    /* hovered */\n    @media (hover: hover) {\n      &:not(:disabled):hover {\n        background-color: ${color.input.default.hovered.bg};\n        color: ${color.input.default.hovered.fg};\n        box-shadow: ${focusRingBorderStyle({\n    color: color.input.default.hovered.border,\n    width: input.border.width\n  })};\n      }\n    }\n\n    /* focused */\n    &:not(:disabled):focus {\n      box-shadow: ${focusRingStyle({\n    border: { width: input.border.width, color: color.input.default.enabled.border },\n    focusRing: input.select.focusRing\n  })};\n    }\n\n    /* read-only */\n    &[data-read-only] {\n      background-color: ${color.input.default.readOnly.bg};\n      color: ${color.input.default.readOnly.fg};\n      box-shadow: ${focusRingBorderStyle({\n    color: color.input.default.readOnly.border,\n    width: input.border.width\n  })};\n    }\n\n    /* disabled */\n    &:not([data-read-only]):disabled {\n      background-color: ${color.input.default.disabled.bg};\n      color: ${color.input.default.disabled.fg};\n      box-shadow: ${focusRingBorderStyle({\n    color: color.input.default.disabled.border,\n    width: input.border.width\n  })};\n    }\n  `;\n}\nfunction textSize(size2) {\n  return { fontSize: rem(size2.fontSize), lineHeight: rem(size2.lineHeight) };\n}\nfunction inputTextSizeStyle(props) {\n  const { $fontSize } = props, { font, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(\n    media,\n    $fontSize,\n    (sizeIndex) => textSize(font.text.sizes[sizeIndex] || font.text.sizes[2])\n  );\n}\nfunction inputStyle() {\n  return [\n    responsiveRadiusStyle,\n    inputBaseStyle,\n    inputColorStyle,\n    inputTextSizeStyle,\n    responsiveInputPaddingIconRightStyle\n  ];\n}\nfunction iconBoxStyle(props) {\n  const { color } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n\n    /* enabled */\n    --card-fg-color: ${color.input.default.enabled.fg};\n\n    /* hover */\n    @media (hover: hover) {\n      select:not(disabled):not(:read-only):hover + && {\n        --card-fg-color: ${color.input.default.hovered.fg};\n      }\n    }\n\n    /* disabled */\n    select:disabled + && {\n      --card-fg-color: ${color.input.default.disabled.fg};\n    }\n\n    /* read-only */\n    select[data-read-only] + && {\n      --card-fg-color: ${color.input.default.readOnly.fg};\n    }\n  `;\n}\nconst selectStyle = {\n  root: rootStyle,\n  input: inputStyle,\n  iconBox: iconBoxStyle\n}, Root$f = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(selectStyle.root), Input$3 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.select(selectStyle.input), IconBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)(selectStyle.iconBox), Select = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const {\n    children,\n    customValidity,\n    disabled,\n    fontSize: fontSize2 = 2,\n    padding = 3,\n    radius = 2,\n    readOnly,\n    space = 3,\n    ...restProps\n  } = props, ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n    forwardedRef,\n    () => ref.current\n  ), useCustomValidity(ref, customValidity), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Root$f, { \"data-ui\": \"Select\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      Input$3,\n      {\n        \"data-read-only\": !disabled && readOnly ? \"\" : void 0,\n        \"data-ui\": \"Select\",\n        ...restProps,\n        $fontSize: useArrayProp(fontSize2),\n        $padding: useArrayProp(padding),\n        $radius: useArrayProp(radius),\n        $space: useArrayProp(space),\n        disabled: disabled || readOnly,\n        ref,\n        children\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconBox, { padding, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { size: fontSize2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_8__.ChevronDownIcon, {}) }) })\n  ] });\n}), BASE_STYLE = {\n  \"&&:not([hidden])\": {\n    display: \"grid\"\n  },\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: \"none\"\n  },\n  gridTemplateColumns: \"minmax(0, 1fr)\",\n  gridAutoRows: \"min-content\"\n};\nfunction stackBaseStyle() {\n  return BASE_STYLE;\n}\nfunction responsiveStackSpaceStyle(props) {\n  const { media, space } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$space, (spaceIndex) => ({\n    gridGap: rem(space[spaceIndex])\n  }));\n}\nconst Root$e = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)(stackBaseStyle, responsiveStackSpaceStyle), Stack = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { as, space, ...restProps } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$e,\n    {\n      \"data-as\": typeof as == \"string\" ? as : void 0,\n      \"data-ui\": \"Stack\",\n      ...restProps,\n      $space: useArrayProp(space),\n      forwardedAs: as,\n      ref\n    }\n  );\n});\nfunction switchBaseStyles() {\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    position: relative;\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `;\n}\nfunction switchInputStyles() {\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    opacity: 0;\n    height: 100%;\n    width: 100%;\n    outline: none;\n    padding: 0;\n    margin: 0;\n\n    /* Place the input element above the representation element */\n    z-index: 1;\n  `;\n}\nfunction switchRepresentationStyles(props) {\n  const { color, input } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    --switch-bg-color: ${color.input.default.enabled.border};\n    --switch-fg-color: ${color.input.default.enabled.bg};\n    --switch-box-shadow: none;\n\n    &:not([hidden]) {\n      display: block;\n    }\n    position: relative;\n    width: ${rem(input.switch.width)};\n    height: ${rem(input.switch.height)};\n    border-radius: ${rem(input.switch.height / 2)};\n\n    /* Make sure it’s not possible to interact with the wrapper element */\n    pointer-events: none;\n\n    &:after {\n      content: '';\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      z-index: 1;\n      box-shadow: var(--switch-box-shadow);\n      border-radius: inherit;\n    }\n\n    /* Focus styles */\n    input:focus + && {\n      --switch-box-shadow: ${focusRingStyle({ focusRing: input.switch.focusRing })};\n    }\n\n    input:focus:not(:focus-visible) + && {\n      --switch-box-shadow: none;\n    }\n\n    input:checked + && {\n      --switch-bg-color: ${color.input.default.enabled.fg};\n      --switch-fg-color: ${color.input.default.enabled.bg};\n    }\n\n    @media (hover: hover) {\n      input:not(:disabled):hover + && {\n        --switch-bg-color: ${color.input.default.hovered.border};\n        --switch-fg-color: ${color.input.default.hovered.bg};\n      }\n\n      input:not(:disabled):checked:hover + && {\n        --switch-bg-color: ${color.input.default.enabled.fg};\n        --switch-fg-color: ${color.input.default.enabled.bg};\n      }\n    }\n\n    input:not([data-read-only]):disabled + && {\n      --switch-bg-color: ${color.input.default.disabled.border};\n      --switch-fg-color: ${color.input.default.disabled.bg};\n    }\n\n    input[data-read-only]:disabled + && {\n      --switch-bg-color: ${color.input.default.readOnly.border};\n      --switch-fg-color: ${color.input.default.readOnly.bg};\n    }\n\n    input:checked[data-read-only]:disabled + && {\n      --switch-bg-color: ${color.input.default.readOnly.fg};\n      --switch-fg-color: ${color.input.default.readOnly.bg};\n    }\n  `;\n}\nfunction switchTrackStyles(props) {\n  const { input } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    &:not([hidden]) {\n      display: block;\n    }\n    background-color: var(--switch-bg-color);\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: ${rem(input.switch.width)};\n    height: ${rem(input.switch.height)};\n    border-radius: ${rem(input.switch.height / 2)};\n  `;\n}\nfunction switchThumbStyles(props) {\n  const { $indeterminate } = props, { input } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), trackWidth = input.switch.width, trackHeight = input.switch.height, trackPadding = input.switch.padding, size2 = trackHeight - input.switch.padding * 2, checkedOffset = trackWidth - trackPadding * 2 - size2, indeterminateOffset = trackWidth / 2 - size2 / 2 - trackPadding, checked = $indeterminate !== !0 && props.$checked === !0;\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    &:not([hidden]) {\n      display: block;\n    }\n    position: absolute;\n    left: ${rem(trackPadding)};\n    top: ${rem(trackPadding)};\n    height: ${rem(size2)};\n    width: ${rem(size2)};\n    border-radius: ${rem(size2 / 2)};\n    transition-property: transform;\n    transition-duration: ${input.switch.transitionDurationMs}ms;\n    transition-timing-function: ${input.switch.transitionTimingFunction};\n    background: var(--switch-fg-color);\n    transform: translate3d(0, 0, 0);\n    box-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.05);\n\n    ${checked && (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n      transform: translate3d(${checkedOffset}px, 0, 0);\n    `}\n\n    ${$indeterminate && (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n      transform: translate3d(${indeterminateOffset}px, 0, 0);\n    `}\n  `;\n}\nconst Root$d = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.span(switchBaseStyles), Input$2 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.input(switchInputStyles), Representation = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.span(switchRepresentationStyles), Track = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.span(switchTrackStyles), Thumb = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.span(switchThumbStyles), Switch = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const { checked, className, disabled, indeterminate, readOnly, style, ...restProps } = props, ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n    forwardedRef,\n    () => ref.current\n  ), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    ref.current && (ref.current.indeterminate = indeterminate || !1);\n  }, [indeterminate]), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Root$d, { className, \"data-ui\": \"Switch\", style, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      Input$2,\n      {\n        \"data-read-only\": !disabled && readOnly ? \"\" : void 0,\n        ...restProps,\n        checked: indeterminate !== !0 && checked,\n        disabled: disabled || readOnly,\n        type: \"checkbox\",\n        ref\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Representation, { \"aria-hidden\": !0, \"data-name\": \"representation\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Track, {}),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Thumb, { $checked: checked, $indeterminate: indeterminate })\n    ] })\n  ] });\n}), Root$c = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.span(textInputRootStyle), InputRoot$1 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.span`\n  flex: 1;\n  min-width: 0;\n  display: block;\n  position: relative;\n`, Input$1 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.textarea(\n  responsiveInputPaddingStyle,\n  textInputBaseStyle,\n  textInputFontSizeStyle\n), Presentation$1 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div(\n  responsiveRadiusStyle,\n  textInputRepresentationStyle\n), TextArea = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const {\n    border: border2 = !0,\n    customValidity,\n    disabled = !1,\n    fontSize: fontSize2 = 2,\n    padding = 3,\n    radius = 2,\n    weight,\n    ...restProps\n  } = props, ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), rootTheme = useRootTheme();\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n    forwardedRef,\n    () => ref.current\n  ), useCustomValidity(ref, customValidity), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$c, { \"data-ui\": \"TextArea\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(InputRoot$1, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      Input$1,\n      {\n        \"data-as\": \"textarea\",\n        \"data-scheme\": rootTheme.scheme,\n        \"data-tone\": rootTheme.tone,\n        ...restProps,\n        $fontSize: useArrayProp(fontSize2),\n        $padding: useArrayProp(padding),\n        $scheme: rootTheme.scheme,\n        $space: useArrayProp(0),\n        $tone: rootTheme.tone,\n        $weight: weight,\n        disabled,\n        ref\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      Presentation$1,\n      {\n        $radius: useArrayProp(radius),\n        $scheme: rootTheme.scheme,\n        $tone: rootTheme.tone,\n        \"data-border\": border2 ? \"\" : void 0,\n        \"data-scheme\": rootTheme.scheme,\n        \"data-tone\": rootTheme.tone\n      }\n    )\n  ] }) });\n}), CLEAR_BUTTON_BOX_STYLE = { zIndex: 2 }, Root$b = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Card).attrs({ forwardedAs: \"span\" })(textInputRootStyle), InputRoot = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.span`\n  flex: 1;\n  min-width: 0;\n  display: block;\n  position: relative;\n`, Prefix = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Card).attrs({ forwardedAs: \"span\" })`\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n\n  & > span {\n    display: block;\n    margin: -1px;\n  }\n`, Suffix = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Card).attrs({ forwardedAs: \"span\" })`\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n\n  & > span {\n    display: block;\n    margin: -1px;\n  }\n`, Input = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.input(\n  responsiveInputPaddingStyle,\n  textInputBaseStyle,\n  textInputFontSizeStyle\n), Presentation = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.span(\n  responsiveRadiusStyle,\n  textInputRepresentationStyle\n), LeftBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)`\n  position: absolute;\n  top: 0;\n  left: 0;\n`, RightBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)`\n  position: absolute;\n  top: 0;\n  right: 0;\n`, RightCard = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Card)`\n  background-color: transparent;\n  position: absolute;\n  top: 0;\n  right: 0;\n`, TextInputClearButton = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Button)({\n  \"&:not([hidden])\": {\n    display: \"block\"\n  }\n}), TextInput = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const {\n    __unstable_disableFocusRing,\n    border: border2 = !0,\n    clearButton,\n    disabled = !1,\n    fontSize: fontSizeProp = 2,\n    icon: IconComponent,\n    iconRight: IconRightComponent,\n    onClear,\n    padding: paddingProp = 3,\n    prefix,\n    radius: radiusProp = 2,\n    readOnly,\n    space: spaceProp = 3,\n    suffix,\n    customValidity,\n    type = \"text\",\n    weight,\n    ...restProps\n  } = props, ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), rootTheme = useRootTheme(), fontSize2 = useArrayProp(fontSizeProp), padding = useArrayProp(paddingProp), radius = useArrayProp(radiusProp), space = useArrayProp(spaceProp), $hasClearButton = !!clearButton, $hasIcon = !!IconComponent, $hasIconRight = !!IconRightComponent, $hasSuffix = !!suffix, $hasPrefix = !!prefix;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n    forwardedRef,\n    () => ref.current\n  ), useCustomValidity(ref, customValidity);\n  const handleClearMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event) => {\n    event.preventDefault(), event.stopPropagation();\n  }, []), handleClearClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      var _a;\n      event.preventDefault(), event.stopPropagation(), onClear && onClear(), (_a = ref.current) == null || _a.focus();\n    },\n    [onClear, ref]\n  ), prefixNode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => prefix && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Prefix, { borderTop: !0, borderLeft: !0, borderBottom: !0, radius, sizing: \"border\", tone: \"inherit\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children: prefix }) }),\n    [prefix, radius]\n  ), presentationNode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n      Presentation,\n      {\n        $hasPrefix,\n        $unstableDisableFocusRing: __unstable_disableFocusRing,\n        $hasSuffix,\n        $radius: radius,\n        $scheme: rootTheme.scheme,\n        $tone: rootTheme.tone,\n        \"data-border\": border2 ? \"\" : void 0,\n        \"data-scheme\": rootTheme.scheme,\n        \"data-tone\": rootTheme.tone,\n        children: [\n          IconComponent && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LeftBox, { padding, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Text, { size: fontSize2, children: [\n            (0,react__WEBPACK_IMPORTED_MODULE_1__.isValidElement)(IconComponent) && IconComponent,\n            (0,react_is__WEBPACK_IMPORTED_MODULE_2__.isValidElementType)(IconComponent) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconComponent, {})\n          ] }) }),\n          !$hasClearButton && IconRightComponent && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RightBox, { padding, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Text, { size: fontSize2, children: [\n            (0,react__WEBPACK_IMPORTED_MODULE_1__.isValidElement)(IconRightComponent) && IconRightComponent,\n            (0,react_is__WEBPACK_IMPORTED_MODULE_2__.isValidElementType)(IconRightComponent) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconRightComponent, {})\n          ] }) })\n        ]\n      }\n    ),\n    [\n      __unstable_disableFocusRing,\n      border2,\n      fontSize2,\n      IconComponent,\n      IconRightComponent,\n      padding,\n      radius,\n      rootTheme,\n      $hasClearButton,\n      $hasPrefix,\n      $hasSuffix\n    ]\n  ), clearButtonBoxPadding = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => padding.map((v) => v === 0 ? 0 : v === 1 || v === 2 ? 1 : v - 2),\n    [padding]\n  ), clearButtonPadding = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => padding.map((v) => v === 0 || v === 1 ? 0 : v === 2 ? 1 : v - 1),\n    [padding]\n  ), clearButtonProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => typeof clearButton == \"object\" ? clearButton : EMPTY_RECORD,\n    [clearButton]\n  ), clearButtonNode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => !disabled && !readOnly && clearButton && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      RightCard,\n      {\n        forwardedAs: \"span\",\n        padding: clearButtonBoxPadding,\n        style: CLEAR_BUTTON_BOX_STYLE,\n        tone: customValidity ? \"critical\" : \"inherit\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          TextInputClearButton,\n          {\n            \"aria-label\": \"Clear\",\n            \"data-qa\": \"clear-button\",\n            fontSize: fontSize2,\n            icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_8__.CloseIcon,\n            mode: \"bleed\",\n            padding: clearButtonPadding,\n            radius,\n            ...clearButtonProps,\n            onClick: handleClearClick,\n            onMouseDown: handleClearMouseDown\n          }\n        )\n      }\n    ),\n    [\n      clearButton,\n      clearButtonBoxPadding,\n      clearButtonPadding,\n      clearButtonProps,\n      customValidity,\n      disabled,\n      fontSize2,\n      handleClearClick,\n      handleClearMouseDown,\n      radius,\n      readOnly\n    ]\n  ), suffixNode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => suffix && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Suffix, { borderTop: !0, borderRight: !0, borderBottom: !0, radius, sizing: \"border\", tone: \"inherit\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children: suffix }) }),\n    [radius, suffix]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Root$b, { \"data-ui\": \"TextInput\", tone: rootTheme.tone, children: [\n    prefixNode,\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(InputRoot, { children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        Input,\n        {\n          \"data-as\": \"input\",\n          \"data-scheme\": rootTheme.scheme,\n          \"data-tone\": rootTheme.tone,\n          ...restProps,\n          $fontSize: fontSize2,\n          $iconLeft: $hasIcon,\n          $iconRight: $hasIconRight || $hasClearButton,\n          $padding: padding,\n          $scheme: rootTheme.scheme,\n          $space: space,\n          $tone: rootTheme.tone,\n          $weight: weight,\n          disabled,\n          readOnly,\n          ref,\n          type\n        }\n      ),\n      presentationNode,\n      clearButtonNode\n    ] }),\n    suffixNode\n  ] });\n});\nfunction useDelayedState(initialState) {\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialState), delayedAction = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(), onStateChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((nextState, delay) => {\n    const action = () => {\n      setState(nextState);\n    };\n    if (delayedAction.current && (clearTimeout(delayedAction.current), delayedAction.current = void 0), !delay) return action();\n    delayedAction.current = setTimeout(action, delay);\n  }, []);\n  return [state, onStateChange];\n}\nconst DEFAULT_TOOLTIP_ARROW_WIDTH = 15, DEFAULT_TOOLTIP_ARROW_HEIGHT = 6, DEFAULT_TOOLTIP_ARROW_RADIUS = 2, DEFAULT_TOOLTIP_DISTANCE = 4, DEFAULT_TOOLTIP_PADDING = 4, DEFAULT_FALLBACK_PLACEMENTS = {\n  top: [\"top-end\", \"top-start\", \"bottom\", \"left\", \"right\"],\n  \"top-start\": [\"top\", \"top-end\", \"bottom-start\", \"left-start\", \"right-start\"],\n  \"top-end\": [\"top\", \"top-start\", \"bottom-end\", \"left-end\", \"right-end\"],\n  bottom: [\"bottom-end\", \"bottom-start\", \"top\", \"left\", \"right\"],\n  \"bottom-start\": [\"bottom\", \"bottom-end\", \"top-start\", \"left-start\", \"right-start\"],\n  \"bottom-end\": [\"bottom\", \"bottom-start\", \"top-end\", \"left-end\", \"right-end\"],\n  left: [\"left-end\", \"left-start\", \"right\", \"top\", \"bottom\"],\n  \"left-start\": [\"left\", \"left-end\", \"right-start\", \"top-start\", \"bottom-start\"],\n  \"left-end\": [\"left\", \"left-start\", \"right-end\", \"top-end\", \"bottom-end\"],\n  right: [\"right-end\", \"right-start\", \"left\", \"top\", \"bottom\"],\n  \"right-start\": [\"right\", \"right-end\", \"left-start\", \"top-start\", \"bottom-start\"],\n  \"right-end\": [\"right\", \"right-start\", \"left-end\", \"top-end\", \"bottom-end\"]\n}, MotionCard = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)((0,framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion)(Card))`\n  & > * {\n    opacity: var(${POPOVER_MOTION_CONTENT_OPACITY_PROPERTY}, 1);\n    will-change: opacity;\n  }\n`, TooltipCard = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n    const {\n      animate,\n      arrow: arrow2,\n      arrowRef,\n      arrowX,\n      arrowY,\n      children,\n      originX,\n      originY,\n      padding,\n      placement,\n      radius,\n      scheme,\n      shadow,\n      style,\n      ...restProps\n    } = props, rootStyle2 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n      () => ({\n        originX,\n        originY,\n        willChange: animate ? \"transform\" : void 0,\n        ...style\n      }),\n      [animate, originX, originY, style]\n    ), arrowStyle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n      () => ({\n        left: arrowX !== null ? arrowX : void 0,\n        top: arrowY !== null ? arrowY : void 0,\n        right: void 0,\n        bottom: void 0\n      }),\n      [arrowX, arrowY]\n    );\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n      MotionCard,\n      {\n        \"data-ui\": \"Tooltip__card\",\n        ...restProps,\n        \"data-placement\": placement,\n        padding,\n        radius,\n        ref,\n        scheme,\n        shadow,\n        style: rootStyle2,\n        ...animate ? POPOVER_MOTION_PROPS : {},\n        children: [\n          children,\n          arrow2 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            Arrow,\n            {\n              ref: arrowRef,\n              style: arrowStyle,\n              width: DEFAULT_TOOLTIP_ARROW_WIDTH,\n              height: DEFAULT_TOOLTIP_ARROW_HEIGHT,\n              radius: DEFAULT_TOOLTIP_ARROW_RADIUS\n            }\n          )\n        ]\n      }\n    );\n  })\n);\nTooltipCard.displayName = \"TooltipCard\";\nconst key$4 = Symbol.for(\"@sanity/ui/context/tooltipDelayGroup\"), TooltipDelayGroupContext = createGlobalScopedContext(key$4, null);\nfunction useTooltipDelayGroup() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(TooltipDelayGroupContext);\n}\nfunction TooltipDelayGroupProvider(props) {\n  const { children, delay } = props, [isGroupActive, setIsGroupActive] = useDelayedState(!1), [openTooltipId, setOpenTooltipId] = useDelayedState(null), openDelay = typeof delay == \"number\" ? delay : (delay == null ? void 0 : delay.open) || 0, closeDelay = typeof delay == \"number\" ? delay : (delay == null ? void 0 : delay.close) || 0, value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      isGroupActive,\n      setIsGroupActive,\n      openTooltipId,\n      setOpenTooltipId,\n      // When the group is active, we want the next tooltip to open immediately.\n      openDelay: isGroupActive ? 1 : openDelay,\n      closeDelay\n    }),\n    [closeDelay, isGroupActive, openDelay, openTooltipId, setIsGroupActive, setOpenTooltipId]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TooltipDelayGroupContext.Provider, { value, children });\n}\nconst Root$a = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Layer)`\n  pointer-events: none;\n  max-width: ${({ $maxWidth }) => $maxWidth}px;\n`, Tooltip = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  const boundaryElementContext = useBoundaryElement(), { layer } = useTheme_v2(), {\n    animate: _animate = !1,\n    arrow: arrowProp = !1,\n    boundaryElement = boundaryElementContext == null ? void 0 : boundaryElementContext.element,\n    children: childProp,\n    content,\n    disabled,\n    fallbackPlacements: fallbackPlacementsProp = (_b = props.fallbackPlacements) != null ? _b : DEFAULT_FALLBACK_PLACEMENTS[(_a = props.placement) != null ? _a : \"bottom\"],\n    padding = 2,\n    placement: placementProp = \"bottom\",\n    portal: portalProp,\n    radius = 2,\n    scheme,\n    shadow = 2,\n    zOffset = layer.tooltip.zOffset,\n    delay,\n    ...restProps\n  } = props, animate = usePrefersReducedMotion() ? !1 : _animate, fallbackPlacements = useArrayProp(fallbackPlacementsProp), ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), [referenceElement, setReferenceElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), arrowRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), rootBoundary = \"viewport\";\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(forwardedRef, () => ref.current);\n  const portal = usePortal(), portalElement = typeof portalProp == \"string\" ? ((_c = portal.elements) == null ? void 0 : _c[portalProp]) || null : portal.element, documentBodyOffsetWidth = (0,react__WEBPACK_IMPORTED_MODULE_1__.useSyncExternalStore)(\n    emptySubscribe,\n    () => document.body.offsetWidth,\n    // We don't actually know what the width of the body is during SSR, so we'll just assume it's 800px or larger\n    () => 800\n  ), tooltipWidth = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const availableWidths = [\n      ...boundaryElement ? [boundaryElement.offsetWidth] : [],\n      (portalElement == null ? void 0 : portalElement.offsetWidth) || documentBodyOffsetWidth\n    ];\n    return Math.min(...availableWidths) - DEFAULT_TOOLTIP_PADDING * 2;\n  }, [boundaryElement, documentBodyOffsetWidth, portalElement == null ? void 0 : portalElement.offsetWidth]), middleware = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const ret = [];\n    return ret.push(\n      (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__.flip)({\n        boundary: boundaryElement || void 0,\n        fallbackPlacements,\n        padding: DEFAULT_TOOLTIP_PADDING,\n        rootBoundary\n      })\n    ), ret.push((0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__.offset)({ mainAxis: DEFAULT_TOOLTIP_DISTANCE })), ret.push(\n      (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__.shift)({\n        boundary: boundaryElement || void 0,\n        rootBoundary,\n        padding: DEFAULT_TOOLTIP_PADDING\n      })\n    ), arrowProp && ret.push((0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__.arrow)({ element: arrowRef, padding: DEFAULT_TOOLTIP_PADDING })), animate && ret.push(origin), ret;\n  }, [animate, arrowProp, boundaryElement, fallbackPlacements]), { floatingStyles, placement, middlewareData, refs, update } = (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_11__.useFloating)({\n    middleware,\n    placement: placementProp,\n    whileElementsMounted: _floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_9__.autoUpdate\n  }), arrowX = (_d = middlewareData.arrow) == null ? void 0 : _d.x, arrowY = (_e = middlewareData.arrow) == null ? void 0 : _e.y, originX = (_f = middlewareData[\"@sanity/ui/origin\"]) == null ? void 0 : _f.originX, originY = (_g = middlewareData[\"@sanity/ui/origin\"]) == null ? void 0 : _g.originY, tooltipId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)(), [isOpen, setIsOpen] = useDelayedState(!1), delayGroupContext = useTooltipDelayGroup(), showTooltip = isOpen || (delayGroupContext == null ? void 0 : delayGroupContext.openTooltipId) === tooltipId, isInsideGroup = delayGroupContext !== null, openDelayProp = typeof delay == \"number\" ? delay : (delay == null ? void 0 : delay.open) || 0, closeDelayProp = typeof delay == \"number\" ? delay : (delay == null ? void 0 : delay.close) || 0, openDelay = isInsideGroup ? delayGroupContext.openDelay : openDelayProp, closeDelay = isInsideGroup ? delayGroupContext.closeDelay : closeDelayProp, handleIsOpenChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (open, immediate) => {\n      if (isInsideGroup)\n        if (open) {\n          const groupedOpenDelay = immediate ? 0 : openDelay;\n          delayGroupContext.setIsGroupActive(open, groupedOpenDelay), delayGroupContext.setOpenTooltipId(tooltipId, groupedOpenDelay);\n        } else {\n          const groupDeactivateDelay = closeDelay > 200 ? closeDelay : 200;\n          delayGroupContext.setIsGroupActive(open, groupDeactivateDelay), delayGroupContext.setOpenTooltipId(null, immediate ? 0 : closeDelay);\n        }\n      else\n        setIsOpen(open, immediate ? 0 : open ? openDelay : closeDelay);\n    },\n    [isInsideGroup, delayGroupContext, openDelay, tooltipId, closeDelay, setIsOpen]\n  ), handleBlur = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (e) => {\n      var _a2, _b2;\n      handleIsOpenChange(!1), (_b2 = (_a2 = childProp == null ? void 0 : childProp.props) == null ? void 0 : _a2.onBlur) == null || _b2.call(_a2, e);\n    },\n    [childProp == null ? void 0 : childProp.props, handleIsOpenChange]\n  ), handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (e) => {\n      var _a2, _b2;\n      handleIsOpenChange(!1, !0), (_b2 = childProp == null ? void 0 : (_a2 = childProp.props).onClick) == null || _b2.call(_a2, e);\n    },\n    [childProp == null ? void 0 : childProp.props, handleIsOpenChange]\n  ), handleContextMenu = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (e) => {\n      var _a2, _b2;\n      handleIsOpenChange(!1, !0), (_b2 = childProp == null ? void 0 : (_a2 = childProp.props).onContextMenu) == null || _b2.call(_a2, e);\n    },\n    [childProp == null ? void 0 : childProp.props, handleIsOpenChange]\n  ), handleFocus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (e) => {\n      var _a2, _b2;\n      handleIsOpenChange(!0), (_b2 = (_a2 = childProp == null ? void 0 : childProp.props) == null ? void 0 : _a2.onFocus) == null || _b2.call(_a2, e);\n    },\n    [childProp == null ? void 0 : childProp.props, handleIsOpenChange]\n  ), handleMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (e) => {\n      var _a2, _b2;\n      handleIsOpenChange(!0), (_b2 = (_a2 = childProp == null ? void 0 : childProp.props) == null ? void 0 : _a2.onMouseEnter) == null || _b2.call(_a2, e);\n    },\n    [childProp == null ? void 0 : childProp.props, handleIsOpenChange]\n  ), handleMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (e) => {\n      var _a2, _b2;\n      handleIsOpenChange(!1), (_b2 = (_a2 = childProp == null ? void 0 : childProp.props) == null ? void 0 : _a2.onMouseLeave) == null || _b2.call(_a2, e);\n    },\n    [childProp == null ? void 0 : childProp.props, handleIsOpenChange]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!showTooltip) return;\n    function handleWindowMouseMove(event) {\n      referenceElement && (referenceElement === event.target || event.target instanceof Node && referenceElement.contains(event.target) || (handleIsOpenChange(!1), window.removeEventListener(\"mousemove\", handleWindowMouseMove)));\n    }\n    return window.addEventListener(\"mousemove\", handleWindowMouseMove), () => {\n      window.removeEventListener(\"mousemove\", handleWindowMouseMove);\n    };\n  }, [showTooltip, referenceElement, handleIsOpenChange]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    disabled && showTooltip && handleIsOpenChange(!1);\n  }, [disabled, handleIsOpenChange, showTooltip]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    !content && showTooltip && handleIsOpenChange(!1);\n  }, [content, handleIsOpenChange, showTooltip]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => refs.setReference(referenceElement), [referenceElement, refs]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!showTooltip) return;\n    function handleWindowKeyDown(event) {\n      event.key === \"Escape\" && handleIsOpenChange(!1, !0);\n    }\n    return window.addEventListener(\"keydown\", handleWindowKeyDown), () => {\n      window.removeEventListener(\"keydown\", handleWindowKeyDown);\n    };\n  }, [handleIsOpenChange, showTooltip]);\n  const setArrow = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (arrowEl) => {\n      arrowRef.current = arrowEl, update();\n    },\n    [update]\n  ), setFloating = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (node) => {\n      ref.current = node, refs.setFloating(node);\n    },\n    [refs]\n  ), childRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(childProp == null ? void 0 : childProp.ref, () => childRef.current);\n  const child = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => childProp ? (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(childProp, {\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick,\n    onContextMenu: handleContextMenu,\n    ref: childRef\n  }) : null, [\n    childProp,\n    handleBlur,\n    handleClick,\n    handleContextMenu,\n    handleFocus,\n    handleMouseEnter,\n    handleMouseLeave\n  ]);\n  if ((0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (child)\n      return setReferenceElement(childRef.current), () => setReferenceElement(null);\n  }, [child]), !child) return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});\n  if (disabled) return child;\n  const tooltip = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$a,\n    {\n      \"data-ui\": \"Tooltip\",\n      ...restProps,\n      ref: setFloating,\n      style: floatingStyles,\n      zOffset,\n      $maxWidth: tooltipWidth,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        TooltipCard,\n        {\n          ...restProps,\n          animate,\n          arrow: arrowProp,\n          arrowRef: setArrow,\n          arrowX,\n          arrowY,\n          originX,\n          originY,\n          padding,\n          placement,\n          radius,\n          ref: setFloating,\n          scheme,\n          shadow,\n          children: content\n        }\n      )\n    }\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      ConditionalWrapper,\n      {\n        condition: animate,\n        wrapper: (children) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.AnimatePresence, { children }),\n        children: showTooltip && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          ConditionalWrapper,\n          {\n            condition: !!portalProp,\n            wrapper: (children) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal, { __unstable_name: typeof portalProp == \"string\" ? portalProp : void 0, children }),\n            children: tooltip\n          }\n        )\n      }\n    ),\n    child\n  ] });\n}), emptySubscribe = () => () => {\n}, Root$9 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div`\n  line-height: 0;\n`, ListBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)`\n  & > ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n`, rotate = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.keyframes)`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`, AnimatedSpinnerIcon = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)((0,_sanity_icons__WEBPACK_IMPORTED_MODULE_8__.SpinnerIcon))`\n  animation: ${rotate} 500ms linear infinite;\n`;\nfunction AutocompleteOption(props) {\n  const { children, id, onSelect, selected, value } = props, handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setTimeout(() => {\n      onSelect(value);\n    }, 0);\n  }, [onSelect, value]), handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      event.key === \"Enter\" && !_isEnterToClickElement(event.currentTarget) && handleClick();\n    },\n    [handleClick]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"li\",\n    {\n      \"aria-selected\": selected,\n      \"data-ui\": \"AutocompleteOption\",\n      id,\n      role: \"option\",\n      onClick: handleClick,\n      onKeyDown: handleKeyDown,\n      children\n    }\n  );\n}\nfunction autocompleteReducer(state, msg2) {\n  return msg2.type === \"input/change\" ? { ...state, activeValue: null, focused: !0, query: msg2.query } : msg2.type === \"input/focus\" ? { ...state, focused: !0 } : msg2.type === \"root/blur\" ? { ...state, focused: !1, query: null } : msg2.type === \"root/clear\" ? { ...state, activeValue: null, query: null, value: null } : msg2.type === \"root/escape\" ? { ...state, focused: !1, query: null } : msg2.type === \"root/open\" ? { ...state, query: state.query || msg2.query } : msg2.type === \"root/setActiveValue\" ? { ...state, activeValue: msg2.value, listFocused: msg2.listFocused || state.listFocused } : msg2.type === \"root/setListFocused\" ? { ...state, listFocused: msg2.listFocused } : msg2.type === \"value/change\" ? { ...state, activeValue: msg2.value, query: null, value: msg2.value } : state;\n}\nconst AUTOCOMPLETE_LISTBOX_IGNORE_KEYS = [\n  \"Control\",\n  \"Shift\",\n  \"Alt\",\n  \"Enter\",\n  \"Home\",\n  \"End\",\n  \"PageUp\",\n  \"PageDown\",\n  \"Meta\",\n  \"Tab\",\n  \"CapsLock\"\n], AUTOCOMPLETE_POPOVER_PLACEMENT = \"bottom-start\", AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS = [\"bottom-start\", \"top-start\"], DEFAULT_RENDER_VALUE = (value, option) => option ? option.value : value, DEFAULT_FILTER_OPTION = (query, option) => option.value.toLowerCase().indexOf(query.toLowerCase()) > -1, InnerAutocomplete = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const {\n    border: border2 = !0,\n    customValidity,\n    disabled,\n    filterOption: filterOptionProp,\n    fontSize: fontSize2 = 2,\n    icon,\n    id,\n    listBox = EMPTY_RECORD,\n    loading,\n    onBlur,\n    onChange,\n    onFocus,\n    onQueryChange,\n    onSelect,\n    openButton,\n    openOnFocus,\n    options: optionsProp,\n    padding: paddingProp = 3,\n    popover = EMPTY_RECORD,\n    prefix,\n    radius = 2,\n    readOnly,\n    relatedElements,\n    renderOption: renderOptionProp,\n    renderPopover,\n    renderValue = DEFAULT_RENDER_VALUE,\n    suffix,\n    value: valueProp,\n    ...restProps\n  } = props, [state, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useReducer)(autocompleteReducer, {\n    activeValue: valueProp || null,\n    focused: !1,\n    listFocused: !1,\n    query: null,\n    value: valueProp || null\n  }), { activeValue, focused, listFocused, query, value } = state, defaultRenderOption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    ({ value: value2 }) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Card, { \"data-as\": \"button\", padding: paddingProp, radius: 2, tone: \"inherit\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { size: fontSize2, textOverflow: \"ellipsis\", children: value2 }) }),\n    [fontSize2, paddingProp]\n  ), renderOption = typeof renderOptionProp == \"function\" ? renderOptionProp : defaultRenderOption, filterOption = typeof filterOptionProp == \"function\" ? filterOptionProp : DEFAULT_FILTER_OPTION, rootElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), resultsPopoverElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), inputElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), listBoxElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), listFocusedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(!1), valueRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(value), valuePropRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(valueProp), popoverMouseWithinRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(!1);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n    forwardedRef,\n    () => inputElementRef.current\n  );\n  const listBoxId = `${id}-listbox`, options = Array.isArray(optionsProp) ? optionsProp : EMPTY_ARRAY, padding = useArrayProp(paddingProp), currentOption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => value !== null ? options.find((o) => o.value === value) : void 0,\n    [options, value]\n  ), filteredOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => options.filter((option) => query ? filterOption(query, option) : !0),\n    [filterOption, options, query]\n  ), filteredOptionsLen = filteredOptions.length, activeItemId = activeValue ? `${id}-option-${activeValue}` : void 0, expanded = query !== null && loading || focused && query !== null, handleRootBlur = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      setTimeout(() => {\n        if (popoverMouseWithinRef.current)\n          return;\n        const elements = (relatedElements || []).concat(\n          rootElementRef.current ? [rootElementRef.current] : [],\n          resultsPopoverElementRef.current ? [resultsPopoverElementRef.current] : []\n        );\n        let focusInside = !1;\n        if (document.activeElement) {\n          for (const e of elements)\n            if (e === document.activeElement || e.contains(document.activeElement)) {\n              focusInside = !0;\n              break;\n            }\n        }\n        focusInside === !1 && (dispatch({ type: \"root/blur\" }), popoverMouseWithinRef.current = !1, onQueryChange && onQueryChange(null), onBlur && onBlur(event));\n      }, 0);\n    },\n    [onBlur, onQueryChange, relatedElements]\n  ), handleRootFocus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event) => {\n    const listBoxElement = listBoxElementRef.current, focusedElement = event.target instanceof HTMLElement ? event.target : null, listFocused2 = (listBoxElement == null ? void 0 : listBoxElement.contains(focusedElement)) || !1;\n    listFocused2 !== listFocusedRef.current && (listFocusedRef.current = listFocused2, dispatch({ type: \"root/setListFocused\", listFocused: listFocused2 }));\n  }, []), handleOptionSelect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (v) => {\n      var _a;\n      dispatch({ type: \"value/change\", value: v }), popoverMouseWithinRef.current = !1, onSelect && onSelect(v), valueRef.current = v, onChange && onChange(v), onQueryChange && onQueryChange(null), (_a = inputElementRef.current) == null || _a.focus();\n    },\n    [onChange, onSelect, onQueryChange]\n  ), handleRootKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      var _a, _b;\n      if (event.key === \"ArrowDown\") {\n        if (event.preventDefault(), !filteredOptionsLen) return;\n        const activeOption = filteredOptions.find((o) => o.value === activeValue), activeIndex = activeOption ? filteredOptions.indexOf(activeOption) : -1, nextActiveOption = filteredOptions[(activeIndex + 1) % filteredOptionsLen];\n        nextActiveOption && dispatch({ type: \"root/setActiveValue\", value: nextActiveOption.value, listFocused: !0 });\n        return;\n      }\n      if (event.key === \"ArrowUp\") {\n        if (event.preventDefault(), !filteredOptionsLen) return;\n        const activeOption = filteredOptions.find((o) => o.value === activeValue), activeIndex = activeOption ? filteredOptions.indexOf(activeOption) : -1, nextActiveOption = filteredOptions[activeIndex === -1 ? filteredOptionsLen - 1 : (filteredOptionsLen + activeIndex - 1) % filteredOptionsLen];\n        nextActiveOption && dispatch({ type: \"root/setActiveValue\", value: nextActiveOption.value, listFocused: !0 });\n        return;\n      }\n      if (event.key === \"Escape\") {\n        dispatch({ type: \"root/escape\" }), popoverMouseWithinRef.current = !1, onQueryChange && onQueryChange(null), (_a = inputElementRef.current) == null || _a.focus();\n        return;\n      }\n      const target = event.target, listEl = listBoxElementRef.current;\n      if ((listEl === target || listEl != null && listEl.contains(target)) && !AUTOCOMPLETE_LISTBOX_IGNORE_KEYS.includes(event.key)) {\n        (_b = inputElementRef.current) == null || _b.focus();\n        return;\n      }\n    },\n    [activeValue, filteredOptions, filteredOptionsLen, onQueryChange]\n  ), handleInputChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      const nextQuery = event.currentTarget.value;\n      dispatch({ type: \"input/change\", query: nextQuery }), onQueryChange && onQueryChange(nextQuery);\n    },\n    [onQueryChange]\n  ), dispatchOpen = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    dispatch({\n      type: \"root/open\",\n      query: value ? renderValue(value, currentOption) : \"\"\n    });\n  }, [currentOption, renderValue, value]), handleInputFocus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      focused || (dispatch({ type: \"input/focus\" }), onFocus && onFocus(event), openOnFocus && dispatchOpen());\n    },\n    [focused, onFocus, openOnFocus, dispatchOpen]\n  ), handlePopoverMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    popoverMouseWithinRef.current = !0;\n  }, []), handlePopoverMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    popoverMouseWithinRef.current = !1;\n  }, []), handleClearButtonClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    var _a;\n    dispatch({ type: \"root/clear\" }), valueRef.current = \"\", onChange && onChange(\"\"), onQueryChange && onQueryChange(null), (_a = inputElementRef.current) == null || _a.focus();\n  }, [onChange, onQueryChange]), handleClearButtonFocus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    dispatch({ type: \"input/focus\" });\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (valueProp !== valuePropRef.current) {\n      valuePropRef.current = valueProp, valueProp !== void 0 && (dispatch({ type: \"value/change\", value: valueProp }), valueRef.current = valueProp);\n      return;\n    }\n    valueProp !== valueRef.current && (valueRef.current = valueProp || null, dispatch({ type: \"value/change\", value: valueProp || null }));\n  }, [valueProp]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    !focused && valueRef.current && dispatch({ type: \"root/setActiveValue\", value: valueRef.current });\n  }, [focused]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const listElement = listBoxElementRef.current;\n    if (!listElement) return;\n    const activeOption = filteredOptions.find((o) => o.value === activeValue);\n    if (activeOption) {\n      const activeIndex = filteredOptions.indexOf(activeOption), activeItemElement = listElement.childNodes[activeIndex];\n      if (activeItemElement) {\n        if (_hasFocus(activeItemElement))\n          return;\n        focusFirstDescendant(activeItemElement);\n      }\n    }\n  }, [activeValue, filteredOptions]);\n  const clearButton = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!loading && !disabled && value)\n      return {\n        \"aria-label\": \"Clear\",\n        onFocus: handleClearButtonFocus\n      };\n  }, [disabled, handleClearButtonFocus, loading, value]), openButtonBoxPadding = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => padding.map((v) => v === 0 ? 0 : v === 1 || v === 2 ? 1 : v - 2),\n    [padding]\n  ), openButtonPadding = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => padding.map((v) => Math.max(v - 1, 0)), [padding]), openButtonProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => typeof openButton == \"object\" ? openButton : EMPTY_RECORD,\n    [openButton]\n  ), handleOpenClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      dispatchOpen(), openButtonProps.onClick && openButtonProps.onClick(event), _raf(() => {\n        var _a;\n        return (_a = inputElementRef.current) == null ? void 0 : _a.focus();\n      });\n    },\n    [openButtonProps, dispatchOpen]\n  ), openButtonNode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => !disabled && !readOnly && openButton ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { \"aria-hidden\": expanded, padding: openButtonBoxPadding, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      Button,\n      {\n        \"aria-label\": \"Open\",\n        disabled: expanded,\n        fontSize: fontSize2,\n        icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_8__.ChevronDownIcon,\n        mode: \"bleed\",\n        padding: openButtonPadding,\n        ...openButtonProps,\n        onClick: handleOpenClick\n      }\n    ) }) : void 0,\n    [\n      disabled,\n      expanded,\n      fontSize2,\n      handleOpenClick,\n      openButton,\n      openButtonBoxPadding,\n      openButtonPadding,\n      openButtonProps,\n      readOnly\n    ]\n  ), inputValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => query === null ? value !== null ? renderValue(value, currentOption) : \"\" : query, [currentOption, query, renderValue, value]), input = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    TextInput,\n    {\n      ...restProps,\n      \"aria-activedescendant\": activeItemId,\n      \"aria-autocomplete\": \"list\",\n      \"aria-expanded\": expanded,\n      \"aria-owns\": listBoxId,\n      autoCapitalize: \"off\",\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      border: border2,\n      clearButton,\n      customValidity,\n      disabled,\n      fontSize: fontSize2,\n      icon,\n      iconRight: loading && AnimatedSpinnerIcon,\n      id,\n      inputMode: \"search\",\n      onChange: handleInputChange,\n      onClear: handleClearButtonClick,\n      onFocus: handleInputFocus,\n      padding,\n      prefix,\n      radius,\n      readOnly,\n      ref: inputElementRef,\n      role: \"combobox\",\n      spellCheck: !1,\n      suffix: suffix || openButtonNode,\n      value: inputValue\n    }\n  ), handleListBoxKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      var _a;\n      event.key === \"Tab\" && listFocused && ((_a = inputElementRef.current) == null || _a.focus());\n    },\n    [listFocused]\n  ), content = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => filteredOptions.length === 0 ? null : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    ListBox,\n    {\n      \"data-ui\": \"AutoComplete__results\",\n      onKeyDown: handleListBoxKeyDown,\n      padding: 1,\n      ...listBox,\n      tabIndex: -1,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        Stack,\n        {\n          as: \"ul\",\n          \"aria-multiselectable\": !1,\n          \"data-ui\": \"AutoComplete__resultsList\",\n          id: listBoxId,\n          ref: listBoxElementRef,\n          role: \"listbox\",\n          space: 1,\n          children: filteredOptions.map((option) => {\n            const active = activeValue !== null ? option.value === activeValue : currentOption === option;\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n              AutocompleteOption,\n              {\n                id: `${id}-option-${option.value}`,\n                onSelect: handleOptionSelect,\n                selected: active,\n                value: option.value,\n                children: (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(renderOption(option), {\n                  disabled: loading,\n                  selected: active,\n                  tabIndex: listFocused && active ? 0 : -1\n                })\n              },\n              option.value\n            );\n          })\n        }\n      )\n    }\n  ), [\n    activeValue,\n    currentOption,\n    filteredOptions,\n    handleOptionSelect,\n    handleListBoxKeyDown,\n    id,\n    listBox,\n    listBoxId,\n    listFocused,\n    loading,\n    renderOption\n  ]), results = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => renderPopover ? renderPopover(\n    {\n      content,\n      hidden: !expanded,\n      inputElement: inputElementRef.current,\n      onMouseEnter: handlePopoverMouseEnter,\n      onMouseLeave: handlePopoverMouseLeave\n    },\n    resultsPopoverElementRef\n  ) : filteredOptionsLen === 0 ? null : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Popover,\n    {\n      arrow: !1,\n      constrainSize: !0,\n      content,\n      fallbackPlacements: AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS,\n      matchReferenceWidth: !0,\n      onMouseEnter: handlePopoverMouseEnter,\n      onMouseLeave: handlePopoverMouseLeave,\n      open: expanded,\n      overflow: \"auto\",\n      placement: AUTOCOMPLETE_POPOVER_PLACEMENT,\n      portal: !0,\n      radius,\n      ref: resultsPopoverElementRef,\n      referenceElement: inputElementRef.current,\n      ...popover\n    }\n  ), [\n    content,\n    expanded,\n    filteredOptionsLen,\n    handlePopoverMouseEnter,\n    handlePopoverMouseLeave,\n    popover,\n    radius,\n    renderPopover\n  ]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    Root$9,\n    {\n      \"data-ui\": \"Autocomplete\",\n      onBlur: handleRootBlur,\n      onFocus: handleRootFocus,\n      onKeyDown: handleRootKeyDown,\n      ref: rootElementRef,\n      children: [\n        input,\n        results\n      ]\n    }\n  );\n}), Autocomplete = InnerAutocomplete, Root$8 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.ol`\n  margin: 0;\n  padding: 0;\n  display: flex;\n  list-style: none;\n  align-items: center;\n  white-space: nowrap;\n  line-height: 0;\n`, ExpandButton = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Button)`\n  appearance: none;\n  margin: -4px;\n`, Breadcrumbs = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { children, maxLength, separator, space: spaceRaw = 2, ...restProps } = props, space = useArrayProp(spaceRaw), [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1), [expandElement, setExpandElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), [popoverElement, setPopoverElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), collapse = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => setOpen(!1), []), expand = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => setOpen(!0), []);\n  useClickOutside(collapse, [expandElement, popoverElement]);\n  const rawItems = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => react__WEBPACK_IMPORTED_MODULE_1__.Children.toArray(children).filter(react__WEBPACK_IMPORTED_MODULE_1__.isValidElement), [children]), items = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const len = rawItems.length;\n    if (maxLength && len > maxLength) {\n      const beforeLength = Math.ceil(maxLength / 2), afterLength = Math.floor(maxLength / 2);\n      return [\n        ...rawItems.slice(0, beforeLength - 1),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          Popover,\n          {\n            constrainSize: !0,\n            content: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Stack, { as: \"ol\", overflow: \"auto\", padding: space, space, children: rawItems.slice(beforeLength - 1, len - afterLength) }),\n            open,\n            placement: \"top\",\n            portal: !0,\n            ref: setPopoverElement,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n              ExpandButton,\n              {\n                fontSize: 1,\n                mode: \"bleed\",\n                onClick: open ? collapse : expand,\n                padding: 1,\n                ref: setExpandElement,\n                selected: open,\n                text: \"\\u2026\"\n              }\n            )\n          },\n          \"button\"\n        ),\n        ...rawItems.slice(len - afterLength)\n      ];\n    }\n    return rawItems;\n  }, [collapse, expand, maxLength, open, rawItems, space]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$8, { \"data-ui\": \"Breadcrumbs\", ...restProps, ref, children: items.map((item, itemIndex) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n    itemIndex > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { \"aria-hidden\": !0, as: \"li\", paddingX: space, children: separator || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { muted: !0, children: \"/\" }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { as: \"li\", children: item })\n  ] }, itemIndex)) });\n});\nfunction dialogStyle({ theme }) {\n  const { color } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(theme);\n  return {\n    \"&:not([hidden])\": {\n      display: \"flex\"\n    },\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    outline: \"none\",\n    background: color.backdrop\n  };\n}\nfunction responsiveDialogPositionStyle(props) {\n  const { media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return _responsive(media, props.$position, (position) => ({ \"&&\": { position } }));\n}\nfunction animationDialogStyle(props) {\n  return props.$animate ? (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    @keyframes zoomIn {\n      from {\n        opacity: 0;\n        transform: scale(0.95);\n      }\n      to {\n        opacity: 1;\n        transform: scale(1);\n      }\n    }\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n      }\n      to {\n        opacity: 1;\n      }\n    }\n\n    animation: fadeIn 200ms ease-out;\n    // Animates the dialog card.\n    & > [data-ui='DialogCard'] {\n      animation: zoomIn 200ms ease-out;\n    }\n  ` : (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)``;\n}\nconst key$3 = Symbol.for(\"@sanity/ui/context/dialog\"), DialogContext = createGlobalScopedContext(key$3, {\n  version: 0\n});\nfunction useDialog() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(DialogContext);\n}\nfunction isTargetWithinScope(boundaryElement, portalElement, target) {\n  return !boundaryElement || !portalElement ? !0 : containsOrEqualsElement(boundaryElement, target) || containsOrEqualsElement(portalElement, target);\n}\nconst Root$7 = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Layer)(responsivePaddingStyle, dialogStyle, responsiveDialogPositionStyle, animationDialogStyle), DialogContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Container)`\n  &:not([hidden]) {\n    display: flex;\n  }\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`, DialogCardRoot = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Card)`\n  &:not([hidden]) {\n    display: flex;\n  }\n  width: 100%;\n  min-height: 0;\n  max-height: 100%;\n  overflow: hidden;\n  overflow: clip;\n`, DialogLayout = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Flex)`\n  flex: 1;\n  min-height: 0;\n  width: 100%;\n`, DialogHeader = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)`\n  position: relative;\n  z-index: 2;\n`, DialogContent = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)`\n  position: relative;\n  z-index: 1;\n  overflow: auto;\n  outline: none;\n`, DialogFooter = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)`\n  position: relative;\n  z-index: 3;\n`, DialogCard = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  var _a;\n  const {\n    __unstable_autoFocus: autoFocus,\n    __unstable_hideCloseButton: hideCloseButton,\n    children,\n    contentRef: forwardedContentRef,\n    footer,\n    header,\n    id,\n    onClickOutside,\n    onClose,\n    portal: portalProp,\n    radius: radiusProp,\n    scheme,\n    shadow: shadowProp,\n    width: widthProp\n  } = props, portal = usePortal(), portalElement = portalProp ? ((_a = portal.elements) == null ? void 0 : _a[portalProp]) || null : portal.element, boundaryElement = useBoundaryElement().element, radius = useArrayProp(radiusProp), shadow = useArrayProp(shadowProp), width = useArrayProp(widthProp), ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), [rootElement, setRootElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), contentRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), layer = useLayer(), { isTopLayer } = layer, labelId = `${id}_label`, showCloseButton = !!onClose && hideCloseButton === !1, showHeader = !!header || showCloseButton;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(forwardedRef, () => ref.current), (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n    forwardedContentRef,\n    () => contentRef.current\n  ), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    autoFocus && ref.current && focusFirstDescendant(ref.current);\n  }, [autoFocus, ref]), useGlobalKeyDown(\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (event) => {\n        if (!isTopLayer || !onClose) return;\n        const target = document.activeElement;\n        target && !isTargetWithinScope(boundaryElement, portalElement, target) || event.key === \"Escape\" && (event.preventDefault(), event.stopPropagation(), onClose());\n      },\n      [boundaryElement, isTopLayer, onClose, portalElement]\n    )\n  ), useClickOutside(\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (event) => {\n        if (!isTopLayer || !onClickOutside) return;\n        const target = event.target;\n        target && !isTargetWithinScope(boundaryElement, portalElement, target) || onClickOutside();\n      },\n      [boundaryElement, isTopLayer, onClickOutside, portalElement]\n    ),\n    [rootElement]\n  );\n  const setRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((el) => {\n    setRootElement(el), ref.current = el;\n  }, []);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DialogContainer, { \"data-ui\": \"DialogCard\", width, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DialogCardRoot, { radius, ref: setRef, scheme, shadow, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(DialogLayout, { direction: \"column\", children: [\n    showHeader && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DialogHeader, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Flex, { align: \"center\", padding: 3, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { flex: 1, padding: 2, children: header && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { id: labelId, size: 1, weight: \"semibold\", children: header }) }),\n      showCloseButton && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { flex: \"none\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        Button,\n        {\n          \"aria-label\": \"Close dialog\",\n          disabled: !onClose,\n          icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_8__.CloseIcon,\n          mode: \"bleed\",\n          onClick: onClose,\n          padding: 2\n        }\n      ) })\n    ] }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DialogContent, { flex: 1, ref: contentRef, tabIndex: -1, children }),\n    footer && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DialogFooter, { children: footer })\n  ] }) }) });\n}), Dialog = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  var _a;\n  const dialog = useDialog(), { layer } = useTheme_v2(), {\n    __unstable_autoFocus: autoFocus = !0,\n    __unstable_hideCloseButton: hideCloseButton = !1,\n    cardRadius: cardRadiusProp = 4,\n    cardShadow = 3,\n    children,\n    contentRef,\n    footer,\n    header,\n    id,\n    onActivate,\n    onClickOutside,\n    onClose,\n    onFocus,\n    padding: paddingProp = 3,\n    portal: portalProp,\n    position: positionProp = dialog.position || \"fixed\",\n    scheme,\n    width: widthProp = 0,\n    zOffset: zOffsetProp = dialog.zOffset || layer.dialog.zOffset,\n    animate: _animate = !1,\n    ...restProps\n  } = props, animate = usePrefersReducedMotion() ? !1 : _animate, portal = usePortal(), portalElement = portalProp ? ((_a = portal.elements) == null ? void 0 : _a[portalProp]) || null : portal.element, boundaryElement = useBoundaryElement().element, cardRadius = useArrayProp(cardRadiusProp), padding = useArrayProp(paddingProp), position = useArrayProp(positionProp), width = useArrayProp(widthProp), zOffset = useArrayProp(zOffsetProp), preDivRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), postDivRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), cardRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), focusedElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), handleFocus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      onFocus == null || onFocus(event);\n      const target = event.target, cardElement = cardRef.current;\n      if (cardElement && target === preDivRef.current) {\n        focusLastDescendant(cardElement);\n        return;\n      }\n      if (cardElement && target === postDivRef.current) {\n        focusFirstDescendant(cardElement);\n        return;\n      }\n      isHTMLElement(event.target) && (focusedElementRef.current = event.target);\n    },\n    [onFocus]\n  ), labelId = `${id}_label`, rootClickTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(), handleRootClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    rootClickTimeoutRef.current && clearTimeout(rootClickTimeoutRef.current), rootClickTimeoutRef.current = setTimeout(() => {\n      const activeElement = document.activeElement;\n      if (activeElement && !isTargetWithinScope(boundaryElement, portalElement, activeElement)) {\n        const target = focusedElementRef.current;\n        if (!target || !document.body.contains(target)) {\n          const cardElement = cardRef.current;\n          cardElement && focusFirstDescendant(cardElement);\n          return;\n        }\n        target.focus();\n      }\n    }, 0);\n  }, [boundaryElement, portalElement]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal, { __unstable_name: portalProp, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    Root$7,\n    {\n      ...restProps,\n      $animate: animate,\n      $padding: padding,\n      $position: position,\n      \"aria-labelledby\": labelId,\n      \"aria-modal\": !0,\n      \"data-ui\": \"Dialog\",\n      id,\n      onActivate,\n      onClick: handleRootClick,\n      onFocus: handleFocus,\n      ref,\n      role: \"dialog\",\n      zOffset,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: preDivRef, tabIndex: 0 }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          DialogCard,\n          {\n            __unstable_autoFocus: autoFocus,\n            __unstable_hideCloseButton: hideCloseButton,\n            contentRef,\n            footer,\n            header,\n            id,\n            onClickOutside,\n            onClose,\n            portal: portalProp,\n            radius: cardRadius,\n            ref: cardRef,\n            scheme,\n            shadow: cardShadow,\n            width,\n            children\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: postDivRef, tabIndex: 0 })\n      ]\n    }\n  ) });\n});\nfunction DialogProvider(props) {\n  const { children, position, zOffset } = props, contextValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      version: 0,\n      position,\n      zOffset\n    }),\n    [position, zOffset]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DialogContext.Provider, { value: contextValue, children });\n}\nconst Root$6 = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.kbd`\n  font: inherit;\n  padding: 1px;\n\n  &:not([hidden]) {\n    display: block;\n  }\n`, Key = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(KBD)`\n  &:not([hidden]) {\n    display: block;\n  }\n`, Hotkeys = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { fontSize: fontSize2, keys, padding, radius, space: spaceProp = 0.5, ...restProps } = props, space = useArrayProp(spaceProp);\n  return !keys || keys.length === 0 ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$6, { \"data-ui\": \"Hotkeys\", ...restProps, ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Inline, { as: \"span\", space, children: keys.map((key2, i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Key, { fontSize: fontSize2, padding, radius, children: key2 }, i)) }) });\n}), key$2 = Symbol.for(\"@sanity/ui/context/menu\"), MenuContext = createGlobalScopedContext(key$2, null);\nfunction _isFocusable(element) {\n  return isHTMLAnchorElement(element) && element.getAttribute(\"data-disabled\") !== \"true\" || isHTMLButtonElement(element) && !element.disabled;\n}\nfunction _getFocusableElements(elements) {\n  return elements.filter(_isFocusable);\n}\nfunction _getDOMPath(rootElement, el) {\n  const path = [];\n  let e = el;\n  for (; e !== rootElement; ) {\n    const parentElement = e.parentElement;\n    if (!parentElement) return path;\n    const index = Array.from(parentElement.childNodes).indexOf(e);\n    if (path.unshift(index), parentElement === rootElement)\n      return path;\n    e = parentElement;\n  }\n  return path;\n}\nconst EMPTY_PATH = [];\nfunction _sortElements(rootElement, elements) {\n  if (!rootElement) return;\n  const map = /* @__PURE__ */ new WeakMap();\n  for (const el of elements)\n    map.set(el, _getDOMPath(rootElement, el));\n  const _sort = (a, b) => {\n    const _a = map.get(a) || EMPTY_PATH, _b = map.get(b) || EMPTY_PATH, len = Math.max(_a.length, _b.length);\n    for (let i = 0; i < len; i += 1) {\n      const aIndex = _a[i] || -1, bIndex = _b[i] || -1;\n      if (aIndex !== bIndex)\n        return aIndex - bIndex;\n    }\n    return 0;\n  };\n  elements.sort(_sort);\n}\nfunction useMenuController(props) {\n  const { onKeyDown, originElement, shouldFocus } = props, elementsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]), [rootElement, setRootElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), [activeIndex, _setActiveIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1), activeIndexRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(activeIndex), activeElement = elementsRef.current[activeIndex] || null, mounted = !!rootElement, setActiveIndex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((nextActiveIndex) => {\n    _setActiveIndex(nextActiveIndex), activeIndexRef.current = nextActiveIndex;\n  }, []), mount = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (element, selected) => {\n      if (!element) return () => {\n      };\n      if (elementsRef.current.indexOf(element) === -1 && (elementsRef.current.push(element), _sortElements(rootElement, elementsRef.current)), selected) {\n        const selectedIndex = elementsRef.current.indexOf(element);\n        setActiveIndex(selectedIndex);\n      }\n      return () => {\n        const idx = elementsRef.current.indexOf(element);\n        idx > -1 && elementsRef.current.splice(idx, 1);\n      };\n    },\n    [rootElement, setActiveIndex]\n  ), handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      if (event.key === \"Tab\") {\n        originElement && originElement.focus();\n        return;\n      }\n      if (event.key === \"Home\") {\n        event.preventDefault(), event.stopPropagation();\n        const el = _getFocusableElements(elementsRef.current)[0];\n        if (!el) return;\n        const currentIndex = elementsRef.current.indexOf(el);\n        setActiveIndex(currentIndex);\n        return;\n      }\n      if (event.key === \"End\") {\n        event.preventDefault(), event.stopPropagation();\n        const focusableElements = _getFocusableElements(elementsRef.current), el = focusableElements[focusableElements.length - 1];\n        if (!el) return;\n        const currentIndex = elementsRef.current.indexOf(el);\n        setActiveIndex(currentIndex);\n        return;\n      }\n      if (event.key === \"ArrowUp\") {\n        event.preventDefault(), event.stopPropagation();\n        const focusableElements = _getFocusableElements(elementsRef.current), focusableLen = focusableElements.length;\n        if (focusableLen === 0) return;\n        const focusedElement = elementsRef.current[activeIndexRef.current];\n        let focusedIndex = focusableElements.indexOf(focusedElement);\n        focusedIndex = (focusedIndex - 1 + focusableLen) % focusableLen;\n        const el = focusableElements[focusedIndex], currentIndex = elementsRef.current.indexOf(el);\n        setActiveIndex(currentIndex);\n        return;\n      }\n      if (event.key === \"ArrowDown\") {\n        event.preventDefault(), event.stopPropagation();\n        const focusableElements = _getFocusableElements(elementsRef.current), focusableLen = focusableElements.length;\n        if (focusableLen === 0) return;\n        const focusedElement = elementsRef.current[activeIndexRef.current];\n        let focusedIndex = focusableElements.indexOf(focusedElement);\n        focusedIndex = (focusedIndex + 1) % focusableLen;\n        const el = focusableElements[focusedIndex], currentIndex = elementsRef.current.indexOf(el);\n        setActiveIndex(currentIndex);\n        return;\n      }\n      onKeyDown && onKeyDown(event);\n    },\n    [onKeyDown, originElement, setActiveIndex]\n  ), handleItemMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      const element = event.currentTarget, currentIndex = elementsRef.current.indexOf(element);\n      setActiveIndex(currentIndex);\n    },\n    [setActiveIndex]\n  ), handleItemMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setActiveIndex(-2), rootElement == null || rootElement.focus();\n  }, [setActiveIndex, rootElement]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!mounted) return;\n    const rafId = window.requestAnimationFrame(() => {\n      const _activeIndex = activeIndexRef.current;\n      if (_activeIndex === -1) {\n        if (shouldFocus === \"first\") {\n          const el = _getFocusableElements(elementsRef.current)[0];\n          if (el) {\n            const currentIndex = elementsRef.current.indexOf(el);\n            setActiveIndex(currentIndex), activeIndexRef.current = currentIndex;\n          }\n        }\n        if (shouldFocus === \"last\") {\n          const focusableElements = _getFocusableElements(elementsRef.current), el = focusableElements[focusableElements.length - 1];\n          if (el) {\n            const currentIndex = elementsRef.current.indexOf(el);\n            setActiveIndex(currentIndex), activeIndexRef.current = currentIndex;\n          }\n        }\n        return;\n      }\n      const element = elementsRef.current[_activeIndex] || null;\n      element == null || element.focus();\n    });\n    return () => {\n      window.cancelAnimationFrame(rafId);\n    };\n  }, [activeIndex, mounted, setActiveIndex, shouldFocus]), {\n    activeElement,\n    activeIndex,\n    handleItemMouseEnter,\n    handleItemMouseLeave,\n    handleKeyDown,\n    mount,\n    rootElement,\n    setRootElement\n  };\n}\nconst Root$5 = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)`\n  outline: none;\n  overflow: auto;\n`, Menu = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const {\n    children,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusFirst,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusLast,\n    onClickOutside,\n    onEscape,\n    onItemClick,\n    onItemSelect,\n    onKeyDown,\n    originElement,\n    padding = 1,\n    registerElement,\n    shouldFocus = props.focusFirst && \"first\" || props.focusLast && \"last\" || null,\n    space = 1,\n    ...restProps\n  } = props, ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(forwardedRef, () => ref.current);\n  const { isTopLayer } = useLayer(), {\n    activeElement,\n    activeIndex,\n    handleItemMouseEnter,\n    handleItemMouseLeave,\n    handleKeyDown,\n    mount,\n    rootElement,\n    setRootElement\n  } = useMenuController({ onKeyDown, originElement, shouldFocus }), handleRefChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (el) => {\n      setRootElement(el), ref.current = el;\n    },\n    [setRootElement]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onItemSelect && onItemSelect(activeIndex);\n  }, [activeIndex, onItemSelect]), useClickOutside(\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (event) => isTopLayer && onClickOutside && onClickOutside(event),\n      [isTopLayer, onClickOutside]\n    ),\n    [rootElement]\n  ), useGlobalKeyDown(\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (event) => {\n        isTopLayer && event.key === \"Escape\" && (event.stopPropagation(), onEscape && onEscape());\n      },\n      [isTopLayer, onEscape]\n    )\n  ), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!(!rootElement || !registerElement))\n      return registerElement(rootElement);\n  }, [registerElement, rootElement]);\n  const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      version: 0,\n      activeElement,\n      activeIndex,\n      mount,\n      onClickOutside,\n      onEscape,\n      onItemClick,\n      onItemMouseEnter: handleItemMouseEnter,\n      onItemMouseLeave: handleItemMouseLeave,\n      registerElement,\n      // deprecated\n      onMouseEnter: handleItemMouseEnter,\n      onMouseLeave: handleItemMouseLeave\n    }),\n    [\n      activeElement,\n      activeIndex,\n      mount,\n      handleItemMouseEnter,\n      handleItemMouseLeave,\n      onClickOutside,\n      onEscape,\n      onItemClick,\n      registerElement\n    ]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuContext.Provider, { value, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$5,\n    {\n      \"data-ui\": \"Menu\",\n      ...restProps,\n      onKeyDown: handleKeyDown,\n      padding,\n      ref: handleRefChange,\n      role: \"menu\",\n      tabIndex: -1,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Stack, { space, children })\n    }\n  ) });\n}), MenuButton = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const {\n    __unstable_disableRestoreFocusOnClose: disableRestoreFocusOnClose = !1,\n    boundaryElement: deprecated_boundaryElement,\n    button: buttonProp,\n    id,\n    menu: menuProp,\n    onClose,\n    onOpen,\n    placement: deprecated_placement,\n    popoverScheme: deprecated_popoverScheme,\n    portal: deprecated_portal = !0,\n    popover,\n    popoverRadius: deprecated_popoverRadius,\n    preventOverflow: deprecated_preventOverflow\n  } = props, [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1), [shouldFocus, setShouldFocus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), [buttonElement, setButtonElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), [menuElements, setChildMenuElements] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), openRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(open);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onOpen && open && !openRef.current && onOpen();\n  }, [onOpen, open]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onClose && !open && openRef.current && onClose();\n  }, [onClose, open]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    openRef.current = open;\n  }, [open]);\n  const handleButtonClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setOpen((v) => !v), setShouldFocus(null);\n  }, []), handleMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      open && event.preventDefault();\n    },\n    [open]\n  ), handleButtonKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event) => {\n    if (event.key === \"ArrowDown\" || event.key === \"Enter\" || event.key === \" \") {\n      event.preventDefault(), setOpen(!0), setShouldFocus(\"first\");\n      return;\n    }\n    if (event.key === \"ArrowUp\") {\n      event.preventDefault(), setOpen(!0), setShouldFocus(\"last\");\n      return;\n    }\n  }, []), handleMenuClickOutside = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      const target = event.target;\n      if (target instanceof Node && !(buttonElement && (target === buttonElement || buttonElement.contains(target)))) {\n        for (const el of menuElements)\n          if (target === el || el.contains(target))\n            return;\n        setOpen(!1);\n      }\n    },\n    [buttonElement, menuElements]\n  ), handleMenuEscape = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setOpen(!1), !disableRestoreFocusOnClose && buttonElement && buttonElement.focus();\n  }, [buttonElement, disableRestoreFocusOnClose]), handleBlur = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      const target = event.relatedTarget;\n      if (target instanceof Node) {\n        for (const el of menuElements)\n          if (el === target || el.contains(target))\n            return;\n        setOpen(!1);\n      }\n    },\n    [menuElements]\n  ), handleItemClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setOpen(!1), !disableRestoreFocusOnClose && buttonElement && buttonElement.focus();\n  }, [buttonElement, disableRestoreFocusOnClose]), registerElement = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((el) => (setChildMenuElements((els) => els.concat([el])), () => {\n    setChildMenuElements((els) => els.filter((_el) => _el !== el));\n  }), []), menuProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      \"aria-labelledby\": id,\n      onBlurCapture: handleBlur,\n      onClickOutside: handleMenuClickOutside,\n      onEscape: handleMenuEscape,\n      onItemClick: handleItemClick,\n      originElement: buttonElement,\n      registerElement,\n      shouldFocus\n    }),\n    [\n      buttonElement,\n      handleMenuClickOutside,\n      handleMenuEscape,\n      handleItemClick,\n      id,\n      handleBlur,\n      registerElement,\n      shouldFocus\n    ]\n  ), menu = menuProp && (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(menuProp, menuProps), ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), button = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => {\n      var _a;\n      return buttonProp && (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(buttonProp, {\n        \"data-ui\": \"MenuButton\",\n        id,\n        onClick: handleButtonClick,\n        onKeyDown: handleButtonKeyDown,\n        onMouseDown: handleMouseDown,\n        \"aria-haspopup\": !0,\n        \"aria-expanded\": open,\n        ref,\n        selected: (_a = buttonProp.props.selected) != null ? _a : open\n      });\n    },\n    [buttonProp, handleButtonClick, handleButtonKeyDown, handleMouseDown, id, open]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n    forwardedRef,\n    () => ref.current\n  ), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (button)\n      return setButtonElement(ref.current), () => setButtonElement(null);\n  }, [button]);\n  const popoverProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      boundaryElement: deprecated_boundaryElement,\n      overflow: \"auto\",\n      placement: deprecated_placement,\n      portal: deprecated_portal,\n      preventOverflow: deprecated_preventOverflow,\n      radius: deprecated_popoverRadius,\n      scheme: deprecated_popoverScheme,\n      ...popover || {}\n    }),\n    [\n      deprecated_boundaryElement,\n      deprecated_placement,\n      deprecated_popoverRadius,\n      deprecated_popoverScheme,\n      deprecated_portal,\n      deprecated_preventOverflow,\n      popover\n    ]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Popover, { \"data-ui\": \"MenuButton__popover\", ...popoverProps, content: menu, open, children: button || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}) });\n}), MenuDivider = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.hr`\n  height: 1px;\n  border: 0;\n  background: var(--card-hairline-soft-color);\n  margin: 0;\n`;\nfunction selectableBaseStyle() {\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    background-color: inherit;\n    color: inherit;\n\n    &[data-as='button'] {\n      -webkit-font-smoothing: inherit;\n      appearance: none;\n      outline: none;\n      font: inherit;\n      text-align: inherit;\n      border: 0;\n      width: -moz-available;\n      width: -webkit-fill-available;\n      width: stretch;\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      text-decoration: none;\n    }\n  `;\n}\nfunction selectableColorStyle(props) {\n  var _a;\n  const { $tone } = props, { color, style } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), tone = color.selectable[$tone];\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    ${_cardColorStyle(color, tone.enabled)}\n\n    background-color: var(--card-bg-color);\n    color: var(--card-fg-color);\n    outline: none;\n\n    /* &:is(button) */\n    &[data-as='button'] {\n      &:disabled {\n        ${_cardColorStyle(color, tone.disabled)}\n      }\n\n      &:not(:disabled) {\n        &[aria-pressed='true'] {\n          ${_cardColorStyle(color, tone.pressed)}\n        }\n\n        &[data-selected],\n        &[aria-selected='true'] > & {\n          ${_cardColorStyle(color, tone.selected)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-selected]) {\n            &[data-hovered],\n            &:hover {\n              ${_cardColorStyle(color, tone.hovered)}\n            }\n\n            &:active {\n              ${_cardColorStyle(color, tone.pressed)}\n            }\n          }\n        }\n      }\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      &[data-disabled] {\n        ${_cardColorStyle(color, tone.disabled)}\n      }\n\n      &:not([data-disabled]) {\n        &[data-pressed] {\n          ${_cardColorStyle(color, tone.pressed)}\n        }\n\n        &[data-selected] {\n          ${_cardColorStyle(color, tone.selected)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-selected]) {\n            &[data-hovered],\n            &:hover {\n              ${_cardColorStyle(color, tone.hovered)}\n            }\n            &:active {\n              ${_cardColorStyle(color, tone.pressed)}\n            }\n          }\n        }\n      }\n    }\n\n    ${(_a = style == null ? void 0 : style.card) == null ? void 0 : _a.root}\n  `;\n}\nconst Selectable = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)(\n  responsiveRadiusStyle,\n  selectableBaseStyle,\n  selectableColorStyle\n);\nfunction useMenu() {\n  const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(MenuContext);\n  if (!value)\n    throw new Error(\"useMenu(): missing context value\");\n  if (!isRecord(value) || value.version !== 0)\n    throw new Error(\"useMenu(): the context value is not compatible\");\n  return value;\n}\nfunction MenuGroup(props) {\n  const {\n    as = \"button\",\n    children,\n    fontSize: fontSize2 = 1,\n    icon: IconComponent,\n    onClick,\n    padding = 3,\n    popover,\n    radius = 2,\n    space = 3,\n    text,\n    tone = \"default\",\n    ...restProps\n  } = props, menu = useMenu(), { scheme } = useRootTheme(), {\n    activeElement,\n    mount,\n    onClickOutside,\n    onEscape,\n    onItemClick,\n    onItemMouseEnter = menu.onMouseEnter,\n    registerElement\n  } = menu, [rootElement, setRootElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1), shouldFocusRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), active = !!activeElement && activeElement === rootElement, [withinMenu, setWithinMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1), handleMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      setWithinMenu(!1), onItemMouseEnter(event), setOpen(!0);\n    },\n    [onItemMouseEnter]\n  ), handleMenuKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      event.key === \"ArrowLeft\" && (event.stopPropagation(), setOpen(!1), requestAnimationFrame(() => {\n        rootElement == null || rootElement.focus();\n      }));\n    },\n    [rootElement]\n  ), handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      onClick && onClick(event), shouldFocusRef.current = \"first\", setOpen(!0), requestAnimationFrame(() => {\n        shouldFocusRef.current = null;\n      });\n    },\n    [onClick]\n  ), handleChildItemClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setOpen(!1), onItemClick && onItemClick();\n  }, [onItemClick]), handleMenuMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => setWithinMenu(!0), []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => mount(rootElement), [mount, rootElement]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    active || setOpen(!1);\n  }, [active]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    open || setWithinMenu(!1);\n  }, [open]);\n  const childMenu = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Menu,\n    {\n      onClickOutside,\n      onEscape,\n      onItemClick: handleChildItemClick,\n      onKeyDown: handleMenuKeyDown,\n      onMouseEnter: handleMenuMouseEnter,\n      registerElement,\n      shouldFocus: shouldFocusRef.current,\n      children\n    }\n  ), handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event) => {\n    const target = event.currentTarget;\n    if (document.activeElement === target && event.key === \"ArrowRight\") {\n      shouldFocusRef.current = \"first\", setOpen(!0), setWithinMenu(!0), requestAnimationFrame(() => {\n        shouldFocusRef.current = null;\n      });\n      return;\n    }\n  }, []);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Popover, { ...popover, content: childMenu, \"data-ui\": \"MenuGroup__popover\", open, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Selectable,\n    {\n      \"data-as\": as,\n      \"data-ui\": \"MenuGroup\",\n      forwardedAs: as,\n      ...restProps,\n      \"aria-pressed\": as === \"button\" ? withinMenu : void 0,\n      \"data-pressed\": as !== \"button\" ? withinMenu : void 0,\n      \"data-selected\": !withinMenu && active ? \"\" : void 0,\n      $radius: useArrayProp(radius),\n      $tone: tone,\n      $scheme: scheme,\n      onClick: handleClick,\n      onKeyDown: handleKeyDown,\n      onMouseEnter: handleMouseEnter,\n      ref: setRootElement,\n      tabIndex: -1,\n      type: as === \"button\" ? \"button\" : void 0,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Flex, { gap: space, padding, children: [\n        IconComponent && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Text, { size: fontSize2, children: [\n          (0,react__WEBPACK_IMPORTED_MODULE_1__.isValidElement)(IconComponent) && IconComponent,\n          (0,react_is__WEBPACK_IMPORTED_MODULE_2__.isValidElementType)(IconComponent) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconComponent, {})\n        ] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { size: fontSize2, textOverflow: \"ellipsis\", weight: \"medium\", children: text }) }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { size: fontSize2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_8__.ChevronRightIcon, {}) })\n      ] })\n    }\n  ) });\n}\nconst MenuItem = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const {\n    as = \"button\",\n    children,\n    disabled,\n    fontSize: fontSize2 = 1,\n    hotkeys,\n    icon: IconComponent,\n    iconRight: IconRightComponent,\n    onClick,\n    padding = 3,\n    paddingX,\n    paddingY,\n    paddingTop,\n    paddingRight,\n    paddingBottom,\n    paddingLeft,\n    pressed,\n    radius = 2,\n    selected: selectedProp,\n    space = 3,\n    text,\n    tone = \"default\",\n    ...restProps\n  } = props, { scheme } = useRootTheme(), menu = useMenu(), {\n    activeElement,\n    mount,\n    onItemClick,\n    onItemMouseEnter = menu.onMouseEnter,\n    onItemMouseLeave = menu.onMouseLeave\n  } = menu, [rootElement, setRootElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), active = !!activeElement && activeElement === rootElement, ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(forwardedRef, () => ref.current), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => mount(rootElement, selectedProp), [mount, rootElement, selectedProp]);\n  const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      disabled || (onClick && onClick(event), onItemClick && onItemClick());\n    },\n    [disabled, onClick, onItemClick]\n  ), paddingProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      padding,\n      paddingX,\n      paddingY,\n      paddingTop,\n      paddingRight,\n      paddingBottom,\n      paddingLeft\n    }),\n    [padding, paddingX, paddingY, paddingTop, paddingRight, paddingBottom, paddingLeft]\n  ), hotkeysFontSize = useArrayProp(fontSize2).map((s) => s - 1), setRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((el) => {\n    ref.current = el, setRootElement(el);\n  }, []);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    Selectable,\n    {\n      \"data-ui\": \"MenuItem\",\n      ...restProps,\n      \"aria-pressed\": as === \"button\" && pressed,\n      \"data-pressed\": as !== \"button\" && pressed ? \"\" : void 0,\n      \"data-selected\": active ? \"\" : void 0,\n      \"data-disabled\": disabled ? \"\" : void 0,\n      forwardedAs: as,\n      $radius: useArrayProp(radius),\n      $padding: useArrayProp(0),\n      $tone: disabled ? \"default\" : tone,\n      $scheme: scheme,\n      disabled,\n      onClick: handleClick,\n      onMouseEnter: onItemMouseEnter,\n      onMouseLeave: onItemMouseLeave,\n      ref: setRef,\n      role: \"menuitem\",\n      tabIndex: -1,\n      type: as === \"button\" ? \"button\" : void 0,\n      children: [\n        (IconComponent || text || IconRightComponent) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Flex, { as: \"span\", gap: space, align: \"center\", ...paddingProps, children: [\n          IconComponent && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Text, { size: fontSize2, children: [\n            (0,react__WEBPACK_IMPORTED_MODULE_1__.isValidElement)(IconComponent) && IconComponent,\n            (0,react_is__WEBPACK_IMPORTED_MODULE_2__.isValidElementType)(IconComponent) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconComponent, {})\n          ] }),\n          text && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { size: fontSize2, textOverflow: \"ellipsis\", weight: \"medium\", children: text }) }),\n          hotkeys && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            Hotkeys,\n            {\n              fontSize: hotkeysFontSize,\n              keys: hotkeys,\n              style: { marginTop: -4, marginBottom: -4 }\n            }\n          ),\n          IconRightComponent && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Text, { size: fontSize2, children: [\n            (0,react__WEBPACK_IMPORTED_MODULE_1__.isValidElement)(IconRightComponent) && IconRightComponent,\n            (0,react_is__WEBPACK_IMPORTED_MODULE_2__.isValidElementType)(IconRightComponent) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconRightComponent, {})\n          ] })\n        ] }),\n        children && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { as: \"span\", ...paddingProps, children })\n      ]\n    }\n  );\n}), keyframe = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.keyframes)`\n  0% {\n    background-position: 100%;\n  }\n  100% {\n    background-position: -100%;\n  }\n`, animation = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n  background-image: linear-gradient(\n    to right,\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-to),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from)\n  );\n  background-position: 100%;\n  background-size: 200% 100%;\n  background-attachment: fixed;\n  animation-name: ${keyframe};\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n  animation-duration: 2000ms;\n`, skeletonStyle = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n  opacity: ${({ $visible }) => $visible ? 1 : 0};\n  transition: opacity 200ms ease-in;\n\n  @media screen and (prefers-reduced-motion: no-preference) {\n    ${({ $animated }) => $animated ? animation : (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n            background-color: var(--card-skeleton-color-from);\n          `}\n  }\n\n  @media screen and (prefers-reduced-motion: reduce) {\n    background-color: var(--card-skeleton-color-from);\n  }\n`, Root$4 = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box)(\n  responsiveRadiusStyle,\n  skeletonStyle\n), Skeleton = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { animated = !1, delay, radius, ...restProps } = props, [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!delay);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!delay)\n      return setVisible(!0);\n    const timeout = setTimeout(() => {\n      setVisible(!0);\n    }, delay);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [delay]), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$4,\n    {\n      ...restProps,\n      $animated: animated,\n      $radius: useArrayProp(radius),\n      $visible: visible,\n      ref\n    }\n  );\n}), Root$3 = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Skeleton)((props) => {\n  const { $size, $style } = props, { font, media } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), fontStyle = font[$style];\n  return _responsive(media, $size, (sizeIndex) => {\n    const fontSize2 = fontStyle.sizes[sizeIndex];\n    return { height: fontSize2.lineHeight - fontSize2.ascenderHeight - fontSize2.descenderHeight };\n  });\n}), TextSkeleton = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { size: size2 = 2, ...restProps } = props, $size = useArrayProp(size2);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$3, { ...restProps, $size, ref, $style: \"text\" });\n}), LabelSkeleton = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { size: size2 = 2, ...restProps } = props, $size = useArrayProp(size2);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$3, { ...restProps, $size, ref, $style: \"label\" });\n}), HeadingSkeleton = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { size: size2 = 2, ...restProps } = props, $size = useArrayProp(size2);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$3, { ...restProps, $size, ref, $style: \"heading\" });\n}), CodeSkeleton = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { size: size2 = 2, ...restProps } = props, $size = useArrayProp(size2);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$3, { ...restProps, $size, ref, $style: \"code\" });\n}), CustomButton = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Button)`\n  max-width: 100%;\n`, Tab = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n  const {\n    icon,\n    id,\n    focused,\n    fontSize: fontSize2 = 1,\n    label,\n    onClick,\n    onFocus,\n    padding = 2,\n    selected,\n    ...restProps\n  } = props, ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), focusedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(!1);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n    forwardedRef,\n    () => ref.current\n  );\n  const handleBlur = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    focusedRef.current = !1;\n  }, []), handleFocus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      focusedRef.current = !0, onFocus && onFocus(event);\n    },\n    [onFocus]\n  );\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    focused && !focusedRef.current && (ref.current && ref.current.focus(), focusedRef.current = !0);\n  }, [focused]), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    CustomButton,\n    {\n      \"data-ui\": \"Tab\",\n      ...restProps,\n      \"aria-selected\": selected ? \"true\" : \"false\",\n      fontSize: fontSize2,\n      icon,\n      id,\n      mode: \"bleed\",\n      onClick,\n      onBlur: handleBlur,\n      onFocus: handleFocus,\n      padding,\n      ref,\n      role: \"tab\",\n      selected,\n      tabIndex: selected ? 0 : -1,\n      text: label,\n      type: \"button\"\n    }\n  );\n});\nfunction _isReactElement(node) {\n  return !!node;\n}\nconst CustomInline = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Inline)`\n  & > div {\n    display: inline-block;\n    vertical-align: middle;\n    max-width: 100%;\n    box-sizing: border-box;\n  }\n`, TabList = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { children: childrenProp, ...restProps } = props, [focusedIndex, setFocusedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1), tabs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => childrenProp.filter(_isReactElement), [childrenProp]).map(\n    (child, childIndex) => (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(child, {\n      focused: focusedIndex === childIndex,\n      key: childIndex,\n      onFocus: () => handleTabFocus(childIndex)\n    })\n  ), numTabs = tabs.length, handleTabFocus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((tabIdx) => {\n    setFocusedIndex(tabIdx);\n  }, []), handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      event.key === \"ArrowLeft\" && setFocusedIndex((prevIndex) => (prevIndex + numTabs - 1) % numTabs), event.key === \"ArrowRight\" && setFocusedIndex((prevIndex) => (prevIndex + 1) % numTabs);\n    },\n    [numTabs]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    CustomInline,\n    {\n      \"data-ui\": \"TabList\",\n      ...restProps,\n      onKeyDown: handleKeyDown,\n      ref,\n      role: \"tablist\",\n      children: tabs\n    }\n  );\n}), TabPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, ref) {\n  const { flex, ...restProps } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Box,\n    {\n      \"data-ui\": \"TabPanel\",\n      ...restProps,\n      flex,\n      ref,\n      role: \"tabpanel\",\n      tabIndex: props.tabIndex === void 0 ? 0 : props.tabIndex,\n      children: props.children\n    }\n  );\n}), TextBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Flex)`\n  overflow-x: auto;\n`, loadingAnimation = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.keyframes)`\n  0% {\n    width: 0;\n  }\n  100% {\n    width: 100%;\n  } \n`, LOADING_BAR_HEIGHT = 2;\nfunction rootStyles(props) {\n  const { color } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), loadingBarColor = color.button.default[props.tone].enabled.bg;\n  return props.$duration ? (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    pointer-events: all;\n    width: 100%;\n    position: relative;\n    overflow: hidden;\n    overflow: clip;\n    padding-bottom: ${LOADING_BAR_HEIGHT}px;\n    &::before {\n      content: '';\n      position: absolute;\n      bottom: 0px;\n      height: ${LOADING_BAR_HEIGHT}px;\n      background: ${loadingBarColor};\n      animation-name: ${loadingAnimation};\n      animation-duration: ${props.$duration}ms;\n      animation-fill-mode: both;\n    }\n\n    & > * {\n      opacity: var(${POPOVER_MOTION_CONTENT_OPACITY_PROPERTY}, 1);\n      will-change: opacity;\n    }\n  ` : (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n      pointer-events: all;\n      & > * {\n        opacity: var(${POPOVER_MOTION_CONTENT_OPACITY_PROPERTY}, 1);\n        will-change: opacity;\n      }\n    `;\n}\nconst STATUS_CARD_TONE = {\n  error: \"critical\",\n  warning: \"caution\",\n  success: \"positive\",\n  info: \"primary\"\n}, BUTTON_TONE = {\n  error: \"critical\",\n  warning: \"caution\",\n  success: \"positive\",\n  info: \"primary\"\n}, ROLES = {\n  error: \"alert\",\n  warning: \"alert\",\n  success: \"alert\",\n  info: \"alert\"\n}, Root$2 = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Card)(\n  rootStyles\n);\nfunction Toast(props) {\n  const { closable, description, duration, onClose, radius = 3, title, status, ...restProps } = props, cardTone = status ? STATUS_CARD_TONE[status] : \"default\", buttonTone = status ? BUTTON_TONE[status] : \"default\", role = status ? ROLES[status] : \"status\";\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Root$2,\n    {\n      \"data-ui\": \"Toast\",\n      role,\n      ...restProps,\n      marginTop: 3,\n      radius,\n      shadow: 2,\n      tone: cardTone,\n      $duration: duration,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Flex, { align: \"flex-start\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TextBox, { flex: 1, padding: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Stack, { space: 3, children: [\n          title && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { size: 1, weight: \"medium\", children: title }),\n          description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { muted: !0, size: 1, children: description })\n        ] }) }),\n        closable && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { padding: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          Button,\n          {\n            as: \"button\",\n            icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_8__.CloseIcon,\n            mode: \"bleed\",\n            padding: 2,\n            tone: buttonTone,\n            onClick: onClose,\n            style: { verticalAlign: \"top\" }\n          }\n        ) })\n      ] })\n    }\n  );\n}\nfunction useMounted() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useSyncExternalStore)(\n    subscribe,\n    () => !0,\n    () => !1\n  );\n}\nconst subscribe = () => () => {\n}, key$1 = Symbol.for(\"@sanity/ui/context/toast\"), ToastContext = createGlobalScopedContext(key$1, null), Root$1 = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Layer)`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n`, ToastContainer = styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.div`\n  box-sizing: border-box;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  max-width: 420px;\n  width: 100%;\n`;\nlet toastId = 0;\nfunction ToastProvider(props) {\n  const { children, padding = 4, paddingX, paddingY, zOffset } = props, [state, _setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), toastsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({}), mounted = useMounted(), prefersReducedMotion = usePrefersReducedMotion(), variants = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      initial: {\n        opacity: 0,\n        [POPOVER_MOTION_CONTENT_OPACITY_PROPERTY]: 0,\n        y: 32,\n        scale: 0.25,\n        willChange: \"transform\"\n      },\n      animate: {\n        opacity: [0, 1, 1],\n        [POPOVER_MOTION_CONTENT_OPACITY_PROPERTY]: [0, 0, 1],\n        y: 0,\n        scale: 1\n      },\n      exit: {\n        opacity: [1, 1, 0],\n        [POPOVER_MOTION_CONTENT_OPACITY_PROPERTY]: [1, 0, 0],\n        scale: 0.5,\n        transition: prefersReducedMotion ? { duration: 0 } : { duration: 0.2 }\n      }\n    }),\n    [prefersReducedMotion]\n  ), value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({ version: 0, push: (params) => {\n    const setState = (state2) => (0,react__WEBPACK_IMPORTED_MODULE_1__.startTransition)(() => _setState(state2)), id = params.id || String(toastId++), duration = params.duration || 5e3, dismiss = () => {\n      var _a;\n      const timeoutId = (_a = toastsRef.current[id]) == null ? void 0 : _a.timeoutId;\n      setState((prevState) => {\n        const idx = prevState.findIndex((t) => t.id === id);\n        if (idx > -1) {\n          const toasts = prevState.slice(0);\n          return toasts.splice(idx, 1), toasts;\n        }\n        return prevState;\n      }), timeoutId !== void 0 && (clearTimeout(timeoutId), delete toastsRef.current[id]);\n    };\n    return setState((prevState) => prevState.filter((t) => t.id !== id).concat([\n      {\n        dismiss,\n        id,\n        params: { ...params, duration }\n      }\n    ])), toastsRef.current[id] && (clearTimeout(toastsRef.current[id].timeoutId), delete toastsRef.current[id]), toastsRef.current[id] = { timeoutId: setTimeout(dismiss, duration) }, id;\n  } }), []);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(\n    () => () => {\n      for (const { timeoutId } of Object.values(toastsRef.current))\n        clearTimeout(timeoutId);\n      toastsRef.current = {};\n    },\n    []\n  ), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ToastContext.Provider, { value, children: [\n    children,\n    mounted && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$1, { \"data-ui\": \"ToastProvider\", zOffset, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToastContainer, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { padding, paddingX, paddingY, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.AnimatePresence, { initial: !1, children: state.map(({ dismiss, id, params }) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div,\n      {\n        layout: \"position\",\n        initial: \"initial\",\n        animate: \"animate\",\n        exit: \"exit\",\n        variants,\n        transition: prefersReducedMotion ? { duration: 0 } : { type: \"spring\", damping: 30, stiffness: 400 },\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          Toast,\n          {\n            closable: params.closable,\n            description: params.description,\n            onClose: dismiss,\n            status: params.status,\n            title: params.title,\n            duration: params.duration\n          }\n        )\n      },\n      id\n    )) }) }) }) })\n  ] });\n}\nfunction useToast() {\n  const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ToastContext);\n  if (!value)\n    throw new Error(\"useToast(): missing context value\");\n  if (!isRecord(value) || value.version !== 0)\n    throw new Error(\"useToast(): the context value is not compatible\");\n  return value;\n}\nfunction _findPrevItemElement(state, itemElements, focusedElement) {\n  var _a;\n  const idx = itemElements.indexOf(focusedElement), els = itemElements.slice(0, idx), len = els.length;\n  for (let i = len - 1; i >= 0; i -= 1) {\n    const itemKey = els[i].getAttribute(\"data-tree-key\");\n    if (!itemKey)\n      continue;\n    const segments = itemKey.split(\"/\");\n    segments.pop();\n    const p = [];\n    let expanded = !0;\n    for (let j = 0; j < segments.length; j += 1) {\n      p.push(segments[j]);\n      const k = p.join(\"/\");\n      if (!((_a = state[k]) != null && _a.expanded)) {\n        expanded = !1;\n        break;\n      }\n    }\n    if (expanded)\n      return els[i];\n  }\n  return null;\n}\nfunction _findNextItemElement(state, itemElements, focusedElement) {\n  var _a;\n  const idx = itemElements.indexOf(focusedElement), els = itemElements.slice(idx), len = itemElements.length;\n  for (let i = 1; i < len; i += 1) {\n    if (!els[i])\n      continue;\n    const itemKey = els[i].getAttribute(\"data-tree-key\");\n    if (!itemKey)\n      continue;\n    const segments = itemKey.split(\"/\");\n    segments.pop();\n    const p = [];\n    let expanded = !0;\n    for (let j = 0; j < segments.length; j += 1) {\n      p.push(segments[j]);\n      const k = p.join(\"/\");\n      if (!((_a = state[k]) != null && _a.expanded)) {\n        expanded = !1;\n        break;\n      }\n    }\n    if (expanded)\n      return els[i];\n  }\n  return null;\n}\nfunction _focusItemElement(el) {\n  if (el.getAttribute(\"role\") === \"treeitem\" && el.focus(), el.getAttribute(\"role\") === \"none\") {\n    const firstChild = el.firstChild;\n    firstChild && firstChild instanceof HTMLElement && firstChild.focus();\n  }\n}\nconst key = Symbol.for(\"@sanity/ui/context/tree\"), TreeContext = createGlobalScopedContext(key, null), Tree = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function(props, forwardedRef) {\n    const { children, space = 1, onFocus, ...restProps } = props, ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), [focusedElement, setFocusedElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), focusedElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(focusedElement), path = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => [], []), [itemElements, setItemElements] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}), stateRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(state);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(\n      forwardedRef,\n      () => ref.current\n    ), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n      focusedElementRef.current = focusedElement;\n    }, [focusedElement]), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n      stateRef.current = state;\n    }, [state]);\n    const registerItem = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (element, path2, expanded, selected) => (setState((s) => ({ ...s, [path2]: { element, expanded } })), selected && setFocusedElement(element), () => {\n        setState((s) => {\n          const newState = { ...s };\n          return delete newState[path2], newState;\n        });\n      }),\n      []\n    ), setExpanded = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((path2, expanded) => {\n      setState((s) => {\n        const itemState = s[path2];\n        return itemState ? { ...s, [path2]: { ...itemState, expanded } } : s;\n      });\n    }, []), contextValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n      () => ({\n        version: 0,\n        focusedElement: focusedElement || itemElements[0] || null,\n        level: 0,\n        path,\n        registerItem,\n        setExpanded,\n        setFocusedElement,\n        space,\n        state\n      }),\n      [focusedElement, itemElements, path, registerItem, setExpanded, space, state]\n    ), handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (event) => {\n        var _a;\n        if (focusedElementRef.current) {\n          if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            const nextEl = _findNextItemElement(\n              stateRef.current,\n              itemElements,\n              focusedElementRef.current\n            );\n            nextEl && (_focusItemElement(nextEl), setFocusedElement(nextEl));\n            return;\n          }\n          if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            const prevEl = _findPrevItemElement(\n              stateRef.current,\n              itemElements,\n              focusedElementRef.current\n            );\n            prevEl && (_focusItemElement(prevEl), setFocusedElement(prevEl));\n            return;\n          }\n          if (event.key === \"ArrowLeft\") {\n            event.preventDefault();\n            const itemKey = focusedElementRef.current.getAttribute(\"data-tree-key\");\n            if (!itemKey) return;\n            const itemState = stateRef.current[itemKey];\n            if (!itemState) return;\n            if (itemState.expanded)\n              setState((s) => {\n                const itemState2 = s[itemKey];\n                return itemState2 ? { ...s, [itemKey]: { ...itemState2, expanded: !1 } } : s;\n              });\n            else {\n              const itemPath = itemKey.split(\"/\");\n              itemPath.pop();\n              const parentKey = itemPath.join(\"/\"), parentState = parentKey && stateRef.current[parentKey];\n              parentState && (parentState.element.focus(), setFocusedElement(parentState.element));\n            }\n            return;\n          }\n          if (event.key === \"ArrowRight\") {\n            event.preventDefault();\n            const focusedKey = focusedElementRef.current.getAttribute(\"data-tree-key\");\n            if (!focusedKey) return;\n            (_a = stateRef.current[focusedKey]) != null && _a.expanded || setState((s) => {\n              const itemState = s[focusedKey];\n              return itemState ? { ...s, [focusedKey]: { ...itemState, expanded: !0 } } : s;\n            });\n            return;\n          }\n        }\n      },\n      [itemElements]\n    ), handleFocus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (event) => {\n        setFocusedElement(event.target), onFocus == null || onFocus(event);\n      },\n      [onFocus]\n    );\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n      if (!ref.current) return;\n      const _itemElements = Array.from(\n        ref.current.querySelectorAll('[data-ui=\"TreeItem\"]')\n      );\n      setItemElements(_itemElements);\n    }, [children]), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TreeContext.Provider, { value: contextValue, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      Stack,\n      {\n        as: \"ul\",\n        \"data-ui\": \"Tree\",\n        ...restProps,\n        onFocus: handleFocus,\n        onKeyDown: handleKeyDown,\n        ref,\n        role: \"tree\",\n        space,\n        children\n      }\n    ) });\n  })\n);\nTree.displayName = \"Tree\";\nfunction treeItemRootStyle() {\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    &[role='none'] > [role='treeitem'] {\n      outline: none;\n      cursor: default;\n      border-radius: 3px;\n\n      background-color: var(--card-bg-color);\n      color: var(--treeitem-fg-color);\n\n      &:focus {\n        position: relative;\n      }\n    }\n\n    &[role='treeitem'] {\n      outline: none;\n\n      & > div {\n        cursor: default;\n        border-radius: 3px;\n\n        background-color: var(--card-bg-color);\n        color: var(--treeitem-fg-color);\n      }\n\n      &:focus > div {\n        position: relative;\n      }\n    }\n  `;\n}\nfunction treeItemRootColorStyle(props) {\n  const $tone = \"default\", { color } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme), tone = color.selectable[$tone];\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    &[role='none'] {\n      & > [role='treeitem'] {\n        ${_cardColorStyle(color, tone.enabled)}\n      }\n\n      &[data-selected] > [role='treeitem'] {\n        ${_cardColorStyle(color, tone.pressed)}\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {\n          ${_cardColorStyle(color, tone.hovered)}\n        }\n\n        & > [role='treeitem']:focus {\n          ${_cardColorStyle(color, tone.selected)}\n        }\n      }\n    }\n\n    &[role='treeitem'] {\n      & > [data-ui='TreeItem__box'] {\n        ${_cardColorStyle(color, tone.enabled)}\n      }\n\n      &[data-selected] > [data-ui='TreeItem__box'] {\n        ${_cardColorStyle(color, tone.pressed)}\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {\n          ${_cardColorStyle(color, tone.hovered)}\n        }\n\n        &:focus > [data-ui='TreeItem__box'] {\n          ${_cardColorStyle(color, tone.selected)}\n        }\n      }\n    }\n  `;\n}\nfunction treeItemBoxStyle(props) {\n  const { $level } = props, { space } = (0,_sanity_ui_theme__WEBPACK_IMPORTED_MODULE_6__.getTheme_v2)(props.theme);\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)`\n    padding-left: ${rem(space[2] * $level)};\n\n    &[data-as='a'] {\n      text-decoration: none;\n    }\n  `;\n}\nfunction useTree() {\n  const tree = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(TreeContext);\n  if (!tree)\n    throw new Error(\"Tree: missing context value\");\n  return tree;\n}\nconst TreeGroup = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(function(props) {\n  const { children, expanded = !1, ...restProps } = props, tree = useTree();\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    Stack,\n    {\n      as: \"ul\",\n      \"data-ui\": \"TreeGroup\",\n      ...restProps,\n      hidden: !expanded,\n      marginTop: tree.space,\n      role: \"group\",\n      space: tree.space,\n      children\n    }\n  );\n}), Root = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(styled_components__WEBPACK_IMPORTED_MODULE_7__.styled.li(treeItemRootStyle, treeItemRootColorStyle)), TreeItemBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Box).attrs({ forwardedAs: \"a\" })(treeItemBoxStyle), ToggleArrowText = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.styled)(Text)`\n  & > svg {\n    transition: transform 100ms;\n  }\n`, TreeItem = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(function(props) {\n  const {\n    children,\n    expanded: expandedProp = !1,\n    fontSize: fontSize2 = 1,\n    href,\n    icon: IconComponent,\n    id: idProp,\n    linkAs,\n    muted,\n    onClick,\n    padding = 2,\n    selected = !1,\n    space = 2,\n    text,\n    weight,\n    ...restProps\n  } = props, rootRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), treeitemRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), tree = useTree(), { path, registerItem, setExpanded, setFocusedElement } = tree, _id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)(), id = idProp || _id, itemPath = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => path.concat([id || \"\"]), [id, path]), itemKey = itemPath.join(\"/\"), itemState = tree.state[itemKey], focused = tree.focusedElement === rootRef.current, expanded = (itemState == null ? void 0 : itemState.expanded) === void 0 ? expandedProp : (itemState == null ? void 0 : itemState.expanded) || !1, tabIndex = tree.focusedElement && tree.focusedElement === rootRef.current ? 0 : -1, contextValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({ ...tree, level: tree.level + 1, path: itemPath }),\n    [itemPath, tree]\n  ), handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      onClick && onClick(event);\n      const target = event.target;\n      target instanceof HTMLElement && (target.getAttribute(\"data-ui\") === \"TreeItem\" || target.closest('[data-ui=\"TreeItem__box\"]')) && (event.stopPropagation(), setExpanded(itemKey, !expanded), setFocusedElement(rootRef.current));\n    },\n    [expanded, itemKey, onClick, setExpanded, setFocusedElement]\n  ), handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      if (focused && event.key === \"Enter\") {\n        const el = treeitemRef.current || rootRef.current;\n        el == null || el.click();\n      }\n    },\n    [focused]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (rootRef.current)\n      return registerItem(rootRef.current, itemPath.join(\"/\"), expanded, selected);\n  }, [expanded, itemPath, registerItem, selected]);\n  const content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Flex, { padding, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n      Box,\n      {\n        marginRight: space,\n        style: {\n          visibility: IconComponent || children ? \"visible\" : \"hidden\",\n          pointerEvents: \"none\"\n        },\n        children: [\n          IconComponent && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { muted, size: fontSize2, weight, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconComponent, {}) }),\n          !IconComponent && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToggleArrowText, { muted, size: fontSize2, weight, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_8__.ToggleArrowRightIcon, { style: { transform: expanded ? \"rotate(90deg)\" : void 0 } }) })\n        ]\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box, { flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Text, { muted, size: fontSize2, textOverflow: \"ellipsis\", weight, children: text }) })\n  ] });\n  return href ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    Root,\n    {\n      \"data-selected\": selected ? \"\" : void 0,\n      \"data-tree-id\": id,\n      \"data-tree-key\": itemKey,\n      \"data-ui\": \"TreeItem\",\n      ...restProps,\n      onClick: handleClick,\n      ref: rootRef,\n      role: \"none\",\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n          TreeItemBox,\n          {\n            $level: tree.level,\n            \"aria-expanded\": expanded,\n            as: linkAs,\n            \"data-ui\": \"TreeItem__box\",\n            href,\n            ref: treeitemRef,\n            role: \"treeitem\",\n            tabIndex,\n            children: content\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TreeContext.Provider, { value: contextValue, children: children && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TreeGroup, { hidden: !expanded, children }) })\n      ]\n    }\n  ) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n    Root,\n    {\n      \"data-selected\": selected ? \"\" : void 0,\n      \"data-ui\": \"TreeItem\",\n      \"data-tree-id\": id,\n      \"data-tree-key\": itemKey,\n      ...restProps,\n      \"aria-expanded\": expanded,\n      onClick: handleClick,\n      onKeyDown: handleKeyDown,\n      ref: rootRef,\n      role: \"treeitem\",\n      tabIndex,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TreeItemBox, { $level: tree.level, as: \"div\", \"data-ui\": \"TreeItem__box\", children: content }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TreeContext.Provider, { value: contextValue, children: children && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TreeGroup, { expanded, children }) })\n      ]\n    }\n  );\n});\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS91aS9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMlM7QUFDblA7QUFDeU47QUFDMU47QUFDOEQ7QUFDc0I7QUFDbkc7QUFDMkU7QUFDM0Q7QUFDZjtBQUNtQztBQUM1RSx5QkFBeUIsOERBQWtCLGFBQWEsc0RBQVUsYUFBYSxzREFBVSxhQUFhLHNEQUFVLGVBQWUsd0RBQVksYUFBYSxzREFBVSxhQUFhLHNEQUFVLFNBQVMsa0RBQU0sV0FBVyxvREFBUSxnQkFBZ0IsNERBQVUsdUNBQXVDO0FBQzVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0EsbUNBQW1DLGdCQUFnQjtBQUNuRDtBQUNBO0FBQ0Esa0lBQWtJLGtDQUFrQyxzQkFBc0Isa0JBQWtCO0FBQzVNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZUFBZSxFQUFFLDZEQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpQkFBaUIsV0FBVyxjQUFjLEVBQUUsNkRBQVcsaUJBQWlCLHlCQUF5QjtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FB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LGtDQUFrQyx1REFBSSxTQUFTO0FBQy9DLG9CQUFvQix1REFBSTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwyQ0FBMkMsc0RBQUcsU0FBUywwREFBMEQsc0RBQUcsa0JBQWtCLEdBQUc7QUFDekksNENBQTRDLHNEQUFHLG9CQUFvQiwwREFBMEQsc0RBQUcsQ0FBQywrREFBb0IsSUFBSSxTQUFTLGtEQUFrRCxHQUFHO0FBQ3ZOO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBRyxRQUFRLG1DQUFtQyxzREFBRyxTQUFTLDBFQUEwRSxHQUFHO0FBQzNKLEtBQUs7QUFDTCxnQ0FBZ0MsdURBQUk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBRyx5QkFBeUIsMkRBQTJELHNEQUFHLGNBQWMsNkJBQTZCLEdBQUc7QUFDaEs7QUFDQTtBQUNBLHNCQUFzQix1REFBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNEQUFHLGdCQUFnQiw4RUFBOEU7QUFDekgsd0JBQXdCLHNEQUFHLHlCQUF5QiwyREFBMkQsc0RBQUcsY0FBYyxvQkFBb0IsR0FBRztBQUN2SjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBNEhDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvdWkvZGlzdC9pbmRleC5tanM/M2U1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWlsZFRoZW1lLCBjcmVhdGVDb2xvclRoZW1lIGFzIGNyZWF0ZUNvbG9yVGhlbWUkMSwgaGV4VG9SZ2IgYXMgaGV4VG9SZ2IkMSwgaHNsVG9SZ2IgYXMgaHNsVG9SZ2IkMSwgbXVsdGlwbHkgYXMgbXVsdGlwbHkkMSwgcGFyc2VDb2xvciBhcyBwYXJzZUNvbG9yJDEsIHJnYlRvSGV4IGFzIHJnYlRvSGV4JDEsIHJnYlRvSHNsIGFzIHJnYlRvSHNsJDEsIHJnYmEgYXMgcmdiYSQxLCBzY3JlZW4gYXMgc2NyZWVuJDEsIGdldFRoZW1lX3YyLCBnZXRTY29wZWRUaGVtZSB9IGZyb20gXCJAc2FuaXR5L3VpL3RoZW1lXCI7XG5pbXBvcnQgeyBqc3gsIGpzeHMsIEZyYWdtZW50IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyB1c2VNZW1vLCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QsIGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN5bmNFeHRlcm5hbFN0b3JlLCB1c2VJbXBlcmF0aXZlSGFuZGxlLCBmb3J3YXJkUmVmLCB1c2VJZCwgdXNlQ2FsbGJhY2ssIENoaWxkcmVuLCBpc1ZhbGlkRWxlbWVudCwgY2xvbmVFbGVtZW50LCBDb21wb25lbnQsIG1lbW8sIHVzZVJlZHVjZXIsIEZyYWdtZW50IGFzIEZyYWdtZW50JDEsIHN0YXJ0VHJhbnNpdGlvbiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0SXMsIHsgaXNWYWxpZEVsZW1lbnRUeXBlIH0gZnJvbSBcInJlYWN0LWlzXCI7XG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyIGFzIFRoZW1lUHJvdmlkZXIkMSwgdXNlVGhlbWUgYXMgdXNlVGhlbWUkMSwgY3NzLCBzdHlsZWQsIGtleWZyYW1lcyB9IGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xuaW1wb3J0IHsgU3Bpbm5lckljb24sIENoZWNrbWFya0ljb24sIFJlbW92ZUljb24sIENoZXZyb25Eb3duSWNvbiwgQ2xvc2VJY29uLCBDaGV2cm9uUmlnaHRJY29uLCBUb2dnbGVBcnJvd1JpZ2h0SWNvbiB9IGZyb20gXCJAc2FuaXR5L2ljb25zXCI7XG5pbXBvcnQgUmVmcmFjdG9yIGZyb20gXCJyZWFjdC1yZWZyYWN0b3JcIjtcbmltcG9ydCB7IGRldGVjdE92ZXJmbG93LCBmbGlwLCBvZmZzZXQsIHNoaWZ0LCBhcnJvdywgaGlkZSwgdXNlRmxvYXRpbmcsIGF1dG9VcGRhdGUgfSBmcm9tIFwiQGZsb2F0aW5nLXVpL3JlYWN0LWRvbVwiO1xuaW1wb3J0IHsgbW90aW9uLCBBbmltYXRlUHJlc2VuY2UgfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsgZ2V0VGhlbWVfdjIgYXMgZ2V0VGhlbWVfdjIkMSB9IGZyb20gXCIuL19jaHVua3MtZXMvZ2V0VGhlbWVfdjIubWpzXCI7XG5jb25zdCBjcmVhdGVDb2xvclRoZW1lID0gY3JlYXRlQ29sb3JUaGVtZSQxLCBoZXhUb1JnYiA9IGhleFRvUmdiJDEsIGhzbFRvUmdiID0gaHNsVG9SZ2IkMSwgbXVsdGlwbHkgPSBtdWx0aXBseSQxLCBwYXJzZUNvbG9yID0gcGFyc2VDb2xvciQxLCByZ2JUb0hleCA9IHJnYlRvSGV4JDEsIHJnYlRvSHNsID0gcmdiVG9Ic2wkMSwgcmdiYSA9IHJnYmEkMSwgc2NyZWVuID0gc2NyZWVuJDEsIHN0dWRpb1RoZW1lID0gYnVpbGRUaGVtZSgpLCBFTVBUWV9BUlJBWSA9IFtdLCBFTVBUWV9SRUNPUkQgPSB7fSwgUE9QT1ZFUl9NT1RJT05fQ09OVEVOVF9PUEFDSVRZX1BST1BFUlRZID0gXCItLW1vdGlvbi1jb250ZW50LW9wYWNpdHlcIiwgUE9QT1ZFUl9NT1RJT05fUFJPUFMgPSB7XG4gIGluaXRpYWw6IHtcbiAgICBvcGFjaXR5OiAwLjUsXG4gICAgW1BPUE9WRVJfTU9USU9OX0NPTlRFTlRfT1BBQ0lUWV9QUk9QRVJUWV06IDAsXG4gICAgc2NhbGU6IDAuOTcsXG4gICAgd2lsbENoYW5nZTogXCJ0cmFuc2Zvcm1cIlxuICB9LFxuICBhbmltYXRlOiB7XG4gICAgb3BhY2l0eTogW251bGwsIDEsIDFdLFxuICAgIFtQT1BPVkVSX01PVElPTl9DT05URU5UX09QQUNJVFlfUFJPUEVSVFldOiBbbnVsbCwgbnVsbCwgMV0sXG4gICAgc2NhbGU6IDFcbiAgfSxcbiAgZXhpdDoge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLS0gcGFzc2luZyBudWxsIGEgc2Vjb25kIHRpbWUgaXMgdmFsaWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9mcmFtZXIvbW90aW9uL2Jsb2IvYjljZTRjNDI5MTRjMzkxNmVhNTIzNjA5YzViMDMyZGZjNzI3MThiYi9wYWNrYWdlcy9mcmFtZXItbW90aW9uL3NyYy9hbmltYXRpb24vdXRpbHMva2V5ZnJhbWVzLnRzI0wzNEMyMi1MMzRDMjJcbiAgICBvcGFjaXR5OiBbbnVsbCwgbnVsbCwgMF0sXG4gICAgW1BPUE9WRVJfTU9USU9OX0NPTlRFTlRfT1BBQ0lUWV9QUk9QRVJUWV06IFtudWxsLCAwLCAwXSxcbiAgICBzY2FsZTogMC45N1xuICB9LFxuICB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjQsIHR5cGU6IFwic3ByaW5nXCIgfVxufTtcbmZ1bmN0aW9uIF9maWxsQ1NTT2JqZWN0KGtleXMsIHZhbHVlKSB7XG4gIHJldHVybiBrZXlzLnJlZHVjZSgoc3R5bGUsIGtleTIpID0+IChzdHlsZVtrZXkyXSA9IHZhbHVlLCBzdHlsZSksIHt9KTtcbn1cbmZ1bmN0aW9uIHJlbShwaXhlbFZhbHVlKSB7XG4gIHJldHVybiBwaXhlbFZhbHVlID09PSAwID8gMCA6IGAke3BpeGVsVmFsdWUgLyAxNn1yZW1gO1xufVxuZnVuY3Rpb24gX3Jlc3BvbnNpdmUobWVkaWEsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgcmV0dXJuICgodmFsdWVzID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZXMubWFwKGNhbGxiYWNrKSkgfHwgW10pLm1hcCgoc3RhdGVtZW50LCBtZWRpYUluZGV4KSA9PiBtZWRpYUluZGV4ID09PSAwID8gc3RhdGVtZW50IDogeyBbYEBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6ICR7bWVkaWFbbWVkaWFJbmRleCAtIDFdfXB4KWBdOiBzdGF0ZW1lbnQgfSk7XG59XG5mdW5jdGlvbiBfZ2V0QXJyYXlQcm9wKHZhbCwgZGVmYXVsdFZhbCkge1xuICByZXR1cm4gdmFsID09PSB2b2lkIDAgPyBkZWZhdWx0VmFsIHx8IEVNUFRZX0FSUkFZIDogQXJyYXkuaXNBcnJheSh2YWwpID8gdmFsIDogW3ZhbF07XG59XG5mdW5jdGlvbiBfZ2V0UmVzcG9uc2l2ZVNwYWNlKHRoZW1lLCBwcm9wcywgc3BhY2VJbmRleGVzID0gRU1QVFlfQVJSQVkpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHNwYWNlSW5kZXhlcykpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidGhlIHByb3BlcnR5IG11c3QgYmUgYXJyYXkgb2YgbnVtYmVyc1wiKTtcbiAgaWYgKHNwYWNlSW5kZXhlcy5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuIG51bGw7XG4gIGNvbnN0IHsgbWVkaWEsIHNwYWNlIH0gPSBnZXRUaGVtZV92Mih0aGVtZSk7XG4gIHJldHVybiBfcmVzcG9uc2l2ZShcbiAgICBtZWRpYSxcbiAgICBzcGFjZUluZGV4ZXMsXG4gICAgKHNwYWNlSW5kZXgpID0+IF9maWxsQ1NTT2JqZWN0KHByb3BzLCByZW0oc3BhY2Vbc3BhY2VJbmRleF0pKVxuICApO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUZvbnQoZm9udEtleSwgcHJvcHMpIHtcbiAgY29uc3QgeyAkc2l6ZSwgJHdlaWdodCB9ID0gcHJvcHMsIHsgZm9udCwgbWVkaWEgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKSwgeyBmYW1pbHksIHNpemVzLCB3ZWlnaHRzIH0gPSBmb250W2ZvbnRLZXldLCBmb250V2VpZ2h0ID0gJHdlaWdodCAmJiB3ZWlnaHRzWyR3ZWlnaHRdIHx8IHdlaWdodHMucmVndWxhciwgZGVmYXVsdFNpemUgPSBzaXplc1syXSwgYmFzZSA9IHtcbiAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgIGZvbnRGYW1pbHk6IGZhbWlseSxcbiAgICBmb250V2VpZ2h0LFxuICAgIHBhZGRpbmc6IFwiMXB4IDBcIixcbiAgICBtYXJnaW46IDAsXG4gICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICBjb250ZW50OiAnXCJcIicsXG4gICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9LFxuICAgIFwiJjphZnRlclwiOiB7XG4gICAgICBjb250ZW50OiAnXCJcIicsXG4gICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9LFxuICAgIFwiJiA+IGNvZGUsICYgPiBzcGFuXCI6IHtcbiAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIlxuICAgIH0sXG4gICAgXCImOm5vdChbaGlkZGVuXSlcIjoge1xuICAgICAgZGlzcGxheTogXCJibG9ja1wiXG4gICAgfVxuICB9O1xuICBpZiAoISRzaXplKVxuICAgIHJldHVybiByZXNwb25zaXZlRm9udC53YXJuZWQgfHwgKGNvbnNvbGUud2FybihcIk5vIHNpemUgc3BlY2lmaWVkIGZvciByZXNwb25zaXZlIGZvbnRcIiwgeyBmb250S2V5LCAkc2l6ZSwgcHJvcHMsIGJhc2UgfSksIHJlc3BvbnNpdmVGb250Lndhcm5lZCA9ICEwKSwgW2Jhc2VdO1xuICBjb25zdCByZXNwID0gX3Jlc3BvbnNpdmUobWVkaWEsICRzaXplLCAoc2l6ZUluZGV4KSA9PiBmb250U2l6ZShzaXplc1tzaXplSW5kZXhdIHx8IGRlZmF1bHRTaXplKSk7XG4gIHJldHVybiBbYmFzZSwgLi4ucmVzcF07XG59XG5mdW5jdGlvbiBmb250U2l6ZShzaXplMikge1xuICBjb25zdCB7IGFzY2VuZGVySGVpZ2h0LCBkZXNjZW5kZXJIZWlnaHQsIGZvbnRTaXplOiBmb250U2l6ZTIsIGljb25TaXplLCBsZXR0ZXJTcGFjaW5nLCBsaW5lSGVpZ2h0IH0gPSBzaXplMiwgbmVnSGVpZ2h0ID0gYXNjZW5kZXJIZWlnaHQgKyBkZXNjZW5kZXJIZWlnaHQsIGNhcEhlaWdodCA9IGxpbmVIZWlnaHQgLSBuZWdIZWlnaHQsIGljb25PZmZzZXQgPSAoY2FwSGVpZ2h0IC0gaWNvblNpemUpIC8gMiwgY3VzdG9tSWNvblNpemUgPSBNYXRoLmZsb29yKGZvbnRTaXplMiAqIDEuMTI1IC8gMikgKiAyICsgMSwgY3VzdG9tSWNvbk9mZnNldCA9IChjYXBIZWlnaHQgLSBjdXN0b21JY29uU2l6ZSkgLyAyO1xuICByZXR1cm4ge1xuICAgIGZvbnRTaXplOiByZW0oZm9udFNpemUyKSxcbiAgICBsaW5lSGVpZ2h0OiBgY2FsYygke2xpbmVIZWlnaHR9IC8gJHtmb250U2l6ZTJ9KWAsXG4gICAgbGV0dGVyU3BhY2luZzogcmVtKGxldHRlclNwYWNpbmcpLFxuICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtyZW0oZGVzY2VuZGVySGVpZ2h0KX0pYCxcbiAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgIG1hcmdpblRvcDogYGNhbGMoJHtyZW0oMCAtIG5lZ0hlaWdodCl9IC0gMXB4KWBcbiAgICB9LFxuICAgIFwiJjphZnRlclwiOiB7XG4gICAgICBtYXJnaW5Cb3R0b206IFwiLTFweFwiXG4gICAgfSxcbiAgICBcIiYgc3ZnOm5vdChbZGF0YS1zYW5pdHktaWNvbl0pXCI6IHtcbiAgICAgIGZvbnRTaXplOiBgY2FsYygke2N1c3RvbUljb25TaXplfSAvIDE2ICogMXJlbSlgLFxuICAgICAgbWFyZ2luOiByZW0oY3VzdG9tSWNvbk9mZnNldClcbiAgICB9LFxuICAgIFwiJiBbZGF0YS1zYW5pdHktaWNvbl1cIjoge1xuICAgICAgZm9udFNpemU6IGBjYWxjKCR7aWNvblNpemV9IC8gMTYgKiAxcmVtKWAsXG4gICAgICBtYXJnaW46IHJlbShpY29uT2Zmc2V0KVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc3BvbnNpdmVDb2RlRm9udFN0eWxlKHByb3BzKSB7XG4gIHJldHVybiByZXNwb25zaXZlRm9udChcImNvZGVcIiwgcHJvcHMpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUhlYWRpbmdGb250KHByb3BzKSB7XG4gIHJldHVybiByZXNwb25zaXZlRm9udChcImhlYWRpbmdcIiwgcHJvcHMpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUxhYmVsRm9udChwcm9wcykge1xuICByZXR1cm4gcmVzcG9uc2l2ZUZvbnQoXCJsYWJlbFwiLCBwcm9wcyk7XG59XG5mdW5jdGlvbiByZXNwb25zaXZlVGV4dEFsaWduU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRhbGlnbiwgKHRleHRBbGlnbikgPT4gKHsgdGV4dEFsaWduIH0pKTtcbn1cbmZ1bmN0aW9uIHJlc3BvbnNpdmVUZXh0Rm9udChwcm9wcykge1xuICByZXR1cm4gcmVzcG9uc2l2ZUZvbnQoXCJ0ZXh0XCIsIHByb3BzKTtcbn1cbmZ1bmN0aW9uIHVzZUFycmF5UHJvcCh2YWwsIGRlZmF1bHRWYWwpIHtcbiAgY29uc3QgX19wZXJmX2hhc2hfXyA9IHVzZU1lbW8oKCkgPT4gSlNPTi5zdHJpbmdpZnkodmFsICE9IG51bGwgPyB2YWwgOiBkZWZhdWx0VmFsKSwgW2RlZmF1bHRWYWwsIHZhbF0pO1xuICByZXR1cm4gdXNlTWVtbyhcbiAgICAoKSA9PiBfZ2V0QXJyYXlQcm9wKHZhbCwgZGVmYXVsdFZhbCksXG4gICAgLy8gSW1wcm92ZSBwZXJmb3JtYW5jZTogS2VlcCBvYmplY3QgaWRlbnRpZnkgZm9yIGEgZ2l2ZW4gaGFzaCBvZiB0aGUgdmFsdWVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgW19fcGVyZl9oYXNoX19dXG4gICk7XG59XG5mdW5jdGlvbiBfZ2V0RWxlbWVudHMoZWxlbWVudCwgZWxlbWVudHNBcmcpIHtcbiAgY29uc3QgcmV0ID0gW2VsZW1lbnRdO1xuICBmb3IgKGNvbnN0IGVsIG9mIGVsZW1lbnRzQXJnKVxuICAgIEFycmF5LmlzQXJyYXkoZWwpID8gcmV0LnB1c2goLi4uZWwpIDogcmV0LnB1c2goZWwpO1xuICByZXR1cm4gcmV0LmZpbHRlcihCb29sZWFuKTtcbn1cbmZ1bmN0aW9uIHVzZUNsaWNrT3V0c2lkZShsaXN0ZW5lciwgZWxlbWVudHNBcmcgPSBFTVBUWV9BUlJBWSwgYm91bmRhcnlFbGVtZW50KSB7XG4gIGNvbnN0IFtlbGVtZW50LCBzZXRFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpLCBbZWxlbWVudHMsIHNldEVsZW1lbnRzXSA9IHVzZVN0YXRlKCgpID0+IF9nZXRFbGVtZW50cyhlbGVtZW50LCBlbGVtZW50c0FyZykpLCBlbGVtZW50c1JlZiA9IHVzZVJlZihlbGVtZW50cyk7XG4gIHJldHVybiB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHByZXZFbGVtZW50cyA9IGVsZW1lbnRzUmVmLmN1cnJlbnQsIG5leHRFbGVtZW50cyA9IF9nZXRFbGVtZW50cyhlbGVtZW50LCBlbGVtZW50c0FyZyk7XG4gICAgaWYgKHByZXZFbGVtZW50cy5sZW5ndGggIT09IG5leHRFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHNldEVsZW1lbnRzKG5leHRFbGVtZW50cyksIGVsZW1lbnRzUmVmLmN1cnJlbnQgPSBuZXh0RWxlbWVudHM7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3QgZWwgb2YgcHJldkVsZW1lbnRzKVxuICAgICAgaWYgKCFuZXh0RWxlbWVudHMuaW5jbHVkZXMoZWwpKSB7XG4gICAgICAgIHNldEVsZW1lbnRzKG5leHRFbGVtZW50cyksIGVsZW1lbnRzUmVmLmN1cnJlbnQgPSBuZXh0RWxlbWVudHM7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBmb3IgKGNvbnN0IGVsIG9mIG5leHRFbGVtZW50cylcbiAgICAgIGlmICghcHJldkVsZW1lbnRzLmluY2x1ZGVzKGVsKSkge1xuICAgICAgICBzZXRFbGVtZW50cyhuZXh0RWxlbWVudHMpLCBlbGVtZW50c1JlZi5jdXJyZW50ID0gbmV4dEVsZW1lbnRzO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gIH0sIFtlbGVtZW50LCBlbGVtZW50c0FyZ10pLCB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbGlzdGVuZXIpIHJldHVybjtcbiAgICBjb25zdCBoYW5kbGVXaW5kb3dNb3VzZURvd24gPSAoZXZ0KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIE5vZGUgJiYgIShib3VuZGFyeUVsZW1lbnQgJiYgIWJvdW5kYXJ5RWxlbWVudC5jb250YWlucyh0YXJnZXQpKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIGVsZW1lbnRzKVxuICAgICAgICAgIGlmICh0YXJnZXQgPT09IGVsIHx8IGVsLmNvbnRhaW5zKHRhcmdldCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxpc3RlbmVyKGV2dCk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlV2luZG93TW91c2VEb3duKSwgKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlV2luZG93TW91c2VEb3duKTtcbiAgICB9O1xuICB9LCBbYm91bmRhcnlFbGVtZW50LCBsaXN0ZW5lciwgZWxlbWVudHNdKSwgc2V0RWxlbWVudDtcbn1cbnZhciByZXNpemVPYnNlcnZlcnMgPSBbXSwgaGFzQWN0aXZlT2JzZXJ2YXRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiByZXNpemVPYnNlcnZlcnMuc29tZShmdW5jdGlvbihybykge1xuICAgIHJldHVybiByby5hY3RpdmVUYXJnZXRzLmxlbmd0aCA+IDA7XG4gIH0pO1xufSwgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gcmVzaXplT2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24ocm8pIHtcbiAgICByZXR1cm4gcm8uc2tpcHBlZFRhcmdldHMubGVuZ3RoID4gMDtcbiAgfSk7XG59LCBtc2cgPSBcIlJlc2l6ZU9ic2VydmVyIGxvb3AgY29tcGxldGVkIHdpdGggdW5kZWxpdmVyZWQgbm90aWZpY2F0aW9ucy5cIiwgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZXZlbnQ7XG4gIHR5cGVvZiBFcnJvckV2ZW50ID09IFwiZnVuY3Rpb25cIiA/IGV2ZW50ID0gbmV3IEVycm9yRXZlbnQoXCJlcnJvclwiLCB7XG4gICAgbWVzc2FnZTogbXNnXG4gIH0pIDogKGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKSwgZXZlbnQuaW5pdEV2ZW50KFwiZXJyb3JcIiwgITEsICExKSwgZXZlbnQubWVzc2FnZSA9IG1zZyksIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn0sIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucztcbihmdW5jdGlvbihSZXNpemVPYnNlcnZlckJveE9wdGlvbnMyKSB7XG4gIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uczIuQk9SREVSX0JPWCA9IFwiYm9yZGVyLWJveFwiLCBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMyLkNPTlRFTlRfQk9YID0gXCJjb250ZW50LWJveFwiLCBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMyLkRFVklDRV9QSVhFTF9DT05URU5UX0JPWCA9IFwiZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94XCI7XG59KShSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfHwgKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyA9IHt9KSk7XG52YXIgZnJlZXplID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBPYmplY3QuZnJlZXplKG9iaik7XG59LCBSZXNpemVPYnNlcnZlclNpemUgPSAvKiBAX19QVVJFX18gKi8gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyU2l6ZTIoaW5saW5lU2l6ZSwgYmxvY2tTaXplKSB7XG4gICAgdGhpcy5pbmxpbmVTaXplID0gaW5saW5lU2l6ZSwgdGhpcy5ibG9ja1NpemUgPSBibG9ja1NpemUsIGZyZWV6ZSh0aGlzKTtcbiAgfVxuICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJTaXplMjtcbn0oKSwgRE9NUmVjdFJlYWRPbmx5ID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIERPTVJlY3RSZWFkT25seTIoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgIHJldHVybiB0aGlzLnggPSB4LCB0aGlzLnkgPSB5LCB0aGlzLndpZHRoID0gd2lkdGgsIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0LCB0aGlzLnRvcCA9IHRoaXMueSwgdGhpcy5sZWZ0ID0gdGhpcy54LCB0aGlzLmJvdHRvbSA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQsIHRoaXMucmlnaHQgPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoLCBmcmVlemUodGhpcyk7XG4gIH1cbiAgcmV0dXJuIERPTVJlY3RSZWFkT25seTIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfYSA9IHRoaXMsIHggPSBfYS54LCB5ID0gX2EueSwgdG9wID0gX2EudG9wLCByaWdodCA9IF9hLnJpZ2h0LCBib3R0b20gPSBfYS5ib3R0b20sIGxlZnQgPSBfYS5sZWZ0LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgcmV0dXJuIHsgeCwgeSwgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0IH07XG4gIH0sIERPTVJlY3RSZWFkT25seTIuZnJvbVJlY3QgPSBmdW5jdGlvbihyZWN0YW5nbGUpIHtcbiAgICByZXR1cm4gbmV3IERPTVJlY3RSZWFkT25seTIocmVjdGFuZ2xlLngsIHJlY3RhbmdsZS55LCByZWN0YW5nbGUud2lkdGgsIHJlY3RhbmdsZS5oZWlnaHQpO1xuICB9LCBET01SZWN0UmVhZE9ubHkyO1xufSgpLCBpc1NWRyA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudCAmJiBcImdldEJCb3hcIiBpbiB0YXJnZXQ7XG59LCBpc0hpZGRlbiA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICBpZiAoaXNTVkcodGFyZ2V0KSkge1xuICAgIHZhciBfYSA9IHRhcmdldC5nZXRCQm94KCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICByZXR1cm4gIXdpZHRoICYmICFoZWlnaHQ7XG4gIH1cbiAgdmFyIF9iID0gdGFyZ2V0LCBvZmZzZXRXaWR0aCA9IF9iLm9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQgPSBfYi5vZmZzZXRIZWlnaHQ7XG4gIHJldHVybiAhKG9mZnNldFdpZHRoIHx8IG9mZnNldEhlaWdodCB8fCB0YXJnZXQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpO1xufSwgaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciBfYTtcbiAgaWYgKG9iaiBpbnN0YW5jZW9mIEVsZW1lbnQpXG4gICAgcmV0dXJuICEwO1xuICB2YXIgc2NvcGUgPSAoX2EgPSBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9iai5vd25lckRvY3VtZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVmYXVsdFZpZXc7XG4gIHJldHVybiAhIShzY29wZSAmJiBvYmogaW5zdGFuY2VvZiBzY29wZS5FbGVtZW50KTtcbn0sIGlzUmVwbGFjZWRFbGVtZW50ID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHN3aXRjaCAodGFyZ2V0LnRhZ05hbWUpIHtcbiAgICBjYXNlIFwiSU5QVVRcIjpcbiAgICAgIGlmICh0YXJnZXQudHlwZSAhPT0gXCJpbWFnZVwiKVxuICAgICAgICBicmVhaztcbiAgICBjYXNlIFwiVklERU9cIjpcbiAgICBjYXNlIFwiQVVESU9cIjpcbiAgICBjYXNlIFwiRU1CRURcIjpcbiAgICBjYXNlIFwiT0JKRUNUXCI6XG4gICAgY2FzZSBcIkNBTlZBU1wiOlxuICAgIGNhc2UgXCJJRlJBTUVcIjpcbiAgICBjYXNlIFwiSU1HXCI6XG4gICAgICByZXR1cm4gITA7XG4gIH1cbiAgcmV0dXJuICExO1xufSwgZ2xvYmFsJDEgPSB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgPyB3aW5kb3cgOiB7fSwgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgc2Nyb2xsUmVnZXhwID0gL2F1dG98c2Nyb2xsLywgdmVydGljYWxSZWdleHAgPSAvXnRifHZlcnRpY2FsLywgSUUgPSAvbXNpZXx0cmlkZW50L2kudGVzdChnbG9iYWwkMS5uYXZpZ2F0b3IgJiYgZ2xvYmFsJDEubmF2aWdhdG9yLnVzZXJBZ2VudCksIHBhcnNlRGltZW5zaW9uID0gZnVuY3Rpb24ocGl4ZWwpIHtcbiAgcmV0dXJuIHBhcnNlRmxvYXQocGl4ZWwgfHwgXCIwXCIpO1xufSwgc2l6ZSQxID0gZnVuY3Rpb24oaW5saW5lU2l6ZSwgYmxvY2tTaXplLCBzd2l0Y2hTaXplcykge1xuICByZXR1cm4gaW5saW5lU2l6ZSA9PT0gdm9pZCAwICYmIChpbmxpbmVTaXplID0gMCksIGJsb2NrU2l6ZSA9PT0gdm9pZCAwICYmIChibG9ja1NpemUgPSAwKSwgc3dpdGNoU2l6ZXMgPT09IHZvaWQgMCAmJiAoc3dpdGNoU2l6ZXMgPSAhMSksIG5ldyBSZXNpemVPYnNlcnZlclNpemUoKHN3aXRjaFNpemVzID8gYmxvY2tTaXplIDogaW5saW5lU2l6ZSkgfHwgMCwgKHN3aXRjaFNpemVzID8gaW5saW5lU2l6ZSA6IGJsb2NrU2l6ZSkgfHwgMCk7XG59LCB6ZXJvQm94ZXMgPSBmcmVlemUoe1xuICBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplOiBzaXplJDEoKSxcbiAgYm9yZGVyQm94U2l6ZTogc2l6ZSQxKCksXG4gIGNvbnRlbnRCb3hTaXplOiBzaXplJDEoKSxcbiAgY29udGVudFJlY3Q6IG5ldyBET01SZWN0UmVhZE9ubHkoMCwgMCwgMCwgMClcbn0pLCBjYWxjdWxhdGVCb3hTaXplcyA9IGZ1bmN0aW9uKHRhcmdldCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gIGlmIChmb3JjZVJlY2FsY3VsYXRpb24gPT09IHZvaWQgMCAmJiAoZm9yY2VSZWNhbGN1bGF0aW9uID0gITEpLCBjYWNoZS5oYXModGFyZ2V0KSAmJiAhZm9yY2VSZWNhbGN1bGF0aW9uKVxuICAgIHJldHVybiBjYWNoZS5nZXQodGFyZ2V0KTtcbiAgaWYgKGlzSGlkZGVuKHRhcmdldCkpXG4gICAgcmV0dXJuIGNhY2hlLnNldCh0YXJnZXQsIHplcm9Cb3hlcyksIHplcm9Cb3hlcztcbiAgdmFyIGNzID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLCBzdmcgPSBpc1NWRyh0YXJnZXQpICYmIHRhcmdldC5vd25lclNWR0VsZW1lbnQgJiYgdGFyZ2V0LmdldEJCb3goKSwgcmVtb3ZlUGFkZGluZyA9ICFJRSAmJiBjcy5ib3hTaXppbmcgPT09IFwiYm9yZGVyLWJveFwiLCBzd2l0Y2hTaXplcyA9IHZlcnRpY2FsUmVnZXhwLnRlc3QoY3Mud3JpdGluZ01vZGUgfHwgXCJcIiksIGNhblNjcm9sbFZlcnRpY2FsbHkgPSAhc3ZnICYmIHNjcm9sbFJlZ2V4cC50ZXN0KGNzLm92ZXJmbG93WSB8fCBcIlwiKSwgY2FuU2Nyb2xsSG9yaXpvbnRhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1ggfHwgXCJcIiksIHBhZGRpbmdUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1RvcCksIHBhZGRpbmdSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nUmlnaHQpLCBwYWRkaW5nQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdCb3R0b20pLCBwYWRkaW5nTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nTGVmdCksIGJvcmRlclRvcDIgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyVG9wV2lkdGgpLCBib3JkZXJSaWdodDIgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyUmlnaHRXaWR0aCksIGJvcmRlckJvdHRvbTIgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyQm90dG9tV2lkdGgpLCBib3JkZXJMZWZ0MiA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJMZWZ0V2lkdGgpLCBob3Jpem9udGFsUGFkZGluZyA9IHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0LCB2ZXJ0aWNhbFBhZGRpbmcgPSBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbSwgaG9yaXpvbnRhbEJvcmRlckFyZWEgPSBib3JkZXJMZWZ0MiArIGJvcmRlclJpZ2h0MiwgdmVydGljYWxCb3JkZXJBcmVhID0gYm9yZGVyVG9wMiArIGJvcmRlckJvdHRvbTIsIGhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MgPSBjYW5TY3JvbGxIb3Jpem9udGFsbHkgPyB0YXJnZXQub2Zmc2V0SGVpZ2h0IC0gdmVydGljYWxCb3JkZXJBcmVhIC0gdGFyZ2V0LmNsaWVudEhlaWdodCA6IDAsIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzID0gY2FuU2Nyb2xsVmVydGljYWxseSA/IHRhcmdldC5vZmZzZXRXaWR0aCAtIGhvcml6b250YWxCb3JkZXJBcmVhIC0gdGFyZ2V0LmNsaWVudFdpZHRoIDogMCwgd2lkdGhSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gaG9yaXpvbnRhbFBhZGRpbmcgKyBob3Jpem9udGFsQm9yZGVyQXJlYSA6IDAsIGhlaWdodFJlZHVjdGlvbiA9IHJlbW92ZVBhZGRpbmcgPyB2ZXJ0aWNhbFBhZGRpbmcgKyB2ZXJ0aWNhbEJvcmRlckFyZWEgOiAwLCBjb250ZW50V2lkdGggPSBzdmcgPyBzdmcud2lkdGggOiBwYXJzZURpbWVuc2lvbihjcy53aWR0aCkgLSB3aWR0aFJlZHVjdGlvbiAtIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzLCBjb250ZW50SGVpZ2h0ID0gc3ZnID8gc3ZnLmhlaWdodCA6IHBhcnNlRGltZW5zaW9uKGNzLmhlaWdodCkgLSBoZWlnaHRSZWR1Y3Rpb24gLSBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzLCBib3JkZXJCb3hXaWR0aCA9IGNvbnRlbnRXaWR0aCArIGhvcml6b250YWxQYWRkaW5nICsgdmVydGljYWxTY3JvbGxiYXJUaGlja25lc3MgKyBob3Jpem9udGFsQm9yZGVyQXJlYSwgYm9yZGVyQm94SGVpZ2h0ID0gY29udGVudEhlaWdodCArIHZlcnRpY2FsUGFkZGluZyArIGhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MgKyB2ZXJ0aWNhbEJvcmRlckFyZWEsIGJveGVzID0gZnJlZXplKHtcbiAgICBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplOiBzaXplJDEoTWF0aC5yb3VuZChjb250ZW50V2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvKSwgTWF0aC5yb3VuZChjb250ZW50SGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbyksIHN3aXRjaFNpemVzKSxcbiAgICBib3JkZXJCb3hTaXplOiBzaXplJDEoYm9yZGVyQm94V2lkdGgsIGJvcmRlckJveEhlaWdodCwgc3dpdGNoU2l6ZXMpLFxuICAgIGNvbnRlbnRCb3hTaXplOiBzaXplJDEoY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgY29udGVudFJlY3Q6IG5ldyBET01SZWN0UmVhZE9ubHkocGFkZGluZ0xlZnQsIHBhZGRpbmdUb3AsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodClcbiAgfSk7XG4gIHJldHVybiBjYWNoZS5zZXQodGFyZ2V0LCBib3hlcyksIGJveGVzO1xufSwgY2FsY3VsYXRlQm94U2l6ZSA9IGZ1bmN0aW9uKHRhcmdldCwgb2JzZXJ2ZWRCb3gsIGZvcmNlUmVjYWxjdWxhdGlvbikge1xuICB2YXIgX2EgPSBjYWxjdWxhdGVCb3hTaXplcyh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbiksIGJvcmRlckJveFNpemUgPSBfYS5ib3JkZXJCb3hTaXplLCBjb250ZW50Qm94U2l6ZSA9IF9hLmNvbnRlbnRCb3hTaXplLCBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplID0gX2EuZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgc3dpdGNoIChvYnNlcnZlZEJveCkge1xuICAgIGNhc2UgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLkRFVklDRV9QSVhFTF9DT05URU5UX0JPWDpcbiAgICAgIHJldHVybiBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplO1xuICAgIGNhc2UgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLkJPUkRFUl9CT1g6XG4gICAgICByZXR1cm4gYm9yZGVyQm94U2l6ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGNvbnRlbnRCb3hTaXplO1xuICB9XG59LCBSZXNpemVPYnNlcnZlckVudHJ5ID0gLyogQF9fUFVSRV9fICovIGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckVudHJ5Mih0YXJnZXQpIHtcbiAgICB2YXIgYm94ZXMgPSBjYWxjdWxhdGVCb3hTaXplcyh0YXJnZXQpO1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0LCB0aGlzLmNvbnRlbnRSZWN0ID0gYm94ZXMuY29udGVudFJlY3QsIHRoaXMuYm9yZGVyQm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuYm9yZGVyQm94U2l6ZV0pLCB0aGlzLmNvbnRlbnRCb3hTaXplID0gZnJlZXplKFtib3hlcy5jb250ZW50Qm94U2l6ZV0pLCB0aGlzLmRldmljZVBpeGVsQ29udGVudEJveFNpemUgPSBmcmVlemUoW2JveGVzLmRldmljZVBpeGVsQ29udGVudEJveFNpemVdKTtcbiAgfVxuICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJFbnRyeTI7XG59KCksIGNhbGN1bGF0ZURlcHRoRm9yTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgaWYgKGlzSGlkZGVuKG5vZGUpKVxuICAgIHJldHVybiAxIC8gMDtcbiAgZm9yICh2YXIgZGVwdGggPSAwLCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7IHBhcmVudDsgKVxuICAgIGRlcHRoICs9IDEsIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICByZXR1cm4gZGVwdGg7XG59LCBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNoYWxsb3dlc3REZXB0aCA9IDEgLyAwLCBjYWxsYmFja3MyID0gW107XG4gIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHJvKSB7XG4gICAgaWYgKHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKG90KSB7XG4gICAgICAgIHZhciBlbnRyeSA9IG5ldyBSZXNpemVPYnNlcnZlckVudHJ5KG90LnRhcmdldCksIHRhcmdldERlcHRoID0gY2FsY3VsYXRlRGVwdGhGb3JOb2RlKG90LnRhcmdldCk7XG4gICAgICAgIGVudHJpZXMucHVzaChlbnRyeSksIG90Lmxhc3RSZXBvcnRlZFNpemUgPSBjYWxjdWxhdGVCb3hTaXplKG90LnRhcmdldCwgb3Qub2JzZXJ2ZWRCb3gpLCB0YXJnZXREZXB0aCA8IHNoYWxsb3dlc3REZXB0aCAmJiAoc2hhbGxvd2VzdERlcHRoID0gdGFyZ2V0RGVwdGgpO1xuICAgICAgfSksIGNhbGxiYWNrczIucHVzaChmdW5jdGlvbigpIHtcbiAgICAgICAgcm8uY2FsbGJhY2suY2FsbChyby5vYnNlcnZlciwgZW50cmllcywgcm8ub2JzZXJ2ZXIpO1xuICAgICAgfSksIHJvLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciBfaSA9IDAsIGNhbGxiYWNrc18xID0gY2FsbGJhY2tzMjsgX2kgPCBjYWxsYmFja3NfMS5sZW5ndGg7IF9pKyspIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja3NfMVtfaV07XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuICByZXR1cm4gc2hhbGxvd2VzdERlcHRoO1xufSwgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCA9IGZ1bmN0aW9uKGRlcHRoKSB7XG4gIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHJvKSB7XG4gICAgcm8uYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGgpLCByby5za2lwcGVkVGFyZ2V0cy5zcGxpY2UoMCwgcm8uc2tpcHBlZFRhcmdldHMubGVuZ3RoKSwgcm8ub2JzZXJ2YXRpb25UYXJnZXRzLmZvckVhY2goZnVuY3Rpb24ob3QpIHtcbiAgICAgIG90LmlzQWN0aXZlKCkgJiYgKGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpID4gZGVwdGggPyByby5hY3RpdmVUYXJnZXRzLnB1c2gob3QpIDogcm8uc2tpcHBlZFRhcmdldHMucHVzaChvdCkpO1xuICAgIH0pO1xuICB9KTtcbn0sIHByb2Nlc3MgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGRlcHRoID0gMDtcbiAgZm9yIChnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTsgaGFzQWN0aXZlT2JzZXJ2YXRpb25zKCk7IClcbiAgICBkZXB0aCA9IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucygpLCBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTtcbiAgcmV0dXJuIGhhc1NraXBwZWRPYnNlcnZhdGlvbnMoKSAmJiBkZWxpdmVyUmVzaXplTG9vcEVycm9yKCksIGRlcHRoID4gMDtcbn0sIHRyaWdnZXIsIGNhbGxiYWNrcyA9IFtdLCBub3RpZnkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGNhbGxiYWNrcy5zcGxpY2UoMCkuZm9yRWFjaChmdW5jdGlvbihjYikge1xuICAgIHJldHVybiBjYigpO1xuICB9KTtcbn0sIHF1ZXVlTWljcm9UYXNrID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgaWYgKCF0cmlnZ2VyKSB7XG4gICAgdmFyIHRvZ2dsZV8xID0gMCwgZWxfMSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLCBjb25maWcgPSB7IGNoYXJhY3RlckRhdGE6ICEwIH07XG4gICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbm90aWZ5KCk7XG4gICAgfSkub2JzZXJ2ZShlbF8xLCBjb25maWcpLCB0cmlnZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICBlbF8xLnRleHRDb250ZW50ID0gXCJcIi5jb25jYXQodG9nZ2xlXzEgPyB0b2dnbGVfMS0tIDogdG9nZ2xlXzErKyk7XG4gICAgfTtcbiAgfVxuICBjYWxsYmFja3MucHVzaChjYWxsYmFjayksIHRyaWdnZXIoKTtcbn0sIHF1ZXVlUmVzaXplT2JzZXJ2ZXIgPSBmdW5jdGlvbihjYikge1xuICBxdWV1ZU1pY3JvVGFzayhmdW5jdGlvbigpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xuICB9KTtcbn0sIHdhdGNoaW5nID0gMCwgaXNXYXRjaGluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISF3YXRjaGluZztcbn0sIENBVENIX1BFUklPRCA9IDI1MCwgb2JzZXJ2ZXJDb25maWcgPSB7IGF0dHJpYnV0ZXM6ICEwLCBjaGFyYWN0ZXJEYXRhOiAhMCwgY2hpbGRMaXN0OiAhMCwgc3VidHJlZTogITAgfSwgZXZlbnRzID0gW1xuICBcInJlc2l6ZVwiLFxuICBcImxvYWRcIixcbiAgXCJ0cmFuc2l0aW9uZW5kXCIsXG4gIFwiYW5pbWF0aW9uZW5kXCIsXG4gIFwiYW5pbWF0aW9uc3RhcnRcIixcbiAgXCJhbmltYXRpb25pdGVyYXRpb25cIixcbiAgXCJrZXl1cFwiLFxuICBcImtleWRvd25cIixcbiAgXCJtb3VzZXVwXCIsXG4gIFwibW91c2Vkb3duXCIsXG4gIFwibW91c2VvdmVyXCIsXG4gIFwibW91c2VvdXRcIixcbiAgXCJibHVyXCIsXG4gIFwiZm9jdXNcIlxuXSwgdGltZSA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgcmV0dXJuIHRpbWVvdXQgPT09IHZvaWQgMCAmJiAodGltZW91dCA9IDApLCBEYXRlLm5vdygpICsgdGltZW91dDtcbn0sIHNjaGVkdWxlZCA9ICExLCBTY2hlZHVsZXIgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gU2NoZWR1bGVyMigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMuc3RvcHBlZCA9ICEwLCB0aGlzLmxpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX3RoaXMuc2NoZWR1bGUoKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBTY2hlZHVsZXIyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAodGltZW91dCA9PT0gdm9pZCAwICYmICh0aW1lb3V0ID0gQ0FUQ0hfUEVSSU9EKSwgIXNjaGVkdWxlZCkge1xuICAgICAgc2NoZWR1bGVkID0gITA7XG4gICAgICB2YXIgdW50aWwgPSB0aW1lKHRpbWVvdXQpO1xuICAgICAgcXVldWVSZXNpemVPYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzSGF2ZVJlc2l6ZWQgPSAhMTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBlbGVtZW50c0hhdmVSZXNpemVkID0gcHJvY2VzcygpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChzY2hlZHVsZWQgPSAhMSwgdGltZW91dCA9IHVudGlsIC0gdGltZSgpLCAhaXNXYXRjaGluZygpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGVsZW1lbnRzSGF2ZVJlc2l6ZWQgPyBfdGhpcy5ydW4oMWUzKSA6IHRpbWVvdXQgPiAwID8gX3RoaXMucnVuKHRpbWVvdXQpIDogX3RoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBTY2hlZHVsZXIyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RvcCgpLCB0aGlzLnJ1bigpO1xuICB9LCBTY2hlZHVsZXIyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcywgY2IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfdGhpcy5vYnNlcnZlciAmJiBfdGhpcy5vYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIG9ic2VydmVyQ29uZmlnKTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmJvZHkgPyBjYigpIDogZ2xvYmFsJDEuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY2IpO1xuICB9LCBTY2hlZHVsZXIyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5zdG9wcGVkICYmICh0aGlzLnN0b3BwZWQgPSAhMSwgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMubGlzdGVuZXIpLCB0aGlzLm9ic2VydmUoKSwgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgcmV0dXJuIGdsb2JhbCQxLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsICEwKTtcbiAgICB9KSk7XG4gIH0sIFNjaGVkdWxlcjIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMuc3RvcHBlZCB8fCAodGhpcy5vYnNlcnZlciAmJiB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKSwgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgcmV0dXJuIGdsb2JhbCQxLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsICEwKTtcbiAgICB9KSwgdGhpcy5zdG9wcGVkID0gITApO1xuICB9LCBTY2hlZHVsZXIyO1xufSgpLCBzY2hlZHVsZXIgPSBuZXcgU2NoZWR1bGVyKCksIHVwZGF0ZUNvdW50ID0gZnVuY3Rpb24obikge1xuICAhd2F0Y2hpbmcgJiYgbiA+IDAgJiYgc2NoZWR1bGVyLnN0YXJ0KCksIHdhdGNoaW5nICs9IG4sICF3YXRjaGluZyAmJiBzY2hlZHVsZXIuc3RvcCgpO1xufSwgc2tpcE5vdGlmeU9uRWxlbWVudCA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICByZXR1cm4gIWlzU1ZHKHRhcmdldCkgJiYgIWlzUmVwbGFjZWRFbGVtZW50KHRhcmdldCkgJiYgZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09IFwiaW5saW5lXCI7XG59LCBSZXNpemVPYnNlcnZhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBSZXNpemVPYnNlcnZhdGlvbjIodGFyZ2V0LCBvYnNlcnZlZEJveCkge1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0LCB0aGlzLm9ic2VydmVkQm94ID0gb2JzZXJ2ZWRCb3ggfHwgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLkNPTlRFTlRfQk9YLCB0aGlzLmxhc3RSZXBvcnRlZFNpemUgPSB7XG4gICAgICBpbmxpbmVTaXplOiAwLFxuICAgICAgYmxvY2tTaXplOiAwXG4gICAgfTtcbiAgfVxuICByZXR1cm4gUmVzaXplT2JzZXJ2YXRpb24yLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzaXplMiA9IGNhbGN1bGF0ZUJveFNpemUodGhpcy50YXJnZXQsIHRoaXMub2JzZXJ2ZWRCb3gsICEwKTtcbiAgICByZXR1cm4gc2tpcE5vdGlmeU9uRWxlbWVudCh0aGlzLnRhcmdldCkgJiYgKHRoaXMubGFzdFJlcG9ydGVkU2l6ZSA9IHNpemUyKSwgdGhpcy5sYXN0UmVwb3J0ZWRTaXplLmlubGluZVNpemUgIT09IHNpemUyLmlubGluZVNpemUgfHwgdGhpcy5sYXN0UmVwb3J0ZWRTaXplLmJsb2NrU2l6ZSAhPT0gc2l6ZTIuYmxvY2tTaXplO1xuICB9LCBSZXNpemVPYnNlcnZhdGlvbjI7XG59KCksIFJlc2l6ZU9ic2VydmVyRGV0YWlsID0gLyogQF9fUFVSRV9fICovIGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckRldGFpbDIocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5hY3RpdmVUYXJnZXRzID0gW10sIHRoaXMuc2tpcHBlZFRhcmdldHMgPSBbXSwgdGhpcy5vYnNlcnZhdGlvblRhcmdldHMgPSBbXSwgdGhpcy5vYnNlcnZlciA9IHJlc2l6ZU9ic2VydmVyLCB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH1cbiAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRGV0YWlsMjtcbn0oKSwgb2JzZXJ2ZXJNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgZ2V0T2JzZXJ2YXRpb25JbmRleCA9IGZ1bmN0aW9uKG9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgb2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aDsgaSArPSAxKVxuICAgIGlmIChvYnNlcnZhdGlvblRhcmdldHNbaV0udGFyZ2V0ID09PSB0YXJnZXQpXG4gICAgICByZXR1cm4gaTtcbiAgcmV0dXJuIC0xO1xufSwgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjIoKSB7XG4gIH1cbiAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjIuY29ubmVjdCA9IGZ1bmN0aW9uKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgIHZhciBkZXRhaWwgPSBuZXcgUmVzaXplT2JzZXJ2ZXJEZXRhaWwocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKTtcbiAgICBvYnNlcnZlck1hcC5zZXQocmVzaXplT2JzZXJ2ZXIsIGRldGFpbCk7XG4gIH0sIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjIub2JzZXJ2ZSA9IGZ1bmN0aW9uKHJlc2l6ZU9ic2VydmVyLCB0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKSwgZmlyc3RPYnNlcnZhdGlvbiA9IGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoID09PSAwO1xuICAgIGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSA8IDAgJiYgKGZpcnN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnB1c2goZGV0YWlsKSwgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5wdXNoKG5ldyBSZXNpemVPYnNlcnZhdGlvbih0YXJnZXQsIG9wdGlvbnMgJiYgb3B0aW9ucy5ib3gpKSwgdXBkYXRlQ291bnQoMSksIHNjaGVkdWxlci5zY2hlZHVsZSgpKTtcbiAgfSwgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyMi51bm9ic2VydmUgPSBmdW5jdGlvbihyZXNpemVPYnNlcnZlciwgdGFyZ2V0KSB7XG4gICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlciksIGluZGV4ID0gZ2V0T2JzZXJ2YXRpb25JbmRleChkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLCB0YXJnZXQpLCBsYXN0T2JzZXJ2YXRpb24gPSBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PT0gMTtcbiAgICBpbmRleCA+PSAwICYmIChsYXN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnNwbGljZShyZXNpemVPYnNlcnZlcnMuaW5kZXhPZihkZXRhaWwpLCAxKSwgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5zcGxpY2UoaW5kZXgsIDEpLCB1cGRhdGVDb3VudCgtMSkpO1xuICB9LCBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIyLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbihyZXNpemVPYnNlcnZlcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXMsIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24ob3QpIHtcbiAgICAgIHJldHVybiBfdGhpcy51bm9ic2VydmUocmVzaXplT2JzZXJ2ZXIsIG90LnRhcmdldCk7XG4gICAgfSksIGRldGFpbC5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCBkZXRhaWwuYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICB9LCBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIyO1xufSgpLCBSZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlcjIoY2FsbGJhY2spIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSBcImZ1bmN0aW9uXCIpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzaXplT2JzZXJ2ZXInOiBUaGUgY2FsbGJhY2sgcHJvdmlkZWQgYXMgcGFyYW1ldGVyIDEgaXMgbm90IGEgZnVuY3Rpb24uXCIpO1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5jb25uZWN0KHRoaXMsIGNhbGxiYWNrKTtcbiAgfVxuICByZXR1cm4gUmVzaXplT2JzZXJ2ZXIyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24odGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ29ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgaWYgKCFpc0VsZW1lbnQodGFyZ2V0KSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogcGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0VsZW1lbnRcIik7XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUodGhpcywgdGFyZ2V0LCBvcHRpb25zKTtcbiAgfSwgUmVzaXplT2JzZXJ2ZXIyLnByb3RvdHlwZS51bm9ic2VydmUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAndW5vYnNlcnZlJyBvbiAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgIGlmICghaXNFbGVtZW50KHRhcmdldCkpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3Vub2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogcGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0VsZW1lbnRcIik7XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnVub2JzZXJ2ZSh0aGlzLCB0YXJnZXQpO1xuICB9LCBSZXNpemVPYnNlcnZlcjIucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbigpIHtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZGlzY29ubmVjdCh0aGlzKTtcbiAgfSwgUmVzaXplT2JzZXJ2ZXIyLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIgKCkgeyBbcG9seWZpbGwgY29kZV0gfVwiO1xuICB9LCBSZXNpemVPYnNlcnZlcjI7XG59KCk7XG5jb25zdCBfUmVzaXplT2JzZXJ2ZXIgPSB0eXBlb2YgZG9jdW1lbnQgPCBcInVcIiAmJiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgd2luZG93LlJlc2l6ZU9ic2VydmVyID8gd2luZG93LlJlc2l6ZU9ic2VydmVyIDogUmVzaXplT2JzZXJ2ZXIsIF9lbGVtZW50U2l6ZU9ic2VydmVyID0gX2NyZWF0ZUVsZW1lbnRTaXplT2JzZXJ2ZXIoKTtcbmZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50UmVjdFZhbHVlTGlzdGVuZXIoKSB7XG4gIHJldHVybiB7XG4gICAgc3Vic2NyaWJlKGVsZW1lbnQsIHN1YnNjcmliZXIpIHtcbiAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IF9SZXNpemVPYnNlcnZlcigoW2VudHJ5XSkgPT4ge1xuICAgICAgICBzdWJzY3JpYmVyKHtcbiAgICAgICAgICBfY29udGVudFJlY3Q6IGVudHJ5LmNvbnRlbnRSZWN0LFxuICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgd2lkdGg6IGVudHJ5LmJvcmRlckJveFNpemVbMF0uaW5saW5lU2l6ZSxcbiAgICAgICAgICAgIGhlaWdodDogZW50cnkuYm9yZGVyQm94U2l6ZVswXS5ibG9ja1NpemVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgIHdpZHRoOiBlbnRyeS5jb250ZW50UmVjdC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogZW50cnkuY29udGVudFJlY3QuaGVpZ2h0XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudCksICgpID0+IHtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKGVsZW1lbnQpLCByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50U2l6ZU9ic2VydmVyKCkge1xuICBjb25zdCBkaXNwb3NlQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgc3Vic2NyaWJlcnNDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuICByZXR1cm4ge1xuICAgIHN1YnNjcmliZShlbGVtZW50LCBzdWJzY3JpYmVyKSB7XG4gICAgICBjb25zdCBzdWJzY3JpYmVycyA9IHN1YnNjcmliZXJzQ2FjaGUuZ2V0KGVsZW1lbnQpIHx8IFtdO1xuICAgICAgbGV0IGRpc3Bvc2UgPSBkaXNwb3NlQ2FjaGUuZ2V0KGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIHN1YnNjcmliZXJzQ2FjaGUuaGFzKGVsZW1lbnQpIHx8IChzdWJzY3JpYmVyc0NhY2hlLnNldChlbGVtZW50LCBzdWJzY3JpYmVycyksIGRpc3Bvc2UgPSBfY3JlYXRlRWxlbWVudFJlY3RWYWx1ZUxpc3RlbmVyKCkuc3Vic2NyaWJlKGVsZW1lbnQsIChlbGVtZW50UmVjdCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiBzdWJzY3JpYmVycylcbiAgICAgICAgICBzdWIoZWxlbWVudFJlY3QpO1xuICAgICAgfSkpLCBzdWJzY3JpYmVycy5wdXNoKHN1YnNjcmliZXIpLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHN1YnNjcmliZXJzLmluZGV4T2Yoc3Vic2NyaWJlcik7XG4gICAgICAgIGlkeCA+IC0xICYmIHN1YnNjcmliZXJzLnNwbGljZShpZHgsIDEpLCBzdWJzY3JpYmVycy5sZW5ndGggPT09IDAgJiYgZGlzcG9zZSAmJiBkaXNwb3NlKCk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZUVsZW1lbnRTaXplKGVsZW1lbnQpIHtcbiAgY29uc3QgW3NpemUyLCBzZXRTaXplXSA9IHVzZVN0YXRlKG51bGwpO1xuICByZXR1cm4gdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZWxlbWVudClcbiAgICAgIHJldHVybiBfZWxlbWVudFNpemVPYnNlcnZlci5zdWJzY3JpYmUoZWxlbWVudCwgc2V0U2l6ZSk7XG4gIH0sIFtlbGVtZW50XSksIHNpemUyO1xufVxuZnVuY3Rpb24gdXNlRWxlbWVudFJlY3QoZWxlbWVudCkge1xuICBjb25zdCBlbGVtZW50U2l6ZSA9IHVzZUVsZW1lbnRTaXplKGVsZW1lbnQpO1xuICByZXR1cm4gKGVsZW1lbnRTaXplID09IG51bGwgPyB2b2lkIDAgOiBlbGVtZW50U2l6ZS5fY29udGVudFJlY3QpIHx8IG51bGw7XG59XG5mdW5jdGlvbiB1c2VHbG9iYWxLZXlEb3duKG9uS2V5RG93bikge1xuICByZXR1cm4gdXNlRWZmZWN0KCgpID0+IChhZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pLCAoKSA9PiByZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pKSwgW29uS2V5RG93bl0pO1xufVxuZnVuY3Rpb24gZ2V0R2xvYmFsU2NvcGUoKSB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA8IFwidVwiKSByZXR1cm4gZ2xvYmFsVGhpcztcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPCBcInVcIikgcmV0dXJuIHdpbmRvdztcbiAgaWYgKHR5cGVvZiBzZWxmIDwgXCJ1XCIpIHJldHVybiBzZWxmO1xuICBpZiAodHlwZW9mIGdsb2JhbCA8IFwidVwiKSByZXR1cm4gZ2xvYmFsO1xuICB0aHJvdyBuZXcgRXJyb3IoXCJAc2FuaXR5L3VpOiBjb3VsZCBub3QgbG9jYXRlIGdsb2JhbCBzY29wZVwiKTtcbn1cbmNvbnN0IGdsb2JhbFNjb3BlID0gZ2V0R2xvYmFsU2NvcGUoKTtcbmZ1bmN0aW9uIGNyZWF0ZUdsb2JhbFNjb3BlZENvbnRleHQoa2V5MiwgZGVmYXVsdFZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZG9jdW1lbnQgPiBcInVcIiA/IGNyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlKSA6IChnbG9iYWxTY29wZVtrZXkyXSA9IGdsb2JhbFNjb3BlW2tleTJdIHx8IGNyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlKSwgZ2xvYmFsU2NvcGVba2V5Ml0pO1xufVxuY29uc3Qga2V5JDggPSBTeW1ib2wuZm9yKFwiQHNhbml0eS91aS9jb250ZXh0L3RoZW1lXCIpLCBUaGVtZUNvbnRleHQgPSBjcmVhdGVHbG9iYWxTY29wZWRDb250ZXh0KGtleSQ4LCBudWxsKTtcbmZ1bmN0aW9uIFRoZW1lUHJvdmlkZXIocHJvcHMpIHtcbiAgY29uc3QgcGFyZW50VGhlbWUgPSB1c2VDb250ZXh0KFRoZW1lQ29udGV4dCksIHtcbiAgICBjaGlsZHJlbixcbiAgICBzY2hlbWUgPSAocGFyZW50VGhlbWUgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmVudFRoZW1lLnNjaGVtZSkgfHwgXCJsaWdodFwiLFxuICAgIHRoZW1lOiByb290VGhlbWUgPSAocGFyZW50VGhlbWUgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmVudFRoZW1lLnRoZW1lKSB8fCBudWxsLFxuICAgIHRvbmUgPSAocGFyZW50VGhlbWUgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmVudFRoZW1lLnRvbmUpIHx8IFwiZGVmYXVsdFwiXG4gIH0gPSBwcm9wcywgdGhlbWVDb250ZXh0ID0gdXNlTWVtbygoKSA9PiByb290VGhlbWUgPyB7XG4gICAgdmVyc2lvbjogMCxcbiAgICB0aGVtZTogcm9vdFRoZW1lLFxuICAgIHNjaGVtZSxcbiAgICB0b25lXG4gIH0gOiBudWxsLCBbcm9vdFRoZW1lLCBzY2hlbWUsIHRvbmVdKSwgdGhlbWUgPSB1c2VNZW1vKCgpID0+IHJvb3RUaGVtZSA/IGdldFNjb3BlZFRoZW1lKHJvb3RUaGVtZSwgc2NoZW1lLCB0b25lKSA6IG51bGwsIFtzY2hlbWUsIHJvb3RUaGVtZSwgdG9uZV0pO1xuICByZXR1cm4gdGhlbWUgPyAvKiBAX19QVVJFX18gKi8ganN4KFRoZW1lQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogdGhlbWVDb250ZXh0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUaGVtZVByb3ZpZGVyJDEsIHsgdGhlbWUsIGNoaWxkcmVuIH0pIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChcInByZVwiLCB7IGNoaWxkcmVuOiAnVGhlbWVQcm92aWRlcjogbm8gXCJ0aGVtZVwiIHByb3BlcnR5IHByb3ZpZGVkJyB9KTtcbn1cbmZ1bmN0aW9uIHVzZVJvb3RUaGVtZSgpIHtcbiAgY29uc3QgdmFsdWUgPSB1c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG4gIGlmICghdmFsdWUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlUm9vdFRoZW1lKCk6IG1pc3NpbmcgY29udGV4dCB2YWx1ZVwiKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gVGhlbWVDb2xvclByb3ZpZGVyKHByb3BzKSB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIHNjaGVtZSwgdG9uZSB9ID0gcHJvcHMsIHJvb3QgPSB1c2VSb290VGhlbWUoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goVGhlbWVQcm92aWRlciwgeyBzY2hlbWU6IHNjaGVtZSB8fCByb290LnNjaGVtZSwgdGhlbWU6IHJvb3QudGhlbWUsIHRvbmUsIGNoaWxkcmVuIH0pO1xufVxuZnVuY3Rpb24gdXNlVGhlbWUoKSB7XG4gIHJldHVybiB1c2VUaGVtZSQxKCk7XG59XG5mdW5jdGlvbiB1c2VUaGVtZV92MigpIHtcbiAgcmV0dXJuIGdldFRoZW1lX3YyKHVzZVRoZW1lJDEoKSk7XG59XG5jb25zdCBNRURJQV9TVE9SRV9DQUNIRSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gX2dldE1lZGlhUXVlcnkobWVkaWEsIGluZGV4KSB7XG4gIHJldHVybiBpbmRleCA9PT0gMCA/IGBzY3JlZW4gYW5kIChtYXgtd2lkdGg6ICR7bWVkaWFbaW5kZXhdIC0gMX1weClgIDogaW5kZXggPT09IG1lZGlhLmxlbmd0aCA/IGBzY3JlZW4gYW5kIChtaW4td2lkdGg6ICR7bWVkaWFbaW5kZXggLSAxXX1weClgIDogYHNjcmVlbiBhbmQgKG1pbi13aWR0aDogJHttZWRpYVtpbmRleCAtIDFdfXB4KSBhbmQgKG1heC13aWR0aDogJHttZWRpYVtpbmRleF0gLSAxfXB4KWA7XG59XG5mdW5jdGlvbiBfY3JlYXRlTWVkaWFTdG9yZShtZWRpYSkge1xuICBjb25zdCBtZWRpYUxlbiA9IG1lZGlhLmxlbmd0aDtcbiAgbGV0IHNpemVzO1xuICBjb25zdCBnZXRTaXplcyA9ICgpID0+IHtcbiAgICBpZiAoIXNpemVzKSB7XG4gICAgICBzaXplcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaW5kZXggPSBtZWRpYUxlbjsgaW5kZXggPiAtMTsgaW5kZXggLT0gMSkge1xuICAgICAgICBjb25zdCBtZWRpYVF1ZXJ5ID0gX2dldE1lZGlhUXVlcnkobWVkaWEsIGluZGV4KTtcbiAgICAgICAgc2l6ZXMucHVzaCh7IGluZGV4LCBtcTogd2luZG93Lm1hdGNoTWVkaWEobWVkaWFRdWVyeSkgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaXplcztcbiAgfTtcbiAgcmV0dXJuIHsgZ2V0U25hcHNob3Q6ICgpID0+IHtcbiAgICBmb3IgKGNvbnN0IHsgaW5kZXgsIG1xIH0gb2YgZ2V0U2l6ZXMoKSlcbiAgICAgIGlmIChtcS5tYXRjaGVzKSByZXR1cm4gaW5kZXg7XG4gICAgcmV0dXJuIDA7XG4gIH0sIHN1YnNjcmliZTogKG9uU3RvcmVDaGFuZ2UpID0+IHtcbiAgICBjb25zdCBkaXNwb3NlRm5zID0gW107XG4gICAgZm9yIChjb25zdCB7IG1xIH0gb2YgZ2V0U2l6ZXMoKSkge1xuICAgICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBtcS5tYXRjaGVzICYmIG9uU3RvcmVDaGFuZ2UoKTtcbiAgICAgIH07XG4gICAgICBtcS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGhhbmRsZUNoYW5nZSksIGRpc3Bvc2VGbnMucHVzaCgoKSA9PiBtcS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGhhbmRsZUNoYW5nZSkpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBkaXNwb3NlRm4gb2YgZGlzcG9zZUZucylcbiAgICAgICAgZGlzcG9zZUZuKCk7XG4gICAgfTtcbiAgfSB9O1xufVxuZnVuY3Rpb24gZ2V0U2VydmVyU25hcHNob3QkMigpIHtcbiAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiB1c2VNZWRpYUluZGV4KCkge1xuICBjb25zdCB7IG1lZGlhIH0gPSB1c2VUaGVtZV92MigpO1xuICBsZXQgc3RvcmUgPSBNRURJQV9TVE9SRV9DQUNIRS5nZXQobWVkaWEpO1xuICByZXR1cm4gc3RvcmUgfHwgKHN0b3JlID0gX2NyZWF0ZU1lZGlhU3RvcmUobWVkaWEpLCBNRURJQV9TVE9SRV9DQUNIRS5zZXQobWVkaWEsIHN0b3JlKSksIHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN0b3JlLnN1YnNjcmliZSwgc3RvcmUuZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90JDIpO1xufVxubGV0IE1FRElBX1FVRVJZX0NBQ0hFJDE7XG5mdW5jdGlvbiBnZXRNYXRjaE1lZGlhJDEoKSB7XG4gIHJldHVybiBNRURJQV9RVUVSWV9DQUNIRSQxIHx8IChNRURJQV9RVUVSWV9DQUNIRSQxID0gd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpKSwgTUVESUFfUVVFUllfQ0FDSEUkMTtcbn1cbmZ1bmN0aW9uIHN1YnNjcmliZSQyKG9uU3RvcmVDaGFuZ2UpIHtcbiAgY29uc3QgbWF0Y2hNZWRpYSA9IGdldE1hdGNoTWVkaWEkMSgpO1xuICByZXR1cm4gbWF0Y2hNZWRpYS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIG9uU3RvcmVDaGFuZ2UpLCAoKSA9PiBtYXRjaE1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgb25TdG9yZUNoYW5nZSk7XG59XG5mdW5jdGlvbiBnZXRTbmFwc2hvdCQxKCkge1xuICByZXR1cm4gZ2V0TWF0Y2hNZWRpYSQxKCkubWF0Y2hlcztcbn1cbmZ1bmN0aW9uIGdldFNlcnZlclNuYXBzaG90JDEoKSB7XG4gIHJldHVybiAhMTtcbn1cbmZ1bmN0aW9uIHVzZVByZWZlcnNEYXJrKCkge1xuICByZXR1cm4gdXNlU3luY0V4dGVybmFsU3RvcmUoc3Vic2NyaWJlJDIsIGdldFNuYXBzaG90JDEsIGdldFNlcnZlclNuYXBzaG90JDEpO1xufVxubGV0IE1FRElBX1FVRVJZX0NBQ0hFO1xuZnVuY3Rpb24gZ2V0TWF0Y2hNZWRpYSgpIHtcbiAgcmV0dXJuIE1FRElBX1FVRVJZX0NBQ0hFIHx8IChNRURJQV9RVUVSWV9DQUNIRSA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSlcIikpLCBNRURJQV9RVUVSWV9DQUNIRTtcbn1cbmZ1bmN0aW9uIHN1YnNjcmliZSQxKG9uU3RvcmVDaGFuZ2UpIHtcbiAgY29uc3QgbWF0Y2hNZWRpYSA9IGdldE1hdGNoTWVkaWEoKTtcbiAgcmV0dXJuIG1hdGNoTWVkaWEuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBvblN0b3JlQ2hhbmdlKSwgKCkgPT4gbWF0Y2hNZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIG9uU3RvcmVDaGFuZ2UpO1xufVxuZnVuY3Rpb24gZ2V0U25hcHNob3QoKSB7XG4gIHJldHVybiBnZXRNYXRjaE1lZGlhKCkubWF0Y2hlcztcbn1cbmZ1bmN0aW9uIGdldFNlcnZlclNuYXBzaG90KCkge1xuICByZXR1cm4gITE7XG59XG5mdW5jdGlvbiB1c2VQcmVmZXJzUmVkdWNlZE1vdGlvbigpIHtcbiAgcmV0dXJuIHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSQxLCBnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QpO1xufVxuZnVuY3Rpb24gdXNlRm9yd2FyZGVkUmVmKHJlZikge1xuICBjb25zdCBpbm5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgcmV0dXJuIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiBpbm5lclJlZi5jdXJyZW50KSwgaW5uZXJSZWY7XG59XG5mdW5jdGlvbiB1c2VDdXN0b21WYWxpZGl0eShyZWYsIGN1c3RvbVZhbGlkaXR5KSB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHJlZi5jdXJyZW50KSA9PSBudWxsIHx8IF9hLnNldEN1c3RvbVZhbGlkaXR5KGN1c3RvbVZhbGlkaXR5IHx8IFwiXCIpO1xuICB9LCBbY3VzdG9tVmFsaWRpdHksIHJlZl0pO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUJvcmRlclN0eWxlKCkge1xuICByZXR1cm4gW2JvcmRlciwgYm9yZGVyVG9wLCBib3JkZXJSaWdodCwgYm9yZGVyQm90dG9tLCBib3JkZXJMZWZ0XTtcbn1cbmZ1bmN0aW9uIGJvcmRlcihwcm9wcykge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCB7IGNhcmQsIG1lZGlhIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSksIGJvcmRlclN0eWxlID0gYCR7KF9iID0gKF9hID0gY2FyZC5ib3JkZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS53aWR0aCkgIT0gbnVsbCA/IF9iIDogMX1weCBzb2xpZCB2YXIoLS1jYXJkLWJvcmRlci1jb2xvcilgO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUoXG4gICAgbWVkaWEsXG4gICAgcHJvcHMuJGJvcmRlcixcbiAgICAodmFsdWUpID0+IHZhbHVlID8geyBcIiYmXCI6IHsgYm9yZGVyOiBib3JkZXJTdHlsZSB9IH0gOiB7IFwiJiZcIjogeyBib3JkZXI6IDAgfSB9XG4gICk7XG59XG5mdW5jdGlvbiBib3JkZXJUb3AocHJvcHMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgeyBjYXJkLCBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpLCBib3JkZXJTdHlsZSA9IGAkeyhfYiA9IChfYSA9IGNhcmQuYm9yZGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2Eud2lkdGgpICE9IG51bGwgPyBfYiA6IDF9cHggc29saWQgdmFyKC0tY2FyZC1ib3JkZXItY29sb3IpYDtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKFxuICAgIG1lZGlhLFxuICAgIHByb3BzLiRib3JkZXJUb3AsXG4gICAgKHZhbHVlKSA9PiB2YWx1ZSA/IHsgXCImJlwiOiB7IGJvcmRlclRvcDogYm9yZGVyU3R5bGUgfSB9IDogeyBcIiYmXCI6IHsgYm9yZGVyVG9wOiAwIH0gfVxuICApO1xufVxuZnVuY3Rpb24gYm9yZGVyUmlnaHQocHJvcHMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgeyBjYXJkLCBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpLCBib3JkZXJTdHlsZSA9IGAkeyhfYiA9IChfYSA9IGNhcmQuYm9yZGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2Eud2lkdGgpICE9IG51bGwgPyBfYiA6IDF9cHggc29saWQgdmFyKC0tY2FyZC1ib3JkZXItY29sb3IpYDtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKFxuICAgIG1lZGlhLFxuICAgIHByb3BzLiRib3JkZXJSaWdodCxcbiAgICAodmFsdWUpID0+IHZhbHVlID8geyBcIiYmXCI6IHsgYm9yZGVyUmlnaHQ6IGJvcmRlclN0eWxlIH0gfSA6IHsgXCImJlwiOiB7IGJvcmRlclJpZ2h0OiAwIH0gfVxuICApO1xufVxuZnVuY3Rpb24gYm9yZGVyQm90dG9tKHByb3BzKSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHsgY2FyZCwgbWVkaWEgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKSwgYm9yZGVyU3R5bGUgPSBgJHsoX2IgPSAoX2EgPSBjYXJkLmJvcmRlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLndpZHRoKSAhPSBudWxsID8gX2IgOiAxfXB4IHNvbGlkIHZhcigtLWNhcmQtYm9yZGVyLWNvbG9yKWA7XG4gIHJldHVybiBfcmVzcG9uc2l2ZShcbiAgICBtZWRpYSxcbiAgICBwcm9wcy4kYm9yZGVyQm90dG9tLFxuICAgICh2YWx1ZSkgPT4gdmFsdWUgPyB7IFwiJiZcIjogeyBib3JkZXJCb3R0b206IGJvcmRlclN0eWxlIH0gfSA6IHsgXCImJlwiOiB7IGJvcmRlckJvdHRvbTogMCB9IH1cbiAgKTtcbn1cbmZ1bmN0aW9uIGJvcmRlckxlZnQocHJvcHMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgeyBjYXJkLCBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpLCBib3JkZXJTdHlsZSA9IGAkeyhfYiA9IChfYSA9IGNhcmQuYm9yZGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2Eud2lkdGgpICE9IG51bGwgPyBfYiA6IDF9cHggc29saWQgdmFyKC0tY2FyZC1ib3JkZXItY29sb3IpYDtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKFxuICAgIG1lZGlhLFxuICAgIHByb3BzLiRib3JkZXJMZWZ0LFxuICAgICh2YWx1ZSkgPT4gdmFsdWUgPyB7IFwiJiZcIjogeyBib3JkZXJMZWZ0OiBib3JkZXJTdHlsZSB9IH0gOiB7IFwiJiZcIjogeyBib3JkZXJMZWZ0OiAwIH0gfVxuICApO1xufVxuY29uc3QgQkFTRV9TVFlMRSQ0ID0ge1xuICAnJltkYXRhLWFzPVwidWxcIl0sJltkYXRhLWFzPVwib2xcIl0nOiB7XG4gICAgbGlzdFN0eWxlOiBcIm5vbmVcIlxuICB9XG59LCBCT1hfU0laSU5HID0ge1xuICBjb250ZW50OiBcImNvbnRlbnQtYm94XCIsXG4gIGJvcmRlcjogXCJib3JkZXItYm94XCJcbn0sIEJPWF9IRUlHSFQgPSB7XG4gIHN0cmV0Y2g6IFwic3RyZXRjaFwiLFxuICBmaWxsOiBcIjEwMCVcIlxufTtcbmZ1bmN0aW9uIGJveFN0eWxlKCkge1xuICByZXR1cm4gQkFTRV9TVFlMRSQ0O1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUJveFN0eWxlKCkge1xuICByZXR1cm4gW1xuICAgIHJlc3BvbnNpdmVCb3hTaXppbmdTdHlsZSxcbiAgICByZXNwb25zaXZlQm94SGVpZ2h0U3R5bGUsXG4gICAgcmVzcG9uc2l2ZUJveE92ZXJmbG93U3R5bGUsXG4gICAgcmVzcG9uc2l2ZUJveERpc3BsYXlTdHlsZVxuICBdO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUJveERpc3BsYXlTdHlsZShwcm9wcykge1xuICBjb25zdCB7IG1lZGlhIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBfcmVzcG9uc2l2ZShtZWRpYSwgcHJvcHMuJGRpc3BsYXksIChkaXNwbGF5KSA9PiAoe1xuICAgIFwiJjpub3QoW2hpZGRlbl0pXCI6IHsgZGlzcGxheSB9XG4gIH0pKTtcbn1cbmZ1bmN0aW9uIHJlc3BvbnNpdmVCb3hTaXppbmdTdHlsZShwcm9wcykge1xuICBjb25zdCB7IG1lZGlhIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBfcmVzcG9uc2l2ZShtZWRpYSwgcHJvcHMuJHNpemluZywgKHNpemluZykgPT4gKHtcbiAgICBib3hTaXppbmc6IEJPWF9TSVpJTkdbc2l6aW5nXVxuICB9KSk7XG59XG5mdW5jdGlvbiByZXNwb25zaXZlQm94SGVpZ2h0U3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRoZWlnaHQsIChoZWlnaHQpID0+ICh7XG4gICAgaGVpZ2h0OiBCT1hfSEVJR0hUW2hlaWdodF1cbiAgfSkpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUJveE92ZXJmbG93U3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRvdmVyZmxvdywgKG92ZXJmbG93KSA9PiAoe1xuICAgIG92ZXJmbG93XG4gIH0pKTtcbn1cbmNvbnN0IEJBU0VfU1RZTEUkMyA9IHtcbiAgXCImJjpub3QoW2hpZGRlbl0pXCI6IHtcbiAgICBkaXNwbGF5OiBcImZsZXhcIlxuICB9XG59O1xuZnVuY3Rpb24gcmVzcG9uc2l2ZUZsZXhTdHlsZSgpIHtcbiAgcmV0dXJuIFtcbiAgICBCQVNFX1NUWUxFJDMsXG4gICAgcmVzcG9uc2l2ZUZsZXhBbGlnblN0eWxlLFxuICAgIHJlc3BvbnNpdmVGbGV4R2FwU3R5bGUsXG4gICAgcmVzcG9uc2l2ZUZsZXhXcmFwU3R5bGUsXG4gICAgcmVzcG9uc2l2ZUZsZXhKdXN0aWZ5U3R5bGUsXG4gICAgcmVzcG9uc2l2ZUZsZXhEaXJlY3Rpb25TdHlsZVxuICBdO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUZsZXhBbGlnblN0eWxlKHByb3BzKSB7XG4gIGNvbnN0IHsgbWVkaWEgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKG1lZGlhLCBwcm9wcy4kYWxpZ24sIChhbGlnbikgPT4gKHsgYWxpZ25JdGVtczogYWxpZ24gfSkpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUZsZXhHYXBTdHlsZShwcm9wcykge1xuICBjb25zdCB7IG1lZGlhLCBzcGFjZSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRnYXAsIChnYXApID0+ICh7XG4gICAgZ2FwOiBnYXAgPyByZW0oc3BhY2VbZ2FwXSkgOiB2b2lkIDBcbiAgfSkpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUZsZXhXcmFwU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiR3cmFwLCAod3JhcCkgPT4gKHsgZmxleFdyYXA6IHdyYXAgfSkpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUZsZXhKdXN0aWZ5U3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRqdXN0aWZ5LCAoanVzdGlmeSkgPT4gKHsganVzdGlmeUNvbnRlbnQ6IGp1c3RpZnkgfSkpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUZsZXhEaXJlY3Rpb25TdHlsZShwcm9wcykge1xuICBjb25zdCB7IG1lZGlhIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBfcmVzcG9uc2l2ZShtZWRpYSwgcHJvcHMuJGRpcmVjdGlvbiwgKGRpcmVjdGlvbikgPT4gKHsgZmxleERpcmVjdGlvbjogZGlyZWN0aW9uIH0pKTtcbn1cbmNvbnN0IEJBU0VfU1RZTEUkMiA9IHtcbiAgbWluV2lkdGg6IDAsXG4gIG1pbkhlaWdodDogMFxufTtcbmZ1bmN0aW9uIGZsZXhJdGVtU3R5bGUoKSB7XG4gIHJldHVybiBbQkFTRV9TVFlMRSQyLCByZXNwb25zaXZlRmxleEl0ZW1TdHlsZV07XG59XG5mdW5jdGlvbiByZXNwb25zaXZlRmxleEl0ZW1TdHlsZShwcm9wcykge1xuICBjb25zdCB7IG1lZGlhIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBwcm9wcy4kZmxleCA/IF9yZXNwb25zaXZlKG1lZGlhLCBwcm9wcy4kZmxleCwgKGZsZXgpID0+ICh7IGZsZXggfSkpIDogRU1QVFlfQVJSQVk7XG59XG5mdW5jdGlvbiBmb2N1c1JpbmdCb3JkZXJTdHlsZShib3JkZXIyKSB7XG4gIHJldHVybiBgaW5zZXQgMCAwIDAgJHtib3JkZXIyLndpZHRofXB4ICR7Ym9yZGVyMi5jb2xvcn1gO1xufVxuZnVuY3Rpb24gZm9jdXNSaW5nU3R5bGUob3B0cykge1xuICBjb25zdCB7IGJhc2UsIGJvcmRlcjogYm9yZGVyMiwgZm9jdXNSaW5nIH0gPSBvcHRzLCBmb2N1c1JpbmdPdXRzZXRXaWR0aCA9IGZvY3VzUmluZy5vZmZzZXQgKyBmb2N1c1Jpbmcud2lkdGgsIGZvY3VzUmluZ0luc2V0V2lkdGggPSAwIC0gZm9jdXNSaW5nLm9mZnNldCwgYmdDb2xvciA9IGJhc2UgPyBiYXNlLmJnIDogXCJ2YXIoLS1jYXJkLWJnLWNvbG9yKVwiO1xuICByZXR1cm4gW1xuICAgIGZvY3VzUmluZ0luc2V0V2lkdGggPiAwICYmIGBpbnNldCAwIDAgMCAke2ZvY3VzUmluZ0luc2V0V2lkdGh9cHggdmFyKC0tY2FyZC1mb2N1cy1yaW5nLWNvbG9yKWAsXG4gICAgYm9yZGVyMiAmJiBmb2N1c1JpbmdCb3JkZXJTdHlsZShib3JkZXIyKSxcbiAgICBmb2N1c1JpbmdJbnNldFdpZHRoIDwgMCAmJiBgMCAwIDAgJHswIC0gZm9jdXNSaW5nSW5zZXRXaWR0aH1weCAke2JnQ29sb3J9YCxcbiAgICBmb2N1c1JpbmdPdXRzZXRXaWR0aCA+IDAgJiYgYDAgMCAwICR7Zm9jdXNSaW5nT3V0c2V0V2lkdGh9cHggdmFyKC0tY2FyZC1mb2N1cy1yaW5nLWNvbG9yKWBcbiAgXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIixcIik7XG59XG5jb25zdCBHUklEX0NTUyA9IHtcbiAgXCImJjpub3QoW2hpZGRlbl0pXCI6IHtcbiAgICBkaXNwbGF5OiBcImdyaWRcIlxuICB9LFxuICAnJltkYXRhLWFzPVwidWxcIl0sJltkYXRhLWFzPVwib2xcIl0nOiB7XG4gICAgbGlzdFN0eWxlOiBcIm5vbmVcIlxuICB9XG59LCBHUklEX0FVVE9fQ09MVU1TID0ge1xuICBhdXRvOiBcImF1dG9cIixcbiAgbWluOiBcIm1pbi1jb250ZW50XCIsXG4gIG1heDogXCJtYXgtY29udGVudFwiLFxuICBmcjogXCJtaW5tYXgoMCwgMWZyKVwiXG59LCBHUklEX0FVVE9fUk9XUyA9IHtcbiAgYXV0bzogXCJhdXRvXCIsXG4gIG1pbjogXCJtaW4tY29udGVudFwiLFxuICBtYXg6IFwibWF4LWNvbnRlbnRcIixcbiAgZnI6IFwibWlubWF4KDAsIDFmcilcIlxufTtcbmZ1bmN0aW9uIHJlc3BvbnNpdmVHcmlkU3R5bGUoKSB7XG4gIHJldHVybiBbXG4gICAgR1JJRF9DU1MsXG4gICAgcmVzcG9uc2l2ZUdyaWRBdXRvRmxvd1N0eWxlLFxuICAgIHJlc3BvbnNpdmVHcmlkQXV0b1Jvd3NTdHlsZSxcbiAgICByZXNwb25zaXZlR3JpZEF1dG9Db2xzU3R5bGUsXG4gICAgcmVzcG9uc2l2ZUdyaWRDb2x1bW5zU3R5bGUsXG4gICAgcmVzcG9uc2l2ZUdyaWRSb3dzU3R5bGUsXG4gICAgcmVzcG9uc2l2ZUdyaWRHYXBTdHlsZSxcbiAgICByZXNwb25zaXZlR3JpZEdhcFhTdHlsZSxcbiAgICByZXNwb25zaXZlR3JpZEdhcFlTdHlsZVxuICBdO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUdyaWRBdXRvRmxvd1N0eWxlKHByb3BzKSB7XG4gIGNvbnN0IHsgbWVkaWEgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKG1lZGlhLCBwcm9wcy4kYXV0b0Zsb3csIChhdXRvRmxvdykgPT4gKHtcbiAgICBncmlkQXV0b0Zsb3c6IGF1dG9GbG93XG4gIH0pKTtcbn1cbmZ1bmN0aW9uIHJlc3BvbnNpdmVHcmlkQXV0b1Jvd3NTdHlsZShwcm9wcykge1xuICBjb25zdCB7IG1lZGlhIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBfcmVzcG9uc2l2ZShtZWRpYSwgcHJvcHMuJGF1dG9Sb3dzLCAoYXV0b1Jvd3MpID0+ICh7XG4gICAgZ3JpZEF1dG9Sb3dzOiBhdXRvUm93cyAmJiBHUklEX0FVVE9fUk9XU1thdXRvUm93c11cbiAgfSkpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUdyaWRBdXRvQ29sc1N0eWxlKHByb3BzKSB7XG4gIGNvbnN0IHsgbWVkaWEgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKG1lZGlhLCBwcm9wcy4kYXV0b0NvbHMsIChhdXRvQ29scykgPT4gKHtcbiAgICBncmlkQXV0b0NvbHVtbnM6IGF1dG9Db2xzICYmIEdSSURfQVVUT19DT0xVTVNbYXV0b0NvbHNdXG4gIH0pKTtcbn1cbmZ1bmN0aW9uIHJlc3BvbnNpdmVHcmlkQ29sdW1uc1N0eWxlKHByb3BzKSB7XG4gIGNvbnN0IHsgbWVkaWEgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKG1lZGlhLCBwcm9wcy4kY29sdW1ucywgKGNvbHVtbnMpID0+ICh7XG4gICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogY29sdW1ucyAmJiBgcmVwZWF0KCR7Y29sdW1uc30sbWlubWF4KDAsMWZyKSk7YFxuICB9KSk7XG59XG5mdW5jdGlvbiByZXNwb25zaXZlR3JpZFJvd3NTdHlsZShwcm9wcykge1xuICBjb25zdCB7IG1lZGlhIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBfcmVzcG9uc2l2ZShtZWRpYSwgcHJvcHMuJHJvd3MsIChyb3dzKSA9PiAoe1xuICAgIGdyaWRUZW1wbGF0ZVJvd3M6IHJvd3MgJiYgYHJlcGVhdCgke3Jvd3N9LG1pbm1heCgwLDFmcikpO2BcbiAgfSkpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUdyaWRHYXBTdHlsZShwcm9wcykge1xuICBjb25zdCB7IG1lZGlhLCBzcGFjZSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRnYXAsIChnYXApID0+ICh7XG4gICAgZ3JpZEdhcDogZ2FwID8gcmVtKHNwYWNlW2dhcF0pIDogdm9pZCAwXG4gIH0pKTtcbn1cbmZ1bmN0aW9uIHJlc3BvbnNpdmVHcmlkR2FwWFN0eWxlKHByb3BzKSB7XG4gIGNvbnN0IHsgbWVkaWEsIHNwYWNlIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBfcmVzcG9uc2l2ZShtZWRpYSwgcHJvcHMuJGdhcFgsIChnYXBYKSA9PiAoe1xuICAgIGNvbHVtbkdhcDogZ2FwWCA/IHJlbShzcGFjZVtnYXBYXSkgOiB2b2lkIDBcbiAgfSkpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUdyaWRHYXBZU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBtZWRpYSwgc3BhY2UgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKG1lZGlhLCBwcm9wcy4kZ2FwWSwgKGdhcFkpID0+ICh7XG4gICAgcm93R2FwOiBnYXBZID8gcmVtKHNwYWNlW2dhcFldKSA6IHZvaWQgMFxuICB9KSk7XG59XG5mdW5jdGlvbiByZXNwb25zaXZlR3JpZEl0ZW1TdHlsZSgpIHtcbiAgcmV0dXJuIFtcbiAgICByZXNwb25zaXZlR3JpZEl0ZW1Sb3dTdHlsZSxcbiAgICByZXNwb25zaXZlR3JpZEl0ZW1Sb3dTdGFydFN0eWxlLFxuICAgIHJlc3BvbnNpdmVHcmlkSXRlbVJvd0VuZFN0eWxlLFxuICAgIHJlc3BvbnNpdmVHcmlkSXRlbUNvbHVtblN0eWxlLFxuICAgIHJlc3BvbnNpdmVHcmlkSXRlbUNvbHVtblN0YXJ0U3R5bGUsXG4gICAgcmVzcG9uc2l2ZUdyaWRJdGVtQ29sdW1uRW5kU3R5bGVcbiAgXTtcbn1cbmNvbnN0IEdSSURfSVRFTV9ST1cgPSB7XG4gIGF1dG86IFwiYXV0b1wiLFxuICBmdWxsOiBcIjEgLyAtMVwiXG59LCBHUklEX0lURU1fQ09MVU1OID0ge1xuICBhdXRvOiBcImF1dG9cIixcbiAgZnVsbDogXCIxIC8gLTFcIlxufTtcbmZ1bmN0aW9uIHJlc3BvbnNpdmVHcmlkSXRlbVJvd1N0eWxlKHByb3BzKSB7XG4gIGNvbnN0IHsgbWVkaWEgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKG1lZGlhLCBwcm9wcy4kcm93LCAocm93KSA9PiB0eXBlb2Ygcm93ID09IFwibnVtYmVyXCIgPyB7IGdyaWRSb3c6IGBzcGFuICR7cm93fSAvIHNwYW4gJHtyb3d9YCB9IDogeyBncmlkUm93OiBHUklEX0lURU1fUk9XW3Jvd10gfSk7XG59XG5mdW5jdGlvbiByZXNwb25zaXZlR3JpZEl0ZW1Sb3dTdGFydFN0eWxlKHByb3BzKSB7XG4gIGNvbnN0IHsgbWVkaWEgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKG1lZGlhLCBwcm9wcy4kcm93U3RhcnQsIChyb3dTdGFydCkgPT4gKHtcbiAgICBncmlkUm93U3RhcnQ6IHJvd1N0YXJ0XG4gIH0pKTtcbn1cbmZ1bmN0aW9uIHJlc3BvbnNpdmVHcmlkSXRlbVJvd0VuZFN0eWxlKHByb3BzKSB7XG4gIGNvbnN0IHsgbWVkaWEgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKG1lZGlhLCBwcm9wcy4kcm93RW5kLCAocm93RW5kKSA9PiAoeyBncmlkUm93RW5kOiByb3dFbmQgfSkpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUdyaWRJdGVtQ29sdW1uU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRjb2x1bW4sIChjb2x1bW4pID0+IHR5cGVvZiBjb2x1bW4gPT0gXCJudW1iZXJcIiA/IHsgZ3JpZENvbHVtbjogYHNwYW4gJHtjb2x1bW59IC8gc3BhbiAke2NvbHVtbn1gIH0gOiB7IGdyaWRDb2x1bW46IEdSSURfSVRFTV9DT0xVTU5bY29sdW1uXSB9KTtcbn1cbmZ1bmN0aW9uIHJlc3BvbnNpdmVHcmlkSXRlbUNvbHVtblN0YXJ0U3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRjb2x1bW5TdGFydCwgKGNvbHVtblN0YXJ0KSA9PiAoe1xuICAgIGdyaWRDb2x1bW5TdGFydDogY29sdW1uU3RhcnRcbiAgfSkpO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUdyaWRJdGVtQ29sdW1uRW5kU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRjb2x1bW5FbmQsIChjb2x1bW5FbmQpID0+ICh7XG4gICAgZ3JpZENvbHVtbkVuZDogY29sdW1uRW5kXG4gIH0pKTtcbn1cbmZ1bmN0aW9uIHJlc3BvbnNpdmVJbnB1dFBhZGRpbmdTdHlsZShwcm9wcykge1xuICBjb25zdCB7ICRmb250U2l6ZSwgJGljb25MZWZ0LCAkaWNvblJpZ2h0LCAkcGFkZGluZywgJHNwYWNlIH0gPSBwcm9wcywgeyBmb250LCBtZWRpYSwgc3BhY2UgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKSwgbGVuID0gTWF0aC5tYXgoJHBhZGRpbmcubGVuZ3RoLCAkc3BhY2UubGVuZ3RoLCAkZm9udFNpemUubGVuZ3RoKSwgX3BhZGRpbmcgPSBbXSwgX3NwYWNlID0gW10sIF9mb250U2l6ZSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKVxuICAgIF9mb250U2l6ZVtpXSA9ICRmb250U2l6ZVtpXSA9PT0gdm9pZCAwID8gX2ZvbnRTaXplW2kgLSAxXSA6ICRmb250U2l6ZVtpXSwgX3BhZGRpbmdbaV0gPSAkcGFkZGluZ1tpXSA9PT0gdm9pZCAwID8gX3BhZGRpbmdbaSAtIDFdIDogJHBhZGRpbmdbaV0sIF9zcGFjZVtpXSA9ICRzcGFjZVtpXSA9PT0gdm9pZCAwID8gX3NwYWNlW2kgLSAxXSA6ICRzcGFjZVtpXTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKG1lZGlhLCBfcGFkZGluZywgKF8sIGkpID0+IHtcbiAgICBjb25zdCBzaXplMiA9IGZvbnQudGV4dC5zaXplc1tfZm9udFNpemVbaV1dIHx8IGZvbnQudGV4dC5zaXplc1syXSwgZW1TaXplID0gc2l6ZTIubGluZUhlaWdodCAtIHNpemUyLmFzY2VuZGVySGVpZ2h0IC0gc2l6ZTIuZGVzY2VuZGVySGVpZ2h0LCBwID0gc3BhY2VbX3BhZGRpbmdbaV1dLCBzID0gc3BhY2VbX3NwYWNlW2ldXSwgc3R5bGVzID0ge1xuICAgICAgcGFkZGluZ1RvcDogcmVtKHAgLSBzaXplMi5hc2NlbmRlckhlaWdodCksXG4gICAgICBwYWRkaW5nUmlnaHQ6IHJlbShwKSxcbiAgICAgIHBhZGRpbmdCb3R0b206IHJlbShwIC0gc2l6ZTIuZGVzY2VuZGVySGVpZ2h0KSxcbiAgICAgIHBhZGRpbmdMZWZ0OiByZW0ocClcbiAgICB9O1xuICAgIHJldHVybiAkaWNvblJpZ2h0ICYmIChzdHlsZXMucGFkZGluZ1JpZ2h0ID0gcmVtKHAgKyBlbVNpemUgKyBzKSksICRpY29uTGVmdCAmJiAoc3R5bGVzLnBhZGRpbmdMZWZ0ID0gcmVtKHAgKyBlbVNpemUgKyBzKSksIHN0eWxlcztcbiAgfSk7XG59XG5mdW5jdGlvbiByZXNwb25zaXZlSW5wdXRQYWRkaW5nSWNvblJpZ2h0U3R5bGUocHJvcHMpIHtcbiAgcmV0dXJuIHJlc3BvbnNpdmVJbnB1dFBhZGRpbmdTdHlsZSh7IC4uLnByb3BzLCAkaWNvblJpZ2h0OiAhMCB9KTtcbn1cbmNvbnN0IFJPT1RfU1RZTEUgPSBjc3NgXG4gICY6bm90KFtoaWRkZW5dKSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgfVxuXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5gO1xuZnVuY3Rpb24gdGV4dElucHV0Um9vdFN0eWxlKCkge1xuICByZXR1cm4gUk9PVF9TVFlMRTtcbn1cbmZ1bmN0aW9uIHRleHRJbnB1dEJhc2VTdHlsZShwcm9wcykge1xuICBjb25zdCB7ICRzY2hlbWUsICR0b25lLCAkd2VpZ2h0IH0gPSBwcm9wcywgeyBjb2xvciwgZm9udCB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gY3NzYFxuICAgIGFwcGVhcmFuY2U6IG5vbmU7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBib3JkZXI6IDA7XG4gICAgYm9yZGVyLXJhZGl1czogMDtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgZm9udC1mYW1pbHk6ICR7Zm9udC50ZXh0LmZhbWlseX07XG4gICAgZm9udC13ZWlnaHQ6ICR7JHdlaWdodCAmJiBmb250LnRleHQud2VpZ2h0c1skd2VpZ2h0XSB8fCBmb250LnRleHQud2VpZ2h0cy5yZWd1bGFyfTtcbiAgICBtYXJnaW46IDA7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDE7XG4gICAgZGlzcGxheTogYmxvY2s7XG5cbiAgICAvKiBOT1RFOiBUaGlzIGlzIGEgaGFjayB0byBkaXNhYmxlIENocm9tZeKAmXMgYXV0b2ZpbGwgc3R5bGVzICovXG4gICAgJjotd2Via2l0LWF1dG9maWxsLFxuICAgICY6LXdlYmtpdC1hdXRvZmlsbDpob3ZlcixcbiAgICAmOi13ZWJraXQtYXV0b2ZpbGw6Zm9jdXMsXG4gICAgJjotd2Via2l0LWF1dG9maWxsOmFjdGl2ZSB7XG4gICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdmFyKC0taW5wdXQtZmctY29sb3IpICFpbXBvcnRhbnQ7XG4gICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDUwMDBzO1xuICAgICAgdHJhbnNpdGlvbi1kZWxheTogODY0MDBzIC8qIDI0aCAqLztcbiAgICB9XG5cbiAgICAvKiAmOmlzKHRleHRhcmVhKSAqL1xuICAgICZbZGF0YS1hcz0ndGV4dGFyZWEnXSB7XG4gICAgICByZXNpemU6IG5vbmU7XG4gICAgfVxuXG4gICAgY29sb3I6IHZhcigtLWlucHV0LWZnLWNvbG9yKTtcblxuICAgICY6OnBsYWNlaG9sZGVyIHtcbiAgICAgIGNvbG9yOiB2YXIoLS1pbnB1dC1wbGFjZWhvbGRlci1jb2xvcik7XG4gICAgfVxuXG4gICAgJltkYXRhLXNjaGVtZT0nJHskc2NoZW1lfSddW2RhdGEtdG9uZT0nJHskdG9uZX0nXSB7XG4gICAgICAtLWlucHV0LWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5mZ307XG4gICAgICAtLWlucHV0LXBsYWNlaG9sZGVyLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5wbGFjZWhvbGRlcn07XG5cbiAgICAgIC8qIGVuYWJsZWQgKi9cbiAgICAgICY6bm90KDppbnZhbGlkKTpub3QoOmRpc2FibGVkKTpub3QoOnJlYWQtb25seSkge1xuICAgICAgICAtLWlucHV0LWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5mZ307XG4gICAgICAgIC0taW5wdXQtcGxhY2Vob2xkZXItY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5lbmFibGVkLnBsYWNlaG9sZGVyfTtcbiAgICAgIH1cblxuICAgICAgLyogZGlzYWJsZWQgKi9cbiAgICAgICY6bm90KDppbnZhbGlkKTpkaXNhYmxlZCB7XG4gICAgICAgIC0taW5wdXQtZmctY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5kaXNhYmxlZC5mZ307XG4gICAgICAgIC0taW5wdXQtcGxhY2Vob2xkZXItY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5kaXNhYmxlZC5wbGFjZWhvbGRlcn07XG4gICAgICB9XG5cbiAgICAgIC8qIGludmFsaWQgKi9cbiAgICAgICY6aW52YWxpZCB7XG4gICAgICAgIC0taW5wdXQtZmctY29sb3I6ICR7Y29sb3IuaW5wdXQuaW52YWxpZC5lbmFibGVkLmZnfTtcbiAgICAgICAgLS1pbnB1dC1wbGFjZWhvbGRlci1jb2xvcjogJHtjb2xvci5pbnB1dC5pbnZhbGlkLmVuYWJsZWQucGxhY2Vob2xkZXJ9O1xuICAgICAgfVxuXG4gICAgICAvKiByZWFkT25seSAqL1xuICAgICAgJjpyZWFkLW9ubHkge1xuICAgICAgICAtLWlucHV0LWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQucmVhZE9ubHkuZmd9O1xuICAgICAgICAtLWlucHV0LXBsYWNlaG9sZGVyLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQucmVhZE9ubHkucGxhY2Vob2xkZXJ9O1xuICAgICAgfVxuICAgIH1cbiAgYDtcbn1cbmZ1bmN0aW9uIHRleHRJbnB1dEZvbnRTaXplU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBmb250LCBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRmb250U2l6ZSwgKHNpemVJbmRleCkgPT4ge1xuICAgIGNvbnN0IHNpemUyID0gZm9udC50ZXh0LnNpemVzW3NpemVJbmRleF0gfHwgZm9udC50ZXh0LnNpemVzWzJdO1xuICAgIHJldHVybiB7XG4gICAgICBmb250U2l6ZTogcmVtKHNpemUyLmZvbnRTaXplKSxcbiAgICAgIGxpbmVIZWlnaHQ6IHNpemUyLmxpbmVIZWlnaHQgLyBzaXplMi5mb250U2l6ZVxuICAgIH07XG4gIH0pO1xufVxuZnVuY3Rpb24gdGV4dElucHV0UmVwcmVzZW50YXRpb25TdHlsZShwcm9wcykge1xuICBjb25zdCB7ICRoYXNQcmVmaXgsICRoYXNTdWZmaXgsICRzY2hlbWUsICR0b25lLCAkdW5zdGFibGVEaXNhYmxlRm9jdXNSaW5nIH0gPSBwcm9wcywgeyBjb2xvciwgaW5wdXQgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIGNzc2BcbiAgICAtLWlucHV0LWJveC1zaGFkb3c6IG5vbmU7XG5cbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIHotaW5kZXg6IDA7XG5cbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jYXJkLWJnLWNvbG9yKTtcbiAgICBib3gtc2hhZG93OiB2YXIoLS1pbnB1dC1ib3gtc2hhZG93KTtcblxuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6ICR7JGhhc1ByZWZpeCA/IDAgOiB2b2lkIDB9O1xuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICR7JGhhc1ByZWZpeCA/IDAgOiB2b2lkIDB9O1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAkeyRoYXNTdWZmaXggPyAwIDogdm9pZCAwfTtcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogJHskaGFzU3VmZml4ID8gMCA6IHZvaWQgMH07XG5cbiAgICAmW2RhdGEtc2NoZW1lPSckeyRzY2hlbWV9J11bZGF0YS10b25lPSckeyR0b25lfSddIHtcbiAgICAgIC0tY2FyZC1iZy1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmVuYWJsZWQuYmd9O1xuICAgICAgLS1jYXJkLWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5mZ307XG5cbiAgICAgIC8qIGVuYWJsZWQgKi9cbiAgICAgICo6bm90KDpkaXNhYmxlZCkgKyAmW2RhdGEtYm9yZGVyXSB7XG4gICAgICAgIC0taW5wdXQtYm94LXNoYWRvdzogJHtmb2N1c1JpbmdCb3JkZXJTdHlsZSh7XG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5ib3JkZXIsXG4gICAgd2lkdGg6IGlucHV0LmJvcmRlci53aWR0aFxuICB9KX07XG4gICAgICB9XG5cbiAgICAgIC8qIGludmFsaWQgKi9cbiAgICAgICo6bm90KDpkaXNhYmxlZCk6aW52YWxpZCArICYge1xuICAgICAgICAtLWNhcmQtYmctY29sb3I6ICR7Y29sb3IuaW5wdXQuaW52YWxpZC5lbmFibGVkLmJnfTtcbiAgICAgICAgLS1jYXJkLWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmludmFsaWQuZW5hYmxlZC5mZ307XG5cbiAgICAgICAgJltkYXRhLWJvcmRlcl0ge1xuICAgICAgICAgIC0taW5wdXQtYm94LXNoYWRvdzogJHtmb2N1c1JpbmdCb3JkZXJTdHlsZSh7XG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmludmFsaWQuZW5hYmxlZC5ib3JkZXIsXG4gICAgd2lkdGg6IGlucHV0LmJvcmRlci53aWR0aFxuICB9KX07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogZm9jdXNlZCAqL1xuICAgICAgKjpub3QoOmRpc2FibGVkKTpmb2N1cyArICYge1xuICAgICAgICAmW2RhdGEtYm9yZGVyXSB7XG4gICAgICAgICAgLS1pbnB1dC1ib3gtc2hhZG93OiAkeyR1bnN0YWJsZURpc2FibGVGb2N1c1JpbmcgPyB2b2lkIDAgOiBmb2N1c1JpbmdTdHlsZSh7XG4gICAgYm9yZGVyOiB7IGNvbG9yOiBjb2xvci5pbnB1dC5kZWZhdWx0LmVuYWJsZWQuYm9yZGVyLCB3aWR0aDogaW5wdXQuYm9yZGVyLndpZHRoIH0sXG4gICAgZm9jdXNSaW5nOiBpbnB1dC50ZXh0LmZvY3VzUmluZ1xuICB9KX07XG4gICAgICAgIH1cblxuICAgICAgICAmOm5vdChbZGF0YS1ib3JkZXJdKSB7XG4gICAgICAgICAgLS1pbnB1dC1ib3gtc2hhZG93OiAkeyR1bnN0YWJsZURpc2FibGVGb2N1c1JpbmcgPyB2b2lkIDAgOiBmb2N1c1JpbmdTdHlsZSh7IGZvY3VzUmluZzogaW5wdXQudGV4dC5mb2N1c1JpbmcgfSl9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qIGRpc2FibGVkICovXG4gICAgICAqOm5vdCg6aW52YWxpZCk6ZGlzYWJsZWQgKyAmIHtcbiAgICAgICAgLS1jYXJkLWJnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZGlzYWJsZWQuYmd9ICFpbXBvcnRhbnQ7XG4gICAgICAgIC0tY2FyZC1mZy1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmRpc2FibGVkLmZnfSAhaW1wb3J0YW50O1xuICAgICAgICAtLWNhcmQtaWNvbi1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmRpc2FibGVkLmZnfSAhaW1wb3J0YW50O1xuXG4gICAgICAgICZbZGF0YS1ib3JkZXJdIHtcbiAgICAgICAgICAtLWlucHV0LWJveC1zaGFkb3c6ICR7Zm9jdXNSaW5nQm9yZGVyU3R5bGUoe1xuICAgIGNvbG9yOiBjb2xvci5pbnB1dC5kZWZhdWx0LmRpc2FibGVkLmJvcmRlcixcbiAgICB3aWR0aDogaW5wdXQuYm9yZGVyLndpZHRoXG4gIH0pfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAqOmludmFsaWQ6ZGlzYWJsZWQgKyAmIHtcbiAgICAgICAgLS1jYXJkLWJnLWNvbG9yOiAke2NvbG9yLmlucHV0LmludmFsaWQuZGlzYWJsZWQuYmd9ICFpbXBvcnRhbnQ7XG4gICAgICAgIC0tY2FyZC1mZy1jb2xvcjogJHtjb2xvci5pbnB1dC5pbnZhbGlkLmRpc2FibGVkLmZnfSAhaW1wb3J0YW50O1xuICAgICAgICAtLWNhcmQtaWNvbi1jb2xvcjogJHtjb2xvci5pbnB1dC5pbnZhbGlkLmRpc2FibGVkLmZnfSAhaW1wb3J0YW50O1xuXG4gICAgICAgICZbZGF0YS1ib3JkZXJdIHtcbiAgICAgICAgICAtLWlucHV0LWJveC1zaGFkb3c6ICR7Zm9jdXNSaW5nQm9yZGVyU3R5bGUoe1xuICAgIGNvbG9yOiBjb2xvci5pbnB1dC5pbnZhbGlkLmRpc2FibGVkLmJvcmRlcixcbiAgICB3aWR0aDogaW5wdXQuYm9yZGVyLndpZHRoXG4gIH0pfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiByZWFkT25seSAqL1xuICAgICAgKjpub3QoOmludmFsaWQpOnJlYWQtb25seSArICYge1xuICAgICAgICAtLWNhcmQtYmctY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5yZWFkT25seS5iZ30gIWltcG9ydGFudDtcbiAgICAgICAgLS1jYXJkLWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQucmVhZE9ubHkuZmd9ICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgICo6aW52YWxpZDpyZWFkLW9ubHkgKyAmIHtcbiAgICAgICAgLS1jYXJkLWJnLWNvbG9yOiAke2NvbG9yLmlucHV0LmludmFsaWQucmVhZE9ubHkuYmd9ICFpbXBvcnRhbnQ7XG4gICAgICAgIC0tY2FyZC1mZy1jb2xvcjogJHtjb2xvci5pbnB1dC5pbnZhbGlkLnJlYWRPbmx5LmZnfSAhaW1wb3J0YW50O1xuICAgICAgfVxuXG4gICAgICAvKiBob3ZlcmVkICovXG4gICAgICBAbWVkaWEgKGhvdmVyOiBob3Zlcikge1xuICAgICAgICAqOm5vdCg6ZGlzYWJsZWQpOm5vdCg6cmVhZC1vbmx5KTpub3QoOmludmFsaWQpOmhvdmVyICsgJiB7XG4gICAgICAgICAgLS1jYXJkLWJnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuaG92ZXJlZC5iZ307XG4gICAgICAgICAgLS1jYXJkLWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuaG92ZXJlZC5mZ307XG4gICAgICAgIH1cblxuICAgICAgICAqOmludmFsaWQ6bm90KDpkaXNhYmxlZCk6bm90KDpyZWFkLW9ubHkpOmhvdmVyICsgJiB7XG4gICAgICAgICAgLS1jYXJkLWJnLWNvbG9yOiAke2NvbG9yLmlucHV0LmludmFsaWQuaG92ZXJlZC5iZ307XG4gICAgICAgICAgLS1jYXJkLWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmludmFsaWQuaG92ZXJlZC5mZ307XG4gICAgICAgIH1cblxuICAgICAgICAqOm5vdCg6ZGlzYWJsZWQpOm5vdCg6cmVhZC1vbmx5KTpub3QoOmludmFsaWQpOm5vdCg6Zm9jdXMpOmhvdmVyICsgJltkYXRhLWJvcmRlcl0ge1xuICAgICAgICAgIC0taW5wdXQtYm94LXNoYWRvdzogJHtmb2N1c1JpbmdCb3JkZXJTdHlsZSh7XG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmRlZmF1bHQuaG92ZXJlZC5ib3JkZXIsXG4gICAgd2lkdGg6IGlucHV0LmJvcmRlci53aWR0aFxuICB9KX07XG4gICAgICAgIH1cblxuICAgICAgICAqOmludmFsaWQ6bm90KDpkaXNhYmxlZCk6bm90KDpyZWFkLW9ubHkpOm5vdCg6Zm9jdXMpOmhvdmVyICsgJltkYXRhLWJvcmRlcl0ge1xuICAgICAgICAgIC0taW5wdXQtYm94LXNoYWRvdzogJHtmb2N1c1JpbmdCb3JkZXJTdHlsZSh7XG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmludmFsaWQuaG92ZXJlZC5ib3JkZXIsXG4gICAgd2lkdGg6IGlucHV0LmJvcmRlci53aWR0aFxuICB9KX07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIGA7XG59XG5mdW5jdGlvbiByZXNwb25zaXZlTWFyZ2luU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyB0aGVtZSB9ID0gcHJvcHM7XG4gIHJldHVybiBbXG4gICAgX2dldFJlc3BvbnNpdmVTcGFjZSh0aGVtZSwgW1wibWFyZ2luXCJdLCBwcm9wcy4kbWFyZ2luKSxcbiAgICBfZ2V0UmVzcG9uc2l2ZVNwYWNlKHRoZW1lLCBbXCJtYXJnaW5MZWZ0XCIsIFwibWFyZ2luUmlnaHRcIl0sIHByb3BzLiRtYXJnaW5YKSxcbiAgICBfZ2V0UmVzcG9uc2l2ZVNwYWNlKHRoZW1lLCBbXCJtYXJnaW5Ub3BcIiwgXCJtYXJnaW5Cb3R0b21cIl0sIHByb3BzLiRtYXJnaW5ZKSxcbiAgICBfZ2V0UmVzcG9uc2l2ZVNwYWNlKHRoZW1lLCBbXCJtYXJnaW5Ub3BcIl0sIHByb3BzLiRtYXJnaW5Ub3ApLFxuICAgIF9nZXRSZXNwb25zaXZlU3BhY2UodGhlbWUsIFtcIm1hcmdpblJpZ2h0XCJdLCBwcm9wcy4kbWFyZ2luUmlnaHQpLFxuICAgIF9nZXRSZXNwb25zaXZlU3BhY2UodGhlbWUsIFtcIm1hcmdpbkJvdHRvbVwiXSwgcHJvcHMuJG1hcmdpbkJvdHRvbSksXG4gICAgX2dldFJlc3BvbnNpdmVTcGFjZSh0aGVtZSwgW1wibWFyZ2luTGVmdFwiXSwgcHJvcHMuJG1hcmdpbkxlZnQpXG4gIF0uZmlsdGVyKEJvb2xlYW4pO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZVBhZGRpbmdTdHlsZShwcm9wcykge1xuICBjb25zdCB7IHRoZW1lIH0gPSBwcm9wcztcbiAgcmV0dXJuIFtcbiAgICBfZ2V0UmVzcG9uc2l2ZVNwYWNlKHRoZW1lLCBbXCJwYWRkaW5nXCJdLCBwcm9wcy4kcGFkZGluZyksXG4gICAgX2dldFJlc3BvbnNpdmVTcGFjZSh0aGVtZSwgW1wicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nUmlnaHRcIl0sIHByb3BzLiRwYWRkaW5nWCksXG4gICAgX2dldFJlc3BvbnNpdmVTcGFjZSh0aGVtZSwgW1wicGFkZGluZ1RvcFwiLCBcInBhZGRpbmdCb3R0b21cIl0sIHByb3BzLiRwYWRkaW5nWSksXG4gICAgX2dldFJlc3BvbnNpdmVTcGFjZSh0aGVtZSwgW1wicGFkZGluZ1RvcFwiXSwgcHJvcHMuJHBhZGRpbmdUb3ApLFxuICAgIF9nZXRSZXNwb25zaXZlU3BhY2UodGhlbWUsIFtcInBhZGRpbmdSaWdodFwiXSwgcHJvcHMuJHBhZGRpbmdSaWdodCksXG4gICAgX2dldFJlc3BvbnNpdmVTcGFjZSh0aGVtZSwgW1wicGFkZGluZ0JvdHRvbVwiXSwgcHJvcHMuJHBhZGRpbmdCb3R0b20pLFxuICAgIF9nZXRSZXNwb25zaXZlU3BhY2UodGhlbWUsIFtcInBhZGRpbmdMZWZ0XCJdLCBwcm9wcy4kcGFkZGluZ0xlZnQpXG4gIF0uZmlsdGVyKEJvb2xlYW4pO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZVJhZGl1c1N0eWxlKHByb3BzKSB7XG4gIGNvbnN0IHsgbWVkaWEsIHJhZGl1cyB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRyYWRpdXMsICh2YWx1ZSkgPT4ge1xuICAgIGxldCBib3JkZXJSYWRpdXMgPSAwO1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIiAmJiAoYm9yZGVyUmFkaXVzID0gcmVtKHJhZGl1c1t2YWx1ZV0pKSwgdmFsdWUgPT09IFwiZnVsbFwiICYmIChib3JkZXJSYWRpdXMgPSBcIjk5OTlweFwiKSwgeyBib3JkZXJSYWRpdXMgfTtcbiAgfSk7XG59XG5mdW5jdGlvbiB0b0JveFNoYWRvdyhzaGFkb3csIGNvbG9yKSB7XG4gIHJldHVybiBgJHtzaGFkb3cubWFwKHJlbSkuam9pbihcIiBcIil9ICR7Y29sb3J9YDtcbn1cbmZ1bmN0aW9uIHNoYWRvd1N0eWxlKHNoYWRvdywgb3V0bGluZVdpZHRoID0gMSkge1xuICBpZiAoIXNoYWRvdykgcmV0dXJuIEVNUFRZX1JFQ09SRDtcbiAgY29uc3Qgb3V0bGluZSA9IGAwIDAgMCAke3JlbShvdXRsaW5lV2lkdGgpfSB2YXIoLS1jYXJkLXNoYWRvdy1vdXRsaW5lLWNvbG9yKWAsIHVtYnJhID0gdG9Cb3hTaGFkb3coc2hhZG93LnVtYnJhLCBcInZhcigtLWNhcmQtc2hhZG93LXVtYnJhLWNvbG9yKVwiKSwgcGVudW1icmEgPSB0b0JveFNoYWRvdyhzaGFkb3cucGVudW1icmEsIFwidmFyKC0tY2FyZC1zaGFkb3ctcGVudW1icmEtY29sb3IpXCIpLCBhbWJpZW50ID0gdG9Cb3hTaGFkb3coc2hhZG93LmFtYmllbnQsIFwidmFyKC0tY2FyZC1zaGFkb3ctYW1iaWVudC1jb2xvcilcIik7XG4gIHJldHVybiB7IGJveFNoYWRvdzogYCR7b3V0bGluZX0sICR7dW1icmF9LCAke3BlbnVtYnJhfSwgJHthbWJpZW50fWAgfTtcbn1cbmZ1bmN0aW9uIHJlc3BvbnNpdmVTaGFkb3dTdHlsZShwcm9wcykge1xuICBjb25zdCB7IGNhcmQsIG1lZGlhLCBzaGFkb3cgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKFxuICAgIG1lZGlhLFxuICAgIHByb3BzLiRzaGFkb3csXG4gICAgKGluZGV4KSA9PiBzaGFkb3dTdHlsZShzaGFkb3dbaW5kZXhdLCBjYXJkLnNoYWRvdy5vdXRsaW5lKVxuICApO1xufVxuZnVuY3Rpb24gbGFiZWxCYXNlU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyAkYWNjZW50LCAkbXV0ZWQgfSA9IHByb3BzLCB7IGZvbnQgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIGNzc2BcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuXG4gICAgJHskYWNjZW50ICYmIGNzc2BcbiAgICAgIGNvbG9yOiB2YXIoLS1jYXJkLWFjY2VudC1mZy1jb2xvcik7XG4gICAgYH1cblxuICAgICR7JG11dGVkICYmIGNzc2BcbiAgICAgIGNvbG9yOiB2YXIoLS1jYXJkLW11dGVkLWZnLWNvbG9yKTtcbiAgICBgfVxuXG4gICAgJiBjb2RlIHtcbiAgICAgIGZvbnQtZmFtaWx5OiAke2ZvbnQuY29kZS5mYW1pbHl9O1xuICAgICAgYm9yZGVyLXJhZGl1czogMXB4O1xuICAgIH1cblxuICAgICYgYSB7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICBib3JkZXItcmFkaXVzOiAxcHg7XG4gICAgfVxuXG4gICAgJiBzdmcge1xuICAgICAgLyogQ2VydGFpbiBwb3B1bGFyIENTUyBsaWJyYXJpZXMgY2hhbmdlcyB0aGUgZGVmYXVsdHMgZm9yIFNWRyBkaXNwbGF5ICovXG4gICAgICAvKiBNYWtlIHN1cmUgU1ZHcyBhcmUgcmVuZGVyZWQgYXMgaW5saW5lIGVsZW1lbnRzICovXG4gICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgfVxuXG4gICAgJiBbZGF0YS1zYW5pdHktaWNvbl0ge1xuICAgICAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xuICAgIH1cbiAgYDtcbn1cbmNvbnN0IFJvb3QkQyA9IHN0eWxlZC5kaXYocmVzcG9uc2l2ZUxhYmVsRm9udCwgcmVzcG9uc2l2ZVRleHRBbGlnblN0eWxlLCBsYWJlbEJhc2VTdHlsZSksIFNwYW5XaXRoVGV4dE92ZXJmbG93JDIgPSBzdHlsZWQuc3BhbmBcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBvdmVyZmxvdzogY2xpcDtcbmAsIExhYmVsID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIGNvbnN0IHtcbiAgICBhY2NlbnQsXG4gICAgYWxpZ24sXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuUHJvcCxcbiAgICBtdXRlZCA9ICExLFxuICAgIHNpemU6IHNpemUyID0gMixcbiAgICB0ZXh0T3ZlcmZsb3csXG4gICAgd2VpZ2h0LFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHM7XG4gIGxldCBjaGlsZHJlbiA9IGNoaWxkcmVuUHJvcDtcbiAgcmV0dXJuIHRleHRPdmVyZmxvdyA9PT0gXCJlbGxpcHNpc1wiID8gY2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8ganN4KFNwYW5XaXRoVGV4dE92ZXJmbG93JDIsIHsgY2hpbGRyZW4gfSkgOiBjaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgY2hpbGRyZW4gfSksIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgUm9vdCRDLFxuICAgIHtcbiAgICAgIFwiZGF0YS11aVwiOiBcIkxhYmVsXCIsXG4gICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICAkYWNjZW50OiBhY2NlbnQsXG4gICAgICAkYWxpZ246IHVzZUFycmF5UHJvcChhbGlnbiksXG4gICAgICAkbXV0ZWQ6IG11dGVkLFxuICAgICAgJHNpemU6IHVzZUFycmF5UHJvcChzaXplMiksXG4gICAgICAkd2VpZ2h0OiB3ZWlnaHQsXG4gICAgICByZWYsXG4gICAgICBjaGlsZHJlblxuICAgIH1cbiAgKTtcbn0pLCBhdmF0YXJTdHlsZSA9IHtcbiAgcm9vdDogYXZhdGFyUm9vdFN0eWxlLFxuICBhcnJvdzogYXZhdGFyQXJyb3dTdHlsZSxcbiAgYmdTdHJva2U6IGF2YXRhckJnU3Ryb2tlU3R5bGUsXG4gIHN0cm9rZTogYXZhdGFyU3Ryb2tlU3R5bGUsXG4gIGluaXRpYWxzOiBhdmF0YXJJbml0aWFsc1N0eWxlLFxuICBpbWFnZTogYXZhdGFySW1hZ2VTdHlsZVxufTtcbmZ1bmN0aW9uIGF2YXRhckFycm93U3R5bGUoKSB7XG4gIHJldHVybiB7XG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgIHpJbmRleDogMCxcbiAgICBvcGFjaXR5OiAwLFxuICAgIHRyYW5zaXRpb246IFwiYWxsIDAuMnMgbGluZWFyXCIsXG4gICAgdHJhbnNmb3JtOiBcInJvdGF0ZSgtOTBkZWcpIHRyYW5zbGF0ZTNkKDAsIDZweCwgMClcIixcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIHRvcDogMCxcbiAgICBib3R0b206IDAsXG4gICAgXCImID4gc3ZnXCI6IHtcbiAgICAgIHdpZHRoOiBcIjExcHhcIixcbiAgICAgIGhlaWdodDogXCI3cHhcIixcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICB0b3A6IFwiLTVweFwiLFxuICAgICAgbGVmdDogXCI1MCVcIixcbiAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKC02cHgpXCIsXG4gICAgICBcIiY6bm90KFtoaWRkZW5dKVwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJbZGF0YS1hcnJvdy1wb3NpdGlvbj0naW5zaWRlJ10gPiAmXCI6IHtcbiAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGUoLTkwZGVnKSB0cmFuc2xhdGUzZCgwLCA2cHgsIDApXCIsXG4gICAgICBvcGFjaXR5OiAwXG4gICAgfSxcbiAgICBcIltkYXRhLWFycm93LXBvc2l0aW9uPSd0b3AnXSA+ICZcIjoge1xuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGUoMGRlZylcIlxuICAgIH0sXG4gICAgXCJbZGF0YS1hcnJvdy1wb3NpdGlvbj0nYm90dG9tJ10gPiAmXCI6IHtcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICB0cmFuc2Zvcm06IFwicm90YXRlKC0xODBkZWcpXCJcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBhdmF0YXJSb290U3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyAkY29sb3IgfSA9IHByb3BzLCB7IGF2YXRhciB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4ge1xuICAgIFwiLS1hdmF0YXItYmctY29sb3JcIjogYHZhcigtLWNhcmQtYXZhdGFyLSR7JGNvbG9yfS1iZy1jb2xvcilgLFxuICAgIFwiLS1hdmF0YXItZmctY29sb3JcIjogYHZhcigtLWNhcmQtYXZhdGFyLSR7JGNvbG9yfS1mZy1jb2xvcilgLFxuICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1hdmF0YXItYmctY29sb3IpXCIsXG4gICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgIGJveFNoYWRvdzogXCIwIDAgMCAxcHggdmFyKC0tY2FyZC1iZy1jb2xvcilcIixcbiAgICAnJltkYXRhLXN0YXR1cz1cImluYWN0aXZlXCJdJzoge1xuICAgICAgb3BhY2l0eTogMC41XG4gICAgfSxcbiAgICBcIiY+c3ZnXCI6IHtcbiAgICAgIFwiJjpub3QoW2hpZGRlbl0pXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiXG4gICAgICB9XG4gICAgfSxcbiAgICAvKiAmOmlzKGJ1dHRvbikgKi9cbiAgICAnJltkYXRhLWFzPVwiYnV0dG9uXCJdJzoge1xuICAgICAgV2Via2l0Rm9udFNtb290aGluZzogXCJpbmhlcml0XCIsXG4gICAgICBhcHBlYXJhbmNlOiBcIm5vbmVcIixcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICBib3JkZXI6IDAsXG4gICAgICBmb250OiBcImluaGVyaXRcIixcbiAgICAgIGNvbG9yOiBcImluaGVyaXRcIixcbiAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgXCImOmZvY3VzXCI6IHtcbiAgICAgICAgYm94U2hhZG93OiBmb2N1c1JpbmdTdHlsZSh7IGZvY3VzUmluZzogYXZhdGFyLmZvY3VzUmluZyB9KVxuICAgICAgfSxcbiAgICAgIFwiJjpmb2N1czpub3QoOmZvY3VzLXZpc2libGUpXCI6IHtcbiAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIlxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc3BvbnNpdmVBdmF0YXJTaXplU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBhdmF0YXIsIG1lZGlhIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBfcmVzcG9uc2l2ZShtZWRpYSwgcHJvcHMuJHNpemUsIChzaXplMikgPT4ge1xuICAgIGNvbnN0IGF2YXRhclNpemUgPSBhdmF0YXIuc2l6ZXNbc2l6ZTJdIHx8IGF2YXRhci5zaXplc1swXTtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IHJlbShhdmF0YXJTaXplLnNpemUpLFxuICAgICAgaGVpZ2h0OiByZW0oYXZhdGFyU2l6ZS5zaXplKSxcbiAgICAgIGJvcmRlclJhZGl1czogcmVtKGF2YXRhclNpemUuc2l6ZSAvIDIpLFxuICAgICAgXCImPnN2Z1wiOiB7XG4gICAgICAgIHdpZHRoOiByZW0oYXZhdGFyU2l6ZS5zaXplKSxcbiAgICAgICAgaGVpZ2h0OiByZW0oYXZhdGFyU2l6ZS5zaXplKSxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiByZW0oYXZhdGFyU2l6ZS5zaXplIC8gMilcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIGF2YXRhckltYWdlU3R5bGUoKSB7XG4gIHJldHVybiB7XG4gICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICB9O1xufVxuZnVuY3Rpb24gYXZhdGFySW5pdGlhbHNTdHlsZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICBjb2xvcjogXCJ2YXIoLS1hdmF0YXItZmctY29sb3IpXCIsXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICB0ZXh0VHJhbnNmb3JtOiBcInVwcGVyY2FzZVwiLFxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG4gICAgXCImOm5vdChbaGlkZGVuXSlcIjoge1xuICAgICAgZGlzcGxheTogXCJmbGV4XCJcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBhdmF0YXJCZ1N0cm9rZVN0eWxlKCkge1xuICByZXR1cm4ge1xuICAgIHN0cm9rZVdpZHRoOiBcIjRweFwiLFxuICAgIHN0cm9rZTogXCJ2YXIoLS1jYXJkLWJnLWNvbG9yKVwiXG4gIH07XG59XG5mdW5jdGlvbiBhdmF0YXJTdHJva2VTdHlsZSgpIHtcbiAgcmV0dXJuIHtcbiAgICBzdHJva2VXaWR0aDogXCIycHhcIixcbiAgICBzdHJva2U6IFwidmFyKC0tYXZhdGFyLWJnLWNvbG9yKVwiLFxuICAgICdbZGF0YS1zdGF0dXM9XCJlZGl0aW5nXCJdICYnOiB7XG4gICAgICBzdHJva2VEYXNoYXJyYXk6IFwiMiA0XCIsXG4gICAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCJcbiAgICB9XG4gIH07XG59XG5jb25zdCBSb290JEIgPSBzdHlsZWQuZGl2KFxuICByZXNwb25zaXZlQXZhdGFyU2l6ZVN0eWxlLFxuICBhdmF0YXJTdHlsZS5yb290XG4pLCBBcnJvdyQxID0gc3R5bGVkLmRpdihhdmF0YXJTdHlsZS5hcnJvdyksIEJnU3Ryb2tlID0gc3R5bGVkLmVsbGlwc2UoYXZhdGFyU3R5bGUuYmdTdHJva2UpLCBTdHJva2UgPSBzdHlsZWQuZWxsaXBzZShhdmF0YXJTdHlsZS5zdHJva2UpLCBJbml0aWFscyA9IHN0eWxlZC5kaXYoYXZhdGFyU3R5bGUuaW5pdGlhbHMpLCBJbml0aWFsc0xhYmVsID0gc3R5bGVkKExhYmVsKSh7XG4gIGNvbG9yOiBcImluaGVyaXRcIlxufSksIEltYWdlID0gc3R5bGVkLnN2ZyhhdmF0YXJTdHlsZS5pbWFnZSksIEF2YXRhciA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7XG4gICAgX191bnN0YWJsZV9oaWRlSW5uZXJTdHJva2UsXG4gICAgYXM6IGFzUHJvcCxcbiAgICBjb2xvciA9IFwiZ3JheVwiLFxuICAgIHNyYyxcbiAgICB0aXRsZSxcbiAgICBpbml0aWFscyxcbiAgICBvbkltYWdlTG9hZEVycm9yLFxuICAgIGFycm93UG9zaXRpb246IGFycm93UG9zaXRpb25Qcm9wLFxuICAgIGFuaW1hdGVBcnJvd0Zyb20sXG4gICAgc3RhdHVzID0gXCJvbmxpbmVcIixcbiAgICBzaXplOiBzaXplUHJvcCA9IDEsXG4gICAgLi4ucmVzdFByb3BzXG4gIH0gPSBwcm9wcywgeyBhdmF0YXIgfSA9IHVzZVRoZW1lX3YyKCksIGFzID0gUmVhY3RJcy5pc1ZhbGlkRWxlbWVudFR5cGUoYXNQcm9wKSA/IGFzUHJvcCA6IFwiZGl2XCIsIHNpemUyID0gdXNlQXJyYXlQcm9wKHNpemVQcm9wKSwgX3NpemVSZW0gPSAoYXZhdGFyLnNpemVzW3NpemUyWzBdXSB8fCBhdmF0YXIuc2l6ZXNbMF0pLnNpemUsIF9yYWRpdXMgPSBfc2l6ZVJlbSAvIDIsIGVsZW1lbnRJZCA9IHVzZUlkKCksIFthcnJvd1Bvc2l0aW9uLCBzZXRBcnJvd1Bvc2l0aW9uXSA9IHVzZVN0YXRlKFxuICAgIGFuaW1hdGVBcnJvd0Zyb20gfHwgYXJyb3dQb3NpdGlvblByb3AgfHwgXCJpbnNpZGVcIlxuICApLCBbaW1hZ2VGYWlsZWQsIHNldEltYWdlRmFpbGVkXSA9IHVzZVN0YXRlKCExKSwgaW1hZ2VJZCA9IGBhdmF0YXItaW1hZ2UtJHtlbGVtZW50SWR9YDtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYXJyb3dQb3NpdGlvbiA9PT0gYXJyb3dQb3NpdGlvblByb3ApIHJldHVybjtcbiAgICBjb25zdCByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gc2V0QXJyb3dQb3NpdGlvbihhcnJvd1Bvc2l0aW9uUHJvcCkpO1xuICAgIHJldHVybiAoKSA9PiBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICB9LCBbYXJyb3dQb3NpdGlvbiwgYXJyb3dQb3NpdGlvblByb3BdKSwgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzcmMgJiYgc2V0SW1hZ2VGYWlsZWQoITEpO1xuICB9LCBbc3JjXSk7XG4gIGNvbnN0IGhhbmRsZUltYWdlRXJyb3IgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SW1hZ2VGYWlsZWQoITApLCBvbkltYWdlTG9hZEVycm9yICYmIG9uSW1hZ2VMb2FkRXJyb3IobmV3IEVycm9yKFwiQXZhdGFyOiB0aGUgaW1hZ2UgZmFpbGVkIHRvIGxvYWRcIikpO1xuICB9LCBbb25JbWFnZUxvYWRFcnJvcl0pLCBpbml0aWFsc1NpemUgPSB1c2VNZW1vKFxuICAgICgpID0+IHNpemUyLm1hcCgocykgPT4gcyA9PT0gMSA/IDEgOiBzID09PSAyID8gMyA6IHMgPT09IDMgPyA1IDogMCksXG4gICAgW3NpemUyXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgUm9vdCRCLFxuICAgIHtcbiAgICAgIGFzLFxuICAgICAgXCJkYXRhLWFzXCI6IHR5cGVvZiBhcyA9PSBcInN0cmluZ1wiID8gYXMgOiB2b2lkIDAsXG4gICAgICBcImRhdGEtdWlcIjogXCJBdmF0YXJcIixcbiAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgICRjb2xvcjogY29sb3IsXG4gICAgICAkc2l6ZTogc2l6ZTIsXG4gICAgICBcImFyaWEtbGFiZWxcIjogdGl0bGUsXG4gICAgICBcImRhdGEtYXJyb3ctcG9zaXRpb25cIjogYXJyb3dQb3NpdGlvbixcbiAgICAgIFwiZGF0YS1zdGF0dXNcIjogc3RhdHVzLFxuICAgICAgcmVmLFxuICAgICAgdGl0bGUsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KEFycm93JDEsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzdmdcIiwgeyB3aWR0aDogXCIxMVwiLCBoZWlnaHQ6IFwiN1wiLCB2aWV3Qm94OiBcIjAgMCAxMSA3XCIsIGZpbGw6IFwibm9uZVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkOiBcIk02LjY3OTQ4IDEuNTAxMTVMMTEgN0wwIDdMNC4zMjA1MiAxLjUwMTE1QzQuOTIxMDkgMC43MzY3OTYgNi4wNzg5MSAwLjczNjc5NSA2LjY3OTQ4IDEuNTAxMTVaXCIsXG4gICAgICAgICAgICBmaWxsOiBjb2xvclxuICAgICAgICAgIH1cbiAgICAgICAgKSB9KSB9KSxcbiAgICAgICAgIWltYWdlRmFpbGVkICYmIHNyYyAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhJbWFnZSwgeyB2aWV3Qm94OiBgMCAwICR7X3NpemVSZW19ICR7X3NpemVSZW19YCwgZmlsbDogXCJub25lXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImRlZnNcIiwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcInBhdHRlcm5cIiwgeyBpZDogaW1hZ2VJZCwgcGF0dGVybkNvbnRlbnRVbml0czogXCJvYmplY3RCb3VuZGluZ0JveFwiLCB3aWR0aDogXCIxXCIsIGhlaWdodDogXCIxXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgXCJpbWFnZVwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBocmVmOiBzcmMsXG4gICAgICAgICAgICAgIHdpZHRoOiBcIjFcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjFcIixcbiAgICAgICAgICAgICAgb25FcnJvcjogaGFuZGxlSW1hZ2VFcnJvclxuICAgICAgICAgICAgfVxuICAgICAgICAgICkgfSkgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImNpcmNsZVwiLCB7IGN4OiBfcmFkaXVzLCBjeTogX3JhZGl1cywgcjogX3JhZGl1cywgZmlsbDogYHVybCgjJHtpbWFnZUlkfSlgIH0pLFxuICAgICAgICAgICFfX3Vuc3RhYmxlX2hpZGVJbm5lclN0cm9rZSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgQmdTdHJva2UsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGN4OiBfcmFkaXVzLFxuICAgICAgICAgICAgICBjeTogX3JhZGl1cyxcbiAgICAgICAgICAgICAgcng6IF9yYWRpdXMsXG4gICAgICAgICAgICAgIHJ5OiBfcmFkaXVzLFxuICAgICAgICAgICAgICB2ZWN0b3JFZmZlY3Q6IFwibm9uLXNjYWxpbmctc3Ryb2tlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICBTdHJva2UsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGN4OiBfcmFkaXVzLFxuICAgICAgICAgICAgICBjeTogX3JhZGl1cyxcbiAgICAgICAgICAgICAgcng6IF9yYWRpdXMsXG4gICAgICAgICAgICAgIHJ5OiBfcmFkaXVzLFxuICAgICAgICAgICAgICB2ZWN0b3JFZmZlY3Q6IFwibm9uLXNjYWxpbmctc3Ryb2tlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIF0gfSksXG4gICAgICAgIChpbWFnZUZhaWxlZCB8fCAhc3JjKSAmJiBpbml0aWFscyAmJiAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEluaXRpYWxzLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEluaXRpYWxzTGFiZWwsIHsgZm9yd2FyZGVkQXM6IFwic3BhblwiLCBzaXplOiBpbml0aWFsc1NpemUsIHdlaWdodDogXCJtZWRpdW1cIiwgY2hpbGRyZW46IGluaXRpYWxzIH0pIH0pIH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufSk7XG5mdW5jdGlvbiBfcmVzcG9uc2l2ZUF2YXRhckNvdW50ZXJTaXplU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBhdmF0YXIsIG1lZGlhIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBfcmVzcG9uc2l2ZShtZWRpYSwgcHJvcHMuJHNpemUsIChzaXplMikgPT4ge1xuICAgIGNvbnN0IGF2YXRhclNpemUgPSBhdmF0YXIuc2l6ZXNbc2l6ZTJdO1xuICAgIHJldHVybiBhdmF0YXJTaXplID8ge1xuICAgICAgYm9yZGVyUmFkaXVzOiByZW0oYXZhdGFyU2l6ZS5zaXplIC8gMiksXG4gICAgICBtaW5XaWR0aDogcmVtKGF2YXRhclNpemUuc2l6ZSksXG4gICAgICBoZWlnaHQ6IHJlbShhdmF0YXJTaXplLnNpemUpXG4gICAgfSA6IEVNUFRZX1JFQ09SRDtcbiAgfSk7XG59XG5mdW5jdGlvbiBfYXZhdGFyQ291bnRlckJhc2VTdHlsZShwcm9wcykge1xuICBjb25zdCB7IHNwYWNlIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBjc3NgXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIGNvbG9yOiBpbmhlcml0O1xuICAgIGNvbG9yOiB2YXIoLS1jYXJkLWZnLWNvbG9yKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jYXJkLWJnLWNvbG9yKTtcbiAgICBib3gtc2hhZG93OlxuICAgICAgMCAwIDAgMXB4IHZhcigtLWNhcmQtYmctY29sb3IpLFxuICAgICAgaW5zZXQgMCAwIDAgMXB4IHZhcigtLWNhcmQtaGFpcmxpbmUtaGFyZC1jb2xvcik7XG4gICAgcGFkZGluZzogMCAke3JlbShzcGFjZVsyXSl9O1xuXG4gICAgJjpub3QoW2hpZGRlbl0pIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgfVxuICBgO1xufVxuY29uc3QgUm9vdCRBID0gc3R5bGVkLmRpdihcbiAgX3Jlc3BvbnNpdmVBdmF0YXJDb3VudGVyU2l6ZVN0eWxlLFxuICBfYXZhdGFyQ291bnRlckJhc2VTdHlsZVxuKSwgQXZhdGFyQ291bnRlciA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7IGNvdW50LCBzaXplOiBzaXplUHJvcCA9IDEgfSA9IHByb3BzLCBzaXplMiA9IHVzZUFycmF5UHJvcChzaXplUHJvcCksIGZvbnRTaXplMiA9IHVzZU1lbW8oXG4gICAgKCkgPT4gc2l6ZTIubWFwKChzKSA9PiBzID09PSAxID8gMSA6IHMgPT09IDIgPyAzIDogcyA9PT0gMyA/IDUgOiAwKSxcbiAgICBbc2l6ZTJdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFJvb3QkQSwgeyAkc2l6ZTogc2l6ZTIsIFwiZGF0YS11aVwiOiBcIkF2YXRhckNvdW50ZXJcIiwgcmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChMYWJlbCwgeyBhczogXCJzcGFuXCIsIHNpemU6IGZvbnRTaXplMiwgd2VpZ2h0OiBcIm1lZGl1bVwiLCBjaGlsZHJlbjogY291bnQgfSkgfSk7XG59KSwgQkFTRV9TVFlMRVMgPSBjc3NgXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG5cbiAgJiA+IGRpdiB7XG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcblxuICAgICY6bm90KFtoaWRkZW5dKSB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgfVxuICB9XG5gO1xuZnVuY3Rpb24gYXZhdGFyU3RhY2tTdHlsZSgpIHtcbiAgcmV0dXJuIEJBU0VfU1RZTEVTO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUF2YXRhclN0YWNrU2l6ZVN0eWxlKHByb3BzKSB7XG4gIGNvbnN0IHsgYXZhdGFyLCBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRzaXplLCAoc2l6ZTIpID0+IHtcbiAgICBjb25zdCBhdmF0YXJTaXplID0gYXZhdGFyLnNpemVzW3NpemUyXTtcbiAgICByZXR1cm4gYXZhdGFyU2l6ZSA/IHtcbiAgICAgIFwiJiA+IGRpdiArIGRpdlwiOiB7XG4gICAgICAgIG1hcmdpbkxlZnQ6IHJlbShhdmF0YXJTaXplLmRpc3RhbmNlKVxuICAgICAgfVxuICAgIH0gOiBFTVBUWV9SRUNPUkQ7XG4gIH0pO1xufVxuY29uc3QgUm9vdCR6ID0gc3R5bGVkLmRpdihyZXNwb25zaXZlQXZhdGFyU3RhY2tTaXplU3R5bGUsIGF2YXRhclN0YWNrU3R5bGUpLCBBdmF0YXJTdGFjayA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW46IGNoaWxkcmVuUHJvcCxcbiAgICBtYXhMZW5ndGg6IG1heExlbmd0aFByb3AgPSA0LFxuICAgIHNpemU6IHNpemVQcm9wID0gMSxcbiAgICAuLi5yZXN0UHJvcHNcbiAgfSA9IHByb3BzLCBjaGlsZHJlbiA9IHVzZU1lbW8oXG4gICAgKCkgPT4gQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlblByb3ApLmZpbHRlcihpc1ZhbGlkRWxlbWVudCksXG4gICAgW2NoaWxkcmVuUHJvcF1cbiAgKSwgbWF4TGVuZ3RoID0gTWF0aC5tYXgobWF4TGVuZ3RoUHJvcCwgMCksIHNpemUyID0gdXNlQXJyYXlQcm9wKHNpemVQcm9wKSwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoLCB2aXNpYmxlQ291bnQgPSBtYXhMZW5ndGggLSAxLCBleHRyYUNvdW50ID0gbGVuIC0gdmlzaWJsZUNvdW50LCB2aXNpYmxlQ2hpbGRyZW4gPSBleHRyYUNvdW50ID4gMSA/IGNoaWxkcmVuLnNsaWNlKGV4dHJhQ291bnQsIGxlbikgOiBjaGlsZHJlbjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFJvb3QkeiwgeyBcImRhdGEtdWlcIjogXCJBdmF0YXJTdGFja1wiLCAuLi5yZXN0UHJvcHMsIHJlZiwgJHNpemU6IHNpemUyLCBjaGlsZHJlbjogW1xuICAgIGxlbiA9PT0gMCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQXZhdGFyQ291bnRlciwgeyBjb3VudDogbGVuLCBzaXplOiBzaXplMiB9KSB9KSxcbiAgICBsZW4gIT09IDAgJiYgZXh0cmFDb3VudCA+IDEgJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEF2YXRhckNvdW50ZXIsIHsgY291bnQ6IGV4dHJhQ291bnQsIHNpemU6IHNpemUyIH0pIH0pLFxuICAgIHZpc2libGVDaGlsZHJlbi5tYXAoKGNoaWxkLCBjaGlsZEluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IGNsb25lRWxlbWVudChjaGlsZCwgeyBzaXplOiBzaXplMiB9KSB9LCBTdHJpbmcoY2hpbGRJbmRleCkpKVxuICBdIH0pO1xufSksIFJvb3QkeSA9IHN0eWxlZC5kaXYoXG4gIGJveFN0eWxlLFxuICBmbGV4SXRlbVN0eWxlLFxuICByZXNwb25zaXZlQm94U3R5bGUsXG4gIHJlc3BvbnNpdmVHcmlkSXRlbVN0eWxlLFxuICByZXNwb25zaXZlTWFyZ2luU3R5bGUsXG4gIHJlc3BvbnNpdmVQYWRkaW5nU3R5bGVcbiksIEJveCA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7XG4gICAgYXM6IGFzUHJvcCA9IFwiZGl2XCIsXG4gICAgY29sdW1uLFxuICAgIGNvbHVtblN0YXJ0LFxuICAgIGNvbHVtbkVuZCxcbiAgICBkaXNwbGF5ID0gXCJibG9ja1wiLFxuICAgIGZsZXgsXG4gICAgaGVpZ2h0LFxuICAgIG1hcmdpbiA9IDAsXG4gICAgbWFyZ2luWCxcbiAgICBtYXJnaW5ZLFxuICAgIG1hcmdpblRvcCxcbiAgICBtYXJnaW5SaWdodCxcbiAgICBtYXJnaW5Cb3R0b20sXG4gICAgbWFyZ2luTGVmdCxcbiAgICBvdmVyZmxvdyxcbiAgICBwYWRkaW5nID0gMCxcbiAgICBwYWRkaW5nWCxcbiAgICBwYWRkaW5nWSxcbiAgICBwYWRkaW5nVG9wLFxuICAgIHBhZGRpbmdSaWdodCxcbiAgICBwYWRkaW5nQm90dG9tLFxuICAgIHBhZGRpbmdMZWZ0LFxuICAgIHJvdyxcbiAgICByb3dTdGFydCxcbiAgICByb3dFbmQsXG4gICAgc2l6aW5nLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFJvb3QkeSxcbiAgICB7XG4gICAgICBcImRhdGEtYXNcIjogdHlwZW9mIGFzUHJvcCA9PSBcInN0cmluZ1wiID8gYXNQcm9wIDogdm9pZCAwLFxuICAgICAgXCJkYXRhLXVpXCI6IFwiQm94XCIsXG4gICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICAkY29sdW1uOiB1c2VBcnJheVByb3AoY29sdW1uKSxcbiAgICAgICRjb2x1bW5TdGFydDogdXNlQXJyYXlQcm9wKGNvbHVtblN0YXJ0KSxcbiAgICAgICRjb2x1bW5FbmQ6IHVzZUFycmF5UHJvcChjb2x1bW5FbmQpLFxuICAgICAgJGRpc3BsYXk6IHVzZUFycmF5UHJvcChkaXNwbGF5KSxcbiAgICAgICRmbGV4OiB1c2VBcnJheVByb3AoZmxleCksXG4gICAgICAkaGVpZ2h0OiB1c2VBcnJheVByb3AoaGVpZ2h0KSxcbiAgICAgICRtYXJnaW46IHVzZUFycmF5UHJvcChtYXJnaW4pLFxuICAgICAgJG1hcmdpblg6IHVzZUFycmF5UHJvcChtYXJnaW5YKSxcbiAgICAgICRtYXJnaW5ZOiB1c2VBcnJheVByb3AobWFyZ2luWSksXG4gICAgICAkbWFyZ2luVG9wOiB1c2VBcnJheVByb3AobWFyZ2luVG9wKSxcbiAgICAgICRtYXJnaW5SaWdodDogdXNlQXJyYXlQcm9wKG1hcmdpblJpZ2h0KSxcbiAgICAgICRtYXJnaW5Cb3R0b206IHVzZUFycmF5UHJvcChtYXJnaW5Cb3R0b20pLFxuICAgICAgJG1hcmdpbkxlZnQ6IHVzZUFycmF5UHJvcChtYXJnaW5MZWZ0KSxcbiAgICAgICRvdmVyZmxvdzogdXNlQXJyYXlQcm9wKG92ZXJmbG93KSxcbiAgICAgICRwYWRkaW5nOiB1c2VBcnJheVByb3AocGFkZGluZyksXG4gICAgICAkcGFkZGluZ1g6IHVzZUFycmF5UHJvcChwYWRkaW5nWCksXG4gICAgICAkcGFkZGluZ1k6IHVzZUFycmF5UHJvcChwYWRkaW5nWSksXG4gICAgICAkcGFkZGluZ1RvcDogdXNlQXJyYXlQcm9wKHBhZGRpbmdUb3ApLFxuICAgICAgJHBhZGRpbmdSaWdodDogdXNlQXJyYXlQcm9wKHBhZGRpbmdSaWdodCksXG4gICAgICAkcGFkZGluZ0JvdHRvbTogdXNlQXJyYXlQcm9wKHBhZGRpbmdCb3R0b20pLFxuICAgICAgJHBhZGRpbmdMZWZ0OiB1c2VBcnJheVByb3AocGFkZGluZ0xlZnQpLFxuICAgICAgJHJvdzogdXNlQXJyYXlQcm9wKHJvdyksXG4gICAgICAkcm93U3RhcnQ6IHVzZUFycmF5UHJvcChyb3dTdGFydCksXG4gICAgICAkcm93RW5kOiB1c2VBcnJheVByb3Aocm93RW5kKSxcbiAgICAgICRzaXppbmc6IHVzZUFycmF5UHJvcChzaXppbmcpLFxuICAgICAgYXM6IGFzUHJvcCxcbiAgICAgIHJlZixcbiAgICAgIGNoaWxkcmVuOiBwcm9wcy5jaGlsZHJlblxuICAgIH1cbiAgKTtcbn0pO1xuZnVuY3Rpb24gdGV4dEJhc2VTdHlsZShwcm9wcykge1xuICBjb25zdCB7ICRhY2NlbnQsICRtdXRlZCB9ID0gcHJvcHMsIHsgZm9udCB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gY3NzYFxuICAgIGNvbG9yOiB2YXIoLS1jYXJkLWZnLWNvbG9yKTtcblxuICAgICR7JGFjY2VudCAmJiBjc3NgXG4gICAgICBjb2xvcjogdmFyKC0tY2FyZC1hY2NlbnQtZmctY29sb3IpO1xuICAgIGB9XG5cbiAgICAkeyRtdXRlZCAmJiBjc3NgXG4gICAgICBjb2xvcjogdmFyKC0tY2FyZC1tdXRlZC1mZy1jb2xvcik7XG4gICAgYH1cblxuICAgICYgY29kZSB7XG4gICAgICBmb250LWZhbWlseTogJHtmb250LmNvZGUuZmFtaWx5fTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDFweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQtY29kZS1iZy1jb2xvcik7XG4gICAgICBjb2xvcjogdmFyKC0tY2FyZC1jb2RlLWZnLWNvbG9yKTtcbiAgICB9XG5cbiAgICAmIGEge1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgYm9yZGVyLXJhZGl1czogMXB4O1xuICAgICAgY29sb3I6IHZhcigtLWNhcmQtbGluay1jb2xvcik7XG4gICAgICBvdXRsaW5lOiBub25lO1xuXG4gICAgICBAbWVkaWEgKGhvdmVyOiBob3Zlcikge1xuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAmOmZvY3VzIHtcbiAgICAgICAgYm94LXNoYWRvdzpcbiAgICAgICAgICAwIDAgMCAxcHggdmFyKC0tY2FyZC1iZy1jb2xvciksXG4gICAgICAgICAgMCAwIDAgM3B4IHZhcigtLWNhcmQtZm9jdXMtcmluZy1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgICY6Zm9jdXM6bm90KDpmb2N1cy12aXNpYmxlKSB7XG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJiBzdHJvbmcge1xuICAgICAgZm9udC13ZWlnaHQ6ICR7Zm9udC50ZXh0LndlaWdodHMuYm9sZH07XG4gICAgfVxuXG4gICAgJiBzdmcge1xuICAgICAgLyogQ2VydGFpbiBwb3B1bGFyIENTUyBsaWJyYXJpZXMgY2hhbmdlcyB0aGUgZGVmYXVsdHMgZm9yIFNWRyBkaXNwbGF5ICovXG4gICAgICAvKiBNYWtlIHN1cmUgU1ZHcyBhcmUgcmVuZGVyZWQgYXMgaW5saW5lIGVsZW1lbnRzICovXG4gICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgfVxuXG4gICAgJiBbZGF0YS1zYW5pdHktaWNvbl0ge1xuICAgICAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xuICAgICAgY29sb3I6IHZhcigtLWNhcmQtaWNvbi1jb2xvcik7XG5cbiAgICAgICYgcGF0aCB7XG4gICAgICAgIHZlY3Rvci1lZmZlY3Q6IG5vbi1zY2FsaW5nLXN0cm9rZSAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgIH1cbiAgYDtcbn1cbmNvbnN0IFJvb3QkeCA9IHN0eWxlZC5kaXYoXG4gIHJlc3BvbnNpdmVUZXh0Rm9udCxcbiAgcmVzcG9uc2l2ZVRleHRBbGlnblN0eWxlLFxuICB0ZXh0QmFzZVN0eWxlXG4pLCBTcGFuV2l0aFRleHRPdmVyZmxvdyQxID0gc3R5bGVkLnNwYW5gXG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgb3ZlcmZsb3c6IGNsaXA7XG5gLCBUZXh0ID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIGNvbnN0IHtcbiAgICBhY2NlbnQgPSAhMSxcbiAgICBhbGlnbixcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5Qcm9wLFxuICAgIG11dGVkID0gITEsXG4gICAgc2l6ZTogc2l6ZTIgPSAyLFxuICAgIHRleHRPdmVyZmxvdyxcbiAgICB3ZWlnaHQsXG4gICAgLi4ucmVzdFByb3BzXG4gIH0gPSBwcm9wcztcbiAgbGV0IGNoaWxkcmVuID0gY2hpbGRyZW5Qcm9wO1xuICByZXR1cm4gdGV4dE92ZXJmbG93ID09PSBcImVsbGlwc2lzXCIgJiYgKGNoaWxkcmVuID0gLyogQF9fUFVSRV9fICovIGpzeChTcGFuV2l0aFRleHRPdmVyZmxvdyQxLCB7IGNoaWxkcmVuIH0pKSwgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBSb290JHgsXG4gICAge1xuICAgICAgXCJkYXRhLXVpXCI6IFwiVGV4dFwiLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgJGFjY2VudDogYWNjZW50LFxuICAgICAgJGFsaWduOiB1c2VBcnJheVByb3AoYWxpZ24pLFxuICAgICAgJG11dGVkOiBtdXRlZCxcbiAgICAgIHJlZixcbiAgICAgICRzaXplOiB1c2VBcnJheVByb3Aoc2l6ZTIpLFxuICAgICAgJHdlaWdodDogd2VpZ2h0LFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgY2hpbGRyZW4gfSlcbiAgICB9XG4gICk7XG59KTtcbmZ1bmN0aW9uIGJhZGdlU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyAkdG9uZSB9ID0gcHJvcHM7XG4gIHJldHVybiB7XG4gICAgXCItLWNhcmQtYmctY29sb3JcIjogYHZhcigtLWNhcmQtYmFkZ2UtJHskdG9uZX0tYmctY29sb3IpYCxcbiAgICBcIi0tY2FyZC1mZy1jb2xvclwiOiBgdmFyKC0tY2FyZC1iYWRnZS0keyR0b25lfS1mZy1jb2xvcilgLFxuICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jYXJkLWJnLWNvbG9yKVwiLFxuICAgIGN1cnNvcjogXCJkZWZhdWx0XCIsXG4gICAgXCImOm5vdChbaGlkZGVuXSlcIjoge1xuICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcbiAgICAgIHZlcnRpY2FsQWxpZ246IFwidG9wXCJcbiAgICB9XG4gIH07XG59XG5jb25zdCBSb290JHcgPSBzdHlsZWQoQm94KShcbiAgcmVzcG9uc2l2ZVJhZGl1c1N0eWxlLFxuICBiYWRnZVN0eWxlXG4pLCBCYWRnZSA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW4sXG4gICAgZm9udFNpemU6IGZvbnRTaXplMiA9IDEsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIG1vZGU6IF9kZXByZWNhdGVkX21vZGUsXG4gICAgcGFkZGluZyA9IDEsXG4gICAgcmFkaXVzID0gXCJmdWxsXCIsXG4gICAgdG9uZSA9IFwiZGVmYXVsdFwiLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFJvb3QkdyxcbiAgICB7XG4gICAgICBcImRhdGEtdWlcIjogXCJCYWRnZVwiLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgJHRvbmU6IHRvbmUsXG4gICAgICAkcmFkaXVzOiB1c2VBcnJheVByb3AocmFkaXVzKSxcbiAgICAgIHBhZGRpbmc6IHVzZUFycmF5UHJvcChwYWRkaW5nKSxcbiAgICAgIHJlZixcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFRleHQsIHsgc2l6ZTogZm9udFNpemUyLCBjaGlsZHJlbiB9KVxuICAgIH1cbiAgKTtcbn0pLCBSb290JHYgPSBzdHlsZWQoQm94KShcbiAgZmxleEl0ZW1TdHlsZSxcbiAgcmVzcG9uc2l2ZUZsZXhTdHlsZVxuKSwgRmxleCA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7IGFsaWduLCBhcywgZGlyZWN0aW9uID0gXCJyb3dcIiwgZ2FwLCBqdXN0aWZ5LCB3cmFwLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBSb290JHYsXG4gICAge1xuICAgICAgXCJkYXRhLXVpXCI6IFwiRmxleFwiLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgJGFsaWduOiB1c2VBcnJheVByb3AoYWxpZ24pLFxuICAgICAgJGRpcmVjdGlvbjogdXNlQXJyYXlQcm9wKGRpcmVjdGlvbiksXG4gICAgICAkZ2FwOiB1c2VBcnJheVByb3AoZ2FwKSxcbiAgICAgICRqdXN0aWZ5OiB1c2VBcnJheVByb3AoanVzdGlmeSksXG4gICAgICAkd3JhcDogdXNlQXJyYXlQcm9wKHdyYXApLFxuICAgICAgZm9yd2FyZGVkQXM6IGFzLFxuICAgICAgcmVmXG4gICAgfVxuICApO1xufSksIHJvdGF0ZSQxID0ga2V5ZnJhbWVzYFxuICBmcm9tIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgfVxuXG4gIHRvIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICB9XG5gLCBSb290JHUgPSBzdHlsZWQoVGV4dClgXG4gICYgPiBzcGFuID4gc3ZnIHtcbiAgICBhbmltYXRpb246ICR7cm90YXRlJDF9IDUwMG1zIGxpbmVhciBpbmZpbml0ZTtcbiAgfVxuYCwgU3Bpbm5lciA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChSb290JHUsIHsgXCJkYXRhLXVpXCI6IFwiU3Bpbm5lclwiLCAuLi5wcm9wcywgcmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTcGlubmVySWNvbiwge30pIH0pO1xufSk7XG5mdW5jdGlvbiBfY2FyZENvbG9yU3R5bGUoYmFzZSwgY29sb3IsIGNoZWNrZXJlZCA9ICExKSB7XG4gIHJldHVybiB7XG4gICAgLy8gZnJvbSBiYXNlXG4gICAgXCItLWNhcmQtYmFja2Ryb3AtY29sb3JcIjogYmFzZS5iYWNrZHJvcCxcbiAgICBcIi0tY2FyZC1mb2N1cy1yaW5nLWNvbG9yXCI6IGJhc2UuZm9jdXNSaW5nLFxuICAgIFwiLS1jYXJkLXNoYWRvdy1vdXRsaW5lLWNvbG9yXCI6IGJhc2Uuc2hhZG93Lm91dGxpbmUsXG4gICAgXCItLWNhcmQtc2hhZG93LXVtYnJhLWNvbG9yXCI6IGJhc2Uuc2hhZG93LnVtYnJhLFxuICAgIFwiLS1jYXJkLXNoYWRvdy1wZW51bWJyYS1jb2xvclwiOiBiYXNlLnNoYWRvdy5wZW51bWJyYSxcbiAgICBcIi0tY2FyZC1zaGFkb3ctYW1iaWVudC1jb2xvclwiOiBiYXNlLnNoYWRvdy5hbWJpZW50LFxuICAgIC8vIGZyb20gc3RhdGVcbiAgICBcIi0tY2FyZC1hY2NlbnQtZmctY29sb3JcIjogY29sb3IuYWNjZW50LmZnLFxuICAgIFwiLS1jYXJkLWF2YXRhci1ncmF5LWJnLWNvbG9yXCI6IGNvbG9yLmF2YXRhci5ncmF5LmJnLFxuICAgIFwiLS1jYXJkLWF2YXRhci1ncmF5LWZnLWNvbG9yXCI6IGNvbG9yLmF2YXRhci5ncmF5LmZnLFxuICAgIFwiLS1jYXJkLWF2YXRhci1ibHVlLWJnLWNvbG9yXCI6IGNvbG9yLmF2YXRhci5ibHVlLmJnLFxuICAgIFwiLS1jYXJkLWF2YXRhci1ibHVlLWZnLWNvbG9yXCI6IGNvbG9yLmF2YXRhci5ibHVlLmZnLFxuICAgIFwiLS1jYXJkLWF2YXRhci1wdXJwbGUtYmctY29sb3JcIjogY29sb3IuYXZhdGFyLnB1cnBsZS5iZyxcbiAgICBcIi0tY2FyZC1hdmF0YXItcHVycGxlLWZnLWNvbG9yXCI6IGNvbG9yLmF2YXRhci5wdXJwbGUuZmcsXG4gICAgXCItLWNhcmQtYXZhdGFyLW1hZ2VudGEtYmctY29sb3JcIjogY29sb3IuYXZhdGFyLm1hZ2VudGEuYmcsXG4gICAgXCItLWNhcmQtYXZhdGFyLW1hZ2VudGEtZmctY29sb3JcIjogY29sb3IuYXZhdGFyLm1hZ2VudGEuZmcsXG4gICAgXCItLWNhcmQtYXZhdGFyLXJlZC1iZy1jb2xvclwiOiBjb2xvci5hdmF0YXIucmVkLmJnLFxuICAgIFwiLS1jYXJkLWF2YXRhci1yZWQtZmctY29sb3JcIjogY29sb3IuYXZhdGFyLnJlZC5mZyxcbiAgICBcIi0tY2FyZC1hdmF0YXItb3JhbmdlLWJnLWNvbG9yXCI6IGNvbG9yLmF2YXRhci5vcmFuZ2UuYmcsXG4gICAgXCItLWNhcmQtYXZhdGFyLW9yYW5nZS1mZy1jb2xvclwiOiBjb2xvci5hdmF0YXIub3JhbmdlLmZnLFxuICAgIFwiLS1jYXJkLWF2YXRhci15ZWxsb3ctYmctY29sb3JcIjogY29sb3IuYXZhdGFyLnllbGxvdy5iZyxcbiAgICBcIi0tY2FyZC1hdmF0YXIteWVsbG93LWZnLWNvbG9yXCI6IGNvbG9yLmF2YXRhci55ZWxsb3cuZmcsXG4gICAgXCItLWNhcmQtYXZhdGFyLWdyZWVuLWJnLWNvbG9yXCI6IGNvbG9yLmF2YXRhci5ncmVlbi5iZyxcbiAgICBcIi0tY2FyZC1hdmF0YXItZ3JlZW4tZmctY29sb3JcIjogY29sb3IuYXZhdGFyLmdyZWVuLmZnLFxuICAgIFwiLS1jYXJkLWF2YXRhci1jeWFuLWJnLWNvbG9yXCI6IGNvbG9yLmF2YXRhci5jeWFuLmJnLFxuICAgIFwiLS1jYXJkLWF2YXRhci1jeWFuLWZnLWNvbG9yXCI6IGNvbG9yLmF2YXRhci5jeWFuLmZnLFxuICAgIFwiLS1jYXJkLWJnLWNvbG9yXCI6IGNvbG9yLmJnLFxuICAgIFwiLS1jYXJkLWJnLWltYWdlXCI6IGNoZWNrZXJlZCA/IGByZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoJHtjb2xvci5iZ30gMCUgMjUlLCAke2NvbG9yLm11dGVkLmJnfSAwJSA1MCUpYCA6IHZvaWQgMCxcbiAgICBcIi0tY2FyZC1ib3JkZXItY29sb3JcIjogY29sb3IuYm9yZGVyLFxuICAgIFwiLS1jYXJkLWJhZGdlLWRlZmF1bHQtYmctY29sb3JcIjogY29sb3IuYmFkZ2UuZGVmYXVsdC5iZyxcbiAgICBcIi0tY2FyZC1iYWRnZS1kZWZhdWx0LWRvdC1jb2xvclwiOiBjb2xvci5iYWRnZS5kZWZhdWx0LmRvdCxcbiAgICBcIi0tY2FyZC1iYWRnZS1kZWZhdWx0LWZnLWNvbG9yXCI6IGNvbG9yLmJhZGdlLmRlZmF1bHQuZmcsXG4gICAgXCItLWNhcmQtYmFkZ2UtZGVmYXVsdC1pY29uLWNvbG9yXCI6IGNvbG9yLmJhZGdlLmRlZmF1bHQuaWNvbixcbiAgICBcIi0tY2FyZC1iYWRnZS1wcmltYXJ5LWJnLWNvbG9yXCI6IGNvbG9yLmJhZGdlLnByaW1hcnkuYmcsXG4gICAgXCItLWNhcmQtYmFkZ2UtcHJpbWFyeS1kb3QtY29sb3JcIjogY29sb3IuYmFkZ2UucHJpbWFyeS5kb3QsXG4gICAgXCItLWNhcmQtYmFkZ2UtcHJpbWFyeS1mZy1jb2xvclwiOiBjb2xvci5iYWRnZS5wcmltYXJ5LmZnLFxuICAgIFwiLS1jYXJkLWJhZGdlLXByaW1hcnktaWNvbi1jb2xvclwiOiBjb2xvci5iYWRnZS5wcmltYXJ5Lmljb24sXG4gICAgXCItLWNhcmQtYmFkZ2UtcG9zaXRpdmUtYmctY29sb3JcIjogY29sb3IuYmFkZ2UucG9zaXRpdmUuYmcsXG4gICAgXCItLWNhcmQtYmFkZ2UtcG9zaXRpdmUtZG90LWNvbG9yXCI6IGNvbG9yLmJhZGdlLnBvc2l0aXZlLmRvdCxcbiAgICBcIi0tY2FyZC1iYWRnZS1wb3NpdGl2ZS1mZy1jb2xvclwiOiBjb2xvci5iYWRnZS5wb3NpdGl2ZS5mZyxcbiAgICBcIi0tY2FyZC1iYWRnZS1wb3NpdGl2ZS1pY29uLWNvbG9yXCI6IGNvbG9yLmJhZGdlLnBvc2l0aXZlLmljb24sXG4gICAgXCItLWNhcmQtYmFkZ2UtY2F1dGlvbi1iZy1jb2xvclwiOiBjb2xvci5iYWRnZS5jYXV0aW9uLmJnLFxuICAgIFwiLS1jYXJkLWJhZGdlLWNhdXRpb24tZG90LWNvbG9yXCI6IGNvbG9yLmJhZGdlLmNhdXRpb24uZG90LFxuICAgIFwiLS1jYXJkLWJhZGdlLWNhdXRpb24tZmctY29sb3JcIjogY29sb3IuYmFkZ2UuY2F1dGlvbi5mZyxcbiAgICBcIi0tY2FyZC1iYWRnZS1jYXV0aW9uLWljb24tY29sb3JcIjogY29sb3IuYmFkZ2UuY2F1dGlvbi5pY29uLFxuICAgIFwiLS1jYXJkLWJhZGdlLWNyaXRpY2FsLWJnLWNvbG9yXCI6IGNvbG9yLmJhZGdlLmNyaXRpY2FsLmJnLFxuICAgIFwiLS1jYXJkLWJhZGdlLWNyaXRpY2FsLWRvdC1jb2xvclwiOiBjb2xvci5iYWRnZS5jcml0aWNhbC5kb3QsXG4gICAgXCItLWNhcmQtYmFkZ2UtY3JpdGljYWwtZmctY29sb3JcIjogY29sb3IuYmFkZ2UuY3JpdGljYWwuZmcsXG4gICAgXCItLWNhcmQtYmFkZ2UtY3JpdGljYWwtaWNvbi1jb2xvclwiOiBjb2xvci5iYWRnZS5jcml0aWNhbC5pY29uLFxuICAgIFwiLS1jYXJkLWNvZGUtYmctY29sb3JcIjogY29sb3IuY29kZS5iZyxcbiAgICBcIi0tY2FyZC1jb2RlLWZnLWNvbG9yXCI6IGNvbG9yLmNvZGUuZmcsXG4gICAgXCItLWNhcmQtZmctY29sb3JcIjogY29sb3IuZmcsXG4gICAgXCItLWNhcmQtaWNvbi1jb2xvclwiOiBjb2xvci5pY29uLFxuICAgIFwiLS1jYXJkLWtiZC1iZy1jb2xvclwiOiBjb2xvci5rYmQuYmcsXG4gICAgXCItLWNhcmQta2JkLWJvcmRlci1jb2xvclwiOiBjb2xvci5rYmQuYm9yZGVyLFxuICAgIFwiLS1jYXJkLWtiZC1mZy1jb2xvclwiOiBjb2xvci5rYmQuZmcsXG4gICAgXCItLWNhcmQtbGluay1mZy1jb2xvclwiOiBjb2xvci5saW5rLmZnLFxuICAgIFwiLS1jYXJkLW11dGVkLWJnLWNvbG9yXCI6IGNvbG9yLm11dGVkLmJnLFxuICAgIFwiLS1jYXJkLW11dGVkLWZnLWNvbG9yXCI6IGNvbG9yLm11dGVkLmZnLFxuICAgIFwiLS1jYXJkLXNrZWxldG9uLWNvbG9yLWZyb21cIjogY29sb3Iuc2tlbGV0b24uZnJvbSxcbiAgICBcIi0tY2FyZC1za2VsZXRvbi1jb2xvci10b1wiOiBjb2xvci5za2VsZXRvbi50byxcbiAgICAvLyBkZXByZWNhdGVkIHZhcmlhYmxlcyAoa2VwdCBmb3IgbGVnYWN5KVxuICAgIFwiLS1jYXJkLWJnMi1jb2xvclwiOiBjb2xvci5tdXRlZC5iZyxcbiAgICBcIi0tY2FyZC1saW5rLWNvbG9yXCI6IGNvbG9yLmxpbmsuZmcsXG4gICAgXCItLWNhcmQtaGFpcmxpbmUtc29mdC1jb2xvclwiOiBjb2xvci5ib3JkZXIsXG4gICAgXCItLWNhcmQtaGFpcmxpbmUtaGFyZC1jb2xvclwiOiBjb2xvci5ib3JkZXJcbiAgfTtcbn1cbmZ1bmN0aW9uIGJ1dHRvbkJhc2VTdHlsZXMocHJvcHMpIHtcbiAgY29uc3QgeyAkd2lkdGggfSA9IHByb3BzLCB7IHN0eWxlIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBjc3NgXG4gICAgJHtzdHlsZSA9PSBudWxsID8gdm9pZCAwIDogc3R5bGUuYnV0dG9ufTtcblxuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGluaGVyaXQ7XG4gICAgYXBwZWFyYW5jZTogbm9uZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGZvbnQ6IGluaGVyaXQ7XG4gICAgYm9yZGVyOiAwO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIGJvcmRlcjogMDtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAwO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcblxuICAgICR7JHdpZHRoID09PSBcImZpbGxcIiAmJiBjc3NgXG4gICAgICB3aWR0aDogLW1vei1hdmFpbGFibGU7XG4gICAgICB3aWR0aDogLXdlYmtpdC1maWxsLWF2YWlsYWJsZTtcbiAgICAgIHdpZHRoOiBzdHJldGNoO1xuICAgIGB9XG5cbiAgICAmID4gc3BhbiB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGZsZXg6IDE7XG4gICAgICBtaW4td2lkdGg6IDA7XG4gICAgICBib3JkZXItcmFkaXVzOiBpbmhlcml0O1xuICAgIH1cblxuICAgICY6Oi1tb3otZm9jdXMtaW5uZXIge1xuICAgICAgYm9yZGVyOiAwO1xuICAgICAgcGFkZGluZzogMDtcbiAgICB9XG4gIGA7XG59XG5mdW5jdGlvbiBjb21iaW5lQm94U2hhZG93KC4uLmJveFNoYWRvd3MpIHtcbiAgcmV0dXJuIGJveFNoYWRvd3MuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIsXCIpO1xufVxuZnVuY3Rpb24gYnV0dG9uQ29sb3JTdHlsZXMocHJvcHMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7ICRtb2RlIH0gPSBwcm9wcywgeyBidXR0b24sIGNvbG9yOiBiYXNlQ29sb3IsIHN0eWxlIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSksIHNoYWRvdyA9IHByb3BzLiRtb2RlID09PSBcImdob3N0XCIsIG1vZGUgPSBiYXNlQ29sb3IuYnV0dG9uWyRtb2RlXSB8fCBiYXNlQ29sb3IuYnV0dG9uLmRlZmF1bHQsIGNvbG9yID0gbW9kZVtwcm9wcy4kdG9uZV0gfHwgbW9kZS5kZWZhdWx0LCBib3JkZXIyID0ge1xuICAgIHdpZHRoOiBidXR0b24uYm9yZGVyLndpZHRoLFxuICAgIGNvbG9yOiBcInZhcigtLWNhcmQtYm9yZGVyLWNvbG9yKVwiXG4gIH0sIGRlZmF1bHRCb3hTaGFkb3cgPSB2b2lkIDA7XG4gIHJldHVybiBbXG4gICAgX2NhcmRDb2xvclN0eWxlKGJhc2VDb2xvciwgY29sb3IuZW5hYmxlZCksXG4gICAge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNhcmQtYmctY29sb3IpXCIsXG4gICAgICBjb2xvcjogXCJ2YXIoLS1jYXJkLWZnLWNvbG9yKVwiLFxuICAgICAgYm94U2hhZG93OiBmb2N1c1JpbmdCb3JkZXJTdHlsZShib3JkZXIyKSxcbiAgICAgICcmOmRpc2FibGVkLCAmW2RhdGEtZGlzYWJsZWQ9XCJ0cnVlXCJdJzogX2NhcmRDb2xvclN0eWxlKGJhc2VDb2xvciwgY29sb3IuZGlzYWJsZWQpLFxuICAgICAgXCImOm5vdChbZGF0YS1kaXNhYmxlZD0ndHJ1ZSddKVwiOiB7XG4gICAgICAgIGJveFNoYWRvdzogY29tYmluZUJveFNoYWRvdyhcbiAgICAgICAgICBmb2N1c1JpbmdCb3JkZXJTdHlsZShib3JkZXIyKSxcbiAgICAgICAgICBzaGFkb3cgPyBkZWZhdWx0Qm94U2hhZG93IDogdm9pZCAwXG4gICAgICAgICksXG4gICAgICAgIFwiJjpmb2N1c1wiOiB7XG4gICAgICAgICAgYm94U2hhZG93OiBmb2N1c1JpbmdTdHlsZSh7XG4gICAgICAgICAgICBiYXNlOiBiYXNlQ29sb3IsXG4gICAgICAgICAgICBib3JkZXI6IHsgd2lkdGg6IDIsIGNvbG9yOiBiYXNlQ29sb3IuYmcgfSxcbiAgICAgICAgICAgIGZvY3VzUmluZzogYnV0dG9uLmZvY3VzUmluZ1xuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIFwiJjpmb2N1czpub3QoOmZvY3VzLXZpc2libGUpXCI6IHtcbiAgICAgICAgICBib3hTaGFkb3c6IGNvbWJpbmVCb3hTaGFkb3coXG4gICAgICAgICAgICBmb2N1c1JpbmdCb3JkZXJTdHlsZShib3JkZXIyKSxcbiAgICAgICAgICAgIHNoYWRvdyA/IGRlZmF1bHRCb3hTaGFkb3cgOiB2b2lkIDBcbiAgICAgICAgICApXG4gICAgICAgIH0sXG4gICAgICAgIFwiQG1lZGlhIChob3ZlcjogaG92ZXIpXCI6IHtcbiAgICAgICAgICBcIiY6aG92ZXJcIjogX2NhcmRDb2xvclN0eWxlKGJhc2VDb2xvciwgY29sb3IuaG92ZXJlZCksXG4gICAgICAgICAgXCImOmFjdGl2ZVwiOiBfY2FyZENvbG9yU3R5bGUoYmFzZUNvbG9yLCBjb2xvci5wcmVzc2VkKSxcbiAgICAgICAgICBcIiZbZGF0YS1ob3ZlcmVkXVwiOiBfY2FyZENvbG9yU3R5bGUoYmFzZUNvbG9yLCBjb2xvci5ob3ZlcmVkKVxuICAgICAgICB9LFxuICAgICAgICBcIiZbZGF0YS1zZWxlY3RlZF1cIjogX2NhcmRDb2xvclN0eWxlKGJhc2VDb2xvciwgY29sb3IucHJlc3NlZClcbiAgICAgIH1cbiAgICB9LFxuICAgIChfYSA9IHN0eWxlID09IG51bGwgPyB2b2lkIDAgOiBzdHlsZS5idXR0b24pID09IG51bGwgPyB2b2lkIDAgOiBfYS5yb290XG4gIF0uZmlsdGVyKEJvb2xlYW4pO1xufVxuY29uc3QgUm9vdCR0ID0gc3R5bGVkLmJ1dHRvbihyZXNwb25zaXZlUmFkaXVzU3R5bGUsIGJ1dHRvbkJhc2VTdHlsZXMsIGJ1dHRvbkNvbG9yU3R5bGVzKSwgTG9hZGluZ0JveCA9IHN0eWxlZC5kaXZgXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1iZy1jb2xvcik7XG4gIGJvcmRlci1yYWRpdXM6IGluaGVyaXQ7XG4gIHotaW5kZXg6IDE7XG4gIGJveC1zaGFkb3c6IGluaGVyaXQ7XG5gLCBCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGRpc2FibGVkLFxuICAgIGZvbnRTaXplOiBmb250U2l6ZTIgPSAxLFxuICAgIGljb246IEljb25Db21wb25lbnQsXG4gICAgaWNvblJpZ2h0OiBJY29uUmlnaHRDb21wb25lbnQsXG4gICAganVzdGlmeToganVzdGlmeVByb3AgPSBcImNlbnRlclwiLFxuICAgIGxvYWRpbmcsXG4gICAgbW9kZSA9IFwiZGVmYXVsdFwiLFxuICAgIHBhZGRpbmc6IHBhZGRpbmdQcm9wID0gMyxcbiAgICBwYWRkaW5nWDogcGFkZGluZ1hQcm9wLFxuICAgIHBhZGRpbmdZOiBwYWRkaW5nWVByb3AsXG4gICAgcGFkZGluZ1RvcDogcGFkZGluZ1RvcFByb3AsXG4gICAgcGFkZGluZ0JvdHRvbTogcGFkZGluZ0JvdHRvbVByb3AsXG4gICAgcGFkZGluZ0xlZnQ6IHBhZGRpbmdMZWZ0UHJvcCxcbiAgICBwYWRkaW5nUmlnaHQ6IHBhZGRpbmdSaWdodFByb3AsXG4gICAgcmFkaXVzOiByYWRpdXNQcm9wID0gMixcbiAgICBzZWxlY3RlZCxcbiAgICBzcGFjZTogc3BhY2VQcm9wID0gMyxcbiAgICB0ZXh0LFxuICAgIHRleHRBbGlnbixcbiAgICB0b25lID0gXCJkZWZhdWx0XCIsXG4gICAgdHlwZSA9IFwiYnV0dG9uXCIsXG4gICAgbXV0ZWQgPSAhMSxcbiAgICB3aWR0aCxcbiAgICAuLi5yZXN0UHJvcHNcbiAgfSA9IHByb3BzLCB7IGJ1dHRvbiB9ID0gdXNlVGhlbWVfdjIoKSwganVzdGlmeSA9IHVzZUFycmF5UHJvcChqdXN0aWZ5UHJvcCksIHBhZGRpbmcgPSB1c2VBcnJheVByb3AocGFkZGluZ1Byb3ApLCBwYWRkaW5nWCA9IHVzZUFycmF5UHJvcChwYWRkaW5nWFByb3ApLCBwYWRkaW5nWSA9IHVzZUFycmF5UHJvcChwYWRkaW5nWVByb3ApLCBwYWRkaW5nVG9wID0gdXNlQXJyYXlQcm9wKHBhZGRpbmdUb3BQcm9wKSwgcGFkZGluZ0JvdHRvbSA9IHVzZUFycmF5UHJvcChwYWRkaW5nQm90dG9tUHJvcCksIHBhZGRpbmdMZWZ0ID0gdXNlQXJyYXlQcm9wKHBhZGRpbmdMZWZ0UHJvcCksIHBhZGRpbmdSaWdodCA9IHVzZUFycmF5UHJvcChwYWRkaW5nUmlnaHRQcm9wKSwgcmFkaXVzID0gdXNlQXJyYXlQcm9wKHJhZGl1c1Byb3ApLCBzcGFjZSA9IHVzZUFycmF5UHJvcChzcGFjZVByb3ApLCBib3hQcm9wcyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIC8vIGZsZXg6IDEsXG4gICAgICBwYWRkaW5nLFxuICAgICAgcGFkZGluZ1gsXG4gICAgICBwYWRkaW5nWSxcbiAgICAgIHBhZGRpbmdUb3AsXG4gICAgICBwYWRkaW5nQm90dG9tLFxuICAgICAgcGFkZGluZ0xlZnQsXG4gICAgICBwYWRkaW5nUmlnaHRcbiAgICB9KSxcbiAgICBbcGFkZGluZywgcGFkZGluZ1gsIHBhZGRpbmdZLCBwYWRkaW5nVG9wLCBwYWRkaW5nQm90dG9tLCBwYWRkaW5nTGVmdCwgcGFkZGluZ1JpZ2h0XVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgUm9vdCR0LFxuICAgIHtcbiAgICAgIFwiZGF0YS11aVwiOiBcIkJ1dHRvblwiLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgJG1vZGU6IG1vZGUsXG4gICAgICAkcmFkaXVzOiByYWRpdXMsXG4gICAgICAkdG9uZTogdG9uZSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiAhIShsb2FkaW5nIHx8IGRpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1zZWxlY3RlZFwiOiBzZWxlY3RlZCA/IFwiXCIgOiB2b2lkIDAsXG4gICAgICBkaXNhYmxlZDogISEobG9hZGluZyB8fCBkaXNhYmxlZCksXG4gICAgICByZWYsXG4gICAgICB0eXBlLFxuICAgICAgJHdpZHRoOiB3aWR0aCxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICEhbG9hZGluZyAmJiAvKiBAX19QVVJFX18gKi8ganN4KExvYWRpbmdCb3gsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU3Bpbm5lciwge30pIH0pLFxuICAgICAgICAoSWNvbkNvbXBvbmVudCB8fCB0ZXh0IHx8IEljb25SaWdodENvbXBvbmVudCkgJiYgLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgYXM6IFwic3BhblwiLCAuLi5ib3hQcm9wcywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZsZXgsIHsgYXM6IFwic3BhblwiLCBqdXN0aWZ5LCBnYXA6IHNwYWNlLCBjaGlsZHJlbjogW1xuICAgICAgICAgIEljb25Db21wb25lbnQgJiYgLyogQF9fUFVSRV9fICovIGpzeHMoVGV4dCwgeyBzaXplOiBmb250U2l6ZTIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChJY29uQ29tcG9uZW50KSAmJiBJY29uQ29tcG9uZW50LFxuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnRUeXBlKEljb25Db21wb25lbnQpICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkNvbXBvbmVudCwge30pXG4gICAgICAgICAgXSB9KSxcbiAgICAgICAgICB0ZXh0ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICBUZXh0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtdXRlZCxcbiAgICAgICAgICAgICAgYWxpZ246IHRleHRBbGlnbixcbiAgICAgICAgICAgICAgc2l6ZTogZm9udFNpemUyLFxuICAgICAgICAgICAgICB0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIixcbiAgICAgICAgICAgICAgd2VpZ2h0OiBidXR0b24udGV4dFdlaWdodCxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IHRleHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIEljb25SaWdodENvbXBvbmVudCAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhUZXh0LCB7IHNpemU6IGZvbnRTaXplMiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KEljb25SaWdodENvbXBvbmVudCkgJiYgSWNvblJpZ2h0Q29tcG9uZW50LFxuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnRUeXBlKEljb25SaWdodENvbXBvbmVudCkgJiYgLyogQF9fUFVSRV9fICovIGpzeChJY29uUmlnaHRDb21wb25lbnQsIHt9KVxuICAgICAgICAgIF0gfSlcbiAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgY2hpbGRyZW4gJiYgLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgYXM6IFwic3BhblwiLCAuLi5ib3hQcm9wcywgY2hpbGRyZW4gfSlcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KTtcbmZ1bmN0aW9uIGNhcmRTdHlsZShwcm9wcykge1xuICByZXR1cm4gW2NhcmRCYXNlU3R5bGUocHJvcHMpLCBjYXJkQ29sb3JTdHlsZShwcm9wcyldO1xufVxuZnVuY3Rpb24gY2FyZEJhc2VTdHlsZShwcm9wcykge1xuICBjb25zdCB7ICRjaGVja2VyZWQgfSA9IHByb3BzLCB7IHNwYWNlIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBjc3NgXG4gICAgJHskY2hlY2tlcmVkICYmIGNzc2BcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogJHtzcGFjZVszXX1weCAke3NwYWNlWzNdfXB4O1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogNTAlIDUwJTtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWNhcmQtYmctaW1hZ2UpO1xuICAgIGB9XG5cbiAgICAmW2RhdGEtYXM9J2J1dHRvbiddIHtcbiAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGluaGVyaXQ7XG4gICAgICBhcHBlYXJhbmNlOiBub25lO1xuICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIGZvbnQ6IGluaGVyaXQ7XG4gICAgICB0ZXh0LWFsaWduOiBpbmhlcml0O1xuICAgICAgYm9yZGVyOiAwO1xuICAgICAgd2lkdGg6IC1tb3otYXZhaWxhYmxlO1xuICAgICAgd2lkdGg6IC13ZWJraXQtZmlsbC1hdmFpbGFibGU7XG4gICAgICB3aWR0aDogc3RyZXRjaDtcbiAgICB9XG5cbiAgICAvKiAmOmlzKGEpICovXG4gICAgJltkYXRhLWFzPSdhJ10ge1xuICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB9XG5cbiAgICAvKiAmOmlzKHByZSkgKi9cbiAgICAmW2RhdGEtYXM9J3ByZSddIHtcbiAgICAgIGZvbnQ6IGluaGVyaXQ7XG4gICAgfVxuICBgO1xufVxuZnVuY3Rpb24gY2FyZENvbG9yU3R5bGUocHJvcHMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7ICRjaGVja2VyZWQsICRmb2N1c1JpbmcsICRtdXRlZCB9ID0gcHJvcHMsIHsgY2FyZCwgY29sb3IsIHN0eWxlIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSksIGJvcmRlcjIgPSB7IHdpZHRoOiBjYXJkLmJvcmRlci53aWR0aCwgY29sb3I6IFwidmFyKC0tY2FyZC1ib3JkZXItY29sb3IpXCIgfTtcbiAgcmV0dXJuIGNzc2BcbiAgICBjb2xvci1zY2hlbWU6ICR7Y29sb3IuX2RhcmsgPyBcImRhcmtcIiA6IFwibGlnaHRcIn07XG5cbiAgICAke19jYXJkQ29sb3JTdHlsZShjb2xvciwgY29sb3IsICRjaGVja2VyZWQpfVxuXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHskbXV0ZWQgPyBcInZhcigtLWNhcmQtbXV0ZWQtYmctY29sb3IpXCIgOiBcInZhcigtLWNhcmQtYmctY29sb3IpXCJ9O1xuICAgIGNvbG9yOiB2YXIoLS1jYXJkLWZnLWNvbG9yKTtcblxuICAgIC8qICY6aXMoYnV0dG9uKSAqL1xuICAgICZbZGF0YS1hcz0nYnV0dG9uJ10ge1xuICAgICAgLS1jYXJkLWZvY3VzLXJpbmctYm94LXNoYWRvdzogbm9uZTtcblxuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgICAgYm94LXNoYWRvdzogdmFyKC0tY2FyZC1mb2N1cy1yaW5nLWJveC1zaGFkb3cpO1xuXG4gICAgICAmOmRpc2FibGVkIHtcbiAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIGNvbG9yLnNlbGVjdGFibGUuZGVmYXVsdC5kaXNhYmxlZCwgJGNoZWNrZXJlZCl9XG4gICAgICB9XG5cbiAgICAgICY6bm90KDpkaXNhYmxlZCkge1xuICAgICAgICAmW2RhdGEtcHJlc3NlZF0ge1xuICAgICAgICAgICR7X2NhcmRDb2xvclN0eWxlKGNvbG9yLCBjb2xvci5zZWxlY3RhYmxlLmRlZmF1bHQucHJlc3NlZCwgJGNoZWNrZXJlZCl9XG4gICAgICAgIH1cblxuICAgICAgICAmW2RhdGEtc2VsZWN0ZWRdIHtcbiAgICAgICAgICAke19jYXJkQ29sb3JTdHlsZShjb2xvciwgY29sb3Iuc2VsZWN0YWJsZS5kZWZhdWx0LnNlbGVjdGVkLCAkY2hlY2tlcmVkKX1cbiAgICAgICAgfVxuXG4gICAgICAgIEBtZWRpYSAoaG92ZXI6IGhvdmVyKSB7XG4gICAgICAgICAgJjpub3QoW2RhdGEtcHJlc3NlZF0pOm5vdChbZGF0YS1zZWxlY3RlZF0pIHtcbiAgICAgICAgICAgICZbZGF0YS1ob3ZlcmVkXSxcbiAgICAgICAgICAgICY6aG92ZXIge1xuICAgICAgICAgICAgICAke19jYXJkQ29sb3JTdHlsZShjb2xvciwgY29sb3Iuc2VsZWN0YWJsZS5kZWZhdWx0LmhvdmVyZWQsICRjaGVja2VyZWQpfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAmOmFjdGl2ZSB7XG4gICAgICAgICAgICAgICR7X2NhcmRDb2xvclN0eWxlKGNvbG9yLCBjb2xvci5zZWxlY3RhYmxlLmRlZmF1bHQucHJlc3NlZCwgJGNoZWNrZXJlZCl9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJjpmb2N1cy12aXNpYmxlIHtcbiAgICAgICAgICAtLWNhcmQtZm9jdXMtcmluZy1ib3gtc2hhZG93OiAkeyRmb2N1c1JpbmcgPyBmb2N1c1JpbmdTdHlsZSh7IGJhc2U6IGNvbG9yLCBib3JkZXI6IGJvcmRlcjIsIGZvY3VzUmluZzogY2FyZC5mb2N1c1JpbmcgfSkgOiB2b2lkIDB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogJjppcyhhKSAqL1xuICAgICZbZGF0YS1hcz0nYSddIHtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGJveC1zaGFkb3c6IHZhcigtLWNhcmQtZm9jdXMtcmluZy1ib3gtc2hhZG93KTtcblxuICAgICAgJltkYXRhLWRpc2FibGVkXSB7XG4gICAgICAgICR7X2NhcmRDb2xvclN0eWxlKGNvbG9yLCBjb2xvci5zZWxlY3RhYmxlLmRlZmF1bHQuZGlzYWJsZWQsICRjaGVja2VyZWQpfVxuICAgICAgfVxuXG4gICAgICAmOm5vdChbZGF0YS1kaXNhYmxlZF0pIHtcbiAgICAgICAgJltkYXRhLXByZXNzZWRdIHtcbiAgICAgICAgICAke19jYXJkQ29sb3JTdHlsZShjb2xvciwgY29sb3Iuc2VsZWN0YWJsZS5kZWZhdWx0LnByZXNzZWQsICRjaGVja2VyZWQpfVxuICAgICAgICB9XG5cbiAgICAgICAgJltkYXRhLXNlbGVjdGVkXSB7XG4gICAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIGNvbG9yLnNlbGVjdGFibGUuZGVmYXVsdC5zZWxlY3RlZCwgJGNoZWNrZXJlZCl9XG4gICAgICAgIH1cblxuICAgICAgICBAbWVkaWEgKGhvdmVyOiBob3Zlcikge1xuICAgICAgICAgICY6bm90KFtkYXRhLXByZXNzZWRdKTpub3QoW2RhdGEtc2VsZWN0ZWRdKSB7XG4gICAgICAgICAgICAmW2RhdGEtaG92ZXJlZF0sXG4gICAgICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIGNvbG9yLnNlbGVjdGFibGUuZGVmYXVsdC5ob3ZlcmVkLCAkY2hlY2tlcmVkKX1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJjphY3RpdmUge1xuICAgICAgICAgICAgICAke19jYXJkQ29sb3JTdHlsZShjb2xvciwgY29sb3Iuc2VsZWN0YWJsZS5kZWZhdWx0LnByZXNzZWQsICRjaGVja2VyZWQpfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICY6Zm9jdXMtdmlzaWJsZSB7XG4gICAgICAgICAgLS1jYXJkLWZvY3VzLXJpbmctYm94LXNoYWRvdzogJHskZm9jdXNSaW5nID8gZm9jdXNSaW5nU3R5bGUoeyBiYXNlOiBjb2xvciwgYm9yZGVyOiBib3JkZXIyLCBmb2N1c1Jpbmc6IGNhcmQuZm9jdXNSaW5nIH0pIDogdm9pZCAwfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICR7KF9hID0gc3R5bGUgPT0gbnVsbCA/IHZvaWQgMCA6IHN0eWxlLmNhcmQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yb290fVxuICBgO1xufVxuY29uc3QgUm9vdCRzID0gc3R5bGVkKEJveCkocmVzcG9uc2l2ZUJvcmRlclN0eWxlLCByZXNwb25zaXZlUmFkaXVzU3R5bGUsIHJlc3BvbnNpdmVTaGFkb3dTdHlsZSwgY2FyZFN0eWxlKSwgQ2FyZCA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7XG4gICAgX191bnN0YWJsZV9jaGVja2VyZWQ6IGNoZWNrZXJlZCA9ICExLFxuICAgIF9fdW5zdGFibGVfZm9jdXNSaW5nOiBmb2N1c1JpbmcgPSAhMSxcbiAgICBhczogYXNQcm9wLFxuICAgIGJvcmRlcjogYm9yZGVyMixcbiAgICBib3JkZXJUb3A6IGJvcmRlclRvcDIsXG4gICAgYm9yZGVyUmlnaHQ6IGJvcmRlclJpZ2h0MixcbiAgICBib3JkZXJCb3R0b206IGJvcmRlckJvdHRvbTIsXG4gICAgYm9yZGVyTGVmdDogYm9yZGVyTGVmdDIsXG4gICAgbXV0ZWQsXG4gICAgcHJlc3NlZCxcbiAgICByYWRpdXMgPSAwLFxuICAgIHNjaGVtZSxcbiAgICBzZWxlY3RlZCxcbiAgICBzaGFkb3csXG4gICAgdG9uZTogdG9uZVByb3AgPSBcImRlZmF1bHRcIixcbiAgICAuLi5yZXN0UHJvcHNcbiAgfSA9IHByb3BzLCBhcyA9IGlzVmFsaWRFbGVtZW50VHlwZShhc1Byb3ApID8gYXNQcm9wIDogXCJkaXZcIiwgcm9vdFRoZW1lID0gdXNlUm9vdFRoZW1lKCksIHRvbmUgPSB0b25lUHJvcCA9PT0gXCJpbmhlcml0XCIgPyByb290VGhlbWUudG9uZSA6IHRvbmVQcm9wO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChUaGVtZUNvbG9yUHJvdmlkZXIsIHsgc2NoZW1lLCB0b25lLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBSb290JHMsXG4gICAge1xuICAgICAgXCJkYXRhLWFzXCI6IHR5cGVvZiBhcyA9PSBcInN0cmluZ1wiID8gYXMgOiB2b2lkIDAsXG4gICAgICBcImRhdGEtc2NoZW1lXCI6IHJvb3RUaGVtZS5zY2hlbWUsXG4gICAgICBcImRhdGEtdWlcIjogXCJDYXJkXCIsXG4gICAgICBcImRhdGEtdG9uZVwiOiB0b25lLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgJGJvcmRlcjogdXNlQXJyYXlQcm9wKGJvcmRlcjIpLFxuICAgICAgJGJvcmRlclRvcDogdXNlQXJyYXlQcm9wKGJvcmRlclRvcDIpLFxuICAgICAgJGJvcmRlclJpZ2h0OiB1c2VBcnJheVByb3AoYm9yZGVyUmlnaHQyKSxcbiAgICAgICRib3JkZXJCb3R0b206IHVzZUFycmF5UHJvcChib3JkZXJCb3R0b20yKSxcbiAgICAgICRib3JkZXJMZWZ0OiB1c2VBcnJheVByb3AoYm9yZGVyTGVmdDIpLFxuICAgICAgJGNoZWNrZXJlZDogY2hlY2tlcmVkLFxuICAgICAgJGZvY3VzUmluZzogZm9jdXNSaW5nLFxuICAgICAgJG11dGVkOiBtdXRlZCxcbiAgICAgICRyYWRpdXM6IHVzZUFycmF5UHJvcChyYWRpdXMpLFxuICAgICAgJHNoYWRvdzogdXNlQXJyYXlQcm9wKHNoYWRvdyksXG4gICAgICAkdG9uZTogdG9uZSxcbiAgICAgIFwiZGF0YS1jaGVja2VyZWRcIjogY2hlY2tlcmVkID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgIFwiZGF0YS1wcmVzc2VkXCI6IHByZXNzZWQgPyBcIlwiIDogdm9pZCAwLFxuICAgICAgXCJkYXRhLXNlbGVjdGVkXCI6IHNlbGVjdGVkID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgIGZvcndhcmRlZEFzOiBhcyxcbiAgICAgIHJlZixcbiAgICAgIHNlbGVjdGVkXG4gICAgfVxuICApIH0pO1xufSk7XG5mdW5jdGlvbiBjaGVja2JveEJhc2VTdHlsZXMoKSB7XG4gIHJldHVybiBjc3NgXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgYDtcbn1cbmZ1bmN0aW9uIGlucHV0RWxlbWVudFN0eWxlcyhwcm9wcykge1xuICBjb25zdCB7IGNvbG9yLCBpbnB1dCwgcmFkaXVzIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSksIHsgZm9jdXNSaW5nIH0gPSBpbnB1dC5jaGVja2JveDtcbiAgcmV0dXJuIGNzc2BcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgb3BhY2l0eTogMDtcbiAgICB6LWluZGV4OiAxO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAwO1xuXG4gICAgJiArIHNwYW4ge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBoZWlnaHQ6ICR7cmVtKGlucHV0LmNoZWNrYm94LnNpemUpfTtcbiAgICAgIHdpZHRoOiAke3JlbShpbnB1dC5jaGVja2JveC5zaXplKX07XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgYm94LXNoYWRvdzogJHtmb2N1c1JpbmdCb3JkZXJTdHlsZSh7XG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5ib3JkZXIsXG4gICAgd2lkdGg6IGlucHV0LmJvcmRlci53aWR0aFxuICB9KX07XG4gICAgICBib3JkZXItcmFkaXVzOiAke3JlbShyYWRpdXNbMl0pfTtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmVuYWJsZWQuYmd9O1xuXG4gICAgICAmID4gc3ZnIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB3aWR0aDogMTAwJTtcblxuICAgICAgICAmID4gcGF0aCB7XG4gICAgICAgICAgdmVjdG9yLWVmZmVjdDogbm9uLXNjYWxpbmctc3Ryb2tlO1xuICAgICAgICAgIHN0cm9rZS13aWR0aDogMS41cHggIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICY6Y2hlY2tlZCArIHNwYW4ge1xuICAgICAgYmFja2dyb3VuZDogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmVuYWJsZWQuZmd9O1xuICAgICAgYm94LXNoYWRvdzogJHtmb2N1c1JpbmdCb3JkZXJTdHlsZSh7XG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5mZyxcbiAgICB3aWR0aDogaW5wdXQuYm9yZGVyLndpZHRoXG4gIH0pfTtcbiAgICAgIGNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5iZ307XG4gICAgfVxuXG4gICAgLyogZm9jdXMgKi9cbiAgICAmOm5vdCg6ZGlzYWJsZWQpOmZvY3VzOmZvY3VzLXZpc2libGUgKyBzcGFuIHtcbiAgICAgIGJveC1zaGFkb3c6ICR7Zm9jdXNSaW5nU3R5bGUoeyBmb2N1c1JpbmcgfSl9O1xuICAgIH1cblxuICAgIC8qIGZvY3VzIHdoZW4gY2hlY2tlZCAtIHVzZXMgYSBkaWZmZXJlbnQgb2Zmc2V0ICovXG4gICAgJjpub3QoOmRpc2FibGVkKTpmb2N1czpmb2N1cy12aXNpYmxlJjpjaGVja2VkICsgc3BhbiB7XG4gICAgICBib3gtc2hhZG93OiAke2ZvY3VzUmluZ1N0eWxlKHsgZm9jdXNSaW5nOiB7IHdpZHRoOiAxLCBvZmZzZXQ6IDEgfSB9KX07XG4gICAgfVxuXG4gICAgJltkYXRhLWVycm9yXSArIHNwYW4ge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvci5pbnB1dC5pbnZhbGlkLmVuYWJsZWQuYm9yZGVyfTtcbiAgICAgIGJveC1zaGFkb3c6ICR7Zm9jdXNSaW5nQm9yZGVyU3R5bGUoe1xuICAgIHdpZHRoOiBpbnB1dC5ib3JkZXIud2lkdGgsXG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmludmFsaWQuZW5hYmxlZC5tdXRlZC5iZ1xuICB9KX07XG4gICAgICBjb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmRpc2FibGVkLmZnfTtcbiAgICB9XG4gICAgJltkYXRhLWVycm9yXSY6Y2hlY2tlZCArIHNwYW4ge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvci5pbnB1dC5pbnZhbGlkLmVuYWJsZWQubXV0ZWQuYmd9O1xuICAgICAgY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5lbmFibGVkLmJnfTtcbiAgICB9XG4gICAgJltkYXRhLWVycm9yXSY6Y2hlY2tlZCY6bm90KDpkaXNhYmxlZCk6Zm9jdXM6Zm9jdXMtdmlzaWJsZSArIHNwYW4ge1xuICAgICAgYm94LXNoYWRvdzogJHtmb2N1c1JpbmdTdHlsZSh7XG4gICAgYm9yZGVyOiB7IHdpZHRoOiBpbnB1dC5ib3JkZXIud2lkdGgsIGNvbG9yOiBjb2xvci5pbnB1dC5pbnZhbGlkLnJlYWRPbmx5Lm11dGVkLmJnIH0sXG4gICAgZm9jdXNSaW5nOiB7IHdpZHRoOiAxLCBvZmZzZXQ6IDEgfVxuICB9KX07XG4gICAgfVxuXG4gICAgJjpkaXNhYmxlZCArIHNwYW4ge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmRpc2FibGVkLmJnfTtcbiAgICAgIGJveC1zaGFkb3c6ICR7Zm9jdXNSaW5nQm9yZGVyU3R5bGUoe1xuICAgIHdpZHRoOiBpbnB1dC5ib3JkZXIud2lkdGgsXG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmRlZmF1bHQuZGlzYWJsZWQuYm9yZGVyXG4gIH0pfTtcbiAgICAgIGNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZGlzYWJsZWQuZmd9O1xuICAgIH1cbiAgICAmOmRpc2FibGVkJjpjaGVja2VkICsgc3BhbiB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZGlzYWJsZWQubXV0ZWQuYmd9O1xuICAgIH1cblxuICAgICZbZGF0YS1yZWFkLW9ubHldICsgc3BhbiB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQucmVhZE9ubHkuYmd9O1xuICAgICAgYm94LXNoYWRvdzogJHtmb2N1c1JpbmdCb3JkZXJTdHlsZSh7XG4gICAgd2lkdGg6IGlucHV0LmJvcmRlci53aWR0aCxcbiAgICBjb2xvcjogY29sb3IuaW5wdXQuZGVmYXVsdC5yZWFkT25seS5ib3JkZXJcbiAgfSl9O1xuICAgICAgY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5yZWFkT25seS5mZ307XG4gICAgfVxuXG4gICAgJltkYXRhLXJlYWQtb25seV0mOmNoZWNrZWQgKyBzcGFuIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5yZWFkT25seS5tdXRlZC5iZ307XG4gICAgfVxuXG4gICAgJjpjaGVja2VkICsgc3BhbiA+IHN2ZzpmaXJzdC1jaGlsZCB7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbiAgICAmOmluZGV0ZXJtaW5hdGUgKyBzcGFuID4gc3ZnOmxhc3QtY2hpbGQge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICB9XG4gIGA7XG59XG5jb25zdCBSb290JHIgPSBzdHlsZWQuZGl2KGNoZWNrYm94QmFzZVN0eWxlcyksIElucHV0JDUgPSBzdHlsZWQuaW5wdXQoaW5wdXRFbGVtZW50U3R5bGVzKSwgQ2hlY2tib3ggPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3Qge1xuICAgIGNoZWNrZWQsXG4gICAgY2xhc3NOYW1lLFxuICAgIGRpc2FibGVkLFxuICAgIGluZGV0ZXJtaW5hdGUsXG4gICAgY3VzdG9tVmFsaWRpdHksXG4gICAgcmVhZE9ubHksXG4gICAgc3R5bGUsXG4gICAgLi4ucmVzdFByb3BzXG4gIH0gPSBwcm9wcywgcmVmID0gdXNlUmVmKG51bGwpO1xuICByZXR1cm4gdXNlSW1wZXJhdGl2ZUhhbmRsZShcbiAgICBmb3J3YXJkZWRSZWYsXG4gICAgKCkgPT4gcmVmLmN1cnJlbnRcbiAgKSwgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCAmJiAocmVmLmN1cnJlbnQuaW5kZXRlcm1pbmF0ZSA9IGluZGV0ZXJtaW5hdGUgfHwgITEpO1xuICB9LCBbaW5kZXRlcm1pbmF0ZV0pLCB1c2VDdXN0b21WYWxpZGl0eShyZWYsIGN1c3RvbVZhbGlkaXR5KSwgLyogQF9fUFVSRV9fICovIGpzeHMoUm9vdCRyLCB7IGNsYXNzTmFtZSwgXCJkYXRhLXVpXCI6IFwiQ2hlY2tib3hcIiwgc3R5bGUsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIElucHV0JDUsXG4gICAgICB7XG4gICAgICAgIFwiZGF0YS1yZWFkLW9ubHlcIjogIWRpc2FibGVkICYmIHJlYWRPbmx5ID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgICAgXCJkYXRhLWVycm9yXCI6IGN1c3RvbVZhbGlkaXR5ID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgICBjaGVja2VkLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQgfHwgcmVhZE9ubHksXG4gICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgcmVhZE9ubHksXG4gICAgICAgIHJlZlxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMoXCJzcGFuXCIsIHsgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQ2hlY2ttYXJrSWNvbiwge30pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChSZW1vdmVJY29uLCB7fSlcbiAgICBdIH0pXG4gIF0gfSk7XG59KTtcbmZ1bmN0aW9uIGNvZGVTeW50YXhIaWdobGlnaHRpbmdTdHlsZSh7IHRoZW1lIH0pIHtcbiAgY29uc3Qge1xuICAgIGNvbG9yOiB7IHN5bnRheDogY29sb3IgfVxuICB9ID0gZ2V0VGhlbWVfdjIodGhlbWUpO1xuICByZXR1cm4ge1xuICAgIFwiJi5hdHJ1bGVcIjogeyBjb2xvcjogY29sb3IuYXRydWxlIH0sXG4gICAgXCImLmF0dHItbmFtZVwiOiB7IGNvbG9yOiBjb2xvci5hdHRyTmFtZSB9LFxuICAgIFwiJi5hdHRyLXZhbHVlXCI6IHsgY29sb3I6IGNvbG9yLmF0dHJWYWx1ZSB9LFxuICAgIFwiJi5hdHRyaWJ1dGVcIjogeyBjb2xvcjogY29sb3IuYXR0cmlidXRlIH0sXG4gICAgXCImLmJvb2xlYW5cIjogeyBjb2xvcjogY29sb3IuYm9vbGVhbiB9LFxuICAgIFwiJi5idWlsdGluXCI6IHsgY29sb3I6IGNvbG9yLmJ1aWx0aW4gfSxcbiAgICBcIiYuY2RhdGFcIjogeyBjb2xvcjogY29sb3IuY2RhdGEgfSxcbiAgICBcIiYuY2hhclwiOiB7IGNvbG9yOiBjb2xvci5jaGFyIH0sXG4gICAgXCImLmNsYXNzXCI6IHsgY29sb3I6IGNvbG9yLmNsYXNzIH0sXG4gICAgXCImLmNsYXNzLW5hbWVcIjogeyBjb2xvcjogY29sb3IuY2xhc3NOYW1lIH0sXG4gICAgXCImLmNvbW1lbnRcIjogeyBjb2xvcjogY29sb3IuY29tbWVudCB9LFxuICAgIFwiJi5jb25zdGFudFwiOiB7IGNvbG9yOiBjb2xvci5jb25zdGFudCB9LFxuICAgIFwiJi5kZWxldGVkXCI6IHsgY29sb3I6IGNvbG9yLmRlbGV0ZWQgfSxcbiAgICBcIiYuZG9jdHlwZVwiOiB7IGNvbG9yOiBjb2xvci5kb2N0eXBlIH0sXG4gICAgXCImLmVudGl0eVwiOiB7IGNvbG9yOiBjb2xvci5lbnRpdHkgfSxcbiAgICBcIiYuZnVuY3Rpb25cIjogeyBjb2xvcjogY29sb3IuZnVuY3Rpb24gfSxcbiAgICBcIiYuaGV4Y29kZVwiOiB7IGNvbG9yOiBjb2xvci5oZXhjb2RlIH0sXG4gICAgXCImLmlkXCI6IHsgY29sb3I6IGNvbG9yLmlkIH0sXG4gICAgXCImLmltcG9ydGFudFwiOiB7IGNvbG9yOiBjb2xvci5pbXBvcnRhbnQgfSxcbiAgICBcIiYuaW5zZXJ0ZWRcIjogeyBjb2xvcjogY29sb3IuaW5zZXJ0ZWQgfSxcbiAgICBcIiYua2V5d29yZFwiOiB7IGNvbG9yOiBjb2xvci5rZXl3b3JkIH0sXG4gICAgXCImLm51bWJlclwiOiB7IGNvbG9yOiBjb2xvci5udW1iZXIgfSxcbiAgICBcIiYub3BlcmF0b3JcIjogeyBjb2xvcjogY29sb3Iub3BlcmF0b3IgfSxcbiAgICBcIiYucHJvbG9nXCI6IHsgY29sb3I6IGNvbG9yLnByb2xvZyB9LFxuICAgIFwiJi5wcm9wZXJ0eVwiOiB7IGNvbG9yOiBjb2xvci5wcm9wZXJ0eSB9LFxuICAgIFwiJi5wc2V1ZG8tY2xhc3NcIjogeyBjb2xvcjogY29sb3IucHNldWRvQ2xhc3MgfSxcbiAgICBcIiYucHNldWRvLWVsZW1lbnRcIjogeyBjb2xvcjogY29sb3IucHNldWRvRWxlbWVudCB9LFxuICAgIFwiJi5wdW5jdHVhdGlvblwiOiB7IGNvbG9yOiBjb2xvci5wdW5jdHVhdGlvbiB9LFxuICAgIFwiJi5yZWdleFwiOiB7IGNvbG9yOiBjb2xvci5yZWdleCB9LFxuICAgIFwiJi5zZWxlY3RvclwiOiB7IGNvbG9yOiBjb2xvci5zZWxlY3RvciB9LFxuICAgIFwiJi5zdHJpbmdcIjogeyBjb2xvcjogY29sb3Iuc3RyaW5nIH0sXG4gICAgXCImLnN5bWJvbFwiOiB7IGNvbG9yOiBjb2xvci5zeW1ib2wgfSxcbiAgICBcIiYudGFnXCI6IHsgY29sb3I6IGNvbG9yLnRhZyB9LFxuICAgIFwiJi51bml0XCI6IHsgY29sb3I6IGNvbG9yLnVuaXQgfSxcbiAgICBcIiYudXJsXCI6IHsgY29sb3I6IGNvbG9yLnVybCB9LFxuICAgIFwiJi52YXJpYWJsZVwiOiB7IGNvbG9yOiBjb2xvci52YXJpYWJsZSB9XG4gIH07XG59XG5mdW5jdGlvbiBjb2RlQmFzZVN0eWxlKCkge1xuICByZXR1cm4gY3NzYFxuICAgIGNvbG9yOiB2YXIoLS1jYXJkLWNvZGUtZmctY29sb3IpO1xuXG4gICAgJiBjb2RlIHtcbiAgICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuXG4gICAgICAmLnJlZnJhY3RvciAudG9rZW4ge1xuICAgICAgICAke2NvZGVTeW50YXhIaWdobGlnaHRpbmdTdHlsZX1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAmIGEge1xuICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDFweDtcbiAgICB9XG5cbiAgICAmIHN2ZyB7XG4gICAgICAvKiBDZXJ0YWluIHBvcHVsYXIgQ1NTIGxpYnJhcmllcyBjaGFuZ2VzIHRoZSBkZWZhdWx0cyBmb3IgU1ZHIGRpc3BsYXkgKi9cbiAgICAgIC8qIE1ha2Ugc3VyZSBTVkdzIGFyZSByZW5kZXJlZCBhcyBpbmxpbmUgZWxlbWVudHMgKi9cbiAgICAgIGRpc3BsYXk6IGlubGluZTtcbiAgICB9XG5cbiAgICAmIFtkYXRhLXNhbml0eS1pY29uXSB7XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XG4gICAgfVxuICBgO1xufVxuY29uc3QgUm9vdCRxID0gc3R5bGVkLnByZShjb2RlQmFzZVN0eWxlLCByZXNwb25zaXZlQ29kZUZvbnRTdHlsZSksIENvZGUgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgbGFuZ3VhZ2U6IGxhbmd1YWdlUHJvcCwgc2l6ZTogc2l6ZTIgPSAyLCB3ZWlnaHQsIC4uLnJlc3RQcm9wcyB9ID0gcHJvcHMsIGxhbmd1YWdlID0gdHlwZW9mIGxhbmd1YWdlUHJvcCA9PSBcInN0cmluZ1wiID8gbGFuZ3VhZ2VQcm9wIDogdm9pZCAwLCByZWdpc3RlcmVkID0gbGFuZ3VhZ2UgPyBSZWZyYWN0b3IuaGFzTGFuZ3VhZ2UobGFuZ3VhZ2UpIDogITE7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhSb290JHEsIHsgXCJkYXRhLXVpXCI6IFwiQ29kZVwiLCAuLi5yZXN0UHJvcHMsICRzaXplOiB1c2VBcnJheVByb3Aoc2l6ZTIpLCAkd2VpZ2h0OiB3ZWlnaHQsIHJlZiwgY2hpbGRyZW46IFtcbiAgICAhKGxhbmd1YWdlICYmIHJlZ2lzdGVyZWQpICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJjb2RlXCIsIHsgY2hpbGRyZW4gfSksXG4gICAgbGFuZ3VhZ2UgJiYgcmVnaXN0ZXJlZCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFJlZnJhY3RvciwgeyBpbmxpbmU6ICEwLCBsYW5ndWFnZSwgdmFsdWU6IFN0cmluZyhjaGlsZHJlbikgfSlcbiAgXSB9KTtcbn0pLCBCQVNFX1NUWUxFJDEgPSB7XG4gIHdpZHRoOiBcIjEwMCVcIixcbiAgbWFyZ2luOiBcIjAgYXV0b1wiXG59O1xuZnVuY3Rpb24gY29udGFpbmVyQmFzZVN0eWxlKCkge1xuICByZXR1cm4gQkFTRV9TVFlMRSQxO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZUNvbnRhaW5lcldpZHRoU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBjb250YWluZXIsIG1lZGlhIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBfcmVzcG9uc2l2ZShtZWRpYSwgcHJvcHMuJHdpZHRoLCAodmFsKSA9PiAoe1xuICAgIG1heFdpZHRoOiB2YWwgPT09IFwiYXV0b1wiID8gXCJub25lXCIgOiByZW0oY29udGFpbmVyW3ZhbF0pXG4gIH0pKTtcbn1cbmNvbnN0IFJvb3QkcCA9IHN0eWxlZChCb3gpKFxuICBjb250YWluZXJCYXNlU3R5bGUsXG4gIHJlc3BvbnNpdmVDb250YWluZXJXaWR0aFN0eWxlXG4pLCBDb250YWluZXIgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgY29uc3QgeyBhcywgd2lkdGggPSAyLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBSb290JHAsXG4gICAge1xuICAgICAgXCJkYXRhLXVpXCI6IFwiQ29udGFpbmVyXCIsXG4gICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICAkd2lkdGg6IHVzZUFycmF5UHJvcCh3aWR0aCksXG4gICAgICBmb3J3YXJkZWRBczogYXMsXG4gICAgICByZWZcbiAgICB9XG4gICk7XG59KSwgUm9vdCRvID0gc3R5bGVkKEJveCkocmVzcG9uc2l2ZUdyaWRTdHlsZSksIEdyaWQgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgY29uc3QgeyBhcywgYXV0b1Jvd3MsIGF1dG9Db2xzLCBhdXRvRmxvdywgY29sdW1ucywgZ2FwLCBnYXBYLCBnYXBZLCByb3dzLCBjaGlsZHJlbiwgLi4ucmVzdFByb3BzIH0gPSBwcm9wcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgUm9vdCRvLFxuICAgIHtcbiAgICAgIFwiZGF0YS1hc1wiOiB0eXBlb2YgYXMgPT0gXCJzdHJpbmdcIiA/IGFzIDogdm9pZCAwLFxuICAgICAgXCJkYXRhLXVpXCI6IFwiR3JpZFwiLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgJGF1dG9Sb3dzOiB1c2VBcnJheVByb3AoYXV0b1Jvd3MpLFxuICAgICAgJGF1dG9Db2xzOiB1c2VBcnJheVByb3AoYXV0b0NvbHMpLFxuICAgICAgJGF1dG9GbG93OiB1c2VBcnJheVByb3AoYXV0b0Zsb3cpLFxuICAgICAgJGNvbHVtbnM6IHVzZUFycmF5UHJvcChjb2x1bW5zKSxcbiAgICAgICRnYXA6IHVzZUFycmF5UHJvcChnYXApLFxuICAgICAgJGdhcFg6IHVzZUFycmF5UHJvcChnYXBYKSxcbiAgICAgICRnYXBZOiB1c2VBcnJheVByb3AoZ2FwWSksXG4gICAgICAkcm93czogdXNlQXJyYXlQcm9wKHJvd3MpLFxuICAgICAgZm9yd2FyZGVkQXM6IGFzLFxuICAgICAgcmVmLFxuICAgICAgY2hpbGRyZW5cbiAgICB9XG4gICk7XG59KTtcbmZ1bmN0aW9uIGhlYWRpbmdCYXNlU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyAkYWNjZW50LCAkbXV0ZWQgfSA9IHByb3BzLCB7IGZvbnQgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIGNzc2BcbiAgICAkeyRhY2NlbnQgJiYgY3NzYFxuICAgICAgY29sb3I6IHZhcigtLWNhcmQtYWNjZW50LWZnLWNvbG9yKTtcbiAgICBgfVxuXG4gICAgJHskbXV0ZWQgJiYgY3NzYFxuICAgICAgY29sb3I6IHZhcigtLWNhcmQtbXV0ZWQtZmctY29sb3IpO1xuICAgIGB9XG5cbiAgICAmIGNvZGUge1xuICAgICAgZm9udC1mYW1pbHk6ICR7Zm9udC5jb2RlLmZhbWlseX07XG4gICAgICBib3JkZXItcmFkaXVzOiAxcHg7XG4gICAgfVxuXG4gICAgJiBhIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDFweDtcbiAgICAgIGNvbG9yOiB2YXIoLS1jYXJkLWxpbmstY29sb3IpO1xuICAgICAgb3V0bGluZTogbm9uZTtcblxuICAgICAgQG1lZGlhIChob3ZlcjogaG92ZXIpIHtcbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJjpmb2N1cyB7XG4gICAgICAgIGJveC1zaGFkb3c6XG4gICAgICAgICAgMCAwIDAgMXB4IHZhcigtLWNhcmQtYmctY29sb3IpLFxuICAgICAgICAgIDAgMCAwIDNweCB2YXIoLS1jYXJkLWZvY3VzLXJpbmctY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAmOmZvY3VzOm5vdCg6Zm9jdXMtdmlzaWJsZSkge1xuICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgfVxuICAgIH1cblxuICAgICYgc3Ryb25nIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiAke2ZvbnQuaGVhZGluZy53ZWlnaHRzLmJvbGR9O1xuICAgIH1cblxuICAgICYgc3ZnIHtcbiAgICAgIC8qIENlcnRhaW4gcG9wdWxhciBDU1MgbGlicmFyaWVzIGNoYW5nZXMgdGhlIGRlZmF1bHRzIGZvciBTVkcgZGlzcGxheSAqL1xuICAgICAgLyogTWFrZSBzdXJlIFNWR3MgYXJlIHJlbmRlcmVkIGFzIGlubGluZSBlbGVtZW50cyAqL1xuICAgICAgZGlzcGxheTogaW5saW5lO1xuICAgIH1cblxuICAgICYgW2RhdGEtc2FuaXR5LWljb25dIHtcbiAgICAgIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcbiAgICB9XG4gIGA7XG59XG5jb25zdCBSb290JG4gPSBzdHlsZWQuZGl2KGhlYWRpbmdCYXNlU3R5bGUsIHJlc3BvbnNpdmVUZXh0QWxpZ25TdHlsZSwgcmVzcG9uc2l2ZUhlYWRpbmdGb250KSwgU3BhbldpdGhUZXh0T3ZlcmZsb3cgPSBzdHlsZWQuc3BhbmBcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBvdmVyZmxvdzogY2xpcDtcbmAsIEhlYWRpbmcgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgY29uc3Qge1xuICAgIGFjY2VudCA9ICExLFxuICAgIGFsaWduLFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlblByb3AsXG4gICAgbXV0ZWQgPSAhMSxcbiAgICBzaXplOiBzaXplMiA9IDIsXG4gICAgdGV4dE92ZXJmbG93LFxuICAgIHdlaWdodCxcbiAgICAuLi5yZXN0UHJvcHNcbiAgfSA9IHByb3BzO1xuICBsZXQgY2hpbGRyZW4gPSBjaGlsZHJlblByb3A7XG4gIHJldHVybiB0ZXh0T3ZlcmZsb3cgPT09IFwiZWxsaXBzaXNcIiAmJiAoY2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8ganN4KFNwYW5XaXRoVGV4dE92ZXJmbG93LCB7IGNoaWxkcmVuIH0pKSwgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBSb290JG4sXG4gICAge1xuICAgICAgXCJkYXRhLXVpXCI6IFwiSGVhZGluZ1wiLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgJGFjY2VudDogYWNjZW50LFxuICAgICAgJGFsaWduOiB1c2VBcnJheVByb3AoYWxpZ24pLFxuICAgICAgJG11dGVkOiBtdXRlZCxcbiAgICAgICRzaXplOiB1c2VBcnJheVByb3Aoc2l6ZTIpLFxuICAgICAgJHdlaWdodDogd2VpZ2h0LFxuICAgICAgcmVmLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgY2hpbGRyZW4gfSlcbiAgICB9XG4gICk7XG59KTtcbmZ1bmN0aW9uIGlubGluZUJhc2VTdHlsZSgpIHtcbiAgcmV0dXJuIHtcbiAgICBsaW5lSGVpZ2h0OiAwLFxuICAgIFwiJiY6bm90KFtoaWRkZW5dKVwiOiB7XG4gICAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgICB9LFxuICAgIFwiJiA+IGRpdlwiOiB7XG4gICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgdmVydGljYWxBbGlnbjogXCJtaWRkbGVcIlxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGlubGluZVNwYWNlU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBtZWRpYSwgc3BhY2UgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKG1lZGlhLCBwcm9wcy4kc3BhY2UsIChzcGFjZUluZGV4KSA9PiB7XG4gICAgY29uc3QgX3NwYWNlID0gcmVtKHNwYWNlSW5kZXggPT09IDAuNSA/IHNwYWNlWzFdIC8gMiA6IHNwYWNlW3NwYWNlSW5kZXhdKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWFyZ2luOiBgLSR7X3NwYWNlfSAwIDAgLSR7X3NwYWNlfWAsXG4gICAgICBcIiYgPiBkaXZcIjogeyBwYWRkaW5nOiBgJHtfc3BhY2V9IDAgMCAke19zcGFjZX1gIH1cbiAgICB9O1xuICB9KTtcbn1cbmNvbnN0IFJvb3QkbSA9IHN0eWxlZChCb3gpKGlubGluZUJhc2VTdHlsZSwgaW5saW5lU3BhY2VTdHlsZSksIElubGluZSA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7IGFzLCBjaGlsZHJlbjogY2hpbGRyZW5Qcm9wLCBzcGFjZSwgLi4ucmVzdFByb3BzIH0gPSBwcm9wcywgY2hpbGRyZW4gPSB1c2VNZW1vKFxuICAgICgpID0+IENoaWxkcmVuLm1hcChjaGlsZHJlblByb3AsIChjaGlsZCkgPT4gY2hpbGQgJiYgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNoaWxkcmVuOiBjaGlsZCB9KSksXG4gICAgW2NoaWxkcmVuUHJvcF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgUm9vdCRtLFxuICAgIHtcbiAgICAgIFwiZGF0YS11aVwiOiBcIklubGluZVwiLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgJHNwYWNlOiB1c2VBcnJheVByb3Aoc3BhY2UpLFxuICAgICAgZm9yd2FyZGVkQXM6IGFzLFxuICAgICAgcmVmLFxuICAgICAgY2hpbGRyZW5cbiAgICB9XG4gICk7XG59KTtcbmZ1bmN0aW9uIGtiZFN0eWxlKCkge1xuICByZXR1cm4gY3NzYFxuICAgIC0tY2FyZC1iZy1jb2xvcjogdmFyKC0tY2FyZC1rYmQtYmctY29sb3IpO1xuICAgIC0tY2FyZC1ib3JkZXItY29sb3I6IHZhcigtLWNhcmQta2JkLWJvcmRlci1jb2xvcik7XG4gICAgLS1jYXJkLWZnLWNvbG9yOiB2YXIoLS1jYXJkLWtiZC1mZy1jb2xvcik7XG5cbiAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgMCAxcHggdmFyKC0tY2FyZC1ib3JkZXItY29sb3IpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYmctY29sb3IpO1xuICAgIGZvbnQ6IGluaGVyaXQ7XG5cbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuXG4gICAgJjpub3QoW2hpZGRlbl0pIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gIGA7XG59XG5jb25zdCBSb290JGwgPSBzdHlsZWQua2JkKHJlc3BvbnNpdmVSYWRpdXNTdHlsZSwga2JkU3R5bGUpLCBLQkQgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgZm9udFNpemU6IGZvbnRTaXplMiA9IDAsIHBhZGRpbmcgPSAxLCByYWRpdXMgPSAyLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChSb290JGwsIHsgXCJkYXRhLXVpXCI6IFwiS0JEXCIsIC4uLnJlc3RQcm9wcywgJHJhZGl1czogdXNlQXJyYXlQcm9wKHJhZGl1cyksIHJlZiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGFzOiBcInNwYW5cIiwgcGFkZGluZywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyBhczogXCJzcGFuXCIsIHNpemU6IGZvbnRTaXplMiwgd2VpZ2h0OiBcInNlbWlib2xkXCIsIGNoaWxkcmVuIH0pIH0pIH0pO1xufSksIG9yaWdpbiA9IHtcbiAgbmFtZTogXCJAc2FuaXR5L3VpL29yaWdpblwiLFxuICBmbih7IG1pZGRsZXdhcmVEYXRhLCBwbGFjZW1lbnQsIHJlY3RzIH0pIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IFtzaWRlXSA9IHBsYWNlbWVudC5zcGxpdChcIi1cIiksIGZsb2F0aW5nV2lkdGggPSByZWN0cy5mbG9hdGluZy53aWR0aCwgZmxvYXRpbmdIZWlnaHQgPSByZWN0cy5mbG9hdGluZy5oZWlnaHQsIHNoaWZ0WCA9ICgoX2EgPSBtaWRkbGV3YXJlRGF0YS5zaGlmdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLngpIHx8IDAsIHNoaWZ0WSA9ICgoX2IgPSBtaWRkbGV3YXJlRGF0YS5zaGlmdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnkpIHx8IDA7XG4gICAgaWYgKGZsb2F0aW5nV2lkdGggPD0gMCB8fCBmbG9hdGluZ0hlaWdodCA8PSAwKVxuICAgICAgcmV0dXJuIHt9O1xuICAgIGNvbnN0IGlzVmVydGljYWxQbGFjZW1lbnQgPSBbXCJib3R0b21cIiwgXCJ0b3BcIl0uaW5jbHVkZXMoc2lkZSksIHsgb3JpZ2luWCwgb3JpZ2luWSB9ID0gaXNWZXJ0aWNhbFBsYWNlbWVudCA/IHtcbiAgICAgIG9yaWdpblg6IGNsYW1wKDAuNSAtIHNoaWZ0WCAvIGZsb2F0aW5nV2lkdGgsIDAsIDEpLFxuICAgICAgb3JpZ2luWTogc2lkZSA9PT0gXCJib3R0b21cIiA/IDAgOiAxXG4gICAgfSA6IHtcbiAgICAgIG9yaWdpblg6IHNpZGUgPT09IFwibGVmdFwiID8gMSA6IDAsXG4gICAgICBvcmlnaW5ZOiBjbGFtcCgwLjUgLSBzaGlmdFkgLyBmbG9hdGluZ0hlaWdodCwgMCwgMSlcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiB7IG9yaWdpblgsIG9yaWdpblkgfVxuICAgIH07XG4gIH1cbn07XG5mdW5jdGlvbiBjbGFtcChudW0sIG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChudW0sIG1pbiksIG1heCk7XG59XG5mdW5jdGlvbiBtb3ZlVG93YXJkc0xlbmd0aChtb3ZpbmdQb2ludCwgdGFyZ2V0UG9pbnQsIGFtb3VudCkge1xuICBjb25zdCB3aWR0aCA9IHRhcmdldFBvaW50LnggLSBtb3ZpbmdQb2ludC54LCBoZWlnaHQgPSB0YXJnZXRQb2ludC55IC0gbW92aW5nUG9pbnQueSwgZGlzdGFuY2UgPSBNYXRoLnNxcnQod2lkdGggKiB3aWR0aCArIGhlaWdodCAqIGhlaWdodCk7XG4gIHJldHVybiBtb3ZlVG93YXJkc0ZyYWN0aW9uYWwobW92aW5nUG9pbnQsIHRhcmdldFBvaW50LCBNYXRoLm1pbigxLCBhbW91bnQgLyBkaXN0YW5jZSkpO1xufVxuZnVuY3Rpb24gbW92ZVRvd2FyZHNGcmFjdGlvbmFsKG1vdmluZ1BvaW50LCB0YXJnZXRQb2ludCwgZnJhY3Rpb24pIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBtb3ZpbmdQb2ludC54ICsgKHRhcmdldFBvaW50LnggLSBtb3ZpbmdQb2ludC54KSAqIGZyYWN0aW9uLFxuICAgIHk6IG1vdmluZ1BvaW50LnkgKyAodGFyZ2V0UG9pbnQueSAtIG1vdmluZ1BvaW50LnkpICogZnJhY3Rpb25cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFJvdW5kZWRDb21tYW5kcyhwb2ludHMpIHtcbiAgY29uc3QgbGVuID0gcG9pbnRzLmxlbmd0aCwgY21kcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV0sIHByZXZQb2ludCA9IHBvaW50c1tpIC0gMV0sIG5leHRQb2ludCA9IHBvaW50c1tpICsgMV07XG4gICAgaWYgKHByZXZQb2ludCAmJiBwb2ludC5yYWRpdXMpIHtcbiAgICAgIGNvbnN0IGN1cnZlU3RhcnQgPSBtb3ZlVG93YXJkc0xlbmd0aChwb2ludCwgcHJldlBvaW50LCBwb2ludC5yYWRpdXMpLCBjdXJ2ZUVuZCA9IG1vdmVUb3dhcmRzTGVuZ3RoKHBvaW50LCBuZXh0UG9pbnQsIHBvaW50LnJhZGl1cyksIHN0YXJ0Q29udHJvbCA9IG1vdmVUb3dhcmRzRnJhY3Rpb25hbChjdXJ2ZVN0YXJ0LCBwb2ludCwgMC41KSwgZW5kQ29udHJvbCA9IG1vdmVUb3dhcmRzRnJhY3Rpb25hbChwb2ludCwgY3VydmVFbmQsIDAuNSk7XG4gICAgICBjbWRzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInBvaW50XCIsXG4gICAgICAgIC4uLmN1cnZlU3RhcnRcbiAgICAgIH0pLCBjbWRzLnB1c2goe1xuICAgICAgICB0eXBlOiBcImN1cnZlXCIsXG4gICAgICAgIGN1cnZlRW5kLFxuICAgICAgICBzdGFydENvbnRyb2wsXG4gICAgICAgIGVuZENvbnRyb2xcbiAgICAgIH0pO1xuICAgIH0gZWxzZVxuICAgICAgY21kcy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJwb2ludFwiLFxuICAgICAgICAuLi5wb2ludFxuICAgICAgfSk7XG4gIH1cbiAgcmV0dXJuIGNtZHM7XG59XG5mdW5jdGlvbiBjb21waWxlQ29tbWFuZHMoY21kcykge1xuICByZXR1cm4gY21kcy5tYXAoKG4sIGlkeCkgPT4gbi50eXBlID09PSBcInBvaW50XCIgPyBgJHtpZHggPT09IDAgPyBcIk1cIiA6IFwiTFwifSAke24ueH0gJHtuLnl9YCA6IG4udHlwZSA9PT0gXCJjdXJ2ZVwiID8gYEMgJHtuLnN0YXJ0Q29udHJvbC54fSAke24uc3RhcnRDb250cm9sLnl9ICR7bi5lbmRDb250cm9sLnh9ICR7bi5lbmRDb250cm9sLnl9ICR7bi5jdXJ2ZUVuZC54fSAke24uY3VydmVFbmQueX1gIDogXCJcIikuam9pbihcIiBcIik7XG59XG5jb25zdCBSb290JGsgPSBzdHlsZWQuZGl2KFxuICAoeyAkdzogdyB9KSA9PiBjc3NgXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiAke3d9cHg7XG4gICAgaGVpZ2h0OiAke3d9cHg7XG5cbiAgICA6ZW1wdHkgKyAmIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuXG4gICAgJiA+IHN2ZyB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGxpbmUtaGVpZ2h0OiAwO1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogJHt3IC8gMn1weCAke3cgLyAyfXB4O1xuICAgIH1cblxuICAgIFtkYXRhLXBsYWNlbWVudF49J3RvcCddID4gJiB7XG4gICAgICBib3R0b206IC0ke3d9cHg7XG5cbiAgICAgICYgPiBzdmcge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBbZGF0YS1wbGFjZW1lbnRePSdyaWdodCddID4gJiB7XG4gICAgICBsZWZ0OiAtJHt3fXB4O1xuXG4gICAgICAmID4gc3ZnIHtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFtkYXRhLXBsYWNlbWVudF49J2xlZnQnXSA+ICYge1xuICAgICAgcmlnaHQ6IC0ke3d9cHg7XG5cbiAgICAgICYgPiBzdmcge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFtkYXRhLXBsYWNlbWVudF49J2JvdHRvbSddID4gJiB7XG4gICAgICB0b3A6IC0ke3d9cHg7XG5cbiAgICAgICYgPiBzdmcge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xuICAgICAgfVxuICAgIH1cbiAgYFxuKSwgU3Ryb2tlUGF0aCA9IHN0eWxlZC5wYXRoYFxuICBzdHJva2U6IHZhcigtLWNhcmQtc2hhZG93LW91dGxpbmUtY29sb3IpO1xuYCwgU2hhcGVQYXRoID0gc3R5bGVkLnBhdGhgXG4gIGZpbGw6IHZhcigtLWNhcmQtYmctY29sb3IpO1xuYCwgQXJyb3cgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgY29uc3QgeyB3aWR0aDogdywgaGVpZ2h0OiBoLCByYWRpdXMgPSAwLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzLCB7IGNhcmQgfSA9IHVzZVRoZW1lX3YyKCksIHN0cm9rZVdpZHRoID0gY2FyZC5zaGFkb3cub3V0bGluZSwgY2VudGVyID0gdyAvIDIsIHBvaW50cyA9IFtcbiAgICB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH0sXG4gICAge1xuICAgICAgeDogcmFkaXVzLFxuICAgICAgeTogMCxcbiAgICAgIHJhZGl1c1xuICAgIH0sXG4gICAge1xuICAgICAgeDogY2VudGVyLFxuICAgICAgeTogaCAtIDEsXG4gICAgICByYWRpdXNcbiAgICB9LFxuICAgIHtcbiAgICAgIHg6IHcgLSByYWRpdXMsXG4gICAgICB5OiAwLFxuICAgICAgcmFkaXVzXG4gICAgfSxcbiAgICB7XG4gICAgICB4OiB3LFxuICAgICAgeTogMFxuICAgIH1cbiAgXSwgY21kcyA9IGdldFJvdW5kZWRDb21tYW5kcyhwb2ludHMpLCBwYXRoID0gY29tcGlsZUNvbW1hbmRzKGNtZHMpLCBzdHJva2VQYXRoID0gYCR7cGF0aH1gLCBmaWxsUGF0aCA9IGAke3BhdGh9IE0gJHt3fSAtMSBNIDAgLTEgWmA7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFJvb3QkaywgeyAuLi5yZXN0UHJvcHMsICR3OiB3LCByZWYsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcInN2Z1wiLCB7IHdpZHRoOiB3LCBoZWlnaHQ6IHcsIHZpZXdCb3g6IGAwIDAgJHt3fSAke3d9YCwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KFwibWFza1wiLCB7IGlkOiBcInN0cm9rZS1tYXNrXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwicmVjdFwiLCB7IHg6IDAsIHk6IHN0cm9rZVdpZHRoLCB3aWR0aDogdywgaGVpZ2h0OiB3LCBmaWxsOiBcIndoaXRlXCIgfSkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChTdHJva2VQYXRoLCB7IGQ6IHN0cm9rZVBhdGgsIG1hc2s6IFwidXJsKCNzdHJva2UtbWFzaylcIiwgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoICogMiB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KFNoYXBlUGF0aCwgeyBkOiBmaWxsUGF0aCB9KVxuICBdIH0pIH0pO1xufSksIGtleSQ3ID0gU3ltYm9sLmZvcihcIkBzYW5pdHkvdWkvY29udGV4dC9ib3VuZGFyeUVsZW1lbnRcIiksIEJvdW5kYXJ5RWxlbWVudENvbnRleHQgPSBjcmVhdGVHbG9iYWxTY29wZWRDb250ZXh0KFxuICBrZXkkNyxcbiAgbnVsbFxuKTtcbmZ1bmN0aW9uIEJvdW5kYXJ5RWxlbWVudFByb3ZpZGVyKHByb3BzKSB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGVsZW1lbnQgfSA9IHByb3BzLCB2YWx1ZSA9IHVzZU1lbW8oKCkgPT4gKHsgdmVyc2lvbjogMCwgZWxlbWVudCB9KSwgW2VsZW1lbnRdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQm91bmRhcnlFbGVtZW50Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZSwgY2hpbGRyZW4gfSk7XG59XG5mdW5jdGlvbiBpc1JlY29yZCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKTtcbn1cbmNvbnN0IERFRkFVTFRfVkFMVUUgPSB7XG4gIHZlcnNpb246IDAsXG4gIGVsZW1lbnQ6IG51bGxcbn07XG5mdW5jdGlvbiB1c2VCb3VuZGFyeUVsZW1lbnQoKSB7XG4gIGNvbnN0IHZhbHVlID0gdXNlQ29udGV4dChCb3VuZGFyeUVsZW1lbnRDb250ZXh0KTtcbiAgaWYgKHZhbHVlICYmICghaXNSZWNvcmQodmFsdWUpIHx8IHZhbHVlLnZlcnNpb24gIT09IDApKVxuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUJvdW5kYXJ5RWxlbWVudCgpOiB0aGUgY29udGV4dCB2YWx1ZSBpcyBub3QgY29tcGF0aWJsZVwiKTtcbiAgcmV0dXJuIHZhbHVlIHx8IERFRkFVTFRfVkFMVUU7XG59XG5mdW5jdGlvbiBDb25kaXRpb25hbFdyYXBwZXIoe1xuICBjaGlsZHJlbixcbiAgY29uZGl0aW9uLFxuICB3cmFwcGVyXG59KSB7XG4gIHJldHVybiBjb25kaXRpb24gPyB3cmFwcGVyKGNoaWxkcmVuKSA6IGNoaWxkcmVuO1xufVxuZnVuY3Rpb24gZmluZE1heEJyZWFrcG9pbnRzKG1lZGlhLCB3aWR0aCkge1xuICBjb25zdCByZXQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWRpYS5sZW5ndGg7IGkgKz0gMSlcbiAgICBtZWRpYVtpXSA+IHdpZHRoICYmIHJldC5wdXNoKGkpO1xuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gZmluZE1pbkJyZWFrcG9pbnRzKG1lZGlhLCB3aWR0aCkge1xuICBjb25zdCByZXQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWRpYS5sZW5ndGg7IGkgKz0gMSlcbiAgICBtZWRpYVtpXSA8PSB3aWR0aCAmJiByZXQucHVzaChpKTtcbiAgcmV0dXJuIHJldDtcbn1cbmNvbnN0IEVsZW1lbnRRdWVyeSA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIGZvcndhcmRlZFJlZikge1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lX3YyKCksIHsgY2hpbGRyZW4sIG1lZGlhID0gdGhlbWUubWVkaWEsIC4uLnJlc3RQcm9wcyB9ID0gcHJvcHMsIHJlZiA9IHVzZVJlZihudWxsKSwgW2VsZW1lbnQsIHNldEVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCksIGVsZW1lbnRTaXplID0gdXNlRWxlbWVudFNpemUoZWxlbWVudCksIHdpZHRoID0gdXNlTWVtbygoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBlbGVtZW50U2l6ZSA9PSBudWxsID8gdm9pZCAwIDogZWxlbWVudFNpemUuYm9yZGVyLndpZHRoKSAhPSBudWxsID8gX2EgOiB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgfSwgW2VsZW1lbnRTaXplXSksIG1heCA9IHVzZU1lbW8oKCkgPT4gZmluZE1heEJyZWFrcG9pbnRzKG1lZGlhLCB3aWR0aCksIFttZWRpYSwgd2lkdGhdKSwgbWluID0gdXNlTWVtbygoKSA9PiBmaW5kTWluQnJlYWtwb2ludHMobWVkaWEsIHdpZHRoKSwgW21lZGlhLCB3aWR0aF0pO1xuICB1c2VJbXBlcmF0aXZlSGFuZGxlKGZvcndhcmRlZFJlZiwgKCkgPT4gcmVmLmN1cnJlbnQpO1xuICBjb25zdCBzZXRSZWYgPSB1c2VDYWxsYmFjaygoZWwpID0+IHtcbiAgICByZWYuY3VycmVudCA9IGVsLCBzZXRFbGVtZW50KGVsKTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIFwiZGF0YS11aVwiOiBcIkVsZW1lbnRRdWVyeVwiLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgXCJkYXRhLWVxLW1heFwiOiBtYXgubGVuZ3RoID8gbWF4LmpvaW4oXCIgXCIpIDogdm9pZCAwLFxuICAgICAgXCJkYXRhLWVxLW1pblwiOiBtaW4ubGVuZ3RoID8gbWluLmpvaW4oXCIgXCIpIDogdm9pZCAwLFxuICAgICAgcmVmOiBzZXRSZWYsXG4gICAgICBjaGlsZHJlblxuICAgIH1cbiAgKTtcbn0pO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5MiwgdmFsdWUpID0+IGtleTIgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5MiwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZSB9KSA6IG9ialtrZXkyXSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5MiwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIGtleTIgKyBcIlwiLCB2YWx1ZSk7XG5jbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0YXRlXCIsIHsgZXJyb3I6IG51bGwgfSk7XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikge1xuICAgIHJldHVybiB7IGVycm9yIH07XG4gIH1cbiAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGluZm8pIHtcbiAgICB0aGlzLnByb3BzLm9uQ2F0Y2goeyBlcnJvciwgaW5mbyB9KTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0eXBlb2YgKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSA9PSBcInN0cmluZ1wiID8gZXJyb3IubWVzc2FnZSA6IFwiRXJyb3JcIjtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KENvZGUsIHsgY2hpbGRyZW46IG1lc3NhZ2UgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG59XG5mdW5jdGlvbiBnZXRMYXllckNvbnRleHQoY29udGV4dFZhbHVlKSB7XG4gIGlmICghaXNSZWNvcmQoY29udGV4dFZhbHVlKSB8fCBjb250ZXh0VmFsdWUudmVyc2lvbiAhPT0gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0aGUgY29udGV4dCB2YWx1ZSBpcyBub3QgY29tcGF0aWJsZVwiKTtcbiAgaWYgKCFjb250ZXh0VmFsdWUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY29tcG9uZW50cyB1c2luZyBgdXNlTGF5ZXIoKWAgc2hvdWxkIGJlIHdyYXBwZWQgaW4gYSA8TGF5ZXJQcm92aWRlcj4uXCIpO1xuICBpZiAoY29udGV4dFZhbHVlLnZlcnNpb24gPT09IDApXG4gICAgcmV0dXJuIGNvbnRleHRWYWx1ZTtcbiAgdGhyb3cgbmV3IEVycm9yKFwiY291bGQgbm90IGdldCBsYXllciBjb250ZXh0XCIpO1xufVxuY29uc3Qga2V5JDYgPSBTeW1ib2wuZm9yKFwiQHNhbml0eS91aS9jb250ZXh0L2xheWVyXCIpLCBMYXllckNvbnRleHQgPSBjcmVhdGVHbG9iYWxTY29wZWRDb250ZXh0KGtleSQ2LCBudWxsKTtcbmZ1bmN0aW9uIHVzZUxheWVyKCkge1xuICBjb25zdCB2YWx1ZSA9IHVzZUNvbnRleHQoTGF5ZXJDb250ZXh0KTtcbiAgaWYgKCF2YWx1ZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VMYXllcigpOiBtaXNzaW5nIGNvbnRleHQgdmFsdWVcIik7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdldExheWVyQ29udGV4dCh2YWx1ZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93IGVyciBpbnN0YW5jZW9mIEVycm9yID8gbmV3IEVycm9yKGB1c2VMYXllcigpOiAke2Vyci5tZXNzYWdlfWApIDogbmV3IEVycm9yKGB1c2VMYXllcigpOiAke2Vycn1gKTtcbiAgfVxufVxuZnVuY3Rpb24gX3JhZihmbikge1xuICBjb25zdCBmcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZuKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZUlkKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIF9yYWYyKGZuKSB7XG4gIGxldCBpbm5lckRpc3Bvc2UgPSBudWxsO1xuICBjb25zdCBvdXRlckRpc3Bvc2UgPSBfcmFmKCgpID0+IHtcbiAgICBpbm5lckRpc3Bvc2UgPSBfcmFmKGZuKTtcbiAgfSk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaW5uZXJEaXNwb3NlICYmIGlubmVyRGlzcG9zZSgpLCBvdXRlckRpc3Bvc2UoKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIF9pc0VudGVyVG9DbGlja0VsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gaXNIVE1MQW5jaG9yRWxlbWVudChlbGVtZW50KSB8fCBpc0hUTUxCdXR0b25FbGVtZW50KGVsZW1lbnQpO1xufVxuZnVuY3Rpb24gaXNIVE1MRWxlbWVudChub2RlKSB7XG4gIHJldHVybiBub2RlIGluc3RhbmNlb2YgTm9kZSAmJiBub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERTtcbn1cbmZ1bmN0aW9uIGlzSFRNTEFuY2hvckVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gaXNIVE1MRWxlbWVudChlbGVtZW50KSAmJiBlbGVtZW50Lm5vZGVOYW1lID09PSBcIkFcIjtcbn1cbmZ1bmN0aW9uIGlzSFRNTElucHV0RWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBpc0hUTUxFbGVtZW50KGVsZW1lbnQpICYmIGVsZW1lbnQubm9kZU5hbWUgPT09IFwiSU5QVVRcIjtcbn1cbmZ1bmN0aW9uIGlzSFRNTEJ1dHRvbkVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gaXNIVE1MRWxlbWVudChlbGVtZW50KSAmJiBlbGVtZW50Lm5vZGVOYW1lID09PSBcIkJVVFRPTlwiO1xufVxuZnVuY3Rpb24gaXNIVE1MU2VsZWN0RWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBpc0hUTUxFbGVtZW50KGVsZW1lbnQpICYmIGVsZW1lbnQubm9kZU5hbWUgPT09IFwiU0VMRUNUXCI7XG59XG5mdW5jdGlvbiBpc0hUTUxUZXh0QXJlYUVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gaXNIVE1MRWxlbWVudChlbGVtZW50KSAmJiBlbGVtZW50Lm5vZGVOYW1lID09PSBcIlRFWFRBUkVBXCI7XG59XG5mdW5jdGlvbiBjb250YWluc09yRXF1YWxzRWxlbWVudChlbGVtZW50LCBub2RlKSB7XG4gIHJldHVybiBlbGVtZW50LmNvbnRhaW5zKG5vZGUpIHx8IGVsZW1lbnQgPT09IG5vZGU7XG59XG5mdW5jdGlvbiBfaGFzRm9jdXMoZWxlbWVudCkge1xuICByZXR1cm4gISFkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGVsZW1lbnQuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG59XG5mdW5jdGlvbiBpc0ZvY3VzYWJsZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LnRhYkluZGV4ID4gMCB8fCBlbGVtZW50LnRhYkluZGV4ID09PSAwICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGFiSW5kZXhcIikgIT09IG51bGwgPyAhMCA6IGlzSFRNTEFuY2hvckVsZW1lbnQoZWxlbWVudCkgPyAhIWVsZW1lbnQuaHJlZiAmJiBlbGVtZW50LnJlbCAhPT0gXCJpZ25vcmVcIiA6IGlzSFRNTElucHV0RWxlbWVudChlbGVtZW50KSA/IGVsZW1lbnQudHlwZSAhPT0gXCJoaWRkZW5cIiAmJiBlbGVtZW50LnR5cGUgIT09IFwiZmlsZVwiICYmICFlbGVtZW50LmRpc2FibGVkIDogaXNIVE1MQnV0dG9uRWxlbWVudChlbGVtZW50KSB8fCBpc0hUTUxTZWxlY3RFbGVtZW50KGVsZW1lbnQpIHx8IGlzSFRNTFRleHRBcmVhRWxlbWVudChlbGVtZW50KSA/ICFlbGVtZW50LmRpc2FibGVkIDogITE7XG59XG5mdW5jdGlvbiBhdHRlbXB0Rm9jdXMoZWxlbWVudCkge1xuICBpZiAoIWlzRm9jdXNhYmxlKGVsZW1lbnQpKVxuICAgIHJldHVybiAhMTtcbiAgdHJ5IHtcbiAgICBlbGVtZW50LmZvY3VzKCk7XG4gIH0gY2F0Y2gge1xuICB9XG4gIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBlbGVtZW50O1xufVxuZnVuY3Rpb24gZm9jdXNGaXJzdERlc2NlbmRhbnQoZWxlbWVudCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkID0gZWxlbWVudC5jaGlsZE5vZGVzW2ldO1xuICAgIGlmIChpc0hUTUxFbGVtZW50KGNoaWxkKSAmJiAoYXR0ZW1wdEZvY3VzKGNoaWxkKSB8fCBmb2N1c0ZpcnN0RGVzY2VuZGFudChjaGlsZCkpKVxuICAgICAgcmV0dXJuICEwO1xuICB9XG4gIHJldHVybiAhMTtcbn1cbmZ1bmN0aW9uIGZvY3VzTGFzdERlc2NlbmRhbnQoZWxlbWVudCkge1xuICBmb3IgKGxldCBpID0gZWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgY2hpbGQgPSBlbGVtZW50LmNoaWxkTm9kZXNbaV07XG4gICAgaWYgKGlzSFRNTEVsZW1lbnQoY2hpbGQpICYmIChhdHRlbXB0Rm9jdXMoY2hpbGQpIHx8IGZvY3VzTGFzdERlc2NlbmRhbnQoY2hpbGQpKSlcbiAgICAgIHJldHVybiAhMDtcbiAgfVxuICByZXR1cm4gITE7XG59XG5mdW5jdGlvbiBfaXNTY3JvbGxhYmxlKGVsKSB7XG4gIGlmICghKGVsIGluc3RhbmNlb2YgRWxlbWVudCkpIHJldHVybiAhMTtcbiAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gIHJldHVybiBzdHlsZS5vdmVyZmxvd1guaW5jbHVkZXMoXCJhdXRvXCIpIHx8IHN0eWxlLm92ZXJmbG93WC5pbmNsdWRlcyhcInNjcm9sbFwiKSB8fCBzdHlsZS5vdmVyZmxvd1kuaW5jbHVkZXMoXCJhdXRvXCIpIHx8IHN0eWxlLm92ZXJmbG93WS5pbmNsdWRlcyhcInNjcm9sbFwiKTtcbn1cbmZ1bmN0aW9uIExheWVyUHJvdmlkZXIocHJvcHMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7IGNoaWxkcmVuLCB6T2Zmc2V0OiB6T2Zmc2V0UHJvcCA9IDAgfSA9IHByb3BzLCBwYXJlbnRDb250ZXh0VmFsdWUgPSB1c2VDb250ZXh0KExheWVyQ29udGV4dCksIHBhcmVudCA9IHBhcmVudENvbnRleHRWYWx1ZSAmJiBnZXRMYXllckNvbnRleHQocGFyZW50Q29udGV4dFZhbHVlKSwgcGFyZW50UmVnaXN0ZXJDaGlsZCA9IHBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogcGFyZW50LnJlZ2lzdGVyQ2hpbGQsIGxldmVsID0gKChfYSA9IHBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogcGFyZW50LmxldmVsKSAhPSBudWxsID8gX2EgOiAwKSArIDEsIHpPZmZzZXQgPSB1c2VBcnJheVByb3Aoek9mZnNldFByb3ApLCBtYXhNZWRpYUluZGV4ID0gek9mZnNldC5sZW5ndGggLSAxLCBtZWRpYUluZGV4ID0gTWF0aC5taW4odXNlTWVkaWFJbmRleCgpLCBtYXhNZWRpYUluZGV4KSwgekluZGV4ID0gcGFyZW50ID8gcGFyZW50LnpJbmRleCArIHpPZmZzZXRbbWVkaWFJbmRleF0gOiB6T2Zmc2V0W21lZGlhSW5kZXhdLCBbLCBzZXRDaGlsZExheWVyc10gPSB1c2VTdGF0ZSh7fSksIFtzaXplMiwgc2V0U2l6ZV0gPSB1c2VTdGF0ZSgwKSwgaXNUb3BMYXllciA9IHNpemUyID09PSAwLCByZWdpc3RlckNoaWxkID0gdXNlQ2FsbGJhY2soXG4gICAgKGNoaWxkTGV2ZWwpID0+IHtcbiAgICAgIGNvbnN0IHBhcmVudERpc3Bvc2UgPSBwYXJlbnRSZWdpc3RlckNoaWxkID09IG51bGwgPyB2b2lkIDAgOiBwYXJlbnRSZWdpc3RlckNoaWxkKGNoaWxkTGV2ZWwpO1xuICAgICAgcmV0dXJuIGNoaWxkTGV2ZWwgIT09IHZvaWQgMCA/IHNldENoaWxkTGF5ZXJzKChzdGF0ZSkgPT4ge1xuICAgICAgICB2YXIgX2EyO1xuICAgICAgICBjb25zdCBwcmV2TGVuID0gKF9hMiA9IHN0YXRlW2NoaWxkTGV2ZWxdKSAhPSBudWxsID8gX2EyIDogMCwgbmV4dFN0YXRlID0geyAuLi5zdGF0ZSwgW2NoaWxkTGV2ZWxdOiBwcmV2TGVuICsgMSB9O1xuICAgICAgICByZXR1cm4gc2V0U2l6ZShPYmplY3Qua2V5cyhuZXh0U3RhdGUpLmxlbmd0aCksIG5leHRTdGF0ZTtcbiAgICAgIH0pIDogc2V0U2l6ZSgodikgPT4gdiArIDEpLCAoKSA9PiB7XG4gICAgICAgIGNoaWxkTGV2ZWwgIT09IHZvaWQgMCA/IHNldENoaWxkTGF5ZXJzKChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IHsgLi4uc3RhdGUgfTtcbiAgICAgICAgICByZXR1cm4gbmV4dFN0YXRlW2NoaWxkTGV2ZWxdID09PSAxID8gKGRlbGV0ZSBuZXh0U3RhdGVbY2hpbGRMZXZlbF0sIHNldFNpemUoT2JqZWN0LmtleXMobmV4dFN0YXRlKS5sZW5ndGgpKSA6IG5leHRTdGF0ZVtjaGlsZExldmVsXSAtPSAxLCBuZXh0U3RhdGU7XG4gICAgICAgIH0pIDogc2V0U2l6ZSgodikgPT4gdiAtIDEpLCBwYXJlbnREaXNwb3NlID09IG51bGwgfHwgcGFyZW50RGlzcG9zZSgpO1xuICAgICAgfTtcbiAgICB9LFxuICAgIFtwYXJlbnRSZWdpc3RlckNoaWxkXVxuICApO1xuICB1c2VFZmZlY3QoKCkgPT4gcGFyZW50UmVnaXN0ZXJDaGlsZCA9PSBudWxsID8gdm9pZCAwIDogcGFyZW50UmVnaXN0ZXJDaGlsZChsZXZlbCksIFtsZXZlbCwgcGFyZW50UmVnaXN0ZXJDaGlsZF0pO1xuICBjb25zdCB2YWx1ZSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIHZlcnNpb246IDAsXG4gICAgICBpc1RvcExheWVyLFxuICAgICAgbGV2ZWwsXG4gICAgICByZWdpc3RlckNoaWxkLFxuICAgICAgc2l6ZTogc2l6ZTIsXG4gICAgICB6SW5kZXhcbiAgICB9KSxcbiAgICBbaXNUb3BMYXllciwgbGV2ZWwsIHJlZ2lzdGVyQ2hpbGQsIHNpemUyLCB6SW5kZXhdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KExheWVyQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZSwgY2hpbGRyZW4gfSk7XG59XG5jb25zdCBSb290JGogPSBzdHlsZWQuZGl2KHsgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9KSwgTGF5ZXJDaGlsZHJlbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIGZvcndhcmRlZFJlZikge1xuICBjb25zdCB7IGNoaWxkcmVuLCBvbkFjdGl2YXRlLCBvbkZvY3VzLCBzdHlsZSA9IEVNUFRZX1JFQ09SRCwgLi4ucmVzdFByb3BzIH0gPSBwcm9wcywgeyB6SW5kZXgsIGlzVG9wTGF5ZXIgfSA9IHVzZUxheWVyKCksIGxhc3RGb2N1c2VkUmVmID0gdXNlUmVmKG51bGwpLCByZWYgPSB1c2VSZWYobnVsbCksIGlzVG9wTGF5ZXJSZWYgPSB1c2VSZWYoaXNUb3BMYXllcik7XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUoZm9yd2FyZGVkUmVmLCAoKSA9PiByZWYuY3VycmVudCksIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaXNUb3BMYXllclJlZi5jdXJyZW50ICE9PSBpc1RvcExheWVyICYmIGlzVG9wTGF5ZXIgJiYgKG9uQWN0aXZhdGUgPT0gbnVsbCB8fCBvbkFjdGl2YXRlKHsgYWN0aXZlRWxlbWVudDogbGFzdEZvY3VzZWRSZWYuY3VycmVudCB9KSksIGlzVG9wTGF5ZXJSZWYuY3VycmVudCA9IGlzVG9wTGF5ZXI7XG4gIH0sIFtpc1RvcExheWVyLCBvbkFjdGl2YXRlXSk7XG4gIGNvbnN0IGhhbmRsZUZvY3VzID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBvbkZvY3VzID09IG51bGwgfHwgb25Gb2N1cyhldmVudCk7XG4gICAgICBjb25zdCByb290RWxlbWVudCA9IHJlZi5jdXJyZW50LCB0YXJnZXQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgIWlzVG9wTGF5ZXIgfHwgIXJvb3RFbGVtZW50IHx8ICF0YXJnZXQgfHwgaXNIVE1MRWxlbWVudCh0YXJnZXQpICYmIGNvbnRhaW5zT3JFcXVhbHNFbGVtZW50KHJvb3RFbGVtZW50LCB0YXJnZXQpICYmIChsYXN0Rm9jdXNlZFJlZi5jdXJyZW50ID0gdGFyZ2V0KTtcbiAgICB9LFxuICAgIFtpc1RvcExheWVyLCBvbkZvY3VzXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChSb290JGosIHsgLi4ucmVzdFByb3BzLCBcImRhdGEtdWlcIjogXCJMYXllclwiLCBvbkZvY3VzOiBoYW5kbGVGb2N1cywgcmVmLCBzdHlsZTogeyAuLi5zdHlsZSwgekluZGV4IH0sIGNoaWxkcmVuIH0pO1xufSksIExheWVyID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIHpPZmZzZXQgPSAxLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChMYXllclByb3ZpZGVyLCB7IHpPZmZzZXQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KExheWVyQ2hpbGRyZW4sIHsgLi4ucmVzdFByb3BzLCByZWYsIGNoaWxkcmVuIH0pIH0pO1xufSksIGtleSQ1ID0gU3ltYm9sLmZvcihcIkBzYW5pdHkvdWkvY29udGV4dC9wb3J0YWxcIiksIGVsZW1lbnRLZXkgPSBTeW1ib2wuZm9yKFwiQHNhbml0eS91aS9jb250ZXh0L3BvcnRhbC9lbGVtZW50XCIpO1xuZ2xvYmFsU2NvcGVbZWxlbWVudEtleV0gPSBudWxsO1xuY29uc3QgZGVmYXVsdENvbnRleHRWYWx1ZSA9IHtcbiAgdmVyc2lvbjogMCxcbiAgYm91bmRhcnlFbGVtZW50OiBudWxsLFxuICBnZXQgZWxlbWVudCgpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRvY3VtZW50ID4gXCJ1XCIgPyBudWxsIDogKGdsb2JhbFNjb3BlW2VsZW1lbnRLZXldIHx8IChnbG9iYWxTY29wZVtlbGVtZW50S2V5XSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGdsb2JhbFNjb3BlW2VsZW1lbnRLZXldLnNldEF0dHJpYnV0ZShcImRhdGEtcG9ydGFsXCIsIFwiXCIpLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGdsb2JhbFNjb3BlW2VsZW1lbnRLZXldKSksIGdsb2JhbFNjb3BlW2VsZW1lbnRLZXldKTtcbiAgfVxufSwgUG9ydGFsQ29udGV4dCA9IGNyZWF0ZUdsb2JhbFNjb3BlZENvbnRleHQoa2V5JDUsIGRlZmF1bHRDb250ZXh0VmFsdWUpO1xuZnVuY3Rpb24gdXNlUG9ydGFsKCkge1xuICBjb25zdCB2YWx1ZSA9IHVzZUNvbnRleHQoUG9ydGFsQ29udGV4dCk7XG4gIGlmICghdmFsdWUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlUG9ydGFsKCk6IG1pc3NpbmcgY29udGV4dCB2YWx1ZVwiKTtcbiAgaWYgKCFpc1JlY29yZCh2YWx1ZSkgfHwgdmFsdWUudmVyc2lvbiAhPT0gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VQb3J0YWwoKTogdGhlIGNvbnRleHQgdmFsdWUgaXMgbm90IGNvbXBhdGlibGVcIik7XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIFBvcnRhbChwcm9wcykge1xuICB2YXIgX2E7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIF9fdW5zdGFibGVfbmFtZTogbmFtZSB9ID0gcHJvcHMsIHBvcnRhbCA9IHVzZVBvcnRhbCgpLCBwb3J0YWxFbGVtZW50ID0gKG5hbWUgPyBwb3J0YWwuZWxlbWVudHMgJiYgcG9ydGFsLmVsZW1lbnRzW25hbWVdIDogcG9ydGFsLmVsZW1lbnQpIHx8ICgoX2EgPSBwb3J0YWwuZWxlbWVudHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kZWZhdWx0KTtcbiAgcmV0dXJuIHBvcnRhbEVsZW1lbnQgPyBjcmVhdGVQb3J0YWwoY2hpbGRyZW4sIHBvcnRhbEVsZW1lbnQpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIHVzZVVuaXF1ZSh2YWx1ZSkge1xuICBjb25zdCB2YWx1ZVJlZiA9IHVzZVJlZih2YWx1ZSk7XG4gIHJldHVybiBfaXNFcXVhbCh2YWx1ZVJlZi5jdXJyZW50LCB2YWx1ZSkgfHwgKHZhbHVlUmVmLmN1cnJlbnQgPSB2YWx1ZSksIHZhbHVlUmVmLmN1cnJlbnQ7XG59XG5mdW5jdGlvbiBfaXNFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmICghb2JqQSB8fCAhb2JqQilcbiAgICByZXR1cm4gb2JqQSA9PT0gb2JqQjtcbiAgY29uc3Qga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKSwga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcbiAgcmV0dXJuIGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoID8gITEgOiBrZXlzQS5ldmVyeSgoa2V5MikgPT4gb2JqQVtrZXkyXSA9PT0gb2JqQltrZXkyXSk7XG59XG5mdW5jdGlvbiBQb3J0YWxQcm92aWRlcihwcm9wcykge1xuICBjb25zdCB7IGJvdW5kYXJ5RWxlbWVudCwgY2hpbGRyZW4sIGVsZW1lbnQsIF9fdW5zdGFibGVfZWxlbWVudHM6IGVsZW1lbnRzUHJvcCB9ID0gcHJvcHMsIGVsZW1lbnRzID0gdXNlVW5pcXVlKGVsZW1lbnRzUHJvcCksIGZhbGxiYWNrRWxlbWVudCA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgIGVtcHR5U3Vic2NyaWJlJDEsXG4gICAgKCkgPT4gZG9jdW1lbnQuYm9keSxcbiAgICAoKSA9PiBudWxsXG4gICksIHZhbHVlID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIHZlcnNpb246IDAsXG4gICAgYm91bmRhcnlFbGVtZW50OiBib3VuZGFyeUVsZW1lbnQgfHwgbnVsbCxcbiAgICBlbGVtZW50OiBlbGVtZW50IHx8IGZhbGxiYWNrRWxlbWVudCxcbiAgICBlbGVtZW50c1xuICB9KSwgW2JvdW5kYXJ5RWxlbWVudCwgZWxlbWVudCwgZWxlbWVudHMsIGZhbGxiYWNrRWxlbWVudF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChQb3J0YWxDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlLCBjaGlsZHJlbiB9KTtcbn1cbmNvbnN0IGVtcHR5U3Vic2NyaWJlJDEgPSAoKSA9PiAoKSA9PiB7XG59LCBSb290JGkgPSBzdHlsZWQuZGl2YFxuICBkaXNwbGF5OiBibG9jaztcbiAgd2lkdGg6IDA7XG4gIGhlaWdodDogMDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBvdmVyZmxvdzogY2xpcDtcbmAsIFNyT25seSA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7IGFzLCBjaGlsZHJlbiB9ID0gcHJvcHM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFJvb3QkaSwgeyBcImFyaWEtaGlkZGVuXCI6ICEwLCBhcywgXCJkYXRhLXVpXCI6IFwiU3JPbmx5XCIsIHJlZiwgY2hpbGRyZW4gfSk7XG59KSwgUm9vdCRoID0gc3R5bGVkLmRpdmBcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuYCwgSXRlbVdyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuYCwgVmlydHVhbExpc3QgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3QgeyBhcyA9IFwiZGl2XCIsIGdhcCA9IDAsIGdldEl0ZW1LZXksIGl0ZW1zID0gW10sIG9uQ2hhbmdlLCByZW5kZXJJdGVtLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzLCB7IHNwYWNlIH0gPSB1c2VUaGVtZV92MigpLCByZWYgPSB1c2VSZWYobnVsbCksIHdyYXBwZXJSZWYgPSB1c2VSZWYobnVsbCksIFtzY3JvbGxUb3AsIHNldFNjcm9sbFRvcF0gPSB1c2VTdGF0ZSgwKSwgW3Njcm9sbEhlaWdodCwgc2V0U2Nyb2xsSGVpZ2h0XSA9IHVzZVN0YXRlKDApLCBbaXRlbUhlaWdodCwgc2V0SXRlbUhlaWdodF0gPSB1c2VTdGF0ZSgtMSk7XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUoZm9yd2FyZGVkUmVmLCAoKSA9PiByZWYuY3VycmVudCksIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF3cmFwcGVyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBjb25zdCBmaXJzdEVsZW1lbnQgPSB3cmFwcGVyUmVmLmN1cnJlbnQuZmlyc3RDaGlsZDtcbiAgICBmaXJzdEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBzZXRJdGVtSGVpZ2h0KGZpcnN0RWxlbWVudC5vZmZzZXRIZWlnaHQpO1xuICB9LCBbcmVuZGVySXRlbV0pLCB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBsZXQgX3Njcm9sbEVsID0gcmVmLmN1cnJlbnQucGFyZW50Tm9kZTtcbiAgICBmb3IgKDsgX3Njcm9sbEVsICYmICFfaXNTY3JvbGxhYmxlKF9zY3JvbGxFbCk7IClcbiAgICAgIF9zY3JvbGxFbCA9IF9zY3JvbGxFbC5wYXJlbnROb2RlO1xuICAgIGlmIChfc2Nyb2xsRWwpIHtcbiAgICAgIGNvbnN0IHNjcm9sbEVsID0gX3Njcm9sbEVsO1xuICAgICAgaWYgKCEoc2Nyb2xsRWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcbiAgICAgIGNvbnN0IGhhbmRsZVNjcm9sbDIgPSAoKSA9PiB7XG4gICAgICAgIHNldFNjcm9sbFRvcChzY3JvbGxFbC5zY3JvbGxUb3ApO1xuICAgICAgfTtcbiAgICAgIHNjcm9sbEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsMiwgeyBwYXNzaXZlOiAhMCB9KTtcbiAgICAgIGNvbnN0IHJvID0gbmV3IF9SZXNpemVPYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgICAgICBzZXRTY3JvbGxIZWlnaHQoZW50cmllc1swXS5jb250ZW50UmVjdC5oZWlnaHQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcm8ub2JzZXJ2ZShzY3JvbGxFbCksIGhhbmRsZVNjcm9sbDIoKSwgKCkgPT4ge1xuICAgICAgICBzY3JvbGxFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbDIpLCByby51bm9ic2VydmUoc2Nyb2xsRWwpLCByby5kaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgICBzZXRTY3JvbGxUb3Aod2luZG93LnNjcm9sbFkpO1xuICAgIH0sIGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIHNldFNjcm9sbEhlaWdodCh3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbCwgeyBwYXNzaXZlOiAhMCB9KSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKSwgc2V0U2Nyb2xsSGVpZ2h0KHdpbmRvdy5pbm5lckhlaWdodCksIGhhbmRsZVNjcm9sbCgpLCAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgY29uc3QgbGVuID0gaXRlbXMubGVuZ3RoLCBoZWlnaHQgPSBpdGVtSGVpZ2h0ID8gbGVuICogKGl0ZW1IZWlnaHQgKyBzcGFjZVtnYXBdKSAtIHNwYWNlW2dhcF0gOiAwLCBmcm9tSW5kZXggPSBoZWlnaHQgPyBNYXRoLm1heChNYXRoLmZsb29yKHNjcm9sbFRvcCAvIGhlaWdodCAqIGxlbikgLSAyLCAwKSA6IDAsIHRvSW5kZXggPSBoZWlnaHQgPyBNYXRoLmNlaWwoKHNjcm9sbFRvcCArIHNjcm9sbEhlaWdodCkgLyBoZWlnaHQgKiBsZW4pICsgMSA6IDA7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgb25DaGFuZ2UgJiYgb25DaGFuZ2UoeyBmcm9tSW5kZXgsIGdhcDogc3BhY2VbZ2FwXSwgaXRlbUhlaWdodCwgc2Nyb2xsSGVpZ2h0LCBzY3JvbGxUb3AsIHRvSW5kZXggfSk7XG4gIH0sIFtmcm9tSW5kZXgsIGdhcCwgaXRlbUhlaWdodCwgb25DaGFuZ2UsIHNjcm9sbEhlaWdodCwgc2Nyb2xsVG9wLCBzcGFjZSwgdG9JbmRleF0pO1xuICBjb25zdCBjaGlsZHJlbiA9IHVzZU1lbW8oKCkgPT4gIXJlbmRlckl0ZW0gfHwgaXRlbXMubGVuZ3RoID09PSAwID8gbnVsbCA6IGl0ZW1IZWlnaHQgPT09IC0xID8gWy8qIEBfX1BVUkVfXyAqLyBqc3goSXRlbVdyYXBwZXIsIHsgY2hpbGRyZW46IHJlbmRlckl0ZW0oaXRlbXNbMF0pIH0sIDApXSA6IGl0ZW1zLnNsaWNlKGZyb21JbmRleCwgdG9JbmRleCkubWFwKChpdGVtLCBfaXRlbUluZGV4KSA9PiB7XG4gICAgY29uc3QgaXRlbUluZGV4ID0gZnJvbUluZGV4ICsgX2l0ZW1JbmRleCwgbm9kZSA9IHJlbmRlckl0ZW0oaXRlbSksIGtleTIgPSBnZXRJdGVtS2V5ID8gZ2V0SXRlbUtleShpdGVtLCBpdGVtSW5kZXgpIDogaXRlbUluZGV4O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEl0ZW1XcmFwcGVyLCB7IHN0eWxlOiB7IHRvcDogaXRlbUluZGV4ICogKGl0ZW1IZWlnaHQgKyBzcGFjZVtnYXBdKSB9LCBjaGlsZHJlbjogbm9kZSB9LCBrZXkyKTtcbiAgfSksIFtmcm9tSW5kZXgsIGdhcCwgZ2V0SXRlbUtleSwgaXRlbUhlaWdodCwgaXRlbXMsIHJlbmRlckl0ZW0sIHNwYWNlLCB0b0luZGV4XSksIHdyYXBwZXJTdHlsZSA9IHVzZU1lbW8oKCkgPT4gKHsgaGVpZ2h0IH0pLCBbaGVpZ2h0XSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFJvb3QkaCwgeyBhcywgXCJkYXRhLXVpXCI6IFwiVmlydHVhbExpc3RcIiwgLi4ucmVzdFByb3BzLCByZWYsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgcmVmOiB3cmFwcGVyUmVmLCBzdHlsZTogd3JhcHBlclN0eWxlLCBjaGlsZHJlbiB9KSB9KTtcbn0pLCBERUZBVUxUX1BPUE9WRVJfRElTVEFOQ0UgPSA0LCBERUZBVUxUX1BPUE9WRVJfUEFERElORyA9IDQsIERFRkFVTFRfUE9QT1ZFUl9BUlJPV19XSURUSCA9IDE5LCBERUZBVUxUX1BPUE9WRVJfQVJST1dfSEVJR0hUID0gOCwgREVGQVVMVF9QT1BPVkVSX0FSUk9XX1JBRElVUyA9IDIsIERFRkFVTFRfUE9QT1ZFUl9NQVJHSU5TID0gWzAsIDAsIDAsIDBdLCBERUZBVUxUX0ZBTExCQUNLX1BMQUNFTUVOVFMkMSA9IHtcbiAgdG9wOiBbXCJib3R0b21cIiwgXCJsZWZ0XCIsIFwicmlnaHRcIl0sXG4gIFwidG9wLXN0YXJ0XCI6IFtcImJvdHRvbS1zdGFydFwiLCBcImxlZnQtc3RhcnRcIiwgXCJyaWdodC1zdGFydFwiXSxcbiAgXCJ0b3AtZW5kXCI6IFtcImJvdHRvbS1lbmRcIiwgXCJsZWZ0LWVuZFwiLCBcInJpZ2h0LWVuZFwiXSxcbiAgYm90dG9tOiBbXCJ0b3BcIiwgXCJsZWZ0XCIsIFwicmlnaHRcIl0sXG4gIFwiYm90dG9tLXN0YXJ0XCI6IFtcInRvcC1zdGFydFwiLCBcImxlZnQtc3RhcnRcIiwgXCJyaWdodC1zdGFydFwiXSxcbiAgXCJib3R0b20tZW5kXCI6IFtcInRvcC1lbmRcIiwgXCJsZWZ0LWVuZFwiLCBcInJpZ2h0LWVuZFwiXSxcbiAgbGVmdDogW1wicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIl0sXG4gIFwibGVmdC1zdGFydFwiOiBbXCJyaWdodC1zdGFydFwiLCBcInRvcC1zdGFydFwiLCBcImJvdHRvbS1zdGFydFwiXSxcbiAgXCJsZWZ0LWVuZFwiOiBbXCJyaWdodC1lbmRcIiwgXCJ0b3AtZW5kXCIsIFwiYm90dG9tLWVuZFwiXSxcbiAgcmlnaHQ6IFtcImxlZnRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIl0sXG4gIFwicmlnaHQtc3RhcnRcIjogW1wibGVmdC1zdGFydFwiLCBcInRvcC1zdGFydFwiLCBcImJvdHRvbS1zdGFydFwiXSxcbiAgXCJyaWdodC1lbmRcIjogW1wibGVmdC1lbmRcIiwgXCJ0b3AtZW5kXCIsIFwiYm90dG9tLWVuZFwiXVxufTtcbmZ1bmN0aW9uIHNpemUob3B0aW9ucykge1xuICBjb25zdCB7IGFwcGx5LCBtYXJnaW5zLCBwYWRkaW5nID0gMCB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcIkBzYW5pdHkvdWkvc2l6ZVwiLFxuICAgIGFzeW5jIGZuKGFyZ3MpIHtcbiAgICAgIGNvbnN0IHsgZWxlbWVudHMsIHBsYWNlbWVudCwgcGxhdGZvcm0sIHJlY3RzIH0gPSBhcmdzLCB7IGZsb2F0aW5nLCByZWZlcmVuY2UgfSA9IHJlY3RzLCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KGFyZ3MsIHtcbiAgICAgICAgYWx0Qm91bmRhcnk6ICEwLFxuICAgICAgICBib3VuZGFyeTogb3B0aW9ucy5ib3VuZGFyeUVsZW1lbnQgfHwgdm9pZCAwLFxuICAgICAgICBlbGVtZW50Q29udGV4dDogXCJmbG9hdGluZ1wiLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICByb290Qm91bmRhcnk6IFwidmlld3BvcnRcIlxuICAgICAgfSk7XG4gICAgICBsZXQgbWF4V2lkdGggPSAxIC8gMCwgbWF4SGVpZ2h0ID0gMSAvIDA7XG4gICAgICBjb25zdCBmbG9hdGluZ1cgPSBmbG9hdGluZy53aWR0aCwgZmxvYXRpbmdIID0gZmxvYXRpbmcuaGVpZ2h0O1xuICAgICAgcGxhY2VtZW50LmluY2x1ZGVzKFwidG9wXCIpICYmIChtYXhXaWR0aCA9IGZsb2F0aW5nVyAtIChvdmVyZmxvdy5sZWZ0ICsgb3ZlcmZsb3cucmlnaHQpLCBtYXhIZWlnaHQgPSBmbG9hdGluZ0ggLSBvdmVyZmxvdy50b3ApLCBwbGFjZW1lbnQuaW5jbHVkZXMoXCJyaWdodFwiKSAmJiAobWF4V2lkdGggPSBmbG9hdGluZ1cgLSBvdmVyZmxvdy5yaWdodCwgbWF4SGVpZ2h0ID0gZmxvYXRpbmdIIC0gKG92ZXJmbG93LnRvcCArIG92ZXJmbG93LmJvdHRvbSkpLCBwbGFjZW1lbnQuaW5jbHVkZXMoXCJib3R0b21cIikgJiYgKG1heFdpZHRoID0gZmxvYXRpbmdXIC0gKG92ZXJmbG93LmxlZnQgKyBvdmVyZmxvdy5yaWdodCksIG1heEhlaWdodCA9IGZsb2F0aW5nSCAtIG92ZXJmbG93LmJvdHRvbSksIHBsYWNlbWVudC5pbmNsdWRlcyhcImxlZnRcIikgJiYgKG1heFdpZHRoID0gZmxvYXRpbmdXIC0gb3ZlcmZsb3cubGVmdCwgbWF4SGVpZ2h0ID0gZmxvYXRpbmdIIC0gKG92ZXJmbG93LnRvcCArIG92ZXJmbG93LmJvdHRvbSkpLCBhcHBseSh7XG4gICAgICAgIGF2YWlsYWJsZVdpZHRoOiBtYXhXaWR0aCAtIG1hcmdpbnNbMV0gLSBtYXJnaW5zWzNdLFxuICAgICAgICBhdmFpbGFibGVIZWlnaHQ6IG1heEhlaWdodCAtIG1hcmdpbnNbMF0gLSBtYXJnaW5zWzJdLFxuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgcmVmZXJlbmNlV2lkdGg6IHJlZmVyZW5jZS53aWR0aCAtIG1hcmdpbnNbMV0gLSBtYXJnaW5zWzNdXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5leHREaW1lbnNpb25zID0gYXdhaXQgcGxhdGZvcm0uZ2V0RGltZW5zaW9ucyhlbGVtZW50cy5mbG9hdGluZyksIHRhcmdldEggPSBuZXh0RGltZW5zaW9ucy5oZWlnaHQsIHRhcmdldFcgPSBuZXh0RGltZW5zaW9ucy53aWR0aDtcbiAgICAgIHJldHVybiBmbG9hdGluZ1cgIT09IHRhcmdldFcgfHwgZmxvYXRpbmdIICE9PSB0YXJnZXRIID8geyByZXNldDogeyByZWN0czogITAgfSB9IDoge307XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gY2FsY0N1cnJlbnRXaWR0aChwYXJhbXMpIHtcbiAgY29uc3QgeyBjb250YWluZXIsIG1lZGlhSW5kZXgsIHdpZHRoIH0gPSBwYXJhbXMsIHcgPSB3aWR0aFttZWRpYUluZGV4XSwgY3VycmVudFdpZHRoID0gdyA9PT0gdm9pZCAwID8gd2lkdGhbd2lkdGgubGVuZ3RoIC0gMV0gOiB3O1xuICByZXR1cm4gdHlwZW9mIGN1cnJlbnRXaWR0aCA9PSBcIm51bWJlclwiID8gY29udGFpbmVyW2N1cnJlbnRXaWR0aF0gOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBjYWxjTWF4V2lkdGgocGFyYW1zKSB7XG4gIGNvbnN0IHsgYm91bmRhcnlXaWR0aCwgY3VycmVudFdpZHRoIH0gPSBwYXJhbXM7XG4gIGlmICghKGN1cnJlbnRXaWR0aCA9PT0gdm9pZCAwICYmIGJvdW5kYXJ5V2lkdGggPT09IHZvaWQgMCkpXG4gICAgcmV0dXJuIE1hdGgubWluKFxuICAgICAgY3VycmVudFdpZHRoICE9IG51bGwgPyBjdXJyZW50V2lkdGggOiAxIC8gMCxcbiAgICAgIChib3VuZGFyeVdpZHRoIHx8IDEgLyAwKSAtIERFRkFVTFRfUE9QT1ZFUl9QQURESU5HICogMlxuICAgICk7XG59XG5jb25zdCBNb3Rpb25DYXJkJDEgPSBzdHlsZWQobW90aW9uKENhcmQpKWBcbiAgJjpub3QoW2hpZGRlbl0pIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICB9XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHdpZHRoOiBtYXgtY29udGVudDtcbiAgbWluLXdpZHRoOiBtaW4tY29udGVudDtcbiAgJiA+ICoge1xuICAgIG9wYWNpdHk6IHZhcigke1BPUE9WRVJfTU9USU9OX0NPTlRFTlRfT1BBQ0lUWV9QUk9QRVJUWX0sIDEpO1xuICAgIHdpbGwtY2hhbmdlOiBvcGFjaXR5O1xuICB9XG5gLCBQb3BvdmVyQ2FyZCA9IG1lbW8oXG4gIGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHtcbiAgICAgIF9fdW5zdGFibGVfbWFyZ2luczogbWFyZ2luc1Byb3AsXG4gICAgICBhbmltYXRlLFxuICAgICAgYXJyb3c6IGFycm93MixcbiAgICAgIGFycm93UmVmLFxuICAgICAgYXJyb3dYLFxuICAgICAgYXJyb3dZLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBwYWRkaW5nLFxuICAgICAgcGxhY2VtZW50LFxuICAgICAgb3JpZ2luWCxcbiAgICAgIG9yaWdpblksXG4gICAgICBvdmVyZmxvdyxcbiAgICAgIHJhZGl1cyxcbiAgICAgIHNjaGVtZSxcbiAgICAgIHNoYWRvdyxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgc3R5bGUsXG4gICAgICB0b25lLFxuICAgICAgd2lkdGgsXG4gICAgICB4OiB4UHJvcCxcbiAgICAgIHk6IHlQcm9wLFxuICAgICAgLi4ucmVzdFByb3BzXG4gICAgfSA9IHByb3BzLCB7IHpJbmRleCB9ID0gdXNlTGF5ZXIoKSwgbWFyZ2lucyA9IHVzZU1lbW8oXG4gICAgICAoKSA9PiBtYXJnaW5zUHJvcCB8fCBERUZBVUxUX1BPUE9WRVJfTUFSR0lOUyxcbiAgICAgIFttYXJnaW5zUHJvcF1cbiAgICApLCB4ID0gKHhQcm9wICE9IG51bGwgPyB4UHJvcCA6IDApICsgbWFyZ2luc1szXSwgeSA9ICh5UHJvcCAhPSBudWxsID8geVByb3AgOiAwKSArIG1hcmdpbnNbMF0sIHJvb3RTdHlsZTIgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gKHtcbiAgICAgICAgbGVmdDogeCxcbiAgICAgICAgb3JpZ2luWCxcbiAgICAgICAgb3JpZ2luWSxcbiAgICAgICAgcG9zaXRpb246IHN0cmF0ZWd5LFxuICAgICAgICB0b3A6IHksXG4gICAgICAgIHdpZHRoLFxuICAgICAgICB6SW5kZXgsXG4gICAgICAgIHdpbGxDaGFuZ2U6IGFuaW1hdGUgPyBcInRyYW5zZm9ybVwiIDogdm9pZCAwLFxuICAgICAgICAuLi5zdHlsZVxuICAgICAgfSksXG4gICAgICBbYW5pbWF0ZSwgb3JpZ2luWCwgb3JpZ2luWSwgc3RyYXRlZ3ksIHN0eWxlLCB3aWR0aCwgeCwgeSwgekluZGV4XVxuICAgICksIGFycm93U3R5bGUgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gKHtcbiAgICAgICAgbGVmdDogYXJyb3dYICE9PSBudWxsID8gYXJyb3dYIDogdm9pZCAwLFxuICAgICAgICB0b3A6IGFycm93WSAhPT0gbnVsbCA/IGFycm93WSA6IHZvaWQgMCxcbiAgICAgICAgcmlnaHQ6IHZvaWQgMCxcbiAgICAgICAgYm90dG9tOiB2b2lkIDBcbiAgICAgIH0pLFxuICAgICAgW2Fycm93WCwgYXJyb3dZXVxuICAgICk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgTW90aW9uQ2FyZCQxLFxuICAgICAge1xuICAgICAgICBcImRhdGEtdWlcIjogXCJQb3BvdmVyXCIsXG4gICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgICAgXCJkYXRhLXBsYWNlbWVudFwiOiBwbGFjZW1lbnQsXG4gICAgICAgIHJhZGl1cyxcbiAgICAgICAgcmVmLFxuICAgICAgICBzY2hlbWUsXG4gICAgICAgIHNoYWRvdyxcbiAgICAgICAgc2l6aW5nOiBcImJvcmRlclwiLFxuICAgICAgICBzdHlsZTogcm9vdFN0eWxlMixcbiAgICAgICAgdG9uZSxcbiAgICAgICAgLi4uYW5pbWF0ZSA/IFBPUE9WRVJfTU9USU9OX1BST1BTIDoge30sXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChGbGV4LCB7IFwiZGF0YS11aVwiOiBcIlBvcG92ZXJfX3dyYXBwZXJcIiwgZGlyZWN0aW9uOiBcImNvbHVtblwiLCBmbGV4OiAxLCBvdmVyZmxvdywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRmxleCwgeyBkaXJlY3Rpb246IFwiY29sdW1uXCIsIGZsZXg6IDEsIHBhZGRpbmcsIGNoaWxkcmVuIH0pIH0pLFxuICAgICAgICAgIGFycm93MiAmJiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgQXJyb3csXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJlZjogYXJyb3dSZWYsXG4gICAgICAgICAgICAgIHN0eWxlOiBhcnJvd1N0eWxlLFxuICAgICAgICAgICAgICB3aWR0aDogREVGQVVMVF9QT1BPVkVSX0FSUk9XX1dJRFRILFxuICAgICAgICAgICAgICBoZWlnaHQ6IERFRkFVTFRfUE9QT1ZFUl9BUlJPV19IRUlHSFQsXG4gICAgICAgICAgICAgIHJhZGl1czogREVGQVVMVF9QT1BPVkVSX0FSUk9XX1JBRElVU1xuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgXVxuICAgICAgfVxuICAgICk7XG4gIH0pXG4pO1xuUG9wb3ZlckNhcmQuZGlzcGxheU5hbWUgPSBcIlBvcG92ZXJDYXJkXCI7XG5jb25zdCBQb3BvdmVyID0gbWVtbyhcbiAgZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgZm9yd2FyZGVkUmVmKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2ksIF9qO1xuICAgIGNvbnN0IHsgY29udGFpbmVyLCBsYXllciB9ID0gdXNlVGhlbWVfdjIoKSwgYm91bmRhcnlFbGVtZW50Q29udGV4dCA9IHVzZUJvdW5kYXJ5RWxlbWVudCgpLCB7XG4gICAgICBfX3Vuc3RhYmxlX21hcmdpbnM6IG1hcmdpbnMgPSBERUZBVUxUX1BPUE9WRVJfTUFSR0lOUyxcbiAgICAgIGFuaW1hdGU6IF9hbmltYXRlID0gITEsXG4gICAgICBhcnJvdzogYXJyb3dQcm9wID0gITEsXG4gICAgICBib3VuZGFyeUVsZW1lbnQgPSBib3VuZGFyeUVsZW1lbnRDb250ZXh0LmVsZW1lbnQsXG4gICAgICBjaGlsZHJlbjogY2hpbGRQcm9wLFxuICAgICAgY29uc3RyYWluU2l6ZSA9ICExLFxuICAgICAgY29udGVudCxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzID0gKF9iID0gcHJvcHMuZmFsbGJhY2tQbGFjZW1lbnRzKSAhPSBudWxsID8gX2IgOiBERUZBVUxUX0ZBTExCQUNLX1BMQUNFTUVOVFMkMVsoX2EgPSBwcm9wcy5wbGFjZW1lbnQpICE9IG51bGwgPyBfYSA6IFwiYm90dG9tXCJdLFxuICAgICAgbWF0Y2hSZWZlcmVuY2VXaWR0aCxcbiAgICAgIGZsb2F0aW5nQm91bmRhcnkgPSAoX2MgPSBwcm9wcy5ib3VuZGFyeUVsZW1lbnQpICE9IG51bGwgPyBfYyA6IGJvdW5kYXJ5RWxlbWVudENvbnRleHQuZWxlbWVudCxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICAgIG9uQWN0aXZhdGUsXG4gICAgICBvcGVuLFxuICAgICAgb3ZlcmZsb3cgPSBcImhpZGRlblwiLFxuICAgICAgcGFkZGluZzogcGFkZGluZ1Byb3AsXG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudFByb3AgPSBcImJvdHRvbVwiLFxuICAgICAgcG9ydGFsLFxuICAgICAgcHJldmVudE92ZXJmbG93ID0gITAsXG4gICAgICByYWRpdXM6IHJhZGl1c1Byb3AgPSAzLFxuICAgICAgcmVmZXJlbmNlQm91bmRhcnkgPSAoX2QgPSBwcm9wcy5ib3VuZGFyeUVsZW1lbnQpICE9IG51bGwgPyBfZCA6IGJvdW5kYXJ5RWxlbWVudENvbnRleHQuZWxlbWVudCxcbiAgICAgIHJlZmVyZW5jZUVsZW1lbnQsXG4gICAgICBzY2hlbWUsXG4gICAgICBzaGFkb3c6IHNoYWRvd1Byb3AgPSAzLFxuICAgICAgdG9uZSA9IFwiaW5oZXJpdFwiLFxuICAgICAgd2lkdGg6IHdpZHRoUHJvcCA9IFwiYXV0b1wiLFxuICAgICAgek9mZnNldDogek9mZnNldFByb3AgPSBsYXllci5wb3BvdmVyLnpPZmZzZXQsXG4gICAgICB1cGRhdGVSZWYsXG4gICAgICAuLi5yZXN0UHJvcHNcbiAgICB9ID0gcHJvcHMsIGFuaW1hdGUgPSB1c2VQcmVmZXJzUmVkdWNlZE1vdGlvbigpID8gITEgOiBfYW5pbWF0ZSwgYm91bmRhcnlTaXplID0gKF9lID0gdXNlRWxlbWVudFNpemUoYm91bmRhcnlFbGVtZW50KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmJvcmRlciwgcGFkZGluZyA9IHVzZUFycmF5UHJvcChwYWRkaW5nUHJvcCksIHJhZGl1cyA9IHVzZUFycmF5UHJvcChyYWRpdXNQcm9wKSwgc2hhZG93ID0gdXNlQXJyYXlQcm9wKHNoYWRvd1Byb3ApLCB3aWR0aEFycmF5UHJvcCA9IHVzZUFycmF5UHJvcCh3aWR0aFByb3ApLCB6T2Zmc2V0ID0gdXNlQXJyYXlQcm9wKHpPZmZzZXRQcm9wKSwgcmVmID0gdXNlUmVmKG51bGwpLCBhcnJvd1JlZiA9IHVzZVJlZihudWxsKSwgcm9vdEJvdW5kYXJ5ID0gXCJ2aWV3cG9ydFwiO1xuICAgIHVzZUltcGVyYXRpdmVIYW5kbGUoXG4gICAgICBmb3J3YXJkZWRSZWYsXG4gICAgICAoKSA9PiByZWYuY3VycmVudFxuICAgICk7XG4gICAgY29uc3QgbWVkaWFJbmRleCA9IHVzZU1lZGlhSW5kZXgoKSwgYm91bmRhcnlXaWR0aCA9IGNvbnN0cmFpblNpemUgfHwgcHJldmVudE92ZXJmbG93ID8gYm91bmRhcnlTaXplID09IG51bGwgPyB2b2lkIDAgOiBib3VuZGFyeVNpemUud2lkdGggOiB2b2lkIDAsIHdpZHRoID0gY2FsY0N1cnJlbnRXaWR0aCh7XG4gICAgICBjb250YWluZXIsXG4gICAgICBtZWRpYUluZGV4LFxuICAgICAgd2lkdGg6IHdpZHRoQXJyYXlQcm9wXG4gICAgfSksIHdpZHRoUmVmID0gdXNlUmVmKHdpZHRoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgd2lkdGhSZWYuY3VycmVudCA9IHdpZHRoO1xuICAgIH0sIFt3aWR0aF0pO1xuICAgIGNvbnN0IG1heFdpZHRoID0gY2FsY01heFdpZHRoKHsgYm91bmRhcnlXaWR0aCwgY3VycmVudFdpZHRoOiB3aWR0aCB9KSwgbWF4V2lkdGhSZWYgPSB1c2VSZWYobWF4V2lkdGgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBtYXhXaWR0aFJlZi5jdXJyZW50ID0gbWF4V2lkdGg7XG4gICAgfSwgW21heFdpZHRoXSk7XG4gICAgY29uc3QgcmVmZXJlbmNlV2lkdGhSZWYgPSB1c2VSZWYoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgZmxvYXRpbmdFbGVtZW50ID0gcmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoIW9wZW4gfHwgIWZsb2F0aW5nRWxlbWVudCkgcmV0dXJuO1xuICAgICAgY29uc3QgcmVmZXJlbmNlV2lkdGggPSByZWZlcmVuY2VXaWR0aFJlZi5jdXJyZW50O1xuICAgICAgbWF0Y2hSZWZlcmVuY2VXaWR0aCA/IHJlZmVyZW5jZVdpZHRoICE9PSB2b2lkIDAgJiYgKGZsb2F0aW5nRWxlbWVudC5zdHlsZS53aWR0aCA9IGAke3JlZmVyZW5jZVdpZHRofXB4YCkgOiB3aWR0aCAhPT0gdm9pZCAwICYmIChmbG9hdGluZ0VsZW1lbnQuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGApLCB0eXBlb2YgbWF4V2lkdGggPT0gXCJudW1iZXJcIiAmJiAoZmxvYXRpbmdFbGVtZW50LnN0eWxlLm1heFdpZHRoID0gYCR7bWF4V2lkdGh9cHhgKTtcbiAgICB9LCBbd2lkdGgsIG1hdGNoUmVmZXJlbmNlV2lkdGgsIG1heFdpZHRoLCBvcGVuXSk7XG4gICAgY29uc3QgbWlkZGxld2FyZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgY29uc3QgcmV0ID0gW107XG4gICAgICByZXR1cm4gKGNvbnN0cmFpblNpemUgfHwgcHJldmVudE92ZXJmbG93KSAmJiByZXQucHVzaChcbiAgICAgICAgZmxpcCh7XG4gICAgICAgICAgYm91bmRhcnk6IGZsb2F0aW5nQm91bmRhcnkgfHwgdm9pZCAwLFxuICAgICAgICAgIGZhbGxiYWNrUGxhY2VtZW50cyxcbiAgICAgICAgICBwYWRkaW5nOiBERUZBVUxUX1BPUE9WRVJfUEFERElORyxcbiAgICAgICAgICByb290Qm91bmRhcnlcbiAgICAgICAgfSlcbiAgICAgICksIHJldC5wdXNoKG9mZnNldCh7IG1haW5BeGlzOiBERUZBVUxUX1BPUE9WRVJfRElTVEFOQ0UgfSkpLCAoY29uc3RyYWluU2l6ZSB8fCBtYXRjaFJlZmVyZW5jZVdpZHRoKSAmJiByZXQucHVzaChcbiAgICAgICAgc2l6ZSh7XG4gICAgICAgICAgYXBwbHkoeyBhdmFpbGFibGVXaWR0aCwgYXZhaWxhYmxlSGVpZ2h0LCBlbGVtZW50cywgcmVmZXJlbmNlV2lkdGggfSkge1xuICAgICAgICAgICAgcmVmZXJlbmNlV2lkdGhSZWYuY3VycmVudCA9IHJlZmVyZW5jZVdpZHRoO1xuICAgICAgICAgICAgY29uc3QgX2N1cnJlbnRXaWR0aCA9IHdpZHRoUmVmLmN1cnJlbnQsIF9tYXhXaWR0aCA9IG1heFdpZHRoUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBtYXRjaFJlZmVyZW5jZVdpZHRoID8gZWxlbWVudHMuZmxvYXRpbmcuc3R5bGUud2lkdGggPSBgJHtyZWZlcmVuY2VXaWR0aH1weGAgOiBfY3VycmVudFdpZHRoICE9PSB2b2lkIDAgJiYgKGVsZW1lbnRzLmZsb2F0aW5nLnN0eWxlLndpZHRoID0gYCR7X2N1cnJlbnRXaWR0aH1weGApLCBjb25zdHJhaW5TaXplICYmIChlbGVtZW50cy5mbG9hdGluZy5zdHlsZS5tYXhXaWR0aCA9IGAke01hdGgubWluKFxuICAgICAgICAgICAgICBhdmFpbGFibGVXaWR0aCxcbiAgICAgICAgICAgICAgX21heFdpZHRoICE9IG51bGwgPyBfbWF4V2lkdGggOiAxIC8gMFxuICAgICAgICAgICAgKX1weGAsIGVsZW1lbnRzLmZsb2F0aW5nLnN0eWxlLm1heEhlaWdodCA9IGAke2F2YWlsYWJsZUhlaWdodH1weGApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYm91bmRhcnlFbGVtZW50OiBmbG9hdGluZ0JvdW5kYXJ5IHx8IHZvaWQgMCxcbiAgICAgICAgICBjb25zdHJhaW5TaXplLFxuICAgICAgICAgIG1hcmdpbnMsXG4gICAgICAgICAgbWF0Y2hSZWZlcmVuY2VXaWR0aCxcbiAgICAgICAgICBwYWRkaW5nOiBERUZBVUxUX1BPUE9WRVJfUEFERElOR1xuICAgICAgICB9KVxuICAgICAgKSwgcHJldmVudE92ZXJmbG93ICYmIHJldC5wdXNoKFxuICAgICAgICBzaGlmdCh7XG4gICAgICAgICAgYm91bmRhcnk6IGZsb2F0aW5nQm91bmRhcnkgfHwgdm9pZCAwLFxuICAgICAgICAgIHJvb3RCb3VuZGFyeSxcbiAgICAgICAgICBwYWRkaW5nOiBERUZBVUxUX1BPUE9WRVJfUEFERElOR1xuICAgICAgICB9KVxuICAgICAgKSwgYXJyb3dQcm9wICYmIHJldC5wdXNoKFxuICAgICAgICBhcnJvdyh7XG4gICAgICAgICAgZWxlbWVudDogYXJyb3dSZWYsXG4gICAgICAgICAgcGFkZGluZzogREVGQVVMVF9QT1BPVkVSX1BBRERJTkdcbiAgICAgICAgfSlcbiAgICAgICksIGFuaW1hdGUgJiYgcmV0LnB1c2gob3JpZ2luKSwgcmV0LnB1c2goXG4gICAgICAgIGhpZGUoe1xuICAgICAgICAgIGJvdW5kYXJ5OiByZWZlcmVuY2VCb3VuZGFyeSB8fCB2b2lkIDAsXG4gICAgICAgICAgcGFkZGluZzogREVGQVVMVF9QT1BPVkVSX1BBRERJTkcsXG4gICAgICAgICAgc3RyYXRlZ3k6IFwicmVmZXJlbmNlSGlkZGVuXCJcbiAgICAgICAgfSlcbiAgICAgICksIHJldDtcbiAgICB9LCBbXG4gICAgICBhbmltYXRlLFxuICAgICAgYXJyb3dQcm9wLFxuICAgICAgY29uc3RyYWluU2l6ZSxcbiAgICAgIGZhbGxiYWNrUGxhY2VtZW50cyxcbiAgICAgIGZsb2F0aW5nQm91bmRhcnksXG4gICAgICBtYXJnaW5zLFxuICAgICAgbWF0Y2hSZWZlcmVuY2VXaWR0aCxcbiAgICAgIHByZXZlbnRPdmVyZmxvdyxcbiAgICAgIHJlZmVyZW5jZUJvdW5kYXJ5XG4gICAgXSksIHsgeCwgeSwgbWlkZGxld2FyZURhdGEsIHBsYWNlbWVudCwgcmVmcywgc3RyYXRlZ3ksIHVwZGF0ZSB9ID0gdXNlRmxvYXRpbmcoe1xuICAgICAgbWlkZGxld2FyZSxcbiAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50UHJvcCxcbiAgICAgIHdoaWxlRWxlbWVudHNNb3VudGVkOiBhdXRvVXBkYXRlXG4gICAgfSksIHJlZmVyZW5jZUhpZGRlbiA9IChfZiA9IG1pZGRsZXdhcmVEYXRhLmhpZGUpID09IG51bGwgPyB2b2lkIDAgOiBfZi5yZWZlcmVuY2VIaWRkZW4sIGFycm93WCA9IChfZyA9IG1pZGRsZXdhcmVEYXRhLmFycm93KSA9PSBudWxsID8gdm9pZCAwIDogX2cueCwgYXJyb3dZID0gKF9oID0gbWlkZGxld2FyZURhdGEuYXJyb3cpID09IG51bGwgPyB2b2lkIDAgOiBfaC55LCBvcmlnaW5YID0gKF9pID0gbWlkZGxld2FyZURhdGFbXCJAc2FuaXR5L3VpL29yaWdpblwiXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pLm9yaWdpblgsIG9yaWdpblkgPSAoX2ogPSBtaWRkbGV3YXJlRGF0YVtcIkBzYW5pdHkvdWkvb3JpZ2luXCJdKSA9PSBudWxsID8gdm9pZCAwIDogX2oub3JpZ2luWSwgc2V0QXJyb3cgPSB1c2VDYWxsYmFjaygoYXJyb3dFbCkgPT4ge1xuICAgICAgYXJyb3dSZWYuY3VycmVudCA9IGFycm93RWw7XG4gICAgfSwgW10pLCBzZXRGbG9hdGluZyA9IHVzZUNhbGxiYWNrKFxuICAgICAgKG5vZGUpID0+IHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBub2RlLCByZWZzLnNldEZsb2F0aW5nKG5vZGUpO1xuICAgICAgfSxcbiAgICAgIFtyZWZzXVxuICAgICksIHNldFJlZmVyZW5jZSA9IHVzZUNhbGxiYWNrKFxuICAgICAgKG5vZGUpID0+IHtcbiAgICAgICAgcmVmcy5zZXRSZWZlcmVuY2Uobm9kZSk7XG4gICAgICAgIGNvbnN0IGNoaWxkUmVmID0gY2hpbGRQcm9wID09IG51bGwgPyB2b2lkIDAgOiBjaGlsZFByb3AucmVmO1xuICAgICAgICB0eXBlb2YgY2hpbGRSZWYgPT0gXCJmdW5jdGlvblwiID8gY2hpbGRSZWYobm9kZSkgOiBjaGlsZFJlZiAmJiAoY2hpbGRSZWYuY3VycmVudCA9IG5vZGUpO1xuICAgICAgfSxcbiAgICAgIFtjaGlsZFByb3AsIHJlZnNdXG4gICAgKSwgY2hpbGQgPSB1c2VNZW1vKCgpID0+ICFjaGlsZFByb3AgfHwgcmVmZXJlbmNlRWxlbWVudCA/IG51bGwgOiBjbG9uZUVsZW1lbnQoY2hpbGRQcm9wLCB7IHJlZjogc2V0UmVmZXJlbmNlIH0pLCBbY2hpbGRQcm9wLCByZWZlcmVuY2VFbGVtZW50LCBzZXRSZWZlcmVuY2VdKTtcbiAgICBpZiAodXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIHVwZGF0ZVJlZiAmJiAodHlwZW9mIHVwZGF0ZVJlZiA9PSBcImZ1bmN0aW9uXCIgPyB1cGRhdGVSZWYodXBkYXRlKSA6IHVwZGF0ZVJlZiAmJiAodXBkYXRlUmVmLmN1cnJlbnQgPSB1cGRhdGUpKTtcbiAgICB9LCBbdXBkYXRlLCB1cGRhdGVSZWZdKSwgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNoaWxkIHx8IHJlZnMuc2V0UmVmZXJlbmNlKHJlZmVyZW5jZUVsZW1lbnQgfHwgbnVsbCk7XG4gICAgfSwgW3JlZmVyZW5jZUVsZW1lbnQsIHJlZnMsIGNoaWxkXSksIGRpc2FibGVkKVxuICAgICAgcmV0dXJuIGNoaWxkUHJvcCB8fCAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7fSk7XG4gICAgY29uc3QgcG9wb3ZlciA9IC8qIEBfX1BVUkVfXyAqLyBqc3goTGF5ZXJQcm92aWRlciwgeyB6T2Zmc2V0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFBvcG92ZXJDYXJkLFxuICAgICAge1xuICAgICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICAgIF9fdW5zdGFibGVfbWFyZ2luczogbWFyZ2lucyxcbiAgICAgICAgYW5pbWF0ZSxcbiAgICAgICAgYXJyb3c6IGFycm93UHJvcCxcbiAgICAgICAgYXJyb3dSZWY6IHNldEFycm93LFxuICAgICAgICBhcnJvd1gsXG4gICAgICAgIGFycm93WSxcbiAgICAgICAgaGlkZGVuOiByZWZlcmVuY2VIaWRkZW4sXG4gICAgICAgIG92ZXJmbG93LFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHJhZGl1cyxcbiAgICAgICAgcmVmOiBzZXRGbG9hdGluZyxcbiAgICAgICAgc2NoZW1lLFxuICAgICAgICBzaGFkb3csXG4gICAgICAgIG9yaWdpblgsXG4gICAgICAgIG9yaWdpblksXG4gICAgICAgIHN0cmF0ZWd5LFxuICAgICAgICB0b25lLFxuICAgICAgICB3aWR0aDogbWF0Y2hSZWZlcmVuY2VXaWR0aCA/IHJlZmVyZW5jZVdpZHRoUmVmLmN1cnJlbnQgOiB3aWR0aCxcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgY2hpbGRyZW46IGNvbnRlbnRcbiAgICAgIH1cbiAgICApIH0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgQ29uZGl0aW9uYWxXcmFwcGVyLFxuICAgICAgICB7XG4gICAgICAgICAgY29uZGl0aW9uOiBhbmltYXRlLFxuICAgICAgICAgIHdyYXBwZXI6IChjaGlsZHJlbikgPT4gLyogQF9fUFVSRV9fICovIGpzeChBbmltYXRlUHJlc2VuY2UsIHsgY2hpbGRyZW4gfSksXG4gICAgICAgICAgY2hpbGRyZW46IG9wZW4gJiYgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgIENvbmRpdGlvbmFsV3JhcHBlcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29uZGl0aW9uOiAhIXBvcnRhbCxcbiAgICAgICAgICAgICAgd3JhcHBlcjogKGNoaWxkcmVuKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFBvcnRhbCwgeyBfX3Vuc3RhYmxlX25hbWU6IHR5cGVvZiBwb3J0YWwgPT0gXCJzdHJpbmdcIiA/IHBvcnRhbCA6IHZvaWQgMCwgY2hpbGRyZW4gfSksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBwb3BvdmVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgY2hpbGRcbiAgICBdIH0pO1xuICB9KVxuKTtcblBvcG92ZXIuZGlzcGxheU5hbWUgPSBcIlBvcG92ZXJcIjtcbmZ1bmN0aW9uIHJhZGlvQmFzZVN0eWxlKCkge1xuICByZXR1cm4gY3NzYFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgICY6bm90KFtoaWRkZW5dKSB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgfVxuXG4gICAgJltkYXRhLXJlYWQtb25seV0ge1xuICAgICAgb3V0bGluZTogMXB4IHNvbGlkIHJlZDtcbiAgICB9XG4gIGA7XG59XG5mdW5jdGlvbiBpbnB1dEVsZW1lbnRTdHlsZShwcm9wcykge1xuICBjb25zdCB7IGNvbG9yLCBpbnB1dCB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpLCBkaXN0ID0gKGlucHV0LnJhZGlvLnNpemUgLSBpbnB1dC5yYWRpby5tYXJrU2l6ZSkgLyAyO1xuICByZXR1cm4gY3NzYFxuICAgIGFwcGVhcmFuY2U6IG5vbmU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIG9wYWNpdHk6IDA7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgei1pbmRleDogMTtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogMDtcbiAgICBib3JkZXItcmFkaXVzOiAke3JlbShpbnB1dC5yYWRpby5zaXplIC8gMil9O1xuICAgIGJvcmRlcjogbm9uZTtcblxuICAgIC8qIGVuYWJsZWQgKi9cbiAgICAmICsgc3BhbiB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGhlaWdodDogJHtyZW0oaW5wdXQucmFkaW8uc2l6ZSl9O1xuICAgICAgd2lkdGg6ICR7cmVtKGlucHV0LnJhZGlvLnNpemUpfTtcbiAgICAgIGJvcmRlci1yYWRpdXM6ICR7cmVtKGlucHV0LnJhZGlvLnNpemUgLyAyKX07XG4gICAgICBiYWNrZ3JvdW5kOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5iZ307XG4gICAgICBib3gtc2hhZG93OiAke2ZvY3VzUmluZ0JvcmRlclN0eWxlKHtcbiAgICBjb2xvcjogY29sb3IuaW5wdXQuZGVmYXVsdC5lbmFibGVkLmJvcmRlcixcbiAgICB3aWR0aDogaW5wdXQuYm9yZGVyLndpZHRoXG4gIH0pfTtcblxuICAgICAgJjo6YWZ0ZXIge1xuICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6ICR7cmVtKGRpc3QpfTtcbiAgICAgICAgbGVmdDogJHtyZW0oZGlzdCl9O1xuICAgICAgICBoZWlnaHQ6ICR7cmVtKGlucHV0LnJhZGlvLm1hcmtTaXplKX07XG4gICAgICAgIHdpZHRoOiAke3JlbShpbnB1dC5yYWRpby5tYXJrU2l6ZSl9O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAke3JlbShpbnB1dC5yYWRpby5tYXJrU2l6ZSAvIDIpfTtcbiAgICAgICAgYmFja2dyb3VuZDogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmVuYWJsZWQuZmd9O1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qIGZvY3VzZWQgKi9cbiAgICAmOm5vdCg6ZGlzYWJsZWQpOmZvY3VzICsgc3BhbiB7XG4gICAgICBib3gtc2hhZG93OiAke2ZvY3VzUmluZ1N0eWxlKHtcbiAgICBib3JkZXI6IHsgd2lkdGg6IGlucHV0LmJvcmRlci53aWR0aCwgY29sb3I6IGNvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5ib3JkZXIgfSxcbiAgICBmb2N1c1Jpbmc6IGlucHV0LnJhZGlvLmZvY3VzUmluZ1xuICB9KX07XG4gICAgfVxuXG4gICAgJjpub3QoOmRpc2FibGVkKTpmb2N1czpub3QoOmZvY3VzLXZpc2libGUpICsgc3BhbiB7XG4gICAgICBib3gtc2hhZG93OiAke2ZvY3VzUmluZ0JvcmRlclN0eWxlKHtcbiAgICBjb2xvcjogY29sb3IuaW5wdXQuZGVmYXVsdC5lbmFibGVkLmJvcmRlcixcbiAgICB3aWR0aDogaW5wdXQuYm9yZGVyLndpZHRoXG4gIH0pfTtcbiAgICB9XG5cbiAgICAmOmNoZWNrZWQgKyBzcGFuOjphZnRlciB7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgIH1cblxuICAgIC8qIGN1c3RvbVZhbGlkaXR5ICovXG4gICAgJltkYXRhLWVycm9yXSArIHNwYW4ge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvci5pbnB1dC5pbnZhbGlkLmVuYWJsZWQuYm9yZGVyfTtcbiAgICAgIGJveC1zaGFkb3c6ICR7Zm9jdXNSaW5nQm9yZGVyU3R5bGUoe1xuICAgIHdpZHRoOiBpbnB1dC5ib3JkZXIud2lkdGgsXG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmludmFsaWQuZW5hYmxlZC5tdXRlZC5iZ1xuICB9KX07XG4gICAgICAmOjphZnRlciB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3IuaW5wdXQuaW52YWxpZC5lbmFibGVkLm11dGVkLmJnfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiByZWFkIG9ubHkgKi9cbiAgICAmW2RhdGEtcmVhZC1vbmx5XSArIHNwYW4ge1xuICAgICAgYm94LXNoYWRvdzogMCAwIDAgMXB4ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5yZWFkT25seS5ib3JkZXJ9O1xuICAgICAgYmFja2dyb3VuZDogJHtjb2xvci5pbnB1dC5kZWZhdWx0LnJlYWRPbmx5LmJnfTtcblxuICAgICAgJjo6YWZ0ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke2NvbG9yLmlucHV0LmRlZmF1bHQucmVhZE9ubHkuYm9yZGVyfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBkaXNhYmxlZCAqL1xuICAgICY6bm90KFtkYXRhLXJlYWQtb25seV0pOmRpc2FibGVkICsgc3BhbiB7XG4gICAgICBib3gtc2hhZG93OiAwIDAgMCAxcHggJHtjb2xvci5pbnB1dC5kZWZhdWx0LmRpc2FibGVkLmJvcmRlcn07XG4gICAgICBiYWNrZ3JvdW5kOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZGlzYWJsZWQuYmd9O1xuXG4gICAgICAmOjphZnRlciB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5kaXNhYmxlZC5ib3JkZXJ9O1xuICAgICAgfVxuICAgIH1cbiAgYDtcbn1cbmNvbnN0IFJvb3QkZyA9IHN0eWxlZC5kaXYocmFkaW9CYXNlU3R5bGUpLCBJbnB1dCQ0ID0gc3R5bGVkLmlucHV0KGlucHV0RWxlbWVudFN0eWxlKSwgUmFkaW8gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3QgeyBjbGFzc05hbWUsIGRpc2FibGVkLCBzdHlsZSwgY3VzdG9tVmFsaWRpdHksIHJlYWRPbmx5LCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzLCByZWYgPSB1c2VSZWYobnVsbCk7XG4gIHJldHVybiB1c2VJbXBlcmF0aXZlSGFuZGxlKFxuICAgIGZvcndhcmRlZFJlZixcbiAgICAoKSA9PiByZWYuY3VycmVudFxuICApLCB1c2VDdXN0b21WYWxpZGl0eShyZWYsIGN1c3RvbVZhbGlkaXR5KSwgLyogQF9fUFVSRV9fICovIGpzeHMoUm9vdCRnLCB7IGNsYXNzTmFtZSwgXCJkYXRhLXVpXCI6IFwiUmFkaW9cIiwgc3R5bGUsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIElucHV0JDQsXG4gICAgICB7XG4gICAgICAgIFwiZGF0YS1yZWFkLW9ubHlcIjogIWRpc2FibGVkICYmIHJlYWRPbmx5ID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgICAgXCJkYXRhLWVycm9yXCI6IGN1c3RvbVZhbGlkaXR5ID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQgfHwgcmVhZE9ubHksXG4gICAgICAgIHJlYWRPbmx5LFxuICAgICAgICByZWYsXG4gICAgICAgIHR5cGU6IFwicmFkaW9cIlxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcInNwYW5cIiwge30pXG4gIF0gfSk7XG59KTtcbmZ1bmN0aW9uIHJvb3RTdHlsZSgpIHtcbiAgcmV0dXJuIGNzc2BcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgd2lkdGg6IC1tb3otYXZhaWxhYmxlO1xuICAgIHdpZHRoOiAtd2Via2l0LWZpbGwtYXZhaWxhYmxlO1xuICAgIHdpZHRoOiBzdHJldGNoO1xuXG4gICAgJjpub3QoW2hpZGRlbl0pIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gIGA7XG59XG5mdW5jdGlvbiBpbnB1dEJhc2VTdHlsZShwcm9wcykge1xuICBjb25zdCB7IGZvbnQgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIGNzc2BcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgICBhcHBlYXJhbmNlOiBub25lO1xuICAgIGJvcmRlcjogMDtcbiAgICBmb250LWZhbWlseTogJHtmb250LnRleHQuZmFtaWx5fTtcbiAgICBjb2xvcjogaW5oZXJpdDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIG1hcmdpbjogMDtcblxuICAgICY6ZGlzYWJsZWQge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICB9XG4gIGA7XG59XG5mdW5jdGlvbiBpbnB1dENvbG9yU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBjb2xvciwgaW5wdXQgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIGNzc2BcbiAgICAvKiBlbmFibGVkICovXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmVuYWJsZWQuYmd9O1xuICAgIGNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5mZ307XG4gICAgYm94LXNoYWRvdzogJHtmb2N1c1JpbmdCb3JkZXJTdHlsZSh7XG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5ib3JkZXIsXG4gICAgd2lkdGg6IGlucHV0LmJvcmRlci53aWR0aFxuICB9KX07XG5cbiAgICAvKiBob3ZlcmVkICovXG4gICAgQG1lZGlhIChob3ZlcjogaG92ZXIpIHtcbiAgICAgICY6bm90KDpkaXNhYmxlZCk6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuaG92ZXJlZC5iZ307XG4gICAgICAgIGNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuaG92ZXJlZC5mZ307XG4gICAgICAgIGJveC1zaGFkb3c6ICR7Zm9jdXNSaW5nQm9yZGVyU3R5bGUoe1xuICAgIGNvbG9yOiBjb2xvci5pbnB1dC5kZWZhdWx0LmhvdmVyZWQuYm9yZGVyLFxuICAgIHdpZHRoOiBpbnB1dC5ib3JkZXIud2lkdGhcbiAgfSl9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qIGZvY3VzZWQgKi9cbiAgICAmOm5vdCg6ZGlzYWJsZWQpOmZvY3VzIHtcbiAgICAgIGJveC1zaGFkb3c6ICR7Zm9jdXNSaW5nU3R5bGUoe1xuICAgIGJvcmRlcjogeyB3aWR0aDogaW5wdXQuYm9yZGVyLndpZHRoLCBjb2xvcjogY29sb3IuaW5wdXQuZGVmYXVsdC5lbmFibGVkLmJvcmRlciB9LFxuICAgIGZvY3VzUmluZzogaW5wdXQuc2VsZWN0LmZvY3VzUmluZ1xuICB9KX07XG4gICAgfVxuXG4gICAgLyogcmVhZC1vbmx5ICovXG4gICAgJltkYXRhLXJlYWQtb25seV0ge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LnJlYWRPbmx5LmJnfTtcbiAgICAgIGNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQucmVhZE9ubHkuZmd9O1xuICAgICAgYm94LXNoYWRvdzogJHtmb2N1c1JpbmdCb3JkZXJTdHlsZSh7XG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmRlZmF1bHQucmVhZE9ubHkuYm9yZGVyLFxuICAgIHdpZHRoOiBpbnB1dC5ib3JkZXIud2lkdGhcbiAgfSl9O1xuICAgIH1cblxuICAgIC8qIGRpc2FibGVkICovXG4gICAgJjpub3QoW2RhdGEtcmVhZC1vbmx5XSk6ZGlzYWJsZWQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmRpc2FibGVkLmJnfTtcbiAgICAgIGNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZGlzYWJsZWQuZmd9O1xuICAgICAgYm94LXNoYWRvdzogJHtmb2N1c1JpbmdCb3JkZXJTdHlsZSh7XG4gICAgY29sb3I6IGNvbG9yLmlucHV0LmRlZmF1bHQuZGlzYWJsZWQuYm9yZGVyLFxuICAgIHdpZHRoOiBpbnB1dC5ib3JkZXIud2lkdGhcbiAgfSl9O1xuICAgIH1cbiAgYDtcbn1cbmZ1bmN0aW9uIHRleHRTaXplKHNpemUyKSB7XG4gIHJldHVybiB7IGZvbnRTaXplOiByZW0oc2l6ZTIuZm9udFNpemUpLCBsaW5lSGVpZ2h0OiByZW0oc2l6ZTIubGluZUhlaWdodCkgfTtcbn1cbmZ1bmN0aW9uIGlucHV0VGV4dFNpemVTdHlsZShwcm9wcykge1xuICBjb25zdCB7ICRmb250U2l6ZSB9ID0gcHJvcHMsIHsgZm9udCwgbWVkaWEgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIF9yZXNwb25zaXZlKFxuICAgIG1lZGlhLFxuICAgICRmb250U2l6ZSxcbiAgICAoc2l6ZUluZGV4KSA9PiB0ZXh0U2l6ZShmb250LnRleHQuc2l6ZXNbc2l6ZUluZGV4XSB8fCBmb250LnRleHQuc2l6ZXNbMl0pXG4gICk7XG59XG5mdW5jdGlvbiBpbnB1dFN0eWxlKCkge1xuICByZXR1cm4gW1xuICAgIHJlc3BvbnNpdmVSYWRpdXNTdHlsZSxcbiAgICBpbnB1dEJhc2VTdHlsZSxcbiAgICBpbnB1dENvbG9yU3R5bGUsXG4gICAgaW5wdXRUZXh0U2l6ZVN0eWxlLFxuICAgIHJlc3BvbnNpdmVJbnB1dFBhZGRpbmdJY29uUmlnaHRTdHlsZVxuICBdO1xufVxuZnVuY3Rpb24gaWNvbkJveFN0eWxlKHByb3BzKSB7XG4gIGNvbnN0IHsgY29sb3IgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIGNzc2BcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIHJpZ2h0OiAwO1xuXG4gICAgLyogZW5hYmxlZCAqL1xuICAgIC0tY2FyZC1mZy1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmVuYWJsZWQuZmd9O1xuXG4gICAgLyogaG92ZXIgKi9cbiAgICBAbWVkaWEgKGhvdmVyOiBob3Zlcikge1xuICAgICAgc2VsZWN0Om5vdChkaXNhYmxlZCk6bm90KDpyZWFkLW9ubHkpOmhvdmVyICsgJiYge1xuICAgICAgICAtLWNhcmQtZmctY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5ob3ZlcmVkLmZnfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBkaXNhYmxlZCAqL1xuICAgIHNlbGVjdDpkaXNhYmxlZCArICYmIHtcbiAgICAgIC0tY2FyZC1mZy1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmRpc2FibGVkLmZnfTtcbiAgICB9XG5cbiAgICAvKiByZWFkLW9ubHkgKi9cbiAgICBzZWxlY3RbZGF0YS1yZWFkLW9ubHldICsgJiYge1xuICAgICAgLS1jYXJkLWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQucmVhZE9ubHkuZmd9O1xuICAgIH1cbiAgYDtcbn1cbmNvbnN0IHNlbGVjdFN0eWxlID0ge1xuICByb290OiByb290U3R5bGUsXG4gIGlucHV0OiBpbnB1dFN0eWxlLFxuICBpY29uQm94OiBpY29uQm94U3R5bGVcbn0sIFJvb3QkZiA9IHN0eWxlZC5kaXYoc2VsZWN0U3R5bGUucm9vdCksIElucHV0JDMgPSBzdHlsZWQuc2VsZWN0KHNlbGVjdFN0eWxlLmlucHV0KSwgSWNvbkJveCA9IHN0eWxlZChCb3gpKHNlbGVjdFN0eWxlLmljb25Cb3gpLCBTZWxlY3QgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGN1c3RvbVZhbGlkaXR5LFxuICAgIGRpc2FibGVkLFxuICAgIGZvbnRTaXplOiBmb250U2l6ZTIgPSAyLFxuICAgIHBhZGRpbmcgPSAzLFxuICAgIHJhZGl1cyA9IDIsXG4gICAgcmVhZE9ubHksXG4gICAgc3BhY2UgPSAzLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHMsIHJlZiA9IHVzZVJlZihudWxsKTtcbiAgcmV0dXJuIHVzZUltcGVyYXRpdmVIYW5kbGUoXG4gICAgZm9yd2FyZGVkUmVmLFxuICAgICgpID0+IHJlZi5jdXJyZW50XG4gICksIHVzZUN1c3RvbVZhbGlkaXR5KHJlZiwgY3VzdG9tVmFsaWRpdHkpLCAvKiBAX19QVVJFX18gKi8ganN4cyhSb290JGYsIHsgXCJkYXRhLXVpXCI6IFwiU2VsZWN0XCIsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIElucHV0JDMsXG4gICAgICB7XG4gICAgICAgIFwiZGF0YS1yZWFkLW9ubHlcIjogIWRpc2FibGVkICYmIHJlYWRPbmx5ID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgICAgXCJkYXRhLXVpXCI6IFwiU2VsZWN0XCIsXG4gICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgICAgJGZvbnRTaXplOiB1c2VBcnJheVByb3AoZm9udFNpemUyKSxcbiAgICAgICAgJHBhZGRpbmc6IHVzZUFycmF5UHJvcChwYWRkaW5nKSxcbiAgICAgICAgJHJhZGl1czogdXNlQXJyYXlQcm9wKHJhZGl1cyksXG4gICAgICAgICRzcGFjZTogdXNlQXJyYXlQcm9wKHNwYWNlKSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkIHx8IHJlYWRPbmx5LFxuICAgICAgICByZWYsXG4gICAgICAgIGNoaWxkcmVuXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KEljb25Cb3gsIHsgcGFkZGluZywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyBzaXplOiBmb250U2l6ZTIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENoZXZyb25Eb3duSWNvbiwge30pIH0pIH0pXG4gIF0gfSk7XG59KSwgQkFTRV9TVFlMRSA9IHtcbiAgXCImJjpub3QoW2hpZGRlbl0pXCI6IHtcbiAgICBkaXNwbGF5OiBcImdyaWRcIlxuICB9LFxuICAnJltkYXRhLWFzPVwidWxcIl0sJltkYXRhLWFzPVwib2xcIl0nOiB7XG4gICAgbGlzdFN0eWxlOiBcIm5vbmVcIlxuICB9LFxuICBncmlkVGVtcGxhdGVDb2x1bW5zOiBcIm1pbm1heCgwLCAxZnIpXCIsXG4gIGdyaWRBdXRvUm93czogXCJtaW4tY29udGVudFwiXG59O1xuZnVuY3Rpb24gc3RhY2tCYXNlU3R5bGUoKSB7XG4gIHJldHVybiBCQVNFX1NUWUxFO1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZVN0YWNrU3BhY2VTdHlsZShwcm9wcykge1xuICBjb25zdCB7IG1lZGlhLCBzcGFjZSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRzcGFjZSwgKHNwYWNlSW5kZXgpID0+ICh7XG4gICAgZ3JpZEdhcDogcmVtKHNwYWNlW3NwYWNlSW5kZXhdKVxuICB9KSk7XG59XG5jb25zdCBSb290JGUgPSBzdHlsZWQoQm94KShzdGFja0Jhc2VTdHlsZSwgcmVzcG9uc2l2ZVN0YWNrU3BhY2VTdHlsZSksIFN0YWNrID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIGNvbnN0IHsgYXMsIHNwYWNlLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBSb290JGUsXG4gICAge1xuICAgICAgXCJkYXRhLWFzXCI6IHR5cGVvZiBhcyA9PSBcInN0cmluZ1wiID8gYXMgOiB2b2lkIDAsXG4gICAgICBcImRhdGEtdWlcIjogXCJTdGFja1wiLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgJHNwYWNlOiB1c2VBcnJheVByb3Aoc3BhY2UpLFxuICAgICAgZm9yd2FyZGVkQXM6IGFzLFxuICAgICAgcmVmXG4gICAgfVxuICApO1xufSk7XG5mdW5jdGlvbiBzd2l0Y2hCYXNlU3R5bGVzKCkge1xuICByZXR1cm4gY3NzYFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAmOm5vdChbaGlkZGVuXSkge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIH1cbiAgYDtcbn1cbmZ1bmN0aW9uIHN3aXRjaElucHV0U3R5bGVzKCkge1xuICByZXR1cm4gY3NzYFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgb3BhY2l0eTogMDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogMDtcblxuICAgIC8qIFBsYWNlIHRoZSBpbnB1dCBlbGVtZW50IGFib3ZlIHRoZSByZXByZXNlbnRhdGlvbiBlbGVtZW50ICovXG4gICAgei1pbmRleDogMTtcbiAgYDtcbn1cbmZ1bmN0aW9uIHN3aXRjaFJlcHJlc2VudGF0aW9uU3R5bGVzKHByb3BzKSB7XG4gIGNvbnN0IHsgY29sb3IsIGlucHV0IH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSk7XG4gIHJldHVybiBjc3NgXG4gICAgLS1zd2l0Y2gtYmctY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5lbmFibGVkLmJvcmRlcn07XG4gICAgLS1zd2l0Y2gtZmctY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5lbmFibGVkLmJnfTtcbiAgICAtLXN3aXRjaC1ib3gtc2hhZG93OiBub25lO1xuXG4gICAgJjpub3QoW2hpZGRlbl0pIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgd2lkdGg6ICR7cmVtKGlucHV0LnN3aXRjaC53aWR0aCl9O1xuICAgIGhlaWdodDogJHtyZW0oaW5wdXQuc3dpdGNoLmhlaWdodCl9O1xuICAgIGJvcmRlci1yYWRpdXM6ICR7cmVtKGlucHV0LnN3aXRjaC5oZWlnaHQgLyAyKX07XG5cbiAgICAvKiBNYWtlIHN1cmUgaXTigJlzIG5vdCBwb3NzaWJsZSB0byBpbnRlcmFjdCB3aXRoIHRoZSB3cmFwcGVyIGVsZW1lbnQgKi9cbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcblxuICAgICY6YWZ0ZXIge1xuICAgICAgY29udGVudDogJyc7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIGxlZnQ6IDA7XG4gICAgICByaWdodDogMDtcbiAgICAgIGJvdHRvbTogMDtcbiAgICAgIHotaW5kZXg6IDE7XG4gICAgICBib3gtc2hhZG93OiB2YXIoLS1zd2l0Y2gtYm94LXNoYWRvdyk7XG4gICAgICBib3JkZXItcmFkaXVzOiBpbmhlcml0O1xuICAgIH1cblxuICAgIC8qIEZvY3VzIHN0eWxlcyAqL1xuICAgIGlucHV0OmZvY3VzICsgJiYge1xuICAgICAgLS1zd2l0Y2gtYm94LXNoYWRvdzogJHtmb2N1c1JpbmdTdHlsZSh7IGZvY3VzUmluZzogaW5wdXQuc3dpdGNoLmZvY3VzUmluZyB9KX07XG4gICAgfVxuXG4gICAgaW5wdXQ6Zm9jdXM6bm90KDpmb2N1cy12aXNpYmxlKSArICYmIHtcbiAgICAgIC0tc3dpdGNoLWJveC1zaGFkb3c6IG5vbmU7XG4gICAgfVxuXG4gICAgaW5wdXQ6Y2hlY2tlZCArICYmIHtcbiAgICAgIC0tc3dpdGNoLWJnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5mZ307XG4gICAgICAtLXN3aXRjaC1mZy1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LmVuYWJsZWQuYmd9O1xuICAgIH1cblxuICAgIEBtZWRpYSAoaG92ZXI6IGhvdmVyKSB7XG4gICAgICBpbnB1dDpub3QoOmRpc2FibGVkKTpob3ZlciArICYmIHtcbiAgICAgICAgLS1zd2l0Y2gtYmctY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5ob3ZlcmVkLmJvcmRlcn07XG4gICAgICAgIC0tc3dpdGNoLWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuaG92ZXJlZC5iZ307XG4gICAgICB9XG5cbiAgICAgIGlucHV0Om5vdCg6ZGlzYWJsZWQpOmNoZWNrZWQ6aG92ZXIgKyAmJiB7XG4gICAgICAgIC0tc3dpdGNoLWJnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5mZ307XG4gICAgICAgIC0tc3dpdGNoLWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQuZW5hYmxlZC5iZ307XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5wdXQ6bm90KFtkYXRhLXJlYWQtb25seV0pOmRpc2FibGVkICsgJiYge1xuICAgICAgLS1zd2l0Y2gtYmctY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5kaXNhYmxlZC5ib3JkZXJ9O1xuICAgICAgLS1zd2l0Y2gtZmctY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5kaXNhYmxlZC5iZ307XG4gICAgfVxuXG4gICAgaW5wdXRbZGF0YS1yZWFkLW9ubHldOmRpc2FibGVkICsgJiYge1xuICAgICAgLS1zd2l0Y2gtYmctY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5yZWFkT25seS5ib3JkZXJ9O1xuICAgICAgLS1zd2l0Y2gtZmctY29sb3I6ICR7Y29sb3IuaW5wdXQuZGVmYXVsdC5yZWFkT25seS5iZ307XG4gICAgfVxuXG4gICAgaW5wdXQ6Y2hlY2tlZFtkYXRhLXJlYWQtb25seV06ZGlzYWJsZWQgKyAmJiB7XG4gICAgICAtLXN3aXRjaC1iZy1jb2xvcjogJHtjb2xvci5pbnB1dC5kZWZhdWx0LnJlYWRPbmx5LmZnfTtcbiAgICAgIC0tc3dpdGNoLWZnLWNvbG9yOiAke2NvbG9yLmlucHV0LmRlZmF1bHQucmVhZE9ubHkuYmd9O1xuICAgIH1cbiAgYDtcbn1cbmZ1bmN0aW9uIHN3aXRjaFRyYWNrU3R5bGVzKHByb3BzKSB7XG4gIGNvbnN0IHsgaW5wdXQgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIGNzc2BcbiAgICAmOm5vdChbaGlkZGVuXSkge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXN3aXRjaC1iZy1jb2xvcik7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDA7XG4gICAgdG9wOiAwO1xuICAgIHdpZHRoOiAke3JlbShpbnB1dC5zd2l0Y2gud2lkdGgpfTtcbiAgICBoZWlnaHQ6ICR7cmVtKGlucHV0LnN3aXRjaC5oZWlnaHQpfTtcbiAgICBib3JkZXItcmFkaXVzOiAke3JlbShpbnB1dC5zd2l0Y2guaGVpZ2h0IC8gMil9O1xuICBgO1xufVxuZnVuY3Rpb24gc3dpdGNoVGh1bWJTdHlsZXMocHJvcHMpIHtcbiAgY29uc3QgeyAkaW5kZXRlcm1pbmF0ZSB9ID0gcHJvcHMsIHsgaW5wdXQgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKSwgdHJhY2tXaWR0aCA9IGlucHV0LnN3aXRjaC53aWR0aCwgdHJhY2tIZWlnaHQgPSBpbnB1dC5zd2l0Y2guaGVpZ2h0LCB0cmFja1BhZGRpbmcgPSBpbnB1dC5zd2l0Y2gucGFkZGluZywgc2l6ZTIgPSB0cmFja0hlaWdodCAtIGlucHV0LnN3aXRjaC5wYWRkaW5nICogMiwgY2hlY2tlZE9mZnNldCA9IHRyYWNrV2lkdGggLSB0cmFja1BhZGRpbmcgKiAyIC0gc2l6ZTIsIGluZGV0ZXJtaW5hdGVPZmZzZXQgPSB0cmFja1dpZHRoIC8gMiAtIHNpemUyIC8gMiAtIHRyYWNrUGFkZGluZywgY2hlY2tlZCA9ICRpbmRldGVybWluYXRlICE9PSAhMCAmJiBwcm9wcy4kY2hlY2tlZCA9PT0gITA7XG4gIHJldHVybiBjc3NgXG4gICAgJjpub3QoW2hpZGRlbl0pIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogJHtyZW0odHJhY2tQYWRkaW5nKX07XG4gICAgdG9wOiAke3JlbSh0cmFja1BhZGRpbmcpfTtcbiAgICBoZWlnaHQ6ICR7cmVtKHNpemUyKX07XG4gICAgd2lkdGg6ICR7cmVtKHNpemUyKX07XG4gICAgYm9yZGVyLXJhZGl1czogJHtyZW0oc2l6ZTIgLyAyKX07XG4gICAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogdHJhbnNmb3JtO1xuICAgIHRyYW5zaXRpb24tZHVyYXRpb246ICR7aW5wdXQuc3dpdGNoLnRyYW5zaXRpb25EdXJhdGlvbk1zfW1zO1xuICAgIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiAke2lucHV0LnN3aXRjaC50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb259O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXN3aXRjaC1mZy1jb2xvcik7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcbiAgICBib3gtc2hhZG93OiAwcHggMXB4IDBweCAwcHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcblxuICAgICR7Y2hlY2tlZCAmJiBjc3NgXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKCR7Y2hlY2tlZE9mZnNldH1weCwgMCwgMCk7XG4gICAgYH1cblxuICAgICR7JGluZGV0ZXJtaW5hdGUgJiYgY3NzYFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgke2luZGV0ZXJtaW5hdGVPZmZzZXR9cHgsIDAsIDApO1xuICAgIGB9XG4gIGA7XG59XG5jb25zdCBSb290JGQgPSBzdHlsZWQuc3Bhbihzd2l0Y2hCYXNlU3R5bGVzKSwgSW5wdXQkMiA9IHN0eWxlZC5pbnB1dChzd2l0Y2hJbnB1dFN0eWxlcyksIFJlcHJlc2VudGF0aW9uID0gc3R5bGVkLnNwYW4oc3dpdGNoUmVwcmVzZW50YXRpb25TdHlsZXMpLCBUcmFjayA9IHN0eWxlZC5zcGFuKHN3aXRjaFRyYWNrU3R5bGVzKSwgVGh1bWIgPSBzdHlsZWQuc3Bhbihzd2l0Y2hUaHVtYlN0eWxlcyksIFN3aXRjaCA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIGZvcndhcmRlZFJlZikge1xuICBjb25zdCB7IGNoZWNrZWQsIGNsYXNzTmFtZSwgZGlzYWJsZWQsIGluZGV0ZXJtaW5hdGUsIHJlYWRPbmx5LCBzdHlsZSwgLi4ucmVzdFByb3BzIH0gPSBwcm9wcywgcmVmID0gdXNlUmVmKG51bGwpO1xuICByZXR1cm4gdXNlSW1wZXJhdGl2ZUhhbmRsZShcbiAgICBmb3J3YXJkZWRSZWYsXG4gICAgKCkgPT4gcmVmLmN1cnJlbnRcbiAgKSwgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCAmJiAocmVmLmN1cnJlbnQuaW5kZXRlcm1pbmF0ZSA9IGluZGV0ZXJtaW5hdGUgfHwgITEpO1xuICB9LCBbaW5kZXRlcm1pbmF0ZV0pLCAvKiBAX19QVVJFX18gKi8ganN4cyhSb290JGQsIHsgY2xhc3NOYW1lLCBcImRhdGEtdWlcIjogXCJTd2l0Y2hcIiwgc3R5bGUsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIElucHV0JDIsXG4gICAgICB7XG4gICAgICAgIFwiZGF0YS1yZWFkLW9ubHlcIjogIWRpc2FibGVkICYmIHJlYWRPbmx5ID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgICBjaGVja2VkOiBpbmRldGVybWluYXRlICE9PSAhMCAmJiBjaGVja2VkLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQgfHwgcmVhZE9ubHksXG4gICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgcmVmXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4cyhSZXByZXNlbnRhdGlvbiwgeyBcImFyaWEtaGlkZGVuXCI6ICEwLCBcImRhdGEtbmFtZVwiOiBcInJlcHJlc2VudGF0aW9uXCIsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFRyYWNrLCB7fSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFRodW1iLCB7ICRjaGVja2VkOiBjaGVja2VkLCAkaW5kZXRlcm1pbmF0ZTogaW5kZXRlcm1pbmF0ZSB9KVxuICAgIF0gfSlcbiAgXSB9KTtcbn0pLCBSb290JGMgPSBzdHlsZWQuc3Bhbih0ZXh0SW5wdXRSb290U3R5bGUpLCBJbnB1dFJvb3QkMSA9IHN0eWxlZC5zcGFuYFxuICBmbGV4OiAxO1xuICBtaW4td2lkdGg6IDA7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG5gLCBJbnB1dCQxID0gc3R5bGVkLnRleHRhcmVhKFxuICByZXNwb25zaXZlSW5wdXRQYWRkaW5nU3R5bGUsXG4gIHRleHRJbnB1dEJhc2VTdHlsZSxcbiAgdGV4dElucHV0Rm9udFNpemVTdHlsZVxuKSwgUHJlc2VudGF0aW9uJDEgPSBzdHlsZWQuZGl2KFxuICByZXNwb25zaXZlUmFkaXVzU3R5bGUsXG4gIHRleHRJbnB1dFJlcHJlc2VudGF0aW9uU3R5bGVcbiksIFRleHRBcmVhID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgZm9yd2FyZGVkUmVmKSB7XG4gIGNvbnN0IHtcbiAgICBib3JkZXI6IGJvcmRlcjIgPSAhMCxcbiAgICBjdXN0b21WYWxpZGl0eSxcbiAgICBkaXNhYmxlZCA9ICExLFxuICAgIGZvbnRTaXplOiBmb250U2l6ZTIgPSAyLFxuICAgIHBhZGRpbmcgPSAzLFxuICAgIHJhZGl1cyA9IDIsXG4gICAgd2VpZ2h0LFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHMsIHJlZiA9IHVzZVJlZihudWxsKSwgcm9vdFRoZW1lID0gdXNlUm9vdFRoZW1lKCk7XG4gIHJldHVybiB1c2VJbXBlcmF0aXZlSGFuZGxlKFxuICAgIGZvcndhcmRlZFJlZixcbiAgICAoKSA9PiByZWYuY3VycmVudFxuICApLCB1c2VDdXN0b21WYWxpZGl0eShyZWYsIGN1c3RvbVZhbGlkaXR5KSwgLyogQF9fUFVSRV9fICovIGpzeChSb290JGMsIHsgXCJkYXRhLXVpXCI6IFwiVGV4dEFyZWFcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKElucHV0Um9vdCQxLCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIElucHV0JDEsXG4gICAgICB7XG4gICAgICAgIFwiZGF0YS1hc1wiOiBcInRleHRhcmVhXCIsXG4gICAgICAgIFwiZGF0YS1zY2hlbWVcIjogcm9vdFRoZW1lLnNjaGVtZSxcbiAgICAgICAgXCJkYXRhLXRvbmVcIjogcm9vdFRoZW1lLnRvbmUsXG4gICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgICAgJGZvbnRTaXplOiB1c2VBcnJheVByb3AoZm9udFNpemUyKSxcbiAgICAgICAgJHBhZGRpbmc6IHVzZUFycmF5UHJvcChwYWRkaW5nKSxcbiAgICAgICAgJHNjaGVtZTogcm9vdFRoZW1lLnNjaGVtZSxcbiAgICAgICAgJHNwYWNlOiB1c2VBcnJheVByb3AoMCksXG4gICAgICAgICR0b25lOiByb290VGhlbWUudG9uZSxcbiAgICAgICAgJHdlaWdodDogd2VpZ2h0LFxuICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgcmVmXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgUHJlc2VudGF0aW9uJDEsXG4gICAgICB7XG4gICAgICAgICRyYWRpdXM6IHVzZUFycmF5UHJvcChyYWRpdXMpLFxuICAgICAgICAkc2NoZW1lOiByb290VGhlbWUuc2NoZW1lLFxuICAgICAgICAkdG9uZTogcm9vdFRoZW1lLnRvbmUsXG4gICAgICAgIFwiZGF0YS1ib3JkZXJcIjogYm9yZGVyMiA/IFwiXCIgOiB2b2lkIDAsXG4gICAgICAgIFwiZGF0YS1zY2hlbWVcIjogcm9vdFRoZW1lLnNjaGVtZSxcbiAgICAgICAgXCJkYXRhLXRvbmVcIjogcm9vdFRoZW1lLnRvbmVcbiAgICAgIH1cbiAgICApXG4gIF0gfSkgfSk7XG59KSwgQ0xFQVJfQlVUVE9OX0JPWF9TVFlMRSA9IHsgekluZGV4OiAyIH0sIFJvb3QkYiA9IHN0eWxlZChDYXJkKS5hdHRycyh7IGZvcndhcmRlZEFzOiBcInNwYW5cIiB9KSh0ZXh0SW5wdXRSb290U3R5bGUpLCBJbnB1dFJvb3QgPSBzdHlsZWQuc3BhbmBcbiAgZmxleDogMTtcbiAgbWluLXdpZHRoOiAwO1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuYCwgUHJlZml4ID0gc3R5bGVkKENhcmQpLmF0dHJzKHsgZm9yd2FyZGVkQXM6IFwic3BhblwiIH0pYFxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDtcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XG5cbiAgJiA+IHNwYW4ge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbjogLTFweDtcbiAgfVxuYCwgU3VmZml4ID0gc3R5bGVkKENhcmQpLmF0dHJzKHsgZm9yd2FyZGVkQXM6IFwic3BhblwiIH0pYFxuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwO1xuXG4gICYgPiBzcGFuIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW46IC0xcHg7XG4gIH1cbmAsIElucHV0ID0gc3R5bGVkLmlucHV0KFxuICByZXNwb25zaXZlSW5wdXRQYWRkaW5nU3R5bGUsXG4gIHRleHRJbnB1dEJhc2VTdHlsZSxcbiAgdGV4dElucHV0Rm9udFNpemVTdHlsZVxuKSwgUHJlc2VudGF0aW9uID0gc3R5bGVkLnNwYW4oXG4gIHJlc3BvbnNpdmVSYWRpdXNTdHlsZSxcbiAgdGV4dElucHV0UmVwcmVzZW50YXRpb25TdHlsZVxuKSwgTGVmdEJveCA9IHN0eWxlZChCb3gpYFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbmAsIFJpZ2h0Qm94ID0gc3R5bGVkKEJveClgXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbmAsIFJpZ2h0Q2FyZCA9IHN0eWxlZChDYXJkKWBcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbmAsIFRleHRJbnB1dENsZWFyQnV0dG9uID0gc3R5bGVkKEJ1dHRvbikoe1xuICBcIiY6bm90KFtoaWRkZW5dKVwiOiB7XG4gICAgZGlzcGxheTogXCJibG9ja1wiXG4gIH1cbn0pLCBUZXh0SW5wdXQgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3Qge1xuICAgIF9fdW5zdGFibGVfZGlzYWJsZUZvY3VzUmluZyxcbiAgICBib3JkZXI6IGJvcmRlcjIgPSAhMCxcbiAgICBjbGVhckJ1dHRvbixcbiAgICBkaXNhYmxlZCA9ICExLFxuICAgIGZvbnRTaXplOiBmb250U2l6ZVByb3AgPSAyLFxuICAgIGljb246IEljb25Db21wb25lbnQsXG4gICAgaWNvblJpZ2h0OiBJY29uUmlnaHRDb21wb25lbnQsXG4gICAgb25DbGVhcixcbiAgICBwYWRkaW5nOiBwYWRkaW5nUHJvcCA9IDMsXG4gICAgcHJlZml4LFxuICAgIHJhZGl1czogcmFkaXVzUHJvcCA9IDIsXG4gICAgcmVhZE9ubHksXG4gICAgc3BhY2U6IHNwYWNlUHJvcCA9IDMsXG4gICAgc3VmZml4LFxuICAgIGN1c3RvbVZhbGlkaXR5LFxuICAgIHR5cGUgPSBcInRleHRcIixcbiAgICB3ZWlnaHQsXG4gICAgLi4ucmVzdFByb3BzXG4gIH0gPSBwcm9wcywgcmVmID0gdXNlUmVmKG51bGwpLCByb290VGhlbWUgPSB1c2VSb290VGhlbWUoKSwgZm9udFNpemUyID0gdXNlQXJyYXlQcm9wKGZvbnRTaXplUHJvcCksIHBhZGRpbmcgPSB1c2VBcnJheVByb3AocGFkZGluZ1Byb3ApLCByYWRpdXMgPSB1c2VBcnJheVByb3AocmFkaXVzUHJvcCksIHNwYWNlID0gdXNlQXJyYXlQcm9wKHNwYWNlUHJvcCksICRoYXNDbGVhckJ1dHRvbiA9ICEhY2xlYXJCdXR0b24sICRoYXNJY29uID0gISFJY29uQ29tcG9uZW50LCAkaGFzSWNvblJpZ2h0ID0gISFJY29uUmlnaHRDb21wb25lbnQsICRoYXNTdWZmaXggPSAhIXN1ZmZpeCwgJGhhc1ByZWZpeCA9ICEhcHJlZml4O1xuICB1c2VJbXBlcmF0aXZlSGFuZGxlKFxuICAgIGZvcndhcmRlZFJlZixcbiAgICAoKSA9PiByZWYuY3VycmVudFxuICApLCB1c2VDdXN0b21WYWxpZGl0eShyZWYsIGN1c3RvbVZhbGlkaXR5KTtcbiAgY29uc3QgaGFuZGxlQ2xlYXJNb3VzZURvd24gPSB1c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpLCBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSwgW10pLCBoYW5kbGVDbGVhckNsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpLCBldmVudC5zdG9wUHJvcGFnYXRpb24oKSwgb25DbGVhciAmJiBvbkNsZWFyKCksIChfYSA9IHJlZi5jdXJyZW50KSA9PSBudWxsIHx8IF9hLmZvY3VzKCk7XG4gICAgfSxcbiAgICBbb25DbGVhciwgcmVmXVxuICApLCBwcmVmaXhOb2RlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBwcmVmaXggJiYgLyogQF9fUFVSRV9fICovIGpzeChQcmVmaXgsIHsgYm9yZGVyVG9wOiAhMCwgYm9yZGVyTGVmdDogITAsIGJvcmRlckJvdHRvbTogITAsIHJhZGl1cywgc2l6aW5nOiBcImJvcmRlclwiLCB0b25lOiBcImluaGVyaXRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IHByZWZpeCB9KSB9KSxcbiAgICBbcHJlZml4LCByYWRpdXNdXG4gICksIHByZXNlbnRhdGlvbk5vZGUgPSB1c2VNZW1vKFxuICAgICgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgUHJlc2VudGF0aW9uLFxuICAgICAge1xuICAgICAgICAkaGFzUHJlZml4LFxuICAgICAgICAkdW5zdGFibGVEaXNhYmxlRm9jdXNSaW5nOiBfX3Vuc3RhYmxlX2Rpc2FibGVGb2N1c1JpbmcsXG4gICAgICAgICRoYXNTdWZmaXgsXG4gICAgICAgICRyYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgJHNjaGVtZTogcm9vdFRoZW1lLnNjaGVtZSxcbiAgICAgICAgJHRvbmU6IHJvb3RUaGVtZS50b25lLFxuICAgICAgICBcImRhdGEtYm9yZGVyXCI6IGJvcmRlcjIgPyBcIlwiIDogdm9pZCAwLFxuICAgICAgICBcImRhdGEtc2NoZW1lXCI6IHJvb3RUaGVtZS5zY2hlbWUsXG4gICAgICAgIFwiZGF0YS10b25lXCI6IHJvb3RUaGVtZS50b25lLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIEljb25Db21wb25lbnQgJiYgLyogQF9fUFVSRV9fICovIGpzeChMZWZ0Qm94LCB7IHBhZGRpbmcsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhUZXh0LCB7IHNpemU6IGZvbnRTaXplMiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KEljb25Db21wb25lbnQpICYmIEljb25Db21wb25lbnQsXG4gICAgICAgICAgICBpc1ZhbGlkRWxlbWVudFR5cGUoSWNvbkNvbXBvbmVudCkgJiYgLyogQF9fUFVSRV9fICovIGpzeChJY29uQ29tcG9uZW50LCB7fSlcbiAgICAgICAgICBdIH0pIH0pLFxuICAgICAgICAgICEkaGFzQ2xlYXJCdXR0b24gJiYgSWNvblJpZ2h0Q29tcG9uZW50ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goUmlnaHRCb3gsIHsgcGFkZGluZywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFRleHQsIHsgc2l6ZTogZm9udFNpemUyLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQoSWNvblJpZ2h0Q29tcG9uZW50KSAmJiBJY29uUmlnaHRDb21wb25lbnQsXG4gICAgICAgICAgICBpc1ZhbGlkRWxlbWVudFR5cGUoSWNvblJpZ2h0Q29tcG9uZW50KSAmJiAvKiBAX19QVVJFX18gKi8ganN4KEljb25SaWdodENvbXBvbmVudCwge30pXG4gICAgICAgICAgXSB9KSB9KVxuICAgICAgICBdXG4gICAgICB9XG4gICAgKSxcbiAgICBbXG4gICAgICBfX3Vuc3RhYmxlX2Rpc2FibGVGb2N1c1JpbmcsXG4gICAgICBib3JkZXIyLFxuICAgICAgZm9udFNpemUyLFxuICAgICAgSWNvbkNvbXBvbmVudCxcbiAgICAgIEljb25SaWdodENvbXBvbmVudCxcbiAgICAgIHBhZGRpbmcsXG4gICAgICByYWRpdXMsXG4gICAgICByb290VGhlbWUsXG4gICAgICAkaGFzQ2xlYXJCdXR0b24sXG4gICAgICAkaGFzUHJlZml4LFxuICAgICAgJGhhc1N1ZmZpeFxuICAgIF1cbiAgKSwgY2xlYXJCdXR0b25Cb3hQYWRkaW5nID0gdXNlTWVtbyhcbiAgICAoKSA9PiBwYWRkaW5nLm1hcCgodikgPT4gdiA9PT0gMCA/IDAgOiB2ID09PSAxIHx8IHYgPT09IDIgPyAxIDogdiAtIDIpLFxuICAgIFtwYWRkaW5nXVxuICApLCBjbGVhckJ1dHRvblBhZGRpbmcgPSB1c2VNZW1vKFxuICAgICgpID0+IHBhZGRpbmcubWFwKCh2KSA9PiB2ID09PSAwIHx8IHYgPT09IDEgPyAwIDogdiA9PT0gMiA/IDEgOiB2IC0gMSksXG4gICAgW3BhZGRpbmddXG4gICksIGNsZWFyQnV0dG9uUHJvcHMgPSB1c2VNZW1vKFxuICAgICgpID0+IHR5cGVvZiBjbGVhckJ1dHRvbiA9PSBcIm9iamVjdFwiID8gY2xlYXJCdXR0b24gOiBFTVBUWV9SRUNPUkQsXG4gICAgW2NsZWFyQnV0dG9uXVxuICApLCBjbGVhckJ1dHRvbk5vZGUgPSB1c2VNZW1vKFxuICAgICgpID0+ICFkaXNhYmxlZCAmJiAhcmVhZE9ubHkgJiYgY2xlYXJCdXR0b24gJiYgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFJpZ2h0Q2FyZCxcbiAgICAgIHtcbiAgICAgICAgZm9yd2FyZGVkQXM6IFwic3BhblwiLFxuICAgICAgICBwYWRkaW5nOiBjbGVhckJ1dHRvbkJveFBhZGRpbmcsXG4gICAgICAgIHN0eWxlOiBDTEVBUl9CVVRUT05fQk9YX1NUWUxFLFxuICAgICAgICB0b25lOiBjdXN0b21WYWxpZGl0eSA/IFwiY3JpdGljYWxcIiA6IFwiaW5oZXJpdFwiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBUZXh0SW5wdXRDbGVhckJ1dHRvbixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogXCJDbGVhclwiLFxuICAgICAgICAgICAgXCJkYXRhLXFhXCI6IFwiY2xlYXItYnV0dG9uXCIsXG4gICAgICAgICAgICBmb250U2l6ZTogZm9udFNpemUyLFxuICAgICAgICAgICAgaWNvbjogQ2xvc2VJY29uLFxuICAgICAgICAgICAgbW9kZTogXCJibGVlZFwiLFxuICAgICAgICAgICAgcGFkZGluZzogY2xlYXJCdXR0b25QYWRkaW5nLFxuICAgICAgICAgICAgcmFkaXVzLFxuICAgICAgICAgICAgLi4uY2xlYXJCdXR0b25Qcm9wcyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsZWFyQ2xpY2ssXG4gICAgICAgICAgICBvbk1vdXNlRG93bjogaGFuZGxlQ2xlYXJNb3VzZURvd25cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApLFxuICAgIFtcbiAgICAgIGNsZWFyQnV0dG9uLFxuICAgICAgY2xlYXJCdXR0b25Cb3hQYWRkaW5nLFxuICAgICAgY2xlYXJCdXR0b25QYWRkaW5nLFxuICAgICAgY2xlYXJCdXR0b25Qcm9wcyxcbiAgICAgIGN1c3RvbVZhbGlkaXR5LFxuICAgICAgZGlzYWJsZWQsXG4gICAgICBmb250U2l6ZTIsXG4gICAgICBoYW5kbGVDbGVhckNsaWNrLFxuICAgICAgaGFuZGxlQ2xlYXJNb3VzZURvd24sXG4gICAgICByYWRpdXMsXG4gICAgICByZWFkT25seVxuICAgIF1cbiAgKSwgc3VmZml4Tm9kZSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gc3VmZml4ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goU3VmZml4LCB7IGJvcmRlclRvcDogITAsIGJvcmRlclJpZ2h0OiAhMCwgYm9yZGVyQm90dG9tOiAhMCwgcmFkaXVzLCBzaXppbmc6IFwiYm9yZGVyXCIsIHRvbmU6IFwiaW5oZXJpdFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcInNwYW5cIiwgeyBjaGlsZHJlbjogc3VmZml4IH0pIH0pLFxuICAgIFtyYWRpdXMsIHN1ZmZpeF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFJvb3QkYiwgeyBcImRhdGEtdWlcIjogXCJUZXh0SW5wdXRcIiwgdG9uZTogcm9vdFRoZW1lLnRvbmUsIGNoaWxkcmVuOiBbXG4gICAgcHJlZml4Tm9kZSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4cyhJbnB1dFJvb3QsIHsgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIElucHV0LFxuICAgICAgICB7XG4gICAgICAgICAgXCJkYXRhLWFzXCI6IFwiaW5wdXRcIixcbiAgICAgICAgICBcImRhdGEtc2NoZW1lXCI6IHJvb3RUaGVtZS5zY2hlbWUsXG4gICAgICAgICAgXCJkYXRhLXRvbmVcIjogcm9vdFRoZW1lLnRvbmUsXG4gICAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgICAgICRmb250U2l6ZTogZm9udFNpemUyLFxuICAgICAgICAgICRpY29uTGVmdDogJGhhc0ljb24sXG4gICAgICAgICAgJGljb25SaWdodDogJGhhc0ljb25SaWdodCB8fCAkaGFzQ2xlYXJCdXR0b24sXG4gICAgICAgICAgJHBhZGRpbmc6IHBhZGRpbmcsXG4gICAgICAgICAgJHNjaGVtZTogcm9vdFRoZW1lLnNjaGVtZSxcbiAgICAgICAgICAkc3BhY2U6IHNwYWNlLFxuICAgICAgICAgICR0b25lOiByb290VGhlbWUudG9uZSxcbiAgICAgICAgICAkd2VpZ2h0OiB3ZWlnaHQsXG4gICAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgICAgcmVhZE9ubHksXG4gICAgICAgICAgcmVmLFxuICAgICAgICAgIHR5cGVcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHByZXNlbnRhdGlvbk5vZGUsXG4gICAgICBjbGVhckJ1dHRvbk5vZGVcbiAgICBdIH0pLFxuICAgIHN1ZmZpeE5vZGVcbiAgXSB9KTtcbn0pO1xuZnVuY3Rpb24gdXNlRGVsYXllZFN0YXRlKGluaXRpYWxTdGF0ZSkge1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKGluaXRpYWxTdGF0ZSksIGRlbGF5ZWRBY3Rpb24gPSB1c2VSZWYoKSwgb25TdGF0ZUNoYW5nZSA9IHVzZUNhbGxiYWNrKChuZXh0U3RhdGUsIGRlbGF5KSA9PiB7XG4gICAgY29uc3QgYWN0aW9uID0gKCkgPT4ge1xuICAgICAgc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9O1xuICAgIGlmIChkZWxheWVkQWN0aW9uLmN1cnJlbnQgJiYgKGNsZWFyVGltZW91dChkZWxheWVkQWN0aW9uLmN1cnJlbnQpLCBkZWxheWVkQWN0aW9uLmN1cnJlbnQgPSB2b2lkIDApLCAhZGVsYXkpIHJldHVybiBhY3Rpb24oKTtcbiAgICBkZWxheWVkQWN0aW9uLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGFjdGlvbiwgZGVsYXkpO1xuICB9LCBbXSk7XG4gIHJldHVybiBbc3RhdGUsIG9uU3RhdGVDaGFuZ2VdO1xufVxuY29uc3QgREVGQVVMVF9UT09MVElQX0FSUk9XX1dJRFRIID0gMTUsIERFRkFVTFRfVE9PTFRJUF9BUlJPV19IRUlHSFQgPSA2LCBERUZBVUxUX1RPT0xUSVBfQVJST1dfUkFESVVTID0gMiwgREVGQVVMVF9UT09MVElQX0RJU1RBTkNFID0gNCwgREVGQVVMVF9UT09MVElQX1BBRERJTkcgPSA0LCBERUZBVUxUX0ZBTExCQUNLX1BMQUNFTUVOVFMgPSB7XG4gIHRvcDogW1widG9wLWVuZFwiLCBcInRvcC1zdGFydFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiXSxcbiAgXCJ0b3Atc3RhcnRcIjogW1widG9wXCIsIFwidG9wLWVuZFwiLCBcImJvdHRvbS1zdGFydFwiLCBcImxlZnQtc3RhcnRcIiwgXCJyaWdodC1zdGFydFwiXSxcbiAgXCJ0b3AtZW5kXCI6IFtcInRvcFwiLCBcInRvcC1zdGFydFwiLCBcImJvdHRvbS1lbmRcIiwgXCJsZWZ0LWVuZFwiLCBcInJpZ2h0LWVuZFwiXSxcbiAgYm90dG9tOiBbXCJib3R0b20tZW5kXCIsIFwiYm90dG9tLXN0YXJ0XCIsIFwidG9wXCIsIFwibGVmdFwiLCBcInJpZ2h0XCJdLFxuICBcImJvdHRvbS1zdGFydFwiOiBbXCJib3R0b21cIiwgXCJib3R0b20tZW5kXCIsIFwidG9wLXN0YXJ0XCIsIFwibGVmdC1zdGFydFwiLCBcInJpZ2h0LXN0YXJ0XCJdLFxuICBcImJvdHRvbS1lbmRcIjogW1wiYm90dG9tXCIsIFwiYm90dG9tLXN0YXJ0XCIsIFwidG9wLWVuZFwiLCBcImxlZnQtZW5kXCIsIFwicmlnaHQtZW5kXCJdLFxuICBsZWZ0OiBbXCJsZWZ0LWVuZFwiLCBcImxlZnQtc3RhcnRcIiwgXCJyaWdodFwiLCBcInRvcFwiLCBcImJvdHRvbVwiXSxcbiAgXCJsZWZ0LXN0YXJ0XCI6IFtcImxlZnRcIiwgXCJsZWZ0LWVuZFwiLCBcInJpZ2h0LXN0YXJ0XCIsIFwidG9wLXN0YXJ0XCIsIFwiYm90dG9tLXN0YXJ0XCJdLFxuICBcImxlZnQtZW5kXCI6IFtcImxlZnRcIiwgXCJsZWZ0LXN0YXJ0XCIsIFwicmlnaHQtZW5kXCIsIFwidG9wLWVuZFwiLCBcImJvdHRvbS1lbmRcIl0sXG4gIHJpZ2h0OiBbXCJyaWdodC1lbmRcIiwgXCJyaWdodC1zdGFydFwiLCBcImxlZnRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIl0sXG4gIFwicmlnaHQtc3RhcnRcIjogW1wicmlnaHRcIiwgXCJyaWdodC1lbmRcIiwgXCJsZWZ0LXN0YXJ0XCIsIFwidG9wLXN0YXJ0XCIsIFwiYm90dG9tLXN0YXJ0XCJdLFxuICBcInJpZ2h0LWVuZFwiOiBbXCJyaWdodFwiLCBcInJpZ2h0LXN0YXJ0XCIsIFwibGVmdC1lbmRcIiwgXCJ0b3AtZW5kXCIsIFwiYm90dG9tLWVuZFwiXVxufSwgTW90aW9uQ2FyZCA9IHN0eWxlZChtb3Rpb24oQ2FyZCkpYFxuICAmID4gKiB7XG4gICAgb3BhY2l0eTogdmFyKCR7UE9QT1ZFUl9NT1RJT05fQ09OVEVOVF9PUEFDSVRZX1BST1BFUlRZfSwgMSk7XG4gICAgd2lsbC1jaGFuZ2U6IG9wYWNpdHk7XG4gIH1cbmAsIFRvb2x0aXBDYXJkID0gbWVtbyhcbiAgZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gICAgY29uc3Qge1xuICAgICAgYW5pbWF0ZSxcbiAgICAgIGFycm93OiBhcnJvdzIsXG4gICAgICBhcnJvd1JlZixcbiAgICAgIGFycm93WCxcbiAgICAgIGFycm93WSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgb3JpZ2luWCxcbiAgICAgIG9yaWdpblksXG4gICAgICBwYWRkaW5nLFxuICAgICAgcGxhY2VtZW50LFxuICAgICAgcmFkaXVzLFxuICAgICAgc2NoZW1lLFxuICAgICAgc2hhZG93LFxuICAgICAgc3R5bGUsXG4gICAgICAuLi5yZXN0UHJvcHNcbiAgICB9ID0gcHJvcHMsIHJvb3RTdHlsZTIgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gKHtcbiAgICAgICAgb3JpZ2luWCxcbiAgICAgICAgb3JpZ2luWSxcbiAgICAgICAgd2lsbENoYW5nZTogYW5pbWF0ZSA/IFwidHJhbnNmb3JtXCIgOiB2b2lkIDAsXG4gICAgICAgIC4uLnN0eWxlXG4gICAgICB9KSxcbiAgICAgIFthbmltYXRlLCBvcmlnaW5YLCBvcmlnaW5ZLCBzdHlsZV1cbiAgICApLCBhcnJvd1N0eWxlID0gdXNlTWVtbyhcbiAgICAgICgpID0+ICh7XG4gICAgICAgIGxlZnQ6IGFycm93WCAhPT0gbnVsbCA/IGFycm93WCA6IHZvaWQgMCxcbiAgICAgICAgdG9wOiBhcnJvd1kgIT09IG51bGwgPyBhcnJvd1kgOiB2b2lkIDAsXG4gICAgICAgIHJpZ2h0OiB2b2lkIDAsXG4gICAgICAgIGJvdHRvbTogdm9pZCAwXG4gICAgICB9KSxcbiAgICAgIFthcnJvd1gsIGFycm93WV1cbiAgICApO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgIE1vdGlvbkNhcmQsXG4gICAgICB7XG4gICAgICAgIFwiZGF0YS11aVwiOiBcIlRvb2x0aXBfX2NhcmRcIixcbiAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgICBcImRhdGEtcGxhY2VtZW50XCI6IHBsYWNlbWVudCxcbiAgICAgICAgcGFkZGluZyxcbiAgICAgICAgcmFkaXVzLFxuICAgICAgICByZWYsXG4gICAgICAgIHNjaGVtZSxcbiAgICAgICAgc2hhZG93LFxuICAgICAgICBzdHlsZTogcm9vdFN0eWxlMixcbiAgICAgICAgLi4uYW5pbWF0ZSA/IFBPUE9WRVJfTU9USU9OX1BST1BTIDoge30sXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgYXJyb3cyICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICBBcnJvdyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmVmOiBhcnJvd1JlZixcbiAgICAgICAgICAgICAgc3R5bGU6IGFycm93U3R5bGUsXG4gICAgICAgICAgICAgIHdpZHRoOiBERUZBVUxUX1RPT0xUSVBfQVJST1dfV0lEVEgsXG4gICAgICAgICAgICAgIGhlaWdodDogREVGQVVMVF9UT09MVElQX0FSUk9XX0hFSUdIVCxcbiAgICAgICAgICAgICAgcmFkaXVzOiBERUZBVUxUX1RPT0xUSVBfQVJST1dfUkFESVVTXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgKTtcbiAgfSlcbik7XG5Ub29sdGlwQ2FyZC5kaXNwbGF5TmFtZSA9IFwiVG9vbHRpcENhcmRcIjtcbmNvbnN0IGtleSQ0ID0gU3ltYm9sLmZvcihcIkBzYW5pdHkvdWkvY29udGV4dC90b29sdGlwRGVsYXlHcm91cFwiKSwgVG9vbHRpcERlbGF5R3JvdXBDb250ZXh0ID0gY3JlYXRlR2xvYmFsU2NvcGVkQ29udGV4dChrZXkkNCwgbnVsbCk7XG5mdW5jdGlvbiB1c2VUb29sdGlwRGVsYXlHcm91cCgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoVG9vbHRpcERlbGF5R3JvdXBDb250ZXh0KTtcbn1cbmZ1bmN0aW9uIFRvb2x0aXBEZWxheUdyb3VwUHJvdmlkZXIocHJvcHMpIHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgZGVsYXkgfSA9IHByb3BzLCBbaXNHcm91cEFjdGl2ZSwgc2V0SXNHcm91cEFjdGl2ZV0gPSB1c2VEZWxheWVkU3RhdGUoITEpLCBbb3BlblRvb2x0aXBJZCwgc2V0T3BlblRvb2x0aXBJZF0gPSB1c2VEZWxheWVkU3RhdGUobnVsbCksIG9wZW5EZWxheSA9IHR5cGVvZiBkZWxheSA9PSBcIm51bWJlclwiID8gZGVsYXkgOiAoZGVsYXkgPT0gbnVsbCA/IHZvaWQgMCA6IGRlbGF5Lm9wZW4pIHx8IDAsIGNsb3NlRGVsYXkgPSB0eXBlb2YgZGVsYXkgPT0gXCJudW1iZXJcIiA/IGRlbGF5IDogKGRlbGF5ID09IG51bGwgPyB2b2lkIDAgOiBkZWxheS5jbG9zZSkgfHwgMCwgdmFsdWUgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBpc0dyb3VwQWN0aXZlLFxuICAgICAgc2V0SXNHcm91cEFjdGl2ZSxcbiAgICAgIG9wZW5Ub29sdGlwSWQsXG4gICAgICBzZXRPcGVuVG9vbHRpcElkLFxuICAgICAgLy8gV2hlbiB0aGUgZ3JvdXAgaXMgYWN0aXZlLCB3ZSB3YW50IHRoZSBuZXh0IHRvb2x0aXAgdG8gb3BlbiBpbW1lZGlhdGVseS5cbiAgICAgIG9wZW5EZWxheTogaXNHcm91cEFjdGl2ZSA/IDEgOiBvcGVuRGVsYXksXG4gICAgICBjbG9zZURlbGF5XG4gICAgfSksXG4gICAgW2Nsb3NlRGVsYXksIGlzR3JvdXBBY3RpdmUsIG9wZW5EZWxheSwgb3BlblRvb2x0aXBJZCwgc2V0SXNHcm91cEFjdGl2ZSwgc2V0T3BlblRvb2x0aXBJZF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcERlbGF5R3JvdXBDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlLCBjaGlsZHJlbiB9KTtcbn1cbmNvbnN0IFJvb3QkYSA9IHN0eWxlZChMYXllcilgXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBtYXgtd2lkdGg6ICR7KHsgJG1heFdpZHRoIH0pID0+ICRtYXhXaWR0aH1weDtcbmAsIFRvb2x0aXAgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICBjb25zdCBib3VuZGFyeUVsZW1lbnRDb250ZXh0ID0gdXNlQm91bmRhcnlFbGVtZW50KCksIHsgbGF5ZXIgfSA9IHVzZVRoZW1lX3YyKCksIHtcbiAgICBhbmltYXRlOiBfYW5pbWF0ZSA9ICExLFxuICAgIGFycm93OiBhcnJvd1Byb3AgPSAhMSxcbiAgICBib3VuZGFyeUVsZW1lbnQgPSBib3VuZGFyeUVsZW1lbnRDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBib3VuZGFyeUVsZW1lbnRDb250ZXh0LmVsZW1lbnQsXG4gICAgY2hpbGRyZW46IGNoaWxkUHJvcCxcbiAgICBjb250ZW50LFxuICAgIGRpc2FibGVkLFxuICAgIGZhbGxiYWNrUGxhY2VtZW50czogZmFsbGJhY2tQbGFjZW1lbnRzUHJvcCA9IChfYiA9IHByb3BzLmZhbGxiYWNrUGxhY2VtZW50cykgIT0gbnVsbCA/IF9iIDogREVGQVVMVF9GQUxMQkFDS19QTEFDRU1FTlRTWyhfYSA9IHByb3BzLnBsYWNlbWVudCkgIT0gbnVsbCA/IF9hIDogXCJib3R0b21cIl0sXG4gICAgcGFkZGluZyA9IDIsXG4gICAgcGxhY2VtZW50OiBwbGFjZW1lbnRQcm9wID0gXCJib3R0b21cIixcbiAgICBwb3J0YWw6IHBvcnRhbFByb3AsXG4gICAgcmFkaXVzID0gMixcbiAgICBzY2hlbWUsXG4gICAgc2hhZG93ID0gMixcbiAgICB6T2Zmc2V0ID0gbGF5ZXIudG9vbHRpcC56T2Zmc2V0LFxuICAgIGRlbGF5LFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHMsIGFuaW1hdGUgPSB1c2VQcmVmZXJzUmVkdWNlZE1vdGlvbigpID8gITEgOiBfYW5pbWF0ZSwgZmFsbGJhY2tQbGFjZW1lbnRzID0gdXNlQXJyYXlQcm9wKGZhbGxiYWNrUGxhY2VtZW50c1Byb3ApLCByZWYgPSB1c2VSZWYobnVsbCksIFtyZWZlcmVuY2VFbGVtZW50LCBzZXRSZWZlcmVuY2VFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpLCBhcnJvd1JlZiA9IHVzZVJlZihudWxsKSwgcm9vdEJvdW5kYXJ5ID0gXCJ2aWV3cG9ydFwiO1xuICB1c2VJbXBlcmF0aXZlSGFuZGxlKGZvcndhcmRlZFJlZiwgKCkgPT4gcmVmLmN1cnJlbnQpO1xuICBjb25zdCBwb3J0YWwgPSB1c2VQb3J0YWwoKSwgcG9ydGFsRWxlbWVudCA9IHR5cGVvZiBwb3J0YWxQcm9wID09IFwic3RyaW5nXCIgPyAoKF9jID0gcG9ydGFsLmVsZW1lbnRzKSA9PSBudWxsID8gdm9pZCAwIDogX2NbcG9ydGFsUHJvcF0pIHx8IG51bGwgOiBwb3J0YWwuZWxlbWVudCwgZG9jdW1lbnRCb2R5T2Zmc2V0V2lkdGggPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICBlbXB0eVN1YnNjcmliZSxcbiAgICAoKSA9PiBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoLFxuICAgIC8vIFdlIGRvbid0IGFjdHVhbGx5IGtub3cgd2hhdCB0aGUgd2lkdGggb2YgdGhlIGJvZHkgaXMgZHVyaW5nIFNTUiwgc28gd2UnbGwganVzdCBhc3N1bWUgaXQncyA4MDBweCBvciBsYXJnZXJcbiAgICAoKSA9PiA4MDBcbiAgKSwgdG9vbHRpcFdpZHRoID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgYXZhaWxhYmxlV2lkdGhzID0gW1xuICAgICAgLi4uYm91bmRhcnlFbGVtZW50ID8gW2JvdW5kYXJ5RWxlbWVudC5vZmZzZXRXaWR0aF0gOiBbXSxcbiAgICAgIChwb3J0YWxFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwb3J0YWxFbGVtZW50Lm9mZnNldFdpZHRoKSB8fCBkb2N1bWVudEJvZHlPZmZzZXRXaWR0aFxuICAgIF07XG4gICAgcmV0dXJuIE1hdGgubWluKC4uLmF2YWlsYWJsZVdpZHRocykgLSBERUZBVUxUX1RPT0xUSVBfUEFERElORyAqIDI7XG4gIH0sIFtib3VuZGFyeUVsZW1lbnQsIGRvY3VtZW50Qm9keU9mZnNldFdpZHRoLCBwb3J0YWxFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwb3J0YWxFbGVtZW50Lm9mZnNldFdpZHRoXSksIG1pZGRsZXdhcmUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCByZXQgPSBbXTtcbiAgICByZXR1cm4gcmV0LnB1c2goXG4gICAgICBmbGlwKHtcbiAgICAgICAgYm91bmRhcnk6IGJvdW5kYXJ5RWxlbWVudCB8fCB2b2lkIDAsXG4gICAgICAgIGZhbGxiYWNrUGxhY2VtZW50cyxcbiAgICAgICAgcGFkZGluZzogREVGQVVMVF9UT09MVElQX1BBRERJTkcsXG4gICAgICAgIHJvb3RCb3VuZGFyeVxuICAgICAgfSlcbiAgICApLCByZXQucHVzaChvZmZzZXQoeyBtYWluQXhpczogREVGQVVMVF9UT09MVElQX0RJU1RBTkNFIH0pKSwgcmV0LnB1c2goXG4gICAgICBzaGlmdCh7XG4gICAgICAgIGJvdW5kYXJ5OiBib3VuZGFyeUVsZW1lbnQgfHwgdm9pZCAwLFxuICAgICAgICByb290Qm91bmRhcnksXG4gICAgICAgIHBhZGRpbmc6IERFRkFVTFRfVE9PTFRJUF9QQURESU5HXG4gICAgICB9KVxuICAgICksIGFycm93UHJvcCAmJiByZXQucHVzaChhcnJvdyh7IGVsZW1lbnQ6IGFycm93UmVmLCBwYWRkaW5nOiBERUZBVUxUX1RPT0xUSVBfUEFERElORyB9KSksIGFuaW1hdGUgJiYgcmV0LnB1c2gob3JpZ2luKSwgcmV0O1xuICB9LCBbYW5pbWF0ZSwgYXJyb3dQcm9wLCBib3VuZGFyeUVsZW1lbnQsIGZhbGxiYWNrUGxhY2VtZW50c10pLCB7IGZsb2F0aW5nU3R5bGVzLCBwbGFjZW1lbnQsIG1pZGRsZXdhcmVEYXRhLCByZWZzLCB1cGRhdGUgfSA9IHVzZUZsb2F0aW5nKHtcbiAgICBtaWRkbGV3YXJlLFxuICAgIHBsYWNlbWVudDogcGxhY2VtZW50UHJvcCxcbiAgICB3aGlsZUVsZW1lbnRzTW91bnRlZDogYXV0b1VwZGF0ZVxuICB9KSwgYXJyb3dYID0gKF9kID0gbWlkZGxld2FyZURhdGEuYXJyb3cpID09IG51bGwgPyB2b2lkIDAgOiBfZC54LCBhcnJvd1kgPSAoX2UgPSBtaWRkbGV3YXJlRGF0YS5hcnJvdykgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLnksIG9yaWdpblggPSAoX2YgPSBtaWRkbGV3YXJlRGF0YVtcIkBzYW5pdHkvdWkvb3JpZ2luXCJdKSA9PSBudWxsID8gdm9pZCAwIDogX2Yub3JpZ2luWCwgb3JpZ2luWSA9IChfZyA9IG1pZGRsZXdhcmVEYXRhW1wiQHNhbml0eS91aS9vcmlnaW5cIl0pID09IG51bGwgPyB2b2lkIDAgOiBfZy5vcmlnaW5ZLCB0b29sdGlwSWQgPSB1c2VJZCgpLCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlRGVsYXllZFN0YXRlKCExKSwgZGVsYXlHcm91cENvbnRleHQgPSB1c2VUb29sdGlwRGVsYXlHcm91cCgpLCBzaG93VG9vbHRpcCA9IGlzT3BlbiB8fCAoZGVsYXlHcm91cENvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IGRlbGF5R3JvdXBDb250ZXh0Lm9wZW5Ub29sdGlwSWQpID09PSB0b29sdGlwSWQsIGlzSW5zaWRlR3JvdXAgPSBkZWxheUdyb3VwQ29udGV4dCAhPT0gbnVsbCwgb3BlbkRlbGF5UHJvcCA9IHR5cGVvZiBkZWxheSA9PSBcIm51bWJlclwiID8gZGVsYXkgOiAoZGVsYXkgPT0gbnVsbCA/IHZvaWQgMCA6IGRlbGF5Lm9wZW4pIHx8IDAsIGNsb3NlRGVsYXlQcm9wID0gdHlwZW9mIGRlbGF5ID09IFwibnVtYmVyXCIgPyBkZWxheSA6IChkZWxheSA9PSBudWxsID8gdm9pZCAwIDogZGVsYXkuY2xvc2UpIHx8IDAsIG9wZW5EZWxheSA9IGlzSW5zaWRlR3JvdXAgPyBkZWxheUdyb3VwQ29udGV4dC5vcGVuRGVsYXkgOiBvcGVuRGVsYXlQcm9wLCBjbG9zZURlbGF5ID0gaXNJbnNpZGVHcm91cCA/IGRlbGF5R3JvdXBDb250ZXh0LmNsb3NlRGVsYXkgOiBjbG9zZURlbGF5UHJvcCwgaGFuZGxlSXNPcGVuQ2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgKG9wZW4sIGltbWVkaWF0ZSkgPT4ge1xuICAgICAgaWYgKGlzSW5zaWRlR3JvdXApXG4gICAgICAgIGlmIChvcGVuKSB7XG4gICAgICAgICAgY29uc3QgZ3JvdXBlZE9wZW5EZWxheSA9IGltbWVkaWF0ZSA/IDAgOiBvcGVuRGVsYXk7XG4gICAgICAgICAgZGVsYXlHcm91cENvbnRleHQuc2V0SXNHcm91cEFjdGl2ZShvcGVuLCBncm91cGVkT3BlbkRlbGF5KSwgZGVsYXlHcm91cENvbnRleHQuc2V0T3BlblRvb2x0aXBJZCh0b29sdGlwSWQsIGdyb3VwZWRPcGVuRGVsYXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGdyb3VwRGVhY3RpdmF0ZURlbGF5ID0gY2xvc2VEZWxheSA+IDIwMCA/IGNsb3NlRGVsYXkgOiAyMDA7XG4gICAgICAgICAgZGVsYXlHcm91cENvbnRleHQuc2V0SXNHcm91cEFjdGl2ZShvcGVuLCBncm91cERlYWN0aXZhdGVEZWxheSksIGRlbGF5R3JvdXBDb250ZXh0LnNldE9wZW5Ub29sdGlwSWQobnVsbCwgaW1tZWRpYXRlID8gMCA6IGNsb3NlRGVsYXkpO1xuICAgICAgICB9XG4gICAgICBlbHNlXG4gICAgICAgIHNldElzT3BlbihvcGVuLCBpbW1lZGlhdGUgPyAwIDogb3BlbiA/IG9wZW5EZWxheSA6IGNsb3NlRGVsYXkpO1xuICAgIH0sXG4gICAgW2lzSW5zaWRlR3JvdXAsIGRlbGF5R3JvdXBDb250ZXh0LCBvcGVuRGVsYXksIHRvb2x0aXBJZCwgY2xvc2VEZWxheSwgc2V0SXNPcGVuXVxuICApLCBoYW5kbGVCbHVyID0gdXNlQ2FsbGJhY2soXG4gICAgKGUpID0+IHtcbiAgICAgIHZhciBfYTIsIF9iMjtcbiAgICAgIGhhbmRsZUlzT3BlbkNoYW5nZSghMSksIChfYjIgPSAoX2EyID0gY2hpbGRQcm9wID09IG51bGwgPyB2b2lkIDAgOiBjaGlsZFByb3AucHJvcHMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIub25CbHVyKSA9PSBudWxsIHx8IF9iMi5jYWxsKF9hMiwgZSk7XG4gICAgfSxcbiAgICBbY2hpbGRQcm9wID09IG51bGwgPyB2b2lkIDAgOiBjaGlsZFByb3AucHJvcHMsIGhhbmRsZUlzT3BlbkNoYW5nZV1cbiAgKSwgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjayhcbiAgICAoZSkgPT4ge1xuICAgICAgdmFyIF9hMiwgX2IyO1xuICAgICAgaGFuZGxlSXNPcGVuQ2hhbmdlKCExLCAhMCksIChfYjIgPSBjaGlsZFByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IChfYTIgPSBjaGlsZFByb3AucHJvcHMpLm9uQ2xpY2spID09IG51bGwgfHwgX2IyLmNhbGwoX2EyLCBlKTtcbiAgICB9LFxuICAgIFtjaGlsZFByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IGNoaWxkUHJvcC5wcm9wcywgaGFuZGxlSXNPcGVuQ2hhbmdlXVxuICApLCBoYW5kbGVDb250ZXh0TWVudSA9IHVzZUNhbGxiYWNrKFxuICAgIChlKSA9PiB7XG4gICAgICB2YXIgX2EyLCBfYjI7XG4gICAgICBoYW5kbGVJc09wZW5DaGFuZ2UoITEsICEwKSwgKF9iMiA9IGNoaWxkUHJvcCA9PSBudWxsID8gdm9pZCAwIDogKF9hMiA9IGNoaWxkUHJvcC5wcm9wcykub25Db250ZXh0TWVudSkgPT0gbnVsbCB8fCBfYjIuY2FsbChfYTIsIGUpO1xuICAgIH0sXG4gICAgW2NoaWxkUHJvcCA9PSBudWxsID8gdm9pZCAwIDogY2hpbGRQcm9wLnByb3BzLCBoYW5kbGVJc09wZW5DaGFuZ2VdXG4gICksIGhhbmRsZUZvY3VzID0gdXNlQ2FsbGJhY2soXG4gICAgKGUpID0+IHtcbiAgICAgIHZhciBfYTIsIF9iMjtcbiAgICAgIGhhbmRsZUlzT3BlbkNoYW5nZSghMCksIChfYjIgPSAoX2EyID0gY2hpbGRQcm9wID09IG51bGwgPyB2b2lkIDAgOiBjaGlsZFByb3AucHJvcHMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIub25Gb2N1cykgPT0gbnVsbCB8fCBfYjIuY2FsbChfYTIsIGUpO1xuICAgIH0sXG4gICAgW2NoaWxkUHJvcCA9PSBudWxsID8gdm9pZCAwIDogY2hpbGRQcm9wLnByb3BzLCBoYW5kbGVJc09wZW5DaGFuZ2VdXG4gICksIGhhbmRsZU1vdXNlRW50ZXIgPSB1c2VDYWxsYmFjayhcbiAgICAoZSkgPT4ge1xuICAgICAgdmFyIF9hMiwgX2IyO1xuICAgICAgaGFuZGxlSXNPcGVuQ2hhbmdlKCEwKSwgKF9iMiA9IChfYTIgPSBjaGlsZFByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IGNoaWxkUHJvcC5wcm9wcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5vbk1vdXNlRW50ZXIpID09IG51bGwgfHwgX2IyLmNhbGwoX2EyLCBlKTtcbiAgICB9LFxuICAgIFtjaGlsZFByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IGNoaWxkUHJvcC5wcm9wcywgaGFuZGxlSXNPcGVuQ2hhbmdlXVxuICApLCBoYW5kbGVNb3VzZUxlYXZlID0gdXNlQ2FsbGJhY2soXG4gICAgKGUpID0+IHtcbiAgICAgIHZhciBfYTIsIF9iMjtcbiAgICAgIGhhbmRsZUlzT3BlbkNoYW5nZSghMSksIChfYjIgPSAoX2EyID0gY2hpbGRQcm9wID09IG51bGwgPyB2b2lkIDAgOiBjaGlsZFByb3AucHJvcHMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIub25Nb3VzZUxlYXZlKSA9PSBudWxsIHx8IF9iMi5jYWxsKF9hMiwgZSk7XG4gICAgfSxcbiAgICBbY2hpbGRQcm9wID09IG51bGwgPyB2b2lkIDAgOiBjaGlsZFByb3AucHJvcHMsIGhhbmRsZUlzT3BlbkNoYW5nZV1cbiAgKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNob3dUb29sdGlwKSByZXR1cm47XG4gICAgZnVuY3Rpb24gaGFuZGxlV2luZG93TW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgICByZWZlcmVuY2VFbGVtZW50ICYmIChyZWZlcmVuY2VFbGVtZW50ID09PSBldmVudC50YXJnZXQgfHwgZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgTm9kZSAmJiByZWZlcmVuY2VFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHwgKGhhbmRsZUlzT3BlbkNoYW5nZSghMSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZVdpbmRvd01vdXNlTW92ZSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZVdpbmRvd01vdXNlTW92ZSksICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZVdpbmRvd01vdXNlTW92ZSk7XG4gICAgfTtcbiAgfSwgW3Nob3dUb29sdGlwLCByZWZlcmVuY2VFbGVtZW50LCBoYW5kbGVJc09wZW5DaGFuZ2VdKSwgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkaXNhYmxlZCAmJiBzaG93VG9vbHRpcCAmJiBoYW5kbGVJc09wZW5DaGFuZ2UoITEpO1xuICB9LCBbZGlzYWJsZWQsIGhhbmRsZUlzT3BlbkNoYW5nZSwgc2hvd1Rvb2x0aXBdKSwgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAhY29udGVudCAmJiBzaG93VG9vbHRpcCAmJiBoYW5kbGVJc09wZW5DaGFuZ2UoITEpO1xuICB9LCBbY29udGVudCwgaGFuZGxlSXNPcGVuQ2hhbmdlLCBzaG93VG9vbHRpcF0pLCB1c2VFZmZlY3QoKCkgPT4gcmVmcy5zZXRSZWZlcmVuY2UocmVmZXJlbmNlRWxlbWVudCksIFtyZWZlcmVuY2VFbGVtZW50LCByZWZzXSksIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzaG93VG9vbHRpcCkgcmV0dXJuO1xuICAgIGZ1bmN0aW9uIGhhbmRsZVdpbmRvd0tleURvd24oZXZlbnQpIHtcbiAgICAgIGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIiAmJiBoYW5kbGVJc09wZW5DaGFuZ2UoITEsICEwKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVXaW5kb3dLZXlEb3duKSwgKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZVdpbmRvd0tleURvd24pO1xuICAgIH07XG4gIH0sIFtoYW5kbGVJc09wZW5DaGFuZ2UsIHNob3dUb29sdGlwXSk7XG4gIGNvbnN0IHNldEFycm93ID0gdXNlQ2FsbGJhY2soXG4gICAgKGFycm93RWwpID0+IHtcbiAgICAgIGFycm93UmVmLmN1cnJlbnQgPSBhcnJvd0VsLCB1cGRhdGUoKTtcbiAgICB9LFxuICAgIFt1cGRhdGVdXG4gICksIHNldEZsb2F0aW5nID0gdXNlQ2FsbGJhY2soXG4gICAgKG5vZGUpID0+IHtcbiAgICAgIHJlZi5jdXJyZW50ID0gbm9kZSwgcmVmcy5zZXRGbG9hdGluZyhub2RlKTtcbiAgICB9LFxuICAgIFtyZWZzXVxuICApLCBjaGlsZFJlZiA9IHVzZVJlZihudWxsKTtcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShjaGlsZFByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IGNoaWxkUHJvcC5yZWYsICgpID0+IGNoaWxkUmVmLmN1cnJlbnQpO1xuICBjb25zdCBjaGlsZCA9IHVzZU1lbW8oKCkgPT4gY2hpbGRQcm9wID8gY2xvbmVFbGVtZW50KGNoaWxkUHJvcCwge1xuICAgIG9uQmx1cjogaGFuZGxlQmx1cixcbiAgICBvbkZvY3VzOiBoYW5kbGVGb2N1cyxcbiAgICBvbk1vdXNlRW50ZXI6IGhhbmRsZU1vdXNlRW50ZXIsXG4gICAgb25Nb3VzZUxlYXZlOiBoYW5kbGVNb3VzZUxlYXZlLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxuICAgIG9uQ29udGV4dE1lbnU6IGhhbmRsZUNvbnRleHRNZW51LFxuICAgIHJlZjogY2hpbGRSZWZcbiAgfSkgOiBudWxsLCBbXG4gICAgY2hpbGRQcm9wLFxuICAgIGhhbmRsZUJsdXIsXG4gICAgaGFuZGxlQ2xpY2ssXG4gICAgaGFuZGxlQ29udGV4dE1lbnUsXG4gICAgaGFuZGxlRm9jdXMsXG4gICAgaGFuZGxlTW91c2VFbnRlcixcbiAgICBoYW5kbGVNb3VzZUxlYXZlXG4gIF0pO1xuICBpZiAodXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2hpbGQpXG4gICAgICByZXR1cm4gc2V0UmVmZXJlbmNlRWxlbWVudChjaGlsZFJlZi5jdXJyZW50KSwgKCkgPT4gc2V0UmVmZXJlbmNlRWxlbWVudChudWxsKTtcbiAgfSwgW2NoaWxkXSksICFjaGlsZCkgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHt9KTtcbiAgaWYgKGRpc2FibGVkKSByZXR1cm4gY2hpbGQ7XG4gIGNvbnN0IHRvb2x0aXAgPSAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFJvb3QkYSxcbiAgICB7XG4gICAgICBcImRhdGEtdWlcIjogXCJUb29sdGlwXCIsXG4gICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICByZWY6IHNldEZsb2F0aW5nLFxuICAgICAgc3R5bGU6IGZsb2F0aW5nU3R5bGVzLFxuICAgICAgek9mZnNldCxcbiAgICAgICRtYXhXaWR0aDogdG9vbHRpcFdpZHRoLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFRvb2x0aXBDYXJkLFxuICAgICAgICB7XG4gICAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgICAgIGFuaW1hdGUsXG4gICAgICAgICAgYXJyb3c6IGFycm93UHJvcCxcbiAgICAgICAgICBhcnJvd1JlZjogc2V0QXJyb3csXG4gICAgICAgICAgYXJyb3dYLFxuICAgICAgICAgIGFycm93WSxcbiAgICAgICAgICBvcmlnaW5YLFxuICAgICAgICAgIG9yaWdpblksXG4gICAgICAgICAgcGFkZGluZyxcbiAgICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgICAgcmFkaXVzLFxuICAgICAgICAgIHJlZjogc2V0RmxvYXRpbmcsXG4gICAgICAgICAgc2NoZW1lLFxuICAgICAgICAgIHNoYWRvdyxcbiAgICAgICAgICBjaGlsZHJlbjogY29udGVudFxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgQ29uZGl0aW9uYWxXcmFwcGVyLFxuICAgICAge1xuICAgICAgICBjb25kaXRpb246IGFuaW1hdGUsXG4gICAgICAgIHdyYXBwZXI6IChjaGlsZHJlbikgPT4gLyogQF9fUFVSRV9fICovIGpzeChBbmltYXRlUHJlc2VuY2UsIHsgY2hpbGRyZW4gfSksXG4gICAgICAgIGNoaWxkcmVuOiBzaG93VG9vbHRpcCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIENvbmRpdGlvbmFsV3JhcHBlcixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25kaXRpb246ICEhcG9ydGFsUHJvcCxcbiAgICAgICAgICAgIHdyYXBwZXI6IChjaGlsZHJlbikgPT4gLyogQF9fUFVSRV9fICovIGpzeChQb3J0YWwsIHsgX191bnN0YWJsZV9uYW1lOiB0eXBlb2YgcG9ydGFsUHJvcCA9PSBcInN0cmluZ1wiID8gcG9ydGFsUHJvcCA6IHZvaWQgMCwgY2hpbGRyZW4gfSksXG4gICAgICAgICAgICBjaGlsZHJlbjogdG9vbHRpcFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgICksXG4gICAgY2hpbGRcbiAgXSB9KTtcbn0pLCBlbXB0eVN1YnNjcmliZSA9ICgpID0+ICgpID0+IHtcbn0sIFJvb3QkOSA9IHN0eWxlZC5kaXZgXG4gIGxpbmUtaGVpZ2h0OiAwO1xuYCwgTGlzdEJveCA9IHN0eWxlZChCb3gpYFxuICAmID4gdWwge1xuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IDA7XG4gIH1cbmAsIHJvdGF0ZSA9IGtleWZyYW1lc2BcbiAgZnJvbSB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG4gIH1cblxuICB0byB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcbiAgfVxuYCwgQW5pbWF0ZWRTcGlubmVySWNvbiA9IHN0eWxlZChTcGlubmVySWNvbilgXG4gIGFuaW1hdGlvbjogJHtyb3RhdGV9IDUwMG1zIGxpbmVhciBpbmZpbml0ZTtcbmA7XG5mdW5jdGlvbiBBdXRvY29tcGxldGVPcHRpb24ocHJvcHMpIHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgaWQsIG9uU2VsZWN0LCBzZWxlY3RlZCwgdmFsdWUgfSA9IHByb3BzLCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIG9uU2VsZWN0KHZhbHVlKTtcbiAgICB9LCAwKTtcbiAgfSwgW29uU2VsZWN0LCB2YWx1ZV0pLCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5rZXkgPT09IFwiRW50ZXJcIiAmJiAhX2lzRW50ZXJUb0NsaWNrRWxlbWVudChldmVudC5jdXJyZW50VGFyZ2V0KSAmJiBoYW5kbGVDbGljaygpO1xuICAgIH0sXG4gICAgW2hhbmRsZUNsaWNrXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcImxpXCIsXG4gICAge1xuICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IHNlbGVjdGVkLFxuICAgICAgXCJkYXRhLXVpXCI6IFwiQXV0b2NvbXBsZXRlT3B0aW9uXCIsXG4gICAgICBpZCxcbiAgICAgIHJvbGU6IFwib3B0aW9uXCIsXG4gICAgICBvbkNsaWNrOiBoYW5kbGVDbGljayxcbiAgICAgIG9uS2V5RG93bjogaGFuZGxlS2V5RG93bixcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gYXV0b2NvbXBsZXRlUmVkdWNlcihzdGF0ZSwgbXNnMikge1xuICByZXR1cm4gbXNnMi50eXBlID09PSBcImlucHV0L2NoYW5nZVwiID8geyAuLi5zdGF0ZSwgYWN0aXZlVmFsdWU6IG51bGwsIGZvY3VzZWQ6ICEwLCBxdWVyeTogbXNnMi5xdWVyeSB9IDogbXNnMi50eXBlID09PSBcImlucHV0L2ZvY3VzXCIgPyB7IC4uLnN0YXRlLCBmb2N1c2VkOiAhMCB9IDogbXNnMi50eXBlID09PSBcInJvb3QvYmx1clwiID8geyAuLi5zdGF0ZSwgZm9jdXNlZDogITEsIHF1ZXJ5OiBudWxsIH0gOiBtc2cyLnR5cGUgPT09IFwicm9vdC9jbGVhclwiID8geyAuLi5zdGF0ZSwgYWN0aXZlVmFsdWU6IG51bGwsIHF1ZXJ5OiBudWxsLCB2YWx1ZTogbnVsbCB9IDogbXNnMi50eXBlID09PSBcInJvb3QvZXNjYXBlXCIgPyB7IC4uLnN0YXRlLCBmb2N1c2VkOiAhMSwgcXVlcnk6IG51bGwgfSA6IG1zZzIudHlwZSA9PT0gXCJyb290L29wZW5cIiA/IHsgLi4uc3RhdGUsIHF1ZXJ5OiBzdGF0ZS5xdWVyeSB8fCBtc2cyLnF1ZXJ5IH0gOiBtc2cyLnR5cGUgPT09IFwicm9vdC9zZXRBY3RpdmVWYWx1ZVwiID8geyAuLi5zdGF0ZSwgYWN0aXZlVmFsdWU6IG1zZzIudmFsdWUsIGxpc3RGb2N1c2VkOiBtc2cyLmxpc3RGb2N1c2VkIHx8IHN0YXRlLmxpc3RGb2N1c2VkIH0gOiBtc2cyLnR5cGUgPT09IFwicm9vdC9zZXRMaXN0Rm9jdXNlZFwiID8geyAuLi5zdGF0ZSwgbGlzdEZvY3VzZWQ6IG1zZzIubGlzdEZvY3VzZWQgfSA6IG1zZzIudHlwZSA9PT0gXCJ2YWx1ZS9jaGFuZ2VcIiA/IHsgLi4uc3RhdGUsIGFjdGl2ZVZhbHVlOiBtc2cyLnZhbHVlLCBxdWVyeTogbnVsbCwgdmFsdWU6IG1zZzIudmFsdWUgfSA6IHN0YXRlO1xufVxuY29uc3QgQVVUT0NPTVBMRVRFX0xJU1RCT1hfSUdOT1JFX0tFWVMgPSBbXG4gIFwiQ29udHJvbFwiLFxuICBcIlNoaWZ0XCIsXG4gIFwiQWx0XCIsXG4gIFwiRW50ZXJcIixcbiAgXCJIb21lXCIsXG4gIFwiRW5kXCIsXG4gIFwiUGFnZVVwXCIsXG4gIFwiUGFnZURvd25cIixcbiAgXCJNZXRhXCIsXG4gIFwiVGFiXCIsXG4gIFwiQ2Fwc0xvY2tcIlxuXSwgQVVUT0NPTVBMRVRFX1BPUE9WRVJfUExBQ0VNRU5UID0gXCJib3R0b20tc3RhcnRcIiwgQVVUT0NPTVBMRVRFX1BPUE9WRVJfRkFMTEJBQ0tfUExBQ0VNRU5UUyA9IFtcImJvdHRvbS1zdGFydFwiLCBcInRvcC1zdGFydFwiXSwgREVGQVVMVF9SRU5ERVJfVkFMVUUgPSAodmFsdWUsIG9wdGlvbikgPT4gb3B0aW9uID8gb3B0aW9uLnZhbHVlIDogdmFsdWUsIERFRkFVTFRfRklMVEVSX09QVElPTiA9IChxdWVyeSwgb3B0aW9uKSA9PiBvcHRpb24udmFsdWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpID4gLTEsIElubmVyQXV0b2NvbXBsZXRlID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgZm9yd2FyZGVkUmVmKSB7XG4gIGNvbnN0IHtcbiAgICBib3JkZXI6IGJvcmRlcjIgPSAhMCxcbiAgICBjdXN0b21WYWxpZGl0eSxcbiAgICBkaXNhYmxlZCxcbiAgICBmaWx0ZXJPcHRpb246IGZpbHRlck9wdGlvblByb3AsXG4gICAgZm9udFNpemU6IGZvbnRTaXplMiA9IDIsXG4gICAgaWNvbixcbiAgICBpZCxcbiAgICBsaXN0Qm94ID0gRU1QVFlfUkVDT1JELFxuICAgIGxvYWRpbmcsXG4gICAgb25CbHVyLFxuICAgIG9uQ2hhbmdlLFxuICAgIG9uRm9jdXMsXG4gICAgb25RdWVyeUNoYW5nZSxcbiAgICBvblNlbGVjdCxcbiAgICBvcGVuQnV0dG9uLFxuICAgIG9wZW5PbkZvY3VzLFxuICAgIG9wdGlvbnM6IG9wdGlvbnNQcm9wLFxuICAgIHBhZGRpbmc6IHBhZGRpbmdQcm9wID0gMyxcbiAgICBwb3BvdmVyID0gRU1QVFlfUkVDT1JELFxuICAgIHByZWZpeCxcbiAgICByYWRpdXMgPSAyLFxuICAgIHJlYWRPbmx5LFxuICAgIHJlbGF0ZWRFbGVtZW50cyxcbiAgICByZW5kZXJPcHRpb246IHJlbmRlck9wdGlvblByb3AsXG4gICAgcmVuZGVyUG9wb3ZlcixcbiAgICByZW5kZXJWYWx1ZSA9IERFRkFVTFRfUkVOREVSX1ZBTFVFLFxuICAgIHN1ZmZpeCxcbiAgICB2YWx1ZTogdmFsdWVQcm9wLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHMsIFtzdGF0ZSwgZGlzcGF0Y2hdID0gdXNlUmVkdWNlcihhdXRvY29tcGxldGVSZWR1Y2VyLCB7XG4gICAgYWN0aXZlVmFsdWU6IHZhbHVlUHJvcCB8fCBudWxsLFxuICAgIGZvY3VzZWQ6ICExLFxuICAgIGxpc3RGb2N1c2VkOiAhMSxcbiAgICBxdWVyeTogbnVsbCxcbiAgICB2YWx1ZTogdmFsdWVQcm9wIHx8IG51bGxcbiAgfSksIHsgYWN0aXZlVmFsdWUsIGZvY3VzZWQsIGxpc3RGb2N1c2VkLCBxdWVyeSwgdmFsdWUgfSA9IHN0YXRlLCBkZWZhdWx0UmVuZGVyT3B0aW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKHsgdmFsdWU6IHZhbHVlMiB9KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KENhcmQsIHsgXCJkYXRhLWFzXCI6IFwiYnV0dG9uXCIsIHBhZGRpbmc6IHBhZGRpbmdQcm9wLCByYWRpdXM6IDIsIHRvbmU6IFwiaW5oZXJpdFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IHNpemU6IGZvbnRTaXplMiwgdGV4dE92ZXJmbG93OiBcImVsbGlwc2lzXCIsIGNoaWxkcmVuOiB2YWx1ZTIgfSkgfSksXG4gICAgW2ZvbnRTaXplMiwgcGFkZGluZ1Byb3BdXG4gICksIHJlbmRlck9wdGlvbiA9IHR5cGVvZiByZW5kZXJPcHRpb25Qcm9wID09IFwiZnVuY3Rpb25cIiA/IHJlbmRlck9wdGlvblByb3AgOiBkZWZhdWx0UmVuZGVyT3B0aW9uLCBmaWx0ZXJPcHRpb24gPSB0eXBlb2YgZmlsdGVyT3B0aW9uUHJvcCA9PSBcImZ1bmN0aW9uXCIgPyBmaWx0ZXJPcHRpb25Qcm9wIDogREVGQVVMVF9GSUxURVJfT1BUSU9OLCByb290RWxlbWVudFJlZiA9IHVzZVJlZihudWxsKSwgcmVzdWx0c1BvcG92ZXJFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpLCBpbnB1dEVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbCksIGxpc3RCb3hFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpLCBsaXN0Rm9jdXNlZFJlZiA9IHVzZVJlZighMSksIHZhbHVlUmVmID0gdXNlUmVmKHZhbHVlKSwgdmFsdWVQcm9wUmVmID0gdXNlUmVmKHZhbHVlUHJvcCksIHBvcG92ZXJNb3VzZVdpdGhpblJlZiA9IHVzZVJlZighMSk7XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUoXG4gICAgZm9yd2FyZGVkUmVmLFxuICAgICgpID0+IGlucHV0RWxlbWVudFJlZi5jdXJyZW50XG4gICk7XG4gIGNvbnN0IGxpc3RCb3hJZCA9IGAke2lkfS1saXN0Ym94YCwgb3B0aW9ucyA9IEFycmF5LmlzQXJyYXkob3B0aW9uc1Byb3ApID8gb3B0aW9uc1Byb3AgOiBFTVBUWV9BUlJBWSwgcGFkZGluZyA9IHVzZUFycmF5UHJvcChwYWRkaW5nUHJvcCksIGN1cnJlbnRPcHRpb24gPSB1c2VNZW1vKFxuICAgICgpID0+IHZhbHVlICE9PSBudWxsID8gb3B0aW9ucy5maW5kKChvKSA9PiBvLnZhbHVlID09PSB2YWx1ZSkgOiB2b2lkIDAsXG4gICAgW29wdGlvbnMsIHZhbHVlXVxuICApLCBmaWx0ZXJlZE9wdGlvbnMgPSB1c2VNZW1vKFxuICAgICgpID0+IG9wdGlvbnMuZmlsdGVyKChvcHRpb24pID0+IHF1ZXJ5ID8gZmlsdGVyT3B0aW9uKHF1ZXJ5LCBvcHRpb24pIDogITApLFxuICAgIFtmaWx0ZXJPcHRpb24sIG9wdGlvbnMsIHF1ZXJ5XVxuICApLCBmaWx0ZXJlZE9wdGlvbnNMZW4gPSBmaWx0ZXJlZE9wdGlvbnMubGVuZ3RoLCBhY3RpdmVJdGVtSWQgPSBhY3RpdmVWYWx1ZSA/IGAke2lkfS1vcHRpb24tJHthY3RpdmVWYWx1ZX1gIDogdm9pZCAwLCBleHBhbmRlZCA9IHF1ZXJ5ICE9PSBudWxsICYmIGxvYWRpbmcgfHwgZm9jdXNlZCAmJiBxdWVyeSAhPT0gbnVsbCwgaGFuZGxlUm9vdEJsdXIgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAocG9wb3Zlck1vdXNlV2l0aGluUmVmLmN1cnJlbnQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IChyZWxhdGVkRWxlbWVudHMgfHwgW10pLmNvbmNhdChcbiAgICAgICAgICByb290RWxlbWVudFJlZi5jdXJyZW50ID8gW3Jvb3RFbGVtZW50UmVmLmN1cnJlbnRdIDogW10sXG4gICAgICAgICAgcmVzdWx0c1BvcG92ZXJFbGVtZW50UmVmLmN1cnJlbnQgPyBbcmVzdWx0c1BvcG92ZXJFbGVtZW50UmVmLmN1cnJlbnRdIDogW11cbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGZvY3VzSW5zaWRlID0gITE7XG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgZm9yIChjb25zdCBlIG9mIGVsZW1lbnRzKVxuICAgICAgICAgICAgaWYgKGUgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgfHwgZS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgICAgICBmb2N1c0luc2lkZSA9ICEwO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb2N1c0luc2lkZSA9PT0gITEgJiYgKGRpc3BhdGNoKHsgdHlwZTogXCJyb290L2JsdXJcIiB9KSwgcG9wb3Zlck1vdXNlV2l0aGluUmVmLmN1cnJlbnQgPSAhMSwgb25RdWVyeUNoYW5nZSAmJiBvblF1ZXJ5Q2hhbmdlKG51bGwpLCBvbkJsdXIgJiYgb25CbHVyKGV2ZW50KSk7XG4gICAgICB9LCAwKTtcbiAgICB9LFxuICAgIFtvbkJsdXIsIG9uUXVlcnlDaGFuZ2UsIHJlbGF0ZWRFbGVtZW50c11cbiAgKSwgaGFuZGxlUm9vdEZvY3VzID0gdXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgbGlzdEJveEVsZW1lbnQgPSBsaXN0Qm94RWxlbWVudFJlZi5jdXJyZW50LCBmb2N1c2VkRWxlbWVudCA9IGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZXZlbnQudGFyZ2V0IDogbnVsbCwgbGlzdEZvY3VzZWQyID0gKGxpc3RCb3hFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBsaXN0Qm94RWxlbWVudC5jb250YWlucyhmb2N1c2VkRWxlbWVudCkpIHx8ICExO1xuICAgIGxpc3RGb2N1c2VkMiAhPT0gbGlzdEZvY3VzZWRSZWYuY3VycmVudCAmJiAobGlzdEZvY3VzZWRSZWYuY3VycmVudCA9IGxpc3RGb2N1c2VkMiwgZGlzcGF0Y2goeyB0eXBlOiBcInJvb3Qvc2V0TGlzdEZvY3VzZWRcIiwgbGlzdEZvY3VzZWQ6IGxpc3RGb2N1c2VkMiB9KSk7XG4gIH0sIFtdKSwgaGFuZGxlT3B0aW9uU2VsZWN0ID0gdXNlQ2FsbGJhY2soXG4gICAgKHYpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJ2YWx1ZS9jaGFuZ2VcIiwgdmFsdWU6IHYgfSksIHBvcG92ZXJNb3VzZVdpdGhpblJlZi5jdXJyZW50ID0gITEsIG9uU2VsZWN0ICYmIG9uU2VsZWN0KHYpLCB2YWx1ZVJlZi5jdXJyZW50ID0gdiwgb25DaGFuZ2UgJiYgb25DaGFuZ2UodiksIG9uUXVlcnlDaGFuZ2UgJiYgb25RdWVyeUNoYW5nZShudWxsKSwgKF9hID0gaW5wdXRFbGVtZW50UmVmLmN1cnJlbnQpID09IG51bGwgfHwgX2EuZm9jdXMoKTtcbiAgICB9LFxuICAgIFtvbkNoYW5nZSwgb25TZWxlY3QsIG9uUXVlcnlDaGFuZ2VdXG4gICksIGhhbmRsZVJvb3RLZXlEb3duID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQoKSwgIWZpbHRlcmVkT3B0aW9uc0xlbikgcmV0dXJuO1xuICAgICAgICBjb25zdCBhY3RpdmVPcHRpb24gPSBmaWx0ZXJlZE9wdGlvbnMuZmluZCgobykgPT4gby52YWx1ZSA9PT0gYWN0aXZlVmFsdWUpLCBhY3RpdmVJbmRleCA9IGFjdGl2ZU9wdGlvbiA/IGZpbHRlcmVkT3B0aW9ucy5pbmRleE9mKGFjdGl2ZU9wdGlvbikgOiAtMSwgbmV4dEFjdGl2ZU9wdGlvbiA9IGZpbHRlcmVkT3B0aW9uc1soYWN0aXZlSW5kZXggKyAxKSAlIGZpbHRlcmVkT3B0aW9uc0xlbl07XG4gICAgICAgIG5leHRBY3RpdmVPcHRpb24gJiYgZGlzcGF0Y2goeyB0eXBlOiBcInJvb3Qvc2V0QWN0aXZlVmFsdWVcIiwgdmFsdWU6IG5leHRBY3RpdmVPcHRpb24udmFsdWUsIGxpc3RGb2N1c2VkOiAhMCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KCksICFmaWx0ZXJlZE9wdGlvbnNMZW4pIHJldHVybjtcbiAgICAgICAgY29uc3QgYWN0aXZlT3B0aW9uID0gZmlsdGVyZWRPcHRpb25zLmZpbmQoKG8pID0+IG8udmFsdWUgPT09IGFjdGl2ZVZhbHVlKSwgYWN0aXZlSW5kZXggPSBhY3RpdmVPcHRpb24gPyBmaWx0ZXJlZE9wdGlvbnMuaW5kZXhPZihhY3RpdmVPcHRpb24pIDogLTEsIG5leHRBY3RpdmVPcHRpb24gPSBmaWx0ZXJlZE9wdGlvbnNbYWN0aXZlSW5kZXggPT09IC0xID8gZmlsdGVyZWRPcHRpb25zTGVuIC0gMSA6IChmaWx0ZXJlZE9wdGlvbnNMZW4gKyBhY3RpdmVJbmRleCAtIDEpICUgZmlsdGVyZWRPcHRpb25zTGVuXTtcbiAgICAgICAgbmV4dEFjdGl2ZU9wdGlvbiAmJiBkaXNwYXRjaCh7IHR5cGU6IFwicm9vdC9zZXRBY3RpdmVWYWx1ZVwiLCB2YWx1ZTogbmV4dEFjdGl2ZU9wdGlvbi52YWx1ZSwgbGlzdEZvY3VzZWQ6ICEwIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJyb290L2VzY2FwZVwiIH0pLCBwb3BvdmVyTW91c2VXaXRoaW5SZWYuY3VycmVudCA9ICExLCBvblF1ZXJ5Q2hhbmdlICYmIG9uUXVlcnlDaGFuZ2UobnVsbCksIChfYSA9IGlucHV0RWxlbWVudFJlZi5jdXJyZW50KSA9PSBudWxsIHx8IF9hLmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCwgbGlzdEVsID0gbGlzdEJveEVsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgIGlmICgobGlzdEVsID09PSB0YXJnZXQgfHwgbGlzdEVsICE9IG51bGwgJiYgbGlzdEVsLmNvbnRhaW5zKHRhcmdldCkpICYmICFBVVRPQ09NUExFVEVfTElTVEJPWF9JR05PUkVfS0VZUy5pbmNsdWRlcyhldmVudC5rZXkpKSB7XG4gICAgICAgIChfYiA9IGlucHV0RWxlbWVudFJlZi5jdXJyZW50KSA9PSBudWxsIHx8IF9iLmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9LFxuICAgIFthY3RpdmVWYWx1ZSwgZmlsdGVyZWRPcHRpb25zLCBmaWx0ZXJlZE9wdGlvbnNMZW4sIG9uUXVlcnlDaGFuZ2VdXG4gICksIGhhbmRsZUlucHV0Q2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBuZXh0UXVlcnkgPSBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcImlucHV0L2NoYW5nZVwiLCBxdWVyeTogbmV4dFF1ZXJ5IH0pLCBvblF1ZXJ5Q2hhbmdlICYmIG9uUXVlcnlDaGFuZ2UobmV4dFF1ZXJ5KTtcbiAgICB9LFxuICAgIFtvblF1ZXJ5Q2hhbmdlXVxuICApLCBkaXNwYXRjaE9wZW4gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogXCJyb290L29wZW5cIixcbiAgICAgIHF1ZXJ5OiB2YWx1ZSA/IHJlbmRlclZhbHVlKHZhbHVlLCBjdXJyZW50T3B0aW9uKSA6IFwiXCJcbiAgICB9KTtcbiAgfSwgW2N1cnJlbnRPcHRpb24sIHJlbmRlclZhbHVlLCB2YWx1ZV0pLCBoYW5kbGVJbnB1dEZvY3VzID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBmb2N1c2VkIHx8IChkaXNwYXRjaCh7IHR5cGU6IFwiaW5wdXQvZm9jdXNcIiB9KSwgb25Gb2N1cyAmJiBvbkZvY3VzKGV2ZW50KSwgb3Blbk9uRm9jdXMgJiYgZGlzcGF0Y2hPcGVuKCkpO1xuICAgIH0sXG4gICAgW2ZvY3VzZWQsIG9uRm9jdXMsIG9wZW5PbkZvY3VzLCBkaXNwYXRjaE9wZW5dXG4gICksIGhhbmRsZVBvcG92ZXJNb3VzZUVudGVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHBvcG92ZXJNb3VzZVdpdGhpblJlZi5jdXJyZW50ID0gITA7XG4gIH0sIFtdKSwgaGFuZGxlUG9wb3Zlck1vdXNlTGVhdmUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcG9wb3Zlck1vdXNlV2l0aGluUmVmLmN1cnJlbnQgPSAhMTtcbiAgfSwgW10pLCBoYW5kbGVDbGVhckJ1dHRvbkNsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IFwicm9vdC9jbGVhclwiIH0pLCB2YWx1ZVJlZi5jdXJyZW50ID0gXCJcIiwgb25DaGFuZ2UgJiYgb25DaGFuZ2UoXCJcIiksIG9uUXVlcnlDaGFuZ2UgJiYgb25RdWVyeUNoYW5nZShudWxsKSwgKF9hID0gaW5wdXRFbGVtZW50UmVmLmN1cnJlbnQpID09IG51bGwgfHwgX2EuZm9jdXMoKTtcbiAgfSwgW29uQ2hhbmdlLCBvblF1ZXJ5Q2hhbmdlXSksIGhhbmRsZUNsZWFyQnV0dG9uRm9jdXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcImlucHV0L2ZvY3VzXCIgfSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmFsdWVQcm9wICE9PSB2YWx1ZVByb3BSZWYuY3VycmVudCkge1xuICAgICAgdmFsdWVQcm9wUmVmLmN1cnJlbnQgPSB2YWx1ZVByb3AsIHZhbHVlUHJvcCAhPT0gdm9pZCAwICYmIChkaXNwYXRjaCh7IHR5cGU6IFwidmFsdWUvY2hhbmdlXCIsIHZhbHVlOiB2YWx1ZVByb3AgfSksIHZhbHVlUmVmLmN1cnJlbnQgPSB2YWx1ZVByb3ApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YWx1ZVByb3AgIT09IHZhbHVlUmVmLmN1cnJlbnQgJiYgKHZhbHVlUmVmLmN1cnJlbnQgPSB2YWx1ZVByb3AgfHwgbnVsbCwgZGlzcGF0Y2goeyB0eXBlOiBcInZhbHVlL2NoYW5nZVwiLCB2YWx1ZTogdmFsdWVQcm9wIHx8IG51bGwgfSkpO1xuICB9LCBbdmFsdWVQcm9wXSksIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgIWZvY3VzZWQgJiYgdmFsdWVSZWYuY3VycmVudCAmJiBkaXNwYXRjaCh7IHR5cGU6IFwicm9vdC9zZXRBY3RpdmVWYWx1ZVwiLCB2YWx1ZTogdmFsdWVSZWYuY3VycmVudCB9KTtcbiAgfSwgW2ZvY3VzZWRdKSwgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsaXN0RWxlbWVudCA9IGxpc3RCb3hFbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFsaXN0RWxlbWVudCkgcmV0dXJuO1xuICAgIGNvbnN0IGFjdGl2ZU9wdGlvbiA9IGZpbHRlcmVkT3B0aW9ucy5maW5kKChvKSA9PiBvLnZhbHVlID09PSBhY3RpdmVWYWx1ZSk7XG4gICAgaWYgKGFjdGl2ZU9wdGlvbikge1xuICAgICAgY29uc3QgYWN0aXZlSW5kZXggPSBmaWx0ZXJlZE9wdGlvbnMuaW5kZXhPZihhY3RpdmVPcHRpb24pLCBhY3RpdmVJdGVtRWxlbWVudCA9IGxpc3RFbGVtZW50LmNoaWxkTm9kZXNbYWN0aXZlSW5kZXhdO1xuICAgICAgaWYgKGFjdGl2ZUl0ZW1FbGVtZW50KSB7XG4gICAgICAgIGlmIChfaGFzRm9jdXMoYWN0aXZlSXRlbUVsZW1lbnQpKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9jdXNGaXJzdERlc2NlbmRhbnQoYWN0aXZlSXRlbUVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2FjdGl2ZVZhbHVlLCBmaWx0ZXJlZE9wdGlvbnNdKTtcbiAgY29uc3QgY2xlYXJCdXR0b24gPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIWxvYWRpbmcgJiYgIWRpc2FibGVkICYmIHZhbHVlKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiQ2xlYXJcIixcbiAgICAgICAgb25Gb2N1czogaGFuZGxlQ2xlYXJCdXR0b25Gb2N1c1xuICAgICAgfTtcbiAgfSwgW2Rpc2FibGVkLCBoYW5kbGVDbGVhckJ1dHRvbkZvY3VzLCBsb2FkaW5nLCB2YWx1ZV0pLCBvcGVuQnV0dG9uQm94UGFkZGluZyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gcGFkZGluZy5tYXAoKHYpID0+IHYgPT09IDAgPyAwIDogdiA9PT0gMSB8fCB2ID09PSAyID8gMSA6IHYgLSAyKSxcbiAgICBbcGFkZGluZ11cbiAgKSwgb3BlbkJ1dHRvblBhZGRpbmcgPSB1c2VNZW1vKCgpID0+IHBhZGRpbmcubWFwKCh2KSA9PiBNYXRoLm1heCh2IC0gMSwgMCkpLCBbcGFkZGluZ10pLCBvcGVuQnV0dG9uUHJvcHMgPSB1c2VNZW1vKFxuICAgICgpID0+IHR5cGVvZiBvcGVuQnV0dG9uID09IFwib2JqZWN0XCIgPyBvcGVuQnV0dG9uIDogRU1QVFlfUkVDT1JELFxuICAgIFtvcGVuQnV0dG9uXVxuICApLCBoYW5kbGVPcGVuQ2xpY2sgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIGRpc3BhdGNoT3BlbigpLCBvcGVuQnV0dG9uUHJvcHMub25DbGljayAmJiBvcGVuQnV0dG9uUHJvcHMub25DbGljayhldmVudCksIF9yYWYoKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSBpbnB1dEVsZW1lbnRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtvcGVuQnV0dG9uUHJvcHMsIGRpc3BhdGNoT3Blbl1cbiAgKSwgb3BlbkJ1dHRvbk5vZGUgPSB1c2VNZW1vKFxuICAgICgpID0+ICFkaXNhYmxlZCAmJiAhcmVhZE9ubHkgJiYgb3BlbkJ1dHRvbiA/IC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IFwiYXJpYS1oaWRkZW5cIjogZXhwYW5kZWQsIHBhZGRpbmc6IG9wZW5CdXR0b25Cb3hQYWRkaW5nLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIEJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiT3BlblwiLFxuICAgICAgICBkaXNhYmxlZDogZXhwYW5kZWQsXG4gICAgICAgIGZvbnRTaXplOiBmb250U2l6ZTIsXG4gICAgICAgIGljb246IENoZXZyb25Eb3duSWNvbixcbiAgICAgICAgbW9kZTogXCJibGVlZFwiLFxuICAgICAgICBwYWRkaW5nOiBvcGVuQnV0dG9uUGFkZGluZyxcbiAgICAgICAgLi4ub3BlbkJ1dHRvblByb3BzLFxuICAgICAgICBvbkNsaWNrOiBoYW5kbGVPcGVuQ2xpY2tcbiAgICAgIH1cbiAgICApIH0pIDogdm9pZCAwLFxuICAgIFtcbiAgICAgIGRpc2FibGVkLFxuICAgICAgZXhwYW5kZWQsXG4gICAgICBmb250U2l6ZTIsXG4gICAgICBoYW5kbGVPcGVuQ2xpY2ssXG4gICAgICBvcGVuQnV0dG9uLFxuICAgICAgb3BlbkJ1dHRvbkJveFBhZGRpbmcsXG4gICAgICBvcGVuQnV0dG9uUGFkZGluZyxcbiAgICAgIG9wZW5CdXR0b25Qcm9wcyxcbiAgICAgIHJlYWRPbmx5XG4gICAgXVxuICApLCBpbnB1dFZhbHVlID0gdXNlTWVtbygoKSA9PiBxdWVyeSA9PT0gbnVsbCA/IHZhbHVlICE9PSBudWxsID8gcmVuZGVyVmFsdWUodmFsdWUsIGN1cnJlbnRPcHRpb24pIDogXCJcIiA6IHF1ZXJ5LCBbY3VycmVudE9wdGlvbiwgcXVlcnksIHJlbmRlclZhbHVlLCB2YWx1ZV0pLCBpbnB1dCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgVGV4dElucHV0LFxuICAgIHtcbiAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IGFjdGl2ZUl0ZW1JZCxcbiAgICAgIFwiYXJpYS1hdXRvY29tcGxldGVcIjogXCJsaXN0XCIsXG4gICAgICBcImFyaWEtZXhwYW5kZWRcIjogZXhwYW5kZWQsXG4gICAgICBcImFyaWEtb3duc1wiOiBsaXN0Qm94SWQsXG4gICAgICBhdXRvQ2FwaXRhbGl6ZTogXCJvZmZcIixcbiAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgIGF1dG9Db3JyZWN0OiBcIm9mZlwiLFxuICAgICAgYm9yZGVyOiBib3JkZXIyLFxuICAgICAgY2xlYXJCdXR0b24sXG4gICAgICBjdXN0b21WYWxpZGl0eSxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgZm9udFNpemU6IGZvbnRTaXplMixcbiAgICAgIGljb24sXG4gICAgICBpY29uUmlnaHQ6IGxvYWRpbmcgJiYgQW5pbWF0ZWRTcGlubmVySWNvbixcbiAgICAgIGlkLFxuICAgICAgaW5wdXRNb2RlOiBcInNlYXJjaFwiLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUlucHV0Q2hhbmdlLFxuICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXJCdXR0b25DbGljayxcbiAgICAgIG9uRm9jdXM6IGhhbmRsZUlucHV0Rm9jdXMsXG4gICAgICBwYWRkaW5nLFxuICAgICAgcHJlZml4LFxuICAgICAgcmFkaXVzLFxuICAgICAgcmVhZE9ubHksXG4gICAgICByZWY6IGlucHV0RWxlbWVudFJlZixcbiAgICAgIHJvbGU6IFwiY29tYm9ib3hcIixcbiAgICAgIHNwZWxsQ2hlY2s6ICExLFxuICAgICAgc3VmZml4OiBzdWZmaXggfHwgb3BlbkJ1dHRvbk5vZGUsXG4gICAgICB2YWx1ZTogaW5wdXRWYWx1ZVxuICAgIH1cbiAgKSwgaGFuZGxlTGlzdEJveEtleURvd24gPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGV2ZW50LmtleSA9PT0gXCJUYWJcIiAmJiBsaXN0Rm9jdXNlZCAmJiAoKF9hID0gaW5wdXRFbGVtZW50UmVmLmN1cnJlbnQpID09IG51bGwgfHwgX2EuZm9jdXMoKSk7XG4gICAgfSxcbiAgICBbbGlzdEZvY3VzZWRdXG4gICksIGNvbnRlbnQgPSB1c2VNZW1vKCgpID0+IGZpbHRlcmVkT3B0aW9ucy5sZW5ndGggPT09IDAgPyBudWxsIDogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBMaXN0Qm94LFxuICAgIHtcbiAgICAgIFwiZGF0YS11aVwiOiBcIkF1dG9Db21wbGV0ZV9fcmVzdWx0c1wiLFxuICAgICAgb25LZXlEb3duOiBoYW5kbGVMaXN0Qm94S2V5RG93bixcbiAgICAgIHBhZGRpbmc6IDEsXG4gICAgICAuLi5saXN0Qm94LFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFN0YWNrLFxuICAgICAgICB7XG4gICAgICAgICAgYXM6IFwidWxcIixcbiAgICAgICAgICBcImFyaWEtbXVsdGlzZWxlY3RhYmxlXCI6ICExLFxuICAgICAgICAgIFwiZGF0YS11aVwiOiBcIkF1dG9Db21wbGV0ZV9fcmVzdWx0c0xpc3RcIixcbiAgICAgICAgICBpZDogbGlzdEJveElkLFxuICAgICAgICAgIHJlZjogbGlzdEJveEVsZW1lbnRSZWYsXG4gICAgICAgICAgcm9sZTogXCJsaXN0Ym94XCIsXG4gICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgY2hpbGRyZW46IGZpbHRlcmVkT3B0aW9ucy5tYXAoKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlID0gYWN0aXZlVmFsdWUgIT09IG51bGwgPyBvcHRpb24udmFsdWUgPT09IGFjdGl2ZVZhbHVlIDogY3VycmVudE9wdGlvbiA9PT0gb3B0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgIEF1dG9jb21wbGV0ZU9wdGlvbixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiBgJHtpZH0tb3B0aW9uLSR7b3B0aW9uLnZhbHVlfWAsXG4gICAgICAgICAgICAgICAgb25TZWxlY3Q6IGhhbmRsZU9wdGlvblNlbGVjdCxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogYWN0aXZlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBvcHRpb24udmFsdWUsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IGNsb25lRWxlbWVudChyZW5kZXJPcHRpb24ob3B0aW9uKSwge1xuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGxvYWRpbmcsXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZDogYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgdGFiSW5kZXg6IGxpc3RGb2N1c2VkICYmIGFjdGl2ZSA/IDAgOiAtMVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG9wdGlvbi52YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApLCBbXG4gICAgYWN0aXZlVmFsdWUsXG4gICAgY3VycmVudE9wdGlvbixcbiAgICBmaWx0ZXJlZE9wdGlvbnMsXG4gICAgaGFuZGxlT3B0aW9uU2VsZWN0LFxuICAgIGhhbmRsZUxpc3RCb3hLZXlEb3duLFxuICAgIGlkLFxuICAgIGxpc3RCb3gsXG4gICAgbGlzdEJveElkLFxuICAgIGxpc3RGb2N1c2VkLFxuICAgIGxvYWRpbmcsXG4gICAgcmVuZGVyT3B0aW9uXG4gIF0pLCByZXN1bHRzID0gdXNlTWVtbygoKSA9PiByZW5kZXJQb3BvdmVyID8gcmVuZGVyUG9wb3ZlcihcbiAgICB7XG4gICAgICBjb250ZW50LFxuICAgICAgaGlkZGVuOiAhZXhwYW5kZWQsXG4gICAgICBpbnB1dEVsZW1lbnQ6IGlucHV0RWxlbWVudFJlZi5jdXJyZW50LFxuICAgICAgb25Nb3VzZUVudGVyOiBoYW5kbGVQb3BvdmVyTW91c2VFbnRlcixcbiAgICAgIG9uTW91c2VMZWF2ZTogaGFuZGxlUG9wb3Zlck1vdXNlTGVhdmVcbiAgICB9LFxuICAgIHJlc3VsdHNQb3BvdmVyRWxlbWVudFJlZlxuICApIDogZmlsdGVyZWRPcHRpb25zTGVuID09PSAwID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgUG9wb3ZlcixcbiAgICB7XG4gICAgICBhcnJvdzogITEsXG4gICAgICBjb25zdHJhaW5TaXplOiAhMCxcbiAgICAgIGNvbnRlbnQsXG4gICAgICBmYWxsYmFja1BsYWNlbWVudHM6IEFVVE9DT01QTEVURV9QT1BPVkVSX0ZBTExCQUNLX1BMQUNFTUVOVFMsXG4gICAgICBtYXRjaFJlZmVyZW5jZVdpZHRoOiAhMCxcbiAgICAgIG9uTW91c2VFbnRlcjogaGFuZGxlUG9wb3Zlck1vdXNlRW50ZXIsXG4gICAgICBvbk1vdXNlTGVhdmU6IGhhbmRsZVBvcG92ZXJNb3VzZUxlYXZlLFxuICAgICAgb3BlbjogZXhwYW5kZWQsXG4gICAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgICBwbGFjZW1lbnQ6IEFVVE9DT01QTEVURV9QT1BPVkVSX1BMQUNFTUVOVCxcbiAgICAgIHBvcnRhbDogITAsXG4gICAgICByYWRpdXMsXG4gICAgICByZWY6IHJlc3VsdHNQb3BvdmVyRWxlbWVudFJlZixcbiAgICAgIHJlZmVyZW5jZUVsZW1lbnQ6IGlucHV0RWxlbWVudFJlZi5jdXJyZW50LFxuICAgICAgLi4ucG9wb3ZlclxuICAgIH1cbiAgKSwgW1xuICAgIGNvbnRlbnQsXG4gICAgZXhwYW5kZWQsXG4gICAgZmlsdGVyZWRPcHRpb25zTGVuLFxuICAgIGhhbmRsZVBvcG92ZXJNb3VzZUVudGVyLFxuICAgIGhhbmRsZVBvcG92ZXJNb3VzZUxlYXZlLFxuICAgIHBvcG92ZXIsXG4gICAgcmFkaXVzLFxuICAgIHJlbmRlclBvcG92ZXJcbiAgXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBSb290JDksXG4gICAge1xuICAgICAgXCJkYXRhLXVpXCI6IFwiQXV0b2NvbXBsZXRlXCIsXG4gICAgICBvbkJsdXI6IGhhbmRsZVJvb3RCbHVyLFxuICAgICAgb25Gb2N1czogaGFuZGxlUm9vdEZvY3VzLFxuICAgICAgb25LZXlEb3duOiBoYW5kbGVSb290S2V5RG93bixcbiAgICAgIHJlZjogcm9vdEVsZW1lbnRSZWYsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICBpbnB1dCxcbiAgICAgICAgcmVzdWx0c1xuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBBdXRvY29tcGxldGUgPSBJbm5lckF1dG9jb21wbGV0ZSwgUm9vdCQ4ID0gc3R5bGVkLm9sYFxuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGxpc3Qtc3R5bGU6IG5vbmU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGxpbmUtaGVpZ2h0OiAwO1xuYCwgRXhwYW5kQnV0dG9uID0gc3R5bGVkKEJ1dHRvbilgXG4gIGFwcGVhcmFuY2U6IG5vbmU7XG4gIG1hcmdpbjogLTRweDtcbmAsIEJyZWFkY3J1bWJzID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIG1heExlbmd0aCwgc2VwYXJhdG9yLCBzcGFjZTogc3BhY2VSYXcgPSAyLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzLCBzcGFjZSA9IHVzZUFycmF5UHJvcChzcGFjZVJhdyksIFtvcGVuLCBzZXRPcGVuXSA9IHVzZVN0YXRlKCExKSwgW2V4cGFuZEVsZW1lbnQsIHNldEV4cGFuZEVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCksIFtwb3BvdmVyRWxlbWVudCwgc2V0UG9wb3ZlckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCksIGNvbGxhcHNlID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0T3BlbighMSksIFtdKSwgZXhwYW5kID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0T3BlbighMCksIFtdKTtcbiAgdXNlQ2xpY2tPdXRzaWRlKGNvbGxhcHNlLCBbZXhwYW5kRWxlbWVudCwgcG9wb3ZlckVsZW1lbnRdKTtcbiAgY29uc3QgcmF3SXRlbXMgPSB1c2VNZW1vKCgpID0+IENoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pLmZpbHRlcihpc1ZhbGlkRWxlbWVudCksIFtjaGlsZHJlbl0pLCBpdGVtcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGxlbiA9IHJhd0l0ZW1zLmxlbmd0aDtcbiAgICBpZiAobWF4TGVuZ3RoICYmIGxlbiA+IG1heExlbmd0aCkge1xuICAgICAgY29uc3QgYmVmb3JlTGVuZ3RoID0gTWF0aC5jZWlsKG1heExlbmd0aCAvIDIpLCBhZnRlckxlbmd0aCA9IE1hdGguZmxvb3IobWF4TGVuZ3RoIC8gMik7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAuLi5yYXdJdGVtcy5zbGljZSgwLCBiZWZvcmVMZW5ndGggLSAxKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBQb3BvdmVyLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0cmFpblNpemU6ICEwLFxuICAgICAgICAgICAgY29udGVudDogLyogQF9fUFVSRV9fICovIGpzeChTdGFjaywgeyBhczogXCJvbFwiLCBvdmVyZmxvdzogXCJhdXRvXCIsIHBhZGRpbmc6IHNwYWNlLCBzcGFjZSwgY2hpbGRyZW46IHJhd0l0ZW1zLnNsaWNlKGJlZm9yZUxlbmd0aCAtIDEsIGxlbiAtIGFmdGVyTGVuZ3RoKSB9KSxcbiAgICAgICAgICAgIG9wZW4sXG4gICAgICAgICAgICBwbGFjZW1lbnQ6IFwidG9wXCIsXG4gICAgICAgICAgICBwb3J0YWw6ICEwLFxuICAgICAgICAgICAgcmVmOiBzZXRQb3BvdmVyRWxlbWVudCxcbiAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICBFeHBhbmRCdXR0b24sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMSxcbiAgICAgICAgICAgICAgICBtb2RlOiBcImJsZWVkXCIsXG4gICAgICAgICAgICAgICAgb25DbGljazogb3BlbiA/IGNvbGxhcHNlIDogZXhwYW5kLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEsXG4gICAgICAgICAgICAgICAgcmVmOiBzZXRFeHBhbmRFbGVtZW50LFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBvcGVuLFxuICAgICAgICAgICAgICAgIHRleHQ6IFwiXFx1MjAyNlwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiYnV0dG9uXCJcbiAgICAgICAgKSxcbiAgICAgICAgLi4ucmF3SXRlbXMuc2xpY2UobGVuIC0gYWZ0ZXJMZW5ndGgpXG4gICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gcmF3SXRlbXM7XG4gIH0sIFtjb2xsYXBzZSwgZXhwYW5kLCBtYXhMZW5ndGgsIG9wZW4sIHJhd0l0ZW1zLCBzcGFjZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChSb290JDgsIHsgXCJkYXRhLXVpXCI6IFwiQnJlYWRjcnVtYnNcIiwgLi4ucmVzdFByb3BzLCByZWYsIGNoaWxkcmVuOiBpdGVtcy5tYXAoKGl0ZW0sIGl0ZW1JbmRleCkgPT4gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQkMSwgeyBjaGlsZHJlbjogW1xuICAgIGl0ZW1JbmRleCA+IDAgJiYgLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgXCJhcmlhLWhpZGRlblwiOiAhMCwgYXM6IFwibGlcIiwgcGFkZGluZ1g6IHNwYWNlLCBjaGlsZHJlbjogc2VwYXJhdG9yIHx8IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyBtdXRlZDogITAsIGNoaWxkcmVuOiBcIi9cIiB9KSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBhczogXCJsaVwiLCBjaGlsZHJlbjogaXRlbSB9KVxuICBdIH0sIGl0ZW1JbmRleCkpIH0pO1xufSk7XG5mdW5jdGlvbiBkaWFsb2dTdHlsZSh7IHRoZW1lIH0pIHtcbiAgY29uc3QgeyBjb2xvciB9ID0gZ2V0VGhlbWVfdjIodGhlbWUpO1xuICByZXR1cm4ge1xuICAgIFwiJjpub3QoW2hpZGRlbl0pXCI6IHtcbiAgICAgIGRpc3BsYXk6IFwiZmxleFwiXG4gICAgfSxcbiAgICB0b3A6IDAsXG4gICAgbGVmdDogMCxcbiAgICByaWdodDogMCxcbiAgICBib3R0b206IDAsXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICBvdXRsaW5lOiBcIm5vbmVcIixcbiAgICBiYWNrZ3JvdW5kOiBjb2xvci5iYWNrZHJvcFxuICB9O1xufVxuZnVuY3Rpb24gcmVzcG9uc2l2ZURpYWxvZ1Bvc2l0aW9uU3R5bGUocHJvcHMpIHtcbiAgY29uc3QgeyBtZWRpYSB9ID0gZ2V0VGhlbWVfdjIocHJvcHMudGhlbWUpO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsIHByb3BzLiRwb3NpdGlvbiwgKHBvc2l0aW9uKSA9PiAoeyBcIiYmXCI6IHsgcG9zaXRpb24gfSB9KSk7XG59XG5mdW5jdGlvbiBhbmltYXRpb25EaWFsb2dTdHlsZShwcm9wcykge1xuICByZXR1cm4gcHJvcHMuJGFuaW1hdGUgPyBjc3NgXG4gICAgQGtleWZyYW1lcyB6b29tSW4ge1xuICAgICAgZnJvbSB7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC45NSk7XG4gICAgICB9XG4gICAgICB0byB7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gICAgICB9XG4gICAgfVxuICAgIEBrZXlmcmFtZXMgZmFkZUluIHtcbiAgICAgIGZyb20ge1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgfVxuICAgICAgdG8ge1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFuaW1hdGlvbjogZmFkZUluIDIwMG1zIGVhc2Utb3V0O1xuICAgIC8vIEFuaW1hdGVzIHRoZSBkaWFsb2cgY2FyZC5cbiAgICAmID4gW2RhdGEtdWk9J0RpYWxvZ0NhcmQnXSB7XG4gICAgICBhbmltYXRpb246IHpvb21JbiAyMDBtcyBlYXNlLW91dDtcbiAgICB9XG4gIGAgOiBjc3NgYDtcbn1cbmNvbnN0IGtleSQzID0gU3ltYm9sLmZvcihcIkBzYW5pdHkvdWkvY29udGV4dC9kaWFsb2dcIiksIERpYWxvZ0NvbnRleHQgPSBjcmVhdGVHbG9iYWxTY29wZWRDb250ZXh0KGtleSQzLCB7XG4gIHZlcnNpb246IDBcbn0pO1xuZnVuY3Rpb24gdXNlRGlhbG9nKCkge1xuICByZXR1cm4gdXNlQ29udGV4dChEaWFsb2dDb250ZXh0KTtcbn1cbmZ1bmN0aW9uIGlzVGFyZ2V0V2l0aGluU2NvcGUoYm91bmRhcnlFbGVtZW50LCBwb3J0YWxFbGVtZW50LCB0YXJnZXQpIHtcbiAgcmV0dXJuICFib3VuZGFyeUVsZW1lbnQgfHwgIXBvcnRhbEVsZW1lbnQgPyAhMCA6IGNvbnRhaW5zT3JFcXVhbHNFbGVtZW50KGJvdW5kYXJ5RWxlbWVudCwgdGFyZ2V0KSB8fCBjb250YWluc09yRXF1YWxzRWxlbWVudChwb3J0YWxFbGVtZW50LCB0YXJnZXQpO1xufVxuY29uc3QgUm9vdCQ3ID0gc3R5bGVkKExheWVyKShyZXNwb25zaXZlUGFkZGluZ1N0eWxlLCBkaWFsb2dTdHlsZSwgcmVzcG9uc2l2ZURpYWxvZ1Bvc2l0aW9uU3R5bGUsIGFuaW1hdGlvbkRpYWxvZ1N0eWxlKSwgRGlhbG9nQ29udGFpbmVyID0gc3R5bGVkKENvbnRhaW5lcilgXG4gICY6bm90KFtoaWRkZW5dKSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgfVxuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbmAsIERpYWxvZ0NhcmRSb290ID0gc3R5bGVkKENhcmQpYFxuICAmOm5vdChbaGlkZGVuXSkge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gIH1cbiAgd2lkdGg6IDEwMCU7XG4gIG1pbi1oZWlnaHQ6IDA7XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG92ZXJmbG93OiBjbGlwO1xuYCwgRGlhbG9nTGF5b3V0ID0gc3R5bGVkKEZsZXgpYFxuICBmbGV4OiAxO1xuICBtaW4taGVpZ2h0OiAwO1xuICB3aWR0aDogMTAwJTtcbmAsIERpYWxvZ0hlYWRlciA9IHN0eWxlZChCb3gpYFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHotaW5kZXg6IDI7XG5gLCBEaWFsb2dDb250ZW50ID0gc3R5bGVkKEJveClgXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgei1pbmRleDogMTtcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIG91dGxpbmU6IG5vbmU7XG5gLCBEaWFsb2dGb290ZXIgPSBzdHlsZWQoQm94KWBcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiAzO1xuYCwgRGlhbG9nQ2FyZCA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIGZvcndhcmRlZFJlZikge1xuICB2YXIgX2E7XG4gIGNvbnN0IHtcbiAgICBfX3Vuc3RhYmxlX2F1dG9Gb2N1czogYXV0b0ZvY3VzLFxuICAgIF9fdW5zdGFibGVfaGlkZUNsb3NlQnV0dG9uOiBoaWRlQ2xvc2VCdXR0b24sXG4gICAgY2hpbGRyZW4sXG4gICAgY29udGVudFJlZjogZm9yd2FyZGVkQ29udGVudFJlZixcbiAgICBmb290ZXIsXG4gICAgaGVhZGVyLFxuICAgIGlkLFxuICAgIG9uQ2xpY2tPdXRzaWRlLFxuICAgIG9uQ2xvc2UsXG4gICAgcG9ydGFsOiBwb3J0YWxQcm9wLFxuICAgIHJhZGl1czogcmFkaXVzUHJvcCxcbiAgICBzY2hlbWUsXG4gICAgc2hhZG93OiBzaGFkb3dQcm9wLFxuICAgIHdpZHRoOiB3aWR0aFByb3BcbiAgfSA9IHByb3BzLCBwb3J0YWwgPSB1c2VQb3J0YWwoKSwgcG9ydGFsRWxlbWVudCA9IHBvcnRhbFByb3AgPyAoKF9hID0gcG9ydGFsLmVsZW1lbnRzKSA9PSBudWxsID8gdm9pZCAwIDogX2FbcG9ydGFsUHJvcF0pIHx8IG51bGwgOiBwb3J0YWwuZWxlbWVudCwgYm91bmRhcnlFbGVtZW50ID0gdXNlQm91bmRhcnlFbGVtZW50KCkuZWxlbWVudCwgcmFkaXVzID0gdXNlQXJyYXlQcm9wKHJhZGl1c1Byb3ApLCBzaGFkb3cgPSB1c2VBcnJheVByb3Aoc2hhZG93UHJvcCksIHdpZHRoID0gdXNlQXJyYXlQcm9wKHdpZHRoUHJvcCksIHJlZiA9IHVzZVJlZihudWxsKSwgW3Jvb3RFbGVtZW50LCBzZXRSb290RWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKSwgY29udGVudFJlZiA9IHVzZVJlZihudWxsKSwgbGF5ZXIgPSB1c2VMYXllcigpLCB7IGlzVG9wTGF5ZXIgfSA9IGxheWVyLCBsYWJlbElkID0gYCR7aWR9X2xhYmVsYCwgc2hvd0Nsb3NlQnV0dG9uID0gISFvbkNsb3NlICYmIGhpZGVDbG9zZUJ1dHRvbiA9PT0gITEsIHNob3dIZWFkZXIgPSAhIWhlYWRlciB8fCBzaG93Q2xvc2VCdXR0b247XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUoZm9yd2FyZGVkUmVmLCAoKSA9PiByZWYuY3VycmVudCksIHVzZUltcGVyYXRpdmVIYW5kbGUoXG4gICAgZm9yd2FyZGVkQ29udGVudFJlZixcbiAgICAoKSA9PiBjb250ZW50UmVmLmN1cnJlbnRcbiAgKSwgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhdXRvRm9jdXMgJiYgcmVmLmN1cnJlbnQgJiYgZm9jdXNGaXJzdERlc2NlbmRhbnQocmVmLmN1cnJlbnQpO1xuICB9LCBbYXV0b0ZvY3VzLCByZWZdKSwgdXNlR2xvYmFsS2V5RG93bihcbiAgICB1c2VDYWxsYmFjayhcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWlzVG9wTGF5ZXIgfHwgIW9uQ2xvc2UpIHJldHVybjtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgdGFyZ2V0ICYmICFpc1RhcmdldFdpdGhpblNjb3BlKGJvdW5kYXJ5RWxlbWVudCwgcG9ydGFsRWxlbWVudCwgdGFyZ2V0KSB8fCBldmVudC5rZXkgPT09IFwiRXNjYXBlXCIgJiYgKGV2ZW50LnByZXZlbnREZWZhdWx0KCksIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpLCBvbkNsb3NlKCkpO1xuICAgICAgfSxcbiAgICAgIFtib3VuZGFyeUVsZW1lbnQsIGlzVG9wTGF5ZXIsIG9uQ2xvc2UsIHBvcnRhbEVsZW1lbnRdXG4gICAgKVxuICApLCB1c2VDbGlja091dHNpZGUoXG4gICAgdXNlQ2FsbGJhY2soXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFpc1RvcExheWVyIHx8ICFvbkNsaWNrT3V0c2lkZSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIHRhcmdldCAmJiAhaXNUYXJnZXRXaXRoaW5TY29wZShib3VuZGFyeUVsZW1lbnQsIHBvcnRhbEVsZW1lbnQsIHRhcmdldCkgfHwgb25DbGlja091dHNpZGUoKTtcbiAgICAgIH0sXG4gICAgICBbYm91bmRhcnlFbGVtZW50LCBpc1RvcExheWVyLCBvbkNsaWNrT3V0c2lkZSwgcG9ydGFsRWxlbWVudF1cbiAgICApLFxuICAgIFtyb290RWxlbWVudF1cbiAgKTtcbiAgY29uc3Qgc2V0UmVmID0gdXNlQ2FsbGJhY2soKGVsKSA9PiB7XG4gICAgc2V0Um9vdEVsZW1lbnQoZWwpLCByZWYuY3VycmVudCA9IGVsO1xuICB9LCBbXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KERpYWxvZ0NvbnRhaW5lciwgeyBcImRhdGEtdWlcIjogXCJEaWFsb2dDYXJkXCIsIHdpZHRoLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChEaWFsb2dDYXJkUm9vdCwgeyByYWRpdXMsIHJlZjogc2V0UmVmLCBzY2hlbWUsIHNoYWRvdywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKERpYWxvZ0xheW91dCwgeyBkaXJlY3Rpb246IFwiY29sdW1uXCIsIGNoaWxkcmVuOiBbXG4gICAgc2hvd0hlYWRlciAmJiAvKiBAX19QVVJFX18gKi8ganN4KERpYWxvZ0hlYWRlciwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoRmxleCwgeyBhbGlnbjogXCJjZW50ZXJcIiwgcGFkZGluZzogMywgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGZsZXg6IDEsIHBhZGRpbmc6IDIsIGNoaWxkcmVuOiBoZWFkZXIgJiYgLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IGlkOiBsYWJlbElkLCBzaXplOiAxLCB3ZWlnaHQ6IFwic2VtaWJvbGRcIiwgY2hpbGRyZW46IGhlYWRlciB9KSB9KSxcbiAgICAgIHNob3dDbG9zZUJ1dHRvbiAmJiAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBmbGV4OiBcIm5vbmVcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIEJ1dHRvbixcbiAgICAgICAge1xuICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIkNsb3NlIGRpYWxvZ1wiLFxuICAgICAgICAgIGRpc2FibGVkOiAhb25DbG9zZSxcbiAgICAgICAgICBpY29uOiBDbG9zZUljb24sXG4gICAgICAgICAgbW9kZTogXCJibGVlZFwiLFxuICAgICAgICAgIG9uQ2xpY2s6IG9uQ2xvc2UsXG4gICAgICAgICAgcGFkZGluZzogMlxuICAgICAgICB9XG4gICAgICApIH0pXG4gICAgXSB9KSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KERpYWxvZ0NvbnRlbnQsIHsgZmxleDogMSwgcmVmOiBjb250ZW50UmVmLCB0YWJJbmRleDogLTEsIGNoaWxkcmVuIH0pLFxuICAgIGZvb3RlciAmJiAvKiBAX19QVVJFX18gKi8ganN4KERpYWxvZ0Zvb3RlciwgeyBjaGlsZHJlbjogZm9vdGVyIH0pXG4gIF0gfSkgfSkgfSk7XG59KSwgRGlhbG9nID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgZGlhbG9nID0gdXNlRGlhbG9nKCksIHsgbGF5ZXIgfSA9IHVzZVRoZW1lX3YyKCksIHtcbiAgICBfX3Vuc3RhYmxlX2F1dG9Gb2N1czogYXV0b0ZvY3VzID0gITAsXG4gICAgX191bnN0YWJsZV9oaWRlQ2xvc2VCdXR0b246IGhpZGVDbG9zZUJ1dHRvbiA9ICExLFxuICAgIGNhcmRSYWRpdXM6IGNhcmRSYWRpdXNQcm9wID0gNCxcbiAgICBjYXJkU2hhZG93ID0gMyxcbiAgICBjaGlsZHJlbixcbiAgICBjb250ZW50UmVmLFxuICAgIGZvb3RlcixcbiAgICBoZWFkZXIsXG4gICAgaWQsXG4gICAgb25BY3RpdmF0ZSxcbiAgICBvbkNsaWNrT3V0c2lkZSxcbiAgICBvbkNsb3NlLFxuICAgIG9uRm9jdXMsXG4gICAgcGFkZGluZzogcGFkZGluZ1Byb3AgPSAzLFxuICAgIHBvcnRhbDogcG9ydGFsUHJvcCxcbiAgICBwb3NpdGlvbjogcG9zaXRpb25Qcm9wID0gZGlhbG9nLnBvc2l0aW9uIHx8IFwiZml4ZWRcIixcbiAgICBzY2hlbWUsXG4gICAgd2lkdGg6IHdpZHRoUHJvcCA9IDAsXG4gICAgek9mZnNldDogek9mZnNldFByb3AgPSBkaWFsb2cuek9mZnNldCB8fCBsYXllci5kaWFsb2cuek9mZnNldCxcbiAgICBhbmltYXRlOiBfYW5pbWF0ZSA9ICExLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHMsIGFuaW1hdGUgPSB1c2VQcmVmZXJzUmVkdWNlZE1vdGlvbigpID8gITEgOiBfYW5pbWF0ZSwgcG9ydGFsID0gdXNlUG9ydGFsKCksIHBvcnRhbEVsZW1lbnQgPSBwb3J0YWxQcm9wID8gKChfYSA9IHBvcnRhbC5lbGVtZW50cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hW3BvcnRhbFByb3BdKSB8fCBudWxsIDogcG9ydGFsLmVsZW1lbnQsIGJvdW5kYXJ5RWxlbWVudCA9IHVzZUJvdW5kYXJ5RWxlbWVudCgpLmVsZW1lbnQsIGNhcmRSYWRpdXMgPSB1c2VBcnJheVByb3AoY2FyZFJhZGl1c1Byb3ApLCBwYWRkaW5nID0gdXNlQXJyYXlQcm9wKHBhZGRpbmdQcm9wKSwgcG9zaXRpb24gPSB1c2VBcnJheVByb3AocG9zaXRpb25Qcm9wKSwgd2lkdGggPSB1c2VBcnJheVByb3Aod2lkdGhQcm9wKSwgek9mZnNldCA9IHVzZUFycmF5UHJvcCh6T2Zmc2V0UHJvcCksIHByZURpdlJlZiA9IHVzZVJlZihudWxsKSwgcG9zdERpdlJlZiA9IHVzZVJlZihudWxsKSwgY2FyZFJlZiA9IHVzZVJlZihudWxsKSwgZm9jdXNlZEVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbCksIGhhbmRsZUZvY3VzID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBvbkZvY3VzID09IG51bGwgfHwgb25Gb2N1cyhldmVudCk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQsIGNhcmRFbGVtZW50ID0gY2FyZFJlZi5jdXJyZW50O1xuICAgICAgaWYgKGNhcmRFbGVtZW50ICYmIHRhcmdldCA9PT0gcHJlRGl2UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgZm9jdXNMYXN0RGVzY2VuZGFudChjYXJkRWxlbWVudCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChjYXJkRWxlbWVudCAmJiB0YXJnZXQgPT09IHBvc3REaXZSZWYuY3VycmVudCkge1xuICAgICAgICBmb2N1c0ZpcnN0RGVzY2VuZGFudChjYXJkRWxlbWVudCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlzSFRNTEVsZW1lbnQoZXZlbnQudGFyZ2V0KSAmJiAoZm9jdXNlZEVsZW1lbnRSZWYuY3VycmVudCA9IGV2ZW50LnRhcmdldCk7XG4gICAgfSxcbiAgICBbb25Gb2N1c11cbiAgKSwgbGFiZWxJZCA9IGAke2lkfV9sYWJlbGAsIHJvb3RDbGlja1RpbWVvdXRSZWYgPSB1c2VSZWYoKSwgaGFuZGxlUm9vdENsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJvb3RDbGlja1RpbWVvdXRSZWYuY3VycmVudCAmJiBjbGVhclRpbWVvdXQocm9vdENsaWNrVGltZW91dFJlZi5jdXJyZW50KSwgcm9vdENsaWNrVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgIGlmIChhY3RpdmVFbGVtZW50ICYmICFpc1RhcmdldFdpdGhpblNjb3BlKGJvdW5kYXJ5RWxlbWVudCwgcG9ydGFsRWxlbWVudCwgYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZm9jdXNlZEVsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCF0YXJnZXQgfHwgIWRvY3VtZW50LmJvZHkuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFJlZi5jdXJyZW50O1xuICAgICAgICAgIGNhcmRFbGVtZW50ICYmIGZvY3VzRmlyc3REZXNjZW5kYW50KGNhcmRFbGVtZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH0sIFtib3VuZGFyeUVsZW1lbnQsIHBvcnRhbEVsZW1lbnRdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9ydGFsLCB7IF9fdW5zdGFibGVfbmFtZTogcG9ydGFsUHJvcCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFJvb3QkNyxcbiAgICB7XG4gICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICAkYW5pbWF0ZTogYW5pbWF0ZSxcbiAgICAgICRwYWRkaW5nOiBwYWRkaW5nLFxuICAgICAgJHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGxhYmVsSWQsXG4gICAgICBcImFyaWEtbW9kYWxcIjogITAsXG4gICAgICBcImRhdGEtdWlcIjogXCJEaWFsb2dcIixcbiAgICAgIGlkLFxuICAgICAgb25BY3RpdmF0ZSxcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVJvb3RDbGljayxcbiAgICAgIG9uRm9jdXM6IGhhbmRsZUZvY3VzLFxuICAgICAgcmVmLFxuICAgICAgcm9sZTogXCJkaWFsb2dcIixcbiAgICAgIHpPZmZzZXQsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgcmVmOiBwcmVEaXZSZWYsIHRhYkluZGV4OiAwIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIERpYWxvZ0NhcmQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgX191bnN0YWJsZV9hdXRvRm9jdXM6IGF1dG9Gb2N1cyxcbiAgICAgICAgICAgIF9fdW5zdGFibGVfaGlkZUNsb3NlQnV0dG9uOiBoaWRlQ2xvc2VCdXR0b24sXG4gICAgICAgICAgICBjb250ZW50UmVmLFxuICAgICAgICAgICAgZm9vdGVyLFxuICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBvbkNsaWNrT3V0c2lkZSxcbiAgICAgICAgICAgIG9uQ2xvc2UsXG4gICAgICAgICAgICBwb3J0YWw6IHBvcnRhbFByb3AsXG4gICAgICAgICAgICByYWRpdXM6IGNhcmRSYWRpdXMsXG4gICAgICAgICAgICByZWY6IGNhcmRSZWYsXG4gICAgICAgICAgICBzY2hlbWUsXG4gICAgICAgICAgICBzaGFkb3c6IGNhcmRTaGFkb3csXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgcmVmOiBwb3N0RGl2UmVmLCB0YWJJbmRleDogMCB9KVxuICAgICAgXVxuICAgIH1cbiAgKSB9KTtcbn0pO1xuZnVuY3Rpb24gRGlhbG9nUHJvdmlkZXIocHJvcHMpIHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgcG9zaXRpb24sIHpPZmZzZXQgfSA9IHByb3BzLCBjb250ZXh0VmFsdWUgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICB2ZXJzaW9uOiAwLFxuICAgICAgcG9zaXRpb24sXG4gICAgICB6T2Zmc2V0XG4gICAgfSksXG4gICAgW3Bvc2l0aW9uLCB6T2Zmc2V0XVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChEaWFsb2dDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0VmFsdWUsIGNoaWxkcmVuIH0pO1xufVxuY29uc3QgUm9vdCQ2ID0gc3R5bGVkLmtiZGBcbiAgZm9udDogaW5oZXJpdDtcbiAgcGFkZGluZzogMXB4O1xuXG4gICY6bm90KFtoaWRkZW5dKSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cbmAsIEtleSA9IHN0eWxlZChLQkQpYFxuICAmOm5vdChbaGlkZGVuXSkge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICB9XG5gLCBIb3RrZXlzID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIGNvbnN0IHsgZm9udFNpemU6IGZvbnRTaXplMiwga2V5cywgcGFkZGluZywgcmFkaXVzLCBzcGFjZTogc3BhY2VQcm9wID0gMC41LCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzLCBzcGFjZSA9IHVzZUFycmF5UHJvcChzcGFjZVByb3ApO1xuICByZXR1cm4gIWtleXMgfHwga2V5cy5sZW5ndGggPT09IDAgPyAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7fSkgOiAvKiBAX19QVVJFX18gKi8ganN4KFJvb3QkNiwgeyBcImRhdGEtdWlcIjogXCJIb3RrZXlzXCIsIC4uLnJlc3RQcm9wcywgcmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChJbmxpbmUsIHsgYXM6IFwic3BhblwiLCBzcGFjZSwgY2hpbGRyZW46IGtleXMubWFwKChrZXkyLCBpKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KEtleSwgeyBmb250U2l6ZTogZm9udFNpemUyLCBwYWRkaW5nLCByYWRpdXMsIGNoaWxkcmVuOiBrZXkyIH0sIGkpKSB9KSB9KTtcbn0pLCBrZXkkMiA9IFN5bWJvbC5mb3IoXCJAc2FuaXR5L3VpL2NvbnRleHQvbWVudVwiKSwgTWVudUNvbnRleHQgPSBjcmVhdGVHbG9iYWxTY29wZWRDb250ZXh0KGtleSQyLCBudWxsKTtcbmZ1bmN0aW9uIF9pc0ZvY3VzYWJsZShlbGVtZW50KSB7XG4gIHJldHVybiBpc0hUTUxBbmNob3JFbGVtZW50KGVsZW1lbnQpICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1kaXNhYmxlZFwiKSAhPT0gXCJ0cnVlXCIgfHwgaXNIVE1MQnV0dG9uRWxlbWVudChlbGVtZW50KSAmJiAhZWxlbWVudC5kaXNhYmxlZDtcbn1cbmZ1bmN0aW9uIF9nZXRGb2N1c2FibGVFbGVtZW50cyhlbGVtZW50cykge1xuICByZXR1cm4gZWxlbWVudHMuZmlsdGVyKF9pc0ZvY3VzYWJsZSk7XG59XG5mdW5jdGlvbiBfZ2V0RE9NUGF0aChyb290RWxlbWVudCwgZWwpIHtcbiAgY29uc3QgcGF0aCA9IFtdO1xuICBsZXQgZSA9IGVsO1xuICBmb3IgKDsgZSAhPT0gcm9vdEVsZW1lbnQ7ICkge1xuICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBlLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKCFwYXJlbnRFbGVtZW50KSByZXR1cm4gcGF0aDtcbiAgICBjb25zdCBpbmRleCA9IEFycmF5LmZyb20ocGFyZW50RWxlbWVudC5jaGlsZE5vZGVzKS5pbmRleE9mKGUpO1xuICAgIGlmIChwYXRoLnVuc2hpZnQoaW5kZXgpLCBwYXJlbnRFbGVtZW50ID09PSByb290RWxlbWVudClcbiAgICAgIHJldHVybiBwYXRoO1xuICAgIGUgPSBwYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxuY29uc3QgRU1QVFlfUEFUSCA9IFtdO1xuZnVuY3Rpb24gX3NvcnRFbGVtZW50cyhyb290RWxlbWVudCwgZWxlbWVudHMpIHtcbiAgaWYgKCFyb290RWxlbWVudCkgcmV0dXJuO1xuICBjb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgZm9yIChjb25zdCBlbCBvZiBlbGVtZW50cylcbiAgICBtYXAuc2V0KGVsLCBfZ2V0RE9NUGF0aChyb290RWxlbWVudCwgZWwpKTtcbiAgY29uc3QgX3NvcnQgPSAoYSwgYikgPT4ge1xuICAgIGNvbnN0IF9hID0gbWFwLmdldChhKSB8fCBFTVBUWV9QQVRILCBfYiA9IG1hcC5nZXQoYikgfHwgRU1QVFlfUEFUSCwgbGVuID0gTWF0aC5tYXgoX2EubGVuZ3RoLCBfYi5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGFJbmRleCA9IF9hW2ldIHx8IC0xLCBiSW5kZXggPSBfYltpXSB8fCAtMTtcbiAgICAgIGlmIChhSW5kZXggIT09IGJJbmRleClcbiAgICAgICAgcmV0dXJuIGFJbmRleCAtIGJJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH07XG4gIGVsZW1lbnRzLnNvcnQoX3NvcnQpO1xufVxuZnVuY3Rpb24gdXNlTWVudUNvbnRyb2xsZXIocHJvcHMpIHtcbiAgY29uc3QgeyBvbktleURvd24sIG9yaWdpbkVsZW1lbnQsIHNob3VsZEZvY3VzIH0gPSBwcm9wcywgZWxlbWVudHNSZWYgPSB1c2VSZWYoW10pLCBbcm9vdEVsZW1lbnQsIHNldFJvb3RFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpLCBbYWN0aXZlSW5kZXgsIF9zZXRBY3RpdmVJbmRleF0gPSB1c2VTdGF0ZSgtMSksIGFjdGl2ZUluZGV4UmVmID0gdXNlUmVmKGFjdGl2ZUluZGV4KSwgYWN0aXZlRWxlbWVudCA9IGVsZW1lbnRzUmVmLmN1cnJlbnRbYWN0aXZlSW5kZXhdIHx8IG51bGwsIG1vdW50ZWQgPSAhIXJvb3RFbGVtZW50LCBzZXRBY3RpdmVJbmRleCA9IHVzZUNhbGxiYWNrKChuZXh0QWN0aXZlSW5kZXgpID0+IHtcbiAgICBfc2V0QWN0aXZlSW5kZXgobmV4dEFjdGl2ZUluZGV4KSwgYWN0aXZlSW5kZXhSZWYuY3VycmVudCA9IG5leHRBY3RpdmVJbmRleDtcbiAgfSwgW10pLCBtb3VudCA9IHVzZUNhbGxiYWNrKFxuICAgIChlbGVtZW50LCBzZWxlY3RlZCkgPT4ge1xuICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm4gKCkgPT4ge1xuICAgICAgfTtcbiAgICAgIGlmIChlbGVtZW50c1JlZi5jdXJyZW50LmluZGV4T2YoZWxlbWVudCkgPT09IC0xICYmIChlbGVtZW50c1JlZi5jdXJyZW50LnB1c2goZWxlbWVudCksIF9zb3J0RWxlbWVudHMocm9vdEVsZW1lbnQsIGVsZW1lbnRzUmVmLmN1cnJlbnQpKSwgc2VsZWN0ZWQpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IGVsZW1lbnRzUmVmLmN1cnJlbnQuaW5kZXhPZihlbGVtZW50KTtcbiAgICAgICAgc2V0QWN0aXZlSW5kZXgoc2VsZWN0ZWRJbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCBpZHggPSBlbGVtZW50c1JlZi5jdXJyZW50LmluZGV4T2YoZWxlbWVudCk7XG4gICAgICAgIGlkeCA+IC0xICYmIGVsZW1lbnRzUmVmLmN1cnJlbnQuc3BsaWNlKGlkeCwgMSk7XG4gICAgICB9O1xuICAgIH0sXG4gICAgW3Jvb3RFbGVtZW50LCBzZXRBY3RpdmVJbmRleF1cbiAgKSwgaGFuZGxlS2V5RG93biA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJUYWJcIikge1xuICAgICAgICBvcmlnaW5FbGVtZW50ICYmIG9yaWdpbkVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJIb21lXCIpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKSwgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IGVsID0gX2dldEZvY3VzYWJsZUVsZW1lbnRzKGVsZW1lbnRzUmVmLmN1cnJlbnQpWzBdO1xuICAgICAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGVsZW1lbnRzUmVmLmN1cnJlbnQuaW5kZXhPZihlbCk7XG4gICAgICAgIHNldEFjdGl2ZUluZGV4KGN1cnJlbnRJbmRleCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW5kXCIpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKSwgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gX2dldEZvY3VzYWJsZUVsZW1lbnRzKGVsZW1lbnRzUmVmLmN1cnJlbnQpLCBlbCA9IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGVsZW1lbnRzUmVmLmN1cnJlbnQuaW5kZXhPZihlbCk7XG4gICAgICAgIHNldEFjdGl2ZUluZGV4KGN1cnJlbnRJbmRleCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCksIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IF9nZXRGb2N1c2FibGVFbGVtZW50cyhlbGVtZW50c1JlZi5jdXJyZW50KSwgZm9jdXNhYmxlTGVuID0gZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoO1xuICAgICAgICBpZiAoZm9jdXNhYmxlTGVuID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGZvY3VzZWRFbGVtZW50ID0gZWxlbWVudHNSZWYuY3VycmVudFthY3RpdmVJbmRleFJlZi5jdXJyZW50XTtcbiAgICAgICAgbGV0IGZvY3VzZWRJbmRleCA9IGZvY3VzYWJsZUVsZW1lbnRzLmluZGV4T2YoZm9jdXNlZEVsZW1lbnQpO1xuICAgICAgICBmb2N1c2VkSW5kZXggPSAoZm9jdXNlZEluZGV4IC0gMSArIGZvY3VzYWJsZUxlbikgJSBmb2N1c2FibGVMZW47XG4gICAgICAgIGNvbnN0IGVsID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNlZEluZGV4XSwgY3VycmVudEluZGV4ID0gZWxlbWVudHNSZWYuY3VycmVudC5pbmRleE9mKGVsKTtcbiAgICAgICAgc2V0QWN0aXZlSW5kZXgoY3VycmVudEluZGV4KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpLCBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBfZ2V0Rm9jdXNhYmxlRWxlbWVudHMoZWxlbWVudHNSZWYuY3VycmVudCksIGZvY3VzYWJsZUxlbiA9IGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUxlbiA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBmb2N1c2VkRWxlbWVudCA9IGVsZW1lbnRzUmVmLmN1cnJlbnRbYWN0aXZlSW5kZXhSZWYuY3VycmVudF07XG4gICAgICAgIGxldCBmb2N1c2VkSW5kZXggPSBmb2N1c2FibGVFbGVtZW50cy5pbmRleE9mKGZvY3VzZWRFbGVtZW50KTtcbiAgICAgICAgZm9jdXNlZEluZGV4ID0gKGZvY3VzZWRJbmRleCArIDEpICUgZm9jdXNhYmxlTGVuO1xuICAgICAgICBjb25zdCBlbCA9IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzZWRJbmRleF0sIGN1cnJlbnRJbmRleCA9IGVsZW1lbnRzUmVmLmN1cnJlbnQuaW5kZXhPZihlbCk7XG4gICAgICAgIHNldEFjdGl2ZUluZGV4KGN1cnJlbnRJbmRleCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9uS2V5RG93biAmJiBvbktleURvd24oZXZlbnQpO1xuICAgIH0sXG4gICAgW29uS2V5RG93biwgb3JpZ2luRWxlbWVudCwgc2V0QWN0aXZlSW5kZXhdXG4gICksIGhhbmRsZUl0ZW1Nb3VzZUVudGVyID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZXZlbnQuY3VycmVudFRhcmdldCwgY3VycmVudEluZGV4ID0gZWxlbWVudHNSZWYuY3VycmVudC5pbmRleE9mKGVsZW1lbnQpO1xuICAgICAgc2V0QWN0aXZlSW5kZXgoY3VycmVudEluZGV4KTtcbiAgICB9LFxuICAgIFtzZXRBY3RpdmVJbmRleF1cbiAgKSwgaGFuZGxlSXRlbU1vdXNlTGVhdmUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0QWN0aXZlSW5kZXgoLTIpLCByb290RWxlbWVudCA9PSBudWxsIHx8IHJvb3RFbGVtZW50LmZvY3VzKCk7XG4gIH0sIFtzZXRBY3RpdmVJbmRleCwgcm9vdEVsZW1lbnRdKTtcbiAgcmV0dXJuIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtb3VudGVkKSByZXR1cm47XG4gICAgY29uc3QgcmFmSWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGNvbnN0IF9hY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4UmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoX2FjdGl2ZUluZGV4ID09PSAtMSkge1xuICAgICAgICBpZiAoc2hvdWxkRm9jdXMgPT09IFwiZmlyc3RcIikge1xuICAgICAgICAgIGNvbnN0IGVsID0gX2dldEZvY3VzYWJsZUVsZW1lbnRzKGVsZW1lbnRzUmVmLmN1cnJlbnQpWzBdO1xuICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gZWxlbWVudHNSZWYuY3VycmVudC5pbmRleE9mKGVsKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZUluZGV4KGN1cnJlbnRJbmRleCksIGFjdGl2ZUluZGV4UmVmLmN1cnJlbnQgPSBjdXJyZW50SW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRGb2N1cyA9PT0gXCJsYXN0XCIpIHtcbiAgICAgICAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IF9nZXRGb2N1c2FibGVFbGVtZW50cyhlbGVtZW50c1JlZi5jdXJyZW50KSwgZWwgPSBmb2N1c2FibGVFbGVtZW50c1tmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGVsZW1lbnRzUmVmLmN1cnJlbnQuaW5kZXhPZihlbCk7XG4gICAgICAgICAgICBzZXRBY3RpdmVJbmRleChjdXJyZW50SW5kZXgpLCBhY3RpdmVJbmRleFJlZi5jdXJyZW50ID0gY3VycmVudEluZGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNSZWYuY3VycmVudFtfYWN0aXZlSW5kZXhdIHx8IG51bGw7XG4gICAgICBlbGVtZW50ID09IG51bGwgfHwgZWxlbWVudC5mb2N1cygpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmSWQpO1xuICAgIH07XG4gIH0sIFthY3RpdmVJbmRleCwgbW91bnRlZCwgc2V0QWN0aXZlSW5kZXgsIHNob3VsZEZvY3VzXSksIHtcbiAgICBhY3RpdmVFbGVtZW50LFxuICAgIGFjdGl2ZUluZGV4LFxuICAgIGhhbmRsZUl0ZW1Nb3VzZUVudGVyLFxuICAgIGhhbmRsZUl0ZW1Nb3VzZUxlYXZlLFxuICAgIGhhbmRsZUtleURvd24sXG4gICAgbW91bnQsXG4gICAgcm9vdEVsZW1lbnQsXG4gICAgc2V0Um9vdEVsZW1lbnRcbiAgfTtcbn1cbmNvbnN0IFJvb3QkNSA9IHN0eWxlZChCb3gpYFxuICBvdXRsaW5lOiBub25lO1xuICBvdmVyZmxvdzogYXV0bztcbmAsIE1lbnUgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBmb2N1c0ZpcnN0LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBmb2N1c0xhc3QsXG4gICAgb25DbGlja091dHNpZGUsXG4gICAgb25Fc2NhcGUsXG4gICAgb25JdGVtQ2xpY2ssXG4gICAgb25JdGVtU2VsZWN0LFxuICAgIG9uS2V5RG93bixcbiAgICBvcmlnaW5FbGVtZW50LFxuICAgIHBhZGRpbmcgPSAxLFxuICAgIHJlZ2lzdGVyRWxlbWVudCxcbiAgICBzaG91bGRGb2N1cyA9IHByb3BzLmZvY3VzRmlyc3QgJiYgXCJmaXJzdFwiIHx8IHByb3BzLmZvY3VzTGFzdCAmJiBcImxhc3RcIiB8fCBudWxsLFxuICAgIHNwYWNlID0gMSxcbiAgICAuLi5yZXN0UHJvcHNcbiAgfSA9IHByb3BzLCByZWYgPSB1c2VSZWYobnVsbCk7XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUoZm9yd2FyZGVkUmVmLCAoKSA9PiByZWYuY3VycmVudCk7XG4gIGNvbnN0IHsgaXNUb3BMYXllciB9ID0gdXNlTGF5ZXIoKSwge1xuICAgIGFjdGl2ZUVsZW1lbnQsXG4gICAgYWN0aXZlSW5kZXgsXG4gICAgaGFuZGxlSXRlbU1vdXNlRW50ZXIsXG4gICAgaGFuZGxlSXRlbU1vdXNlTGVhdmUsXG4gICAgaGFuZGxlS2V5RG93bixcbiAgICBtb3VudCxcbiAgICByb290RWxlbWVudCxcbiAgICBzZXRSb290RWxlbWVudFxuICB9ID0gdXNlTWVudUNvbnRyb2xsZXIoeyBvbktleURvd24sIG9yaWdpbkVsZW1lbnQsIHNob3VsZEZvY3VzIH0pLCBoYW5kbGVSZWZDaGFuZ2UgPSB1c2VDYWxsYmFjayhcbiAgICAoZWwpID0+IHtcbiAgICAgIHNldFJvb3RFbGVtZW50KGVsKSwgcmVmLmN1cnJlbnQgPSBlbDtcbiAgICB9LFxuICAgIFtzZXRSb290RWxlbWVudF1cbiAgKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBvbkl0ZW1TZWxlY3QgJiYgb25JdGVtU2VsZWN0KGFjdGl2ZUluZGV4KTtcbiAgfSwgW2FjdGl2ZUluZGV4LCBvbkl0ZW1TZWxlY3RdKSwgdXNlQ2xpY2tPdXRzaWRlKFxuICAgIHVzZUNhbGxiYWNrKFxuICAgICAgKGV2ZW50KSA9PiBpc1RvcExheWVyICYmIG9uQ2xpY2tPdXRzaWRlICYmIG9uQ2xpY2tPdXRzaWRlKGV2ZW50KSxcbiAgICAgIFtpc1RvcExheWVyLCBvbkNsaWNrT3V0c2lkZV1cbiAgICApLFxuICAgIFtyb290RWxlbWVudF1cbiAgKSwgdXNlR2xvYmFsS2V5RG93bihcbiAgICB1c2VDYWxsYmFjayhcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBpc1RvcExheWVyICYmIGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIiAmJiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCksIG9uRXNjYXBlICYmIG9uRXNjYXBlKCkpO1xuICAgICAgfSxcbiAgICAgIFtpc1RvcExheWVyLCBvbkVzY2FwZV1cbiAgICApXG4gICksIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCEoIXJvb3RFbGVtZW50IHx8ICFyZWdpc3RlckVsZW1lbnQpKVxuICAgICAgcmV0dXJuIHJlZ2lzdGVyRWxlbWVudChyb290RWxlbWVudCk7XG4gIH0sIFtyZWdpc3RlckVsZW1lbnQsIHJvb3RFbGVtZW50XSk7XG4gIGNvbnN0IHZhbHVlID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgdmVyc2lvbjogMCxcbiAgICAgIGFjdGl2ZUVsZW1lbnQsXG4gICAgICBhY3RpdmVJbmRleCxcbiAgICAgIG1vdW50LFxuICAgICAgb25DbGlja091dHNpZGUsXG4gICAgICBvbkVzY2FwZSxcbiAgICAgIG9uSXRlbUNsaWNrLFxuICAgICAgb25JdGVtTW91c2VFbnRlcjogaGFuZGxlSXRlbU1vdXNlRW50ZXIsXG4gICAgICBvbkl0ZW1Nb3VzZUxlYXZlOiBoYW5kbGVJdGVtTW91c2VMZWF2ZSxcbiAgICAgIHJlZ2lzdGVyRWxlbWVudCxcbiAgICAgIC8vIGRlcHJlY2F0ZWRcbiAgICAgIG9uTW91c2VFbnRlcjogaGFuZGxlSXRlbU1vdXNlRW50ZXIsXG4gICAgICBvbk1vdXNlTGVhdmU6IGhhbmRsZUl0ZW1Nb3VzZUxlYXZlXG4gICAgfSksXG4gICAgW1xuICAgICAgYWN0aXZlRWxlbWVudCxcbiAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgbW91bnQsXG4gICAgICBoYW5kbGVJdGVtTW91c2VFbnRlcixcbiAgICAgIGhhbmRsZUl0ZW1Nb3VzZUxlYXZlLFxuICAgICAgb25DbGlja091dHNpZGUsXG4gICAgICBvbkVzY2FwZSxcbiAgICAgIG9uSXRlbUNsaWNrLFxuICAgICAgcmVnaXN0ZXJFbGVtZW50XG4gICAgXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChNZW51Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgUm9vdCQ1LFxuICAgIHtcbiAgICAgIFwiZGF0YS11aVwiOiBcIk1lbnVcIixcbiAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgIG9uS2V5RG93bjogaGFuZGxlS2V5RG93bixcbiAgICAgIHBhZGRpbmcsXG4gICAgICByZWY6IGhhbmRsZVJlZkNoYW5nZSxcbiAgICAgIHJvbGU6IFwibWVudVwiLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU3RhY2ssIHsgc3BhY2UsIGNoaWxkcmVuIH0pXG4gICAgfVxuICApIH0pO1xufSksIE1lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3Qge1xuICAgIF9fdW5zdGFibGVfZGlzYWJsZVJlc3RvcmVGb2N1c09uQ2xvc2U6IGRpc2FibGVSZXN0b3JlRm9jdXNPbkNsb3NlID0gITEsXG4gICAgYm91bmRhcnlFbGVtZW50OiBkZXByZWNhdGVkX2JvdW5kYXJ5RWxlbWVudCxcbiAgICBidXR0b246IGJ1dHRvblByb3AsXG4gICAgaWQsXG4gICAgbWVudTogbWVudVByb3AsXG4gICAgb25DbG9zZSxcbiAgICBvbk9wZW4sXG4gICAgcGxhY2VtZW50OiBkZXByZWNhdGVkX3BsYWNlbWVudCxcbiAgICBwb3BvdmVyU2NoZW1lOiBkZXByZWNhdGVkX3BvcG92ZXJTY2hlbWUsXG4gICAgcG9ydGFsOiBkZXByZWNhdGVkX3BvcnRhbCA9ICEwLFxuICAgIHBvcG92ZXIsXG4gICAgcG9wb3ZlclJhZGl1czogZGVwcmVjYXRlZF9wb3BvdmVyUmFkaXVzLFxuICAgIHByZXZlbnRPdmVyZmxvdzogZGVwcmVjYXRlZF9wcmV2ZW50T3ZlcmZsb3dcbiAgfSA9IHByb3BzLCBbb3Blbiwgc2V0T3Blbl0gPSB1c2VTdGF0ZSghMSksIFtzaG91bGRGb2N1cywgc2V0U2hvdWxkRm9jdXNdID0gdXNlU3RhdGUobnVsbCksIFtidXR0b25FbGVtZW50LCBzZXRCdXR0b25FbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpLCBbbWVudUVsZW1lbnRzLCBzZXRDaGlsZE1lbnVFbGVtZW50c10gPSB1c2VTdGF0ZShbXSksIG9wZW5SZWYgPSB1c2VSZWYob3Blbik7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgb25PcGVuICYmIG9wZW4gJiYgIW9wZW5SZWYuY3VycmVudCAmJiBvbk9wZW4oKTtcbiAgfSwgW29uT3Blbiwgb3Blbl0pLCB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG9uQ2xvc2UgJiYgIW9wZW4gJiYgb3BlblJlZi5jdXJyZW50ICYmIG9uQ2xvc2UoKTtcbiAgfSwgW29uQ2xvc2UsIG9wZW5dKSwgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBvcGVuUmVmLmN1cnJlbnQgPSBvcGVuO1xuICB9LCBbb3Blbl0pO1xuICBjb25zdCBoYW5kbGVCdXR0b25DbGljayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRPcGVuKCh2KSA9PiAhdiksIHNldFNob3VsZEZvY3VzKG51bGwpO1xuICB9LCBbXSksIGhhbmRsZU1vdXNlRG93biA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgb3BlbiAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sXG4gICAgW29wZW5dXG4gICksIGhhbmRsZUJ1dHRvbktleURvd24gPSB1c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93RG93blwiIHx8IGV2ZW50LmtleSA9PT0gXCJFbnRlclwiIHx8IGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCksIHNldE9wZW4oITApLCBzZXRTaG91bGRGb2N1cyhcImZpcnN0XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKSwgc2V0T3BlbighMCksIHNldFNob3VsZEZvY3VzKFwibGFzdFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sIFtdKSwgaGFuZGxlTWVudUNsaWNrT3V0c2lkZSA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIE5vZGUgJiYgIShidXR0b25FbGVtZW50ICYmICh0YXJnZXQgPT09IGJ1dHRvbkVsZW1lbnQgfHwgYnV0dG9uRWxlbWVudC5jb250YWlucyh0YXJnZXQpKSkpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiBtZW51RWxlbWVudHMpXG4gICAgICAgICAgaWYgKHRhcmdldCA9PT0gZWwgfHwgZWwuY29udGFpbnModGFyZ2V0KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2V0T3BlbighMSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbYnV0dG9uRWxlbWVudCwgbWVudUVsZW1lbnRzXVxuICApLCBoYW5kbGVNZW51RXNjYXBlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldE9wZW4oITEpLCAhZGlzYWJsZVJlc3RvcmVGb2N1c09uQ2xvc2UgJiYgYnV0dG9uRWxlbWVudCAmJiBidXR0b25FbGVtZW50LmZvY3VzKCk7XG4gIH0sIFtidXR0b25FbGVtZW50LCBkaXNhYmxlUmVzdG9yZUZvY3VzT25DbG9zZV0pLCBoYW5kbGVCbHVyID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC5yZWxhdGVkVGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiBtZW51RWxlbWVudHMpXG4gICAgICAgICAgaWYgKGVsID09PSB0YXJnZXQgfHwgZWwuY29udGFpbnModGFyZ2V0KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2V0T3BlbighMSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbbWVudUVsZW1lbnRzXVxuICApLCBoYW5kbGVJdGVtQ2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0T3BlbighMSksICFkaXNhYmxlUmVzdG9yZUZvY3VzT25DbG9zZSAmJiBidXR0b25FbGVtZW50ICYmIGJ1dHRvbkVsZW1lbnQuZm9jdXMoKTtcbiAgfSwgW2J1dHRvbkVsZW1lbnQsIGRpc2FibGVSZXN0b3JlRm9jdXNPbkNsb3NlXSksIHJlZ2lzdGVyRWxlbWVudCA9IHVzZUNhbGxiYWNrKChlbCkgPT4gKHNldENoaWxkTWVudUVsZW1lbnRzKChlbHMpID0+IGVscy5jb25jYXQoW2VsXSkpLCAoKSA9PiB7XG4gICAgc2V0Q2hpbGRNZW51RWxlbWVudHMoKGVscykgPT4gZWxzLmZpbHRlcigoX2VsKSA9PiBfZWwgIT09IGVsKSk7XG4gIH0pLCBbXSksIG1lbnVQcm9wcyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGlkLFxuICAgICAgb25CbHVyQ2FwdHVyZTogaGFuZGxlQmx1cixcbiAgICAgIG9uQ2xpY2tPdXRzaWRlOiBoYW5kbGVNZW51Q2xpY2tPdXRzaWRlLFxuICAgICAgb25Fc2NhcGU6IGhhbmRsZU1lbnVFc2NhcGUsXG4gICAgICBvbkl0ZW1DbGljazogaGFuZGxlSXRlbUNsaWNrLFxuICAgICAgb3JpZ2luRWxlbWVudDogYnV0dG9uRWxlbWVudCxcbiAgICAgIHJlZ2lzdGVyRWxlbWVudCxcbiAgICAgIHNob3VsZEZvY3VzXG4gICAgfSksXG4gICAgW1xuICAgICAgYnV0dG9uRWxlbWVudCxcbiAgICAgIGhhbmRsZU1lbnVDbGlja091dHNpZGUsXG4gICAgICBoYW5kbGVNZW51RXNjYXBlLFxuICAgICAgaGFuZGxlSXRlbUNsaWNrLFxuICAgICAgaWQsXG4gICAgICBoYW5kbGVCbHVyLFxuICAgICAgcmVnaXN0ZXJFbGVtZW50LFxuICAgICAgc2hvdWxkRm9jdXNcbiAgICBdXG4gICksIG1lbnUgPSBtZW51UHJvcCAmJiBjbG9uZUVsZW1lbnQobWVudVByb3AsIG1lbnVQcm9wcyksIHJlZiA9IHVzZVJlZihudWxsKSwgYnV0dG9uID0gdXNlTWVtbyhcbiAgICAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gYnV0dG9uUHJvcCAmJiBjbG9uZUVsZW1lbnQoYnV0dG9uUHJvcCwge1xuICAgICAgICBcImRhdGEtdWlcIjogXCJNZW51QnV0dG9uXCIsXG4gICAgICAgIGlkLFxuICAgICAgICBvbkNsaWNrOiBoYW5kbGVCdXR0b25DbGljayxcbiAgICAgICAgb25LZXlEb3duOiBoYW5kbGVCdXR0b25LZXlEb3duLFxuICAgICAgICBvbk1vdXNlRG93bjogaGFuZGxlTW91c2VEb3duLFxuICAgICAgICBcImFyaWEtaGFzcG9wdXBcIjogITAsXG4gICAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBvcGVuLFxuICAgICAgICByZWYsXG4gICAgICAgIHNlbGVjdGVkOiAoX2EgPSBidXR0b25Qcm9wLnByb3BzLnNlbGVjdGVkKSAhPSBudWxsID8gX2EgOiBvcGVuXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtidXR0b25Qcm9wLCBoYW5kbGVCdXR0b25DbGljaywgaGFuZGxlQnV0dG9uS2V5RG93biwgaGFuZGxlTW91c2VEb3duLCBpZCwgb3Blbl1cbiAgKTtcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShcbiAgICBmb3J3YXJkZWRSZWYsXG4gICAgKCkgPT4gcmVmLmN1cnJlbnRcbiAgKSwgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYnV0dG9uKVxuICAgICAgcmV0dXJuIHNldEJ1dHRvbkVsZW1lbnQocmVmLmN1cnJlbnQpLCAoKSA9PiBzZXRCdXR0b25FbGVtZW50KG51bGwpO1xuICB9LCBbYnV0dG9uXSk7XG4gIGNvbnN0IHBvcG92ZXJQcm9wcyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGJvdW5kYXJ5RWxlbWVudDogZGVwcmVjYXRlZF9ib3VuZGFyeUVsZW1lbnQsXG4gICAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgICBwbGFjZW1lbnQ6IGRlcHJlY2F0ZWRfcGxhY2VtZW50LFxuICAgICAgcG9ydGFsOiBkZXByZWNhdGVkX3BvcnRhbCxcbiAgICAgIHByZXZlbnRPdmVyZmxvdzogZGVwcmVjYXRlZF9wcmV2ZW50T3ZlcmZsb3csXG4gICAgICByYWRpdXM6IGRlcHJlY2F0ZWRfcG9wb3ZlclJhZGl1cyxcbiAgICAgIHNjaGVtZTogZGVwcmVjYXRlZF9wb3BvdmVyU2NoZW1lLFxuICAgICAgLi4ucG9wb3ZlciB8fCB7fVxuICAgIH0pLFxuICAgIFtcbiAgICAgIGRlcHJlY2F0ZWRfYm91bmRhcnlFbGVtZW50LFxuICAgICAgZGVwcmVjYXRlZF9wbGFjZW1lbnQsXG4gICAgICBkZXByZWNhdGVkX3BvcG92ZXJSYWRpdXMsXG4gICAgICBkZXByZWNhdGVkX3BvcG92ZXJTY2hlbWUsXG4gICAgICBkZXByZWNhdGVkX3BvcnRhbCxcbiAgICAgIGRlcHJlY2F0ZWRfcHJldmVudE92ZXJmbG93LFxuICAgICAgcG9wb3ZlclxuICAgIF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wb3ZlciwgeyBcImRhdGEtdWlcIjogXCJNZW51QnV0dG9uX19wb3BvdmVyXCIsIC4uLnBvcG92ZXJQcm9wcywgY29udGVudDogbWVudSwgb3BlbiwgY2hpbGRyZW46IGJ1dHRvbiB8fCAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7fSkgfSk7XG59KSwgTWVudURpdmlkZXIgPSBzdHlsZWQuaHJgXG4gIGhlaWdodDogMXB4O1xuICBib3JkZXI6IDA7XG4gIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtaGFpcmxpbmUtc29mdC1jb2xvcik7XG4gIG1hcmdpbjogMDtcbmA7XG5mdW5jdGlvbiBzZWxlY3RhYmxlQmFzZVN0eWxlKCkge1xuICByZXR1cm4gY3NzYFxuICAgIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XG4gICAgY29sb3I6IGluaGVyaXQ7XG5cbiAgICAmW2RhdGEtYXM9J2J1dHRvbiddIHtcbiAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGluaGVyaXQ7XG4gICAgICBhcHBlYXJhbmNlOiBub25lO1xuICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIGZvbnQ6IGluaGVyaXQ7XG4gICAgICB0ZXh0LWFsaWduOiBpbmhlcml0O1xuICAgICAgYm9yZGVyOiAwO1xuICAgICAgd2lkdGg6IC1tb3otYXZhaWxhYmxlO1xuICAgICAgd2lkdGg6IC13ZWJraXQtZmlsbC1hdmFpbGFibGU7XG4gICAgICB3aWR0aDogc3RyZXRjaDtcbiAgICB9XG5cbiAgICAvKiAmOmlzKGEpICovXG4gICAgJltkYXRhLWFzPSdhJ10ge1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cbiAgYDtcbn1cbmZ1bmN0aW9uIHNlbGVjdGFibGVDb2xvclN0eWxlKHByb3BzKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyAkdG9uZSB9ID0gcHJvcHMsIHsgY29sb3IsIHN0eWxlIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSksIHRvbmUgPSBjb2xvci5zZWxlY3RhYmxlWyR0b25lXTtcbiAgcmV0dXJuIGNzc2BcbiAgICAke19jYXJkQ29sb3JTdHlsZShjb2xvciwgdG9uZS5lbmFibGVkKX1cblxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQtYmctY29sb3IpO1xuICAgIGNvbG9yOiB2YXIoLS1jYXJkLWZnLWNvbG9yKTtcbiAgICBvdXRsaW5lOiBub25lO1xuXG4gICAgLyogJjppcyhidXR0b24pICovXG4gICAgJltkYXRhLWFzPSdidXR0b24nXSB7XG4gICAgICAmOmRpc2FibGVkIHtcbiAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIHRvbmUuZGlzYWJsZWQpfVxuICAgICAgfVxuXG4gICAgICAmOm5vdCg6ZGlzYWJsZWQpIHtcbiAgICAgICAgJlthcmlhLXByZXNzZWQ9J3RydWUnXSB7XG4gICAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIHRvbmUucHJlc3NlZCl9XG4gICAgICAgIH1cblxuICAgICAgICAmW2RhdGEtc2VsZWN0ZWRdLFxuICAgICAgICAmW2FyaWEtc2VsZWN0ZWQ9J3RydWUnXSA+ICYge1xuICAgICAgICAgICR7X2NhcmRDb2xvclN0eWxlKGNvbG9yLCB0b25lLnNlbGVjdGVkKX1cbiAgICAgICAgfVxuXG4gICAgICAgIEBtZWRpYSAoaG92ZXI6IGhvdmVyKSB7XG4gICAgICAgICAgJjpub3QoW2RhdGEtc2VsZWN0ZWRdKSB7XG4gICAgICAgICAgICAmW2RhdGEtaG92ZXJlZF0sXG4gICAgICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIHRvbmUuaG92ZXJlZCl9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICY6YWN0aXZlIHtcbiAgICAgICAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIHRvbmUucHJlc3NlZCl9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogJjppcyhhKSAqL1xuICAgICZbZGF0YS1hcz0nYSddIHtcbiAgICAgICZbZGF0YS1kaXNhYmxlZF0ge1xuICAgICAgICAke19jYXJkQ29sb3JTdHlsZShjb2xvciwgdG9uZS5kaXNhYmxlZCl9XG4gICAgICB9XG5cbiAgICAgICY6bm90KFtkYXRhLWRpc2FibGVkXSkge1xuICAgICAgICAmW2RhdGEtcHJlc3NlZF0ge1xuICAgICAgICAgICR7X2NhcmRDb2xvclN0eWxlKGNvbG9yLCB0b25lLnByZXNzZWQpfVxuICAgICAgICB9XG5cbiAgICAgICAgJltkYXRhLXNlbGVjdGVkXSB7XG4gICAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIHRvbmUuc2VsZWN0ZWQpfVxuICAgICAgICB9XG5cbiAgICAgICAgQG1lZGlhIChob3ZlcjogaG92ZXIpIHtcbiAgICAgICAgICAmOm5vdChbZGF0YS1zZWxlY3RlZF0pIHtcbiAgICAgICAgICAgICZbZGF0YS1ob3ZlcmVkXSxcbiAgICAgICAgICAgICY6aG92ZXIge1xuICAgICAgICAgICAgICAke19jYXJkQ29sb3JTdHlsZShjb2xvciwgdG9uZS5ob3ZlcmVkKX1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICY6YWN0aXZlIHtcbiAgICAgICAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIHRvbmUucHJlc3NlZCl9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHsoX2EgPSBzdHlsZSA9PSBudWxsID8gdm9pZCAwIDogc3R5bGUuY2FyZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJvb3R9XG4gIGA7XG59XG5jb25zdCBTZWxlY3RhYmxlID0gc3R5bGVkKEJveCkoXG4gIHJlc3BvbnNpdmVSYWRpdXNTdHlsZSxcbiAgc2VsZWN0YWJsZUJhc2VTdHlsZSxcbiAgc2VsZWN0YWJsZUNvbG9yU3R5bGVcbik7XG5mdW5jdGlvbiB1c2VNZW51KCkge1xuICBjb25zdCB2YWx1ZSA9IHVzZUNvbnRleHQoTWVudUNvbnRleHQpO1xuICBpZiAoIXZhbHVlKVxuICAgIHRocm93IG5ldyBFcnJvcihcInVzZU1lbnUoKTogbWlzc2luZyBjb250ZXh0IHZhbHVlXCIpO1xuICBpZiAoIWlzUmVjb3JkKHZhbHVlKSB8fCB2YWx1ZS52ZXJzaW9uICE9PSAwKVxuICAgIHRocm93IG5ldyBFcnJvcihcInVzZU1lbnUoKTogdGhlIGNvbnRleHQgdmFsdWUgaXMgbm90IGNvbXBhdGlibGVcIik7XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIE1lbnVHcm91cChwcm9wcykge1xuICBjb25zdCB7XG4gICAgYXMgPSBcImJ1dHRvblwiLFxuICAgIGNoaWxkcmVuLFxuICAgIGZvbnRTaXplOiBmb250U2l6ZTIgPSAxLFxuICAgIGljb246IEljb25Db21wb25lbnQsXG4gICAgb25DbGljayxcbiAgICBwYWRkaW5nID0gMyxcbiAgICBwb3BvdmVyLFxuICAgIHJhZGl1cyA9IDIsXG4gICAgc3BhY2UgPSAzLFxuICAgIHRleHQsXG4gICAgdG9uZSA9IFwiZGVmYXVsdFwiLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHMsIG1lbnUgPSB1c2VNZW51KCksIHsgc2NoZW1lIH0gPSB1c2VSb290VGhlbWUoKSwge1xuICAgIGFjdGl2ZUVsZW1lbnQsXG4gICAgbW91bnQsXG4gICAgb25DbGlja091dHNpZGUsXG4gICAgb25Fc2NhcGUsXG4gICAgb25JdGVtQ2xpY2ssXG4gICAgb25JdGVtTW91c2VFbnRlciA9IG1lbnUub25Nb3VzZUVudGVyLFxuICAgIHJlZ2lzdGVyRWxlbWVudFxuICB9ID0gbWVudSwgW3Jvb3RFbGVtZW50LCBzZXRSb290RWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKSwgW29wZW4sIHNldE9wZW5dID0gdXNlU3RhdGUoITEpLCBzaG91bGRGb2N1c1JlZiA9IHVzZVJlZihudWxsKSwgYWN0aXZlID0gISFhY3RpdmVFbGVtZW50ICYmIGFjdGl2ZUVsZW1lbnQgPT09IHJvb3RFbGVtZW50LCBbd2l0aGluTWVudSwgc2V0V2l0aGluTWVudV0gPSB1c2VTdGF0ZSghMSksIGhhbmRsZU1vdXNlRW50ZXIgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIHNldFdpdGhpbk1lbnUoITEpLCBvbkl0ZW1Nb3VzZUVudGVyKGV2ZW50KSwgc2V0T3BlbighMCk7XG4gICAgfSxcbiAgICBbb25JdGVtTW91c2VFbnRlcl1cbiAgKSwgaGFuZGxlTWVudUtleURvd24gPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LmtleSA9PT0gXCJBcnJvd0xlZnRcIiAmJiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCksIHNldE9wZW4oITEpLCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICByb290RWxlbWVudCA9PSBudWxsIHx8IHJvb3RFbGVtZW50LmZvY3VzKCk7XG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbcm9vdEVsZW1lbnRdXG4gICksIGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBvbkNsaWNrICYmIG9uQ2xpY2soZXZlbnQpLCBzaG91bGRGb2N1c1JlZi5jdXJyZW50ID0gXCJmaXJzdFwiLCBzZXRPcGVuKCEwKSwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgc2hvdWxkRm9jdXNSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtvbkNsaWNrXVxuICApLCBoYW5kbGVDaGlsZEl0ZW1DbGljayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRPcGVuKCExKSwgb25JdGVtQ2xpY2sgJiYgb25JdGVtQ2xpY2soKTtcbiAgfSwgW29uSXRlbUNsaWNrXSksIGhhbmRsZU1lbnVNb3VzZUVudGVyID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0V2l0aGluTWVudSghMCksIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IG1vdW50KHJvb3RFbGVtZW50KSwgW21vdW50LCByb290RWxlbWVudF0pLCB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFjdGl2ZSB8fCBzZXRPcGVuKCExKTtcbiAgfSwgW2FjdGl2ZV0pLCB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG9wZW4gfHwgc2V0V2l0aGluTWVudSghMSk7XG4gIH0sIFtvcGVuXSk7XG4gIGNvbnN0IGNoaWxkTWVudSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgTWVudSxcbiAgICB7XG4gICAgICBvbkNsaWNrT3V0c2lkZSxcbiAgICAgIG9uRXNjYXBlLFxuICAgICAgb25JdGVtQ2xpY2s6IGhhbmRsZUNoaWxkSXRlbUNsaWNrLFxuICAgICAgb25LZXlEb3duOiBoYW5kbGVNZW51S2V5RG93bixcbiAgICAgIG9uTW91c2VFbnRlcjogaGFuZGxlTWVudU1vdXNlRW50ZXIsXG4gICAgICByZWdpc3RlckVsZW1lbnQsXG4gICAgICBzaG91bGRGb2N1czogc2hvdWxkRm9jdXNSZWYuY3VycmVudCxcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApLCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGFyZ2V0ICYmIGV2ZW50LmtleSA9PT0gXCJBcnJvd1JpZ2h0XCIpIHtcbiAgICAgIHNob3VsZEZvY3VzUmVmLmN1cnJlbnQgPSBcImZpcnN0XCIsIHNldE9wZW4oITApLCBzZXRXaXRoaW5NZW51KCEwKSwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgc2hvdWxkRm9jdXNSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wb3ZlciwgeyAuLi5wb3BvdmVyLCBjb250ZW50OiBjaGlsZE1lbnUsIFwiZGF0YS11aVwiOiBcIk1lbnVHcm91cF9fcG9wb3ZlclwiLCBvcGVuLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBTZWxlY3RhYmxlLFxuICAgIHtcbiAgICAgIFwiZGF0YS1hc1wiOiBhcyxcbiAgICAgIFwiZGF0YS11aVwiOiBcIk1lbnVHcm91cFwiLFxuICAgICAgZm9yd2FyZGVkQXM6IGFzLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgXCJhcmlhLXByZXNzZWRcIjogYXMgPT09IFwiYnV0dG9uXCIgPyB3aXRoaW5NZW51IDogdm9pZCAwLFxuICAgICAgXCJkYXRhLXByZXNzZWRcIjogYXMgIT09IFwiYnV0dG9uXCIgPyB3aXRoaW5NZW51IDogdm9pZCAwLFxuICAgICAgXCJkYXRhLXNlbGVjdGVkXCI6ICF3aXRoaW5NZW51ICYmIGFjdGl2ZSA/IFwiXCIgOiB2b2lkIDAsXG4gICAgICAkcmFkaXVzOiB1c2VBcnJheVByb3AocmFkaXVzKSxcbiAgICAgICR0b25lOiB0b25lLFxuICAgICAgJHNjaGVtZTogc2NoZW1lLFxuICAgICAgb25DbGljazogaGFuZGxlQ2xpY2ssXG4gICAgICBvbktleURvd246IGhhbmRsZUtleURvd24sXG4gICAgICBvbk1vdXNlRW50ZXI6IGhhbmRsZU1vdXNlRW50ZXIsXG4gICAgICByZWY6IHNldFJvb3RFbGVtZW50LFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgdHlwZTogYXMgPT09IFwiYnV0dG9uXCIgPyBcImJ1dHRvblwiIDogdm9pZCAwLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZsZXgsIHsgZ2FwOiBzcGFjZSwgcGFkZGluZywgY2hpbGRyZW46IFtcbiAgICAgICAgSWNvbkNvbXBvbmVudCAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhUZXh0LCB7IHNpemU6IGZvbnRTaXplMiwgY2hpbGRyZW46IFtcbiAgICAgICAgICBpc1ZhbGlkRWxlbWVudChJY29uQ29tcG9uZW50KSAmJiBJY29uQ29tcG9uZW50LFxuICAgICAgICAgIGlzVmFsaWRFbGVtZW50VHlwZShJY29uQ29tcG9uZW50KSAmJiAvKiBAX19QVVJFX18gKi8ganN4KEljb25Db21wb25lbnQsIHt9KVxuICAgICAgICBdIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBmbGV4OiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IHNpemU6IGZvbnRTaXplMiwgdGV4dE92ZXJmbG93OiBcImVsbGlwc2lzXCIsIHdlaWdodDogXCJtZWRpdW1cIiwgY2hpbGRyZW46IHRleHQgfSkgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyBzaXplOiBmb250U2l6ZTIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENoZXZyb25SaWdodEljb24sIHt9KSB9KVxuICAgICAgXSB9KVxuICAgIH1cbiAgKSB9KTtcbn1cbmNvbnN0IE1lbnVJdGVtID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgZm9yd2FyZGVkUmVmKSB7XG4gIGNvbnN0IHtcbiAgICBhcyA9IFwiYnV0dG9uXCIsXG4gICAgY2hpbGRyZW4sXG4gICAgZGlzYWJsZWQsXG4gICAgZm9udFNpemU6IGZvbnRTaXplMiA9IDEsXG4gICAgaG90a2V5cyxcbiAgICBpY29uOiBJY29uQ29tcG9uZW50LFxuICAgIGljb25SaWdodDogSWNvblJpZ2h0Q29tcG9uZW50LFxuICAgIG9uQ2xpY2ssXG4gICAgcGFkZGluZyA9IDMsXG4gICAgcGFkZGluZ1gsXG4gICAgcGFkZGluZ1ksXG4gICAgcGFkZGluZ1RvcCxcbiAgICBwYWRkaW5nUmlnaHQsXG4gICAgcGFkZGluZ0JvdHRvbSxcbiAgICBwYWRkaW5nTGVmdCxcbiAgICBwcmVzc2VkLFxuICAgIHJhZGl1cyA9IDIsXG4gICAgc2VsZWN0ZWQ6IHNlbGVjdGVkUHJvcCxcbiAgICBzcGFjZSA9IDMsXG4gICAgdGV4dCxcbiAgICB0b25lID0gXCJkZWZhdWx0XCIsXG4gICAgLi4ucmVzdFByb3BzXG4gIH0gPSBwcm9wcywgeyBzY2hlbWUgfSA9IHVzZVJvb3RUaGVtZSgpLCBtZW51ID0gdXNlTWVudSgpLCB7XG4gICAgYWN0aXZlRWxlbWVudCxcbiAgICBtb3VudCxcbiAgICBvbkl0ZW1DbGljayxcbiAgICBvbkl0ZW1Nb3VzZUVudGVyID0gbWVudS5vbk1vdXNlRW50ZXIsXG4gICAgb25JdGVtTW91c2VMZWF2ZSA9IG1lbnUub25Nb3VzZUxlYXZlXG4gIH0gPSBtZW51LCBbcm9vdEVsZW1lbnQsIHNldFJvb3RFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpLCBhY3RpdmUgPSAhIWFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudCA9PT0gcm9vdEVsZW1lbnQsIHJlZiA9IHVzZVJlZihudWxsKTtcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShmb3J3YXJkZWRSZWYsICgpID0+IHJlZi5jdXJyZW50KSwgdXNlRWZmZWN0KCgpID0+IG1vdW50KHJvb3RFbGVtZW50LCBzZWxlY3RlZFByb3ApLCBbbW91bnQsIHJvb3RFbGVtZW50LCBzZWxlY3RlZFByb3BdKTtcbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIGRpc2FibGVkIHx8IChvbkNsaWNrICYmIG9uQ2xpY2soZXZlbnQpLCBvbkl0ZW1DbGljayAmJiBvbkl0ZW1DbGljaygpKTtcbiAgICB9LFxuICAgIFtkaXNhYmxlZCwgb25DbGljaywgb25JdGVtQ2xpY2tdXG4gICksIHBhZGRpbmdQcm9wcyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIHBhZGRpbmcsXG4gICAgICBwYWRkaW5nWCxcbiAgICAgIHBhZGRpbmdZLFxuICAgICAgcGFkZGluZ1RvcCxcbiAgICAgIHBhZGRpbmdSaWdodCxcbiAgICAgIHBhZGRpbmdCb3R0b20sXG4gICAgICBwYWRkaW5nTGVmdFxuICAgIH0pLFxuICAgIFtwYWRkaW5nLCBwYWRkaW5nWCwgcGFkZGluZ1ksIHBhZGRpbmdUb3AsIHBhZGRpbmdSaWdodCwgcGFkZGluZ0JvdHRvbSwgcGFkZGluZ0xlZnRdXG4gICksIGhvdGtleXNGb250U2l6ZSA9IHVzZUFycmF5UHJvcChmb250U2l6ZTIpLm1hcCgocykgPT4gcyAtIDEpLCBzZXRSZWYgPSB1c2VDYWxsYmFjaygoZWwpID0+IHtcbiAgICByZWYuY3VycmVudCA9IGVsLCBzZXRSb290RWxlbWVudChlbCk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFNlbGVjdGFibGUsXG4gICAge1xuICAgICAgXCJkYXRhLXVpXCI6IFwiTWVudUl0ZW1cIixcbiAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgIFwiYXJpYS1wcmVzc2VkXCI6IGFzID09PSBcImJ1dHRvblwiICYmIHByZXNzZWQsXG4gICAgICBcImRhdGEtcHJlc3NlZFwiOiBhcyAhPT0gXCJidXR0b25cIiAmJiBwcmVzc2VkID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgIFwiZGF0YS1zZWxlY3RlZFwiOiBhY3RpdmUgPyBcIlwiIDogdm9pZCAwLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRpc2FibGVkID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgIGZvcndhcmRlZEFzOiBhcyxcbiAgICAgICRyYWRpdXM6IHVzZUFycmF5UHJvcChyYWRpdXMpLFxuICAgICAgJHBhZGRpbmc6IHVzZUFycmF5UHJvcCgwKSxcbiAgICAgICR0b25lOiBkaXNhYmxlZCA/IFwiZGVmYXVsdFwiIDogdG9uZSxcbiAgICAgICRzY2hlbWU6IHNjaGVtZSxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgb25DbGljazogaGFuZGxlQ2xpY2ssXG4gICAgICBvbk1vdXNlRW50ZXI6IG9uSXRlbU1vdXNlRW50ZXIsXG4gICAgICBvbk1vdXNlTGVhdmU6IG9uSXRlbU1vdXNlTGVhdmUsXG4gICAgICByZWY6IHNldFJlZixcbiAgICAgIHJvbGU6IFwibWVudWl0ZW1cIixcbiAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgIHR5cGU6IGFzID09PSBcImJ1dHRvblwiID8gXCJidXR0b25cIiA6IHZvaWQgMCxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIChJY29uQ29tcG9uZW50IHx8IHRleHQgfHwgSWNvblJpZ2h0Q29tcG9uZW50KSAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhGbGV4LCB7IGFzOiBcInNwYW5cIiwgZ2FwOiBzcGFjZSwgYWxpZ246IFwiY2VudGVyXCIsIC4uLnBhZGRpbmdQcm9wcywgY2hpbGRyZW46IFtcbiAgICAgICAgICBJY29uQ29tcG9uZW50ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFRleHQsIHsgc2l6ZTogZm9udFNpemUyLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQoSWNvbkNvbXBvbmVudCkgJiYgSWNvbkNvbXBvbmVudCxcbiAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50VHlwZShJY29uQ29tcG9uZW50KSAmJiAvKiBAX19QVVJFX18gKi8ganN4KEljb25Db21wb25lbnQsIHt9KVxuICAgICAgICAgIF0gfSksXG4gICAgICAgICAgdGV4dCAmJiAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBmbGV4OiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IHNpemU6IGZvbnRTaXplMiwgdGV4dE92ZXJmbG93OiBcImVsbGlwc2lzXCIsIHdlaWdodDogXCJtZWRpdW1cIiwgY2hpbGRyZW46IHRleHQgfSkgfSksXG4gICAgICAgICAgaG90a2V5cyAmJiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgSG90a2V5cyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZm9udFNpemU6IGhvdGtleXNGb250U2l6ZSxcbiAgICAgICAgICAgICAga2V5czogaG90a2V5cyxcbiAgICAgICAgICAgICAgc3R5bGU6IHsgbWFyZ2luVG9wOiAtNCwgbWFyZ2luQm90dG9tOiAtNCB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSxcbiAgICAgICAgICBJY29uUmlnaHRDb21wb25lbnQgJiYgLyogQF9fUFVSRV9fICovIGpzeHMoVGV4dCwgeyBzaXplOiBmb250U2l6ZTIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChJY29uUmlnaHRDb21wb25lbnQpICYmIEljb25SaWdodENvbXBvbmVudCxcbiAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50VHlwZShJY29uUmlnaHRDb21wb25lbnQpICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvblJpZ2h0Q29tcG9uZW50LCB7fSlcbiAgICAgICAgICBdIH0pXG4gICAgICAgIF0gfSksXG4gICAgICAgIGNoaWxkcmVuICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGFzOiBcInNwYW5cIiwgLi4ucGFkZGluZ1Byb3BzLCBjaGlsZHJlbiB9KVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBrZXlmcmFtZSA9IGtleWZyYW1lc2BcbiAgMCUge1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDEwMCU7XG4gIH1cbiAgMTAwJSB7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEwMCU7XG4gIH1cbmAsIGFuaW1hdGlvbiA9IGNzc2BcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KFxuICAgIHRvIHJpZ2h0LFxuICAgIHZhcigtLWNhcmQtc2tlbGV0b24tY29sb3ItZnJvbSksXG4gICAgdmFyKC0tY2FyZC1za2VsZXRvbi1jb2xvci10byksXG4gICAgdmFyKC0tY2FyZC1za2VsZXRvbi1jb2xvci1mcm9tKSxcbiAgICB2YXIoLS1jYXJkLXNrZWxldG9uLWNvbG9yLWZyb20pLFxuICAgIHZhcigtLWNhcmQtc2tlbGV0b24tY29sb3ItZnJvbSlcbiAgKTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJTtcbiAgYmFja2dyb3VuZC1zaXplOiAyMDAlIDEwMCU7XG4gIGJhY2tncm91bmQtYXR0YWNobWVudDogZml4ZWQ7XG4gIGFuaW1hdGlvbi1uYW1lOiAke2tleWZyYW1lfTtcbiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7XG4gIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xuICBhbmltYXRpb24tZHVyYXRpb246IDIwMDBtcztcbmAsIHNrZWxldG9uU3R5bGUgPSBjc3NgXG4gIG9wYWNpdHk6ICR7KHsgJHZpc2libGUgfSkgPT4gJHZpc2libGUgPyAxIDogMH07XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMjAwbXMgZWFzZS1pbjtcblxuICBAbWVkaWEgc2NyZWVuIGFuZCAocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogbm8tcHJlZmVyZW5jZSkge1xuICAgICR7KHsgJGFuaW1hdGVkIH0pID0+ICRhbmltYXRlZCA/IGFuaW1hdGlvbiA6IGNzc2BcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQtc2tlbGV0b24tY29sb3ItZnJvbSk7XG4gICAgICAgICAgYH1cbiAgfVxuXG4gIEBtZWRpYSBzY3JlZW4gYW5kIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jYXJkLXNrZWxldG9uLWNvbG9yLWZyb20pO1xuICB9XG5gLCBSb290JDQgPSBzdHlsZWQoQm94KShcbiAgcmVzcG9uc2l2ZVJhZGl1c1N0eWxlLFxuICBza2VsZXRvblN0eWxlXG4pLCBTa2VsZXRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7IGFuaW1hdGVkID0gITEsIGRlbGF5LCByYWRpdXMsIC4uLnJlc3RQcm9wcyB9ID0gcHJvcHMsIFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKCFkZWxheSk7XG4gIHJldHVybiB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZGVsYXkpXG4gICAgICByZXR1cm4gc2V0VmlzaWJsZSghMCk7XG4gICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0VmlzaWJsZSghMCk7XG4gICAgfSwgZGVsYXkpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfTtcbiAgfSwgW2RlbGF5XSksIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgUm9vdCQ0LFxuICAgIHtcbiAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgICRhbmltYXRlZDogYW5pbWF0ZWQsXG4gICAgICAkcmFkaXVzOiB1c2VBcnJheVByb3AocmFkaXVzKSxcbiAgICAgICR2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgcmVmXG4gICAgfVxuICApO1xufSksIFJvb3QkMyA9IHN0eWxlZChTa2VsZXRvbikoKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgJHNpemUsICRzdHlsZSB9ID0gcHJvcHMsIHsgZm9udCwgbWVkaWEgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKSwgZm9udFN0eWxlID0gZm9udFskc3R5bGVdO1xuICByZXR1cm4gX3Jlc3BvbnNpdmUobWVkaWEsICRzaXplLCAoc2l6ZUluZGV4KSA9PiB7XG4gICAgY29uc3QgZm9udFNpemUyID0gZm9udFN0eWxlLnNpemVzW3NpemVJbmRleF07XG4gICAgcmV0dXJuIHsgaGVpZ2h0OiBmb250U2l6ZTIubGluZUhlaWdodCAtIGZvbnRTaXplMi5hc2NlbmRlckhlaWdodCAtIGZvbnRTaXplMi5kZXNjZW5kZXJIZWlnaHQgfTtcbiAgfSk7XG59KSwgVGV4dFNrZWxldG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgcmVmKSB7XG4gIGNvbnN0IHsgc2l6ZTogc2l6ZTIgPSAyLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzLCAkc2l6ZSA9IHVzZUFycmF5UHJvcChzaXplMik7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFJvb3QkMywgeyAuLi5yZXN0UHJvcHMsICRzaXplLCByZWYsICRzdHlsZTogXCJ0ZXh0XCIgfSk7XG59KSwgTGFiZWxTa2VsZXRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24ocHJvcHMsIHJlZikge1xuICBjb25zdCB7IHNpemU6IHNpemUyID0gMiwgLi4ucmVzdFByb3BzIH0gPSBwcm9wcywgJHNpemUgPSB1c2VBcnJheVByb3Aoc2l6ZTIpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChSb290JDMsIHsgLi4ucmVzdFByb3BzLCAkc2l6ZSwgcmVmLCAkc3R5bGU6IFwibGFiZWxcIiB9KTtcbn0pLCBIZWFkaW5nU2tlbGV0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgY29uc3QgeyBzaXplOiBzaXplMiA9IDIsIC4uLnJlc3RQcm9wcyB9ID0gcHJvcHMsICRzaXplID0gdXNlQXJyYXlQcm9wKHNpemUyKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUm9vdCQzLCB7IC4uLnJlc3RQcm9wcywgJHNpemUsIHJlZiwgJHN0eWxlOiBcImhlYWRpbmdcIiB9KTtcbn0pLCBDb2RlU2tlbGV0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgY29uc3QgeyBzaXplOiBzaXplMiA9IDIsIC4uLnJlc3RQcm9wcyB9ID0gcHJvcHMsICRzaXplID0gdXNlQXJyYXlQcm9wKHNpemUyKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUm9vdCQzLCB7IC4uLnJlc3RQcm9wcywgJHNpemUsIHJlZiwgJHN0eWxlOiBcImNvZGVcIiB9KTtcbn0pLCBDdXN0b21CdXR0b24gPSBzdHlsZWQoQnV0dG9uKWBcbiAgbWF4LXdpZHRoOiAxMDAlO1xuYCwgVGFiID0gZm9yd2FyZFJlZihmdW5jdGlvbihwcm9wcywgZm9yd2FyZGVkUmVmKSB7XG4gIGNvbnN0IHtcbiAgICBpY29uLFxuICAgIGlkLFxuICAgIGZvY3VzZWQsXG4gICAgZm9udFNpemU6IGZvbnRTaXplMiA9IDEsXG4gICAgbGFiZWwsXG4gICAgb25DbGljayxcbiAgICBvbkZvY3VzLFxuICAgIHBhZGRpbmcgPSAyLFxuICAgIHNlbGVjdGVkLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHMsIHJlZiA9IHVzZVJlZihudWxsKSwgZm9jdXNlZFJlZiA9IHVzZVJlZighMSk7XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUoXG4gICAgZm9yd2FyZGVkUmVmLFxuICAgICgpID0+IHJlZi5jdXJyZW50XG4gICk7XG4gIGNvbnN0IGhhbmRsZUJsdXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZm9jdXNlZFJlZi5jdXJyZW50ID0gITE7XG4gIH0sIFtdKSwgaGFuZGxlRm9jdXMgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIGZvY3VzZWRSZWYuY3VycmVudCA9ICEwLCBvbkZvY3VzICYmIG9uRm9jdXMoZXZlbnQpO1xuICAgIH0sXG4gICAgW29uRm9jdXNdXG4gICk7XG4gIHJldHVybiB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZvY3VzZWQgJiYgIWZvY3VzZWRSZWYuY3VycmVudCAmJiAocmVmLmN1cnJlbnQgJiYgcmVmLmN1cnJlbnQuZm9jdXMoKSwgZm9jdXNlZFJlZi5jdXJyZW50ID0gITApO1xuICB9LCBbZm9jdXNlZF0pLCAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIEN1c3RvbUJ1dHRvbixcbiAgICB7XG4gICAgICBcImRhdGEtdWlcIjogXCJUYWJcIixcbiAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBzZWxlY3RlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiLFxuICAgICAgZm9udFNpemU6IGZvbnRTaXplMixcbiAgICAgIGljb24sXG4gICAgICBpZCxcbiAgICAgIG1vZGU6IFwiYmxlZWRcIixcbiAgICAgIG9uQ2xpY2ssXG4gICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsXG4gICAgICBvbkZvY3VzOiBoYW5kbGVGb2N1cyxcbiAgICAgIHBhZGRpbmcsXG4gICAgICByZWYsXG4gICAgICByb2xlOiBcInRhYlwiLFxuICAgICAgc2VsZWN0ZWQsXG4gICAgICB0YWJJbmRleDogc2VsZWN0ZWQgPyAwIDogLTEsXG4gICAgICB0ZXh0OiBsYWJlbCxcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICB9XG4gICk7XG59KTtcbmZ1bmN0aW9uIF9pc1JlYWN0RWxlbWVudChub2RlKSB7XG4gIHJldHVybiAhIW5vZGU7XG59XG5jb25zdCBDdXN0b21JbmxpbmUgPSBzdHlsZWQoSW5saW5lKWBcbiAgJiA+IGRpdiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIH1cbmAsIFRhYkxpc3QgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgY29uc3QgeyBjaGlsZHJlbjogY2hpbGRyZW5Qcm9wLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzLCBbZm9jdXNlZEluZGV4LCBzZXRGb2N1c2VkSW5kZXhdID0gdXNlU3RhdGUoLTEpLCB0YWJzID0gdXNlTWVtbygoKSA9PiBjaGlsZHJlblByb3AuZmlsdGVyKF9pc1JlYWN0RWxlbWVudCksIFtjaGlsZHJlblByb3BdKS5tYXAoXG4gICAgKGNoaWxkLCBjaGlsZEluZGV4KSA9PiBjbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgIGZvY3VzZWQ6IGZvY3VzZWRJbmRleCA9PT0gY2hpbGRJbmRleCxcbiAgICAgIGtleTogY2hpbGRJbmRleCxcbiAgICAgIG9uRm9jdXM6ICgpID0+IGhhbmRsZVRhYkZvY3VzKGNoaWxkSW5kZXgpXG4gICAgfSlcbiAgKSwgbnVtVGFicyA9IHRhYnMubGVuZ3RoLCBoYW5kbGVUYWJGb2N1cyA9IHVzZUNhbGxiYWNrKCh0YWJJZHgpID0+IHtcbiAgICBzZXRGb2N1c2VkSW5kZXgodGFiSWR4KTtcbiAgfSwgW10pLCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5rZXkgPT09IFwiQXJyb3dMZWZ0XCIgJiYgc2V0Rm9jdXNlZEluZGV4KChwcmV2SW5kZXgpID0+IChwcmV2SW5kZXggKyBudW1UYWJzIC0gMSkgJSBudW1UYWJzKSwgZXZlbnQua2V5ID09PSBcIkFycm93UmlnaHRcIiAmJiBzZXRGb2N1c2VkSW5kZXgoKHByZXZJbmRleCkgPT4gKHByZXZJbmRleCArIDEpICUgbnVtVGFicyk7XG4gICAgfSxcbiAgICBbbnVtVGFic11cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgQ3VzdG9tSW5saW5lLFxuICAgIHtcbiAgICAgIFwiZGF0YS11aVwiOiBcIlRhYkxpc3RcIixcbiAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgIG9uS2V5RG93bjogaGFuZGxlS2V5RG93bixcbiAgICAgIHJlZixcbiAgICAgIHJvbGU6IFwidGFibGlzdFwiLFxuICAgICAgY2hpbGRyZW46IHRhYnNcbiAgICB9XG4gICk7XG59KSwgVGFiUGFuZWwgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCByZWYpIHtcbiAgY29uc3QgeyBmbGV4LCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBCb3gsXG4gICAge1xuICAgICAgXCJkYXRhLXVpXCI6IFwiVGFiUGFuZWxcIixcbiAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgIGZsZXgsXG4gICAgICByZWYsXG4gICAgICByb2xlOiBcInRhYnBhbmVsXCIsXG4gICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXggPT09IHZvaWQgMCA/IDAgOiBwcm9wcy50YWJJbmRleCxcbiAgICAgIGNoaWxkcmVuOiBwcm9wcy5jaGlsZHJlblxuICAgIH1cbiAgKTtcbn0pLCBUZXh0Qm94ID0gc3R5bGVkKEZsZXgpYFxuICBvdmVyZmxvdy14OiBhdXRvO1xuYCwgbG9hZGluZ0FuaW1hdGlvbiA9IGtleWZyYW1lc2BcbiAgMCUge1xuICAgIHdpZHRoOiAwO1xuICB9XG4gIDEwMCUge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9IFxuYCwgTE9BRElOR19CQVJfSEVJR0hUID0gMjtcbmZ1bmN0aW9uIHJvb3RTdHlsZXMocHJvcHMpIHtcbiAgY29uc3QgeyBjb2xvciB9ID0gZ2V0VGhlbWVfdjIkMShwcm9wcy50aGVtZSksIGxvYWRpbmdCYXJDb2xvciA9IGNvbG9yLmJ1dHRvbi5kZWZhdWx0W3Byb3BzLnRvbmVdLmVuYWJsZWQuYmc7XG4gIHJldHVybiBwcm9wcy4kZHVyYXRpb24gPyBjc3NgXG4gICAgcG9pbnRlci1ldmVudHM6IGFsbDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBvdmVyZmxvdzogY2xpcDtcbiAgICBwYWRkaW5nLWJvdHRvbTogJHtMT0FESU5HX0JBUl9IRUlHSFR9cHg7XG4gICAgJjo6YmVmb3JlIHtcbiAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICBoZWlnaHQ6ICR7TE9BRElOR19CQVJfSEVJR0hUfXB4O1xuICAgICAgYmFja2dyb3VuZDogJHtsb2FkaW5nQmFyQ29sb3J9O1xuICAgICAgYW5pbWF0aW9uLW5hbWU6ICR7bG9hZGluZ0FuaW1hdGlvbn07XG4gICAgICBhbmltYXRpb24tZHVyYXRpb246ICR7cHJvcHMuJGR1cmF0aW9ufW1zO1xuICAgICAgYW5pbWF0aW9uLWZpbGwtbW9kZTogYm90aDtcbiAgICB9XG5cbiAgICAmID4gKiB7XG4gICAgICBvcGFjaXR5OiB2YXIoJHtQT1BPVkVSX01PVElPTl9DT05URU5UX09QQUNJVFlfUFJPUEVSVFl9LCAxKTtcbiAgICAgIHdpbGwtY2hhbmdlOiBvcGFjaXR5O1xuICAgIH1cbiAgYCA6IGNzc2BcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG4gICAgICAmID4gKiB7XG4gICAgICAgIG9wYWNpdHk6IHZhcigke1BPUE9WRVJfTU9USU9OX0NPTlRFTlRfT1BBQ0lUWV9QUk9QRVJUWX0sIDEpO1xuICAgICAgICB3aWxsLWNoYW5nZTogb3BhY2l0eTtcbiAgICAgIH1cbiAgICBgO1xufVxuY29uc3QgU1RBVFVTX0NBUkRfVE9ORSA9IHtcbiAgZXJyb3I6IFwiY3JpdGljYWxcIixcbiAgd2FybmluZzogXCJjYXV0aW9uXCIsXG4gIHN1Y2Nlc3M6IFwicG9zaXRpdmVcIixcbiAgaW5mbzogXCJwcmltYXJ5XCJcbn0sIEJVVFRPTl9UT05FID0ge1xuICBlcnJvcjogXCJjcml0aWNhbFwiLFxuICB3YXJuaW5nOiBcImNhdXRpb25cIixcbiAgc3VjY2VzczogXCJwb3NpdGl2ZVwiLFxuICBpbmZvOiBcInByaW1hcnlcIlxufSwgUk9MRVMgPSB7XG4gIGVycm9yOiBcImFsZXJ0XCIsXG4gIHdhcm5pbmc6IFwiYWxlcnRcIixcbiAgc3VjY2VzczogXCJhbGVydFwiLFxuICBpbmZvOiBcImFsZXJ0XCJcbn0sIFJvb3QkMiA9IHN0eWxlZChDYXJkKShcbiAgcm9vdFN0eWxlc1xuKTtcbmZ1bmN0aW9uIFRvYXN0KHByb3BzKSB7XG4gIGNvbnN0IHsgY2xvc2FibGUsIGRlc2NyaXB0aW9uLCBkdXJhdGlvbiwgb25DbG9zZSwgcmFkaXVzID0gMywgdGl0bGUsIHN0YXR1cywgLi4ucmVzdFByb3BzIH0gPSBwcm9wcywgY2FyZFRvbmUgPSBzdGF0dXMgPyBTVEFUVVNfQ0FSRF9UT05FW3N0YXR1c10gOiBcImRlZmF1bHRcIiwgYnV0dG9uVG9uZSA9IHN0YXR1cyA/IEJVVFRPTl9UT05FW3N0YXR1c10gOiBcImRlZmF1bHRcIiwgcm9sZSA9IHN0YXR1cyA/IFJPTEVTW3N0YXR1c10gOiBcInN0YXR1c1wiO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBSb290JDIsXG4gICAge1xuICAgICAgXCJkYXRhLXVpXCI6IFwiVG9hc3RcIixcbiAgICAgIHJvbGUsXG4gICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICBtYXJnaW5Ub3A6IDMsXG4gICAgICByYWRpdXMsXG4gICAgICBzaGFkb3c6IDIsXG4gICAgICB0b25lOiBjYXJkVG9uZSxcbiAgICAgICRkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoRmxleCwgeyBhbGlnbjogXCJmbGV4LXN0YXJ0XCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dEJveCwgeyBmbGV4OiAxLCBwYWRkaW5nOiAzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoU3RhY2ssIHsgc3BhY2U6IDMsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgdGl0bGUgJiYgLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IHNpemU6IDEsIHdlaWdodDogXCJtZWRpdW1cIiwgY2hpbGRyZW46IHRpdGxlIH0pLFxuICAgICAgICAgIGRlc2NyaXB0aW9uICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyBtdXRlZDogITAsIHNpemU6IDEsIGNoaWxkcmVuOiBkZXNjcmlwdGlvbiB9KVxuICAgICAgICBdIH0pIH0pLFxuICAgICAgICBjbG9zYWJsZSAmJiAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBwYWRkaW5nOiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBCdXR0b24sXG4gICAgICAgICAge1xuICAgICAgICAgICAgYXM6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICBpY29uOiBDbG9zZUljb24sXG4gICAgICAgICAgICBtb2RlOiBcImJsZWVkXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiAyLFxuICAgICAgICAgICAgdG9uZTogYnV0dG9uVG9uZSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IG9uQ2xvc2UsXG4gICAgICAgICAgICBzdHlsZTogeyB2ZXJ0aWNhbEFsaWduOiBcInRvcFwiIH1cbiAgICAgICAgICB9XG4gICAgICAgICkgfSlcbiAgICAgIF0gfSlcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiB1c2VNb3VudGVkKCkge1xuICByZXR1cm4gdXNlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgc3Vic2NyaWJlLFxuICAgICgpID0+ICEwLFxuICAgICgpID0+ICExXG4gICk7XG59XG5jb25zdCBzdWJzY3JpYmUgPSAoKSA9PiAoKSA9PiB7XG59LCBrZXkkMSA9IFN5bWJvbC5mb3IoXCJAc2FuaXR5L3VpL2NvbnRleHQvdG9hc3RcIiksIFRvYXN0Q29udGV4dCA9IGNyZWF0ZUdsb2JhbFNjb3BlZENvbnRleHQoa2V5JDEsIG51bGwpLCBSb290JDEgPSBzdHlsZWQoTGF5ZXIpYFxuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5gLCBUb2FzdENvbnRhaW5lciA9IHN0eWxlZC5kaXZgXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgbWF4LXdpZHRoOiA0MjBweDtcbiAgd2lkdGg6IDEwMCU7XG5gO1xubGV0IHRvYXN0SWQgPSAwO1xuZnVuY3Rpb24gVG9hc3RQcm92aWRlcihwcm9wcykge1xuICBjb25zdCB7IGNoaWxkcmVuLCBwYWRkaW5nID0gNCwgcGFkZGluZ1gsIHBhZGRpbmdZLCB6T2Zmc2V0IH0gPSBwcm9wcywgW3N0YXRlLCBfc2V0U3RhdGVdID0gdXNlU3RhdGUoW10pLCB0b2FzdHNSZWYgPSB1c2VSZWYoe30pLCBtb3VudGVkID0gdXNlTW91bnRlZCgpLCBwcmVmZXJzUmVkdWNlZE1vdGlvbiA9IHVzZVByZWZlcnNSZWR1Y2VkTW90aW9uKCksIHZhcmlhbnRzID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgaW5pdGlhbDoge1xuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICBbUE9QT1ZFUl9NT1RJT05fQ09OVEVOVF9PUEFDSVRZX1BST1BFUlRZXTogMCxcbiAgICAgICAgeTogMzIsXG4gICAgICAgIHNjYWxlOiAwLjI1LFxuICAgICAgICB3aWxsQ2hhbmdlOiBcInRyYW5zZm9ybVwiXG4gICAgICB9LFxuICAgICAgYW5pbWF0ZToge1xuICAgICAgICBvcGFjaXR5OiBbMCwgMSwgMV0sXG4gICAgICAgIFtQT1BPVkVSX01PVElPTl9DT05URU5UX09QQUNJVFlfUFJPUEVSVFldOiBbMCwgMCwgMV0sXG4gICAgICAgIHk6IDAsXG4gICAgICAgIHNjYWxlOiAxXG4gICAgICB9LFxuICAgICAgZXhpdDoge1xuICAgICAgICBvcGFjaXR5OiBbMSwgMSwgMF0sXG4gICAgICAgIFtQT1BPVkVSX01PVElPTl9DT05URU5UX09QQUNJVFlfUFJPUEVSVFldOiBbMSwgMCwgMF0sXG4gICAgICAgIHNjYWxlOiAwLjUsXG4gICAgICAgIHRyYW5zaXRpb246IHByZWZlcnNSZWR1Y2VkTW90aW9uID8geyBkdXJhdGlvbjogMCB9IDogeyBkdXJhdGlvbjogMC4yIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgICBbcHJlZmVyc1JlZHVjZWRNb3Rpb25dXG4gICksIHZhbHVlID0gdXNlTWVtbygoKSA9PiAoeyB2ZXJzaW9uOiAwLCBwdXNoOiAocGFyYW1zKSA9PiB7XG4gICAgY29uc3Qgc2V0U3RhdGUgPSAoc3RhdGUyKSA9PiBzdGFydFRyYW5zaXRpb24oKCkgPT4gX3NldFN0YXRlKHN0YXRlMikpLCBpZCA9IHBhcmFtcy5pZCB8fCBTdHJpbmcodG9hc3RJZCsrKSwgZHVyYXRpb24gPSBwYXJhbXMuZHVyYXRpb24gfHwgNWUzLCBkaXNtaXNzID0gKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgdGltZW91dElkID0gKF9hID0gdG9hc3RzUmVmLmN1cnJlbnRbaWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudGltZW91dElkO1xuICAgICAgc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBpZHggPSBwcmV2U3RhdGUuZmluZEluZGV4KCh0KSA9PiB0LmlkID09PSBpZCk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgIGNvbnN0IHRvYXN0cyA9IHByZXZTdGF0ZS5zbGljZSgwKTtcbiAgICAgICAgICByZXR1cm4gdG9hc3RzLnNwbGljZShpZHgsIDEpLCB0b2FzdHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH0pLCB0aW1lb3V0SWQgIT09IHZvaWQgMCAmJiAoY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCksIGRlbGV0ZSB0b2FzdHNSZWYuY3VycmVudFtpZF0pO1xuICAgIH07XG4gICAgcmV0dXJuIHNldFN0YXRlKChwcmV2U3RhdGUpID0+IHByZXZTdGF0ZS5maWx0ZXIoKHQpID0+IHQuaWQgIT09IGlkKS5jb25jYXQoW1xuICAgICAge1xuICAgICAgICBkaXNtaXNzLFxuICAgICAgICBpZCxcbiAgICAgICAgcGFyYW1zOiB7IC4uLnBhcmFtcywgZHVyYXRpb24gfVxuICAgICAgfVxuICAgIF0pKSwgdG9hc3RzUmVmLmN1cnJlbnRbaWRdICYmIChjbGVhclRpbWVvdXQodG9hc3RzUmVmLmN1cnJlbnRbaWRdLnRpbWVvdXRJZCksIGRlbGV0ZSB0b2FzdHNSZWYuY3VycmVudFtpZF0pLCB0b2FzdHNSZWYuY3VycmVudFtpZF0gPSB7IHRpbWVvdXRJZDogc2V0VGltZW91dChkaXNtaXNzLCBkdXJhdGlvbikgfSwgaWQ7XG4gIH0gfSksIFtdKTtcbiAgcmV0dXJuIHVzZUVmZmVjdChcbiAgICAoKSA9PiAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHsgdGltZW91dElkIH0gb2YgT2JqZWN0LnZhbHVlcyh0b2FzdHNSZWYuY3VycmVudCkpXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgdG9hc3RzUmVmLmN1cnJlbnQgPSB7fTtcbiAgICB9LFxuICAgIFtdXG4gICksIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFRvYXN0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZSwgY2hpbGRyZW46IFtcbiAgICBjaGlsZHJlbixcbiAgICBtb3VudGVkICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goUm9vdCQxLCB7IFwiZGF0YS11aVwiOiBcIlRvYXN0UHJvdmlkZXJcIiwgek9mZnNldCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVG9hc3RDb250YWluZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IHBhZGRpbmcsIHBhZGRpbmdYLCBwYWRkaW5nWSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQW5pbWF0ZVByZXNlbmNlLCB7IGluaXRpYWw6ICExLCBjaGlsZHJlbjogc3RhdGUubWFwKCh7IGRpc21pc3MsIGlkLCBwYXJhbXMgfSkgPT4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIG1vdGlvbi5kaXYsXG4gICAgICB7XG4gICAgICAgIGxheW91dDogXCJwb3NpdGlvblwiLFxuICAgICAgICBpbml0aWFsOiBcImluaXRpYWxcIixcbiAgICAgICAgYW5pbWF0ZTogXCJhbmltYXRlXCIsXG4gICAgICAgIGV4aXQ6IFwiZXhpdFwiLFxuICAgICAgICB2YXJpYW50cyxcbiAgICAgICAgdHJhbnNpdGlvbjogcHJlZmVyc1JlZHVjZWRNb3Rpb24gPyB7IGR1cmF0aW9uOiAwIH0gOiB7IHR5cGU6IFwic3ByaW5nXCIsIGRhbXBpbmc6IDMwLCBzdGlmZm5lc3M6IDQwMCB9LFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBUb2FzdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbG9zYWJsZTogcGFyYW1zLmNsb3NhYmxlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHBhcmFtcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG9uQ2xvc2U6IGRpc21pc3MsXG4gICAgICAgICAgICBzdGF0dXM6IHBhcmFtcy5zdGF0dXMsXG4gICAgICAgICAgICB0aXRsZTogcGFyYW1zLnRpdGxlLFxuICAgICAgICAgICAgZHVyYXRpb246IHBhcmFtcy5kdXJhdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfSxcbiAgICAgIGlkXG4gICAgKSkgfSkgfSkgfSkgfSlcbiAgXSB9KTtcbn1cbmZ1bmN0aW9uIHVzZVRvYXN0KCkge1xuICBjb25zdCB2YWx1ZSA9IHVzZUNvbnRleHQoVG9hc3RDb250ZXh0KTtcbiAgaWYgKCF2YWx1ZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VUb2FzdCgpOiBtaXNzaW5nIGNvbnRleHQgdmFsdWVcIik7XG4gIGlmICghaXNSZWNvcmQodmFsdWUpIHx8IHZhbHVlLnZlcnNpb24gIT09IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlVG9hc3QoKTogdGhlIGNvbnRleHQgdmFsdWUgaXMgbm90IGNvbXBhdGlibGVcIik7XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIF9maW5kUHJldkl0ZW1FbGVtZW50KHN0YXRlLCBpdGVtRWxlbWVudHMsIGZvY3VzZWRFbGVtZW50KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgaWR4ID0gaXRlbUVsZW1lbnRzLmluZGV4T2YoZm9jdXNlZEVsZW1lbnQpLCBlbHMgPSBpdGVtRWxlbWVudHMuc2xpY2UoMCwgaWR4KSwgbGVuID0gZWxzLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IGxlbiAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgY29uc3QgaXRlbUtleSA9IGVsc1tpXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRyZWUta2V5XCIpO1xuICAgIGlmICghaXRlbUtleSlcbiAgICAgIGNvbnRpbnVlO1xuICAgIGNvbnN0IHNlZ21lbnRzID0gaXRlbUtleS5zcGxpdChcIi9cIik7XG4gICAgc2VnbWVudHMucG9wKCk7XG4gICAgY29uc3QgcCA9IFtdO1xuICAgIGxldCBleHBhbmRlZCA9ICEwO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2VnbWVudHMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIHAucHVzaChzZWdtZW50c1tqXSk7XG4gICAgICBjb25zdCBrID0gcC5qb2luKFwiL1wiKTtcbiAgICAgIGlmICghKChfYSA9IHN0YXRlW2tdKSAhPSBudWxsICYmIF9hLmV4cGFuZGVkKSkge1xuICAgICAgICBleHBhbmRlZCA9ICExO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGV4cGFuZGVkKVxuICAgICAgcmV0dXJuIGVsc1tpXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIF9maW5kTmV4dEl0ZW1FbGVtZW50KHN0YXRlLCBpdGVtRWxlbWVudHMsIGZvY3VzZWRFbGVtZW50KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgaWR4ID0gaXRlbUVsZW1lbnRzLmluZGV4T2YoZm9jdXNlZEVsZW1lbnQpLCBlbHMgPSBpdGVtRWxlbWVudHMuc2xpY2UoaWR4KSwgbGVuID0gaXRlbUVsZW1lbnRzLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIGlmICghZWxzW2ldKVxuICAgICAgY29udGludWU7XG4gICAgY29uc3QgaXRlbUtleSA9IGVsc1tpXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRyZWUta2V5XCIpO1xuICAgIGlmICghaXRlbUtleSlcbiAgICAgIGNvbnRpbnVlO1xuICAgIGNvbnN0IHNlZ21lbnRzID0gaXRlbUtleS5zcGxpdChcIi9cIik7XG4gICAgc2VnbWVudHMucG9wKCk7XG4gICAgY29uc3QgcCA9IFtdO1xuICAgIGxldCBleHBhbmRlZCA9ICEwO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2VnbWVudHMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIHAucHVzaChzZWdtZW50c1tqXSk7XG4gICAgICBjb25zdCBrID0gcC5qb2luKFwiL1wiKTtcbiAgICAgIGlmICghKChfYSA9IHN0YXRlW2tdKSAhPSBudWxsICYmIF9hLmV4cGFuZGVkKSkge1xuICAgICAgICBleHBhbmRlZCA9ICExO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGV4cGFuZGVkKVxuICAgICAgcmV0dXJuIGVsc1tpXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIF9mb2N1c0l0ZW1FbGVtZW50KGVsKSB7XG4gIGlmIChlbC5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpID09PSBcInRyZWVpdGVtXCIgJiYgZWwuZm9jdXMoKSwgZWwuZ2V0QXR0cmlidXRlKFwicm9sZVwiKSA9PT0gXCJub25lXCIpIHtcbiAgICBjb25zdCBmaXJzdENoaWxkID0gZWwuZmlyc3RDaGlsZDtcbiAgICBmaXJzdENoaWxkICYmIGZpcnN0Q2hpbGQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBmaXJzdENoaWxkLmZvY3VzKCk7XG4gIH1cbn1cbmNvbnN0IGtleSA9IFN5bWJvbC5mb3IoXCJAc2FuaXR5L3VpL2NvbnRleHQvdHJlZVwiKSwgVHJlZUNvbnRleHQgPSBjcmVhdGVHbG9iYWxTY29wZWRDb250ZXh0KGtleSwgbnVsbCksIFRyZWUgPSBtZW1vKFxuICBmb3J3YXJkUmVmKGZ1bmN0aW9uKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBzcGFjZSA9IDEsIG9uRm9jdXMsIC4uLnJlc3RQcm9wcyB9ID0gcHJvcHMsIHJlZiA9IHVzZVJlZihudWxsKSwgW2ZvY3VzZWRFbGVtZW50LCBzZXRGb2N1c2VkRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKSwgZm9jdXNlZEVsZW1lbnRSZWYgPSB1c2VSZWYoZm9jdXNlZEVsZW1lbnQpLCBwYXRoID0gdXNlTWVtbygoKSA9PiBbXSwgW10pLCBbaXRlbUVsZW1lbnRzLCBzZXRJdGVtRWxlbWVudHNdID0gdXNlU3RhdGUoW10pLCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHt9KSwgc3RhdGVSZWYgPSB1c2VSZWYoc3RhdGUpO1xuICAgIHVzZUltcGVyYXRpdmVIYW5kbGUoXG4gICAgICBmb3J3YXJkZWRSZWYsXG4gICAgICAoKSA9PiByZWYuY3VycmVudFxuICAgICksIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBmb2N1c2VkRWxlbWVudFJlZi5jdXJyZW50ID0gZm9jdXNlZEVsZW1lbnQ7XG4gICAgfSwgW2ZvY3VzZWRFbGVtZW50XSksIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBzdGF0ZVJlZi5jdXJyZW50ID0gc3RhdGU7XG4gICAgfSwgW3N0YXRlXSk7XG4gICAgY29uc3QgcmVnaXN0ZXJJdGVtID0gdXNlQ2FsbGJhY2soXG4gICAgICAoZWxlbWVudCwgcGF0aDIsIGV4cGFuZGVkLCBzZWxlY3RlZCkgPT4gKHNldFN0YXRlKChzKSA9PiAoeyAuLi5zLCBbcGF0aDJdOiB7IGVsZW1lbnQsIGV4cGFuZGVkIH0gfSkpLCBzZWxlY3RlZCAmJiBzZXRGb2N1c2VkRWxlbWVudChlbGVtZW50KSwgKCkgPT4ge1xuICAgICAgICBzZXRTdGF0ZSgocykgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0geyAuLi5zIH07XG4gICAgICAgICAgcmV0dXJuIGRlbGV0ZSBuZXdTdGF0ZVtwYXRoMl0sIG5ld1N0YXRlO1xuICAgICAgICB9KTtcbiAgICAgIH0pLFxuICAgICAgW11cbiAgICApLCBzZXRFeHBhbmRlZCA9IHVzZUNhbGxiYWNrKChwYXRoMiwgZXhwYW5kZWQpID0+IHtcbiAgICAgIHNldFN0YXRlKChzKSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1TdGF0ZSA9IHNbcGF0aDJdO1xuICAgICAgICByZXR1cm4gaXRlbVN0YXRlID8geyAuLi5zLCBbcGF0aDJdOiB7IC4uLml0ZW1TdGF0ZSwgZXhwYW5kZWQgfSB9IDogcztcbiAgICAgIH0pO1xuICAgIH0sIFtdKSwgY29udGV4dFZhbHVlID0gdXNlTWVtbyhcbiAgICAgICgpID0+ICh7XG4gICAgICAgIHZlcnNpb246IDAsXG4gICAgICAgIGZvY3VzZWRFbGVtZW50OiBmb2N1c2VkRWxlbWVudCB8fCBpdGVtRWxlbWVudHNbMF0gfHwgbnVsbCxcbiAgICAgICAgbGV2ZWw6IDAsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIHJlZ2lzdGVySXRlbSxcbiAgICAgICAgc2V0RXhwYW5kZWQsXG4gICAgICAgIHNldEZvY3VzZWRFbGVtZW50LFxuICAgICAgICBzcGFjZSxcbiAgICAgICAgc3RhdGVcbiAgICAgIH0pLFxuICAgICAgW2ZvY3VzZWRFbGVtZW50LCBpdGVtRWxlbWVudHMsIHBhdGgsIHJlZ2lzdGVySXRlbSwgc2V0RXhwYW5kZWQsIHNwYWNlLCBzdGF0ZV1cbiAgICApLCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZm9jdXNlZEVsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dEb3duXCIpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCBuZXh0RWwgPSBfZmluZE5leHRJdGVtRWxlbWVudChcbiAgICAgICAgICAgICAgc3RhdGVSZWYuY3VycmVudCxcbiAgICAgICAgICAgICAgaXRlbUVsZW1lbnRzLFxuICAgICAgICAgICAgICBmb2N1c2VkRWxlbWVudFJlZi5jdXJyZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbmV4dEVsICYmIChfZm9jdXNJdGVtRWxlbWVudChuZXh0RWwpLCBzZXRGb2N1c2VkRWxlbWVudChuZXh0RWwpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCBwcmV2RWwgPSBfZmluZFByZXZJdGVtRWxlbWVudChcbiAgICAgICAgICAgICAgc3RhdGVSZWYuY3VycmVudCxcbiAgICAgICAgICAgICAgaXRlbUVsZW1lbnRzLFxuICAgICAgICAgICAgICBmb2N1c2VkRWxlbWVudFJlZi5jdXJyZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcHJldkVsICYmIChfZm9jdXNJdGVtRWxlbWVudChwcmV2RWwpLCBzZXRGb2N1c2VkRWxlbWVudChwcmV2RWwpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd0xlZnRcIikge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1LZXkgPSBmb2N1c2VkRWxlbWVudFJlZi5jdXJyZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdHJlZS1rZXlcIik7XG4gICAgICAgICAgICBpZiAoIWl0ZW1LZXkpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1TdGF0ZSA9IHN0YXRlUmVmLmN1cnJlbnRbaXRlbUtleV07XG4gICAgICAgICAgICBpZiAoIWl0ZW1TdGF0ZSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGl0ZW1TdGF0ZS5leHBhbmRlZClcbiAgICAgICAgICAgICAgc2V0U3RhdGUoKHMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtU3RhdGUyID0gc1tpdGVtS2V5XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbVN0YXRlMiA/IHsgLi4ucywgW2l0ZW1LZXldOiB7IC4uLml0ZW1TdGF0ZTIsIGV4cGFuZGVkOiAhMSB9IH0gOiBzO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBpdGVtUGF0aCA9IGl0ZW1LZXkuc3BsaXQoXCIvXCIpO1xuICAgICAgICAgICAgICBpdGVtUGF0aC5wb3AoKTtcbiAgICAgICAgICAgICAgY29uc3QgcGFyZW50S2V5ID0gaXRlbVBhdGguam9pbihcIi9cIiksIHBhcmVudFN0YXRlID0gcGFyZW50S2V5ICYmIHN0YXRlUmVmLmN1cnJlbnRbcGFyZW50S2V5XTtcbiAgICAgICAgICAgICAgcGFyZW50U3RhdGUgJiYgKHBhcmVudFN0YXRlLmVsZW1lbnQuZm9jdXMoKSwgc2V0Rm9jdXNlZEVsZW1lbnQocGFyZW50U3RhdGUuZWxlbWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93UmlnaHRcIikge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IGZvY3VzZWRLZXkgPSBmb2N1c2VkRWxlbWVudFJlZi5jdXJyZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdHJlZS1rZXlcIik7XG4gICAgICAgICAgICBpZiAoIWZvY3VzZWRLZXkpIHJldHVybjtcbiAgICAgICAgICAgIChfYSA9IHN0YXRlUmVmLmN1cnJlbnRbZm9jdXNlZEtleV0pICE9IG51bGwgJiYgX2EuZXhwYW5kZWQgfHwgc2V0U3RhdGUoKHMpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaXRlbVN0YXRlID0gc1tmb2N1c2VkS2V5XTtcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1TdGF0ZSA/IHsgLi4ucywgW2ZvY3VzZWRLZXldOiB7IC4uLml0ZW1TdGF0ZSwgZXhwYW5kZWQ6ICEwIH0gfSA6IHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbaXRlbUVsZW1lbnRzXVxuICAgICksIGhhbmRsZUZvY3VzID0gdXNlQ2FsbGJhY2soXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgc2V0Rm9jdXNlZEVsZW1lbnQoZXZlbnQudGFyZ2V0KSwgb25Gb2N1cyA9PSBudWxsIHx8IG9uRm9jdXMoZXZlbnQpO1xuICAgICAgfSxcbiAgICAgIFtvbkZvY3VzXVxuICAgICk7XG4gICAgcmV0dXJuIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoIXJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBjb25zdCBfaXRlbUVsZW1lbnRzID0gQXJyYXkuZnJvbShcbiAgICAgICAgcmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdWk9XCJUcmVlSXRlbVwiXScpXG4gICAgICApO1xuICAgICAgc2V0SXRlbUVsZW1lbnRzKF9pdGVtRWxlbWVudHMpO1xuICAgIH0sIFtjaGlsZHJlbl0pLCAvKiBAX19QVVJFX18gKi8ganN4KFRyZWVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0VmFsdWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgU3RhY2ssXG4gICAgICB7XG4gICAgICAgIGFzOiBcInVsXCIsXG4gICAgICAgIFwiZGF0YS11aVwiOiBcIlRyZWVcIixcbiAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgICBvbkZvY3VzOiBoYW5kbGVGb2N1cyxcbiAgICAgICAgb25LZXlEb3duOiBoYW5kbGVLZXlEb3duLFxuICAgICAgICByZWYsXG4gICAgICAgIHJvbGU6IFwidHJlZVwiLFxuICAgICAgICBzcGFjZSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgIH1cbiAgICApIH0pO1xuICB9KVxuKTtcblRyZWUuZGlzcGxheU5hbWUgPSBcIlRyZWVcIjtcbmZ1bmN0aW9uIHRyZWVJdGVtUm9vdFN0eWxlKCkge1xuICByZXR1cm4gY3NzYFxuICAgICZbcm9sZT0nbm9uZSddID4gW3JvbGU9J3RyZWVpdGVtJ10ge1xuICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcblxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1iZy1jb2xvcik7XG4gICAgICBjb2xvcjogdmFyKC0tdHJlZWl0ZW0tZmctY29sb3IpO1xuXG4gICAgICAmOmZvY3VzIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuICAgIH1cblxuICAgICZbcm9sZT0ndHJlZWl0ZW0nXSB7XG4gICAgICBvdXRsaW5lOiBub25lO1xuXG4gICAgICAmID4gZGl2IHtcbiAgICAgICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG5cbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1iZy1jb2xvcik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10cmVlaXRlbS1mZy1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgICY6Zm9jdXMgPiBkaXYge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB9XG4gICAgfVxuICBgO1xufVxuZnVuY3Rpb24gdHJlZUl0ZW1Sb290Q29sb3JTdHlsZShwcm9wcykge1xuICBjb25zdCAkdG9uZSA9IFwiZGVmYXVsdFwiLCB7IGNvbG9yIH0gPSBnZXRUaGVtZV92Mihwcm9wcy50aGVtZSksIHRvbmUgPSBjb2xvci5zZWxlY3RhYmxlWyR0b25lXTtcbiAgcmV0dXJuIGNzc2BcbiAgICAmW3JvbGU9J25vbmUnXSB7XG4gICAgICAmID4gW3JvbGU9J3RyZWVpdGVtJ10ge1xuICAgICAgICAke19jYXJkQ29sb3JTdHlsZShjb2xvciwgdG9uZS5lbmFibGVkKX1cbiAgICAgIH1cblxuICAgICAgJltkYXRhLXNlbGVjdGVkXSA+IFtyb2xlPSd0cmVlaXRlbSddIHtcbiAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIHRvbmUucHJlc3NlZCl9XG4gICAgICB9XG5cbiAgICAgIEBtZWRpYSAoaG92ZXI6IGhvdmVyKSB7XG4gICAgICAgICY6bm90KFtkYXRhLXNlbGVjdGVkXSkgPiBbcm9sZT0ndHJlZWl0ZW0nXTpub3QoOmZvY3VzKTpob3ZlciB7XG4gICAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIHRvbmUuaG92ZXJlZCl9XG4gICAgICAgIH1cblxuICAgICAgICAmID4gW3JvbGU9J3RyZWVpdGVtJ106Zm9jdXMge1xuICAgICAgICAgICR7X2NhcmRDb2xvclN0eWxlKGNvbG9yLCB0b25lLnNlbGVjdGVkKX1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICZbcm9sZT0ndHJlZWl0ZW0nXSB7XG4gICAgICAmID4gW2RhdGEtdWk9J1RyZWVJdGVtX19ib3gnXSB7XG4gICAgICAgICR7X2NhcmRDb2xvclN0eWxlKGNvbG9yLCB0b25lLmVuYWJsZWQpfVxuICAgICAgfVxuXG4gICAgICAmW2RhdGEtc2VsZWN0ZWRdID4gW2RhdGEtdWk9J1RyZWVJdGVtX19ib3gnXSB7XG4gICAgICAgICR7X2NhcmRDb2xvclN0eWxlKGNvbG9yLCB0b25lLnByZXNzZWQpfVxuICAgICAgfVxuXG4gICAgICBAbWVkaWEgKGhvdmVyOiBob3Zlcikge1xuICAgICAgICAmOm5vdChbZGF0YS1zZWxlY3RlZF0pOm5vdCg6Zm9jdXMpID4gW2RhdGEtdWk9J1RyZWVJdGVtX19ib3gnXTpob3ZlciB7XG4gICAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIHRvbmUuaG92ZXJlZCl9XG4gICAgICAgIH1cblxuICAgICAgICAmOmZvY3VzID4gW2RhdGEtdWk9J1RyZWVJdGVtX19ib3gnXSB7XG4gICAgICAgICAgJHtfY2FyZENvbG9yU3R5bGUoY29sb3IsIHRvbmUuc2VsZWN0ZWQpfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBgO1xufVxuZnVuY3Rpb24gdHJlZUl0ZW1Cb3hTdHlsZShwcm9wcykge1xuICBjb25zdCB7ICRsZXZlbCB9ID0gcHJvcHMsIHsgc3BhY2UgfSA9IGdldFRoZW1lX3YyKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIGNzc2BcbiAgICBwYWRkaW5nLWxlZnQ6ICR7cmVtKHNwYWNlWzJdICogJGxldmVsKX07XG5cbiAgICAmW2RhdGEtYXM9J2EnXSB7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgfVxuICBgO1xufVxuZnVuY3Rpb24gdXNlVHJlZSgpIHtcbiAgY29uc3QgdHJlZSA9IHVzZUNvbnRleHQoVHJlZUNvbnRleHQpO1xuICBpZiAoIXRyZWUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVHJlZTogbWlzc2luZyBjb250ZXh0IHZhbHVlXCIpO1xuICByZXR1cm4gdHJlZTtcbn1cbmNvbnN0IFRyZWVHcm91cCA9IG1lbW8oZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgZXhwYW5kZWQgPSAhMSwgLi4ucmVzdFByb3BzIH0gPSBwcm9wcywgdHJlZSA9IHVzZVRyZWUoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgU3RhY2ssXG4gICAge1xuICAgICAgYXM6IFwidWxcIixcbiAgICAgIFwiZGF0YS11aVwiOiBcIlRyZWVHcm91cFwiLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgaGlkZGVuOiAhZXhwYW5kZWQsXG4gICAgICBtYXJnaW5Ub3A6IHRyZWUuc3BhY2UsXG4gICAgICByb2xlOiBcImdyb3VwXCIsXG4gICAgICBzcGFjZTogdHJlZS5zcGFjZSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApO1xufSksIFJvb3QgPSBtZW1vKHN0eWxlZC5saSh0cmVlSXRlbVJvb3RTdHlsZSwgdHJlZUl0ZW1Sb290Q29sb3JTdHlsZSkpLCBUcmVlSXRlbUJveCA9IHN0eWxlZChCb3gpLmF0dHJzKHsgZm9yd2FyZGVkQXM6IFwiYVwiIH0pKHRyZWVJdGVtQm94U3R5bGUpLCBUb2dnbGVBcnJvd1RleHQgPSBzdHlsZWQoVGV4dClgXG4gICYgPiBzdmcge1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAxMDBtcztcbiAgfVxuYCwgVHJlZUl0ZW0gPSBtZW1vKGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBleHBhbmRlZDogZXhwYW5kZWRQcm9wID0gITEsXG4gICAgZm9udFNpemU6IGZvbnRTaXplMiA9IDEsXG4gICAgaHJlZixcbiAgICBpY29uOiBJY29uQ29tcG9uZW50LFxuICAgIGlkOiBpZFByb3AsXG4gICAgbGlua0FzLFxuICAgIG11dGVkLFxuICAgIG9uQ2xpY2ssXG4gICAgcGFkZGluZyA9IDIsXG4gICAgc2VsZWN0ZWQgPSAhMSxcbiAgICBzcGFjZSA9IDIsXG4gICAgdGV4dCxcbiAgICB3ZWlnaHQsXG4gICAgLi4ucmVzdFByb3BzXG4gIH0gPSBwcm9wcywgcm9vdFJlZiA9IHVzZVJlZihudWxsKSwgdHJlZWl0ZW1SZWYgPSB1c2VSZWYobnVsbCksIHRyZWUgPSB1c2VUcmVlKCksIHsgcGF0aCwgcmVnaXN0ZXJJdGVtLCBzZXRFeHBhbmRlZCwgc2V0Rm9jdXNlZEVsZW1lbnQgfSA9IHRyZWUsIF9pZCA9IHVzZUlkKCksIGlkID0gaWRQcm9wIHx8IF9pZCwgaXRlbVBhdGggPSB1c2VNZW1vKCgpID0+IHBhdGguY29uY2F0KFtpZCB8fCBcIlwiXSksIFtpZCwgcGF0aF0pLCBpdGVtS2V5ID0gaXRlbVBhdGguam9pbihcIi9cIiksIGl0ZW1TdGF0ZSA9IHRyZWUuc3RhdGVbaXRlbUtleV0sIGZvY3VzZWQgPSB0cmVlLmZvY3VzZWRFbGVtZW50ID09PSByb290UmVmLmN1cnJlbnQsIGV4cGFuZGVkID0gKGl0ZW1TdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogaXRlbVN0YXRlLmV4cGFuZGVkKSA9PT0gdm9pZCAwID8gZXhwYW5kZWRQcm9wIDogKGl0ZW1TdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogaXRlbVN0YXRlLmV4cGFuZGVkKSB8fCAhMSwgdGFiSW5kZXggPSB0cmVlLmZvY3VzZWRFbGVtZW50ICYmIHRyZWUuZm9jdXNlZEVsZW1lbnQgPT09IHJvb3RSZWYuY3VycmVudCA/IDAgOiAtMSwgY29udGV4dFZhbHVlID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoeyAuLi50cmVlLCBsZXZlbDogdHJlZS5sZXZlbCArIDEsIHBhdGg6IGl0ZW1QYXRoIH0pLFxuICAgIFtpdGVtUGF0aCwgdHJlZV1cbiAgKSwgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIG9uQ2xpY2sgJiYgb25DbGljayhldmVudCk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICB0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiAodGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtdWlcIikgPT09IFwiVHJlZUl0ZW1cIiB8fCB0YXJnZXQuY2xvc2VzdCgnW2RhdGEtdWk9XCJUcmVlSXRlbV9fYm94XCJdJykpICYmIChldmVudC5zdG9wUHJvcGFnYXRpb24oKSwgc2V0RXhwYW5kZWQoaXRlbUtleSwgIWV4cGFuZGVkKSwgc2V0Rm9jdXNlZEVsZW1lbnQocm9vdFJlZi5jdXJyZW50KSk7XG4gICAgfSxcbiAgICBbZXhwYW5kZWQsIGl0ZW1LZXksIG9uQ2xpY2ssIHNldEV4cGFuZGVkLCBzZXRGb2N1c2VkRWxlbWVudF1cbiAgKSwgaGFuZGxlS2V5RG93biA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgaWYgKGZvY3VzZWQgJiYgZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgY29uc3QgZWwgPSB0cmVlaXRlbVJlZi5jdXJyZW50IHx8IHJvb3RSZWYuY3VycmVudDtcbiAgICAgICAgZWwgPT0gbnVsbCB8fCBlbC5jbGljaygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2ZvY3VzZWRdXG4gICk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJvb3RSZWYuY3VycmVudClcbiAgICAgIHJldHVybiByZWdpc3Rlckl0ZW0ocm9vdFJlZi5jdXJyZW50LCBpdGVtUGF0aC5qb2luKFwiL1wiKSwgZXhwYW5kZWQsIHNlbGVjdGVkKTtcbiAgfSwgW2V4cGFuZGVkLCBpdGVtUGF0aCwgcmVnaXN0ZXJJdGVtLCBzZWxlY3RlZF0pO1xuICBjb25zdCBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIGpzeHMoRmxleCwgeyBwYWRkaW5nLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgQm94LFxuICAgICAge1xuICAgICAgICBtYXJnaW5SaWdodDogc3BhY2UsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgdmlzaWJpbGl0eTogSWNvbkNvbXBvbmVudCB8fCBjaGlsZHJlbiA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIixcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIlxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIEljb25Db21wb25lbnQgJiYgLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IG11dGVkLCBzaXplOiBmb250U2l6ZTIsIHdlaWdodCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goSWNvbkNvbXBvbmVudCwge30pIH0pLFxuICAgICAgICAgICFJY29uQ29tcG9uZW50ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goVG9nZ2xlQXJyb3dUZXh0LCB7IG11dGVkLCBzaXplOiBmb250U2l6ZTIsIHdlaWdodCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVG9nZ2xlQXJyb3dSaWdodEljb24sIHsgc3R5bGU6IHsgdHJhbnNmb3JtOiBleHBhbmRlZCA/IFwicm90YXRlKDkwZGVnKVwiIDogdm9pZCAwIH0gfSkgfSlcbiAgICAgICAgXVxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgZmxleDogMSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyBtdXRlZCwgc2l6ZTogZm9udFNpemUyLCB0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIiwgd2VpZ2h0LCBjaGlsZHJlbjogdGV4dCB9KSB9KVxuICBdIH0pO1xuICByZXR1cm4gaHJlZiA/IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFJvb3QsXG4gICAge1xuICAgICAgXCJkYXRhLXNlbGVjdGVkXCI6IHNlbGVjdGVkID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgIFwiZGF0YS10cmVlLWlkXCI6IGlkLFxuICAgICAgXCJkYXRhLXRyZWUta2V5XCI6IGl0ZW1LZXksXG4gICAgICBcImRhdGEtdWlcIjogXCJUcmVlSXRlbVwiLFxuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgb25DbGljazogaGFuZGxlQ2xpY2ssXG4gICAgICByZWY6IHJvb3RSZWYsXG4gICAgICByb2xlOiBcIm5vbmVcIixcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgVHJlZUl0ZW1Cb3gsXG4gICAgICAgICAge1xuICAgICAgICAgICAgJGxldmVsOiB0cmVlLmxldmVsLFxuICAgICAgICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IGV4cGFuZGVkLFxuICAgICAgICAgICAgYXM6IGxpbmtBcyxcbiAgICAgICAgICAgIFwiZGF0YS11aVwiOiBcIlRyZWVJdGVtX19ib3hcIixcbiAgICAgICAgICAgIGhyZWYsXG4gICAgICAgICAgICByZWY6IHRyZWVpdGVtUmVmLFxuICAgICAgICAgICAgcm9sZTogXCJ0cmVlaXRlbVwiLFxuICAgICAgICAgICAgdGFiSW5kZXgsXG4gICAgICAgICAgICBjaGlsZHJlbjogY29udGVudFxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChUcmVlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dFZhbHVlLCBjaGlsZHJlbjogY2hpbGRyZW4gJiYgLyogQF9fUFVSRV9fICovIGpzeChUcmVlR3JvdXAsIHsgaGlkZGVuOiAhZXhwYW5kZWQsIGNoaWxkcmVuIH0pIH0pXG4gICAgICBdXG4gICAgfVxuICApIDogLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgUm9vdCxcbiAgICB7XG4gICAgICBcImRhdGEtc2VsZWN0ZWRcIjogc2VsZWN0ZWQgPyBcIlwiIDogdm9pZCAwLFxuICAgICAgXCJkYXRhLXVpXCI6IFwiVHJlZUl0ZW1cIixcbiAgICAgIFwiZGF0YS10cmVlLWlkXCI6IGlkLFxuICAgICAgXCJkYXRhLXRyZWUta2V5XCI6IGl0ZW1LZXksXG4gICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICBcImFyaWEtZXhwYW5kZWRcIjogZXhwYW5kZWQsXG4gICAgICBvbkNsaWNrOiBoYW5kbGVDbGljayxcbiAgICAgIG9uS2V5RG93bjogaGFuZGxlS2V5RG93bixcbiAgICAgIHJlZjogcm9vdFJlZixcbiAgICAgIHJvbGU6IFwidHJlZWl0ZW1cIixcbiAgICAgIHRhYkluZGV4LFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChUcmVlSXRlbUJveCwgeyAkbGV2ZWw6IHRyZWUubGV2ZWwsIGFzOiBcImRpdlwiLCBcImRhdGEtdWlcIjogXCJUcmVlSXRlbV9fYm94XCIsIGNoaWxkcmVuOiBjb250ZW50IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFRyZWVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0VmFsdWUsIGNoaWxkcmVuOiBjaGlsZHJlbiAmJiAvKiBAX19QVVJFX18gKi8ganN4KFRyZWVHcm91cCwgeyBleHBhbmRlZCwgY2hpbGRyZW4gfSkgfSlcbiAgICAgIF1cbiAgICB9XG4gICk7XG59KTtcbmV4cG9ydCB7XG4gIEFycm93LFxuICBBdXRvY29tcGxldGUsXG4gIEF2YXRhcixcbiAgQXZhdGFyQ291bnRlcixcbiAgQXZhdGFyU3RhY2ssXG4gIEJhZGdlLFxuICBCb3VuZGFyeUVsZW1lbnRQcm92aWRlcixcbiAgQm94LFxuICBCcmVhZGNydW1icyxcbiAgQnV0dG9uLFxuICBDYXJkLFxuICBDaGVja2JveCxcbiAgQ29kZSxcbiAgQ29kZVNrZWxldG9uLFxuICBDb25kaXRpb25hbFdyYXBwZXIsXG4gIENvbnRhaW5lcixcbiAgRGlhbG9nLFxuICBEaWFsb2dDb250ZXh0LFxuICBEaWFsb2dQcm92aWRlcixcbiAgRWxlbWVudFF1ZXJ5LFxuICBFcnJvckJvdW5kYXJ5LFxuICBGbGV4LFxuICBHcmlkLFxuICBIZWFkaW5nLFxuICBIZWFkaW5nU2tlbGV0b24sXG4gIEhvdGtleXMsXG4gIElubGluZSxcbiAgS0JELFxuICBMYWJlbCxcbiAgTGFiZWxTa2VsZXRvbixcbiAgTGF5ZXIsXG4gIExheWVyUHJvdmlkZXIsXG4gIE1lbnUsXG4gIE1lbnVCdXR0b24sXG4gIE1lbnVEaXZpZGVyLFxuICBNZW51R3JvdXAsXG4gIE1lbnVJdGVtLFxuICBQb3BvdmVyLFxuICBQb3J0YWwsXG4gIFBvcnRhbFByb3ZpZGVyLFxuICBSYWRpbyxcbiAgU2VsZWN0LFxuICBTa2VsZXRvbixcbiAgU3Bpbm5lcixcbiAgU3JPbmx5LFxuICBTdGFjayxcbiAgU3dpdGNoLFxuICBUYWIsXG4gIFRhYkxpc3QsXG4gIFRhYlBhbmVsLFxuICBUZXh0LFxuICBUZXh0QXJlYSxcbiAgVGV4dElucHV0LFxuICBUZXh0U2tlbGV0b24sXG4gIFRoZW1lQ29sb3JQcm92aWRlcixcbiAgVGhlbWVQcm92aWRlcixcbiAgVG9hc3QsXG4gIFRvYXN0UHJvdmlkZXIsXG4gIFRvb2x0aXAsXG4gIFRvb2x0aXBEZWxheUdyb3VwQ29udGV4dCxcbiAgVG9vbHRpcERlbGF5R3JvdXBQcm92aWRlcixcbiAgVHJlZSxcbiAgVHJlZUl0ZW0sXG4gIFZpcnR1YWxMaXN0LFxuICBfUmVzaXplT2JzZXJ2ZXIsXG4gIF9lbGVtZW50U2l6ZU9ic2VydmVyLFxuICBfZmlsbENTU09iamVjdCxcbiAgX2dldEFycmF5UHJvcCxcbiAgX2dldFJlc3BvbnNpdmVTcGFjZSxcbiAgX2hhc0ZvY3VzLFxuICBfaXNFbnRlclRvQ2xpY2tFbGVtZW50LFxuICBfaXNTY3JvbGxhYmxlLFxuICBfcmFmLFxuICBfcmFmMixcbiAgX3Jlc3BvbnNpdmUsXG4gIGF0dGVtcHRGb2N1cyxcbiAgY29udGFpbnNPckVxdWFsc0VsZW1lbnQsXG4gIGNyZWF0ZUNvbG9yVGhlbWUsXG4gIGZvY3VzRmlyc3REZXNjZW5kYW50LFxuICBmb2N1c0xhc3REZXNjZW5kYW50LFxuICBoZXhUb1JnYixcbiAgaHNsVG9SZ2IsXG4gIGlzRm9jdXNhYmxlLFxuICBpc0hUTUxBbmNob3JFbGVtZW50LFxuICBpc0hUTUxCdXR0b25FbGVtZW50LFxuICBpc0hUTUxFbGVtZW50LFxuICBpc0hUTUxJbnB1dEVsZW1lbnQsXG4gIGlzSFRNTFNlbGVjdEVsZW1lbnQsXG4gIGlzSFRNTFRleHRBcmVhRWxlbWVudCxcbiAgbXVsdGlwbHksXG4gIHBhcnNlQ29sb3IsXG4gIHJlbSxcbiAgcmVzcG9uc2l2ZUNvZGVGb250U3R5bGUsXG4gIHJlc3BvbnNpdmVIZWFkaW5nRm9udCxcbiAgcmVzcG9uc2l2ZUxhYmVsRm9udCxcbiAgcmVzcG9uc2l2ZVRleHRBbGlnblN0eWxlLFxuICByZXNwb25zaXZlVGV4dEZvbnQsXG4gIHJnYlRvSGV4LFxuICByZ2JUb0hzbCxcbiAgcmdiYSxcbiAgc2NyZWVuLFxuICBzdHVkaW9UaGVtZSxcbiAgdXNlQXJyYXlQcm9wLFxuICB1c2VCb3VuZGFyeUVsZW1lbnQsXG4gIHVzZUNsaWNrT3V0c2lkZSxcbiAgdXNlQ3VzdG9tVmFsaWRpdHksXG4gIHVzZURpYWxvZyxcbiAgdXNlRWxlbWVudFJlY3QsXG4gIHVzZUVsZW1lbnRTaXplLFxuICB1c2VGb3J3YXJkZWRSZWYsXG4gIHVzZUdsb2JhbEtleURvd24sXG4gIHVzZUxheWVyLFxuICB1c2VNZWRpYUluZGV4LFxuICB1c2VQb3J0YWwsXG4gIHVzZVByZWZlcnNEYXJrLFxuICB1c2VQcmVmZXJzUmVkdWNlZE1vdGlvbixcbiAgdXNlUm9vdFRoZW1lLFxuICB1c2VUaGVtZSxcbiAgdXNlVGhlbWVfdjIsXG4gIHVzZVRvYXN0LFxuICB1c2VUb29sdGlwRGVsYXlHcm91cCxcbiAgdXNlVHJlZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/ui/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/ui/dist/theme.mjs":
/*!************************************************!*\
  !*** ./node_modules/@sanity/ui/dist/theme.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COLOR_CONFIG_AVATAR_COLORS: () => (/* binding */ COLOR_CONFIG_AVATAR_COLORS),\n/* harmony export */   COLOR_CONFIG_BLEND_KEYS: () => (/* binding */ COLOR_CONFIG_BLEND_KEYS),\n/* harmony export */   COLOR_CONFIG_CARD_KEYS: () => (/* binding */ COLOR_CONFIG_CARD_KEYS),\n/* harmony export */   COLOR_CONFIG_CARD_TONES: () => (/* binding */ COLOR_CONFIG_CARD_TONES),\n/* harmony export */   COLOR_CONFIG_INPUT_MODES: () => (/* binding */ COLOR_CONFIG_INPUT_MODES),\n/* harmony export */   COLOR_CONFIG_INPUT_STATES: () => (/* binding */ COLOR_CONFIG_INPUT_STATES),\n/* harmony export */   COLOR_CONFIG_STATES: () => (/* binding */ COLOR_CONFIG_STATES),\n/* harmony export */   COLOR_CONFIG_STATE_KEYS: () => (/* binding */ COLOR_CONFIG_STATE_KEYS),\n/* harmony export */   COLOR_CONFIG_STATE_TONES: () => (/* binding */ COLOR_CONFIG_STATE_TONES),\n/* harmony export */   THEME_COLOR_AVATAR_COLORS: () => (/* binding */ THEME_COLOR_AVATAR_COLORS),\n/* harmony export */   THEME_COLOR_BLEND_MODES: () => (/* binding */ THEME_COLOR_BLEND_MODES),\n/* harmony export */   THEME_COLOR_BUTTON_MODES: () => (/* binding */ THEME_COLOR_BUTTON_MODES),\n/* harmony export */   THEME_COLOR_CARD_TONES: () => (/* binding */ THEME_COLOR_CARD_TONES),\n/* harmony export */   THEME_COLOR_INPUT_MODES: () => (/* binding */ THEME_COLOR_INPUT_MODES),\n/* harmony export */   THEME_COLOR_INPUT_STATES: () => (/* binding */ THEME_COLOR_INPUT_STATES),\n/* harmony export */   THEME_COLOR_SCHEMES: () => (/* binding */ THEME_COLOR_SCHEMES),\n/* harmony export */   THEME_COLOR_STATES: () => (/* binding */ THEME_COLOR_STATES),\n/* harmony export */   THEME_COLOR_STATE_TONES: () => (/* binding */ THEME_COLOR_STATE_TONES),\n/* harmony export */   buildTheme: () => (/* binding */ buildTheme),\n/* harmony export */   createColorTheme: () => (/* binding */ createColorTheme),\n/* harmony export */   getContrastRatio: () => (/* binding */ getContrastRatio),\n/* harmony export */   getScopedTheme: () => (/* binding */ getScopedTheme),\n/* harmony export */   getTheme_v2: () => (/* reexport safe */ _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.getTheme_v2),\n/* harmony export */   hexToRgb: () => (/* binding */ hexToRgb),\n/* harmony export */   hslToRgb: () => (/* binding */ hslToRgb),\n/* harmony export */   isColorBlendModeValue: () => (/* binding */ isColorBlendModeValue),\n/* harmony export */   isColorButtonMode: () => (/* binding */ isColorButtonMode),\n/* harmony export */   isColorConfigBaseKey: () => (/* binding */ isColorConfigBaseKey),\n/* harmony export */   isColorConfigBaseTone: () => (/* binding */ isColorConfigBaseTone),\n/* harmony export */   isColorConfigBlendKey: () => (/* binding */ isColorConfigBlendKey),\n/* harmony export */   isColorConfigStateKey: () => (/* binding */ isColorConfigStateKey),\n/* harmony export */   isColorConfigStateTone: () => (/* binding */ isColorConfigStateTone),\n/* harmony export */   isColorHueKey: () => (/* binding */ isColorHueKey),\n/* harmony export */   isColorOpacityValue: () => (/* binding */ isColorOpacityValue),\n/* harmony export */   isColorTintKey: () => (/* binding */ isColorTintKey),\n/* harmony export */   isColorTokenValue: () => (/* binding */ isColorTokenValue),\n/* harmony export */   isColorValue: () => (/* binding */ isColorValue),\n/* harmony export */   is_v0: () => (/* binding */ is_v0),\n/* harmony export */   is_v2: () => (/* binding */ is_v2),\n/* harmony export */   mix: () => (/* binding */ mix),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   parseColor: () => (/* binding */ parseColor),\n/* harmony export */   parseTokenKey: () => (/* binding */ parseTokenKey),\n/* harmony export */   parseTokenValue: () => (/* binding */ parseTokenValue),\n/* harmony export */   rgbToHex: () => (/* binding */ rgbToHex),\n/* harmony export */   rgbToHsl: () => (/* binding */ rgbToHsl),\n/* harmony export */   rgba: () => (/* binding */ rgba),\n/* harmony export */   rgbaToRGBA: () => (/* binding */ rgbaToRGBA),\n/* harmony export */   screen: () => (/* binding */ screen),\n/* harmony export */   v0_v2: () => (/* binding */ v0_v2),\n/* harmony export */   v2_v0: () => (/* binding */ v2_v0)\n/* harmony export */ });\n/* harmony import */ var _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_chunks-es/getTheme_v2.mjs */ \"(ssr)/./node_modules/@sanity/ui/dist/_chunks-es/getTheme_v2.mjs\");\n/* harmony import */ var _sanity_color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sanity/color */ \"(ssr)/./node_modules/@sanity/color/dist/index.js\");\n\n\n\nfunction createSelectableTones(opts, base, dark, solid, muted) {\n  return {\n    default: _createSelectableStates(opts, base, dark, solid, muted, \"default\"),\n    primary: _createSelectableStates(opts, base, dark, solid, muted, \"primary\"),\n    positive: _createSelectableStates(opts, base, dark, solid, muted, \"positive\"),\n    caution: _createSelectableStates(opts, base, dark, solid, muted, \"caution\"),\n    critical: _createSelectableStates(opts, base, dark, solid, muted, \"critical\")\n  };\n}\nfunction _createSelectableStates(opts, base, dark, solid, muted, tone) {\n  return {\n    enabled: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: \"enabled\",\n      tone\n    }),\n    hovered: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: \"hovered\",\n      tone\n    }),\n    pressed: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: \"pressed\",\n      tone\n    }),\n    selected: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: \"selected\",\n      tone\n    }),\n    disabled: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: \"disabled\",\n      tone\n    })\n  };\n}\nfunction createSolidTones(opts, base, dark, name) {\n  return {\n    default: {\n      enabled: opts.solid({ base, dark, tone: \"default\", name, state: \"enabled\" }),\n      disabled: opts.solid({ base, dark, tone: \"default\", name, state: \"disabled\" }),\n      hovered: opts.solid({ base, dark, tone: \"default\", name, state: \"hovered\" }),\n      pressed: opts.solid({ base, dark, tone: \"default\", name, state: \"pressed\" }),\n      selected: opts.solid({ base, dark, tone: \"default\", name, state: \"selected\" })\n    },\n    transparent: {\n      enabled: opts.solid({ base, dark, tone: \"transparent\", name, state: \"enabled\" }),\n      disabled: opts.solid({ base, dark, tone: \"transparent\", name, state: \"disabled\" }),\n      hovered: opts.solid({ base, dark, tone: \"transparent\", name, state: \"hovered\" }),\n      pressed: opts.solid({ base, dark, tone: \"transparent\", name, state: \"pressed\" }),\n      selected: opts.solid({ base, dark, tone: \"transparent\", name, state: \"selected\" })\n    },\n    primary: {\n      enabled: opts.solid({ base, dark, tone: \"primary\", name, state: \"enabled\" }),\n      disabled: opts.solid({ base, dark, tone: \"primary\", name, state: \"disabled\" }),\n      hovered: opts.solid({ base, dark, tone: \"primary\", name, state: \"hovered\" }),\n      pressed: opts.solid({ base, dark, tone: \"primary\", name, state: \"pressed\" }),\n      selected: opts.solid({ base, dark, tone: \"primary\", name, state: \"selected\" })\n    },\n    positive: {\n      enabled: opts.solid({ base, dark, tone: \"positive\", name, state: \"enabled\" }),\n      disabled: opts.solid({ base, dark, tone: \"positive\", name, state: \"disabled\" }),\n      hovered: opts.solid({ base, dark, tone: \"positive\", name, state: \"hovered\" }),\n      pressed: opts.solid({ base, dark, tone: \"positive\", name, state: \"pressed\" }),\n      selected: opts.solid({ base, dark, tone: \"positive\", name, state: \"selected\" })\n    },\n    caution: {\n      enabled: opts.solid({ base, dark, tone: \"caution\", name, state: \"enabled\" }),\n      disabled: opts.solid({ base, dark, tone: \"caution\", name, state: \"disabled\" }),\n      hovered: opts.solid({ base, dark, tone: \"caution\", name, state: \"hovered\" }),\n      pressed: opts.solid({ base, dark, tone: \"caution\", name, state: \"pressed\" }),\n      selected: opts.solid({ base, dark, tone: \"caution\", name, state: \"selected\" })\n    },\n    critical: {\n      enabled: opts.solid({ base, dark, tone: \"critical\", name, state: \"enabled\" }),\n      disabled: opts.solid({ base, dark, tone: \"critical\", name, state: \"disabled\" }),\n      hovered: opts.solid({ base, dark, tone: \"critical\", name, state: \"hovered\" }),\n      pressed: opts.solid({ base, dark, tone: \"critical\", name, state: \"pressed\" }),\n      selected: opts.solid({ base, dark, tone: \"critical\", name, state: \"selected\" })\n    }\n  };\n}\nfunction createButtonTones(opts, base, dark, solid, muted, mode) {\n  return {\n    default: opts.button({\n      base,\n      dark,\n      solid: solid.default,\n      muted: muted.default,\n      mode\n    }),\n    primary: opts.button({\n      base,\n      dark,\n      solid: solid.primary,\n      muted: muted.primary,\n      mode\n    }),\n    positive: opts.button({\n      base,\n      dark,\n      solid: solid.positive,\n      muted: muted.positive,\n      mode\n    }),\n    caution: opts.button({\n      base,\n      dark,\n      solid: solid.caution,\n      muted: muted.caution,\n      mode\n    }),\n    critical: opts.button({\n      base,\n      dark,\n      solid: solid.critical,\n      muted: muted.critical,\n      mode\n    })\n  };\n}\nfunction createButtonModes(opts, base, dark, solid, muted) {\n  return {\n    default: createButtonTones(opts, base, dark, solid, muted, \"default\"),\n    ghost: createButtonTones(opts, base, dark, solid, muted, \"ghost\"),\n    bleed: createButtonTones(opts, base, dark, solid, muted, \"bleed\")\n  };\n}\nfunction createCardStates(opts, base, dark, name, solid, muted) {\n  return {\n    enabled: opts.card({\n      base,\n      dark,\n      name,\n      state: \"enabled\",\n      solid,\n      muted\n    }),\n    disabled: opts.card({\n      base,\n      dark,\n      name,\n      state: \"disabled\",\n      solid,\n      muted\n    }),\n    hovered: opts.card({\n      base,\n      dark,\n      name,\n      state: \"hovered\",\n      solid,\n      muted\n    }),\n    pressed: opts.card({\n      base,\n      dark,\n      name,\n      state: \"pressed\",\n      solid,\n      muted\n    }),\n    selected: opts.card({\n      base,\n      dark,\n      name,\n      state: \"selected\",\n      solid,\n      muted\n    })\n  };\n}\nconst black = \"hsl(0, 0%, 0%)\", white = \"hsl(0, 0%, 100%)\", colors = {\n  default: {\n    lightest: \"hsl(0, 0%, 95%)\",\n    lighter: \"hsl(0, 0%, 70%)\",\n    light: \"hsl(0, 0%, 65%)\",\n    base: \"hsl(0, 0%, 50%)\",\n    dark: \"hsl(0, 0%, 35%)\",\n    darker: \"hsl(0, 0%, 20%)\",\n    darkest: \"hsl(0, 0%, 5%)\"\n  },\n  transparent: {\n    lightest: \"hsl(240, 100%, 95%)\",\n    lighter: \"hsl(240, 100%, 70%)\",\n    light: \"hsl(240, 100%, 65%)\",\n    base: \"hsl(240, 100%, 50%)\",\n    dark: \"hsl(240, 100%, 35%)\",\n    darker: \"hsl(240, 100%, 20%)\",\n    darkest: \"hsl(240, 100%, 5%)\"\n  },\n  primary: {\n    lightest: \"hsl(240, 100%, 95%)\",\n    lighter: \"hsl(240, 100%, 70%)\",\n    light: \"hsl(240, 100%, 65%)\",\n    base: \"hsl(240, 100%, 50%)\",\n    dark: \"hsl(240, 100%, 35%)\",\n    darker: \"hsl(240, 100%, 20%)\",\n    darkest: \"hsl(240, 100%, 5%)\"\n  },\n  positive: {\n    lightest: \"hsl(120, 100%, 95%)\",\n    lighter: \"hsl(120, 100%, 70%)\",\n    light: \"hsl(120, 100%, 65%)\",\n    base: \"hsl(120, 100%, 50%)\",\n    dark: \"hsl(120, 100%, 35%)\",\n    darker: \"hsl(120, 100%, 20%)\",\n    darkest: \"hsl(120, 100%, 5%)\"\n  },\n  caution: {\n    lightest: \"hsl(60, 100%, 95%)\",\n    lighter: \"hsl(60, 100%, 70%)\",\n    light: \"hsl(60, 100%, 65%)\",\n    base: \"hsl(60, 100%, 50%)\",\n    dark: \"hsl(60, 100%, 35%)\",\n    darker: \"hsl(60, 100%, 20%)\",\n    darkest: \"hsl(60, 100%, 5%)\"\n  },\n  critical: {\n    lightest: \"hsl(0, 100%, 95%)\",\n    lighter: \"hsl(0, 100%, 70%)\",\n    light: \"hsl(0, 100%, 65%)\",\n    base: \"hsl(0, 100%, 50%)\",\n    dark: \"hsl(0, 100%, 35%)\",\n    darker: \"hsl(0, 100%, 20%)\",\n    darkest: \"hsl(0, 100%, 5%)\"\n  }\n}, spots = {\n  gray: \"hsl(0, 0%, 50%)\",\n  red: \"hsl(0, 100%, 50%)\",\n  orange: \"hsl(30, 100%, 50%)\",\n  yellow: \"hsl(60, 100%, 50%)\",\n  green: \"hsl(120, 100%, 50%)\",\n  cyan: \"hsl(180, 100%, 50%)\",\n  blue: \"hsl(240, 100%, 50%)\",\n  purple: \"hsl(270, 100%, 50%)\",\n  magenta: \"hsl(300, 100%, 50%)\"\n}, tones = {\n  transparent: {\n    bg: [colors.transparent.darkest, colors.transparent.lightest],\n    fg: [colors.transparent.lightest, colors.transparent.darkest],\n    border: [colors.transparent.darker, colors.transparent.lighter],\n    focusRing: [colors.transparent.base, colors.transparent.base]\n  },\n  primary: {\n    bg: [colors.primary.darkest, colors.primary.lightest],\n    fg: [colors.primary.lightest, colors.primary.darkest],\n    border: [colors.primary.darker, colors.primary.lighter],\n    focusRing: [colors.primary.base, colors.primary.base]\n  },\n  positive: {\n    bg: [colors.positive.darkest, colors.positive.lightest],\n    fg: [colors.positive.lightest, colors.positive.darkest],\n    border: [colors.positive.darker, colors.positive.lighter],\n    focusRing: [colors.positive.base, colors.positive.base]\n  },\n  caution: {\n    bg: [colors.caution.darkest, colors.caution.lightest],\n    fg: [colors.caution.lightest, colors.caution.darkest],\n    border: [colors.caution.darker, colors.caution.lighter],\n    focusRing: [colors.caution.base, colors.caution.base]\n  },\n  critical: {\n    bg: [colors.critical.darkest, colors.critical.lightest],\n    fg: [colors.critical.lightest, colors.critical.darkest],\n    border: [colors.critical.darker, colors.critical.lighter],\n    focusRing: [colors.critical.base, colors.critical.base]\n  }\n}, defaultOpts = {\n  base: ({ dark, name }) => name === \"default\" ? {\n    bg: dark ? black : white,\n    fg: dark ? white : black,\n    border: dark ? colors.default.darkest : colors.default.lightest,\n    focusRing: colors.primary.base,\n    shadow: {\n      outline: black,\n      umbra: black,\n      penumbra: black,\n      ambient: black\n    },\n    skeleton: {\n      from: dark ? white : black,\n      to: dark ? white : black\n    }\n  } : {\n    bg: tones[name].bg[dark ? 0 : 1],\n    fg: tones[name].fg[dark ? 0 : 1],\n    border: tones[name].border[dark ? 0 : 1],\n    focusRing: tones[name].focusRing[dark ? 0 : 1],\n    shadow: {\n      outline: black,\n      umbra: black,\n      penumbra: black,\n      ambient: black\n    },\n    skeleton: {\n      from: dark ? white : black,\n      to: dark ? white : black\n    }\n  },\n  solid: ({ base, dark, state, tone }) => {\n    const color2 = colors[tone];\n    return state === \"hovered\" ? {\n      bg: dark ? color2.light : color2.dark,\n      bg2: dark ? color2.light : color2.dark,\n      border: dark ? color2.lighter : color2.darker,\n      fg: dark ? color2.darkest : color2.lightest,\n      icon: dark ? color2.darkest : color2.lightest,\n      muted: {\n        fg: black\n      },\n      accent: {\n        fg: black\n      },\n      link: {\n        fg: black\n      },\n      code: {\n        bg: black,\n        fg: black\n      },\n      skeleton: base.skeleton\n    } : {\n      bg: color2.base,\n      bg2: color2.base,\n      border: dark ? color2.light : color2.dark,\n      fg: dark ? color2.darkest : color2.lightest,\n      icon: dark ? color2.darkest : color2.lightest,\n      muted: {\n        fg: black\n      },\n      accent: {\n        fg: black\n      },\n      link: {\n        fg: black\n      },\n      code: {\n        bg: black,\n        fg: black\n      },\n      skeleton: base.skeleton\n    };\n  },\n  muted: ({ base, dark, state, tone }) => {\n    const color2 = colors[tone];\n    return state === \"hovered\" ? {\n      bg: dark ? color2.darker : color2.lighter,\n      bg2: dark ? color2.darker : color2.lighter,\n      border: dark ? color2.lighter : color2.darker,\n      fg: dark ? color2.lightest : color2.darkest,\n      icon: dark ? color2.lightest : color2.darkest,\n      muted: {\n        fg: black\n      },\n      accent: {\n        fg: black\n      },\n      link: {\n        fg: black\n      },\n      code: {\n        bg: black,\n        fg: black\n      },\n      skeleton: base.skeleton\n    } : {\n      bg: dark ? color2.darkest : color2.lightest,\n      bg2: dark ? color2.darkest : color2.lightest,\n      border: dark ? color2.darker : color2.lighter,\n      fg: dark ? color2.lighter : color2.darker,\n      icon: dark ? color2.lighter : color2.darker,\n      muted: {\n        fg: black\n      },\n      accent: {\n        fg: black\n      },\n      link: {\n        fg: black\n      },\n      code: {\n        bg: black,\n        fg: black\n      },\n      skeleton: base.skeleton\n    };\n  },\n  button: ({ base, mode, muted, solid }) => mode === \"bleed\" ? {\n    ...muted,\n    enabled: {\n      bg: \"transparent\",\n      bg2: \"transparent\",\n      fg: muted.enabled.fg,\n      icon: muted.enabled.fg,\n      border: \"transparent\",\n      muted: {\n        fg: black\n      },\n      accent: {\n        fg: black\n      },\n      link: {\n        fg: black\n      },\n      code: {\n        bg: black,\n        fg: black\n      },\n      skeleton: base.skeleton\n    },\n    hovered: {\n      bg: muted.enabled.bg,\n      bg2: muted.enabled.bg,\n      fg: muted.hovered.fg,\n      icon: muted.hovered.fg,\n      border: \"transparent\",\n      muted: {\n        fg: black\n      },\n      accent: {\n        fg: black\n      },\n      link: {\n        fg: black\n      },\n      code: {\n        bg: black,\n        fg: black\n      },\n      skeleton: base.skeleton\n    }\n  } : mode === \"ghost\" ? {\n    ...solid,\n    enabled: muted.enabled\n  } : solid,\n  card: ({ base }) => ({\n    bg: black,\n    bg2: black,\n    fg: black,\n    icon: black,\n    border: black,\n    muted: {\n      fg: black\n    },\n    accent: {\n      fg: black\n    },\n    link: {\n      fg: black\n    },\n    code: {\n      bg: black,\n      fg: black\n    },\n    skeleton: base.skeleton\n  }),\n  input: () => ({\n    bg: black,\n    bg2: black,\n    fg: black,\n    border: black,\n    placeholder: black\n  }),\n  selectable: ({ muted, state, tone }) => muted[tone][state],\n  spot: ({ key }) => spots[key],\n  syntax: () => ({\n    atrule: black,\n    attrName: black,\n    attrValue: black,\n    attribute: black,\n    boolean: black,\n    builtin: black,\n    cdata: black,\n    char: black,\n    class: black,\n    className: black,\n    comment: black,\n    constant: black,\n    deleted: black,\n    doctype: black,\n    entity: black,\n    function: black,\n    hexcode: black,\n    id: black,\n    important: black,\n    inserted: black,\n    keyword: black,\n    number: black,\n    operator: black,\n    prolog: black,\n    property: black,\n    pseudoClass: black,\n    pseudoElement: black,\n    punctuation: black,\n    regex: black,\n    selector: black,\n    string: black,\n    symbol: black,\n    tag: black,\n    unit: black,\n    url: black,\n    variable: black\n  })\n};\nfunction createInputModes(opts, base, dark, solid, muted) {\n  return {\n    default: {\n      enabled: opts.input({\n        base,\n        dark,\n        mode: \"default\",\n        state: \"enabled\",\n        solid: solid.default,\n        muted: muted.default\n      }),\n      disabled: opts.input({\n        base,\n        dark,\n        mode: \"default\",\n        state: \"disabled\",\n        solid: solid.default,\n        muted: muted.default\n      }),\n      hovered: opts.input({\n        base,\n        dark,\n        mode: \"default\",\n        state: \"hovered\",\n        solid: solid.default,\n        muted: muted.default\n      }),\n      readOnly: opts.input({\n        base,\n        dark,\n        mode: \"default\",\n        state: \"readOnly\",\n        solid: solid.default,\n        muted: muted.default\n      })\n    },\n    invalid: {\n      enabled: opts.input({\n        base,\n        dark,\n        mode: \"invalid\",\n        state: \"enabled\",\n        solid: solid.default,\n        muted: muted.default\n      }),\n      disabled: opts.input({\n        base,\n        dark,\n        mode: \"invalid\",\n        state: \"disabled\",\n        solid: solid.default,\n        muted: muted.default\n      }),\n      hovered: opts.input({\n        base,\n        dark,\n        mode: \"invalid\",\n        state: \"hovered\",\n        solid: solid.default,\n        muted: muted.default\n      }),\n      readOnly: opts.input({\n        base,\n        dark,\n        mode: \"invalid\",\n        state: \"readOnly\",\n        solid: solid.default,\n        muted: muted.default\n      })\n    }\n  };\n}\nfunction createMutedTones(opts, base, dark, name) {\n  return {\n    default: {\n      enabled: opts.muted({ base, dark, tone: \"default\", name, state: \"enabled\" }),\n      disabled: opts.muted({ base, dark, tone: \"default\", name, state: \"disabled\" }),\n      hovered: opts.muted({ base, dark, tone: \"default\", name, state: \"hovered\" }),\n      pressed: opts.muted({ base, dark, tone: \"default\", name, state: \"pressed\" }),\n      selected: opts.muted({ base, dark, tone: \"default\", name, state: \"selected\" })\n    },\n    transparent: {\n      enabled: opts.muted({ base, dark, tone: \"transparent\", name, state: \"enabled\" }),\n      disabled: opts.muted({ base, dark, tone: \"transparent\", name, state: \"disabled\" }),\n      hovered: opts.muted({ base, dark, tone: \"transparent\", name, state: \"hovered\" }),\n      pressed: opts.muted({ base, dark, tone: \"transparent\", name, state: \"pressed\" }),\n      selected: opts.muted({ base, dark, tone: \"transparent\", name, state: \"selected\" })\n    },\n    primary: {\n      enabled: opts.muted({ base, dark, tone: \"primary\", name, state: \"enabled\" }),\n      disabled: opts.muted({ base, dark, tone: \"primary\", name, state: \"disabled\" }),\n      hovered: opts.muted({ base, dark, tone: \"primary\", name, state: \"hovered\" }),\n      pressed: opts.muted({ base, dark, tone: \"primary\", name, state: \"pressed\" }),\n      selected: opts.muted({ base, dark, tone: \"primary\", name, state: \"selected\" })\n    },\n    positive: {\n      enabled: opts.muted({ base, dark, tone: \"positive\", name, state: \"enabled\" }),\n      disabled: opts.muted({ base, dark, tone: \"positive\", name, state: \"disabled\" }),\n      hovered: opts.muted({ base, dark, tone: \"positive\", name, state: \"hovered\" }),\n      pressed: opts.muted({ base, dark, tone: \"positive\", name, state: \"pressed\" }),\n      selected: opts.muted({ base, dark, tone: \"positive\", name, state: \"selected\" })\n    },\n    caution: {\n      enabled: opts.muted({ base, dark, tone: \"caution\", name, state: \"enabled\" }),\n      disabled: opts.muted({ base, dark, tone: \"caution\", name, state: \"disabled\" }),\n      hovered: opts.muted({ base, dark, tone: \"caution\", name, state: \"hovered\" }),\n      pressed: opts.muted({ base, dark, tone: \"caution\", name, state: \"pressed\" }),\n      selected: opts.muted({ base, dark, tone: \"caution\", name, state: \"selected\" })\n    },\n    critical: {\n      enabled: opts.muted({ base, dark, tone: \"critical\", name, state: \"enabled\" }),\n      disabled: opts.muted({ base, dark, tone: \"critical\", name, state: \"disabled\" }),\n      hovered: opts.muted({ base, dark, tone: \"critical\", name, state: \"hovered\" }),\n      pressed: opts.muted({ base, dark, tone: \"critical\", name, state: \"pressed\" }),\n      selected: opts.muted({ base, dark, tone: \"critical\", name, state: \"selected\" })\n    }\n  };\n}\nfunction createSpot(opts, base, dark) {\n  return {\n    gray: opts.spot({ base, dark, key: \"gray\" }),\n    blue: opts.spot({ base, dark, key: \"blue\" }),\n    purple: opts.spot({ base, dark, key: \"purple\" }),\n    magenta: opts.spot({ base, dark, key: \"magenta\" }),\n    red: opts.spot({ base, dark, key: \"red\" }),\n    orange: opts.spot({ base, dark, key: \"orange\" }),\n    yellow: opts.spot({ base, dark, key: \"yellow\" }),\n    green: opts.spot({ base, dark, key: \"green\" }),\n    cyan: opts.spot({ base, dark, key: \"cyan\" })\n  };\n}\nfunction createColorTheme(partialOpts = {}) {\n  const builders = { ...defaultOpts, ...partialOpts };\n  return {\n    light: _createColorScheme(builders, !1),\n    dark: _createColorScheme(builders, !0)\n  };\n}\nfunction _createColorScheme(opts, dark) {\n  return {\n    default: _createColor(opts, dark, \"default\"),\n    transparent: _createColor(opts, dark, \"transparent\"),\n    primary: _createColor(opts, dark, \"primary\"),\n    positive: _createColor(opts, dark, \"positive\"),\n    caution: _createColor(opts, dark, \"caution\"),\n    critical: _createColor(opts, dark, \"critical\")\n  };\n}\nfunction _createColor(opts, dark, name) {\n  const base = opts.base({ dark, name }), solid = createSolidTones(opts, base, dark, name), muted = createMutedTones(opts, base, dark, name);\n  return {\n    base,\n    button: createButtonModes(opts, base, dark, solid, muted),\n    card: createCardStates(opts, base, dark, name, solid, muted),\n    dark,\n    input: createInputModes(opts, base, dark, solid, muted),\n    selectable: createSelectableTones(opts, base, dark, solid, muted),\n    spot: createSpot(opts, base, dark),\n    syntax: opts.syntax({ base, dark }),\n    solid,\n    muted\n  };\n}\nconst defaultThemeFonts = {\n  code: {\n    family: \"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace\",\n    weights: {\n      regular: 400,\n      medium: 500,\n      semibold: 600,\n      bold: 700\n    },\n    sizes: [\n      {\n        ascenderHeight: 4,\n        descenderHeight: 4,\n        fontSize: 10,\n        iconSize: 17,\n        lineHeight: 15,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 13,\n        iconSize: 21,\n        lineHeight: 19,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 16,\n        iconSize: 25,\n        lineHeight: 23,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 19,\n        iconSize: 29,\n        lineHeight: 27,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 8,\n        descenderHeight: 8,\n        fontSize: 22,\n        iconSize: 33,\n        lineHeight: 31,\n        letterSpacing: 0\n      }\n    ]\n  },\n  heading: {\n    family: 'Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", \"Liberation Sans\", Helvetica, Arial, system-ui, sans-serif',\n    weights: {\n      regular: 700,\n      medium: 800,\n      semibold: 900,\n      bold: 900\n    },\n    sizes: [\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 13,\n        iconSize: 17,\n        lineHeight: 19,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 16,\n        iconSize: 25,\n        lineHeight: 23,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 21,\n        iconSize: 33,\n        lineHeight: 29,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 8,\n        descenderHeight: 8,\n        fontSize: 27,\n        iconSize: 41,\n        lineHeight: 35,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 9.5,\n        descenderHeight: 8.5,\n        fontSize: 33,\n        iconSize: 49,\n        lineHeight: 41,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 10.5,\n        descenderHeight: 9.5,\n        fontSize: 38,\n        iconSize: 53,\n        lineHeight: 47,\n        letterSpacing: 0\n      }\n    ]\n  },\n  label: {\n    family: 'Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", \"Liberation Sans\", system-ui, sans-serif',\n    weights: {\n      regular: 600,\n      medium: 700,\n      semibold: 800,\n      bold: 900\n    },\n    sizes: [\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 8.1,\n        iconSize: 13,\n        lineHeight: 10,\n        letterSpacing: 0.5\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 9.5,\n        iconSize: 15,\n        lineHeight: 11,\n        letterSpacing: 0.5\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 10.8,\n        iconSize: 17,\n        lineHeight: 12,\n        letterSpacing: 0.5\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 12.25,\n        iconSize: 19,\n        lineHeight: 13,\n        letterSpacing: 0.5\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 13.6,\n        iconSize: 21,\n        lineHeight: 14,\n        letterSpacing: 0.5\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 15,\n        iconSize: 23,\n        lineHeight: 15,\n        letterSpacing: 0.5\n      }\n    ]\n  },\n  text: {\n    family: 'Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", \"Liberation Sans\", Helvetica, Arial, system-ui, sans-serif',\n    weights: {\n      regular: 400,\n      medium: 500,\n      semibold: 600,\n      bold: 700\n    },\n    sizes: [\n      {\n        ascenderHeight: 4,\n        descenderHeight: 4,\n        fontSize: 10,\n        iconSize: 17,\n        lineHeight: 15,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 13,\n        iconSize: 21,\n        lineHeight: 19,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 15,\n        iconSize: 25,\n        lineHeight: 23,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 18,\n        iconSize: 29,\n        lineHeight: 27,\n        letterSpacing: 0\n      },\n      {\n        ascenderHeight: 8,\n        descenderHeight: 8,\n        fontSize: 21,\n        iconSize: 33,\n        lineHeight: 31,\n        letterSpacing: 0\n      }\n    ]\n  }\n};\nfunction is_v0(themeProp) {\n  return themeProp._version === 0;\n}\nfunction is_v2(themeProp) {\n  return themeProp._version === 2;\n}\nconst cache$2 = /* @__PURE__ */ new WeakMap();\nfunction v0_v2(v0) {\n  if (v0.v2) return v0.v2;\n  const cached_v2 = cache$2.get(v0);\n  if (cached_v2) return cached_v2;\n  const {\n    avatar,\n    button,\n    color: color2,\n    container,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusRing: _unused_focusRing,\n    fonts: font,\n    input,\n    layer,\n    media,\n    radius,\n    shadows: shadow,\n    space,\n    styles: style\n  } = v0, v2 = {\n    _version: 2,\n    avatar: {\n      ..._chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.avatar,\n      ...avatar\n    },\n    button: {\n      ..._chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.button,\n      ...button\n    },\n    card: _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.card,\n    color: {\n      light: {\n        transparent: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.light.transparent),\n        default: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.light.default),\n        primary: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.light.primary),\n        positive: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.light.positive),\n        caution: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.light.caution),\n        critical: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.light.critical)\n      },\n      dark: {\n        transparent: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.dark.transparent),\n        default: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.dark.default),\n        primary: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.dark.primary),\n        positive: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.dark.positive),\n        caution: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.dark.caution),\n        critical: (0,_chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.themeColor_v0_v2)(color2.dark.critical)\n      }\n    },\n    container,\n    font,\n    input: {\n      ..._chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.input,\n      ...input,\n      checkbox: {\n        ..._chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.input.checkbox,\n        ...input.checkbox\n      },\n      radio: {\n        ..._chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.input.radio,\n        ...input.radio\n      },\n      switch: {\n        ..._chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.input.switch,\n        ...input.switch\n      }\n    },\n    layer: layer != null ? layer : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.layer,\n    media,\n    radius,\n    shadow,\n    space,\n    style\n  };\n  return cache$2.set(v0, v2), v2;\n}\nconst cache$1 = /* @__PURE__ */ new WeakMap();\nfunction v2_v0(v2) {\n  const cachedTheme = cache$1.get(v2);\n  if (cachedTheme) return cachedTheme;\n  const {\n    avatar,\n    button,\n    color: color2,\n    container,\n    font: fonts,\n    input,\n    media,\n    radius,\n    shadow: shadows,\n    space,\n    style: styles\n  } = v2;\n  return {\n    _version: 0,\n    avatar,\n    button,\n    container,\n    color: {\n      light: {\n        transparent: themeColor_v2_v0(color2.light.transparent),\n        default: themeColor_v2_v0(color2.light.default),\n        primary: themeColor_v2_v0(color2.light.primary),\n        positive: themeColor_v2_v0(color2.light.positive),\n        caution: themeColor_v2_v0(color2.light.caution),\n        critical: themeColor_v2_v0(color2.light.critical)\n      },\n      dark: {\n        transparent: themeColor_v2_v0(color2.dark.transparent),\n        default: themeColor_v2_v0(color2.dark.default),\n        primary: themeColor_v2_v0(color2.dark.primary),\n        positive: themeColor_v2_v0(color2.dark.positive),\n        caution: themeColor_v2_v0(color2.dark.caution),\n        critical: themeColor_v2_v0(color2.dark.critical)\n      }\n    },\n    focusRing: input.text.focusRing,\n    fonts,\n    input,\n    media,\n    radius,\n    shadows,\n    space,\n    styles,\n    v2\n  };\n}\nfunction themeColor_v2_v0(color_v2) {\n  return {\n    base: {\n      bg: color_v2.bg,\n      fg: color_v2.fg,\n      border: color_v2.border,\n      focusRing: color_v2.focusRing,\n      shadow: color_v2.shadow\n    },\n    button: color_v2.button,\n    card: color_v2.selectable.default,\n    dark: color_v2._dark,\n    input: {\n      default: inputStatesThemeColor_v2_v0(color_v2.input.default),\n      invalid: inputStatesThemeColor_v2_v0(color_v2.input.invalid)\n    },\n    muted: {\n      ...color_v2.button.ghost,\n      transparent: color_v2.button.ghost.default\n    },\n    solid: {\n      ...color_v2.button.default,\n      transparent: color_v2.button.default.default\n    },\n    selectable: color_v2.selectable,\n    spot: {\n      gray: color_v2.avatar.gray.bg,\n      blue: color_v2.avatar.blue.bg,\n      purple: color_v2.avatar.purple.bg,\n      magenta: color_v2.avatar.magenta.bg,\n      red: color_v2.avatar.red.bg,\n      orange: color_v2.avatar.orange.bg,\n      yellow: color_v2.avatar.yellow.bg,\n      green: color_v2.avatar.green.bg,\n      cyan: color_v2.avatar.cyan.bg\n    },\n    syntax: color_v2.syntax\n  };\n}\nfunction inputStatesThemeColor_v2_v0(t) {\n  return {\n    enabled: inputStateThemeColor_v2_v0(t.enabled),\n    disabled: inputStateThemeColor_v2_v0(t.disabled),\n    readOnly: inputStateThemeColor_v2_v0(t.readOnly),\n    hovered: inputStateThemeColor_v2_v0(t.hovered)\n  };\n}\nfunction inputStateThemeColor_v2_v0(t) {\n  return {\n    bg: t.bg,\n    bg2: t.muted.bg,\n    border: t.border,\n    fg: t.fg,\n    placeholder: t.placeholder\n  };\n}\nconst THEME_COLOR_SCHEMES = [\"light\", \"dark\"], THEME_COLOR_BLEND_MODES = [\"multiply\", \"screen\"], THEME_COLOR_CARD_TONES = [\n  \"transparent\",\n  \"default\",\n  \"primary\",\n  \"positive\",\n  \"caution\",\n  \"critical\"\n], THEME_COLOR_STATE_TONES = [\n  \"default\",\n  \"primary\",\n  \"positive\",\n  \"caution\",\n  \"critical\"\n], THEME_COLOR_STATES = [\"enabled\", \"hovered\", \"pressed\", \"selected\", \"disabled\"], THEME_COLOR_BUTTON_MODES = [\"default\", \"ghost\", \"bleed\"], THEME_COLOR_INPUT_MODES = [\"default\", \"invalid\"], THEME_COLOR_INPUT_STATES = [\"enabled\", \"hovered\", \"readOnly\", \"disabled\"], THEME_COLOR_AVATAR_COLORS = _sanity_color__WEBPACK_IMPORTED_MODULE_1__.COLOR_HUES;\nfunction isColorBlendModeValue(str) {\n  return THEME_COLOR_BLEND_MODES.includes(str);\n}\nfunction isColorHueKey(str) {\n  return _sanity_color__WEBPACK_IMPORTED_MODULE_1__.COLOR_HUES.includes(str);\n}\nfunction isColorTintKey(str) {\n  return _sanity_color__WEBPACK_IMPORTED_MODULE_1__.COLOR_TINTS.includes(str);\n}\nfunction isColorButtonMode(str) {\n  return THEME_COLOR_BUTTON_MODES.includes(str);\n}\nconst COLOR_CONFIG_STATE_KEYS = [\n  \"_hue\",\n  \"bg\",\n  \"fg\",\n  \"border\",\n  \"focusRing\",\n  \"muted/fg\",\n  \"accent/fg\",\n  \"link/fg\",\n  \"code/bg\",\n  \"code/fg\",\n  \"skeleton/from\",\n  \"skeleton/to\",\n  \"status/dot\",\n  \"status/icon\"\n], COLOR_CONFIG_CARD_KEYS = [\n  ...COLOR_CONFIG_STATE_KEYS,\n  \"_hue\",\n  \"bg\",\n  \"fg\",\n  \"border\",\n  \"focusRing\",\n  \"shadow/outline\",\n  \"shadow/umbra\",\n  \"shadow/penumbra\",\n  \"shadow/ambient\"\n], COLOR_CONFIG_BLEND_KEYS = [\"_blend\"], COLOR_CONFIG_AVATAR_COLORS = [\"*\", ...THEME_COLOR_AVATAR_COLORS], COLOR_CONFIG_CARD_TONES = [\"*\", ...THEME_COLOR_CARD_TONES], COLOR_CONFIG_STATE_TONES = [\"*\", ...THEME_COLOR_STATE_TONES], COLOR_CONFIG_STATES = [\"*\", ...THEME_COLOR_STATES], COLOR_CONFIG_INPUT_MODES = [\"*\", ...THEME_COLOR_INPUT_MODES], COLOR_CONFIG_INPUT_STATES = [\"*\", ...THEME_COLOR_INPUT_STATES];\nfunction parseTokenKey(str) {\n  const segments = str.split(\"/\"), segment0 = segments.shift() || \"\";\n  if (isColorConfigBaseTone(segment0)) {\n    const key = segments.join(\"/\");\n    if (isColorConfigBaseKey(key))\n      return {\n        type: \"base\",\n        tone: segment0,\n        key\n      };\n    if (isColorConfigBlendKey(key))\n      return {\n        type: \"base\",\n        tone: segment0,\n        key\n      };\n  }\n  if (segment0 === \"button\") {\n    const segment1 = segments.shift() || \"\";\n    if (isColorConfigStateTone(segment1)) {\n      const segment2 = segments.shift() || \"\";\n      if (isColorButtonMode(segment2)) {\n        const key = segments.join(\"/\");\n        if (isColorConfigStateKey(key))\n          return {\n            type: \"button\",\n            tone: segment1,\n            mode: segment2,\n            key\n          };\n        if (isColorConfigBlendKey(key))\n          return {\n            type: \"button\",\n            tone: segment1,\n            mode: segment2,\n            key\n          };\n      }\n    }\n  }\n}\nfunction isColorMixPercentValue(str) {\n  return /^\\d+%$/.test(str);\n}\nfunction parseTokenValue(str) {\n  const segments = str.split(\"/\");\n  let nextSegment = segments.shift() || \"\";\n  const [segment0, segment0mix] = nextSegment.split(\" \");\n  if (isColorTintKey(segment0)) {\n    const tint = segment0, segment1 = segments.shift() || \"\";\n    if (isColorMixPercentValue(segment0mix)) {\n      const mix2 = Number(segment0mix.slice(0, -1)) / 100;\n      return {\n        type: \"color\",\n        tint,\n        mix: mix2\n      };\n    }\n    if (isColorOpacityValue(segment1)) {\n      const opacity = Number(segment1);\n      return {\n        type: \"color\",\n        tint,\n        opacity\n      };\n    }\n    return {\n      type: \"color\",\n      tint\n    };\n  }\n  if (isColorValue(segment0)) {\n    const key = segment0, segment1 = segments.shift() || \"\";\n    if (isColorMixPercentValue(segment0mix)) {\n      const mix2 = Number(segment0mix.slice(0, -1)) / 100;\n      return {\n        type: \"color\",\n        key,\n        mix: mix2\n      };\n    }\n    if (isColorOpacityValue(segment1)) {\n      const opacity = Number(segment1);\n      return {\n        type: \"color\",\n        key,\n        opacity\n      };\n    }\n    return {\n      type: \"color\",\n      key\n    };\n  }\n  if (isColorHueKey(segment0)) {\n    const hue = segment0;\n    nextSegment = segments.shift() || \"\";\n    const [segment1, segment1mix] = nextSegment.split(\" \");\n    if (isColorTintKey(segment1)) {\n      const tint = segment1, segment2 = segments.shift() || \"\";\n      if (isColorMixPercentValue(segment1mix)) {\n        const mix2 = Number(segment1mix.slice(0, -1)) / 100;\n        return {\n          type: \"color\",\n          hue,\n          tint,\n          mix: mix2\n        };\n      }\n      if (isColorOpacityValue(segment2)) {\n        const opacity = Number(segment2);\n        return {\n          type: \"color\",\n          hue,\n          tint,\n          opacity\n        };\n      }\n      return {\n        type: \"color\",\n        hue,\n        tint\n      };\n    }\n    return {\n      type: \"hue\",\n      value: hue\n    };\n  }\n  if (isColorBlendModeValue(segment0))\n    return {\n      type: \"blendMode\",\n      value: segment0\n    };\n}\nfunction isColorConfigBaseTone(str) {\n  return COLOR_CONFIG_CARD_TONES.includes(str);\n}\nfunction isColorConfigBaseKey(str) {\n  return COLOR_CONFIG_CARD_KEYS.includes(str);\n}\nfunction isColorConfigStateKey(str) {\n  return COLOR_CONFIG_STATE_KEYS.includes(str);\n}\nfunction isColorConfigStateTone(str) {\n  return COLOR_CONFIG_STATE_TONES.includes(str);\n}\nfunction isColorConfigBlendKey(str) {\n  return COLOR_CONFIG_BLEND_KEYS.includes(str);\n}\nfunction isColorTokenValue(str) {\n  var _a, _b;\n  return ((_a = parseTokenValue(str)) == null ? void 0 : _a.type) === \"color\" || ((_b = parseTokenValue(str)) == null ? void 0 : _b.type) === \"hue\";\n}\nfunction isColorValue(str) {\n  return str === \"black\" || str === \"white\";\n}\nfunction isColorOpacityValue(str) {\n  return str === \"0\" || /^0\\.[0-9]+$/.test(str) || str === \"1\";\n}\nfunction compileColorTokenValue(node) {\n  let key = \"\";\n  return node.key === \"black\" || node.key === \"white\" ? key = node.key : key = `${node.hue}/${node.tint}`, node.mix !== void 0 ? `${key} ${node.mix * 100}%` : (node.opacity !== void 0 && (key += `/${node.opacity}`), key);\n}\nconst DEFAULT_COLOR_TOKEN_VALUE = [\"500\", \"500\"];\nfunction resolveColorTokenValue(context, value = DEFAULT_COLOR_TOKEN_VALUE) {\n  const { hue, scheme } = context, node = parseTokenValue(value[scheme === \"light\" ? 0 : 1]);\n  if (!node || node.type !== \"color\")\n    throw new Error(`Invalid color token: ${value[0]}`);\n  return compileColorTokenValue({ ...node, hue: node.hue || hue });\n}\nconst defaultColorTokens = {\n  base: {\n    \"*\": {\n      _blend: [\"multiply\", \"screen\"],\n      accent: {\n        fg: [\"purple/600\", \"purple/400\"]\n      },\n      avatar: {\n        \"*\": {\n          _blend: [\"screen\", \"multiply\"],\n          bg: [\"500\", \"400\"],\n          fg: [\"white\", \"black\"]\n        }\n      },\n      backdrop: [\"gray/200/0.5\", \"black/0.5\"],\n      badge: {\n        \"*\": {\n          bg: [\"100\", \"900\"],\n          fg: [\"600\", \"400\"],\n          icon: [\"500\", \"500\"],\n          dot: [\"500\", \"500\"]\n        },\n        positive: {\n          bg: [\"200 50%\", \"900\"],\n          fg: [\"600\", \"500\"]\n        },\n        caution: {\n          bg: [\"200 50%\", \"900\"],\n          fg: [\"600\", \"500\"]\n        }\n      },\n      bg: [\"50\", \"950\"],\n      border: [\"200\", \"800\"],\n      code: {\n        bg: [\"50\", \"950\"],\n        fg: [\"600\", \"400\"]\n      },\n      fg: [\"800\", \"200\"],\n      focusRing: [\"blue/500\", \"blue/500\"],\n      icon: [\"600\", \"400\"],\n      kbd: {\n        bg: [\"white\", \"black\"],\n        fg: [\"600\", \"400\"],\n        border: [\"200\", \"800\"]\n      },\n      link: {\n        fg: [\"blue/600\", \"blue/300\"]\n      },\n      muted: {\n        bg: [\"50\", \"950\"],\n        fg: [\"700 75%\", \"300 75%\"]\n      },\n      shadow: {\n        outline: [\"500/0.3\", \"500/0.4\"],\n        umbra: [\"gray/500/0.1\", \"black/0.2\"],\n        penumbra: [\"gray/500/0.07\", \"black/0.14\"],\n        ambient: [\"gray/500/0.06\", \"black/0.12\"]\n      },\n      skeleton: {\n        from: [\"100\", \"900\"],\n        to: [\"100 50%\", \"900 50%\"]\n      }\n    },\n    transparent: {\n      bg: [\"50\", \"black\"]\n    },\n    default: {\n      bg: [\"white\", \"950\"],\n      fg: [\"800\", \"200\"],\n      muted: {\n        fg: [\"600\", \"400\"]\n      }\n    },\n    primary: { _hue: \"blue\" },\n    positive: {\n      _hue: \"green\",\n      shadow: { outline: [\"500/0.4\", \"500/0.4\"] }\n    },\n    caution: {\n      _hue: \"yellow\",\n      shadow: { outline: [\"600/0.3\", \"500/0.4\"] }\n    },\n    critical: { _hue: \"red\" }\n  },\n  button: {\n    default: {\n      \"*\": {\n        \"*\": {\n          _blend: [\"screen\", \"multiply\"],\n          accent: {\n            fg: [\"purple/300\", \"purple/700\"]\n          },\n          avatar: {\n            \"*\": {\n              _blend: [\"screen\", \"multiply\"],\n              bg: [\"500\", \"400\"],\n              fg: [\"white\", \"black\"]\n            }\n          },\n          badge: {\n            \"*\": {\n              bg: [\"900\", \"100\"],\n              fg: [\"400\", \"600\"],\n              dot: [\"500\", \"500\"],\n              icon: [\"500\", \"500\"]\n            }\n          },\n          bg: [\"500\", \"400\"],\n          border: [\"500/0\", \"400/0\"],\n          code: {\n            bg: [\"500 20%\", \"400 20%\"],\n            fg: [\"200\", \"600\"]\n          },\n          fg: [\"white\", \"black\"],\n          icon: [\"100 70%\", \"900 70%\"],\n          kbd: {\n            bg: [\"black\", \"white\"],\n            fg: [\"200\", \"600\"],\n            border: [\"800\", \"200\"]\n          },\n          link: {\n            fg: [\"blue/200\", \"blue/600\"]\n          },\n          muted: {\n            bg: [\"950\", \"50\"],\n            fg: [\"100 70%\", \"900 70%\"]\n          },\n          skeleton: {\n            from: [\"900\", \"100\"],\n            to: [\"900 50%\", \"100 50%\"]\n          }\n        },\n        hovered: {\n          bg: [\"700\", \"300\"],\n          border: [\"700/0\", \"300/0\"]\n        },\n        pressed: {\n          bg: [\"700\", \"300\"]\n        },\n        selected: {\n          bg: [\"700\", \"300\"]\n        },\n        disabled: {\n          _hue: \"gray\",\n          accent: {\n            fg: [\"100 70%\", \"900 70%\"]\n          },\n          avatar: {\n            \"*\": {\n              _blend: [\"screen\", \"multiply\"],\n              bg: [\"gray/500\", \"gray/400\"],\n              fg: [\"white\", \"black\"]\n            }\n          },\n          badge: {\n            \"*\": {\n              bg: [\"gray/700\", \"gray/300\"],\n              fg: [\"white\", \"black\"],\n              dot: [\"white\", \"black\"],\n              icon: [\"white\", \"black\"]\n            }\n          },\n          bg: [\"300\", \"600\"],\n          code: {\n            bg: [\"950\", \"50\"],\n            fg: [\"300\", \"600\"]\n          },\n          fg: [\"300\", \"600\"],\n          muted: {\n            bg: [\"950\", \"50\"],\n            fg: [\"300\", \"600\"]\n          },\n          kbd: {\n            bg: [\"black\", \"white\"],\n            fg: [\"white\", \"black\"],\n            border: [\"700\", \"300\"]\n          },\n          link: {\n            fg: [\"100 70%\", \"900 70%\"]\n          }\n        }\n      },\n      default: {\n        \"*\": {\n          avatar: {\n            \"*\": {\n              _blend: [\"screen\", \"multiply\"],\n              bg: [\"500\", \"400\"],\n              fg: [\"white\", \"black\"]\n            }\n          },\n          bg: [\"800\", \"200\"],\n          muted: {\n            bg: [\"950\", \"50\"],\n            fg: [\"400\", \"600\"]\n          }\n        },\n        hovered: {\n          bg: [\"900\", \"100\"]\n        },\n        pressed: {\n          bg: [\"black\", \"white\"]\n        },\n        selected: {\n          bg: [\"black\", \"white\"]\n        }\n      }\n    },\n    ghost: {\n      \"*\": {\n        \"*\": {\n          _blend: [\"multiply\", \"screen\"],\n          accent: {\n            fg: [\"purple/700 60%\", \"purple/300 70%\"]\n          },\n          avatar: {\n            \"*\": {\n              _blend: [\"screen\", \"multiply\"],\n              bg: [\"500\", \"400\"],\n              fg: [\"white\", \"black\"]\n            }\n          },\n          badge: {\n            \"*\": {\n              bg: [\"100\", \"900\"],\n              fg: [\"600\", \"400\"],\n              dot: [\"500\", \"500\"],\n              icon: [\"500\", \"500\"]\n            }\n          },\n          bg: [\"50\", \"950\"],\n          border: [\"100\", \"900\"],\n          code: {\n            bg: [\"500 10%\", \"400 10%\"],\n            fg: [\"700 60%\", \"400 60%\"]\n          },\n          fg: [\"600\", \"400\"],\n          icon: [\"700 60%\", \"300 60%\"],\n          kbd: {\n            bg: [\"white\", \"black\"],\n            fg: [\"600\", \"400\"],\n            border: [\"200\", \"800\"]\n          },\n          link: {\n            fg: [\"blue/700 60%\", \"blue/300 60%\"]\n          },\n          muted: {\n            bg: [\"100\", \"950\"],\n            fg: [\"700 60%\", \"300 60%\"]\n          },\n          skeleton: {\n            from: [\"100\", \"900\"],\n            to: [\"100 50%\", \"900 50%\"]\n          }\n        },\n        hovered: {\n          bg: [\"100\", \"900\"],\n          fg: [\"700\", \"300\"]\n        },\n        pressed: {\n          bg: [\"100\", \"900\"],\n          fg: [\"800\", \"200\"]\n        },\n        selected: {\n          bg: [\"100\", \"900\"],\n          fg: [\"800\", \"200\"]\n        },\n        disabled: {\n          _hue: \"gray\",\n          accent: {\n            fg: [\"200\", \"800\"]\n          },\n          avatar: {\n            \"*\": {\n              _blend: [\"screen\", \"multiply\"],\n              bg: [\"gray/100\", \"gray/900\"],\n              fg: [\"white\", \"black\"]\n            }\n          },\n          badge: {\n            \"*\": {\n              _hue: \"gray\",\n              bg: [\"50\", \"950\"],\n              fg: [\"gray/200\", \"gray/800\"],\n              dot: [\"gray/200\", \"gray/800\"],\n              icon: [\"gray/200\", \"gray/800\"]\n            }\n          },\n          border: [\"100\", \"900\"],\n          code: {\n            bg: [\"50\", \"950\"],\n            fg: [\"200\", \"800\"]\n          },\n          fg: [\"400\", \"600\"],\n          icon: [\"300\", \"700\"],\n          muted: {\n            fg: [\"300\", \"700\"]\n          },\n          kbd: {\n            bg: [\"white\", \"black\"],\n            fg: [\"200\", \"800\"],\n            border: [\"100\", \"900\"]\n          },\n          link: {\n            fg: [\"200\", \"800\"]\n          }\n        }\n      },\n      positive: {\n        \"*\": {\n          border: [\"600 20%\", \"800\"]\n        }\n      },\n      caution: {\n        \"*\": {\n          border: [\"600 20%\", \"800\"]\n        }\n      }\n    },\n    bleed: {\n      \"*\": {\n        \"*\": {\n          _blend: [\"multiply\", \"screen\"],\n          accent: {\n            fg: [\"purple/700 70%\", \"purple/300 70%\"]\n          },\n          avatar: {\n            \"*\": {\n              _blend: [\"screen\", \"multiply\"],\n              bg: [\"500\", \"400\"],\n              fg: [\"white\", \"black\"]\n            }\n          },\n          badge: {\n            \"*\": {\n              bg: [\"100\", \"900\"],\n              fg: [\"600\", \"400\"],\n              dot: [\"500\", \"500\"],\n              icon: [\"500\", \"500\"]\n            }\n          },\n          bg: [\"white\", \"black\"],\n          border: [\"white/0\", \"black/0\"],\n          code: {\n            bg: [\"50\", \"950\"],\n            fg: [\"700 75%\", \"300 75%\"]\n          },\n          fg: [\"700\", \"300\"],\n          icon: [\"700 75%\", \"300 75%\"],\n          kbd: {\n            bg: [\"white\", \"black\"],\n            fg: [\"700\", \"300\"],\n            border: [\"200\", \"800\"]\n          },\n          link: {\n            fg: [\"blue/700 70%\", \"blue/300 70%\"]\n          },\n          muted: {\n            bg: [\"100\", \"950\"],\n            fg: [\"700 75%\", \"300 75%\"]\n          },\n          skeleton: {\n            from: [\"100\", \"900\"],\n            to: [\"100 50%\", \"900 50%\"]\n          }\n        },\n        hovered: {\n          bg: [\"50\", \"950\"],\n          icon: [\"700 70%\", \"400 70%\"]\n        },\n        pressed: {\n          bg: [\"100\", \"900\"],\n          fg: [\"800\", \"200\"],\n          icon: [\"800 70%\", \"200 70%\"]\n        },\n        selected: {\n          bg: [\"100\", \"900\"],\n          fg: [\"800\", \"200\"],\n          icon: [\"800 60%\", \"200 60%\"]\n        },\n        disabled: {\n          _hue: \"gray\",\n          accent: {\n            fg: [\"200\", \"800\"]\n          },\n          avatar: {\n            \"*\": {\n              _blend: [\"screen\", \"multiply\"],\n              bg: [\"gray/100\", \"gray/900\"],\n              fg: [\"white\", \"black\"]\n            }\n          },\n          badge: {\n            \"*\": {\n              _hue: \"gray\",\n              bg: [\"50\", \"950\"],\n              fg: [\"gray/200\", \"gray/800\"],\n              dot: [\"gray/200\", \"gray/800\"],\n              icon: [\"gray/200\", \"gray/800\"]\n            }\n          },\n          code: {\n            bg: [\"50\", \"950\"],\n            fg: [\"200\", \"800\"]\n          },\n          fg: [\"400\", \"600\"],\n          icon: [\"300\", \"700\"],\n          muted: {\n            fg: [\"400\", \"600\"]\n          },\n          kbd: {\n            bg: [\"white\", \"black\"],\n            fg: [\"200\", \"800\"],\n            border: [\"100\", \"900\"]\n          },\n          link: {\n            fg: [\"200\", \"800\"]\n          }\n        }\n      }\n    }\n  },\n  input: {\n    \"*\": {\n      \"*\": {\n        _blend: [\"multiply\", \"screen\"],\n        bg: [\"white\", \"black\"],\n        border: [\"200\", \"800\"],\n        fg: [\"black\", \"200\"],\n        muted: {\n          bg: [\"50\", \"950\"]\n        },\n        placeholder: [\"400\", \"600\"]\n      },\n      hovered: {\n        border: [\"300\", \"700\"]\n      },\n      readOnly: {\n        bg: [\"50\", \"950\"],\n        border: [\"200\", \"800\"],\n        fg: [\"800\", \"200\"]\n      },\n      disabled: {\n        fg: [\"400\", \"600\"],\n        border: [\"100\", \"900\"],\n        placeholder: [\"200\", \"800 50%\"]\n      }\n    },\n    invalid: {\n      \"*\": {\n        _hue: \"red\",\n        bg: [\"100\", \"950\"]\n      }\n    }\n  },\n  selectable: {\n    \"*\": {\n      \"*\": {\n        _blend: [\"multiply\", \"screen\"],\n        accent: {\n          fg: [\"purple/700 70%\", \"purple/300 70%\"]\n        },\n        avatar: {\n          \"*\": {\n            _blend: [\"screen\", \"multiply\"],\n            bg: [\"500\", \"400\"],\n            fg: [\"white\", \"black\"]\n          }\n        },\n        badge: {\n          \"*\": {\n            bg: [\"100\", \"900\"],\n            fg: [\"600\", \"400\"],\n            dot: [\"500\", \"500\"],\n            icon: [\"500\", \"500\"]\n          }\n        },\n        bg: [\"white\", \"black\"],\n        border: [\"200\", \"800\"],\n        code: {\n          bg: [\"50\", \"950\"],\n          fg: [\"600\", \"400\"]\n        },\n        fg: [\"700\", \"300\"],\n        icon: [\"700 75%\", \"300 75%\"],\n        kbd: {\n          bg: [\"white\", \"black\"],\n          fg: [\"600\", \"400\"],\n          border: [\"200\", \"800\"]\n        },\n        link: {\n          fg: [\"blue/700 70%\", \"blue/300 70%\"]\n        },\n        muted: {\n          bg: [\"50\", \"950\"],\n          fg: [\"700 75%\", \"300 75%\"]\n        },\n        skeleton: {\n          from: [\"100\", \"900\"],\n          to: [\"100 50%\", \"900 50%\"]\n        }\n      },\n      hovered: {\n        bg: [\"50\", \"950\"]\n      },\n      pressed: {\n        bg: [\"100\", \"900\"]\n      },\n      selected: {\n        _blend: [\"screen\", \"multiply\"],\n        accent: {\n          fg: [\"purple/300\", \"purple/700\"]\n        },\n        avatar: {\n          \"*\": {\n            _blend: [\"multiply\", \"screen\"],\n            bg: [\"white\", \"black\"],\n            fg: [\"black\", \"white\"]\n          }\n        },\n        badge: {\n          \"*\": {\n            bg: [\"900\", \"100\"],\n            fg: [\"400\", \"600\"],\n            dot: [\"500\", \"500\"],\n            icon: [\"500\", \"500\"]\n          }\n        },\n        bg: [\"500\", \"400\"],\n        border: [\"500 20%\", \"400 20%\"],\n        code: {\n          bg: [\"500 20%\", \"400 20%\"],\n          fg: [\"200\", \"600\"]\n        },\n        fg: [\"white\", \"black\"],\n        icon: [\"100 70%\", \"900 70%\"],\n        kbd: {\n          bg: [\"black\", \"white\"],\n          fg: [\"200\", \"600\"],\n          border: [\"800\", \"200\"]\n        },\n        link: {\n          fg: [\"blue/200\", \"blue/600\"]\n        },\n        muted: {\n          bg: [\"500 10%\", \"400 10%\"],\n          fg: [\"100 70%\", \"900 70%\"]\n        },\n        skeleton: {\n          from: [\"900\", \"100\"],\n          to: [\"900 50%\", \"100 50%\"]\n        }\n      },\n      disabled: {\n        _hue: \"gray\",\n        accent: {\n          fg: [\"200\", \"800\"]\n        },\n        avatar: {\n          \"*\": {\n            _blend: [\"screen\", \"multiply\"],\n            bg: [\"gray/100\", \"gray/900\"],\n            fg: [\"white\", \"black\"]\n          }\n        },\n        badge: {\n          \"*\": {\n            _hue: \"gray\",\n            bg: [\"50\", \"950\"],\n            fg: [\"gray/200\", \"gray/800\"],\n            dot: [\"gray/200\", \"gray/800\"],\n            icon: [\"gray/200\", \"gray/800\"]\n          }\n        },\n        border: [\"100\", \"900\"],\n        code: {\n          bg: [\"50\", \"950\"],\n          fg: [\"200\", \"800\"]\n        },\n        fg: [\"200\", \"800\"],\n        icon: [\"200\", \"800\"],\n        kbd: {\n          bg: [\"white\", \"black\"],\n          fg: [\"200\", \"800\"],\n          border: [\"100\", \"900\"]\n        },\n        link: {\n          fg: [\"200\", \"800\"]\n        },\n        muted: {\n          bg: [\"50 50%\", \"950 50%\"],\n          fg: [\"200\", \"800\"]\n        }\n      }\n    },\n    default: {\n      selected: {\n        _hue: \"blue\"\n      }\n    },\n    critical: {\n      disabled: {\n        bg: [\"50 50%\", \"950 50%\"]\n      }\n    }\n  },\n  syntax: {\n    atrule: [\"purple/600\", \"purple/400\"],\n    attrName: [\"green/600\", \"green/400\"],\n    attrValue: [\"yellow/600\", \"yellow/400\"],\n    attribute: [\"yellow/600\", \"yellow/400\"],\n    boolean: [\"purple/600\", \"purple/400\"],\n    builtin: [\"purple/600\", \"purple/400\"],\n    cdata: [\"yellow/600\", \"yellow/400\"],\n    char: [\"yellow/600\", \"yellow/400\"],\n    class: [\"orange/600\", \"orange/400\"],\n    className: [\"cyan/600\", \"cyan/400\"],\n    comment: [\"gray/400\", \"gray/600\"],\n    constant: [\"purple/600\", \"purple/400\"],\n    deleted: [\"red/600\", \"red/400\"],\n    entity: [\"red/600\", \"red/400\"],\n    function: [\"green/600\", \"green/400\"],\n    hexcode: [\"blue/600\", \"blue/400\"],\n    id: [\"purple/600\", \"purple/400\"],\n    important: [\"purple/600\", \"purple/400\"],\n    inserted: [\"yellow/600\", \"yellow/400\"],\n    keyword: [\"magenta/600\", \"magenta/400\"],\n    number: [\"purple/600\", \"purple/400\"],\n    operator: [\"magenta/600\", \"magenta/400\"],\n    property: [\"blue/600\", \"blue/400\"],\n    pseudoClass: [\"yellow/600\", \"yellow/400\"],\n    pseudoElement: [\"yellow/600\", \"yellow/400\"],\n    punctuation: [\"gray/600\", \"gray/400\"],\n    regex: [\"blue/600\", \"blue/400\"],\n    selector: [\"red/600\", \"red/400\"],\n    string: [\"yellow/600\", \"yellow/400\"],\n    symbol: [\"purple/600\", \"purple/400\"],\n    tag: [\"red/600\", \"red/400\"],\n    unit: [\"orange/600\", \"orange/400\"],\n    url: [\"red/600\", \"red/400\"],\n    variable: [\"red/600\", \"red/400\"]\n  }\n};\nfunction isRecord(value) {\n  return !!(value && typeof value == \"object\" && !Array.isArray(value));\n}\nfunction merge(...records) {\n  const _records = records.filter(Boolean);\n  return _records.length === 0 ? {} : _records.reduce(_merge, {});\n}\nfunction _merge(acc, source) {\n  for (const key of Object.keys(source)) {\n    const prevValue = acc[key], nextValue = source[key];\n    isRecord(prevValue) && isRecord(nextValue) ? acc[key] = merge(prevValue, nextValue) : acc[key] = nextValue;\n  }\n  return acc;\n}\nfunction resolveColorTokens(inputTokens) {\n  const tokens = merge(defaultColorTokens, inputTokens);\n  return {\n    base: resolveBaseColorTokens(tokens),\n    button: resolveButtonColorTokens(tokens),\n    input: resolveInputColorTokens(tokens),\n    selectable: resolveSelectableColorTokens(tokens),\n    syntax: tokens.syntax\n  };\n}\nfunction resolveBaseColorTokens(sparseTokens) {\n  const tokens = {};\n  for (const tone of THEME_COLOR_CARD_TONES)\n    tokens[tone] = resolveBaseColorTones(sparseTokens, tone);\n  return tokens;\n}\nfunction resolveBaseColorTones(inputTokens, tone) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _A, _B, _C, _D, _E, _F, _G, _H, _I, _J, _K, _L, _M, _N, _O, _P;\n  const spec = merge((_a = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _a[\"*\"], (_b = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _b[tone]), hue = spec._hue || ((_d = (_c = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _c[tone]) == null ? void 0 : _d._hue) || \"gray\";\n  return {\n    ...spec,\n    _hue: hue,\n    avatar: {\n      gray: merge({ _hue: \"gray\" }, (_e = spec.avatar) == null ? void 0 : _e[\"*\"], (_f = spec.avatar) == null ? void 0 : _f.gray),\n      blue: merge({ _hue: \"blue\" }, (_g = spec.avatar) == null ? void 0 : _g[\"*\"], (_h = spec.avatar) == null ? void 0 : _h.blue),\n      purple: merge({ _hue: \"purple\" }, (_i = spec.avatar) == null ? void 0 : _i[\"*\"], (_j = spec.avatar) == null ? void 0 : _j.purple),\n      magenta: merge({ _hue: \"magenta\" }, (_k = spec.avatar) == null ? void 0 : _k[\"*\"], (_l = spec.avatar) == null ? void 0 : _l.magenta),\n      red: merge({ _hue: \"red\" }, (_m = spec.avatar) == null ? void 0 : _m[\"*\"], (_n = spec.avatar) == null ? void 0 : _n.red),\n      orange: merge({ _hue: \"orange\" }, (_o = spec.avatar) == null ? void 0 : _o[\"*\"], (_p = spec.avatar) == null ? void 0 : _p.orange),\n      yellow: merge({ _hue: \"yellow\" }, (_q = spec.avatar) == null ? void 0 : _q[\"*\"], (_r = spec.avatar) == null ? void 0 : _r.yellow),\n      green: merge({ _hue: \"green\" }, (_s = spec.avatar) == null ? void 0 : _s[\"*\"], (_t = spec.avatar) == null ? void 0 : _t.green),\n      cyan: merge({ _hue: \"cyan\" }, (_u = spec.avatar) == null ? void 0 : _u[\"*\"], (_v = spec.avatar) == null ? void 0 : _v.cyan)\n    },\n    badge: {\n      default: {\n        _hue: ((_x = (_w = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _w.default) == null ? void 0 : _x._hue) || hue,\n        ...(_y = spec.badge) == null ? void 0 : _y[\"*\"],\n        ...(_z = spec.badge) == null ? void 0 : _z.default\n      },\n      primary: {\n        _hue: ((_B = (_A = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _A.primary) == null ? void 0 : _B._hue) || hue,\n        ...(_C = spec.badge) == null ? void 0 : _C[\"*\"],\n        ...(_D = spec.badge) == null ? void 0 : _D.primary\n      },\n      positive: {\n        _hue: ((_F = (_E = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _E.positive) == null ? void 0 : _F._hue) || hue,\n        ...(_G = spec.badge) == null ? void 0 : _G[\"*\"],\n        ...(_H = spec.badge) == null ? void 0 : _H.positive\n      },\n      caution: {\n        _hue: ((_J = (_I = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _I.caution) == null ? void 0 : _J._hue) || hue,\n        ...(_K = spec.badge) == null ? void 0 : _K[\"*\"],\n        ...(_L = spec.badge) == null ? void 0 : _L.caution\n      },\n      critical: {\n        _hue: ((_N = (_M = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _M.critical) == null ? void 0 : _N._hue) || hue,\n        ...(_O = spec.badge) == null ? void 0 : _O[\"*\"],\n        ...(_P = spec.badge) == null ? void 0 : _P.critical\n      }\n    }\n  };\n}\nfunction resolveButtonColorTokens(inputTokens) {\n  const tokens = {};\n  for (const mode of THEME_COLOR_BUTTON_MODES)\n    tokens[mode] = resolveButtonToneColorTokens(inputTokens, mode);\n  return tokens;\n}\nfunction resolveButtonToneColorTokens(inputTokens, mode) {\n  const tokens = {};\n  for (const tone of THEME_COLOR_STATE_TONES)\n    tokens[tone] = resolveButtonModeColorTokens(inputTokens, mode, tone);\n  return tokens;\n}\nfunction resolveButtonModeColorTokens(inputTokens, mode, tone) {\n  const tokens = {};\n  for (const state of THEME_COLOR_STATES)\n    tokens[state] = resolveButtonStateColorTokens(inputTokens, tone, mode, state);\n  return tokens;\n}\nfunction resolveButtonStateColorTokens(inputTokens, tone, mode, state) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _A, _B, _C, _D, _E, _F, _G, _H, _I, _J, _K, _L, _M, _N, _O, _P, _Q, _R, _S, _T, _U, _V, _W, _X, _Y, _Z;\n  const spec = merge(\n    (_c = (_b = (_a = inputTokens == null ? void 0 : inputTokens.button) == null ? void 0 : _a[mode]) == null ? void 0 : _b[\"*\"]) == null ? void 0 : _c[\"*\"],\n    (_f = (_e = (_d = inputTokens == null ? void 0 : inputTokens.button) == null ? void 0 : _d[mode]) == null ? void 0 : _e[tone]) == null ? void 0 : _f[\"*\"],\n    (_i = (_h = (_g = inputTokens == null ? void 0 : inputTokens.button) == null ? void 0 : _g[mode]) == null ? void 0 : _h[\"*\"]) == null ? void 0 : _i[state],\n    (_l = (_k = (_j = inputTokens == null ? void 0 : inputTokens.button) == null ? void 0 : _j[mode]) == null ? void 0 : _k[tone]) == null ? void 0 : _l[state]\n  ), hue = spec._hue || ((_n = (_m = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _m[tone]) == null ? void 0 : _n._hue);\n  return {\n    ...spec,\n    _hue: hue,\n    avatar: {\n      gray: merge({ _hue: \"gray\" }, (_o = spec.avatar) == null ? void 0 : _o[\"*\"], (_p = spec.avatar) == null ? void 0 : _p.gray),\n      blue: merge({ _hue: \"blue\" }, (_q = spec.avatar) == null ? void 0 : _q[\"*\"], (_r = spec.avatar) == null ? void 0 : _r.blue),\n      purple: merge({ _hue: \"purple\" }, (_s = spec.avatar) == null ? void 0 : _s[\"*\"], (_t = spec.avatar) == null ? void 0 : _t.purple),\n      magenta: merge({ _hue: \"magenta\" }, (_u = spec.avatar) == null ? void 0 : _u[\"*\"], (_v = spec.avatar) == null ? void 0 : _v.magenta),\n      red: merge({ _hue: \"red\" }, (_w = spec.avatar) == null ? void 0 : _w[\"*\"], (_x = spec.avatar) == null ? void 0 : _x.red),\n      orange: merge({ _hue: \"orange\" }, (_y = spec.avatar) == null ? void 0 : _y[\"*\"], (_z = spec.avatar) == null ? void 0 : _z.orange),\n      yellow: merge({ _hue: \"yellow\" }, (_A = spec.avatar) == null ? void 0 : _A[\"*\"], (_B = spec.avatar) == null ? void 0 : _B.yellow),\n      green: merge({ _hue: \"green\" }, (_C = spec.avatar) == null ? void 0 : _C[\"*\"], (_D = spec.avatar) == null ? void 0 : _D.green),\n      cyan: merge({ _hue: \"cyan\" }, (_E = spec.avatar) == null ? void 0 : _E[\"*\"], (_F = spec.avatar) == null ? void 0 : _F.cyan)\n    },\n    badge: {\n      default: {\n        _hue: (_H = (_G = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _G.default) == null ? void 0 : _H._hue,\n        ...(_I = spec.badge) == null ? void 0 : _I[\"*\"],\n        ...(_J = spec.badge) == null ? void 0 : _J.default\n      },\n      primary: {\n        _hue: (_L = (_K = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _K.primary) == null ? void 0 : _L._hue,\n        ...(_M = spec.badge) == null ? void 0 : _M[\"*\"],\n        ...(_N = spec.badge) == null ? void 0 : _N.primary\n      },\n      positive: {\n        _hue: (_P = (_O = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _O.positive) == null ? void 0 : _P._hue,\n        ...(_Q = spec.badge) == null ? void 0 : _Q[\"*\"],\n        ...(_R = spec.badge) == null ? void 0 : _R.positive\n      },\n      caution: {\n        _hue: (_T = (_S = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _S.caution) == null ? void 0 : _T._hue,\n        ...(_U = spec.badge) == null ? void 0 : _U[\"*\"],\n        ...(_V = spec.badge) == null ? void 0 : _V.caution\n      },\n      critical: {\n        _hue: (_X = (_W = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _W.critical) == null ? void 0 : _X._hue,\n        ...(_Y = spec.badge) == null ? void 0 : _Y[\"*\"],\n        ...(_Z = spec.badge) == null ? void 0 : _Z.critical\n      }\n    }\n  };\n}\nfunction resolveInputColorTokens(inputTokens) {\n  const tokens = {};\n  for (const mode of THEME_COLOR_INPUT_MODES)\n    tokens[mode] = resolveInputModeColorTokens(inputTokens, mode);\n  return tokens;\n}\nfunction resolveInputModeColorTokens(inputTokens, mode) {\n  const states = {};\n  for (const state of THEME_COLOR_INPUT_STATES)\n    states[state] = resolveInputStateColorTokens(inputTokens, mode, state);\n  return states;\n}\nfunction resolveInputStateColorTokens(inputTokens, mode, state) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n  const spec = merge(\n    (_b = (_a = inputTokens == null ? void 0 : inputTokens.input) == null ? void 0 : _a[\"*\"]) == null ? void 0 : _b[\"*\"],\n    (_d = (_c = inputTokens == null ? void 0 : inputTokens.input) == null ? void 0 : _c[mode]) == null ? void 0 : _d[\"*\"],\n    (_f = (_e = inputTokens == null ? void 0 : inputTokens.input) == null ? void 0 : _e[\"*\"]) == null ? void 0 : _f[state],\n    (_h = (_g = inputTokens == null ? void 0 : inputTokens.input) == null ? void 0 : _g[mode]) == null ? void 0 : _h[state]\n  ), hue = spec._hue || ((_j = (_i = inputTokens == null ? void 0 : inputTokens.input) == null ? void 0 : _i[mode]) == null ? void 0 : _j._hue);\n  return { ...spec, _hue: hue };\n}\nfunction resolveSelectableColorTokens(inputTokens) {\n  const tokens = {};\n  for (const tone of THEME_COLOR_STATE_TONES)\n    tokens[tone] = resolveSelectableToneColorTokens(inputTokens, tone);\n  return tokens;\n}\nfunction resolveSelectableToneColorTokens(inputTokens, tone) {\n  var _a, _b, _c, _d;\n  const states = {\n    _hue: ((_b = (_a = inputTokens == null ? void 0 : inputTokens.selectable) == null ? void 0 : _a[tone]) == null ? void 0 : _b._hue) || ((_d = (_c = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _c[tone]) == null ? void 0 : _d._hue)\n  };\n  for (const state of THEME_COLOR_STATES)\n    states[state] = resolveSelectableStateColorTokens(inputTokens, tone, state);\n  return states;\n}\nfunction resolveSelectableStateColorTokens(inputTokens, tone, state) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _A, _B, _C, _D, _E, _F, _G, _H, _I, _J, _K, _L, _M, _N, _O, _P, _Q, _R, _S, _T, _U, _V;\n  const spec = merge(\n    (_b = (_a = inputTokens == null ? void 0 : inputTokens.selectable) == null ? void 0 : _a[\"*\"]) == null ? void 0 : _b[\"*\"],\n    (_d = (_c = inputTokens == null ? void 0 : inputTokens.selectable) == null ? void 0 : _c[tone]) == null ? void 0 : _d[\"*\"],\n    (_f = (_e = inputTokens == null ? void 0 : inputTokens.selectable) == null ? void 0 : _e[\"*\"]) == null ? void 0 : _f[state],\n    (_h = (_g = inputTokens == null ? void 0 : inputTokens.selectable) == null ? void 0 : _g[tone]) == null ? void 0 : _h[state]\n  ), hue = spec._hue || ((_j = (_i = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _i[tone]) == null ? void 0 : _j._hue);\n  return {\n    ...spec,\n    _hue: hue,\n    avatar: {\n      gray: merge({ _hue: \"gray\" }, (_k = spec.avatar) == null ? void 0 : _k[\"*\"], (_l = spec.avatar) == null ? void 0 : _l.gray),\n      blue: merge({ _hue: \"blue\" }, (_m = spec.avatar) == null ? void 0 : _m[\"*\"], (_n = spec.avatar) == null ? void 0 : _n.blue),\n      purple: merge({ _hue: \"purple\" }, (_o = spec.avatar) == null ? void 0 : _o[\"*\"], (_p = spec.avatar) == null ? void 0 : _p.purple),\n      magenta: merge({ _hue: \"magenta\" }, (_q = spec.avatar) == null ? void 0 : _q[\"*\"], (_r = spec.avatar) == null ? void 0 : _r.magenta),\n      red: merge({ _hue: \"red\" }, (_s = spec.avatar) == null ? void 0 : _s[\"*\"], (_t = spec.avatar) == null ? void 0 : _t.red),\n      orange: merge({ _hue: \"orange\" }, (_u = spec.avatar) == null ? void 0 : _u[\"*\"], (_v = spec.avatar) == null ? void 0 : _v.orange),\n      yellow: merge({ _hue: \"yellow\" }, (_w = spec.avatar) == null ? void 0 : _w[\"*\"], (_x = spec.avatar) == null ? void 0 : _x.yellow),\n      green: merge({ _hue: \"green\" }, (_y = spec.avatar) == null ? void 0 : _y[\"*\"], (_z = spec.avatar) == null ? void 0 : _z.green),\n      cyan: merge({ _hue: \"cyan\" }, (_A = spec.avatar) == null ? void 0 : _A[\"*\"], (_B = spec.avatar) == null ? void 0 : _B.cyan)\n    },\n    badge: {\n      default: {\n        _hue: (_D = (_C = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _C.default) == null ? void 0 : _D._hue,\n        ...(_E = spec.badge) == null ? void 0 : _E[\"*\"],\n        ...(_F = spec.badge) == null ? void 0 : _F.default\n      },\n      primary: {\n        _hue: (_H = (_G = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _G.primary) == null ? void 0 : _H._hue,\n        ...(_I = spec.badge) == null ? void 0 : _I[\"*\"],\n        ...(_J = spec.badge) == null ? void 0 : _J.primary\n      },\n      positive: {\n        _hue: (_L = (_K = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _K.positive) == null ? void 0 : _L._hue,\n        ...(_M = spec.badge) == null ? void 0 : _M[\"*\"],\n        ...(_N = spec.badge) == null ? void 0 : _N.positive\n      },\n      caution: {\n        _hue: (_P = (_O = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _O.caution) == null ? void 0 : _P._hue,\n        ...(_Q = spec.badge) == null ? void 0 : _Q[\"*\"],\n        ...(_R = spec.badge) == null ? void 0 : _R.caution\n      },\n      critical: {\n        _hue: (_T = (_S = inputTokens == null ? void 0 : inputTokens.base) == null ? void 0 : _S.critical) == null ? void 0 : _T._hue,\n        ...(_U = spec.badge) == null ? void 0 : _U[\"*\"],\n        ...(_V = spec.badge) == null ? void 0 : _V.critical\n      }\n    }\n  };\n}\nfunction buildColorTheme(config) {\n  const resolvedConfig = {\n    ...config,\n    color: resolveColorTokens(config == null ? void 0 : config.color)\n  };\n  return {\n    light: buildColorScheme({ scheme: \"light\" }, resolvedConfig),\n    dark: buildColorScheme({ scheme: \"dark\" }, resolvedConfig)\n  };\n}\nfunction buildColorScheme(options, config) {\n  const { scheme } = options;\n  return {\n    transparent: buildCardColorTheme({ scheme, tone: \"transparent\" }, config),\n    default: buildCardColorTheme({ scheme, tone: \"default\" }, config),\n    primary: buildCardColorTheme({ scheme, tone: \"primary\" }, config),\n    positive: buildCardColorTheme({ scheme, tone: \"positive\" }, config),\n    caution: buildCardColorTheme({ scheme, tone: \"caution\" }, config),\n    critical: buildCardColorTheme({ scheme, tone: \"critical\" }, config)\n  };\n}\nfunction buildCardColorTheme(options, config) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m;\n  const { scheme, tone } = options, tokens = (_b = (_a = config == null ? void 0 : config.color) == null ? void 0 : _a.base) == null ? void 0 : _b[tone], context = { hue: (tokens == null ? void 0 : tokens._hue) || \"gray\", scheme };\n  return {\n    _blend: ((tokens == null ? void 0 : tokens._blend) || [\"multiply\", \"screen\"])[scheme === \"light\" ? 0 : 1],\n    _dark: scheme === \"dark\",\n    accent: {\n      fg: resolveColorTokenValue(context, (_c = tokens == null ? void 0 : tokens.accent) == null ? void 0 : _c.fg)\n    },\n    avatar: buildAvatarColorTheme({ scheme }, tokens),\n    backdrop: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.backdrop),\n    badge: buildBadgeColorTheme(tokens == null ? void 0 : tokens.badge, { scheme }, config),\n    bg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.bg),\n    border: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.border),\n    button: buildButtonColorTheme({ scheme }, config),\n    code: {\n      bg: resolveColorTokenValue(context, (_d = tokens == null ? void 0 : tokens.code) == null ? void 0 : _d.bg),\n      fg: resolveColorTokenValue(context, (_e = tokens == null ? void 0 : tokens.code) == null ? void 0 : _e.fg)\n    },\n    fg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.fg),\n    focusRing: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.focusRing),\n    icon: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.icon),\n    input: buildInputColorTheme({ scheme, tone }, config),\n    kbd: {\n      bg: resolveColorTokenValue(context, (_f = tokens == null ? void 0 : tokens.kbd) == null ? void 0 : _f.bg),\n      fg: resolveColorTokenValue(context, (_g = tokens == null ? void 0 : tokens.kbd) == null ? void 0 : _g.fg),\n      border: resolveColorTokenValue(context, (_h = tokens == null ? void 0 : tokens.kbd) == null ? void 0 : _h.border)\n    },\n    link: {\n      fg: resolveColorTokenValue(context, (_i = tokens == null ? void 0 : tokens.link) == null ? void 0 : _i.fg)\n    },\n    muted: {\n      bg: resolveColorTokenValue(context, (_j = tokens == null ? void 0 : tokens.muted) == null ? void 0 : _j.bg),\n      fg: resolveColorTokenValue(context, (_k = tokens == null ? void 0 : tokens.muted) == null ? void 0 : _k.fg)\n    },\n    selectable: buildSelectableColorTheme({ scheme }, config),\n    shadow: buildShadowColorTheme({ scheme, tone }, config),\n    skeleton: {\n      from: resolveColorTokenValue(context, (_l = tokens == null ? void 0 : tokens.skeleton) == null ? void 0 : _l.from),\n      to: resolveColorTokenValue(context, (_m = tokens == null ? void 0 : tokens.skeleton) == null ? void 0 : _m.to)\n    },\n    syntax: buildSyntaxColorTheme({ scheme }, config)\n  };\n}\nfunction buildShadowColorTheme(options, config) {\n  var _a, _b, _c, _d, _e, _f;\n  const { scheme, tone } = options, tokens = (_b = (_a = config == null ? void 0 : config.color) == null ? void 0 : _a.base) == null ? void 0 : _b[tone], context = { hue: (tokens == null ? void 0 : tokens._hue) || \"gray\", scheme };\n  return {\n    outline: resolveColorTokenValue(context, (_c = tokens == null ? void 0 : tokens.shadow) == null ? void 0 : _c.outline),\n    umbra: resolveColorTokenValue(context, (_d = tokens == null ? void 0 : tokens.shadow) == null ? void 0 : _d.umbra),\n    penumbra: resolveColorTokenValue(context, (_e = tokens == null ? void 0 : tokens.shadow) == null ? void 0 : _e.penumbra),\n    ambient: resolveColorTokenValue(context, (_f = tokens == null ? void 0 : tokens.shadow) == null ? void 0 : _f.ambient)\n  };\n}\nfunction buildAvatarColorTheme(options, stateTokens) {\n  const { scheme } = options;\n  return {\n    gray: _buildAvatarColorTheme({ color: \"gray\", scheme }, stateTokens),\n    blue: _buildAvatarColorTheme({ color: \"blue\", scheme }, stateTokens),\n    purple: _buildAvatarColorTheme({ color: \"purple\", scheme }, stateTokens),\n    magenta: _buildAvatarColorTheme({ color: \"magenta\", scheme }, stateTokens),\n    red: _buildAvatarColorTheme({ color: \"red\", scheme }, stateTokens),\n    orange: _buildAvatarColorTheme({ color: \"orange\", scheme }, stateTokens),\n    yellow: _buildAvatarColorTheme({ color: \"yellow\", scheme }, stateTokens),\n    green: _buildAvatarColorTheme({ color: \"green\", scheme }, stateTokens),\n    cyan: _buildAvatarColorTheme({ color: \"cyan\", scheme }, stateTokens)\n  };\n}\nfunction _buildAvatarColorTheme(options, stateTokens) {\n  var _a;\n  const { color: color2, scheme } = options, tokens = (_a = stateTokens == null ? void 0 : stateTokens.avatar) == null ? void 0 : _a[color2], context = { hue: (tokens == null ? void 0 : tokens._hue) || \"gray\", scheme };\n  return {\n    _blend: ((tokens == null ? void 0 : tokens._blend) || [\"screen\", \"multiply\"])[scheme === \"light\" ? 0 : 1],\n    bg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.bg),\n    fg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.fg)\n  };\n}\nfunction buildBadgeColorTheme(tokens, options, config) {\n  const { scheme } = options;\n  return {\n    default: _buildBadgeColorTheme(tokens, { scheme, tone: \"default\" }, config),\n    primary: _buildBadgeColorTheme(tokens, { scheme, tone: \"primary\" }, config),\n    positive: _buildBadgeColorTheme(tokens, { scheme, tone: \"positive\" }, config),\n    caution: _buildBadgeColorTheme(tokens, { scheme, tone: \"caution\" }, config),\n    critical: _buildBadgeColorTheme(tokens, { scheme, tone: \"critical\" }, config)\n  };\n}\nfunction _buildBadgeColorTheme(parentTokens, options, config) {\n  var _a, _b, _c;\n  const { scheme, tone } = options, tokens = parentTokens == null ? void 0 : parentTokens[tone], context = { hue: (tokens == null ? void 0 : tokens._hue) || ((_c = (_b = (_a = config == null ? void 0 : config.color) == null ? void 0 : _a.base) == null ? void 0 : _b[tone]) == null ? void 0 : _c._hue) || \"gray\", scheme };\n  return {\n    bg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.bg),\n    fg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.fg),\n    dot: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.dot),\n    icon: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.icon)\n  };\n}\nfunction buildButtonColorTheme(options, config) {\n  const { scheme } = options, modes = {};\n  for (const mode of THEME_COLOR_BUTTON_MODES)\n    modes[mode] = buildButtonTonesColorTheme({ scheme, mode }, config);\n  return modes;\n}\nfunction buildButtonTonesColorTheme(options, config) {\n  const { mode, scheme } = options, tones2 = {};\n  for (const tone of THEME_COLOR_STATE_TONES)\n    tones2[tone] = buildButtonStatesColorTheme({ mode, scheme, tone }, config);\n  return tones2;\n}\nfunction buildButtonStatesColorTheme(options, config) {\n  const { mode, scheme, tone } = options, states = {};\n  for (const state of THEME_COLOR_STATES)\n    states[state] = buildButtonStateColorTheme({ mode, tone, scheme, state }, config);\n  return states;\n}\nfunction buildButtonStateColorTheme(options, config) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o;\n  const { mode, tone, scheme, state } = options, tokens = (_d = (_c = (_b = (_a = config == null ? void 0 : config.color) == null ? void 0 : _a.button) == null ? void 0 : _b[mode]) == null ? void 0 : _c[tone]) == null ? void 0 : _d[state], hue = (tokens == null ? void 0 : tokens._hue) || \"gray\", blendMode = (tokens == null ? void 0 : tokens._blend) || [\"screen\", \"multiply\"], context = { hue, scheme };\n  return {\n    _blend: blendMode[scheme === \"light\" ? 0 : 1],\n    accent: {\n      fg: resolveColorTokenValue(context, (_e = tokens == null ? void 0 : tokens.accent) == null ? void 0 : _e.fg)\n    },\n    avatar: buildAvatarColorTheme({ scheme }, tokens),\n    badge: buildBadgeColorTheme(tokens == null ? void 0 : tokens.badge, { scheme }, config),\n    bg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.bg),\n    border: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.border),\n    code: {\n      bg: resolveColorTokenValue(context, (_f = tokens == null ? void 0 : tokens.code) == null ? void 0 : _f.bg),\n      fg: resolveColorTokenValue(context, (_g = tokens == null ? void 0 : tokens.code) == null ? void 0 : _g.fg)\n    },\n    fg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.fg),\n    icon: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.icon),\n    muted: {\n      bg: resolveColorTokenValue(context, (_h = tokens == null ? void 0 : tokens.muted) == null ? void 0 : _h.bg),\n      fg: resolveColorTokenValue(context, (_i = tokens == null ? void 0 : tokens.muted) == null ? void 0 : _i.fg)\n    },\n    kbd: {\n      bg: resolveColorTokenValue(context, (_j = tokens == null ? void 0 : tokens.kbd) == null ? void 0 : _j.bg),\n      fg: resolveColorTokenValue(context, (_k = tokens == null ? void 0 : tokens.kbd) == null ? void 0 : _k.fg),\n      border: resolveColorTokenValue(context, (_l = tokens == null ? void 0 : tokens.kbd) == null ? void 0 : _l.border)\n    },\n    link: {\n      fg: resolveColorTokenValue(context, (_m = tokens == null ? void 0 : tokens.link) == null ? void 0 : _m.fg)\n    },\n    skeleton: {\n      from: resolveColorTokenValue(context, (_n = tokens == null ? void 0 : tokens.skeleton) == null ? void 0 : _n.from),\n      to: resolveColorTokenValue(context, (_o = tokens == null ? void 0 : tokens.skeleton) == null ? void 0 : _o.to)\n    }\n  };\n}\nfunction buildInputColorTheme(options, config) {\n  const { scheme, tone } = options;\n  return {\n    default: buildInputStatesColorTheme({ mode: \"default\", scheme, tone }, config),\n    invalid: buildInputStatesColorTheme({ mode: \"invalid\", scheme, tone }, config)\n  };\n}\nfunction buildInputStatesColorTheme(options, config) {\n  const { mode, scheme, tone } = options;\n  return {\n    enabled: buildInputStateColorTheme({ mode, scheme, state: \"enabled\", tone }, config),\n    hovered: buildInputStateColorTheme({ mode, scheme, state: \"hovered\", tone }, config),\n    readOnly: buildInputStateColorTheme({ mode, scheme, state: \"readOnly\", tone }, config),\n    disabled: buildInputStateColorTheme({ mode, scheme, state: \"disabled\", tone }, config)\n  };\n}\nfunction buildInputStateColorTheme(options, config) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  const { mode, tone, scheme, state } = options, tokens = (_c = (_b = (_a = config == null ? void 0 : config.color) == null ? void 0 : _a.input) == null ? void 0 : _b[mode]) == null ? void 0 : _c[state], hue = (tokens == null ? void 0 : tokens._hue) || ((_f = (_e = (_d = config == null ? void 0 : config.color) == null ? void 0 : _d.base) == null ? void 0 : _e[tone]) == null ? void 0 : _f._hue) || \"gray\", blendMode = (tokens == null ? void 0 : tokens._blend) || [\"screen\", \"multiply\"], context = { hue, scheme };\n  return {\n    _blend: blendMode[scheme === \"light\" ? 0 : 1],\n    bg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.bg),\n    border: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.border),\n    fg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.fg),\n    muted: {\n      bg: resolveColorTokenValue(context, (_g = tokens == null ? void 0 : tokens.muted) == null ? void 0 : _g.bg)\n    },\n    placeholder: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.placeholder)\n  };\n}\nfunction buildSelectableColorTheme(options, config) {\n  const { scheme } = options, tones2 = {};\n  for (const tone of THEME_COLOR_STATE_TONES)\n    tones2[tone] = buildSelectableStatesColorTheme({ scheme, tone }, config);\n  return tones2;\n}\nfunction buildSelectableStatesColorTheme(options, config) {\n  const { scheme, tone } = options, states = {};\n  for (const state of THEME_COLOR_STATES)\n    states[state] = buildSelectableStateColorTheme({ tone, scheme, state }, config);\n  return states;\n}\nfunction buildSelectableStateColorTheme(options, config) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;\n  const { scheme, state, tone } = options, tokens = (_c = (_b = (_a = config == null ? void 0 : config.color) == null ? void 0 : _a.selectable) == null ? void 0 : _b[tone]) == null ? void 0 : _c[state], hue = (tokens == null ? void 0 : tokens._hue) || \"gray\", blendMode = (tokens == null ? void 0 : tokens._blend) || [\"screen\", \"multiply\"], context = { hue, scheme };\n  return {\n    _blend: blendMode[scheme === \"light\" ? 0 : 1],\n    accent: {\n      fg: resolveColorTokenValue(context, (_d = tokens == null ? void 0 : tokens.accent) == null ? void 0 : _d.fg)\n    },\n    avatar: buildAvatarColorTheme({ scheme }, tokens),\n    badge: buildBadgeColorTheme(tokens == null ? void 0 : tokens.badge, { scheme }, config),\n    bg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.bg),\n    border: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.border),\n    code: {\n      bg: resolveColorTokenValue(context, (_e = tokens == null ? void 0 : tokens.code) == null ? void 0 : _e.bg),\n      fg: resolveColorTokenValue(context, (_f = tokens == null ? void 0 : tokens.code) == null ? void 0 : _f.fg)\n    },\n    fg: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.fg),\n    icon: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.icon),\n    muted: {\n      bg: resolveColorTokenValue(context, (_g = tokens == null ? void 0 : tokens.muted) == null ? void 0 : _g.bg),\n      fg: resolveColorTokenValue(context, (_h = tokens == null ? void 0 : tokens.muted) == null ? void 0 : _h.fg)\n    },\n    kbd: {\n      bg: resolveColorTokenValue(context, (_i = tokens == null ? void 0 : tokens.kbd) == null ? void 0 : _i.bg),\n      fg: resolveColorTokenValue(context, (_j = tokens == null ? void 0 : tokens.kbd) == null ? void 0 : _j.fg),\n      border: resolveColorTokenValue(context, (_k = tokens == null ? void 0 : tokens.kbd) == null ? void 0 : _k.border)\n    },\n    link: {\n      fg: resolveColorTokenValue(context, (_l = tokens == null ? void 0 : tokens.link) == null ? void 0 : _l.fg)\n    },\n    skeleton: {\n      from: resolveColorTokenValue(context, (_m = tokens == null ? void 0 : tokens.skeleton) == null ? void 0 : _m.from),\n      to: resolveColorTokenValue(context, (_n = tokens == null ? void 0 : tokens.skeleton) == null ? void 0 : _n.to)\n    }\n  };\n}\nfunction buildSyntaxColorTheme(options, config) {\n  var _a;\n  const { scheme } = options, tokens = (_a = config == null ? void 0 : config.color) == null ? void 0 : _a.syntax, context = { hue: \"gray\", scheme };\n  return {\n    atrule: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.atrule),\n    attrName: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.attrName),\n    attrValue: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.attrValue),\n    attribute: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.attribute),\n    boolean: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.boolean),\n    builtin: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.builtin),\n    cdata: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.cdata),\n    char: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.char),\n    class: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.class),\n    className: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.className),\n    comment: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.comment),\n    constant: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.constant),\n    deleted: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.deleted),\n    doctype: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.doctype),\n    entity: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.entity),\n    function: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.function),\n    hexcode: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.hexcode),\n    id: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.id),\n    important: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.important),\n    inserted: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.inserted),\n    keyword: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.keyword),\n    number: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.number),\n    operator: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.operator),\n    prolog: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.prolog),\n    property: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.property),\n    pseudoClass: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.pseudoClass),\n    pseudoElement: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.pseudoElement),\n    punctuation: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.punctuation),\n    regex: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.regex),\n    selector: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.selector),\n    string: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.string),\n    symbol: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.symbol),\n    tag: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.tag),\n    unit: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.unit),\n    url: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.url),\n    variable: resolveColorTokenValue(context, tokens == null ? void 0 : tokens.variable)\n  };\n}\nconst defaultColorPalette = _sanity_color__WEBPACK_IMPORTED_MODULE_1__.color;\nfunction mixChannel(b, s, weight) {\n  const delta = (s - b) * weight;\n  return b + delta;\n}\nfunction mix(b, s, weight) {\n  return {\n    r: mixChannel(b.r, s.r, weight),\n    g: mixChannel(b.g, s.g, weight),\n    b: mixChannel(b.b, s.b, weight)\n  };\n}\nfunction multiplyChannel(b, s) {\n  return b * s;\n}\nfunction multiply(b, s) {\n  return {\n    r: multiplyChannel(b.r / 255, s.r / 255) * 255,\n    g: multiplyChannel(b.g / 255, s.g / 255) * 255,\n    b: multiplyChannel(b.b / 255, s.b / 255) * 255\n  };\n}\nfunction screenChannel(b, s) {\n  return b + s - b * s;\n}\nfunction screen(b, s) {\n  return {\n    r: screenChannel(b.r / 255, s.r / 255) * 255,\n    g: screenChannel(b.g / 255, s.g / 255) * 255,\n    b: screenChannel(b.b / 255, s.b / 255) * 255\n  };\n}\nfunction lerp(x, y, a) {\n  return x * (1 - a) + y * a;\n}\nfunction invlerp(x, y, a) {\n  return clamp((a - x) / (y - x));\n}\nfunction clamp(a, min = 0, max = 1) {\n  return Math.min(max, Math.max(min, a));\n}\nfunction range(x1, y1, x2, y2, a) {\n  return lerp(x2, y2, invlerp(x1, y1, a));\n}\nfunction round(value) {\n  return Math.round(value);\n}\nfunction hexToRgb(hex) {\n  if (hex.length === 4) {\n    const hexR = hex.slice(1, 2), hexG = hex.slice(2, 3), hexB = hex.slice(3, 4);\n    return {\n      r: parseInt(hexR + hexR, 16),\n      g: parseInt(hexG + hexG, 16),\n      b: parseInt(hexB + hexB, 16)\n    };\n  }\n  return {\n    r: parseInt(hex.slice(1, 3), 16),\n    g: parseInt(hex.slice(3, 5), 16),\n    b: parseInt(hex.slice(5, 7), 16)\n  };\n}\nfunction rgbaToRGBA(rgba2) {\n  const values = rgba2.replace(/rgba\\(|\\)/g, \"\").split(\",\");\n  return {\n    r: parseInt(values[0]),\n    g: parseInt(values[1]),\n    b: parseInt(values[2]),\n    a: parseFloat(values[3])\n  };\n}\nfunction rgbToHex(color2) {\n  const r = round(clamp(Math.round(color2.r), 0, 255)), g = round(clamp(Math.round(color2.g), 0, 255)), b = round(clamp(Math.round(color2.b), 0, 255));\n  return \"a\" in color2 ? `rgba(${r},${g},${b},${color2.a})` : \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n}\nfunction rgbToHsl({ r, g, b }) {\n  r /= 255, g /= 255, b /= 255;\n  const cmin = Math.min(r, g, b), cmax = Math.max(r, g, b), delta = cmax - cmin;\n  let h = 0, s = 0, l = 0;\n  return delta == 0 ? h = 0 : cmax == r ? h = (g - b) / delta % 6 : cmax == g ? h = (b - r) / delta + 2 : h = (r - g) / delta + 4, h = Math.round(h * 60), h < 0 && (h += 360), l = (cmax + cmin) / 2, s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1)), s = +(s * 100).toFixed(1), l = +(l * 100).toFixed(1), { h, s, l };\n}\nfunction hslToRgb(hsl) {\n  const s = hsl.s / 100, l = hsl.l / 100, c = (1 - Math.abs(2 * l - 1)) * s, x = c * (1 - Math.abs(hsl.h / 60 % 2 - 1)), m = l - c / 2;\n  let r = 0, g = 0, b = 0;\n  return 0 <= hsl.h && hsl.h < 60 ? (r = c, g = x, b = 0) : 60 <= hsl.h && hsl.h < 120 ? (r = x, g = c, b = 0) : 120 <= hsl.h && hsl.h < 180 ? (r = 0, g = c, b = x) : 180 <= hsl.h && hsl.h < 240 ? (r = 0, g = x, b = c) : 240 <= hsl.h && hsl.h < 300 ? (r = x, g = 0, b = c) : 300 <= hsl.h && hsl.h < 360 && (r = c, g = 0, b = x), {\n    r: Math.round((r + m) * 255),\n    g: Math.round((g + m) * 255),\n    b: Math.round((b + m) * 255)\n  };\n}\nconst HEX_CHARS = \"0123456789ABCDEFabcdef\", HSL_RE = /hsl\\(\\s*(\\d+)\\s*,\\s*((\\d+(?:\\.\\d+)?)%)\\s*,\\s*((\\d+(?:\\.\\d+)?)%)\\s*\\)/i;\nfunction isHexChars(str) {\n  for (const c of str)\n    if (HEX_CHARS.indexOf(c) === -1)\n      return !1;\n  return !0;\n}\nfunction isHex(str) {\n  return str[0] !== \"#\" || !(str.length === 4 || str.length === 7) ? !1 : isHexChars(str.slice(1));\n}\nfunction parseHsl(str) {\n  const res = HSL_RE.exec(str);\n  if (!res)\n    throw new Error(`parseHsl: string is not a HSL color: \"${str}\"`);\n  return { h: parseInt(res[1]), s: parseFloat(res[3]), l: parseFloat(res[5]) };\n}\nfunction parseColor(color2) {\n  if (!color2) return { r: 0, g: 0, b: 0 };\n  if (typeof color2 != \"string\")\n    throw new Error(\"parseColor: expected a string\");\n  if (isHex(color2))\n    return hexToRgb(color2);\n  if (color2.startsWith(\"hsl(\"))\n    return hslToRgb(parseHsl(color2));\n  if (color2.startsWith(\"rgba(\"))\n    return rgbaToRGBA(color2);\n  throw new Error(`parseColor: unexpected color format: \"${color2}\"`);\n}\nfunction getContrastRatio(bg, fg) {\n  const rgb1 = parseColor(bg), rgb2 = parseColor(fg), c1 = rgb_lrgb(rgb1), c2 = rgb_lrgb(rgb2), l1 = lrgb_luminance(c1), l2 = lrgb_luminance(c2);\n  return (Math.max(l1, l2) + 0.05) / (Math.min(l1, l2) + 0.05);\n}\nfunction rgb_lrgb({ r, g, b }) {\n  return [rgb_lrgb1(r / 255), rgb_lrgb1(g / 255), rgb_lrgb1(b / 255)];\n}\nfunction rgb_lrgb1(v) {\n  return v <= 0.04045 ? v / 12.92 : ((v + 0.055) / 1.055) ** 2.4;\n}\nfunction lrgb_luminance([r, g, b]) {\n  return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n}\nfunction rgba(color2, a) {\n  const rgb = parseColor(color2);\n  return `rgba(${rgb.r},${rgb.g},${rgb.b},${a})`;\n}\nconst RGB_RANGE = [0, 255];\nfunction mixThemeColor(value, options) {\n  const { blendMode } = options, color2 = parseColor(value), black2 = parseColor(options.black), white2 = parseColor(options.white), bg = options.bg ? parseColor(options.bg) : blendMode === \"multiply\" ? white2 : black2, paletteRange = {\n    r: [black2.r, white2.r],\n    g: [black2.g, white2.g],\n    b: [black2.b, white2.b]\n  }, convertedBgColor = {\n    r: clamp(range(...paletteRange.r, ...RGB_RANGE, bg.r), ...RGB_RANGE),\n    g: clamp(range(...paletteRange.g, ...RGB_RANGE, bg.g), ...RGB_RANGE),\n    b: clamp(range(...paletteRange.b, ...RGB_RANGE, bg.b), ...RGB_RANGE)\n  }, convertedColor = {\n    r: clamp(range(...paletteRange.r, ...RGB_RANGE, color2.r), ...RGB_RANGE),\n    g: clamp(range(...paletteRange.g, ...RGB_RANGE, color2.g), ...RGB_RANGE),\n    b: clamp(range(...paletteRange.b, ...RGB_RANGE, color2.b), ...RGB_RANGE)\n  }, resultColor = blendMode === \"multiply\" ? multiply(convertedBgColor, convertedColor) : screen(convertedBgColor, convertedColor), v = {\n    r: clamp(range(...RGB_RANGE, ...paletteRange.r, resultColor.r), ...paletteRange.r),\n    g: clamp(range(...RGB_RANGE, ...paletteRange.g, resultColor.g), ...paletteRange.g),\n    b: clamp(range(...RGB_RANGE, ...paletteRange.b, resultColor.b), ...paletteRange.b)\n  };\n  return rgbToHex(v);\n}\nfunction renderColorValue(str, options) {\n  const { bg, blendMode, colorPalette } = options;\n  if (bg === \"white\")\n    throw new Error(\"Cannot blend with white background\");\n  const node = parseTokenValue(str);\n  if (!node || node.type !== \"color\")\n    throw new Error(`Invalid color token value: ${str}`);\n  let hex = \"\";\n  if (node.key === \"black\" && (hex = renderColorHex(colorPalette.black)), node.key === \"white\" && (hex = renderColorHex(colorPalette.white)), node.hue && node.tint && (hex = renderColorHex(colorPalette[node.hue][node.tint])), !hex)\n    throw new Error(`Invalid color token value: ${str}`);\n  const hexBeforeMix = hex, mixOptions = {\n    blendMode,\n    bg,\n    black: renderColorHex(colorPalette.black),\n    // opacity: node.opacity,\n    white: renderColorHex(colorPalette.white)\n  };\n  try {\n    if (hex = mixThemeColor(hex, mixOptions), bg && node.mix !== void 0) {\n      const from = hexToRgb(bg), to = hexToRgb(hex);\n      hex = rgbToHex(mix(from, to, node.mix));\n    }\n  } catch (err) {\n    throw console.warn(\"could not blend\", hex, mixOptions), err;\n  }\n  return hex === \"#aN\" && (console.warn(`invalid color token value: ${str}`), hex = hexBeforeMix), node.opacity !== void 0 && (hex = rgba(hex, node.opacity)), hex;\n}\nfunction renderColorHex(color2) {\n  return typeof color2 == \"string\" ? color2 : color2.hex;\n}\nfunction renderThemeColorSchemes(value, config) {\n  var _a;\n  const colorPalette = (_a = config == null ? void 0 : config.palette) != null ? _a : defaultColorPalette;\n  return {\n    light: renderThemeColorScheme(colorPalette, value.light),\n    dark: renderThemeColorScheme(colorPalette, value.dark)\n  };\n}\nfunction renderThemeColorScheme(colorPalette, value) {\n  const toneEntries = Object.entries(value), [, transparentTone] = toneEntries.find(([k]) => k === \"transparent\"), [, defaultTone] = toneEntries.find(([k]) => k === \"default\"), renderedTransparentTone = renderThemeColor(transparentTone, { colorPalette }), renderedDefaultTone = renderThemeColor(defaultTone, { colorPalette }), bg = renderedDefaultTone.bg;\n  if (bg === \"white\")\n    throw new Error(\"Cannot blend with white background\");\n  return Object.fromEntries([\n    [\"transparent\", renderedTransparentTone],\n    [\"default\", renderedDefaultTone],\n    ...toneEntries.filter(([k]) => k !== \"default\" && k !== \"transparent\").map(([k, v]) => [k, renderThemeColor(v, { bg, colorPalette })])\n  ]);\n}\nfunction renderThemeColor(value, options) {\n  const { colorPalette, bg } = options, blendMode = value._blend || \"multiply\", baseBg = renderColorValue(value.bg, { colorPalette, bg, blendMode }), colorOptions = { colorPalette, bg: baseBg, blendMode }, button = renderThemeColorButton(value.button, {\n    baseBg,\n    blendMode,\n    colorPalette\n  }), selectable = renderThemeColorSelectable(value.selectable, {\n    colorPalette,\n    baseBg,\n    blendMode\n  }), shadow = {\n    outline: renderColorValue(value.shadow.outline, colorOptions),\n    umbra: renderColorValue(value.shadow.umbra, {\n      ...colorOptions,\n      bg: void 0,\n      colorPalette: { ...colorPalette, black: \"#000000\" }\n    }),\n    penumbra: renderColorValue(value.shadow.penumbra, {\n      ...colorOptions,\n      bg: void 0,\n      colorPalette: { ...colorPalette, black: \"#000000\" }\n    }),\n    ambient: renderColorValue(value.shadow.ambient, {\n      ...colorOptions,\n      bg: void 0,\n      colorPalette: { ...colorPalette, black: \"#000000\" }\n    })\n  };\n  return {\n    _blend: blendMode,\n    _dark: value._dark,\n    accent: {\n      fg: renderColorValue(value.accent.fg, colorOptions)\n    },\n    avatar: renderThemeColorAvatar(value.avatar, { baseBg, colorPalette, blendMode }),\n    backdrop: renderColorValue(value.backdrop, colorOptions),\n    badge: renderThemeColorBadge(value.badge, { baseBg, colorPalette, blendMode }),\n    bg: baseBg,\n    border: renderColorValue(value.border, colorOptions),\n    button,\n    code: {\n      bg: renderColorValue(value.code.bg, colorOptions),\n      fg: renderColorValue(value.code.fg, colorOptions)\n    },\n    fg: renderColorValue(value.fg, colorOptions),\n    focusRing: renderColorValue(value.focusRing, colorOptions),\n    icon: renderColorValue(value.icon, colorOptions),\n    input: renderThemeColorInput(value.input, { baseBg, colorPalette, blendMode }),\n    kbd: renderThemeColorKBD(value.kbd, { baseBg, colorPalette, blendMode }),\n    link: {\n      fg: renderColorValue(value.link.fg, colorOptions)\n    },\n    muted: {\n      bg: renderColorValue(value.muted.bg, colorOptions),\n      fg: renderColorValue(value.muted.fg, colorOptions)\n    },\n    shadow,\n    skeleton: {\n      from: renderColorValue(value.skeleton.from, colorOptions),\n      to: renderColorValue(value.skeleton.to, colorOptions)\n    },\n    syntax: renderSyntaxColorTheme(value.syntax, { baseBg, colorPalette, blendMode }),\n    selectable\n  };\n}\nfunction renderThemeColorKBD(value, options) {\n  const { baseBg, blendMode, colorPalette } = options, rootOptions = {\n    bg: baseBg,\n    blendMode,\n    colorPalette\n  }, bg = renderColorValue(value.bg, rootOptions), colorOptions = {\n    bg,\n    blendMode,\n    colorPalette\n  };\n  return {\n    bg,\n    fg: renderColorValue(value.fg, colorOptions),\n    border: renderColorValue(value.border, colorOptions)\n  };\n}\nfunction renderThemeColorAvatar(value, options) {\n  return {\n    gray: renderThemeColorAvatarColor(value.gray, options),\n    blue: renderThemeColorAvatarColor(value.blue, options),\n    purple: renderThemeColorAvatarColor(value.purple, options),\n    magenta: renderThemeColorAvatarColor(value.magenta, options),\n    red: renderThemeColorAvatarColor(value.red, options),\n    orange: renderThemeColorAvatarColor(value.orange, options),\n    yellow: renderThemeColorAvatarColor(value.yellow, options),\n    green: renderThemeColorAvatarColor(value.green, options),\n    cyan: renderThemeColorAvatarColor(value.cyan, options)\n  };\n}\nfunction renderThemeColorAvatarColor(value, options) {\n  const { baseBg, blendMode: rootBlendMode, colorPalette } = options, blendMode = value._blend || \"multiply\", rootOptions = {\n    bg: baseBg,\n    blendMode: rootBlendMode,\n    colorPalette\n  }, bg = renderColorValue(value.bg, rootOptions), colorOptions = {\n    bg,\n    blendMode,\n    colorPalette\n  };\n  return {\n    _blend: blendMode,\n    bg,\n    fg: renderColorValue(value.fg, colorOptions)\n  };\n}\nfunction renderThemeColorBadge(value, options) {\n  return {\n    default: renderThemeColorBadgeColor(value.default, options),\n    primary: renderThemeColorBadgeColor(value.primary, options),\n    positive: renderThemeColorBadgeColor(value.positive, options),\n    caution: renderThemeColorBadgeColor(value.caution, options),\n    critical: renderThemeColorBadgeColor(value.critical, options)\n  };\n}\nfunction renderThemeColorBadgeColor(value, options) {\n  const { baseBg, blendMode: rootBlendMode, colorPalette } = options, blendMode = rootBlendMode, rootOptions = {\n    bg: baseBg,\n    blendMode: rootBlendMode,\n    colorPalette\n  }, bg = renderColorValue(value.bg, rootOptions), colorOptions = {\n    bg,\n    blendMode,\n    colorPalette\n  };\n  return {\n    bg,\n    dot: renderColorValue(value.dot, colorOptions),\n    fg: renderColorValue(value.fg, colorOptions),\n    icon: renderColorValue(value.icon, colorOptions)\n  };\n}\nfunction renderThemeColorButton(value, options) {\n  return {\n    default: renderThemeColorButtonTones(value.default, options),\n    ghost: renderThemeColorButtonTones(value.ghost, options),\n    bleed: renderThemeColorButtonTones(value.bleed, options)\n  };\n}\nfunction renderThemeColorButtonTones(value, options) {\n  return {\n    default: renderThemeColorButtonStates(value.default, options),\n    primary: renderThemeColorButtonStates(value.primary, options),\n    positive: renderThemeColorButtonStates(value.positive, options),\n    caution: renderThemeColorButtonStates(value.caution, options),\n    critical: renderThemeColorButtonStates(value.critical, options)\n  };\n}\nfunction renderThemeColorButtonStates(value, options) {\n  return {\n    enabled: renderThemeColorState(value.enabled, options),\n    hovered: renderThemeColorState(value.hovered, options),\n    pressed: renderThemeColorState(value.pressed, options),\n    selected: renderThemeColorState(value.selected, options),\n    disabled: renderThemeColorState(value.disabled, options)\n  };\n}\nfunction renderThemeColorState(value, options) {\n  var _a, _b;\n  const { baseBg, blendMode: rootBlendMode, colorPalette } = options, blendMode = value._blend || \"multiply\", rootOptions = {\n    bg: baseBg,\n    blendMode: rootBlendMode,\n    colorPalette\n  }, bg = renderColorValue(value.bg, rootOptions), colorOptions = {\n    bg,\n    blendMode,\n    colorPalette\n  };\n  return {\n    _blend: blendMode,\n    accent: {\n      fg: renderColorValue(value.accent.fg, colorOptions)\n    },\n    avatar: renderThemeColorAvatar(value.avatar, { baseBg: bg, colorPalette, blendMode }),\n    badge: renderThemeColorBadge(value.badge, { baseBg: bg, colorPalette, blendMode }),\n    bg,\n    border: renderColorValue(value.border, colorOptions),\n    code: {\n      bg: renderColorValue(value.code.bg, colorOptions),\n      fg: renderColorValue(value.code.fg, colorOptions)\n    },\n    fg: renderColorValue(value.fg, colorOptions),\n    icon: renderColorValue(value.icon, colorOptions),\n    link: {\n      fg: renderColorValue(value.link.fg, colorOptions)\n    },\n    muted: {\n      bg: renderColorValue(value.muted.bg, colorOptions),\n      fg: renderColorValue(value.muted.fg, colorOptions)\n    },\n    kbd: {\n      bg: renderColorValue(value.kbd.bg, colorOptions),\n      fg: renderColorValue(value.kbd.fg, colorOptions),\n      border: renderColorValue(value.kbd.border, colorOptions)\n    },\n    skeleton: {\n      from: renderColorValue((_a = value.skeleton) == null ? void 0 : _a.from, colorOptions),\n      to: renderColorValue((_b = value.skeleton) == null ? void 0 : _b.to, colorOptions)\n    }\n  };\n}\nfunction renderThemeColorInput(value, options) {\n  return {\n    default: renderInputStatesColorTheme(value.default, options),\n    invalid: renderInputStatesColorTheme(value.invalid, options)\n  };\n}\nfunction renderInputStatesColorTheme(value, options) {\n  return {\n    enabled: renderInputStateColorTheme(value.enabled, options),\n    hovered: renderInputStateColorTheme(value.hovered, options),\n    readOnly: renderInputStateColorTheme(value.readOnly, options),\n    disabled: renderInputStateColorTheme(value.disabled, options)\n  };\n}\nfunction renderInputStateColorTheme(value, options) {\n  const { baseBg, blendMode: rootBlendMode, colorPalette } = options, blendMode = value._blend || \"multiply\", rootOptions = { colorPalette, bg: baseBg, blendMode: rootBlendMode }, bg = renderColorValue(value.bg, rootOptions), colorOptions = { colorPalette, bg, blendMode };\n  return {\n    _blend: blendMode,\n    bg,\n    border: renderColorValue(value.border, colorOptions),\n    fg: renderColorValue(value.fg, colorOptions),\n    muted: {\n      bg: renderColorValue(value.muted.bg, colorOptions)\n    },\n    placeholder: renderColorValue(value.placeholder, colorOptions)\n  };\n}\nfunction renderThemeColorSelectable(value, options) {\n  return {\n    default: renderThemeColorSelectableStates(value.default, options),\n    primary: renderThemeColorSelectableStates(value.primary, options),\n    positive: renderThemeColorSelectableStates(value.positive, options),\n    caution: renderThemeColorSelectableStates(value.caution, options),\n    critical: renderThemeColorSelectableStates(value.critical, options)\n  };\n}\nfunction renderThemeColorSelectableStates(value, options) {\n  return {\n    enabled: renderThemeColorState(value.enabled, options),\n    hovered: renderThemeColorState(value.hovered, options),\n    pressed: renderThemeColorState(value.pressed, options),\n    selected: renderThemeColorState(value.selected, options),\n    disabled: renderThemeColorState(value.disabled, options)\n  };\n}\nfunction renderSyntaxColorTheme(value, options) {\n  const { colorPalette, baseBg, blendMode } = options, colorOptions = { colorPalette, bg: baseBg, blendMode };\n  return {\n    atrule: renderColorValue(value.atrule, colorOptions),\n    attrName: renderColorValue(value.attrName, colorOptions),\n    attrValue: renderColorValue(value.attrValue, colorOptions),\n    attribute: renderColorValue(value.attribute, colorOptions),\n    boolean: renderColorValue(value.boolean, colorOptions),\n    builtin: renderColorValue(value.builtin, colorOptions),\n    cdata: renderColorValue(value.cdata, colorOptions),\n    char: renderColorValue(value.char, colorOptions),\n    class: renderColorValue(value.class, colorOptions),\n    className: renderColorValue(value.className, colorOptions),\n    comment: renderColorValue(value.comment, colorOptions),\n    constant: renderColorValue(value.constant, colorOptions),\n    deleted: renderColorValue(value.deleted, colorOptions),\n    doctype: renderColorValue(value.doctype, colorOptions),\n    entity: renderColorValue(value.entity, colorOptions),\n    function: renderColorValue(value.function, colorOptions),\n    hexcode: renderColorValue(value.hexcode, colorOptions),\n    id: renderColorValue(value.id, colorOptions),\n    important: renderColorValue(value.important, colorOptions),\n    inserted: renderColorValue(value.inserted, colorOptions),\n    keyword: renderColorValue(value.keyword, colorOptions),\n    number: renderColorValue(value.number, colorOptions),\n    operator: renderColorValue(value.operator, colorOptions),\n    prolog: renderColorValue(value.prolog, colorOptions),\n    property: renderColorValue(value.property, colorOptions),\n    pseudoClass: renderColorValue(value.pseudoClass, colorOptions),\n    pseudoElement: renderColorValue(value.pseudoElement, colorOptions),\n    punctuation: renderColorValue(value.punctuation, colorOptions),\n    regex: renderColorValue(value.regex, colorOptions),\n    selector: renderColorValue(value.selector, colorOptions),\n    string: renderColorValue(value.string, colorOptions),\n    symbol: renderColorValue(value.symbol, colorOptions),\n    tag: renderColorValue(value.tag, colorOptions),\n    unit: renderColorValue(value.unit, colorOptions),\n    url: renderColorValue(value.url, colorOptions),\n    variable: renderColorValue(value.variable, colorOptions)\n  };\n}\nfunction buildTheme(config) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l;\n  const colorTheme = buildColorTheme(config), v2 = {\n    _version: 2,\n    avatar: (_a = config == null ? void 0 : config.avatar) != null ? _a : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.avatar,\n    button: (_b = config == null ? void 0 : config.button) != null ? _b : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.button,\n    card: (_c = config == null ? void 0 : config.card) != null ? _c : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.card,\n    // How colors are generated:\n    // 1. Merge custom tokens with default tokens\n    // 2. Generate tree of color keys (gray/500, black, white, etc.)\n    // 3. Apply mixing and render to hex values\n    // render(build(mergeWithDefaults()))\n    color: renderThemeColorSchemes(colorTheme, config),\n    container: (_d = config == null ? void 0 : config.container) != null ? _d : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.container,\n    font: (_e = config == null ? void 0 : config.font) != null ? _e : defaultThemeFonts,\n    input: (_f = config == null ? void 0 : config.input) != null ? _f : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.input,\n    layer: (_g = config == null ? void 0 : config.layer) != null ? _g : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.layer,\n    media: (_h = config == null ? void 0 : config.media) != null ? _h : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.media,\n    radius: (_i = config == null ? void 0 : config.radius) != null ? _i : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.radius,\n    shadow: (_j = config == null ? void 0 : config.shadow) != null ? _j : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.shadow,\n    space: (_k = config == null ? void 0 : config.space) != null ? _k : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.space,\n    style: (_l = config == null ? void 0 : config.style) != null ? _l : _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.style\n  };\n  return v2_v0(v2);\n}\nconst cache = /* @__PURE__ */ new Map();\nfunction getScopedTheme(themeProp, scheme, tone) {\n  const cachedTheme = _getCachedTheme(themeProp, scheme, tone);\n  if (cachedTheme) return cachedTheme;\n  const v0 = is_v2(themeProp) ? v2_v0(themeProp) : themeProp, v2 = is_v2(themeProp) ? themeProp : v0_v2(themeProp), colorScheme_v0 = v0.color[scheme] || v0.color.light, color_v0 = colorScheme_v0[tone] || colorScheme_v0.default, layer_v0 = v0.layer || _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.layer, colorScheme_v2 = v2.color[scheme] || v2.color.light, color_v2 = colorScheme_v2[tone] || colorScheme_v2.default, layer_v2 = v2.layer || _chunks_es_getTheme_v2_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultThemeConfig.layer, theme = {\n    sanity: {\n      ...v0,\n      color: color_v0,\n      layer: layer_v0,\n      v2: {\n        ...v2,\n        _resolved: !0,\n        color: color_v2,\n        layer: layer_v2\n      }\n    }\n  };\n  return _setCachedTheme(themeProp, scheme, tone, theme), theme;\n}\nfunction _getCachedTheme(rootTheme, scheme, tone) {\n  const schemeCache = cache.get(scheme);\n  if (!schemeCache) return;\n  const toneCache = schemeCache.get(tone);\n  if (toneCache)\n    return toneCache.get(rootTheme);\n}\nfunction _setCachedTheme(rootTheme, scheme, tone, theme) {\n  cache.has(scheme) || cache.set(scheme, /* @__PURE__ */ new Map());\n  const schemeCache = cache.get(scheme);\n  schemeCache.has(tone) || schemeCache.set(tone, /* @__PURE__ */ new WeakMap()), schemeCache.get(tone).set(rootTheme, theme);\n}\n\n//# sourceMappingURL=theme.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS91aS9kaXN0L3RoZW1lLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRjtBQUN6QjtBQUNJO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFEQUFxRDtBQUNqRiw2QkFBNkIsc0RBQXNEO0FBQ25GLDRCQUE0QixxREFBcUQ7QUFDakYsNEJBQTRCLHFEQUFxRDtBQUNqRiw2QkFBNkIsc0RBQXNEO0FBQ25GLEtBQUs7QUFDTDtBQUNBLDRCQUE0Qix5REFBeUQ7QUFDckYsNkJBQTZCLDBEQUEwRDtBQUN2Riw0QkFBNEIseURBQXlEO0FBQ3JGLDRCQUE0Qix5REFBeUQ7QUFDckYsNkJBQTZCLDBEQUEwRDtBQUN2RixLQUFLO0FBQ0w7QUFDQSw0QkFBNEIscURBQXFEO0FBQ2pGLDZCQUE2QixzREFBc0Q7QUFDbkYsNEJBQTRCLHFEQUFxRDtBQUNqRiw0QkFBNEIscURBQXFEO0FBQ2pGLDZCQUE2QixzREFBc0Q7QUFDbkYsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLHNEQUFzRDtBQUNsRiw2QkFBNkIsdURBQXVEO0FBQ3BGLDRCQUE0QixzREFBc0Q7QUFDbEYsNEJBQTRCLHNEQUFzRDtBQUNsRiw2QkFBNkIsdURB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QUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFNBQVMsMEVBQWtCO0FBQzNCO0FBQ0EsS0FBSztBQUNMO0FBQ0EsU0FBUywwRUFBa0I7QUFDM0I7QUFDQSxLQUFLO0FBQ0wsVUFBVSwwRUFBa0I7QUFDNUI7QUFDQTtBQUNBLHFCQUFxQiw0RUFBZ0I7QUFDckMsaUJBQWlCLDRFQUFnQjtBQUNqQyxpQkFBaUIsNEVBQWdCO0FBQ2pDLGtCQUFrQiw0RUFBZ0I7QUFDbEMsaUJBQWlCLDRFQUFnQjtBQUNqQyxrQkFBa0IsNEVBQWdCO0FBQ2xDLE9BQU87QUFDUDtBQUNBLHFCQUFxQiw0RUFBZ0I7QUFDckMsaUJBQWlCLDRFQUFnQjtBQUNqQyxpQkFBaUIsNEVBQWdCO0FBQ2pDLGtCQUFrQiw0RUFBZ0I7QUFDbEMsaUJBQWlCLDRFQUFnQjtBQUNqQyxrQkFBa0IsNEVBQWdCO0FBQ2xDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMEVBQWtCO0FBQzNCO0FBQ0E7QUFDQSxXQUFXLDBFQUFrQjtBQUM3QjtBQUNBLE9BQU87QUFDUDtBQUNBLFdBQVcsMEVBQWtCO0FBQzdCO0FBQ0EsT0FBTztBQUNQO0FBQ0EsV0FBVywwRUFBa0I7QUFDN0I7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQ0FBbUMsMEVBQWtCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc1NBQXNTLHFEQUFVO0FBQ2hUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxREFBVTtBQUNuQjtBQUNBO0FBQ0EsU0FBUyxzREFBVztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixTQUFTLEdBQUcsVUFBVSw0QkFBNEIsS0FBSyxFQUFFLGVBQWUsNkNBQTZDLGFBQWE7QUFDcE47QUFDQTtBQUNBO0FBQ0EsVUFBVSxjQUFjO0FBQ3hCO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQsa0NBQWtDLCtCQUErQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxlQUFlLGNBQWM7QUFDN0I7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0w7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0wsZ0JBQWdCO0FBQ2hCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztB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a0MsNEJBQTRCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLDBFQUFrQjtBQUM1RiwwRUFBMEUsMEVBQWtCO0FBQzVGLHNFQUFzRSwwRUFBa0I7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLDBFQUFrQjtBQUNsRztBQUNBLHdFQUF3RSwwRUFBa0I7QUFDMUYsd0VBQXdFLDBFQUFrQjtBQUMxRix3RUFBd0UsMEVBQWtCO0FBQzFGLDBFQUEwRSwwRUFBa0I7QUFDNUYsMEVBQTBFLDBFQUFrQjtBQUM1Rix3RUFBd0UsMEVBQWtCO0FBQzFGLHdFQUF3RSwwRUFBa0I7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyUEFBMlAsMEVBQWtCLCtJQUErSSwwRUFBa0I7QUFDOWE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXFERTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L3VpL2Rpc3QvdGhlbWUubWpzPzQ3MjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmYXVsdFRoZW1lQ29uZmlnLCB0aGVtZUNvbG9yX3YwX3YyIH0gZnJvbSBcIi4vX2NodW5rcy1lcy9nZXRUaGVtZV92Mi5tanNcIjtcbmltcG9ydCB7IGdldFRoZW1lX3YyIH0gZnJvbSBcIi4vX2NodW5rcy1lcy9nZXRUaGVtZV92Mi5tanNcIjtcbmltcG9ydCB7IENPTE9SX0hVRVMsIENPTE9SX1RJTlRTLCBjb2xvciB9IGZyb20gXCJAc2FuaXR5L2NvbG9yXCI7XG5mdW5jdGlvbiBjcmVhdGVTZWxlY3RhYmxlVG9uZXMob3B0cywgYmFzZSwgZGFyaywgc29saWQsIG11dGVkKSB7XG4gIHJldHVybiB7XG4gICAgZGVmYXVsdDogX2NyZWF0ZVNlbGVjdGFibGVTdGF0ZXMob3B0cywgYmFzZSwgZGFyaywgc29saWQsIG11dGVkLCBcImRlZmF1bHRcIiksXG4gICAgcHJpbWFyeTogX2NyZWF0ZVNlbGVjdGFibGVTdGF0ZXMob3B0cywgYmFzZSwgZGFyaywgc29saWQsIG11dGVkLCBcInByaW1hcnlcIiksXG4gICAgcG9zaXRpdmU6IF9jcmVhdGVTZWxlY3RhYmxlU3RhdGVzKG9wdHMsIGJhc2UsIGRhcmssIHNvbGlkLCBtdXRlZCwgXCJwb3NpdGl2ZVwiKSxcbiAgICBjYXV0aW9uOiBfY3JlYXRlU2VsZWN0YWJsZVN0YXRlcyhvcHRzLCBiYXNlLCBkYXJrLCBzb2xpZCwgbXV0ZWQsIFwiY2F1dGlvblwiKSxcbiAgICBjcml0aWNhbDogX2NyZWF0ZVNlbGVjdGFibGVTdGF0ZXMob3B0cywgYmFzZSwgZGFyaywgc29saWQsIG11dGVkLCBcImNyaXRpY2FsXCIpXG4gIH07XG59XG5mdW5jdGlvbiBfY3JlYXRlU2VsZWN0YWJsZVN0YXRlcyhvcHRzLCBiYXNlLCBkYXJrLCBzb2xpZCwgbXV0ZWQsIHRvbmUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbmFibGVkOiBvcHRzLnNlbGVjdGFibGUoe1xuICAgICAgYmFzZSxcbiAgICAgIGRhcmssXG4gICAgICBzb2xpZCxcbiAgICAgIG11dGVkLFxuICAgICAgc3RhdGU6IFwiZW5hYmxlZFwiLFxuICAgICAgdG9uZVxuICAgIH0pLFxuICAgIGhvdmVyZWQ6IG9wdHMuc2VsZWN0YWJsZSh7XG4gICAgICBiYXNlLFxuICAgICAgZGFyayxcbiAgICAgIHNvbGlkLFxuICAgICAgbXV0ZWQsXG4gICAgICBzdGF0ZTogXCJob3ZlcmVkXCIsXG4gICAgICB0b25lXG4gICAgfSksXG4gICAgcHJlc3NlZDogb3B0cy5zZWxlY3RhYmxlKHtcbiAgICAgIGJhc2UsXG4gICAgICBkYXJrLFxuICAgICAgc29saWQsXG4gICAgICBtdXRlZCxcbiAgICAgIHN0YXRlOiBcInByZXNzZWRcIixcbiAgICAgIHRvbmVcbiAgICB9KSxcbiAgICBzZWxlY3RlZDogb3B0cy5zZWxlY3RhYmxlKHtcbiAgICAgIGJhc2UsXG4gICAgICBkYXJrLFxuICAgICAgc29saWQsXG4gICAgICBtdXRlZCxcbiAgICAgIHN0YXRlOiBcInNlbGVjdGVkXCIsXG4gICAgICB0b25lXG4gICAgfSksXG4gICAgZGlzYWJsZWQ6IG9wdHMuc2VsZWN0YWJsZSh7XG4gICAgICBiYXNlLFxuICAgICAgZGFyayxcbiAgICAgIHNvbGlkLFxuICAgICAgbXV0ZWQsXG4gICAgICBzdGF0ZTogXCJkaXNhYmxlZFwiLFxuICAgICAgdG9uZVxuICAgIH0pXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVTb2xpZFRvbmVzKG9wdHMsIGJhc2UsIGRhcmssIG5hbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBkZWZhdWx0OiB7XG4gICAgICBlbmFibGVkOiBvcHRzLnNvbGlkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJkZWZhdWx0XCIsIG5hbWUsIHN0YXRlOiBcImVuYWJsZWRcIiB9KSxcbiAgICAgIGRpc2FibGVkOiBvcHRzLnNvbGlkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJkZWZhdWx0XCIsIG5hbWUsIHN0YXRlOiBcImRpc2FibGVkXCIgfSksXG4gICAgICBob3ZlcmVkOiBvcHRzLnNvbGlkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJkZWZhdWx0XCIsIG5hbWUsIHN0YXRlOiBcImhvdmVyZWRcIiB9KSxcbiAgICAgIHByZXNzZWQ6IG9wdHMuc29saWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcImRlZmF1bHRcIiwgbmFtZSwgc3RhdGU6IFwicHJlc3NlZFwiIH0pLFxuICAgICAgc2VsZWN0ZWQ6IG9wdHMuc29saWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcImRlZmF1bHRcIiwgbmFtZSwgc3RhdGU6IFwic2VsZWN0ZWRcIiB9KVxuICAgIH0sXG4gICAgdHJhbnNwYXJlbnQ6IHtcbiAgICAgIGVuYWJsZWQ6IG9wdHMuc29saWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInRyYW5zcGFyZW50XCIsIG5hbWUsIHN0YXRlOiBcImVuYWJsZWRcIiB9KSxcbiAgICAgIGRpc2FibGVkOiBvcHRzLnNvbGlkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJ0cmFuc3BhcmVudFwiLCBuYW1lLCBzdGF0ZTogXCJkaXNhYmxlZFwiIH0pLFxuICAgICAgaG92ZXJlZDogb3B0cy5zb2xpZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwidHJhbnNwYXJlbnRcIiwgbmFtZSwgc3RhdGU6IFwiaG92ZXJlZFwiIH0pLFxuICAgICAgcHJlc3NlZDogb3B0cy5zb2xpZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwidHJhbnNwYXJlbnRcIiwgbmFtZSwgc3RhdGU6IFwicHJlc3NlZFwiIH0pLFxuICAgICAgc2VsZWN0ZWQ6IG9wdHMuc29saWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInRyYW5zcGFyZW50XCIsIG5hbWUsIHN0YXRlOiBcInNlbGVjdGVkXCIgfSlcbiAgICB9LFxuICAgIHByaW1hcnk6IHtcbiAgICAgIGVuYWJsZWQ6IG9wdHMuc29saWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInByaW1hcnlcIiwgbmFtZSwgc3RhdGU6IFwiZW5hYmxlZFwiIH0pLFxuICAgICAgZGlzYWJsZWQ6IG9wdHMuc29saWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInByaW1hcnlcIiwgbmFtZSwgc3RhdGU6IFwiZGlzYWJsZWRcIiB9KSxcbiAgICAgIGhvdmVyZWQ6IG9wdHMuc29saWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInByaW1hcnlcIiwgbmFtZSwgc3RhdGU6IFwiaG92ZXJlZFwiIH0pLFxuICAgICAgcHJlc3NlZDogb3B0cy5zb2xpZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwicHJpbWFyeVwiLCBuYW1lLCBzdGF0ZTogXCJwcmVzc2VkXCIgfSksXG4gICAgICBzZWxlY3RlZDogb3B0cy5zb2xpZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwicHJpbWFyeVwiLCBuYW1lLCBzdGF0ZTogXCJzZWxlY3RlZFwiIH0pXG4gICAgfSxcbiAgICBwb3NpdGl2ZToge1xuICAgICAgZW5hYmxlZDogb3B0cy5zb2xpZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwicG9zaXRpdmVcIiwgbmFtZSwgc3RhdGU6IFwiZW5hYmxlZFwiIH0pLFxuICAgICAgZGlzYWJsZWQ6IG9wdHMuc29saWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInBvc2l0aXZlXCIsIG5hbWUsIHN0YXRlOiBcImRpc2FibGVkXCIgfSksXG4gICAgICBob3ZlcmVkOiBvcHRzLnNvbGlkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJwb3NpdGl2ZVwiLCBuYW1lLCBzdGF0ZTogXCJob3ZlcmVkXCIgfSksXG4gICAgICBwcmVzc2VkOiBvcHRzLnNvbGlkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJwb3NpdGl2ZVwiLCBuYW1lLCBzdGF0ZTogXCJwcmVzc2VkXCIgfSksXG4gICAgICBzZWxlY3RlZDogb3B0cy5zb2xpZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwicG9zaXRpdmVcIiwgbmFtZSwgc3RhdGU6IFwic2VsZWN0ZWRcIiB9KVxuICAgIH0sXG4gICAgY2F1dGlvbjoge1xuICAgICAgZW5hYmxlZDogb3B0cy5zb2xpZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwiY2F1dGlvblwiLCBuYW1lLCBzdGF0ZTogXCJlbmFibGVkXCIgfSksXG4gICAgICBkaXNhYmxlZDogb3B0cy5zb2xpZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwiY2F1dGlvblwiLCBuYW1lLCBzdGF0ZTogXCJkaXNhYmxlZFwiIH0pLFxuICAgICAgaG92ZXJlZDogb3B0cy5zb2xpZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwiY2F1dGlvblwiLCBuYW1lLCBzdGF0ZTogXCJob3ZlcmVkXCIgfSksXG4gICAgICBwcmVzc2VkOiBvcHRzLnNvbGlkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJjYXV0aW9uXCIsIG5hbWUsIHN0YXRlOiBcInByZXNzZWRcIiB9KSxcbiAgICAgIHNlbGVjdGVkOiBvcHRzLnNvbGlkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJjYXV0aW9uXCIsIG5hbWUsIHN0YXRlOiBcInNlbGVjdGVkXCIgfSlcbiAgICB9LFxuICAgIGNyaXRpY2FsOiB7XG4gICAgICBlbmFibGVkOiBvcHRzLnNvbGlkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJjcml0aWNhbFwiLCBuYW1lLCBzdGF0ZTogXCJlbmFibGVkXCIgfSksXG4gICAgICBkaXNhYmxlZDogb3B0cy5zb2xpZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwiY3JpdGljYWxcIiwgbmFtZSwgc3RhdGU6IFwiZGlzYWJsZWRcIiB9KSxcbiAgICAgIGhvdmVyZWQ6IG9wdHMuc29saWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcImNyaXRpY2FsXCIsIG5hbWUsIHN0YXRlOiBcImhvdmVyZWRcIiB9KSxcbiAgICAgIHByZXNzZWQ6IG9wdHMuc29saWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcImNyaXRpY2FsXCIsIG5hbWUsIHN0YXRlOiBcInByZXNzZWRcIiB9KSxcbiAgICAgIHNlbGVjdGVkOiBvcHRzLnNvbGlkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJjcml0aWNhbFwiLCBuYW1lLCBzdGF0ZTogXCJzZWxlY3RlZFwiIH0pXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQnV0dG9uVG9uZXMob3B0cywgYmFzZSwgZGFyaywgc29saWQsIG11dGVkLCBtb2RlKSB7XG4gIHJldHVybiB7XG4gICAgZGVmYXVsdDogb3B0cy5idXR0b24oe1xuICAgICAgYmFzZSxcbiAgICAgIGRhcmssXG4gICAgICBzb2xpZDogc29saWQuZGVmYXVsdCxcbiAgICAgIG11dGVkOiBtdXRlZC5kZWZhdWx0LFxuICAgICAgbW9kZVxuICAgIH0pLFxuICAgIHByaW1hcnk6IG9wdHMuYnV0dG9uKHtcbiAgICAgIGJhc2UsXG4gICAgICBkYXJrLFxuICAgICAgc29saWQ6IHNvbGlkLnByaW1hcnksXG4gICAgICBtdXRlZDogbXV0ZWQucHJpbWFyeSxcbiAgICAgIG1vZGVcbiAgICB9KSxcbiAgICBwb3NpdGl2ZTogb3B0cy5idXR0b24oe1xuICAgICAgYmFzZSxcbiAgICAgIGRhcmssXG4gICAgICBzb2xpZDogc29saWQucG9zaXRpdmUsXG4gICAgICBtdXRlZDogbXV0ZWQucG9zaXRpdmUsXG4gICAgICBtb2RlXG4gICAgfSksXG4gICAgY2F1dGlvbjogb3B0cy5idXR0b24oe1xuICAgICAgYmFzZSxcbiAgICAgIGRhcmssXG4gICAgICBzb2xpZDogc29saWQuY2F1dGlvbixcbiAgICAgIG11dGVkOiBtdXRlZC5jYXV0aW9uLFxuICAgICAgbW9kZVxuICAgIH0pLFxuICAgIGNyaXRpY2FsOiBvcHRzLmJ1dHRvbih7XG4gICAgICBiYXNlLFxuICAgICAgZGFyayxcbiAgICAgIHNvbGlkOiBzb2xpZC5jcml0aWNhbCxcbiAgICAgIG11dGVkOiBtdXRlZC5jcml0aWNhbCxcbiAgICAgIG1vZGVcbiAgICB9KVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQnV0dG9uTW9kZXMob3B0cywgYmFzZSwgZGFyaywgc29saWQsIG11dGVkKSB7XG4gIHJldHVybiB7XG4gICAgZGVmYXVsdDogY3JlYXRlQnV0dG9uVG9uZXMob3B0cywgYmFzZSwgZGFyaywgc29saWQsIG11dGVkLCBcImRlZmF1bHRcIiksXG4gICAgZ2hvc3Q6IGNyZWF0ZUJ1dHRvblRvbmVzKG9wdHMsIGJhc2UsIGRhcmssIHNvbGlkLCBtdXRlZCwgXCJnaG9zdFwiKSxcbiAgICBibGVlZDogY3JlYXRlQnV0dG9uVG9uZXMob3B0cywgYmFzZSwgZGFyaywgc29saWQsIG11dGVkLCBcImJsZWVkXCIpXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVDYXJkU3RhdGVzKG9wdHMsIGJhc2UsIGRhcmssIG5hbWUsIHNvbGlkLCBtdXRlZCkge1xuICByZXR1cm4ge1xuICAgIGVuYWJsZWQ6IG9wdHMuY2FyZCh7XG4gICAgICBiYXNlLFxuICAgICAgZGFyayxcbiAgICAgIG5hbWUsXG4gICAgICBzdGF0ZTogXCJlbmFibGVkXCIsXG4gICAgICBzb2xpZCxcbiAgICAgIG11dGVkXG4gICAgfSksXG4gICAgZGlzYWJsZWQ6IG9wdHMuY2FyZCh7XG4gICAgICBiYXNlLFxuICAgICAgZGFyayxcbiAgICAgIG5hbWUsXG4gICAgICBzdGF0ZTogXCJkaXNhYmxlZFwiLFxuICAgICAgc29saWQsXG4gICAgICBtdXRlZFxuICAgIH0pLFxuICAgIGhvdmVyZWQ6IG9wdHMuY2FyZCh7XG4gICAgICBiYXNlLFxuICAgICAgZGFyayxcbiAgICAgIG5hbWUsXG4gICAgICBzdGF0ZTogXCJob3ZlcmVkXCIsXG4gICAgICBzb2xpZCxcbiAgICAgIG11dGVkXG4gICAgfSksXG4gICAgcHJlc3NlZDogb3B0cy5jYXJkKHtcbiAgICAgIGJhc2UsXG4gICAgICBkYXJrLFxuICAgICAgbmFtZSxcbiAgICAgIHN0YXRlOiBcInByZXNzZWRcIixcbiAgICAgIHNvbGlkLFxuICAgICAgbXV0ZWRcbiAgICB9KSxcbiAgICBzZWxlY3RlZDogb3B0cy5jYXJkKHtcbiAgICAgIGJhc2UsXG4gICAgICBkYXJrLFxuICAgICAgbmFtZSxcbiAgICAgIHN0YXRlOiBcInNlbGVjdGVkXCIsXG4gICAgICBzb2xpZCxcbiAgICAgIG11dGVkXG4gICAgfSlcbiAgfTtcbn1cbmNvbnN0IGJsYWNrID0gXCJoc2woMCwgMCUsIDAlKVwiLCB3aGl0ZSA9IFwiaHNsKDAsIDAlLCAxMDAlKVwiLCBjb2xvcnMgPSB7XG4gIGRlZmF1bHQ6IHtcbiAgICBsaWdodGVzdDogXCJoc2woMCwgMCUsIDk1JSlcIixcbiAgICBsaWdodGVyOiBcImhzbCgwLCAwJSwgNzAlKVwiLFxuICAgIGxpZ2h0OiBcImhzbCgwLCAwJSwgNjUlKVwiLFxuICAgIGJhc2U6IFwiaHNsKDAsIDAlLCA1MCUpXCIsXG4gICAgZGFyazogXCJoc2woMCwgMCUsIDM1JSlcIixcbiAgICBkYXJrZXI6IFwiaHNsKDAsIDAlLCAyMCUpXCIsXG4gICAgZGFya2VzdDogXCJoc2woMCwgMCUsIDUlKVwiXG4gIH0sXG4gIHRyYW5zcGFyZW50OiB7XG4gICAgbGlnaHRlc3Q6IFwiaHNsKDI0MCwgMTAwJSwgOTUlKVwiLFxuICAgIGxpZ2h0ZXI6IFwiaHNsKDI0MCwgMTAwJSwgNzAlKVwiLFxuICAgIGxpZ2h0OiBcImhzbCgyNDAsIDEwMCUsIDY1JSlcIixcbiAgICBiYXNlOiBcImhzbCgyNDAsIDEwMCUsIDUwJSlcIixcbiAgICBkYXJrOiBcImhzbCgyNDAsIDEwMCUsIDM1JSlcIixcbiAgICBkYXJrZXI6IFwiaHNsKDI0MCwgMTAwJSwgMjAlKVwiLFxuICAgIGRhcmtlc3Q6IFwiaHNsKDI0MCwgMTAwJSwgNSUpXCJcbiAgfSxcbiAgcHJpbWFyeToge1xuICAgIGxpZ2h0ZXN0OiBcImhzbCgyNDAsIDEwMCUsIDk1JSlcIixcbiAgICBsaWdodGVyOiBcImhzbCgyNDAsIDEwMCUsIDcwJSlcIixcbiAgICBsaWdodDogXCJoc2woMjQwLCAxMDAlLCA2NSUpXCIsXG4gICAgYmFzZTogXCJoc2woMjQwLCAxMDAlLCA1MCUpXCIsXG4gICAgZGFyazogXCJoc2woMjQwLCAxMDAlLCAzNSUpXCIsXG4gICAgZGFya2VyOiBcImhzbCgyNDAsIDEwMCUsIDIwJSlcIixcbiAgICBkYXJrZXN0OiBcImhzbCgyNDAsIDEwMCUsIDUlKVwiXG4gIH0sXG4gIHBvc2l0aXZlOiB7XG4gICAgbGlnaHRlc3Q6IFwiaHNsKDEyMCwgMTAwJSwgOTUlKVwiLFxuICAgIGxpZ2h0ZXI6IFwiaHNsKDEyMCwgMTAwJSwgNzAlKVwiLFxuICAgIGxpZ2h0OiBcImhzbCgxMjAsIDEwMCUsIDY1JSlcIixcbiAgICBiYXNlOiBcImhzbCgxMjAsIDEwMCUsIDUwJSlcIixcbiAgICBkYXJrOiBcImhzbCgxMjAsIDEwMCUsIDM1JSlcIixcbiAgICBkYXJrZXI6IFwiaHNsKDEyMCwgMTAwJSwgMjAlKVwiLFxuICAgIGRhcmtlc3Q6IFwiaHNsKDEyMCwgMTAwJSwgNSUpXCJcbiAgfSxcbiAgY2F1dGlvbjoge1xuICAgIGxpZ2h0ZXN0OiBcImhzbCg2MCwgMTAwJSwgOTUlKVwiLFxuICAgIGxpZ2h0ZXI6IFwiaHNsKDYwLCAxMDAlLCA3MCUpXCIsXG4gICAgbGlnaHQ6IFwiaHNsKDYwLCAxMDAlLCA2NSUpXCIsXG4gICAgYmFzZTogXCJoc2woNjAsIDEwMCUsIDUwJSlcIixcbiAgICBkYXJrOiBcImhzbCg2MCwgMTAwJSwgMzUlKVwiLFxuICAgIGRhcmtlcjogXCJoc2woNjAsIDEwMCUsIDIwJSlcIixcbiAgICBkYXJrZXN0OiBcImhzbCg2MCwgMTAwJSwgNSUpXCJcbiAgfSxcbiAgY3JpdGljYWw6IHtcbiAgICBsaWdodGVzdDogXCJoc2woMCwgMTAwJSwgOTUlKVwiLFxuICAgIGxpZ2h0ZXI6IFwiaHNsKDAsIDEwMCUsIDcwJSlcIixcbiAgICBsaWdodDogXCJoc2woMCwgMTAwJSwgNjUlKVwiLFxuICAgIGJhc2U6IFwiaHNsKDAsIDEwMCUsIDUwJSlcIixcbiAgICBkYXJrOiBcImhzbCgwLCAxMDAlLCAzNSUpXCIsXG4gICAgZGFya2VyOiBcImhzbCgwLCAxMDAlLCAyMCUpXCIsXG4gICAgZGFya2VzdDogXCJoc2woMCwgMTAwJSwgNSUpXCJcbiAgfVxufSwgc3BvdHMgPSB7XG4gIGdyYXk6IFwiaHNsKDAsIDAlLCA1MCUpXCIsXG4gIHJlZDogXCJoc2woMCwgMTAwJSwgNTAlKVwiLFxuICBvcmFuZ2U6IFwiaHNsKDMwLCAxMDAlLCA1MCUpXCIsXG4gIHllbGxvdzogXCJoc2woNjAsIDEwMCUsIDUwJSlcIixcbiAgZ3JlZW46IFwiaHNsKDEyMCwgMTAwJSwgNTAlKVwiLFxuICBjeWFuOiBcImhzbCgxODAsIDEwMCUsIDUwJSlcIixcbiAgYmx1ZTogXCJoc2woMjQwLCAxMDAlLCA1MCUpXCIsXG4gIHB1cnBsZTogXCJoc2woMjcwLCAxMDAlLCA1MCUpXCIsXG4gIG1hZ2VudGE6IFwiaHNsKDMwMCwgMTAwJSwgNTAlKVwiXG59LCB0b25lcyA9IHtcbiAgdHJhbnNwYXJlbnQ6IHtcbiAgICBiZzogW2NvbG9ycy50cmFuc3BhcmVudC5kYXJrZXN0LCBjb2xvcnMudHJhbnNwYXJlbnQubGlnaHRlc3RdLFxuICAgIGZnOiBbY29sb3JzLnRyYW5zcGFyZW50LmxpZ2h0ZXN0LCBjb2xvcnMudHJhbnNwYXJlbnQuZGFya2VzdF0sXG4gICAgYm9yZGVyOiBbY29sb3JzLnRyYW5zcGFyZW50LmRhcmtlciwgY29sb3JzLnRyYW5zcGFyZW50LmxpZ2h0ZXJdLFxuICAgIGZvY3VzUmluZzogW2NvbG9ycy50cmFuc3BhcmVudC5iYXNlLCBjb2xvcnMudHJhbnNwYXJlbnQuYmFzZV1cbiAgfSxcbiAgcHJpbWFyeToge1xuICAgIGJnOiBbY29sb3JzLnByaW1hcnkuZGFya2VzdCwgY29sb3JzLnByaW1hcnkubGlnaHRlc3RdLFxuICAgIGZnOiBbY29sb3JzLnByaW1hcnkubGlnaHRlc3QsIGNvbG9ycy5wcmltYXJ5LmRhcmtlc3RdLFxuICAgIGJvcmRlcjogW2NvbG9ycy5wcmltYXJ5LmRhcmtlciwgY29sb3JzLnByaW1hcnkubGlnaHRlcl0sXG4gICAgZm9jdXNSaW5nOiBbY29sb3JzLnByaW1hcnkuYmFzZSwgY29sb3JzLnByaW1hcnkuYmFzZV1cbiAgfSxcbiAgcG9zaXRpdmU6IHtcbiAgICBiZzogW2NvbG9ycy5wb3NpdGl2ZS5kYXJrZXN0LCBjb2xvcnMucG9zaXRpdmUubGlnaHRlc3RdLFxuICAgIGZnOiBbY29sb3JzLnBvc2l0aXZlLmxpZ2h0ZXN0LCBjb2xvcnMucG9zaXRpdmUuZGFya2VzdF0sXG4gICAgYm9yZGVyOiBbY29sb3JzLnBvc2l0aXZlLmRhcmtlciwgY29sb3JzLnBvc2l0aXZlLmxpZ2h0ZXJdLFxuICAgIGZvY3VzUmluZzogW2NvbG9ycy5wb3NpdGl2ZS5iYXNlLCBjb2xvcnMucG9zaXRpdmUuYmFzZV1cbiAgfSxcbiAgY2F1dGlvbjoge1xuICAgIGJnOiBbY29sb3JzLmNhdXRpb24uZGFya2VzdCwgY29sb3JzLmNhdXRpb24ubGlnaHRlc3RdLFxuICAgIGZnOiBbY29sb3JzLmNhdXRpb24ubGlnaHRlc3QsIGNvbG9ycy5jYXV0aW9uLmRhcmtlc3RdLFxuICAgIGJvcmRlcjogW2NvbG9ycy5jYXV0aW9uLmRhcmtlciwgY29sb3JzLmNhdXRpb24ubGlnaHRlcl0sXG4gICAgZm9jdXNSaW5nOiBbY29sb3JzLmNhdXRpb24uYmFzZSwgY29sb3JzLmNhdXRpb24uYmFzZV1cbiAgfSxcbiAgY3JpdGljYWw6IHtcbiAgICBiZzogW2NvbG9ycy5jcml0aWNhbC5kYXJrZXN0LCBjb2xvcnMuY3JpdGljYWwubGlnaHRlc3RdLFxuICAgIGZnOiBbY29sb3JzLmNyaXRpY2FsLmxpZ2h0ZXN0LCBjb2xvcnMuY3JpdGljYWwuZGFya2VzdF0sXG4gICAgYm9yZGVyOiBbY29sb3JzLmNyaXRpY2FsLmRhcmtlciwgY29sb3JzLmNyaXRpY2FsLmxpZ2h0ZXJdLFxuICAgIGZvY3VzUmluZzogW2NvbG9ycy5jcml0aWNhbC5iYXNlLCBjb2xvcnMuY3JpdGljYWwuYmFzZV1cbiAgfVxufSwgZGVmYXVsdE9wdHMgPSB7XG4gIGJhc2U6ICh7IGRhcmssIG5hbWUgfSkgPT4gbmFtZSA9PT0gXCJkZWZhdWx0XCIgPyB7XG4gICAgYmc6IGRhcmsgPyBibGFjayA6IHdoaXRlLFxuICAgIGZnOiBkYXJrID8gd2hpdGUgOiBibGFjayxcbiAgICBib3JkZXI6IGRhcmsgPyBjb2xvcnMuZGVmYXVsdC5kYXJrZXN0IDogY29sb3JzLmRlZmF1bHQubGlnaHRlc3QsXG4gICAgZm9jdXNSaW5nOiBjb2xvcnMucHJpbWFyeS5iYXNlLFxuICAgIHNoYWRvdzoge1xuICAgICAgb3V0bGluZTogYmxhY2ssXG4gICAgICB1bWJyYTogYmxhY2ssXG4gICAgICBwZW51bWJyYTogYmxhY2ssXG4gICAgICBhbWJpZW50OiBibGFja1xuICAgIH0sXG4gICAgc2tlbGV0b246IHtcbiAgICAgIGZyb206IGRhcmsgPyB3aGl0ZSA6IGJsYWNrLFxuICAgICAgdG86IGRhcmsgPyB3aGl0ZSA6IGJsYWNrXG4gICAgfVxuICB9IDoge1xuICAgIGJnOiB0b25lc1tuYW1lXS5iZ1tkYXJrID8gMCA6IDFdLFxuICAgIGZnOiB0b25lc1tuYW1lXS5mZ1tkYXJrID8gMCA6IDFdLFxuICAgIGJvcmRlcjogdG9uZXNbbmFtZV0uYm9yZGVyW2RhcmsgPyAwIDogMV0sXG4gICAgZm9jdXNSaW5nOiB0b25lc1tuYW1lXS5mb2N1c1JpbmdbZGFyayA/IDAgOiAxXSxcbiAgICBzaGFkb3c6IHtcbiAgICAgIG91dGxpbmU6IGJsYWNrLFxuICAgICAgdW1icmE6IGJsYWNrLFxuICAgICAgcGVudW1icmE6IGJsYWNrLFxuICAgICAgYW1iaWVudDogYmxhY2tcbiAgICB9LFxuICAgIHNrZWxldG9uOiB7XG4gICAgICBmcm9tOiBkYXJrID8gd2hpdGUgOiBibGFjayxcbiAgICAgIHRvOiBkYXJrID8gd2hpdGUgOiBibGFja1xuICAgIH1cbiAgfSxcbiAgc29saWQ6ICh7IGJhc2UsIGRhcmssIHN0YXRlLCB0b25lIH0pID0+IHtcbiAgICBjb25zdCBjb2xvcjIgPSBjb2xvcnNbdG9uZV07XG4gICAgcmV0dXJuIHN0YXRlID09PSBcImhvdmVyZWRcIiA/IHtcbiAgICAgIGJnOiBkYXJrID8gY29sb3IyLmxpZ2h0IDogY29sb3IyLmRhcmssXG4gICAgICBiZzI6IGRhcmsgPyBjb2xvcjIubGlnaHQgOiBjb2xvcjIuZGFyayxcbiAgICAgIGJvcmRlcjogZGFyayA/IGNvbG9yMi5saWdodGVyIDogY29sb3IyLmRhcmtlcixcbiAgICAgIGZnOiBkYXJrID8gY29sb3IyLmRhcmtlc3QgOiBjb2xvcjIubGlnaHRlc3QsXG4gICAgICBpY29uOiBkYXJrID8gY29sb3IyLmRhcmtlc3QgOiBjb2xvcjIubGlnaHRlc3QsXG4gICAgICBtdXRlZDoge1xuICAgICAgICBmZzogYmxhY2tcbiAgICAgIH0sXG4gICAgICBhY2NlbnQ6IHtcbiAgICAgICAgZmc6IGJsYWNrXG4gICAgICB9LFxuICAgICAgbGluazoge1xuICAgICAgICBmZzogYmxhY2tcbiAgICAgIH0sXG4gICAgICBjb2RlOiB7XG4gICAgICAgIGJnOiBibGFjayxcbiAgICAgICAgZmc6IGJsYWNrXG4gICAgICB9LFxuICAgICAgc2tlbGV0b246IGJhc2Uuc2tlbGV0b25cbiAgICB9IDoge1xuICAgICAgYmc6IGNvbG9yMi5iYXNlLFxuICAgICAgYmcyOiBjb2xvcjIuYmFzZSxcbiAgICAgIGJvcmRlcjogZGFyayA/IGNvbG9yMi5saWdodCA6IGNvbG9yMi5kYXJrLFxuICAgICAgZmc6IGRhcmsgPyBjb2xvcjIuZGFya2VzdCA6IGNvbG9yMi5saWdodGVzdCxcbiAgICAgIGljb246IGRhcmsgPyBjb2xvcjIuZGFya2VzdCA6IGNvbG9yMi5saWdodGVzdCxcbiAgICAgIG11dGVkOiB7XG4gICAgICAgIGZnOiBibGFja1xuICAgICAgfSxcbiAgICAgIGFjY2VudDoge1xuICAgICAgICBmZzogYmxhY2tcbiAgICAgIH0sXG4gICAgICBsaW5rOiB7XG4gICAgICAgIGZnOiBibGFja1xuICAgICAgfSxcbiAgICAgIGNvZGU6IHtcbiAgICAgICAgYmc6IGJsYWNrLFxuICAgICAgICBmZzogYmxhY2tcbiAgICAgIH0sXG4gICAgICBza2VsZXRvbjogYmFzZS5za2VsZXRvblxuICAgIH07XG4gIH0sXG4gIG11dGVkOiAoeyBiYXNlLCBkYXJrLCBzdGF0ZSwgdG9uZSB9KSA9PiB7XG4gICAgY29uc3QgY29sb3IyID0gY29sb3JzW3RvbmVdO1xuICAgIHJldHVybiBzdGF0ZSA9PT0gXCJob3ZlcmVkXCIgPyB7XG4gICAgICBiZzogZGFyayA/IGNvbG9yMi5kYXJrZXIgOiBjb2xvcjIubGlnaHRlcixcbiAgICAgIGJnMjogZGFyayA/IGNvbG9yMi5kYXJrZXIgOiBjb2xvcjIubGlnaHRlcixcbiAgICAgIGJvcmRlcjogZGFyayA/IGNvbG9yMi5saWdodGVyIDogY29sb3IyLmRhcmtlcixcbiAgICAgIGZnOiBkYXJrID8gY29sb3IyLmxpZ2h0ZXN0IDogY29sb3IyLmRhcmtlc3QsXG4gICAgICBpY29uOiBkYXJrID8gY29sb3IyLmxpZ2h0ZXN0IDogY29sb3IyLmRhcmtlc3QsXG4gICAgICBtdXRlZDoge1xuICAgICAgICBmZzogYmxhY2tcbiAgICAgIH0sXG4gICAgICBhY2NlbnQ6IHtcbiAgICAgICAgZmc6IGJsYWNrXG4gICAgICB9LFxuICAgICAgbGluazoge1xuICAgICAgICBmZzogYmxhY2tcbiAgICAgIH0sXG4gICAgICBjb2RlOiB7XG4gICAgICAgIGJnOiBibGFjayxcbiAgICAgICAgZmc6IGJsYWNrXG4gICAgICB9LFxuICAgICAgc2tlbGV0b246IGJhc2Uuc2tlbGV0b25cbiAgICB9IDoge1xuICAgICAgYmc6IGRhcmsgPyBjb2xvcjIuZGFya2VzdCA6IGNvbG9yMi5saWdodGVzdCxcbiAgICAgIGJnMjogZGFyayA/IGNvbG9yMi5kYXJrZXN0IDogY29sb3IyLmxpZ2h0ZXN0LFxuICAgICAgYm9yZGVyOiBkYXJrID8gY29sb3IyLmRhcmtlciA6IGNvbG9yMi5saWdodGVyLFxuICAgICAgZmc6IGRhcmsgPyBjb2xvcjIubGlnaHRlciA6IGNvbG9yMi5kYXJrZXIsXG4gICAgICBpY29uOiBkYXJrID8gY29sb3IyLmxpZ2h0ZXIgOiBjb2xvcjIuZGFya2VyLFxuICAgICAgbXV0ZWQ6IHtcbiAgICAgICAgZmc6IGJsYWNrXG4gICAgICB9LFxuICAgICAgYWNjZW50OiB7XG4gICAgICAgIGZnOiBibGFja1xuICAgICAgfSxcbiAgICAgIGxpbms6IHtcbiAgICAgICAgZmc6IGJsYWNrXG4gICAgICB9LFxuICAgICAgY29kZToge1xuICAgICAgICBiZzogYmxhY2ssXG4gICAgICAgIGZnOiBibGFja1xuICAgICAgfSxcbiAgICAgIHNrZWxldG9uOiBiYXNlLnNrZWxldG9uXG4gICAgfTtcbiAgfSxcbiAgYnV0dG9uOiAoeyBiYXNlLCBtb2RlLCBtdXRlZCwgc29saWQgfSkgPT4gbW9kZSA9PT0gXCJibGVlZFwiID8ge1xuICAgIC4uLm11dGVkLFxuICAgIGVuYWJsZWQ6IHtcbiAgICAgIGJnOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICBiZzI6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgIGZnOiBtdXRlZC5lbmFibGVkLmZnLFxuICAgICAgaWNvbjogbXV0ZWQuZW5hYmxlZC5mZyxcbiAgICAgIGJvcmRlcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgbXV0ZWQ6IHtcbiAgICAgICAgZmc6IGJsYWNrXG4gICAgICB9LFxuICAgICAgYWNjZW50OiB7XG4gICAgICAgIGZnOiBibGFja1xuICAgICAgfSxcbiAgICAgIGxpbms6IHtcbiAgICAgICAgZmc6IGJsYWNrXG4gICAgICB9LFxuICAgICAgY29kZToge1xuICAgICAgICBiZzogYmxhY2ssXG4gICAgICAgIGZnOiBibGFja1xuICAgICAgfSxcbiAgICAgIHNrZWxldG9uOiBiYXNlLnNrZWxldG9uXG4gICAgfSxcbiAgICBob3ZlcmVkOiB7XG4gICAgICBiZzogbXV0ZWQuZW5hYmxlZC5iZyxcbiAgICAgIGJnMjogbXV0ZWQuZW5hYmxlZC5iZyxcbiAgICAgIGZnOiBtdXRlZC5ob3ZlcmVkLmZnLFxuICAgICAgaWNvbjogbXV0ZWQuaG92ZXJlZC5mZyxcbiAgICAgIGJvcmRlcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgbXV0ZWQ6IHtcbiAgICAgICAgZmc6IGJsYWNrXG4gICAgICB9LFxuICAgICAgYWNjZW50OiB7XG4gICAgICAgIGZnOiBibGFja1xuICAgICAgfSxcbiAgICAgIGxpbms6IHtcbiAgICAgICAgZmc6IGJsYWNrXG4gICAgICB9LFxuICAgICAgY29kZToge1xuICAgICAgICBiZzogYmxhY2ssXG4gICAgICAgIGZnOiBibGFja1xuICAgICAgfSxcbiAgICAgIHNrZWxldG9uOiBiYXNlLnNrZWxldG9uXG4gICAgfVxuICB9IDogbW9kZSA9PT0gXCJnaG9zdFwiID8ge1xuICAgIC4uLnNvbGlkLFxuICAgIGVuYWJsZWQ6IG11dGVkLmVuYWJsZWRcbiAgfSA6IHNvbGlkLFxuICBjYXJkOiAoeyBiYXNlIH0pID0+ICh7XG4gICAgYmc6IGJsYWNrLFxuICAgIGJnMjogYmxhY2ssXG4gICAgZmc6IGJsYWNrLFxuICAgIGljb246IGJsYWNrLFxuICAgIGJvcmRlcjogYmxhY2ssXG4gICAgbXV0ZWQ6IHtcbiAgICAgIGZnOiBibGFja1xuICAgIH0sXG4gICAgYWNjZW50OiB7XG4gICAgICBmZzogYmxhY2tcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIGZnOiBibGFja1xuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgYmc6IGJsYWNrLFxuICAgICAgZmc6IGJsYWNrXG4gICAgfSxcbiAgICBza2VsZXRvbjogYmFzZS5za2VsZXRvblxuICB9KSxcbiAgaW5wdXQ6ICgpID0+ICh7XG4gICAgYmc6IGJsYWNrLFxuICAgIGJnMjogYmxhY2ssXG4gICAgZmc6IGJsYWNrLFxuICAgIGJvcmRlcjogYmxhY2ssXG4gICAgcGxhY2Vob2xkZXI6IGJsYWNrXG4gIH0pLFxuICBzZWxlY3RhYmxlOiAoeyBtdXRlZCwgc3RhdGUsIHRvbmUgfSkgPT4gbXV0ZWRbdG9uZV1bc3RhdGVdLFxuICBzcG90OiAoeyBrZXkgfSkgPT4gc3BvdHNba2V5XSxcbiAgc3ludGF4OiAoKSA9PiAoe1xuICAgIGF0cnVsZTogYmxhY2ssXG4gICAgYXR0ck5hbWU6IGJsYWNrLFxuICAgIGF0dHJWYWx1ZTogYmxhY2ssXG4gICAgYXR0cmlidXRlOiBibGFjayxcbiAgICBib29sZWFuOiBibGFjayxcbiAgICBidWlsdGluOiBibGFjayxcbiAgICBjZGF0YTogYmxhY2ssXG4gICAgY2hhcjogYmxhY2ssXG4gICAgY2xhc3M6IGJsYWNrLFxuICAgIGNsYXNzTmFtZTogYmxhY2ssXG4gICAgY29tbWVudDogYmxhY2ssXG4gICAgY29uc3RhbnQ6IGJsYWNrLFxuICAgIGRlbGV0ZWQ6IGJsYWNrLFxuICAgIGRvY3R5cGU6IGJsYWNrLFxuICAgIGVudGl0eTogYmxhY2ssXG4gICAgZnVuY3Rpb246IGJsYWNrLFxuICAgIGhleGNvZGU6IGJsYWNrLFxuICAgIGlkOiBibGFjayxcbiAgICBpbXBvcnRhbnQ6IGJsYWNrLFxuICAgIGluc2VydGVkOiBibGFjayxcbiAgICBrZXl3b3JkOiBibGFjayxcbiAgICBudW1iZXI6IGJsYWNrLFxuICAgIG9wZXJhdG9yOiBibGFjayxcbiAgICBwcm9sb2c6IGJsYWNrLFxuICAgIHByb3BlcnR5OiBibGFjayxcbiAgICBwc2V1ZG9DbGFzczogYmxhY2ssXG4gICAgcHNldWRvRWxlbWVudDogYmxhY2ssXG4gICAgcHVuY3R1YXRpb246IGJsYWNrLFxuICAgIHJlZ2V4OiBibGFjayxcbiAgICBzZWxlY3RvcjogYmxhY2ssXG4gICAgc3RyaW5nOiBibGFjayxcbiAgICBzeW1ib2w6IGJsYWNrLFxuICAgIHRhZzogYmxhY2ssXG4gICAgdW5pdDogYmxhY2ssXG4gICAgdXJsOiBibGFjayxcbiAgICB2YXJpYWJsZTogYmxhY2tcbiAgfSlcbn07XG5mdW5jdGlvbiBjcmVhdGVJbnB1dE1vZGVzKG9wdHMsIGJhc2UsIGRhcmssIHNvbGlkLCBtdXRlZCkge1xuICByZXR1cm4ge1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGVuYWJsZWQ6IG9wdHMuaW5wdXQoe1xuICAgICAgICBiYXNlLFxuICAgICAgICBkYXJrLFxuICAgICAgICBtb2RlOiBcImRlZmF1bHRcIixcbiAgICAgICAgc3RhdGU6IFwiZW5hYmxlZFwiLFxuICAgICAgICBzb2xpZDogc29saWQuZGVmYXVsdCxcbiAgICAgICAgbXV0ZWQ6IG11dGVkLmRlZmF1bHRcbiAgICAgIH0pLFxuICAgICAgZGlzYWJsZWQ6IG9wdHMuaW5wdXQoe1xuICAgICAgICBiYXNlLFxuICAgICAgICBkYXJrLFxuICAgICAgICBtb2RlOiBcImRlZmF1bHRcIixcbiAgICAgICAgc3RhdGU6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgc29saWQ6IHNvbGlkLmRlZmF1bHQsXG4gICAgICAgIG11dGVkOiBtdXRlZC5kZWZhdWx0XG4gICAgICB9KSxcbiAgICAgIGhvdmVyZWQ6IG9wdHMuaW5wdXQoe1xuICAgICAgICBiYXNlLFxuICAgICAgICBkYXJrLFxuICAgICAgICBtb2RlOiBcImRlZmF1bHRcIixcbiAgICAgICAgc3RhdGU6IFwiaG92ZXJlZFwiLFxuICAgICAgICBzb2xpZDogc29saWQuZGVmYXVsdCxcbiAgICAgICAgbXV0ZWQ6IG11dGVkLmRlZmF1bHRcbiAgICAgIH0pLFxuICAgICAgcmVhZE9ubHk6IG9wdHMuaW5wdXQoe1xuICAgICAgICBiYXNlLFxuICAgICAgICBkYXJrLFxuICAgICAgICBtb2RlOiBcImRlZmF1bHRcIixcbiAgICAgICAgc3RhdGU6IFwicmVhZE9ubHlcIixcbiAgICAgICAgc29saWQ6IHNvbGlkLmRlZmF1bHQsXG4gICAgICAgIG11dGVkOiBtdXRlZC5kZWZhdWx0XG4gICAgICB9KVxuICAgIH0sXG4gICAgaW52YWxpZDoge1xuICAgICAgZW5hYmxlZDogb3B0cy5pbnB1dCh7XG4gICAgICAgIGJhc2UsXG4gICAgICAgIGRhcmssXG4gICAgICAgIG1vZGU6IFwiaW52YWxpZFwiLFxuICAgICAgICBzdGF0ZTogXCJlbmFibGVkXCIsXG4gICAgICAgIHNvbGlkOiBzb2xpZC5kZWZhdWx0LFxuICAgICAgICBtdXRlZDogbXV0ZWQuZGVmYXVsdFxuICAgICAgfSksXG4gICAgICBkaXNhYmxlZDogb3B0cy5pbnB1dCh7XG4gICAgICAgIGJhc2UsXG4gICAgICAgIGRhcmssXG4gICAgICAgIG1vZGU6IFwiaW52YWxpZFwiLFxuICAgICAgICBzdGF0ZTogXCJkaXNhYmxlZFwiLFxuICAgICAgICBzb2xpZDogc29saWQuZGVmYXVsdCxcbiAgICAgICAgbXV0ZWQ6IG11dGVkLmRlZmF1bHRcbiAgICAgIH0pLFxuICAgICAgaG92ZXJlZDogb3B0cy5pbnB1dCh7XG4gICAgICAgIGJhc2UsXG4gICAgICAgIGRhcmssXG4gICAgICAgIG1vZGU6IFwiaW52YWxpZFwiLFxuICAgICAgICBzdGF0ZTogXCJob3ZlcmVkXCIsXG4gICAgICAgIHNvbGlkOiBzb2xpZC5kZWZhdWx0LFxuICAgICAgICBtdXRlZDogbXV0ZWQuZGVmYXVsdFxuICAgICAgfSksXG4gICAgICByZWFkT25seTogb3B0cy5pbnB1dCh7XG4gICAgICAgIGJhc2UsXG4gICAgICAgIGRhcmssXG4gICAgICAgIG1vZGU6IFwiaW52YWxpZFwiLFxuICAgICAgICBzdGF0ZTogXCJyZWFkT25seVwiLFxuICAgICAgICBzb2xpZDogc29saWQuZGVmYXVsdCxcbiAgICAgICAgbXV0ZWQ6IG11dGVkLmRlZmF1bHRcbiAgICAgIH0pXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlTXV0ZWRUb25lcyhvcHRzLCBiYXNlLCBkYXJrLCBuYW1lKSB7XG4gIHJldHVybiB7XG4gICAgZGVmYXVsdDoge1xuICAgICAgZW5hYmxlZDogb3B0cy5tdXRlZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwiZGVmYXVsdFwiLCBuYW1lLCBzdGF0ZTogXCJlbmFibGVkXCIgfSksXG4gICAgICBkaXNhYmxlZDogb3B0cy5tdXRlZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwiZGVmYXVsdFwiLCBuYW1lLCBzdGF0ZTogXCJkaXNhYmxlZFwiIH0pLFxuICAgICAgaG92ZXJlZDogb3B0cy5tdXRlZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwiZGVmYXVsdFwiLCBuYW1lLCBzdGF0ZTogXCJob3ZlcmVkXCIgfSksXG4gICAgICBwcmVzc2VkOiBvcHRzLm11dGVkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJkZWZhdWx0XCIsIG5hbWUsIHN0YXRlOiBcInByZXNzZWRcIiB9KSxcbiAgICAgIHNlbGVjdGVkOiBvcHRzLm11dGVkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJkZWZhdWx0XCIsIG5hbWUsIHN0YXRlOiBcInNlbGVjdGVkXCIgfSlcbiAgICB9LFxuICAgIHRyYW5zcGFyZW50OiB7XG4gICAgICBlbmFibGVkOiBvcHRzLm11dGVkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJ0cmFuc3BhcmVudFwiLCBuYW1lLCBzdGF0ZTogXCJlbmFibGVkXCIgfSksXG4gICAgICBkaXNhYmxlZDogb3B0cy5tdXRlZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwidHJhbnNwYXJlbnRcIiwgbmFtZSwgc3RhdGU6IFwiZGlzYWJsZWRcIiB9KSxcbiAgICAgIGhvdmVyZWQ6IG9wdHMubXV0ZWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInRyYW5zcGFyZW50XCIsIG5hbWUsIHN0YXRlOiBcImhvdmVyZWRcIiB9KSxcbiAgICAgIHByZXNzZWQ6IG9wdHMubXV0ZWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInRyYW5zcGFyZW50XCIsIG5hbWUsIHN0YXRlOiBcInByZXNzZWRcIiB9KSxcbiAgICAgIHNlbGVjdGVkOiBvcHRzLm11dGVkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJ0cmFuc3BhcmVudFwiLCBuYW1lLCBzdGF0ZTogXCJzZWxlY3RlZFwiIH0pXG4gICAgfSxcbiAgICBwcmltYXJ5OiB7XG4gICAgICBlbmFibGVkOiBvcHRzLm11dGVkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJwcmltYXJ5XCIsIG5hbWUsIHN0YXRlOiBcImVuYWJsZWRcIiB9KSxcbiAgICAgIGRpc2FibGVkOiBvcHRzLm11dGVkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJwcmltYXJ5XCIsIG5hbWUsIHN0YXRlOiBcImRpc2FibGVkXCIgfSksXG4gICAgICBob3ZlcmVkOiBvcHRzLm11dGVkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJwcmltYXJ5XCIsIG5hbWUsIHN0YXRlOiBcImhvdmVyZWRcIiB9KSxcbiAgICAgIHByZXNzZWQ6IG9wdHMubXV0ZWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInByaW1hcnlcIiwgbmFtZSwgc3RhdGU6IFwicHJlc3NlZFwiIH0pLFxuICAgICAgc2VsZWN0ZWQ6IG9wdHMubXV0ZWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInByaW1hcnlcIiwgbmFtZSwgc3RhdGU6IFwic2VsZWN0ZWRcIiB9KVxuICAgIH0sXG4gICAgcG9zaXRpdmU6IHtcbiAgICAgIGVuYWJsZWQ6IG9wdHMubXV0ZWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInBvc2l0aXZlXCIsIG5hbWUsIHN0YXRlOiBcImVuYWJsZWRcIiB9KSxcbiAgICAgIGRpc2FibGVkOiBvcHRzLm11dGVkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJwb3NpdGl2ZVwiLCBuYW1lLCBzdGF0ZTogXCJkaXNhYmxlZFwiIH0pLFxuICAgICAgaG92ZXJlZDogb3B0cy5tdXRlZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwicG9zaXRpdmVcIiwgbmFtZSwgc3RhdGU6IFwiaG92ZXJlZFwiIH0pLFxuICAgICAgcHJlc3NlZDogb3B0cy5tdXRlZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwicG9zaXRpdmVcIiwgbmFtZSwgc3RhdGU6IFwicHJlc3NlZFwiIH0pLFxuICAgICAgc2VsZWN0ZWQ6IG9wdHMubXV0ZWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcInBvc2l0aXZlXCIsIG5hbWUsIHN0YXRlOiBcInNlbGVjdGVkXCIgfSlcbiAgICB9LFxuICAgIGNhdXRpb246IHtcbiAgICAgIGVuYWJsZWQ6IG9wdHMubXV0ZWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcImNhdXRpb25cIiwgbmFtZSwgc3RhdGU6IFwiZW5hYmxlZFwiIH0pLFxuICAgICAgZGlzYWJsZWQ6IG9wdHMubXV0ZWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcImNhdXRpb25cIiwgbmFtZSwgc3RhdGU6IFwiZGlzYWJsZWRcIiB9KSxcbiAgICAgIGhvdmVyZWQ6IG9wdHMubXV0ZWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcImNhdXRpb25cIiwgbmFtZSwgc3RhdGU6IFwiaG92ZXJlZFwiIH0pLFxuICAgICAgcHJlc3NlZDogb3B0cy5tdXRlZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwiY2F1dGlvblwiLCBuYW1lLCBzdGF0ZTogXCJwcmVzc2VkXCIgfSksXG4gICAgICBzZWxlY3RlZDogb3B0cy5tdXRlZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwiY2F1dGlvblwiLCBuYW1lLCBzdGF0ZTogXCJzZWxlY3RlZFwiIH0pXG4gICAgfSxcbiAgICBjcml0aWNhbDoge1xuICAgICAgZW5hYmxlZDogb3B0cy5tdXRlZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwiY3JpdGljYWxcIiwgbmFtZSwgc3RhdGU6IFwiZW5hYmxlZFwiIH0pLFxuICAgICAgZGlzYWJsZWQ6IG9wdHMubXV0ZWQoeyBiYXNlLCBkYXJrLCB0b25lOiBcImNyaXRpY2FsXCIsIG5hbWUsIHN0YXRlOiBcImRpc2FibGVkXCIgfSksXG4gICAgICBob3ZlcmVkOiBvcHRzLm11dGVkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJjcml0aWNhbFwiLCBuYW1lLCBzdGF0ZTogXCJob3ZlcmVkXCIgfSksXG4gICAgICBwcmVzc2VkOiBvcHRzLm11dGVkKHsgYmFzZSwgZGFyaywgdG9uZTogXCJjcml0aWNhbFwiLCBuYW1lLCBzdGF0ZTogXCJwcmVzc2VkXCIgfSksXG4gICAgICBzZWxlY3RlZDogb3B0cy5tdXRlZCh7IGJhc2UsIGRhcmssIHRvbmU6IFwiY3JpdGljYWxcIiwgbmFtZSwgc3RhdGU6IFwic2VsZWN0ZWRcIiB9KVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNwb3Qob3B0cywgYmFzZSwgZGFyaykge1xuICByZXR1cm4ge1xuICAgIGdyYXk6IG9wdHMuc3BvdCh7IGJhc2UsIGRhcmssIGtleTogXCJncmF5XCIgfSksXG4gICAgYmx1ZTogb3B0cy5zcG90KHsgYmFzZSwgZGFyaywga2V5OiBcImJsdWVcIiB9KSxcbiAgICBwdXJwbGU6IG9wdHMuc3BvdCh7IGJhc2UsIGRhcmssIGtleTogXCJwdXJwbGVcIiB9KSxcbiAgICBtYWdlbnRhOiBvcHRzLnNwb3QoeyBiYXNlLCBkYXJrLCBrZXk6IFwibWFnZW50YVwiIH0pLFxuICAgIHJlZDogb3B0cy5zcG90KHsgYmFzZSwgZGFyaywga2V5OiBcInJlZFwiIH0pLFxuICAgIG9yYW5nZTogb3B0cy5zcG90KHsgYmFzZSwgZGFyaywga2V5OiBcIm9yYW5nZVwiIH0pLFxuICAgIHllbGxvdzogb3B0cy5zcG90KHsgYmFzZSwgZGFyaywga2V5OiBcInllbGxvd1wiIH0pLFxuICAgIGdyZWVuOiBvcHRzLnNwb3QoeyBiYXNlLCBkYXJrLCBrZXk6IFwiZ3JlZW5cIiB9KSxcbiAgICBjeWFuOiBvcHRzLnNwb3QoeyBiYXNlLCBkYXJrLCBrZXk6IFwiY3lhblwiIH0pXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVDb2xvclRoZW1lKHBhcnRpYWxPcHRzID0ge30pIHtcbiAgY29uc3QgYnVpbGRlcnMgPSB7IC4uLmRlZmF1bHRPcHRzLCAuLi5wYXJ0aWFsT3B0cyB9O1xuICByZXR1cm4ge1xuICAgIGxpZ2h0OiBfY3JlYXRlQ29sb3JTY2hlbWUoYnVpbGRlcnMsICExKSxcbiAgICBkYXJrOiBfY3JlYXRlQ29sb3JTY2hlbWUoYnVpbGRlcnMsICEwKVxuICB9O1xufVxuZnVuY3Rpb24gX2NyZWF0ZUNvbG9yU2NoZW1lKG9wdHMsIGRhcmspIHtcbiAgcmV0dXJuIHtcbiAgICBkZWZhdWx0OiBfY3JlYXRlQ29sb3Iob3B0cywgZGFyaywgXCJkZWZhdWx0XCIpLFxuICAgIHRyYW5zcGFyZW50OiBfY3JlYXRlQ29sb3Iob3B0cywgZGFyaywgXCJ0cmFuc3BhcmVudFwiKSxcbiAgICBwcmltYXJ5OiBfY3JlYXRlQ29sb3Iob3B0cywgZGFyaywgXCJwcmltYXJ5XCIpLFxuICAgIHBvc2l0aXZlOiBfY3JlYXRlQ29sb3Iob3B0cywgZGFyaywgXCJwb3NpdGl2ZVwiKSxcbiAgICBjYXV0aW9uOiBfY3JlYXRlQ29sb3Iob3B0cywgZGFyaywgXCJjYXV0aW9uXCIpLFxuICAgIGNyaXRpY2FsOiBfY3JlYXRlQ29sb3Iob3B0cywgZGFyaywgXCJjcml0aWNhbFwiKVxuICB9O1xufVxuZnVuY3Rpb24gX2NyZWF0ZUNvbG9yKG9wdHMsIGRhcmssIG5hbWUpIHtcbiAgY29uc3QgYmFzZSA9IG9wdHMuYmFzZSh7IGRhcmssIG5hbWUgfSksIHNvbGlkID0gY3JlYXRlU29saWRUb25lcyhvcHRzLCBiYXNlLCBkYXJrLCBuYW1lKSwgbXV0ZWQgPSBjcmVhdGVNdXRlZFRvbmVzKG9wdHMsIGJhc2UsIGRhcmssIG5hbWUpO1xuICByZXR1cm4ge1xuICAgIGJhc2UsXG4gICAgYnV0dG9uOiBjcmVhdGVCdXR0b25Nb2RlcyhvcHRzLCBiYXNlLCBkYXJrLCBzb2xpZCwgbXV0ZWQpLFxuICAgIGNhcmQ6IGNyZWF0ZUNhcmRTdGF0ZXMob3B0cywgYmFzZSwgZGFyaywgbmFtZSwgc29saWQsIG11dGVkKSxcbiAgICBkYXJrLFxuICAgIGlucHV0OiBjcmVhdGVJbnB1dE1vZGVzKG9wdHMsIGJhc2UsIGRhcmssIHNvbGlkLCBtdXRlZCksXG4gICAgc2VsZWN0YWJsZTogY3JlYXRlU2VsZWN0YWJsZVRvbmVzKG9wdHMsIGJhc2UsIGRhcmssIHNvbGlkLCBtdXRlZCksXG4gICAgc3BvdDogY3JlYXRlU3BvdChvcHRzLCBiYXNlLCBkYXJrKSxcbiAgICBzeW50YXg6IG9wdHMuc3ludGF4KHsgYmFzZSwgZGFyayB9KSxcbiAgICBzb2xpZCxcbiAgICBtdXRlZFxuICB9O1xufVxuY29uc3QgZGVmYXVsdFRoZW1lRm9udHMgPSB7XG4gIGNvZGU6IHtcbiAgICBmYW1pbHk6IFwidWktbW9ub3NwYWNlLCBTRk1vbm8tUmVndWxhciwgU0YgTW9ubywgTWVubG8sIENvbnNvbGFzLCBMaWJlcmF0aW9uIE1vbm8sIG1vbm9zcGFjZVwiLFxuICAgIHdlaWdodHM6IHtcbiAgICAgIHJlZ3VsYXI6IDQwMCxcbiAgICAgIG1lZGl1bTogNTAwLFxuICAgICAgc2VtaWJvbGQ6IDYwMCxcbiAgICAgIGJvbGQ6IDcwMFxuICAgIH0sXG4gICAgc2l6ZXM6IFtcbiAgICAgIHtcbiAgICAgICAgYXNjZW5kZXJIZWlnaHQ6IDQsXG4gICAgICAgIGRlc2NlbmRlckhlaWdodDogNCxcbiAgICAgICAgZm9udFNpemU6IDEwLFxuICAgICAgICBpY29uU2l6ZTogMTcsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDE1LFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhc2NlbmRlckhlaWdodDogNSxcbiAgICAgICAgZGVzY2VuZGVySGVpZ2h0OiA1LFxuICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgIGljb25TaXplOiAyMSxcbiAgICAgICAgbGluZUhlaWdodDogMTksXG4gICAgICAgIGxldHRlclNwYWNpbmc6IDBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGFzY2VuZGVySGVpZ2h0OiA2LFxuICAgICAgICBkZXNjZW5kZXJIZWlnaHQ6IDYsXG4gICAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgICAgaWNvblNpemU6IDI1LFxuICAgICAgICBsaW5lSGVpZ2h0OiAyMyxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogMFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYXNjZW5kZXJIZWlnaHQ6IDcsXG4gICAgICAgIGRlc2NlbmRlckhlaWdodDogNyxcbiAgICAgICAgZm9udFNpemU6IDE5LFxuICAgICAgICBpY29uU2l6ZTogMjksXG4gICAgICAgIGxpbmVIZWlnaHQ6IDI3LFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhc2NlbmRlckhlaWdodDogOCxcbiAgICAgICAgZGVzY2VuZGVySGVpZ2h0OiA4LFxuICAgICAgICBmb250U2l6ZTogMjIsXG4gICAgICAgIGljb25TaXplOiAzMyxcbiAgICAgICAgbGluZUhlaWdodDogMzEsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IDBcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIGhlYWRpbmc6IHtcbiAgICBmYW1pbHk6ICdJbnRlciwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIlNlZ29lIFVJXCIsIFJvYm90bywgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBcIkxpYmVyYXRpb24gU2Fuc1wiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWYnLFxuICAgIHdlaWdodHM6IHtcbiAgICAgIHJlZ3VsYXI6IDcwMCxcbiAgICAgIG1lZGl1bTogODAwLFxuICAgICAgc2VtaWJvbGQ6IDkwMCxcbiAgICAgIGJvbGQ6IDkwMFxuICAgIH0sXG4gICAgc2l6ZXM6IFtcbiAgICAgIHtcbiAgICAgICAgYXNjZW5kZXJIZWlnaHQ6IDUsXG4gICAgICAgIGRlc2NlbmRlckhlaWdodDogNSxcbiAgICAgICAgZm9udFNpemU6IDEzLFxuICAgICAgICBpY29uU2l6ZTogMTcsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDE5LFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhc2NlbmRlckhlaWdodDogNixcbiAgICAgICAgZGVzY2VuZGVySGVpZ2h0OiA2LFxuICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgIGljb25TaXplOiAyNSxcbiAgICAgICAgbGluZUhlaWdodDogMjMsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IDBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGFzY2VuZGVySGVpZ2h0OiA3LFxuICAgICAgICBkZXNjZW5kZXJIZWlnaHQ6IDcsXG4gICAgICAgIGZvbnRTaXplOiAyMSxcbiAgICAgICAgaWNvblNpemU6IDMzLFxuICAgICAgICBsaW5lSGVpZ2h0OiAyOSxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogMFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYXNjZW5kZXJIZWlnaHQ6IDgsXG4gICAgICAgIGRlc2NlbmRlckhlaWdodDogOCxcbiAgICAgICAgZm9udFNpemU6IDI3LFxuICAgICAgICBpY29uU2l6ZTogNDEsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDM1LFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhc2NlbmRlckhlaWdodDogOS41LFxuICAgICAgICBkZXNjZW5kZXJIZWlnaHQ6IDguNSxcbiAgICAgICAgZm9udFNpemU6IDMzLFxuICAgICAgICBpY29uU2l6ZTogNDksXG4gICAgICAgIGxpbmVIZWlnaHQ6IDQxLFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhc2NlbmRlckhlaWdodDogMTAuNSxcbiAgICAgICAgZGVzY2VuZGVySGVpZ2h0OiA5LjUsXG4gICAgICAgIGZvbnRTaXplOiAzOCxcbiAgICAgICAgaWNvblNpemU6IDUzLFxuICAgICAgICBsaW5lSGVpZ2h0OiA0NyxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogMFxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAgbGFiZWw6IHtcbiAgICBmYW1pbHk6ICdJbnRlciwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIlNlZ29lIFVJXCIsIFJvYm90bywgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBcIkxpYmVyYXRpb24gU2Fuc1wiLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWYnLFxuICAgIHdlaWdodHM6IHtcbiAgICAgIHJlZ3VsYXI6IDYwMCxcbiAgICAgIG1lZGl1bTogNzAwLFxuICAgICAgc2VtaWJvbGQ6IDgwMCxcbiAgICAgIGJvbGQ6IDkwMFxuICAgIH0sXG4gICAgc2l6ZXM6IFtcbiAgICAgIHtcbiAgICAgICAgYXNjZW5kZXJIZWlnaHQ6IDIsXG4gICAgICAgIGRlc2NlbmRlckhlaWdodDogMixcbiAgICAgICAgZm9udFNpemU6IDguMSxcbiAgICAgICAgaWNvblNpemU6IDEzLFxuICAgICAgICBsaW5lSGVpZ2h0OiAxMCxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogMC41XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhc2NlbmRlckhlaWdodDogMixcbiAgICAgICAgZGVzY2VuZGVySGVpZ2h0OiAyLFxuICAgICAgICBmb250U2l6ZTogOS41LFxuICAgICAgICBpY29uU2l6ZTogMTUsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDExLFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwLjVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGFzY2VuZGVySGVpZ2h0OiAyLFxuICAgICAgICBkZXNjZW5kZXJIZWlnaHQ6IDIsXG4gICAgICAgIGZvbnRTaXplOiAxMC44LFxuICAgICAgICBpY29uU2l6ZTogMTcsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDEyLFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwLjVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGFzY2VuZGVySGVpZ2h0OiAyLFxuICAgICAgICBkZXNjZW5kZXJIZWlnaHQ6IDIsXG4gICAgICAgIGZvbnRTaXplOiAxMi4yNSxcbiAgICAgICAgaWNvblNpemU6IDE5LFxuICAgICAgICBsaW5lSGVpZ2h0OiAxMyxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogMC41XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhc2NlbmRlckhlaWdodDogMixcbiAgICAgICAgZGVzY2VuZGVySGVpZ2h0OiAyLFxuICAgICAgICBmb250U2l6ZTogMTMuNixcbiAgICAgICAgaWNvblNpemU6IDIxLFxuICAgICAgICBsaW5lSGVpZ2h0OiAxNCxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogMC41XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhc2NlbmRlckhlaWdodDogMixcbiAgICAgICAgZGVzY2VuZGVySGVpZ2h0OiAyLFxuICAgICAgICBmb250U2l6ZTogMTUsXG4gICAgICAgIGljb25TaXplOiAyMyxcbiAgICAgICAgbGluZUhlaWdodDogMTUsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IDAuNVxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAgdGV4dDoge1xuICAgIGZhbWlseTogJ0ludGVyLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiU2Vnb2UgVUlcIiwgUm9ib3RvLCBcIkhlbHZldGljYSBOZXVlXCIsIFwiTGliZXJhdGlvbiBTYW5zXCIsIEhlbHZldGljYSwgQXJpYWwsIHN5c3RlbS11aSwgc2Fucy1zZXJpZicsXG4gICAgd2VpZ2h0czoge1xuICAgICAgcmVndWxhcjogNDAwLFxuICAgICAgbWVkaXVtOiA1MDAsXG4gICAgICBzZW1pYm9sZDogNjAwLFxuICAgICAgYm9sZDogNzAwXG4gICAgfSxcbiAgICBzaXplczogW1xuICAgICAge1xuICAgICAgICBhc2NlbmRlckhlaWdodDogNCxcbiAgICAgICAgZGVzY2VuZGVySGVpZ2h0OiA0LFxuICAgICAgICBmb250U2l6ZTogMTAsXG4gICAgICAgIGljb25TaXplOiAxNyxcbiAgICAgICAgbGluZUhlaWdodDogMTUsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IDBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGFzY2VuZGVySGVpZ2h0OiA1LFxuICAgICAgICBkZXNjZW5kZXJIZWlnaHQ6IDUsXG4gICAgICAgIGZvbnRTaXplOiAxMyxcbiAgICAgICAgaWNvblNpemU6IDIxLFxuICAgICAgICBsaW5lSGVpZ2h0OiAxOSxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogMFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYXNjZW5kZXJIZWlnaHQ6IDYsXG4gICAgICAgIGRlc2NlbmRlckhlaWdodDogNixcbiAgICAgICAgZm9udFNpemU6IDE1LFxuICAgICAgICBpY29uU2l6ZTogMjUsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDIzLFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhc2NlbmRlckhlaWdodDogNyxcbiAgICAgICAgZGVzY2VuZGVySGVpZ2h0OiA3LFxuICAgICAgICBmb250U2l6ZTogMTgsXG4gICAgICAgIGljb25TaXplOiAyOSxcbiAgICAgICAgbGluZUhlaWdodDogMjcsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IDBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGFzY2VuZGVySGVpZ2h0OiA4LFxuICAgICAgICBkZXNjZW5kZXJIZWlnaHQ6IDgsXG4gICAgICAgIGZvbnRTaXplOiAyMSxcbiAgICAgICAgaWNvblNpemU6IDMzLFxuICAgICAgICBsaW5lSGVpZ2h0OiAzMSxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogMFxuICAgICAgfVxuICAgIF1cbiAgfVxufTtcbmZ1bmN0aW9uIGlzX3YwKHRoZW1lUHJvcCkge1xuICByZXR1cm4gdGhlbWVQcm9wLl92ZXJzaW9uID09PSAwO1xufVxuZnVuY3Rpb24gaXNfdjIodGhlbWVQcm9wKSB7XG4gIHJldHVybiB0aGVtZVByb3AuX3ZlcnNpb24gPT09IDI7XG59XG5jb25zdCBjYWNoZSQyID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiB2MF92Mih2MCkge1xuICBpZiAodjAudjIpIHJldHVybiB2MC52MjtcbiAgY29uc3QgY2FjaGVkX3YyID0gY2FjaGUkMi5nZXQodjApO1xuICBpZiAoY2FjaGVkX3YyKSByZXR1cm4gY2FjaGVkX3YyO1xuICBjb25zdCB7XG4gICAgYXZhdGFyLFxuICAgIGJ1dHRvbixcbiAgICBjb2xvcjogY29sb3IyLFxuICAgIGNvbnRhaW5lcixcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgZm9jdXNSaW5nOiBfdW51c2VkX2ZvY3VzUmluZyxcbiAgICBmb250czogZm9udCxcbiAgICBpbnB1dCxcbiAgICBsYXllcixcbiAgICBtZWRpYSxcbiAgICByYWRpdXMsXG4gICAgc2hhZG93czogc2hhZG93LFxuICAgIHNwYWNlLFxuICAgIHN0eWxlczogc3R5bGVcbiAgfSA9IHYwLCB2MiA9IHtcbiAgICBfdmVyc2lvbjogMixcbiAgICBhdmF0YXI6IHtcbiAgICAgIC4uLmRlZmF1bHRUaGVtZUNvbmZpZy5hdmF0YXIsXG4gICAgICAuLi5hdmF0YXJcbiAgICB9LFxuICAgIGJ1dHRvbjoge1xuICAgICAgLi4uZGVmYXVsdFRoZW1lQ29uZmlnLmJ1dHRvbixcbiAgICAgIC4uLmJ1dHRvblxuICAgIH0sXG4gICAgY2FyZDogZGVmYXVsdFRoZW1lQ29uZmlnLmNhcmQsXG4gICAgY29sb3I6IHtcbiAgICAgIGxpZ2h0OiB7XG4gICAgICAgIHRyYW5zcGFyZW50OiB0aGVtZUNvbG9yX3YwX3YyKGNvbG9yMi5saWdodC50cmFuc3BhcmVudCksXG4gICAgICAgIGRlZmF1bHQ6IHRoZW1lQ29sb3JfdjBfdjIoY29sb3IyLmxpZ2h0LmRlZmF1bHQpLFxuICAgICAgICBwcmltYXJ5OiB0aGVtZUNvbG9yX3YwX3YyKGNvbG9yMi5saWdodC5wcmltYXJ5KSxcbiAgICAgICAgcG9zaXRpdmU6IHRoZW1lQ29sb3JfdjBfdjIoY29sb3IyLmxpZ2h0LnBvc2l0aXZlKSxcbiAgICAgICAgY2F1dGlvbjogdGhlbWVDb2xvcl92MF92Mihjb2xvcjIubGlnaHQuY2F1dGlvbiksXG4gICAgICAgIGNyaXRpY2FsOiB0aGVtZUNvbG9yX3YwX3YyKGNvbG9yMi5saWdodC5jcml0aWNhbClcbiAgICAgIH0sXG4gICAgICBkYXJrOiB7XG4gICAgICAgIHRyYW5zcGFyZW50OiB0aGVtZUNvbG9yX3YwX3YyKGNvbG9yMi5kYXJrLnRyYW5zcGFyZW50KSxcbiAgICAgICAgZGVmYXVsdDogdGhlbWVDb2xvcl92MF92Mihjb2xvcjIuZGFyay5kZWZhdWx0KSxcbiAgICAgICAgcHJpbWFyeTogdGhlbWVDb2xvcl92MF92Mihjb2xvcjIuZGFyay5wcmltYXJ5KSxcbiAgICAgICAgcG9zaXRpdmU6IHRoZW1lQ29sb3JfdjBfdjIoY29sb3IyLmRhcmsucG9zaXRpdmUpLFxuICAgICAgICBjYXV0aW9uOiB0aGVtZUNvbG9yX3YwX3YyKGNvbG9yMi5kYXJrLmNhdXRpb24pLFxuICAgICAgICBjcml0aWNhbDogdGhlbWVDb2xvcl92MF92Mihjb2xvcjIuZGFyay5jcml0aWNhbClcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbnRhaW5lcixcbiAgICBmb250LFxuICAgIGlucHV0OiB7XG4gICAgICAuLi5kZWZhdWx0VGhlbWVDb25maWcuaW5wdXQsXG4gICAgICAuLi5pbnB1dCxcbiAgICAgIGNoZWNrYm94OiB7XG4gICAgICAgIC4uLmRlZmF1bHRUaGVtZUNvbmZpZy5pbnB1dC5jaGVja2JveCxcbiAgICAgICAgLi4uaW5wdXQuY2hlY2tib3hcbiAgICAgIH0sXG4gICAgICByYWRpbzoge1xuICAgICAgICAuLi5kZWZhdWx0VGhlbWVDb25maWcuaW5wdXQucmFkaW8sXG4gICAgICAgIC4uLmlucHV0LnJhZGlvXG4gICAgICB9LFxuICAgICAgc3dpdGNoOiB7XG4gICAgICAgIC4uLmRlZmF1bHRUaGVtZUNvbmZpZy5pbnB1dC5zd2l0Y2gsXG4gICAgICAgIC4uLmlucHV0LnN3aXRjaFxuICAgICAgfVxuICAgIH0sXG4gICAgbGF5ZXI6IGxheWVyICE9IG51bGwgPyBsYXllciA6IGRlZmF1bHRUaGVtZUNvbmZpZy5sYXllcixcbiAgICBtZWRpYSxcbiAgICByYWRpdXMsXG4gICAgc2hhZG93LFxuICAgIHNwYWNlLFxuICAgIHN0eWxlXG4gIH07XG4gIHJldHVybiBjYWNoZSQyLnNldCh2MCwgdjIpLCB2Mjtcbn1cbmNvbnN0IGNhY2hlJDEgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHYyX3YwKHYyKSB7XG4gIGNvbnN0IGNhY2hlZFRoZW1lID0gY2FjaGUkMS5nZXQodjIpO1xuICBpZiAoY2FjaGVkVGhlbWUpIHJldHVybiBjYWNoZWRUaGVtZTtcbiAgY29uc3Qge1xuICAgIGF2YXRhcixcbiAgICBidXR0b24sXG4gICAgY29sb3I6IGNvbG9yMixcbiAgICBjb250YWluZXIsXG4gICAgZm9udDogZm9udHMsXG4gICAgaW5wdXQsXG4gICAgbWVkaWEsXG4gICAgcmFkaXVzLFxuICAgIHNoYWRvdzogc2hhZG93cyxcbiAgICBzcGFjZSxcbiAgICBzdHlsZTogc3R5bGVzXG4gIH0gPSB2MjtcbiAgcmV0dXJuIHtcbiAgICBfdmVyc2lvbjogMCxcbiAgICBhdmF0YXIsXG4gICAgYnV0dG9uLFxuICAgIGNvbnRhaW5lcixcbiAgICBjb2xvcjoge1xuICAgICAgbGlnaHQ6IHtcbiAgICAgICAgdHJhbnNwYXJlbnQ6IHRoZW1lQ29sb3JfdjJfdjAoY29sb3IyLmxpZ2h0LnRyYW5zcGFyZW50KSxcbiAgICAgICAgZGVmYXVsdDogdGhlbWVDb2xvcl92Ml92MChjb2xvcjIubGlnaHQuZGVmYXVsdCksXG4gICAgICAgIHByaW1hcnk6IHRoZW1lQ29sb3JfdjJfdjAoY29sb3IyLmxpZ2h0LnByaW1hcnkpLFxuICAgICAgICBwb3NpdGl2ZTogdGhlbWVDb2xvcl92Ml92MChjb2xvcjIubGlnaHQucG9zaXRpdmUpLFxuICAgICAgICBjYXV0aW9uOiB0aGVtZUNvbG9yX3YyX3YwKGNvbG9yMi5saWdodC5jYXV0aW9uKSxcbiAgICAgICAgY3JpdGljYWw6IHRoZW1lQ29sb3JfdjJfdjAoY29sb3IyLmxpZ2h0LmNyaXRpY2FsKVxuICAgICAgfSxcbiAgICAgIGRhcms6IHtcbiAgICAgICAgdHJhbnNwYXJlbnQ6IHRoZW1lQ29sb3JfdjJfdjAoY29sb3IyLmRhcmsudHJhbnNwYXJlbnQpLFxuICAgICAgICBkZWZhdWx0OiB0aGVtZUNvbG9yX3YyX3YwKGNvbG9yMi5kYXJrLmRlZmF1bHQpLFxuICAgICAgICBwcmltYXJ5OiB0aGVtZUNvbG9yX3YyX3YwKGNvbG9yMi5kYXJrLnByaW1hcnkpLFxuICAgICAgICBwb3NpdGl2ZTogdGhlbWVDb2xvcl92Ml92MChjb2xvcjIuZGFyay5wb3NpdGl2ZSksXG4gICAgICAgIGNhdXRpb246IHRoZW1lQ29sb3JfdjJfdjAoY29sb3IyLmRhcmsuY2F1dGlvbiksXG4gICAgICAgIGNyaXRpY2FsOiB0aGVtZUNvbG9yX3YyX3YwKGNvbG9yMi5kYXJrLmNyaXRpY2FsKVxuICAgICAgfVxuICAgIH0sXG4gICAgZm9jdXNSaW5nOiBpbnB1dC50ZXh0LmZvY3VzUmluZyxcbiAgICBmb250cyxcbiAgICBpbnB1dCxcbiAgICBtZWRpYSxcbiAgICByYWRpdXMsXG4gICAgc2hhZG93cyxcbiAgICBzcGFjZSxcbiAgICBzdHlsZXMsXG4gICAgdjJcbiAgfTtcbn1cbmZ1bmN0aW9uIHRoZW1lQ29sb3JfdjJfdjAoY29sb3JfdjIpIHtcbiAgcmV0dXJuIHtcbiAgICBiYXNlOiB7XG4gICAgICBiZzogY29sb3JfdjIuYmcsXG4gICAgICBmZzogY29sb3JfdjIuZmcsXG4gICAgICBib3JkZXI6IGNvbG9yX3YyLmJvcmRlcixcbiAgICAgIGZvY3VzUmluZzogY29sb3JfdjIuZm9jdXNSaW5nLFxuICAgICAgc2hhZG93OiBjb2xvcl92Mi5zaGFkb3dcbiAgICB9LFxuICAgIGJ1dHRvbjogY29sb3JfdjIuYnV0dG9uLFxuICAgIGNhcmQ6IGNvbG9yX3YyLnNlbGVjdGFibGUuZGVmYXVsdCxcbiAgICBkYXJrOiBjb2xvcl92Mi5fZGFyayxcbiAgICBpbnB1dDoge1xuICAgICAgZGVmYXVsdDogaW5wdXRTdGF0ZXNUaGVtZUNvbG9yX3YyX3YwKGNvbG9yX3YyLmlucHV0LmRlZmF1bHQpLFxuICAgICAgaW52YWxpZDogaW5wdXRTdGF0ZXNUaGVtZUNvbG9yX3YyX3YwKGNvbG9yX3YyLmlucHV0LmludmFsaWQpXG4gICAgfSxcbiAgICBtdXRlZDoge1xuICAgICAgLi4uY29sb3JfdjIuYnV0dG9uLmdob3N0LFxuICAgICAgdHJhbnNwYXJlbnQ6IGNvbG9yX3YyLmJ1dHRvbi5naG9zdC5kZWZhdWx0XG4gICAgfSxcbiAgICBzb2xpZDoge1xuICAgICAgLi4uY29sb3JfdjIuYnV0dG9uLmRlZmF1bHQsXG4gICAgICB0cmFuc3BhcmVudDogY29sb3JfdjIuYnV0dG9uLmRlZmF1bHQuZGVmYXVsdFxuICAgIH0sXG4gICAgc2VsZWN0YWJsZTogY29sb3JfdjIuc2VsZWN0YWJsZSxcbiAgICBzcG90OiB7XG4gICAgICBncmF5OiBjb2xvcl92Mi5hdmF0YXIuZ3JheS5iZyxcbiAgICAgIGJsdWU6IGNvbG9yX3YyLmF2YXRhci5ibHVlLmJnLFxuICAgICAgcHVycGxlOiBjb2xvcl92Mi5hdmF0YXIucHVycGxlLmJnLFxuICAgICAgbWFnZW50YTogY29sb3JfdjIuYXZhdGFyLm1hZ2VudGEuYmcsXG4gICAgICByZWQ6IGNvbG9yX3YyLmF2YXRhci5yZWQuYmcsXG4gICAgICBvcmFuZ2U6IGNvbG9yX3YyLmF2YXRhci5vcmFuZ2UuYmcsXG4gICAgICB5ZWxsb3c6IGNvbG9yX3YyLmF2YXRhci55ZWxsb3cuYmcsXG4gICAgICBncmVlbjogY29sb3JfdjIuYXZhdGFyLmdyZWVuLmJnLFxuICAgICAgY3lhbjogY29sb3JfdjIuYXZhdGFyLmN5YW4uYmdcbiAgICB9LFxuICAgIHN5bnRheDogY29sb3JfdjIuc3ludGF4XG4gIH07XG59XG5mdW5jdGlvbiBpbnB1dFN0YXRlc1RoZW1lQ29sb3JfdjJfdjAodCkge1xuICByZXR1cm4ge1xuICAgIGVuYWJsZWQ6IGlucHV0U3RhdGVUaGVtZUNvbG9yX3YyX3YwKHQuZW5hYmxlZCksXG4gICAgZGlzYWJsZWQ6IGlucHV0U3RhdGVUaGVtZUNvbG9yX3YyX3YwKHQuZGlzYWJsZWQpLFxuICAgIHJlYWRPbmx5OiBpbnB1dFN0YXRlVGhlbWVDb2xvcl92Ml92MCh0LnJlYWRPbmx5KSxcbiAgICBob3ZlcmVkOiBpbnB1dFN0YXRlVGhlbWVDb2xvcl92Ml92MCh0LmhvdmVyZWQpXG4gIH07XG59XG5mdW5jdGlvbiBpbnB1dFN0YXRlVGhlbWVDb2xvcl92Ml92MCh0KSB7XG4gIHJldHVybiB7XG4gICAgYmc6IHQuYmcsXG4gICAgYmcyOiB0Lm11dGVkLmJnLFxuICAgIGJvcmRlcjogdC5ib3JkZXIsXG4gICAgZmc6IHQuZmcsXG4gICAgcGxhY2Vob2xkZXI6IHQucGxhY2Vob2xkZXJcbiAgfTtcbn1cbmNvbnN0IFRIRU1FX0NPTE9SX1NDSEVNRVMgPSBbXCJsaWdodFwiLCBcImRhcmtcIl0sIFRIRU1FX0NPTE9SX0JMRU5EX01PREVTID0gW1wibXVsdGlwbHlcIiwgXCJzY3JlZW5cIl0sIFRIRU1FX0NPTE9SX0NBUkRfVE9ORVMgPSBbXG4gIFwidHJhbnNwYXJlbnRcIixcbiAgXCJkZWZhdWx0XCIsXG4gIFwicHJpbWFyeVwiLFxuICBcInBvc2l0aXZlXCIsXG4gIFwiY2F1dGlvblwiLFxuICBcImNyaXRpY2FsXCJcbl0sIFRIRU1FX0NPTE9SX1NUQVRFX1RPTkVTID0gW1xuICBcImRlZmF1bHRcIixcbiAgXCJwcmltYXJ5XCIsXG4gIFwicG9zaXRpdmVcIixcbiAgXCJjYXV0aW9uXCIsXG4gIFwiY3JpdGljYWxcIlxuXSwgVEhFTUVfQ09MT1JfU1RBVEVTID0gW1wiZW5hYmxlZFwiLCBcImhvdmVyZWRcIiwgXCJwcmVzc2VkXCIsIFwic2VsZWN0ZWRcIiwgXCJkaXNhYmxlZFwiXSwgVEhFTUVfQ09MT1JfQlVUVE9OX01PREVTID0gW1wiZGVmYXVsdFwiLCBcImdob3N0XCIsIFwiYmxlZWRcIl0sIFRIRU1FX0NPTE9SX0lOUFVUX01PREVTID0gW1wiZGVmYXVsdFwiLCBcImludmFsaWRcIl0sIFRIRU1FX0NPTE9SX0lOUFVUX1NUQVRFUyA9IFtcImVuYWJsZWRcIiwgXCJob3ZlcmVkXCIsIFwicmVhZE9ubHlcIiwgXCJkaXNhYmxlZFwiXSwgVEhFTUVfQ09MT1JfQVZBVEFSX0NPTE9SUyA9IENPTE9SX0hVRVM7XG5mdW5jdGlvbiBpc0NvbG9yQmxlbmRNb2RlVmFsdWUoc3RyKSB7XG4gIHJldHVybiBUSEVNRV9DT0xPUl9CTEVORF9NT0RFUy5pbmNsdWRlcyhzdHIpO1xufVxuZnVuY3Rpb24gaXNDb2xvckh1ZUtleShzdHIpIHtcbiAgcmV0dXJuIENPTE9SX0hVRVMuaW5jbHVkZXMoc3RyKTtcbn1cbmZ1bmN0aW9uIGlzQ29sb3JUaW50S2V5KHN0cikge1xuICByZXR1cm4gQ09MT1JfVElOVFMuaW5jbHVkZXMoc3RyKTtcbn1cbmZ1bmN0aW9uIGlzQ29sb3JCdXR0b25Nb2RlKHN0cikge1xuICByZXR1cm4gVEhFTUVfQ09MT1JfQlVUVE9OX01PREVTLmluY2x1ZGVzKHN0cik7XG59XG5jb25zdCBDT0xPUl9DT05GSUdfU1RBVEVfS0VZUyA9IFtcbiAgXCJfaHVlXCIsXG4gIFwiYmdcIixcbiAgXCJmZ1wiLFxuICBcImJvcmRlclwiLFxuICBcImZvY3VzUmluZ1wiLFxuICBcIm11dGVkL2ZnXCIsXG4gIFwiYWNjZW50L2ZnXCIsXG4gIFwibGluay9mZ1wiLFxuICBcImNvZGUvYmdcIixcbiAgXCJjb2RlL2ZnXCIsXG4gIFwic2tlbGV0b24vZnJvbVwiLFxuICBcInNrZWxldG9uL3RvXCIsXG4gIFwic3RhdHVzL2RvdFwiLFxuICBcInN0YXR1cy9pY29uXCJcbl0sIENPTE9SX0NPTkZJR19DQVJEX0tFWVMgPSBbXG4gIC4uLkNPTE9SX0NPTkZJR19TVEFURV9LRVlTLFxuICBcIl9odWVcIixcbiAgXCJiZ1wiLFxuICBcImZnXCIsXG4gIFwiYm9yZGVyXCIsXG4gIFwiZm9jdXNSaW5nXCIsXG4gIFwic2hhZG93L291dGxpbmVcIixcbiAgXCJzaGFkb3cvdW1icmFcIixcbiAgXCJzaGFkb3cvcGVudW1icmFcIixcbiAgXCJzaGFkb3cvYW1iaWVudFwiXG5dLCBDT0xPUl9DT05GSUdfQkxFTkRfS0VZUyA9IFtcIl9ibGVuZFwiXSwgQ09MT1JfQ09ORklHX0FWQVRBUl9DT0xPUlMgPSBbXCIqXCIsIC4uLlRIRU1FX0NPTE9SX0FWQVRBUl9DT0xPUlNdLCBDT0xPUl9DT05GSUdfQ0FSRF9UT05FUyA9IFtcIipcIiwgLi4uVEhFTUVfQ09MT1JfQ0FSRF9UT05FU10sIENPTE9SX0NPTkZJR19TVEFURV9UT05FUyA9IFtcIipcIiwgLi4uVEhFTUVfQ09MT1JfU1RBVEVfVE9ORVNdLCBDT0xPUl9DT05GSUdfU1RBVEVTID0gW1wiKlwiLCAuLi5USEVNRV9DT0xPUl9TVEFURVNdLCBDT0xPUl9DT05GSUdfSU5QVVRfTU9ERVMgPSBbXCIqXCIsIC4uLlRIRU1FX0NPTE9SX0lOUFVUX01PREVTXSwgQ09MT1JfQ09ORklHX0lOUFVUX1NUQVRFUyA9IFtcIipcIiwgLi4uVEhFTUVfQ09MT1JfSU5QVVRfU1RBVEVTXTtcbmZ1bmN0aW9uIHBhcnNlVG9rZW5LZXkoc3RyKSB7XG4gIGNvbnN0IHNlZ21lbnRzID0gc3RyLnNwbGl0KFwiL1wiKSwgc2VnbWVudDAgPSBzZWdtZW50cy5zaGlmdCgpIHx8IFwiXCI7XG4gIGlmIChpc0NvbG9yQ29uZmlnQmFzZVRvbmUoc2VnbWVudDApKSB7XG4gICAgY29uc3Qga2V5ID0gc2VnbWVudHMuam9pbihcIi9cIik7XG4gICAgaWYgKGlzQ29sb3JDb25maWdCYXNlS2V5KGtleSkpXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImJhc2VcIixcbiAgICAgICAgdG9uZTogc2VnbWVudDAsXG4gICAgICAgIGtleVxuICAgICAgfTtcbiAgICBpZiAoaXNDb2xvckNvbmZpZ0JsZW5kS2V5KGtleSkpXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImJhc2VcIixcbiAgICAgICAgdG9uZTogc2VnbWVudDAsXG4gICAgICAgIGtleVxuICAgICAgfTtcbiAgfVxuICBpZiAoc2VnbWVudDAgPT09IFwiYnV0dG9uXCIpIHtcbiAgICBjb25zdCBzZWdtZW50MSA9IHNlZ21lbnRzLnNoaWZ0KCkgfHwgXCJcIjtcbiAgICBpZiAoaXNDb2xvckNvbmZpZ1N0YXRlVG9uZShzZWdtZW50MSkpIHtcbiAgICAgIGNvbnN0IHNlZ21lbnQyID0gc2VnbWVudHMuc2hpZnQoKSB8fCBcIlwiO1xuICAgICAgaWYgKGlzQ29sb3JCdXR0b25Nb2RlKHNlZ21lbnQyKSkge1xuICAgICAgICBjb25zdCBrZXkgPSBzZWdtZW50cy5qb2luKFwiL1wiKTtcbiAgICAgICAgaWYgKGlzQ29sb3JDb25maWdTdGF0ZUtleShrZXkpKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgdG9uZTogc2VnbWVudDEsXG4gICAgICAgICAgICBtb2RlOiBzZWdtZW50MixcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgIH07XG4gICAgICAgIGlmIChpc0NvbG9yQ29uZmlnQmxlbmRLZXkoa2V5KSlcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgIHRvbmU6IHNlZ21lbnQxLFxuICAgICAgICAgICAgbW9kZTogc2VnbWVudDIsXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaXNDb2xvck1peFBlcmNlbnRWYWx1ZShzdHIpIHtcbiAgcmV0dXJuIC9eXFxkKyUkLy50ZXN0KHN0cik7XG59XG5mdW5jdGlvbiBwYXJzZVRva2VuVmFsdWUoc3RyKSB7XG4gIGNvbnN0IHNlZ21lbnRzID0gc3RyLnNwbGl0KFwiL1wiKTtcbiAgbGV0IG5leHRTZWdtZW50ID0gc2VnbWVudHMuc2hpZnQoKSB8fCBcIlwiO1xuICBjb25zdCBbc2VnbWVudDAsIHNlZ21lbnQwbWl4XSA9IG5leHRTZWdtZW50LnNwbGl0KFwiIFwiKTtcbiAgaWYgKGlzQ29sb3JUaW50S2V5KHNlZ21lbnQwKSkge1xuICAgIGNvbnN0IHRpbnQgPSBzZWdtZW50MCwgc2VnbWVudDEgPSBzZWdtZW50cy5zaGlmdCgpIHx8IFwiXCI7XG4gICAgaWYgKGlzQ29sb3JNaXhQZXJjZW50VmFsdWUoc2VnbWVudDBtaXgpKSB7XG4gICAgICBjb25zdCBtaXgyID0gTnVtYmVyKHNlZ21lbnQwbWl4LnNsaWNlKDAsIC0xKSkgLyAxMDA7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImNvbG9yXCIsXG4gICAgICAgIHRpbnQsXG4gICAgICAgIG1peDogbWl4MlxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlzQ29sb3JPcGFjaXR5VmFsdWUoc2VnbWVudDEpKSB7XG4gICAgICBjb25zdCBvcGFjaXR5ID0gTnVtYmVyKHNlZ21lbnQxKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiY29sb3JcIixcbiAgICAgICAgdGludCxcbiAgICAgICAgb3BhY2l0eVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiY29sb3JcIixcbiAgICAgIHRpbnRcbiAgICB9O1xuICB9XG4gIGlmIChpc0NvbG9yVmFsdWUoc2VnbWVudDApKSB7XG4gICAgY29uc3Qga2V5ID0gc2VnbWVudDAsIHNlZ21lbnQxID0gc2VnbWVudHMuc2hpZnQoKSB8fCBcIlwiO1xuICAgIGlmIChpc0NvbG9yTWl4UGVyY2VudFZhbHVlKHNlZ21lbnQwbWl4KSkge1xuICAgICAgY29uc3QgbWl4MiA9IE51bWJlcihzZWdtZW50MG1peC5zbGljZSgwLCAtMSkpIC8gMTAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJjb2xvclwiLFxuICAgICAgICBrZXksXG4gICAgICAgIG1peDogbWl4MlxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlzQ29sb3JPcGFjaXR5VmFsdWUoc2VnbWVudDEpKSB7XG4gICAgICBjb25zdCBvcGFjaXR5ID0gTnVtYmVyKHNlZ21lbnQxKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiY29sb3JcIixcbiAgICAgICAga2V5LFxuICAgICAgICBvcGFjaXR5XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJjb2xvclwiLFxuICAgICAga2V5XG4gICAgfTtcbiAgfVxuICBpZiAoaXNDb2xvckh1ZUtleShzZWdtZW50MCkpIHtcbiAgICBjb25zdCBodWUgPSBzZWdtZW50MDtcbiAgICBuZXh0U2VnbWVudCA9IHNlZ21lbnRzLnNoaWZ0KCkgfHwgXCJcIjtcbiAgICBjb25zdCBbc2VnbWVudDEsIHNlZ21lbnQxbWl4XSA9IG5leHRTZWdtZW50LnNwbGl0KFwiIFwiKTtcbiAgICBpZiAoaXNDb2xvclRpbnRLZXkoc2VnbWVudDEpKSB7XG4gICAgICBjb25zdCB0aW50ID0gc2VnbWVudDEsIHNlZ21lbnQyID0gc2VnbWVudHMuc2hpZnQoKSB8fCBcIlwiO1xuICAgICAgaWYgKGlzQ29sb3JNaXhQZXJjZW50VmFsdWUoc2VnbWVudDFtaXgpKSB7XG4gICAgICAgIGNvbnN0IG1peDIgPSBOdW1iZXIoc2VnbWVudDFtaXguc2xpY2UoMCwgLTEpKSAvIDEwMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcImNvbG9yXCIsXG4gICAgICAgICAgaHVlLFxuICAgICAgICAgIHRpbnQsXG4gICAgICAgICAgbWl4OiBtaXgyXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoaXNDb2xvck9wYWNpdHlWYWx1ZShzZWdtZW50MikpIHtcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9IE51bWJlcihzZWdtZW50Mik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJjb2xvclwiLFxuICAgICAgICAgIGh1ZSxcbiAgICAgICAgICB0aW50LFxuICAgICAgICAgIG9wYWNpdHlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiY29sb3JcIixcbiAgICAgICAgaHVlLFxuICAgICAgICB0aW50XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJodWVcIixcbiAgICAgIHZhbHVlOiBodWVcbiAgICB9O1xuICB9XG4gIGlmIChpc0NvbG9yQmxlbmRNb2RlVmFsdWUoc2VnbWVudDApKVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImJsZW5kTW9kZVwiLFxuICAgICAgdmFsdWU6IHNlZ21lbnQwXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzQ29sb3JDb25maWdCYXNlVG9uZShzdHIpIHtcbiAgcmV0dXJuIENPTE9SX0NPTkZJR19DQVJEX1RPTkVTLmluY2x1ZGVzKHN0cik7XG59XG5mdW5jdGlvbiBpc0NvbG9yQ29uZmlnQmFzZUtleShzdHIpIHtcbiAgcmV0dXJuIENPTE9SX0NPTkZJR19DQVJEX0tFWVMuaW5jbHVkZXMoc3RyKTtcbn1cbmZ1bmN0aW9uIGlzQ29sb3JDb25maWdTdGF0ZUtleShzdHIpIHtcbiAgcmV0dXJuIENPTE9SX0NPTkZJR19TVEFURV9LRVlTLmluY2x1ZGVzKHN0cik7XG59XG5mdW5jdGlvbiBpc0NvbG9yQ29uZmlnU3RhdGVUb25lKHN0cikge1xuICByZXR1cm4gQ09MT1JfQ09ORklHX1NUQVRFX1RPTkVTLmluY2x1ZGVzKHN0cik7XG59XG5mdW5jdGlvbiBpc0NvbG9yQ29uZmlnQmxlbmRLZXkoc3RyKSB7XG4gIHJldHVybiBDT0xPUl9DT05GSUdfQkxFTkRfS0VZUy5pbmNsdWRlcyhzdHIpO1xufVxuZnVuY3Rpb24gaXNDb2xvclRva2VuVmFsdWUoc3RyKSB7XG4gIHZhciBfYSwgX2I7XG4gIHJldHVybiAoKF9hID0gcGFyc2VUb2tlblZhbHVlKHN0cikpID09IG51bGwgPyB2b2lkIDAgOiBfYS50eXBlKSA9PT0gXCJjb2xvclwiIHx8ICgoX2IgPSBwYXJzZVRva2VuVmFsdWUoc3RyKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnR5cGUpID09PSBcImh1ZVwiO1xufVxuZnVuY3Rpb24gaXNDb2xvclZhbHVlKHN0cikge1xuICByZXR1cm4gc3RyID09PSBcImJsYWNrXCIgfHwgc3RyID09PSBcIndoaXRlXCI7XG59XG5mdW5jdGlvbiBpc0NvbG9yT3BhY2l0eVZhbHVlKHN0cikge1xuICByZXR1cm4gc3RyID09PSBcIjBcIiB8fCAvXjBcXC5bMC05XSskLy50ZXN0KHN0cikgfHwgc3RyID09PSBcIjFcIjtcbn1cbmZ1bmN0aW9uIGNvbXBpbGVDb2xvclRva2VuVmFsdWUobm9kZSkge1xuICBsZXQga2V5ID0gXCJcIjtcbiAgcmV0dXJuIG5vZGUua2V5ID09PSBcImJsYWNrXCIgfHwgbm9kZS5rZXkgPT09IFwid2hpdGVcIiA/IGtleSA9IG5vZGUua2V5IDoga2V5ID0gYCR7bm9kZS5odWV9LyR7bm9kZS50aW50fWAsIG5vZGUubWl4ICE9PSB2b2lkIDAgPyBgJHtrZXl9ICR7bm9kZS5taXggKiAxMDB9JWAgOiAobm9kZS5vcGFjaXR5ICE9PSB2b2lkIDAgJiYgKGtleSArPSBgLyR7bm9kZS5vcGFjaXR5fWApLCBrZXkpO1xufVxuY29uc3QgREVGQVVMVF9DT0xPUl9UT0tFTl9WQUxVRSA9IFtcIjUwMFwiLCBcIjUwMFwiXTtcbmZ1bmN0aW9uIHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdmFsdWUgPSBERUZBVUxUX0NPTE9SX1RPS0VOX1ZBTFVFKSB7XG4gIGNvbnN0IHsgaHVlLCBzY2hlbWUgfSA9IGNvbnRleHQsIG5vZGUgPSBwYXJzZVRva2VuVmFsdWUodmFsdWVbc2NoZW1lID09PSBcImxpZ2h0XCIgPyAwIDogMV0pO1xuICBpZiAoIW5vZGUgfHwgbm9kZS50eXBlICE9PSBcImNvbG9yXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNvbG9yIHRva2VuOiAke3ZhbHVlWzBdfWApO1xuICByZXR1cm4gY29tcGlsZUNvbG9yVG9rZW5WYWx1ZSh7IC4uLm5vZGUsIGh1ZTogbm9kZS5odWUgfHwgaHVlIH0pO1xufVxuY29uc3QgZGVmYXVsdENvbG9yVG9rZW5zID0ge1xuICBiYXNlOiB7XG4gICAgXCIqXCI6IHtcbiAgICAgIF9ibGVuZDogW1wibXVsdGlwbHlcIiwgXCJzY3JlZW5cIl0sXG4gICAgICBhY2NlbnQ6IHtcbiAgICAgICAgZmc6IFtcInB1cnBsZS82MDBcIiwgXCJwdXJwbGUvNDAwXCJdXG4gICAgICB9LFxuICAgICAgYXZhdGFyOiB7XG4gICAgICAgIFwiKlwiOiB7XG4gICAgICAgICAgX2JsZW5kOiBbXCJzY3JlZW5cIiwgXCJtdWx0aXBseVwiXSxcbiAgICAgICAgICBiZzogW1wiNTAwXCIsIFwiNDAwXCJdLFxuICAgICAgICAgIGZnOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBiYWNrZHJvcDogW1wiZ3JheS8yMDAvMC41XCIsIFwiYmxhY2svMC41XCJdLFxuICAgICAgYmFkZ2U6IHtcbiAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICBiZzogW1wiMTAwXCIsIFwiOTAwXCJdLFxuICAgICAgICAgIGZnOiBbXCI2MDBcIiwgXCI0MDBcIl0sXG4gICAgICAgICAgaWNvbjogW1wiNTAwXCIsIFwiNTAwXCJdLFxuICAgICAgICAgIGRvdDogW1wiNTAwXCIsIFwiNTAwXCJdXG4gICAgICAgIH0sXG4gICAgICAgIHBvc2l0aXZlOiB7XG4gICAgICAgICAgYmc6IFtcIjIwMCA1MCVcIiwgXCI5MDBcIl0sXG4gICAgICAgICAgZmc6IFtcIjYwMFwiLCBcIjUwMFwiXVxuICAgICAgICB9LFxuICAgICAgICBjYXV0aW9uOiB7XG4gICAgICAgICAgYmc6IFtcIjIwMCA1MCVcIiwgXCI5MDBcIl0sXG4gICAgICAgICAgZmc6IFtcIjYwMFwiLCBcIjUwMFwiXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYmc6IFtcIjUwXCIsIFwiOTUwXCJdLFxuICAgICAgYm9yZGVyOiBbXCIyMDBcIiwgXCI4MDBcIl0sXG4gICAgICBjb2RlOiB7XG4gICAgICAgIGJnOiBbXCI1MFwiLCBcIjk1MFwiXSxcbiAgICAgICAgZmc6IFtcIjYwMFwiLCBcIjQwMFwiXVxuICAgICAgfSxcbiAgICAgIGZnOiBbXCI4MDBcIiwgXCIyMDBcIl0sXG4gICAgICBmb2N1c1Jpbmc6IFtcImJsdWUvNTAwXCIsIFwiYmx1ZS81MDBcIl0sXG4gICAgICBpY29uOiBbXCI2MDBcIiwgXCI0MDBcIl0sXG4gICAgICBrYmQ6IHtcbiAgICAgICAgYmc6IFtcIndoaXRlXCIsIFwiYmxhY2tcIl0sXG4gICAgICAgIGZnOiBbXCI2MDBcIiwgXCI0MDBcIl0sXG4gICAgICAgIGJvcmRlcjogW1wiMjAwXCIsIFwiODAwXCJdXG4gICAgICB9LFxuICAgICAgbGluazoge1xuICAgICAgICBmZzogW1wiYmx1ZS82MDBcIiwgXCJibHVlLzMwMFwiXVxuICAgICAgfSxcbiAgICAgIG11dGVkOiB7XG4gICAgICAgIGJnOiBbXCI1MFwiLCBcIjk1MFwiXSxcbiAgICAgICAgZmc6IFtcIjcwMCA3NSVcIiwgXCIzMDAgNzUlXCJdXG4gICAgICB9LFxuICAgICAgc2hhZG93OiB7XG4gICAgICAgIG91dGxpbmU6IFtcIjUwMC8wLjNcIiwgXCI1MDAvMC40XCJdLFxuICAgICAgICB1bWJyYTogW1wiZ3JheS81MDAvMC4xXCIsIFwiYmxhY2svMC4yXCJdLFxuICAgICAgICBwZW51bWJyYTogW1wiZ3JheS81MDAvMC4wN1wiLCBcImJsYWNrLzAuMTRcIl0sXG4gICAgICAgIGFtYmllbnQ6IFtcImdyYXkvNTAwLzAuMDZcIiwgXCJibGFjay8wLjEyXCJdXG4gICAgICB9LFxuICAgICAgc2tlbGV0b246IHtcbiAgICAgICAgZnJvbTogW1wiMTAwXCIsIFwiOTAwXCJdLFxuICAgICAgICB0bzogW1wiMTAwIDUwJVwiLCBcIjkwMCA1MCVcIl1cbiAgICAgIH1cbiAgICB9LFxuICAgIHRyYW5zcGFyZW50OiB7XG4gICAgICBiZzogW1wiNTBcIiwgXCJibGFja1wiXVxuICAgIH0sXG4gICAgZGVmYXVsdDoge1xuICAgICAgYmc6IFtcIndoaXRlXCIsIFwiOTUwXCJdLFxuICAgICAgZmc6IFtcIjgwMFwiLCBcIjIwMFwiXSxcbiAgICAgIG11dGVkOiB7XG4gICAgICAgIGZnOiBbXCI2MDBcIiwgXCI0MDBcIl1cbiAgICAgIH1cbiAgICB9LFxuICAgIHByaW1hcnk6IHsgX2h1ZTogXCJibHVlXCIgfSxcbiAgICBwb3NpdGl2ZToge1xuICAgICAgX2h1ZTogXCJncmVlblwiLFxuICAgICAgc2hhZG93OiB7IG91dGxpbmU6IFtcIjUwMC8wLjRcIiwgXCI1MDAvMC40XCJdIH1cbiAgICB9LFxuICAgIGNhdXRpb246IHtcbiAgICAgIF9odWU6IFwieWVsbG93XCIsXG4gICAgICBzaGFkb3c6IHsgb3V0bGluZTogW1wiNjAwLzAuM1wiLCBcIjUwMC8wLjRcIl0gfVxuICAgIH0sXG4gICAgY3JpdGljYWw6IHsgX2h1ZTogXCJyZWRcIiB9XG4gIH0sXG4gIGJ1dHRvbjoge1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIFwiKlwiOiB7XG4gICAgICAgIFwiKlwiOiB7XG4gICAgICAgICAgX2JsZW5kOiBbXCJzY3JlZW5cIiwgXCJtdWx0aXBseVwiXSxcbiAgICAgICAgICBhY2NlbnQ6IHtcbiAgICAgICAgICAgIGZnOiBbXCJwdXJwbGUvMzAwXCIsIFwicHVycGxlLzcwMFwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYXZhdGFyOiB7XG4gICAgICAgICAgICBcIipcIjoge1xuICAgICAgICAgICAgICBfYmxlbmQ6IFtcInNjcmVlblwiLCBcIm11bHRpcGx5XCJdLFxuICAgICAgICAgICAgICBiZzogW1wiNTAwXCIsIFwiNDAwXCJdLFxuICAgICAgICAgICAgICBmZzogW1wid2hpdGVcIiwgXCJibGFja1wiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYmFkZ2U6IHtcbiAgICAgICAgICAgIFwiKlwiOiB7XG4gICAgICAgICAgICAgIGJnOiBbXCI5MDBcIiwgXCIxMDBcIl0sXG4gICAgICAgICAgICAgIGZnOiBbXCI0MDBcIiwgXCI2MDBcIl0sXG4gICAgICAgICAgICAgIGRvdDogW1wiNTAwXCIsIFwiNTAwXCJdLFxuICAgICAgICAgICAgICBpY29uOiBbXCI1MDBcIiwgXCI1MDBcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJnOiBbXCI1MDBcIiwgXCI0MDBcIl0sXG4gICAgICAgICAgYm9yZGVyOiBbXCI1MDAvMFwiLCBcIjQwMC8wXCJdLFxuICAgICAgICAgIGNvZGU6IHtcbiAgICAgICAgICAgIGJnOiBbXCI1MDAgMjAlXCIsIFwiNDAwIDIwJVwiXSxcbiAgICAgICAgICAgIGZnOiBbXCIyMDBcIiwgXCI2MDBcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZnOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdLFxuICAgICAgICAgIGljb246IFtcIjEwMCA3MCVcIiwgXCI5MDAgNzAlXCJdLFxuICAgICAgICAgIGtiZDoge1xuICAgICAgICAgICAgYmc6IFtcImJsYWNrXCIsIFwid2hpdGVcIl0sXG4gICAgICAgICAgICBmZzogW1wiMjAwXCIsIFwiNjAwXCJdLFxuICAgICAgICAgICAgYm9yZGVyOiBbXCI4MDBcIiwgXCIyMDBcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGxpbms6IHtcbiAgICAgICAgICAgIGZnOiBbXCJibHVlLzIwMFwiLCBcImJsdWUvNjAwXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtdXRlZDoge1xuICAgICAgICAgICAgYmc6IFtcIjk1MFwiLCBcIjUwXCJdLFxuICAgICAgICAgICAgZmc6IFtcIjEwMCA3MCVcIiwgXCI5MDAgNzAlXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBza2VsZXRvbjoge1xuICAgICAgICAgICAgZnJvbTogW1wiOTAwXCIsIFwiMTAwXCJdLFxuICAgICAgICAgICAgdG86IFtcIjkwMCA1MCVcIiwgXCIxMDAgNTAlXCJdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBob3ZlcmVkOiB7XG4gICAgICAgICAgYmc6IFtcIjcwMFwiLCBcIjMwMFwiXSxcbiAgICAgICAgICBib3JkZXI6IFtcIjcwMC8wXCIsIFwiMzAwLzBcIl1cbiAgICAgICAgfSxcbiAgICAgICAgcHJlc3NlZDoge1xuICAgICAgICAgIGJnOiBbXCI3MDBcIiwgXCIzMDBcIl1cbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0ZWQ6IHtcbiAgICAgICAgICBiZzogW1wiNzAwXCIsIFwiMzAwXCJdXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgICAgX2h1ZTogXCJncmF5XCIsXG4gICAgICAgICAgYWNjZW50OiB7XG4gICAgICAgICAgICBmZzogW1wiMTAwIDcwJVwiLCBcIjkwMCA3MCVcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGF2YXRhcjoge1xuICAgICAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICAgICAgX2JsZW5kOiBbXCJzY3JlZW5cIiwgXCJtdWx0aXBseVwiXSxcbiAgICAgICAgICAgICAgYmc6IFtcImdyYXkvNTAwXCIsIFwiZ3JheS80MDBcIl0sXG4gICAgICAgICAgICAgIGZnOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBiYWRnZToge1xuICAgICAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICAgICAgYmc6IFtcImdyYXkvNzAwXCIsIFwiZ3JheS8zMDBcIl0sXG4gICAgICAgICAgICAgIGZnOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdLFxuICAgICAgICAgICAgICBkb3Q6IFtcIndoaXRlXCIsIFwiYmxhY2tcIl0sXG4gICAgICAgICAgICAgIGljb246IFtcIndoaXRlXCIsIFwiYmxhY2tcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJnOiBbXCIzMDBcIiwgXCI2MDBcIl0sXG4gICAgICAgICAgY29kZToge1xuICAgICAgICAgICAgYmc6IFtcIjk1MFwiLCBcIjUwXCJdLFxuICAgICAgICAgICAgZmc6IFtcIjMwMFwiLCBcIjYwMFwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmc6IFtcIjMwMFwiLCBcIjYwMFwiXSxcbiAgICAgICAgICBtdXRlZDoge1xuICAgICAgICAgICAgYmc6IFtcIjk1MFwiLCBcIjUwXCJdLFxuICAgICAgICAgICAgZmc6IFtcIjMwMFwiLCBcIjYwMFwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAga2JkOiB7XG4gICAgICAgICAgICBiZzogW1wiYmxhY2tcIiwgXCJ3aGl0ZVwiXSxcbiAgICAgICAgICAgIGZnOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdLFxuICAgICAgICAgICAgYm9yZGVyOiBbXCI3MDBcIiwgXCIzMDBcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGxpbms6IHtcbiAgICAgICAgICAgIGZnOiBbXCIxMDAgNzAlXCIsIFwiOTAwIDcwJVwiXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICBhdmF0YXI6IHtcbiAgICAgICAgICAgIFwiKlwiOiB7XG4gICAgICAgICAgICAgIF9ibGVuZDogW1wic2NyZWVuXCIsIFwibXVsdGlwbHlcIl0sXG4gICAgICAgICAgICAgIGJnOiBbXCI1MDBcIiwgXCI0MDBcIl0sXG4gICAgICAgICAgICAgIGZnOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBiZzogW1wiODAwXCIsIFwiMjAwXCJdLFxuICAgICAgICAgIG11dGVkOiB7XG4gICAgICAgICAgICBiZzogW1wiOTUwXCIsIFwiNTBcIl0sXG4gICAgICAgICAgICBmZzogW1wiNDAwXCIsIFwiNjAwXCJdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBob3ZlcmVkOiB7XG4gICAgICAgICAgYmc6IFtcIjkwMFwiLCBcIjEwMFwiXVxuICAgICAgICB9LFxuICAgICAgICBwcmVzc2VkOiB7XG4gICAgICAgICAgYmc6IFtcImJsYWNrXCIsIFwid2hpdGVcIl1cbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0ZWQ6IHtcbiAgICAgICAgICBiZzogW1wiYmxhY2tcIiwgXCJ3aGl0ZVwiXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBnaG9zdDoge1xuICAgICAgXCIqXCI6IHtcbiAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICBfYmxlbmQ6IFtcIm11bHRpcGx5XCIsIFwic2NyZWVuXCJdLFxuICAgICAgICAgIGFjY2VudDoge1xuICAgICAgICAgICAgZmc6IFtcInB1cnBsZS83MDAgNjAlXCIsIFwicHVycGxlLzMwMCA3MCVcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGF2YXRhcjoge1xuICAgICAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICAgICAgX2JsZW5kOiBbXCJzY3JlZW5cIiwgXCJtdWx0aXBseVwiXSxcbiAgICAgICAgICAgICAgYmc6IFtcIjUwMFwiLCBcIjQwMFwiXSxcbiAgICAgICAgICAgICAgZmc6IFtcIndoaXRlXCIsIFwiYmxhY2tcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJhZGdlOiB7XG4gICAgICAgICAgICBcIipcIjoge1xuICAgICAgICAgICAgICBiZzogW1wiMTAwXCIsIFwiOTAwXCJdLFxuICAgICAgICAgICAgICBmZzogW1wiNjAwXCIsIFwiNDAwXCJdLFxuICAgICAgICAgICAgICBkb3Q6IFtcIjUwMFwiLCBcIjUwMFwiXSxcbiAgICAgICAgICAgICAgaWNvbjogW1wiNTAwXCIsIFwiNTAwXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBiZzogW1wiNTBcIiwgXCI5NTBcIl0sXG4gICAgICAgICAgYm9yZGVyOiBbXCIxMDBcIiwgXCI5MDBcIl0sXG4gICAgICAgICAgY29kZToge1xuICAgICAgICAgICAgYmc6IFtcIjUwMCAxMCVcIiwgXCI0MDAgMTAlXCJdLFxuICAgICAgICAgICAgZmc6IFtcIjcwMCA2MCVcIiwgXCI0MDAgNjAlXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmZzogW1wiNjAwXCIsIFwiNDAwXCJdLFxuICAgICAgICAgIGljb246IFtcIjcwMCA2MCVcIiwgXCIzMDAgNjAlXCJdLFxuICAgICAgICAgIGtiZDoge1xuICAgICAgICAgICAgYmc6IFtcIndoaXRlXCIsIFwiYmxhY2tcIl0sXG4gICAgICAgICAgICBmZzogW1wiNjAwXCIsIFwiNDAwXCJdLFxuICAgICAgICAgICAgYm9yZGVyOiBbXCIyMDBcIiwgXCI4MDBcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGxpbms6IHtcbiAgICAgICAgICAgIGZnOiBbXCJibHVlLzcwMCA2MCVcIiwgXCJibHVlLzMwMCA2MCVcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG11dGVkOiB7XG4gICAgICAgICAgICBiZzogW1wiMTAwXCIsIFwiOTUwXCJdLFxuICAgICAgICAgICAgZmc6IFtcIjcwMCA2MCVcIiwgXCIzMDAgNjAlXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBza2VsZXRvbjoge1xuICAgICAgICAgICAgZnJvbTogW1wiMTAwXCIsIFwiOTAwXCJdLFxuICAgICAgICAgICAgdG86IFtcIjEwMCA1MCVcIiwgXCI5MDAgNTAlXCJdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBob3ZlcmVkOiB7XG4gICAgICAgICAgYmc6IFtcIjEwMFwiLCBcIjkwMFwiXSxcbiAgICAgICAgICBmZzogW1wiNzAwXCIsIFwiMzAwXCJdXG4gICAgICAgIH0sXG4gICAgICAgIHByZXNzZWQ6IHtcbiAgICAgICAgICBiZzogW1wiMTAwXCIsIFwiOTAwXCJdLFxuICAgICAgICAgIGZnOiBbXCI4MDBcIiwgXCIyMDBcIl1cbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0ZWQ6IHtcbiAgICAgICAgICBiZzogW1wiMTAwXCIsIFwiOTAwXCJdLFxuICAgICAgICAgIGZnOiBbXCI4MDBcIiwgXCIyMDBcIl1cbiAgICAgICAgfSxcbiAgICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgICBfaHVlOiBcImdyYXlcIixcbiAgICAgICAgICBhY2NlbnQ6IHtcbiAgICAgICAgICAgIGZnOiBbXCIyMDBcIiwgXCI4MDBcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGF2YXRhcjoge1xuICAgICAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICAgICAgX2JsZW5kOiBbXCJzY3JlZW5cIiwgXCJtdWx0aXBseVwiXSxcbiAgICAgICAgICAgICAgYmc6IFtcImdyYXkvMTAwXCIsIFwiZ3JheS85MDBcIl0sXG4gICAgICAgICAgICAgIGZnOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBiYWRnZToge1xuICAgICAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICAgICAgX2h1ZTogXCJncmF5XCIsXG4gICAgICAgICAgICAgIGJnOiBbXCI1MFwiLCBcIjk1MFwiXSxcbiAgICAgICAgICAgICAgZmc6IFtcImdyYXkvMjAwXCIsIFwiZ3JheS84MDBcIl0sXG4gICAgICAgICAgICAgIGRvdDogW1wiZ3JheS8yMDBcIiwgXCJncmF5LzgwMFwiXSxcbiAgICAgICAgICAgICAgaWNvbjogW1wiZ3JheS8yMDBcIiwgXCJncmF5LzgwMFwiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9yZGVyOiBbXCIxMDBcIiwgXCI5MDBcIl0sXG4gICAgICAgICAgY29kZToge1xuICAgICAgICAgICAgYmc6IFtcIjUwXCIsIFwiOTUwXCJdLFxuICAgICAgICAgICAgZmc6IFtcIjIwMFwiLCBcIjgwMFwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmc6IFtcIjQwMFwiLCBcIjYwMFwiXSxcbiAgICAgICAgICBpY29uOiBbXCIzMDBcIiwgXCI3MDBcIl0sXG4gICAgICAgICAgbXV0ZWQ6IHtcbiAgICAgICAgICAgIGZnOiBbXCIzMDBcIiwgXCI3MDBcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGtiZDoge1xuICAgICAgICAgICAgYmc6IFtcIndoaXRlXCIsIFwiYmxhY2tcIl0sXG4gICAgICAgICAgICBmZzogW1wiMjAwXCIsIFwiODAwXCJdLFxuICAgICAgICAgICAgYm9yZGVyOiBbXCIxMDBcIiwgXCI5MDBcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGxpbms6IHtcbiAgICAgICAgICAgIGZnOiBbXCIyMDBcIiwgXCI4MDBcIl1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwb3NpdGl2ZToge1xuICAgICAgICBcIipcIjoge1xuICAgICAgICAgIGJvcmRlcjogW1wiNjAwIDIwJVwiLCBcIjgwMFwiXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2F1dGlvbjoge1xuICAgICAgICBcIipcIjoge1xuICAgICAgICAgIGJvcmRlcjogW1wiNjAwIDIwJVwiLCBcIjgwMFwiXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBibGVlZDoge1xuICAgICAgXCIqXCI6IHtcbiAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICBfYmxlbmQ6IFtcIm11bHRpcGx5XCIsIFwic2NyZWVuXCJdLFxuICAgICAgICAgIGFjY2VudDoge1xuICAgICAgICAgICAgZmc6IFtcInB1cnBsZS83MDAgNzAlXCIsIFwicHVycGxlLzMwMCA3MCVcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGF2YXRhcjoge1xuICAgICAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICAgICAgX2JsZW5kOiBbXCJzY3JlZW5cIiwgXCJtdWx0aXBseVwiXSxcbiAgICAgICAgICAgICAgYmc6IFtcIjUwMFwiLCBcIjQwMFwiXSxcbiAgICAgICAgICAgICAgZmc6IFtcIndoaXRlXCIsIFwiYmxhY2tcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJhZGdlOiB7XG4gICAgICAgICAgICBcIipcIjoge1xuICAgICAgICAgICAgICBiZzogW1wiMTAwXCIsIFwiOTAwXCJdLFxuICAgICAgICAgICAgICBmZzogW1wiNjAwXCIsIFwiNDAwXCJdLFxuICAgICAgICAgICAgICBkb3Q6IFtcIjUwMFwiLCBcIjUwMFwiXSxcbiAgICAgICAgICAgICAgaWNvbjogW1wiNTAwXCIsIFwiNTAwXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBiZzogW1wid2hpdGVcIiwgXCJibGFja1wiXSxcbiAgICAgICAgICBib3JkZXI6IFtcIndoaXRlLzBcIiwgXCJibGFjay8wXCJdLFxuICAgICAgICAgIGNvZGU6IHtcbiAgICAgICAgICAgIGJnOiBbXCI1MFwiLCBcIjk1MFwiXSxcbiAgICAgICAgICAgIGZnOiBbXCI3MDAgNzUlXCIsIFwiMzAwIDc1JVwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmc6IFtcIjcwMFwiLCBcIjMwMFwiXSxcbiAgICAgICAgICBpY29uOiBbXCI3MDAgNzUlXCIsIFwiMzAwIDc1JVwiXSxcbiAgICAgICAgICBrYmQ6IHtcbiAgICAgICAgICAgIGJnOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdLFxuICAgICAgICAgICAgZmc6IFtcIjcwMFwiLCBcIjMwMFwiXSxcbiAgICAgICAgICAgIGJvcmRlcjogW1wiMjAwXCIsIFwiODAwXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBsaW5rOiB7XG4gICAgICAgICAgICBmZzogW1wiYmx1ZS83MDAgNzAlXCIsIFwiYmx1ZS8zMDAgNzAlXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtdXRlZDoge1xuICAgICAgICAgICAgYmc6IFtcIjEwMFwiLCBcIjk1MFwiXSxcbiAgICAgICAgICAgIGZnOiBbXCI3MDAgNzUlXCIsIFwiMzAwIDc1JVwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2tlbGV0b246IHtcbiAgICAgICAgICAgIGZyb206IFtcIjEwMFwiLCBcIjkwMFwiXSxcbiAgICAgICAgICAgIHRvOiBbXCIxMDAgNTAlXCIsIFwiOTAwIDUwJVwiXVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaG92ZXJlZDoge1xuICAgICAgICAgIGJnOiBbXCI1MFwiLCBcIjk1MFwiXSxcbiAgICAgICAgICBpY29uOiBbXCI3MDAgNzAlXCIsIFwiNDAwIDcwJVwiXVxuICAgICAgICB9LFxuICAgICAgICBwcmVzc2VkOiB7XG4gICAgICAgICAgYmc6IFtcIjEwMFwiLCBcIjkwMFwiXSxcbiAgICAgICAgICBmZzogW1wiODAwXCIsIFwiMjAwXCJdLFxuICAgICAgICAgIGljb246IFtcIjgwMCA3MCVcIiwgXCIyMDAgNzAlXCJdXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgYmc6IFtcIjEwMFwiLCBcIjkwMFwiXSxcbiAgICAgICAgICBmZzogW1wiODAwXCIsIFwiMjAwXCJdLFxuICAgICAgICAgIGljb246IFtcIjgwMCA2MCVcIiwgXCIyMDAgNjAlXCJdXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgICAgX2h1ZTogXCJncmF5XCIsXG4gICAgICAgICAgYWNjZW50OiB7XG4gICAgICAgICAgICBmZzogW1wiMjAwXCIsIFwiODAwXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhdmF0YXI6IHtcbiAgICAgICAgICAgIFwiKlwiOiB7XG4gICAgICAgICAgICAgIF9ibGVuZDogW1wic2NyZWVuXCIsIFwibXVsdGlwbHlcIl0sXG4gICAgICAgICAgICAgIGJnOiBbXCJncmF5LzEwMFwiLCBcImdyYXkvOTAwXCJdLFxuICAgICAgICAgICAgICBmZzogW1wid2hpdGVcIiwgXCJibGFja1wiXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYmFkZ2U6IHtcbiAgICAgICAgICAgIFwiKlwiOiB7XG4gICAgICAgICAgICAgIF9odWU6IFwiZ3JheVwiLFxuICAgICAgICAgICAgICBiZzogW1wiNTBcIiwgXCI5NTBcIl0sXG4gICAgICAgICAgICAgIGZnOiBbXCJncmF5LzIwMFwiLCBcImdyYXkvODAwXCJdLFxuICAgICAgICAgICAgICBkb3Q6IFtcImdyYXkvMjAwXCIsIFwiZ3JheS84MDBcIl0sXG4gICAgICAgICAgICAgIGljb246IFtcImdyYXkvMjAwXCIsIFwiZ3JheS84MDBcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvZGU6IHtcbiAgICAgICAgICAgIGJnOiBbXCI1MFwiLCBcIjk1MFwiXSxcbiAgICAgICAgICAgIGZnOiBbXCIyMDBcIiwgXCI4MDBcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZnOiBbXCI0MDBcIiwgXCI2MDBcIl0sXG4gICAgICAgICAgaWNvbjogW1wiMzAwXCIsIFwiNzAwXCJdLFxuICAgICAgICAgIG11dGVkOiB7XG4gICAgICAgICAgICBmZzogW1wiNDAwXCIsIFwiNjAwXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBrYmQ6IHtcbiAgICAgICAgICAgIGJnOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdLFxuICAgICAgICAgICAgZmc6IFtcIjIwMFwiLCBcIjgwMFwiXSxcbiAgICAgICAgICAgIGJvcmRlcjogW1wiMTAwXCIsIFwiOTAwXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBsaW5rOiB7XG4gICAgICAgICAgICBmZzogW1wiMjAwXCIsIFwiODAwXCJdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBpbnB1dDoge1xuICAgIFwiKlwiOiB7XG4gICAgICBcIipcIjoge1xuICAgICAgICBfYmxlbmQ6IFtcIm11bHRpcGx5XCIsIFwic2NyZWVuXCJdLFxuICAgICAgICBiZzogW1wid2hpdGVcIiwgXCJibGFja1wiXSxcbiAgICAgICAgYm9yZGVyOiBbXCIyMDBcIiwgXCI4MDBcIl0sXG4gICAgICAgIGZnOiBbXCJibGFja1wiLCBcIjIwMFwiXSxcbiAgICAgICAgbXV0ZWQ6IHtcbiAgICAgICAgICBiZzogW1wiNTBcIiwgXCI5NTBcIl1cbiAgICAgICAgfSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IFtcIjQwMFwiLCBcIjYwMFwiXVxuICAgICAgfSxcbiAgICAgIGhvdmVyZWQ6IHtcbiAgICAgICAgYm9yZGVyOiBbXCIzMDBcIiwgXCI3MDBcIl1cbiAgICAgIH0sXG4gICAgICByZWFkT25seToge1xuICAgICAgICBiZzogW1wiNTBcIiwgXCI5NTBcIl0sXG4gICAgICAgIGJvcmRlcjogW1wiMjAwXCIsIFwiODAwXCJdLFxuICAgICAgICBmZzogW1wiODAwXCIsIFwiMjAwXCJdXG4gICAgICB9LFxuICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgZmc6IFtcIjQwMFwiLCBcIjYwMFwiXSxcbiAgICAgICAgYm9yZGVyOiBbXCIxMDBcIiwgXCI5MDBcIl0sXG4gICAgICAgIHBsYWNlaG9sZGVyOiBbXCIyMDBcIiwgXCI4MDAgNTAlXCJdXG4gICAgICB9XG4gICAgfSxcbiAgICBpbnZhbGlkOiB7XG4gICAgICBcIipcIjoge1xuICAgICAgICBfaHVlOiBcInJlZFwiLFxuICAgICAgICBiZzogW1wiMTAwXCIsIFwiOTUwXCJdXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzZWxlY3RhYmxlOiB7XG4gICAgXCIqXCI6IHtcbiAgICAgIFwiKlwiOiB7XG4gICAgICAgIF9ibGVuZDogW1wibXVsdGlwbHlcIiwgXCJzY3JlZW5cIl0sXG4gICAgICAgIGFjY2VudDoge1xuICAgICAgICAgIGZnOiBbXCJwdXJwbGUvNzAwIDcwJVwiLCBcInB1cnBsZS8zMDAgNzAlXCJdXG4gICAgICAgIH0sXG4gICAgICAgIGF2YXRhcjoge1xuICAgICAgICAgIFwiKlwiOiB7XG4gICAgICAgICAgICBfYmxlbmQ6IFtcInNjcmVlblwiLCBcIm11bHRpcGx5XCJdLFxuICAgICAgICAgICAgYmc6IFtcIjUwMFwiLCBcIjQwMFwiXSxcbiAgICAgICAgICAgIGZnOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBiYWRnZToge1xuICAgICAgICAgIFwiKlwiOiB7XG4gICAgICAgICAgICBiZzogW1wiMTAwXCIsIFwiOTAwXCJdLFxuICAgICAgICAgICAgZmc6IFtcIjYwMFwiLCBcIjQwMFwiXSxcbiAgICAgICAgICAgIGRvdDogW1wiNTAwXCIsIFwiNTAwXCJdLFxuICAgICAgICAgICAgaWNvbjogW1wiNTAwXCIsIFwiNTAwXCJdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBiZzogW1wid2hpdGVcIiwgXCJibGFja1wiXSxcbiAgICAgICAgYm9yZGVyOiBbXCIyMDBcIiwgXCI4MDBcIl0sXG4gICAgICAgIGNvZGU6IHtcbiAgICAgICAgICBiZzogW1wiNTBcIiwgXCI5NTBcIl0sXG4gICAgICAgICAgZmc6IFtcIjYwMFwiLCBcIjQwMFwiXVxuICAgICAgICB9LFxuICAgICAgICBmZzogW1wiNzAwXCIsIFwiMzAwXCJdLFxuICAgICAgICBpY29uOiBbXCI3MDAgNzUlXCIsIFwiMzAwIDc1JVwiXSxcbiAgICAgICAga2JkOiB7XG4gICAgICAgICAgYmc6IFtcIndoaXRlXCIsIFwiYmxhY2tcIl0sXG4gICAgICAgICAgZmc6IFtcIjYwMFwiLCBcIjQwMFwiXSxcbiAgICAgICAgICBib3JkZXI6IFtcIjIwMFwiLCBcIjgwMFwiXVxuICAgICAgICB9LFxuICAgICAgICBsaW5rOiB7XG4gICAgICAgICAgZmc6IFtcImJsdWUvNzAwIDcwJVwiLCBcImJsdWUvMzAwIDcwJVwiXVxuICAgICAgICB9LFxuICAgICAgICBtdXRlZDoge1xuICAgICAgICAgIGJnOiBbXCI1MFwiLCBcIjk1MFwiXSxcbiAgICAgICAgICBmZzogW1wiNzAwIDc1JVwiLCBcIjMwMCA3NSVcIl1cbiAgICAgICAgfSxcbiAgICAgICAgc2tlbGV0b246IHtcbiAgICAgICAgICBmcm9tOiBbXCIxMDBcIiwgXCI5MDBcIl0sXG4gICAgICAgICAgdG86IFtcIjEwMCA1MCVcIiwgXCI5MDAgNTAlXCJdXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBob3ZlcmVkOiB7XG4gICAgICAgIGJnOiBbXCI1MFwiLCBcIjk1MFwiXVxuICAgICAgfSxcbiAgICAgIHByZXNzZWQ6IHtcbiAgICAgICAgYmc6IFtcIjEwMFwiLCBcIjkwMFwiXVxuICAgICAgfSxcbiAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgIF9ibGVuZDogW1wic2NyZWVuXCIsIFwibXVsdGlwbHlcIl0sXG4gICAgICAgIGFjY2VudDoge1xuICAgICAgICAgIGZnOiBbXCJwdXJwbGUvMzAwXCIsIFwicHVycGxlLzcwMFwiXVxuICAgICAgICB9LFxuICAgICAgICBhdmF0YXI6IHtcbiAgICAgICAgICBcIipcIjoge1xuICAgICAgICAgICAgX2JsZW5kOiBbXCJtdWx0aXBseVwiLCBcInNjcmVlblwiXSxcbiAgICAgICAgICAgIGJnOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdLFxuICAgICAgICAgICAgZmc6IFtcImJsYWNrXCIsIFwid2hpdGVcIl1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJhZGdlOiB7XG4gICAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICAgIGJnOiBbXCI5MDBcIiwgXCIxMDBcIl0sXG4gICAgICAgICAgICBmZzogW1wiNDAwXCIsIFwiNjAwXCJdLFxuICAgICAgICAgICAgZG90OiBbXCI1MDBcIiwgXCI1MDBcIl0sXG4gICAgICAgICAgICBpY29uOiBbXCI1MDBcIiwgXCI1MDBcIl1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJnOiBbXCI1MDBcIiwgXCI0MDBcIl0sXG4gICAgICAgIGJvcmRlcjogW1wiNTAwIDIwJVwiLCBcIjQwMCAyMCVcIl0sXG4gICAgICAgIGNvZGU6IHtcbiAgICAgICAgICBiZzogW1wiNTAwIDIwJVwiLCBcIjQwMCAyMCVcIl0sXG4gICAgICAgICAgZmc6IFtcIjIwMFwiLCBcIjYwMFwiXVxuICAgICAgICB9LFxuICAgICAgICBmZzogW1wid2hpdGVcIiwgXCJibGFja1wiXSxcbiAgICAgICAgaWNvbjogW1wiMTAwIDcwJVwiLCBcIjkwMCA3MCVcIl0sXG4gICAgICAgIGtiZDoge1xuICAgICAgICAgIGJnOiBbXCJibGFja1wiLCBcIndoaXRlXCJdLFxuICAgICAgICAgIGZnOiBbXCIyMDBcIiwgXCI2MDBcIl0sXG4gICAgICAgICAgYm9yZGVyOiBbXCI4MDBcIiwgXCIyMDBcIl1cbiAgICAgICAgfSxcbiAgICAgICAgbGluazoge1xuICAgICAgICAgIGZnOiBbXCJibHVlLzIwMFwiLCBcImJsdWUvNjAwXCJdXG4gICAgICAgIH0sXG4gICAgICAgIG11dGVkOiB7XG4gICAgICAgICAgYmc6IFtcIjUwMCAxMCVcIiwgXCI0MDAgMTAlXCJdLFxuICAgICAgICAgIGZnOiBbXCIxMDAgNzAlXCIsIFwiOTAwIDcwJVwiXVxuICAgICAgICB9LFxuICAgICAgICBza2VsZXRvbjoge1xuICAgICAgICAgIGZyb206IFtcIjkwMFwiLCBcIjEwMFwiXSxcbiAgICAgICAgICB0bzogW1wiOTAwIDUwJVwiLCBcIjEwMCA1MCVcIl1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgIF9odWU6IFwiZ3JheVwiLFxuICAgICAgICBhY2NlbnQ6IHtcbiAgICAgICAgICBmZzogW1wiMjAwXCIsIFwiODAwXCJdXG4gICAgICAgIH0sXG4gICAgICAgIGF2YXRhcjoge1xuICAgICAgICAgIFwiKlwiOiB7XG4gICAgICAgICAgICBfYmxlbmQ6IFtcInNjcmVlblwiLCBcIm11bHRpcGx5XCJdLFxuICAgICAgICAgICAgYmc6IFtcImdyYXkvMTAwXCIsIFwiZ3JheS85MDBcIl0sXG4gICAgICAgICAgICBmZzogW1wid2hpdGVcIiwgXCJibGFja1wiXVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYmFkZ2U6IHtcbiAgICAgICAgICBcIipcIjoge1xuICAgICAgICAgICAgX2h1ZTogXCJncmF5XCIsXG4gICAgICAgICAgICBiZzogW1wiNTBcIiwgXCI5NTBcIl0sXG4gICAgICAgICAgICBmZzogW1wiZ3JheS8yMDBcIiwgXCJncmF5LzgwMFwiXSxcbiAgICAgICAgICAgIGRvdDogW1wiZ3JheS8yMDBcIiwgXCJncmF5LzgwMFwiXSxcbiAgICAgICAgICAgIGljb246IFtcImdyYXkvMjAwXCIsIFwiZ3JheS84MDBcIl1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJvcmRlcjogW1wiMTAwXCIsIFwiOTAwXCJdLFxuICAgICAgICBjb2RlOiB7XG4gICAgICAgICAgYmc6IFtcIjUwXCIsIFwiOTUwXCJdLFxuICAgICAgICAgIGZnOiBbXCIyMDBcIiwgXCI4MDBcIl1cbiAgICAgICAgfSxcbiAgICAgICAgZmc6IFtcIjIwMFwiLCBcIjgwMFwiXSxcbiAgICAgICAgaWNvbjogW1wiMjAwXCIsIFwiODAwXCJdLFxuICAgICAgICBrYmQ6IHtcbiAgICAgICAgICBiZzogW1wid2hpdGVcIiwgXCJibGFja1wiXSxcbiAgICAgICAgICBmZzogW1wiMjAwXCIsIFwiODAwXCJdLFxuICAgICAgICAgIGJvcmRlcjogW1wiMTAwXCIsIFwiOTAwXCJdXG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IHtcbiAgICAgICAgICBmZzogW1wiMjAwXCIsIFwiODAwXCJdXG4gICAgICAgIH0sXG4gICAgICAgIG11dGVkOiB7XG4gICAgICAgICAgYmc6IFtcIjUwIDUwJVwiLCBcIjk1MCA1MCVcIl0sXG4gICAgICAgICAgZmc6IFtcIjIwMFwiLCBcIjgwMFwiXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkZWZhdWx0OiB7XG4gICAgICBzZWxlY3RlZDoge1xuICAgICAgICBfaHVlOiBcImJsdWVcIlxuICAgICAgfVxuICAgIH0sXG4gICAgY3JpdGljYWw6IHtcbiAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgIGJnOiBbXCI1MCA1MCVcIiwgXCI5NTAgNTAlXCJdXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzeW50YXg6IHtcbiAgICBhdHJ1bGU6IFtcInB1cnBsZS82MDBcIiwgXCJwdXJwbGUvNDAwXCJdLFxuICAgIGF0dHJOYW1lOiBbXCJncmVlbi82MDBcIiwgXCJncmVlbi80MDBcIl0sXG4gICAgYXR0clZhbHVlOiBbXCJ5ZWxsb3cvNjAwXCIsIFwieWVsbG93LzQwMFwiXSxcbiAgICBhdHRyaWJ1dGU6IFtcInllbGxvdy82MDBcIiwgXCJ5ZWxsb3cvNDAwXCJdLFxuICAgIGJvb2xlYW46IFtcInB1cnBsZS82MDBcIiwgXCJwdXJwbGUvNDAwXCJdLFxuICAgIGJ1aWx0aW46IFtcInB1cnBsZS82MDBcIiwgXCJwdXJwbGUvNDAwXCJdLFxuICAgIGNkYXRhOiBbXCJ5ZWxsb3cvNjAwXCIsIFwieWVsbG93LzQwMFwiXSxcbiAgICBjaGFyOiBbXCJ5ZWxsb3cvNjAwXCIsIFwieWVsbG93LzQwMFwiXSxcbiAgICBjbGFzczogW1wib3JhbmdlLzYwMFwiLCBcIm9yYW5nZS80MDBcIl0sXG4gICAgY2xhc3NOYW1lOiBbXCJjeWFuLzYwMFwiLCBcImN5YW4vNDAwXCJdLFxuICAgIGNvbW1lbnQ6IFtcImdyYXkvNDAwXCIsIFwiZ3JheS82MDBcIl0sXG4gICAgY29uc3RhbnQ6IFtcInB1cnBsZS82MDBcIiwgXCJwdXJwbGUvNDAwXCJdLFxuICAgIGRlbGV0ZWQ6IFtcInJlZC82MDBcIiwgXCJyZWQvNDAwXCJdLFxuICAgIGVudGl0eTogW1wicmVkLzYwMFwiLCBcInJlZC80MDBcIl0sXG4gICAgZnVuY3Rpb246IFtcImdyZWVuLzYwMFwiLCBcImdyZWVuLzQwMFwiXSxcbiAgICBoZXhjb2RlOiBbXCJibHVlLzYwMFwiLCBcImJsdWUvNDAwXCJdLFxuICAgIGlkOiBbXCJwdXJwbGUvNjAwXCIsIFwicHVycGxlLzQwMFwiXSxcbiAgICBpbXBvcnRhbnQ6IFtcInB1cnBsZS82MDBcIiwgXCJwdXJwbGUvNDAwXCJdLFxuICAgIGluc2VydGVkOiBbXCJ5ZWxsb3cvNjAwXCIsIFwieWVsbG93LzQwMFwiXSxcbiAgICBrZXl3b3JkOiBbXCJtYWdlbnRhLzYwMFwiLCBcIm1hZ2VudGEvNDAwXCJdLFxuICAgIG51bWJlcjogW1wicHVycGxlLzYwMFwiLCBcInB1cnBsZS80MDBcIl0sXG4gICAgb3BlcmF0b3I6IFtcIm1hZ2VudGEvNjAwXCIsIFwibWFnZW50YS80MDBcIl0sXG4gICAgcHJvcGVydHk6IFtcImJsdWUvNjAwXCIsIFwiYmx1ZS80MDBcIl0sXG4gICAgcHNldWRvQ2xhc3M6IFtcInllbGxvdy82MDBcIiwgXCJ5ZWxsb3cvNDAwXCJdLFxuICAgIHBzZXVkb0VsZW1lbnQ6IFtcInllbGxvdy82MDBcIiwgXCJ5ZWxsb3cvNDAwXCJdLFxuICAgIHB1bmN0dWF0aW9uOiBbXCJncmF5LzYwMFwiLCBcImdyYXkvNDAwXCJdLFxuICAgIHJlZ2V4OiBbXCJibHVlLzYwMFwiLCBcImJsdWUvNDAwXCJdLFxuICAgIHNlbGVjdG9yOiBbXCJyZWQvNjAwXCIsIFwicmVkLzQwMFwiXSxcbiAgICBzdHJpbmc6IFtcInllbGxvdy82MDBcIiwgXCJ5ZWxsb3cvNDAwXCJdLFxuICAgIHN5bWJvbDogW1wicHVycGxlLzYwMFwiLCBcInB1cnBsZS80MDBcIl0sXG4gICAgdGFnOiBbXCJyZWQvNjAwXCIsIFwicmVkLzQwMFwiXSxcbiAgICB1bml0OiBbXCJvcmFuZ2UvNjAwXCIsIFwib3JhbmdlLzQwMFwiXSxcbiAgICB1cmw6IFtcInJlZC82MDBcIiwgXCJyZWQvNDAwXCJdLFxuICAgIHZhcmlhYmxlOiBbXCJyZWQvNjAwXCIsIFwicmVkLzQwMFwiXVxuICB9XG59O1xuZnVuY3Rpb24gaXNSZWNvcmQodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSk7XG59XG5mdW5jdGlvbiBtZXJnZSguLi5yZWNvcmRzKSB7XG4gIGNvbnN0IF9yZWNvcmRzID0gcmVjb3Jkcy5maWx0ZXIoQm9vbGVhbik7XG4gIHJldHVybiBfcmVjb3Jkcy5sZW5ndGggPT09IDAgPyB7fSA6IF9yZWNvcmRzLnJlZHVjZShfbWVyZ2UsIHt9KTtcbn1cbmZ1bmN0aW9uIF9tZXJnZShhY2MsIHNvdXJjZSkge1xuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzb3VyY2UpKSB7XG4gICAgY29uc3QgcHJldlZhbHVlID0gYWNjW2tleV0sIG5leHRWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgIGlzUmVjb3JkKHByZXZWYWx1ZSkgJiYgaXNSZWNvcmQobmV4dFZhbHVlKSA/IGFjY1trZXldID0gbWVyZ2UocHJldlZhbHVlLCBuZXh0VmFsdWUpIDogYWNjW2tleV0gPSBuZXh0VmFsdWU7XG4gIH1cbiAgcmV0dXJuIGFjYztcbn1cbmZ1bmN0aW9uIHJlc29sdmVDb2xvclRva2VucyhpbnB1dFRva2Vucykge1xuICBjb25zdCB0b2tlbnMgPSBtZXJnZShkZWZhdWx0Q29sb3JUb2tlbnMsIGlucHV0VG9rZW5zKTtcbiAgcmV0dXJuIHtcbiAgICBiYXNlOiByZXNvbHZlQmFzZUNvbG9yVG9rZW5zKHRva2VucyksXG4gICAgYnV0dG9uOiByZXNvbHZlQnV0dG9uQ29sb3JUb2tlbnModG9rZW5zKSxcbiAgICBpbnB1dDogcmVzb2x2ZUlucHV0Q29sb3JUb2tlbnModG9rZW5zKSxcbiAgICBzZWxlY3RhYmxlOiByZXNvbHZlU2VsZWN0YWJsZUNvbG9yVG9rZW5zKHRva2VucyksXG4gICAgc3ludGF4OiB0b2tlbnMuc3ludGF4XG4gIH07XG59XG5mdW5jdGlvbiByZXNvbHZlQmFzZUNvbG9yVG9rZW5zKHNwYXJzZVRva2Vucykge1xuICBjb25zdCB0b2tlbnMgPSB7fTtcbiAgZm9yIChjb25zdCB0b25lIG9mIFRIRU1FX0NPTE9SX0NBUkRfVE9ORVMpXG4gICAgdG9rZW5zW3RvbmVdID0gcmVzb2x2ZUJhc2VDb2xvclRvbmVzKHNwYXJzZVRva2VucywgdG9uZSk7XG4gIHJldHVybiB0b2tlbnM7XG59XG5mdW5jdGlvbiByZXNvbHZlQmFzZUNvbG9yVG9uZXMoaW5wdXRUb2tlbnMsIHRvbmUpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2ksIF9qLCBfaywgX2wsIF9tLCBfbiwgX28sIF9wLCBfcSwgX3IsIF9zLCBfdCwgX3UsIF92LCBfdywgX3gsIF95LCBfeiwgX0EsIF9CLCBfQywgX0QsIF9FLCBfRiwgX0csIF9ILCBfSSwgX0osIF9LLCBfTCwgX00sIF9OLCBfTywgX1A7XG4gIGNvbnN0IHNwZWMgPSBtZXJnZSgoX2EgPSBpbnB1dFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogaW5wdXRUb2tlbnMuYmFzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hW1wiKlwiXSwgKF9iID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmJhc2UpID09IG51bGwgPyB2b2lkIDAgOiBfYlt0b25lXSksIGh1ZSA9IHNwZWMuX2h1ZSB8fCAoKF9kID0gKF9jID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmJhc2UpID09IG51bGwgPyB2b2lkIDAgOiBfY1t0b25lXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLl9odWUpIHx8IFwiZ3JheVwiO1xuICByZXR1cm4ge1xuICAgIC4uLnNwZWMsXG4gICAgX2h1ZTogaHVlLFxuICAgIGF2YXRhcjoge1xuICAgICAgZ3JheTogbWVyZ2UoeyBfaHVlOiBcImdyYXlcIiB9LCAoX2UgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9lW1wiKlwiXSwgKF9mID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfZi5ncmF5KSxcbiAgICAgIGJsdWU6IG1lcmdlKHsgX2h1ZTogXCJibHVlXCIgfSwgKF9nID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfZ1tcIipcIl0sIChfaCA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX2guYmx1ZSksXG4gICAgICBwdXJwbGU6IG1lcmdlKHsgX2h1ZTogXCJwdXJwbGVcIiB9LCAoX2kgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9pW1wiKlwiXSwgKF9qID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfai5wdXJwbGUpLFxuICAgICAgbWFnZW50YTogbWVyZ2UoeyBfaHVlOiBcIm1hZ2VudGFcIiB9LCAoX2sgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9rW1wiKlwiXSwgKF9sID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfbC5tYWdlbnRhKSxcbiAgICAgIHJlZDogbWVyZ2UoeyBfaHVlOiBcInJlZFwiIH0sIChfbSA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX21bXCIqXCJdLCAoX24gPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9uLnJlZCksXG4gICAgICBvcmFuZ2U6IG1lcmdlKHsgX2h1ZTogXCJvcmFuZ2VcIiB9LCAoX28gPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9vW1wiKlwiXSwgKF9wID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfcC5vcmFuZ2UpLFxuICAgICAgeWVsbG93OiBtZXJnZSh7IF9odWU6IFwieWVsbG93XCIgfSwgKF9xID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfcVtcIipcIl0sIChfciA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX3IueWVsbG93KSxcbiAgICAgIGdyZWVuOiBtZXJnZSh7IF9odWU6IFwiZ3JlZW5cIiB9LCAoX3MgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9zW1wiKlwiXSwgKF90ID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfdC5ncmVlbiksXG4gICAgICBjeWFuOiBtZXJnZSh7IF9odWU6IFwiY3lhblwiIH0sIChfdSA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX3VbXCIqXCJdLCAoX3YgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF92LmN5YW4pXG4gICAgfSxcbiAgICBiYWRnZToge1xuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBfaHVlOiAoKF94ID0gKF93ID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmJhc2UpID09IG51bGwgPyB2b2lkIDAgOiBfdy5kZWZhdWx0KSA9PSBudWxsID8gdm9pZCAwIDogX3guX2h1ZSkgfHwgaHVlLFxuICAgICAgICAuLi4oX3kgPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX3lbXCIqXCJdLFxuICAgICAgICAuLi4oX3ogPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX3ouZGVmYXVsdFxuICAgICAgfSxcbiAgICAgIHByaW1hcnk6IHtcbiAgICAgICAgX2h1ZTogKChfQiA9IChfQSA9IGlucHV0VG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dFRva2Vucy5iYXNlKSA9PSBudWxsID8gdm9pZCAwIDogX0EucHJpbWFyeSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9CLl9odWUpIHx8IGh1ZSxcbiAgICAgICAgLi4uKF9DID0gc3BlYy5iYWRnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9DW1wiKlwiXSxcbiAgICAgICAgLi4uKF9EID0gc3BlYy5iYWRnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ELnByaW1hcnlcbiAgICAgIH0sXG4gICAgICBwb3NpdGl2ZToge1xuICAgICAgICBfaHVlOiAoKF9GID0gKF9FID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmJhc2UpID09IG51bGwgPyB2b2lkIDAgOiBfRS5wb3NpdGl2ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9GLl9odWUpIHx8IGh1ZSxcbiAgICAgICAgLi4uKF9HID0gc3BlYy5iYWRnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9HW1wiKlwiXSxcbiAgICAgICAgLi4uKF9IID0gc3BlYy5iYWRnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ILnBvc2l0aXZlXG4gICAgICB9LFxuICAgICAgY2F1dGlvbjoge1xuICAgICAgICBfaHVlOiAoKF9KID0gKF9JID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmJhc2UpID09IG51bGwgPyB2b2lkIDAgOiBfSS5jYXV0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX0ouX2h1ZSkgfHwgaHVlLFxuICAgICAgICAuLi4oX0sgPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX0tbXCIqXCJdLFxuICAgICAgICAuLi4oX0wgPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX0wuY2F1dGlvblxuICAgICAgfSxcbiAgICAgIGNyaXRpY2FsOiB7XG4gICAgICAgIF9odWU6ICgoX04gPSAoX00gPSBpbnB1dFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogaW5wdXRUb2tlbnMuYmFzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9NLmNyaXRpY2FsKSA9PSBudWxsID8gdm9pZCAwIDogX04uX2h1ZSkgfHwgaHVlLFxuICAgICAgICAuLi4oX08gPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX09bXCIqXCJdLFxuICAgICAgICAuLi4oX1AgPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX1AuY3JpdGljYWxcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiByZXNvbHZlQnV0dG9uQ29sb3JUb2tlbnMoaW5wdXRUb2tlbnMpIHtcbiAgY29uc3QgdG9rZW5zID0ge307XG4gIGZvciAoY29uc3QgbW9kZSBvZiBUSEVNRV9DT0xPUl9CVVRUT05fTU9ERVMpXG4gICAgdG9rZW5zW21vZGVdID0gcmVzb2x2ZUJ1dHRvblRvbmVDb2xvclRva2VucyhpbnB1dFRva2VucywgbW9kZSk7XG4gIHJldHVybiB0b2tlbnM7XG59XG5mdW5jdGlvbiByZXNvbHZlQnV0dG9uVG9uZUNvbG9yVG9rZW5zKGlucHV0VG9rZW5zLCBtb2RlKSB7XG4gIGNvbnN0IHRva2VucyA9IHt9O1xuICBmb3IgKGNvbnN0IHRvbmUgb2YgVEhFTUVfQ09MT1JfU1RBVEVfVE9ORVMpXG4gICAgdG9rZW5zW3RvbmVdID0gcmVzb2x2ZUJ1dHRvbk1vZGVDb2xvclRva2VucyhpbnB1dFRva2VucywgbW9kZSwgdG9uZSk7XG4gIHJldHVybiB0b2tlbnM7XG59XG5mdW5jdGlvbiByZXNvbHZlQnV0dG9uTW9kZUNvbG9yVG9rZW5zKGlucHV0VG9rZW5zLCBtb2RlLCB0b25lKSB7XG4gIGNvbnN0IHRva2VucyA9IHt9O1xuICBmb3IgKGNvbnN0IHN0YXRlIG9mIFRIRU1FX0NPTE9SX1NUQVRFUylcbiAgICB0b2tlbnNbc3RhdGVdID0gcmVzb2x2ZUJ1dHRvblN0YXRlQ29sb3JUb2tlbnMoaW5wdXRUb2tlbnMsIHRvbmUsIG1vZGUsIHN0YXRlKTtcbiAgcmV0dXJuIHRva2Vucztcbn1cbmZ1bmN0aW9uIHJlc29sdmVCdXR0b25TdGF0ZUNvbG9yVG9rZW5zKGlucHV0VG9rZW5zLCB0b25lLCBtb2RlLCBzdGF0ZSkge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2osIF9rLCBfbCwgX20sIF9uLCBfbywgX3AsIF9xLCBfciwgX3MsIF90LCBfdSwgX3YsIF93LCBfeCwgX3ksIF96LCBfQSwgX0IsIF9DLCBfRCwgX0UsIF9GLCBfRywgX0gsIF9JLCBfSiwgX0ssIF9MLCBfTSwgX04sIF9PLCBfUCwgX1EsIF9SLCBfUywgX1QsIF9VLCBfViwgX1csIF9YLCBfWSwgX1o7XG4gIGNvbnN0IHNwZWMgPSBtZXJnZShcbiAgICAoX2MgPSAoX2IgPSAoX2EgPSBpbnB1dFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogaW5wdXRUb2tlbnMuYnV0dG9uKSA9PSBudWxsID8gdm9pZCAwIDogX2FbbW9kZV0pID09IG51bGwgPyB2b2lkIDAgOiBfYltcIipcIl0pID09IG51bGwgPyB2b2lkIDAgOiBfY1tcIipcIl0sXG4gICAgKF9mID0gKF9lID0gKF9kID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmJ1dHRvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9kW21vZGVdKSA9PSBudWxsID8gdm9pZCAwIDogX2VbdG9uZV0pID09IG51bGwgPyB2b2lkIDAgOiBfZltcIipcIl0sXG4gICAgKF9pID0gKF9oID0gKF9nID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmJ1dHRvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9nW21vZGVdKSA9PSBudWxsID8gdm9pZCAwIDogX2hbXCIqXCJdKSA9PSBudWxsID8gdm9pZCAwIDogX2lbc3RhdGVdLFxuICAgIChfbCA9IChfayA9IChfaiA9IGlucHV0VG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dFRva2Vucy5idXR0b24pID09IG51bGwgPyB2b2lkIDAgOiBfalttb2RlXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9rW3RvbmVdKSA9PSBudWxsID8gdm9pZCAwIDogX2xbc3RhdGVdXG4gICksIGh1ZSA9IHNwZWMuX2h1ZSB8fCAoKF9uID0gKF9tID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmJhc2UpID09IG51bGwgPyB2b2lkIDAgOiBfbVt0b25lXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uLl9odWUpO1xuICByZXR1cm4ge1xuICAgIC4uLnNwZWMsXG4gICAgX2h1ZTogaHVlLFxuICAgIGF2YXRhcjoge1xuICAgICAgZ3JheTogbWVyZ2UoeyBfaHVlOiBcImdyYXlcIiB9LCAoX28gPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9vW1wiKlwiXSwgKF9wID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfcC5ncmF5KSxcbiAgICAgIGJsdWU6IG1lcmdlKHsgX2h1ZTogXCJibHVlXCIgfSwgKF9xID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfcVtcIipcIl0sIChfciA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX3IuYmx1ZSksXG4gICAgICBwdXJwbGU6IG1lcmdlKHsgX2h1ZTogXCJwdXJwbGVcIiB9LCAoX3MgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9zW1wiKlwiXSwgKF90ID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfdC5wdXJwbGUpLFxuICAgICAgbWFnZW50YTogbWVyZ2UoeyBfaHVlOiBcIm1hZ2VudGFcIiB9LCAoX3UgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF91W1wiKlwiXSwgKF92ID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfdi5tYWdlbnRhKSxcbiAgICAgIHJlZDogbWVyZ2UoeyBfaHVlOiBcInJlZFwiIH0sIChfdyA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX3dbXCIqXCJdLCAoX3ggPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF94LnJlZCksXG4gICAgICBvcmFuZ2U6IG1lcmdlKHsgX2h1ZTogXCJvcmFuZ2VcIiB9LCAoX3kgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF95W1wiKlwiXSwgKF96ID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfei5vcmFuZ2UpLFxuICAgICAgeWVsbG93OiBtZXJnZSh7IF9odWU6IFwieWVsbG93XCIgfSwgKF9BID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfQVtcIipcIl0sIChfQiA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX0IueWVsbG93KSxcbiAgICAgIGdyZWVuOiBtZXJnZSh7IF9odWU6IFwiZ3JlZW5cIiB9LCAoX0MgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9DW1wiKlwiXSwgKF9EID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfRC5ncmVlbiksXG4gICAgICBjeWFuOiBtZXJnZSh7IF9odWU6IFwiY3lhblwiIH0sIChfRSA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX0VbXCIqXCJdLCAoX0YgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9GLmN5YW4pXG4gICAgfSxcbiAgICBiYWRnZToge1xuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBfaHVlOiAoX0ggPSAoX0cgPSBpbnB1dFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogaW5wdXRUb2tlbnMuYmFzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9HLmRlZmF1bHQpID09IG51bGwgPyB2b2lkIDAgOiBfSC5faHVlLFxuICAgICAgICAuLi4oX0kgPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX0lbXCIqXCJdLFxuICAgICAgICAuLi4oX0ogPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX0ouZGVmYXVsdFxuICAgICAgfSxcbiAgICAgIHByaW1hcnk6IHtcbiAgICAgICAgX2h1ZTogKF9MID0gKF9LID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmJhc2UpID09IG51bGwgPyB2b2lkIDAgOiBfSy5wcmltYXJ5KSA9PSBudWxsID8gdm9pZCAwIDogX0wuX2h1ZSxcbiAgICAgICAgLi4uKF9NID0gc3BlYy5iYWRnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9NW1wiKlwiXSxcbiAgICAgICAgLi4uKF9OID0gc3BlYy5iYWRnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9OLnByaW1hcnlcbiAgICAgIH0sXG4gICAgICBwb3NpdGl2ZToge1xuICAgICAgICBfaHVlOiAoX1AgPSAoX08gPSBpbnB1dFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogaW5wdXRUb2tlbnMuYmFzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9PLnBvc2l0aXZlKSA9PSBudWxsID8gdm9pZCAwIDogX1AuX2h1ZSxcbiAgICAgICAgLi4uKF9RID0gc3BlYy5iYWRnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9RW1wiKlwiXSxcbiAgICAgICAgLi4uKF9SID0gc3BlYy5iYWRnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9SLnBvc2l0aXZlXG4gICAgICB9LFxuICAgICAgY2F1dGlvbjoge1xuICAgICAgICBfaHVlOiAoX1QgPSAoX1MgPSBpbnB1dFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogaW5wdXRUb2tlbnMuYmFzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9TLmNhdXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfVC5faHVlLFxuICAgICAgICAuLi4oX1UgPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX1VbXCIqXCJdLFxuICAgICAgICAuLi4oX1YgPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX1YuY2F1dGlvblxuICAgICAgfSxcbiAgICAgIGNyaXRpY2FsOiB7XG4gICAgICAgIF9odWU6IChfWCA9IChfVyA9IGlucHV0VG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dFRva2Vucy5iYXNlKSA9PSBudWxsID8gdm9pZCAwIDogX1cuY3JpdGljYWwpID09IG51bGwgPyB2b2lkIDAgOiBfWC5faHVlLFxuICAgICAgICAuLi4oX1kgPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX1lbXCIqXCJdLFxuICAgICAgICAuLi4oX1ogPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX1ouY3JpdGljYWxcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiByZXNvbHZlSW5wdXRDb2xvclRva2VucyhpbnB1dFRva2Vucykge1xuICBjb25zdCB0b2tlbnMgPSB7fTtcbiAgZm9yIChjb25zdCBtb2RlIG9mIFRIRU1FX0NPTE9SX0lOUFVUX01PREVTKVxuICAgIHRva2Vuc1ttb2RlXSA9IHJlc29sdmVJbnB1dE1vZGVDb2xvclRva2VucyhpbnB1dFRva2VucywgbW9kZSk7XG4gIHJldHVybiB0b2tlbnM7XG59XG5mdW5jdGlvbiByZXNvbHZlSW5wdXRNb2RlQ29sb3JUb2tlbnMoaW5wdXRUb2tlbnMsIG1vZGUpIHtcbiAgY29uc3Qgc3RhdGVzID0ge307XG4gIGZvciAoY29uc3Qgc3RhdGUgb2YgVEhFTUVfQ09MT1JfSU5QVVRfU1RBVEVTKVxuICAgIHN0YXRlc1tzdGF0ZV0gPSByZXNvbHZlSW5wdXRTdGF0ZUNvbG9yVG9rZW5zKGlucHV0VG9rZW5zLCBtb2RlLCBzdGF0ZSk7XG4gIHJldHVybiBzdGF0ZXM7XG59XG5mdW5jdGlvbiByZXNvbHZlSW5wdXRTdGF0ZUNvbG9yVG9rZW5zKGlucHV0VG9rZW5zLCBtb2RlLCBzdGF0ZSkge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2o7XG4gIGNvbnN0IHNwZWMgPSBtZXJnZShcbiAgICAoX2IgPSAoX2EgPSBpbnB1dFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogaW5wdXRUb2tlbnMuaW5wdXQpID09IG51bGwgPyB2b2lkIDAgOiBfYVtcIipcIl0pID09IG51bGwgPyB2b2lkIDAgOiBfYltcIipcIl0sXG4gICAgKF9kID0gKF9jID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmlucHV0KSA9PSBudWxsID8gdm9pZCAwIDogX2NbbW9kZV0pID09IG51bGwgPyB2b2lkIDAgOiBfZFtcIipcIl0sXG4gICAgKF9mID0gKF9lID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmlucHV0KSA9PSBudWxsID8gdm9pZCAwIDogX2VbXCIqXCJdKSA9PSBudWxsID8gdm9pZCAwIDogX2Zbc3RhdGVdLFxuICAgIChfaCA9IChfZyA9IGlucHV0VG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dFRva2Vucy5pbnB1dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nW21vZGVdKSA9PSBudWxsID8gdm9pZCAwIDogX2hbc3RhdGVdXG4gICksIGh1ZSA9IHNwZWMuX2h1ZSB8fCAoKF9qID0gKF9pID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmlucHV0KSA9PSBudWxsID8gdm9pZCAwIDogX2lbbW9kZV0pID09IG51bGwgPyB2b2lkIDAgOiBfai5faHVlKTtcbiAgcmV0dXJuIHsgLi4uc3BlYywgX2h1ZTogaHVlIH07XG59XG5mdW5jdGlvbiByZXNvbHZlU2VsZWN0YWJsZUNvbG9yVG9rZW5zKGlucHV0VG9rZW5zKSB7XG4gIGNvbnN0IHRva2VucyA9IHt9O1xuICBmb3IgKGNvbnN0IHRvbmUgb2YgVEhFTUVfQ09MT1JfU1RBVEVfVE9ORVMpXG4gICAgdG9rZW5zW3RvbmVdID0gcmVzb2x2ZVNlbGVjdGFibGVUb25lQ29sb3JUb2tlbnMoaW5wdXRUb2tlbnMsIHRvbmUpO1xuICByZXR1cm4gdG9rZW5zO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVNlbGVjdGFibGVUb25lQ29sb3JUb2tlbnMoaW5wdXRUb2tlbnMsIHRvbmUpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBjb25zdCBzdGF0ZXMgPSB7XG4gICAgX2h1ZTogKChfYiA9IChfYSA9IGlucHV0VG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dFRva2Vucy5zZWxlY3RhYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX2FbdG9uZV0pID09IG51bGwgPyB2b2lkIDAgOiBfYi5faHVlKSB8fCAoKF9kID0gKF9jID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmJhc2UpID09IG51bGwgPyB2b2lkIDAgOiBfY1t0b25lXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLl9odWUpXG4gIH07XG4gIGZvciAoY29uc3Qgc3RhdGUgb2YgVEhFTUVfQ09MT1JfU1RBVEVTKVxuICAgIHN0YXRlc1tzdGF0ZV0gPSByZXNvbHZlU2VsZWN0YWJsZVN0YXRlQ29sb3JUb2tlbnMoaW5wdXRUb2tlbnMsIHRvbmUsIHN0YXRlKTtcbiAgcmV0dXJuIHN0YXRlcztcbn1cbmZ1bmN0aW9uIHJlc29sdmVTZWxlY3RhYmxlU3RhdGVDb2xvclRva2VucyhpbnB1dFRva2VucywgdG9uZSwgc3RhdGUpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2ksIF9qLCBfaywgX2wsIF9tLCBfbiwgX28sIF9wLCBfcSwgX3IsIF9zLCBfdCwgX3UsIF92LCBfdywgX3gsIF95LCBfeiwgX0EsIF9CLCBfQywgX0QsIF9FLCBfRiwgX0csIF9ILCBfSSwgX0osIF9LLCBfTCwgX00sIF9OLCBfTywgX1AsIF9RLCBfUiwgX1MsIF9ULCBfVSwgX1Y7XG4gIGNvbnN0IHNwZWMgPSBtZXJnZShcbiAgICAoX2IgPSAoX2EgPSBpbnB1dFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogaW5wdXRUb2tlbnMuc2VsZWN0YWJsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hW1wiKlwiXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iW1wiKlwiXSxcbiAgICAoX2QgPSAoX2MgPSBpbnB1dFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogaW5wdXRUb2tlbnMuc2VsZWN0YWJsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jW3RvbmVdKSA9PSBudWxsID8gdm9pZCAwIDogX2RbXCIqXCJdLFxuICAgIChfZiA9IChfZSA9IGlucHV0VG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dFRva2Vucy5zZWxlY3RhYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX2VbXCIqXCJdKSA9PSBudWxsID8gdm9pZCAwIDogX2Zbc3RhdGVdLFxuICAgIChfaCA9IChfZyA9IGlucHV0VG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dFRva2Vucy5zZWxlY3RhYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX2dbdG9uZV0pID09IG51bGwgPyB2b2lkIDAgOiBfaFtzdGF0ZV1cbiAgKSwgaHVlID0gc3BlYy5faHVlIHx8ICgoX2ogPSAoX2kgPSBpbnB1dFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogaW5wdXRUb2tlbnMuYmFzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pW3RvbmVdKSA9PSBudWxsID8gdm9pZCAwIDogX2ouX2h1ZSk7XG4gIHJldHVybiB7XG4gICAgLi4uc3BlYyxcbiAgICBfaHVlOiBodWUsXG4gICAgYXZhdGFyOiB7XG4gICAgICBncmF5OiBtZXJnZSh7IF9odWU6IFwiZ3JheVwiIH0sIChfayA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX2tbXCIqXCJdLCAoX2wgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9sLmdyYXkpLFxuICAgICAgYmx1ZTogbWVyZ2UoeyBfaHVlOiBcImJsdWVcIiB9LCAoX20gPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9tW1wiKlwiXSwgKF9uID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfbi5ibHVlKSxcbiAgICAgIHB1cnBsZTogbWVyZ2UoeyBfaHVlOiBcInB1cnBsZVwiIH0sIChfbyA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX29bXCIqXCJdLCAoX3AgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9wLnB1cnBsZSksXG4gICAgICBtYWdlbnRhOiBtZXJnZSh7IF9odWU6IFwibWFnZW50YVwiIH0sIChfcSA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX3FbXCIqXCJdLCAoX3IgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9yLm1hZ2VudGEpLFxuICAgICAgcmVkOiBtZXJnZSh7IF9odWU6IFwicmVkXCIgfSwgKF9zID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfc1tcIipcIl0sIChfdCA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX3QucmVkKSxcbiAgICAgIG9yYW5nZTogbWVyZ2UoeyBfaHVlOiBcIm9yYW5nZVwiIH0sIChfdSA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX3VbXCIqXCJdLCAoX3YgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF92Lm9yYW5nZSksXG4gICAgICB5ZWxsb3c6IG1lcmdlKHsgX2h1ZTogXCJ5ZWxsb3dcIiB9LCAoX3cgPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF93W1wiKlwiXSwgKF94ID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfeC55ZWxsb3cpLFxuICAgICAgZ3JlZW46IG1lcmdlKHsgX2h1ZTogXCJncmVlblwiIH0sIChfeSA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX3lbXCIqXCJdLCAoX3ogPSBzcGVjLmF2YXRhcikgPT0gbnVsbCA/IHZvaWQgMCA6IF96LmdyZWVuKSxcbiAgICAgIGN5YW46IG1lcmdlKHsgX2h1ZTogXCJjeWFuXCIgfSwgKF9BID0gc3BlYy5hdmF0YXIpID09IG51bGwgPyB2b2lkIDAgOiBfQVtcIipcIl0sIChfQiA9IHNwZWMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX0IuY3lhbilcbiAgICB9LFxuICAgIGJhZGdlOiB7XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIF9odWU6IChfRCA9IChfQyA9IGlucHV0VG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dFRva2Vucy5iYXNlKSA9PSBudWxsID8gdm9pZCAwIDogX0MuZGVmYXVsdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ELl9odWUsXG4gICAgICAgIC4uLihfRSA9IHNwZWMuYmFkZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfRVtcIipcIl0sXG4gICAgICAgIC4uLihfRiA9IHNwZWMuYmFkZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfRi5kZWZhdWx0XG4gICAgICB9LFxuICAgICAgcHJpbWFyeToge1xuICAgICAgICBfaHVlOiAoX0ggPSAoX0cgPSBpbnB1dFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogaW5wdXRUb2tlbnMuYmFzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9HLnByaW1hcnkpID09IG51bGwgPyB2b2lkIDAgOiBfSC5faHVlLFxuICAgICAgICAuLi4oX0kgPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX0lbXCIqXCJdLFxuICAgICAgICAuLi4oX0ogPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX0oucHJpbWFyeVxuICAgICAgfSxcbiAgICAgIHBvc2l0aXZlOiB7XG4gICAgICAgIF9odWU6IChfTCA9IChfSyA9IGlucHV0VG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dFRva2Vucy5iYXNlKSA9PSBudWxsID8gdm9pZCAwIDogX0sucG9zaXRpdmUpID09IG51bGwgPyB2b2lkIDAgOiBfTC5faHVlLFxuICAgICAgICAuLi4oX00gPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX01bXCIqXCJdLFxuICAgICAgICAuLi4oX04gPSBzcGVjLmJhZGdlKSA9PSBudWxsID8gdm9pZCAwIDogX04ucG9zaXRpdmVcbiAgICAgIH0sXG4gICAgICBjYXV0aW9uOiB7XG4gICAgICAgIF9odWU6IChfUCA9IChfTyA9IGlucHV0VG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dFRva2Vucy5iYXNlKSA9PSBudWxsID8gdm9pZCAwIDogX08uY2F1dGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9QLl9odWUsXG4gICAgICAgIC4uLihfUSA9IHNwZWMuYmFkZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfUVtcIipcIl0sXG4gICAgICAgIC4uLihfUiA9IHNwZWMuYmFkZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfUi5jYXV0aW9uXG4gICAgICB9LFxuICAgICAgY3JpdGljYWw6IHtcbiAgICAgICAgX2h1ZTogKF9UID0gKF9TID0gaW5wdXRUb2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGlucHV0VG9rZW5zLmJhc2UpID09IG51bGwgPyB2b2lkIDAgOiBfUy5jcml0aWNhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ULl9odWUsXG4gICAgICAgIC4uLihfVSA9IHNwZWMuYmFkZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfVVtcIipcIl0sXG4gICAgICAgIC4uLihfViA9IHNwZWMuYmFkZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfVi5jcml0aWNhbFxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQ29sb3JUaGVtZShjb25maWcpIHtcbiAgY29uc3QgcmVzb2x2ZWRDb25maWcgPSB7XG4gICAgLi4uY29uZmlnLFxuICAgIGNvbG9yOiByZXNvbHZlQ29sb3JUb2tlbnMoY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcuY29sb3IpXG4gIH07XG4gIHJldHVybiB7XG4gICAgbGlnaHQ6IGJ1aWxkQ29sb3JTY2hlbWUoeyBzY2hlbWU6IFwibGlnaHRcIiB9LCByZXNvbHZlZENvbmZpZyksXG4gICAgZGFyazogYnVpbGRDb2xvclNjaGVtZSh7IHNjaGVtZTogXCJkYXJrXCIgfSwgcmVzb2x2ZWRDb25maWcpXG4gIH07XG59XG5mdW5jdGlvbiBidWlsZENvbG9yU2NoZW1lKG9wdGlvbnMsIGNvbmZpZykge1xuICBjb25zdCB7IHNjaGVtZSB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIHtcbiAgICB0cmFuc3BhcmVudDogYnVpbGRDYXJkQ29sb3JUaGVtZSh7IHNjaGVtZSwgdG9uZTogXCJ0cmFuc3BhcmVudFwiIH0sIGNvbmZpZyksXG4gICAgZGVmYXVsdDogYnVpbGRDYXJkQ29sb3JUaGVtZSh7IHNjaGVtZSwgdG9uZTogXCJkZWZhdWx0XCIgfSwgY29uZmlnKSxcbiAgICBwcmltYXJ5OiBidWlsZENhcmRDb2xvclRoZW1lKHsgc2NoZW1lLCB0b25lOiBcInByaW1hcnlcIiB9LCBjb25maWcpLFxuICAgIHBvc2l0aXZlOiBidWlsZENhcmRDb2xvclRoZW1lKHsgc2NoZW1lLCB0b25lOiBcInBvc2l0aXZlXCIgfSwgY29uZmlnKSxcbiAgICBjYXV0aW9uOiBidWlsZENhcmRDb2xvclRoZW1lKHsgc2NoZW1lLCB0b25lOiBcImNhdXRpb25cIiB9LCBjb25maWcpLFxuICAgIGNyaXRpY2FsOiBidWlsZENhcmRDb2xvclRoZW1lKHsgc2NoZW1lLCB0b25lOiBcImNyaXRpY2FsXCIgfSwgY29uZmlnKVxuICB9O1xufVxuZnVuY3Rpb24gYnVpbGRDYXJkQ29sb3JUaGVtZShvcHRpb25zLCBjb25maWcpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2ksIF9qLCBfaywgX2wsIF9tO1xuICBjb25zdCB7IHNjaGVtZSwgdG9uZSB9ID0gb3B0aW9ucywgdG9rZW5zID0gKF9iID0gKF9hID0gY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcuY29sb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5iYXNlKSA9PSBudWxsID8gdm9pZCAwIDogX2JbdG9uZV0sIGNvbnRleHQgPSB7IGh1ZTogKHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLl9odWUpIHx8IFwiZ3JheVwiLCBzY2hlbWUgfTtcbiAgcmV0dXJuIHtcbiAgICBfYmxlbmQ6ICgodG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuX2JsZW5kKSB8fCBbXCJtdWx0aXBseVwiLCBcInNjcmVlblwiXSlbc2NoZW1lID09PSBcImxpZ2h0XCIgPyAwIDogMV0sXG4gICAgX2Rhcms6IHNjaGVtZSA9PT0gXCJkYXJrXCIsXG4gICAgYWNjZW50OiB7XG4gICAgICBmZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX2MgPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5hY2NlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5mZylcbiAgICB9LFxuICAgIGF2YXRhcjogYnVpbGRBdmF0YXJDb2xvclRoZW1lKHsgc2NoZW1lIH0sIHRva2VucyksXG4gICAgYmFja2Ryb3A6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuYmFja2Ryb3ApLFxuICAgIGJhZGdlOiBidWlsZEJhZGdlQ29sb3JUaGVtZSh0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5iYWRnZSwgeyBzY2hlbWUgfSwgY29uZmlnKSxcbiAgICBiZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5iZyksXG4gICAgYm9yZGVyOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmJvcmRlciksXG4gICAgYnV0dG9uOiBidWlsZEJ1dHRvbkNvbG9yVGhlbWUoeyBzY2hlbWUgfSwgY29uZmlnKSxcbiAgICBjb2RlOiB7XG4gICAgICBiZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX2QgPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5jb2RlKSA9PSBudWxsID8gdm9pZCAwIDogX2QuYmcpLFxuICAgICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9lID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuY29kZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmZnKVxuICAgIH0sXG4gICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuZmcpLFxuICAgIGZvY3VzUmluZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5mb2N1c1JpbmcpLFxuICAgIGljb246IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuaWNvbiksXG4gICAgaW5wdXQ6IGJ1aWxkSW5wdXRDb2xvclRoZW1lKHsgc2NoZW1lLCB0b25lIH0sIGNvbmZpZyksXG4gICAga2JkOiB7XG4gICAgICBiZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX2YgPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5rYmQpID09IG51bGwgPyB2b2lkIDAgOiBfZi5iZyksXG4gICAgICBmZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX2cgPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5rYmQpID09IG51bGwgPyB2b2lkIDAgOiBfZy5mZyksXG4gICAgICBib3JkZXI6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9oID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMua2JkKSA9PSBudWxsID8gdm9pZCAwIDogX2guYm9yZGVyKVxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9pID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMubGluaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9pLmZnKVxuICAgIH0sXG4gICAgbXV0ZWQ6IHtcbiAgICAgIGJnOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIChfaiA9IHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLm11dGVkKSA9PSBudWxsID8gdm9pZCAwIDogX2ouYmcpLFxuICAgICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9rID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMubXV0ZWQpID09IG51bGwgPyB2b2lkIDAgOiBfay5mZylcbiAgICB9LFxuICAgIHNlbGVjdGFibGU6IGJ1aWxkU2VsZWN0YWJsZUNvbG9yVGhlbWUoeyBzY2hlbWUgfSwgY29uZmlnKSxcbiAgICBzaGFkb3c6IGJ1aWxkU2hhZG93Q29sb3JUaGVtZSh7IHNjaGVtZSwgdG9uZSB9LCBjb25maWcpLFxuICAgIHNrZWxldG9uOiB7XG4gICAgICBmcm9tOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIChfbCA9IHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLnNrZWxldG9uKSA9PSBudWxsID8gdm9pZCAwIDogX2wuZnJvbSksXG4gICAgICB0bzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX20gPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5za2VsZXRvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9tLnRvKVxuICAgIH0sXG4gICAgc3ludGF4OiBidWlsZFN5bnRheENvbG9yVGhlbWUoeyBzY2hlbWUgfSwgY29uZmlnKVxuICB9O1xufVxuZnVuY3Rpb24gYnVpbGRTaGFkb3dDb2xvclRoZW1lKG9wdGlvbnMsIGNvbmZpZykge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgY29uc3QgeyBzY2hlbWUsIHRvbmUgfSA9IG9wdGlvbnMsIHRva2VucyA9IChfYiA9IChfYSA9IGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLmNvbG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EuYmFzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iW3RvbmVdLCBjb250ZXh0ID0geyBodWU6ICh0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5faHVlKSB8fCBcImdyYXlcIiwgc2NoZW1lIH07XG4gIHJldHVybiB7XG4gICAgb3V0bGluZTogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX2MgPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5zaGFkb3cpID09IG51bGwgPyB2b2lkIDAgOiBfYy5vdXRsaW5lKSxcbiAgICB1bWJyYTogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX2QgPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5zaGFkb3cpID09IG51bGwgPyB2b2lkIDAgOiBfZC51bWJyYSksXG4gICAgcGVudW1icmE6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9lID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuc2hhZG93KSA9PSBudWxsID8gdm9pZCAwIDogX2UucGVudW1icmEpLFxuICAgIGFtYmllbnQ6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9mID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuc2hhZG93KSA9PSBudWxsID8gdm9pZCAwIDogX2YuYW1iaWVudClcbiAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQXZhdGFyQ29sb3JUaGVtZShvcHRpb25zLCBzdGF0ZVRva2Vucykge1xuICBjb25zdCB7IHNjaGVtZSB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIHtcbiAgICBncmF5OiBfYnVpbGRBdmF0YXJDb2xvclRoZW1lKHsgY29sb3I6IFwiZ3JheVwiLCBzY2hlbWUgfSwgc3RhdGVUb2tlbnMpLFxuICAgIGJsdWU6IF9idWlsZEF2YXRhckNvbG9yVGhlbWUoeyBjb2xvcjogXCJibHVlXCIsIHNjaGVtZSB9LCBzdGF0ZVRva2VucyksXG4gICAgcHVycGxlOiBfYnVpbGRBdmF0YXJDb2xvclRoZW1lKHsgY29sb3I6IFwicHVycGxlXCIsIHNjaGVtZSB9LCBzdGF0ZVRva2VucyksXG4gICAgbWFnZW50YTogX2J1aWxkQXZhdGFyQ29sb3JUaGVtZSh7IGNvbG9yOiBcIm1hZ2VudGFcIiwgc2NoZW1lIH0sIHN0YXRlVG9rZW5zKSxcbiAgICByZWQ6IF9idWlsZEF2YXRhckNvbG9yVGhlbWUoeyBjb2xvcjogXCJyZWRcIiwgc2NoZW1lIH0sIHN0YXRlVG9rZW5zKSxcbiAgICBvcmFuZ2U6IF9idWlsZEF2YXRhckNvbG9yVGhlbWUoeyBjb2xvcjogXCJvcmFuZ2VcIiwgc2NoZW1lIH0sIHN0YXRlVG9rZW5zKSxcbiAgICB5ZWxsb3c6IF9idWlsZEF2YXRhckNvbG9yVGhlbWUoeyBjb2xvcjogXCJ5ZWxsb3dcIiwgc2NoZW1lIH0sIHN0YXRlVG9rZW5zKSxcbiAgICBncmVlbjogX2J1aWxkQXZhdGFyQ29sb3JUaGVtZSh7IGNvbG9yOiBcImdyZWVuXCIsIHNjaGVtZSB9LCBzdGF0ZVRva2VucyksXG4gICAgY3lhbjogX2J1aWxkQXZhdGFyQ29sb3JUaGVtZSh7IGNvbG9yOiBcImN5YW5cIiwgc2NoZW1lIH0sIHN0YXRlVG9rZW5zKVxuICB9O1xufVxuZnVuY3Rpb24gX2J1aWxkQXZhdGFyQ29sb3JUaGVtZShvcHRpb25zLCBzdGF0ZVRva2Vucykge1xuICB2YXIgX2E7XG4gIGNvbnN0IHsgY29sb3I6IGNvbG9yMiwgc2NoZW1lIH0gPSBvcHRpb25zLCB0b2tlbnMgPSAoX2EgPSBzdGF0ZVRva2VucyA9PSBudWxsID8gdm9pZCAwIDogc3RhdGVUb2tlbnMuYXZhdGFyKSA9PSBudWxsID8gdm9pZCAwIDogX2FbY29sb3IyXSwgY29udGV4dCA9IHsgaHVlOiAodG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuX2h1ZSkgfHwgXCJncmF5XCIsIHNjaGVtZSB9O1xuICByZXR1cm4ge1xuICAgIF9ibGVuZDogKCh0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5fYmxlbmQpIHx8IFtcInNjcmVlblwiLCBcIm11bHRpcGx5XCJdKVtzY2hlbWUgPT09IFwibGlnaHRcIiA/IDAgOiAxXSxcbiAgICBiZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5iZyksXG4gICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuZmcpXG4gIH07XG59XG5mdW5jdGlvbiBidWlsZEJhZGdlQ29sb3JUaGVtZSh0b2tlbnMsIG9wdGlvbnMsIGNvbmZpZykge1xuICBjb25zdCB7IHNjaGVtZSB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIHtcbiAgICBkZWZhdWx0OiBfYnVpbGRCYWRnZUNvbG9yVGhlbWUodG9rZW5zLCB7IHNjaGVtZSwgdG9uZTogXCJkZWZhdWx0XCIgfSwgY29uZmlnKSxcbiAgICBwcmltYXJ5OiBfYnVpbGRCYWRnZUNvbG9yVGhlbWUodG9rZW5zLCB7IHNjaGVtZSwgdG9uZTogXCJwcmltYXJ5XCIgfSwgY29uZmlnKSxcbiAgICBwb3NpdGl2ZTogX2J1aWxkQmFkZ2VDb2xvclRoZW1lKHRva2VucywgeyBzY2hlbWUsIHRvbmU6IFwicG9zaXRpdmVcIiB9LCBjb25maWcpLFxuICAgIGNhdXRpb246IF9idWlsZEJhZGdlQ29sb3JUaGVtZSh0b2tlbnMsIHsgc2NoZW1lLCB0b25lOiBcImNhdXRpb25cIiB9LCBjb25maWcpLFxuICAgIGNyaXRpY2FsOiBfYnVpbGRCYWRnZUNvbG9yVGhlbWUodG9rZW5zLCB7IHNjaGVtZSwgdG9uZTogXCJjcml0aWNhbFwiIH0sIGNvbmZpZylcbiAgfTtcbn1cbmZ1bmN0aW9uIF9idWlsZEJhZGdlQ29sb3JUaGVtZShwYXJlbnRUb2tlbnMsIG9wdGlvbnMsIGNvbmZpZykge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3QgeyBzY2hlbWUsIHRvbmUgfSA9IG9wdGlvbnMsIHRva2VucyA9IHBhcmVudFRva2VucyA9PSBudWxsID8gdm9pZCAwIDogcGFyZW50VG9rZW5zW3RvbmVdLCBjb250ZXh0ID0geyBodWU6ICh0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5faHVlKSB8fCAoKF9jID0gKF9iID0gKF9hID0gY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcuY29sb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5iYXNlKSA9PSBudWxsID8gdm9pZCAwIDogX2JbdG9uZV0pID09IG51bGwgPyB2b2lkIDAgOiBfYy5faHVlKSB8fCBcImdyYXlcIiwgc2NoZW1lIH07XG4gIHJldHVybiB7XG4gICAgYmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuYmcpLFxuICAgIGZnOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmZnKSxcbiAgICBkb3Q6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuZG90KSxcbiAgICBpY29uOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmljb24pXG4gIH07XG59XG5mdW5jdGlvbiBidWlsZEJ1dHRvbkNvbG9yVGhlbWUob3B0aW9ucywgY29uZmlnKSB7XG4gIGNvbnN0IHsgc2NoZW1lIH0gPSBvcHRpb25zLCBtb2RlcyA9IHt9O1xuICBmb3IgKGNvbnN0IG1vZGUgb2YgVEhFTUVfQ09MT1JfQlVUVE9OX01PREVTKVxuICAgIG1vZGVzW21vZGVdID0gYnVpbGRCdXR0b25Ub25lc0NvbG9yVGhlbWUoeyBzY2hlbWUsIG1vZGUgfSwgY29uZmlnKTtcbiAgcmV0dXJuIG1vZGVzO1xufVxuZnVuY3Rpb24gYnVpbGRCdXR0b25Ub25lc0NvbG9yVGhlbWUob3B0aW9ucywgY29uZmlnKSB7XG4gIGNvbnN0IHsgbW9kZSwgc2NoZW1lIH0gPSBvcHRpb25zLCB0b25lczIgPSB7fTtcbiAgZm9yIChjb25zdCB0b25lIG9mIFRIRU1FX0NPTE9SX1NUQVRFX1RPTkVTKVxuICAgIHRvbmVzMlt0b25lXSA9IGJ1aWxkQnV0dG9uU3RhdGVzQ29sb3JUaGVtZSh7IG1vZGUsIHNjaGVtZSwgdG9uZSB9LCBjb25maWcpO1xuICByZXR1cm4gdG9uZXMyO1xufVxuZnVuY3Rpb24gYnVpbGRCdXR0b25TdGF0ZXNDb2xvclRoZW1lKG9wdGlvbnMsIGNvbmZpZykge1xuICBjb25zdCB7IG1vZGUsIHNjaGVtZSwgdG9uZSB9ID0gb3B0aW9ucywgc3RhdGVzID0ge307XG4gIGZvciAoY29uc3Qgc3RhdGUgb2YgVEhFTUVfQ09MT1JfU1RBVEVTKVxuICAgIHN0YXRlc1tzdGF0ZV0gPSBidWlsZEJ1dHRvblN0YXRlQ29sb3JUaGVtZSh7IG1vZGUsIHRvbmUsIHNjaGVtZSwgc3RhdGUgfSwgY29uZmlnKTtcbiAgcmV0dXJuIHN0YXRlcztcbn1cbmZ1bmN0aW9uIGJ1aWxkQnV0dG9uU3RhdGVDb2xvclRoZW1lKG9wdGlvbnMsIGNvbmZpZykge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2osIF9rLCBfbCwgX20sIF9uLCBfbztcbiAgY29uc3QgeyBtb2RlLCB0b25lLCBzY2hlbWUsIHN0YXRlIH0gPSBvcHRpb25zLCB0b2tlbnMgPSAoX2QgPSAoX2MgPSAoX2IgPSAoX2EgPSBjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5jb2xvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmJ1dHRvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iW21vZGVdKSA9PSBudWxsID8gdm9pZCAwIDogX2NbdG9uZV0pID09IG51bGwgPyB2b2lkIDAgOiBfZFtzdGF0ZV0sIGh1ZSA9ICh0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5faHVlKSB8fCBcImdyYXlcIiwgYmxlbmRNb2RlID0gKHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLl9ibGVuZCkgfHwgW1wic2NyZWVuXCIsIFwibXVsdGlwbHlcIl0sIGNvbnRleHQgPSB7IGh1ZSwgc2NoZW1lIH07XG4gIHJldHVybiB7XG4gICAgX2JsZW5kOiBibGVuZE1vZGVbc2NoZW1lID09PSBcImxpZ2h0XCIgPyAwIDogMV0sXG4gICAgYWNjZW50OiB7XG4gICAgICBmZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX2UgPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5hY2NlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZS5mZylcbiAgICB9LFxuICAgIGF2YXRhcjogYnVpbGRBdmF0YXJDb2xvclRoZW1lKHsgc2NoZW1lIH0sIHRva2VucyksXG4gICAgYmFkZ2U6IGJ1aWxkQmFkZ2VDb2xvclRoZW1lKHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmJhZGdlLCB7IHNjaGVtZSB9LCBjb25maWcpLFxuICAgIGJnOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmJnKSxcbiAgICBib3JkZXI6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuYm9yZGVyKSxcbiAgICBjb2RlOiB7XG4gICAgICBiZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX2YgPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5jb2RlKSA9PSBudWxsID8gdm9pZCAwIDogX2YuYmcpLFxuICAgICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9nID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuY29kZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nLmZnKVxuICAgIH0sXG4gICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuZmcpLFxuICAgIGljb246IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuaWNvbiksXG4gICAgbXV0ZWQ6IHtcbiAgICAgIGJnOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIChfaCA9IHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLm11dGVkKSA9PSBudWxsID8gdm9pZCAwIDogX2guYmcpLFxuICAgICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9pID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMubXV0ZWQpID09IG51bGwgPyB2b2lkIDAgOiBfaS5mZylcbiAgICB9LFxuICAgIGtiZDoge1xuICAgICAgYmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9qID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMua2JkKSA9PSBudWxsID8gdm9pZCAwIDogX2ouYmcpLFxuICAgICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9rID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMua2JkKSA9PSBudWxsID8gdm9pZCAwIDogX2suZmcpLFxuICAgICAgYm9yZGVyOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIChfbCA9IHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmtiZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9sLmJvcmRlcilcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIGZnOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIChfbSA9IHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmxpbmspID09IG51bGwgPyB2b2lkIDAgOiBfbS5mZylcbiAgICB9LFxuICAgIHNrZWxldG9uOiB7XG4gICAgICBmcm9tOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIChfbiA9IHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLnNrZWxldG9uKSA9PSBudWxsID8gdm9pZCAwIDogX24uZnJvbSksXG4gICAgICB0bzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX28gPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5za2VsZXRvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9vLnRvKVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkSW5wdXRDb2xvclRoZW1lKG9wdGlvbnMsIGNvbmZpZykge1xuICBjb25zdCB7IHNjaGVtZSwgdG9uZSB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIHtcbiAgICBkZWZhdWx0OiBidWlsZElucHV0U3RhdGVzQ29sb3JUaGVtZSh7IG1vZGU6IFwiZGVmYXVsdFwiLCBzY2hlbWUsIHRvbmUgfSwgY29uZmlnKSxcbiAgICBpbnZhbGlkOiBidWlsZElucHV0U3RhdGVzQ29sb3JUaGVtZSh7IG1vZGU6IFwiaW52YWxpZFwiLCBzY2hlbWUsIHRvbmUgfSwgY29uZmlnKVxuICB9O1xufVxuZnVuY3Rpb24gYnVpbGRJbnB1dFN0YXRlc0NvbG9yVGhlbWUob3B0aW9ucywgY29uZmlnKSB7XG4gIGNvbnN0IHsgbW9kZSwgc2NoZW1lLCB0b25lIH0gPSBvcHRpb25zO1xuICByZXR1cm4ge1xuICAgIGVuYWJsZWQ6IGJ1aWxkSW5wdXRTdGF0ZUNvbG9yVGhlbWUoeyBtb2RlLCBzY2hlbWUsIHN0YXRlOiBcImVuYWJsZWRcIiwgdG9uZSB9LCBjb25maWcpLFxuICAgIGhvdmVyZWQ6IGJ1aWxkSW5wdXRTdGF0ZUNvbG9yVGhlbWUoeyBtb2RlLCBzY2hlbWUsIHN0YXRlOiBcImhvdmVyZWRcIiwgdG9uZSB9LCBjb25maWcpLFxuICAgIHJlYWRPbmx5OiBidWlsZElucHV0U3RhdGVDb2xvclRoZW1lKHsgbW9kZSwgc2NoZW1lLCBzdGF0ZTogXCJyZWFkT25seVwiLCB0b25lIH0sIGNvbmZpZyksXG4gICAgZGlzYWJsZWQ6IGJ1aWxkSW5wdXRTdGF0ZUNvbG9yVGhlbWUoeyBtb2RlLCBzY2hlbWUsIHN0YXRlOiBcImRpc2FibGVkXCIsIHRvbmUgfSwgY29uZmlnKVxuICB9O1xufVxuZnVuY3Rpb24gYnVpbGRJbnB1dFN0YXRlQ29sb3JUaGVtZShvcHRpb25zLCBjb25maWcpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICBjb25zdCB7IG1vZGUsIHRvbmUsIHNjaGVtZSwgc3RhdGUgfSA9IG9wdGlvbnMsIHRva2VucyA9IChfYyA9IChfYiA9IChfYSA9IGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLmNvbG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaW5wdXQpID09IG51bGwgPyB2b2lkIDAgOiBfYlttb2RlXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jW3N0YXRlXSwgaHVlID0gKHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLl9odWUpIHx8ICgoX2YgPSAoX2UgPSAoX2QgPSBjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5jb2xvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmJhc2UpID09IG51bGwgPyB2b2lkIDAgOiBfZVt0b25lXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLl9odWUpIHx8IFwiZ3JheVwiLCBibGVuZE1vZGUgPSAodG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuX2JsZW5kKSB8fCBbXCJzY3JlZW5cIiwgXCJtdWx0aXBseVwiXSwgY29udGV4dCA9IHsgaHVlLCBzY2hlbWUgfTtcbiAgcmV0dXJuIHtcbiAgICBfYmxlbmQ6IGJsZW5kTW9kZVtzY2hlbWUgPT09IFwibGlnaHRcIiA/IDAgOiAxXSxcbiAgICBiZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5iZyksXG4gICAgYm9yZGVyOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmJvcmRlciksXG4gICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuZmcpLFxuICAgIG11dGVkOiB7XG4gICAgICBiZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX2cgPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5tdXRlZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nLmJnKVxuICAgIH0sXG4gICAgcGxhY2Vob2xkZXI6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMucGxhY2Vob2xkZXIpXG4gIH07XG59XG5mdW5jdGlvbiBidWlsZFNlbGVjdGFibGVDb2xvclRoZW1lKG9wdGlvbnMsIGNvbmZpZykge1xuICBjb25zdCB7IHNjaGVtZSB9ID0gb3B0aW9ucywgdG9uZXMyID0ge307XG4gIGZvciAoY29uc3QgdG9uZSBvZiBUSEVNRV9DT0xPUl9TVEFURV9UT05FUylcbiAgICB0b25lczJbdG9uZV0gPSBidWlsZFNlbGVjdGFibGVTdGF0ZXNDb2xvclRoZW1lKHsgc2NoZW1lLCB0b25lIH0sIGNvbmZpZyk7XG4gIHJldHVybiB0b25lczI7XG59XG5mdW5jdGlvbiBidWlsZFNlbGVjdGFibGVTdGF0ZXNDb2xvclRoZW1lKG9wdGlvbnMsIGNvbmZpZykge1xuICBjb25zdCB7IHNjaGVtZSwgdG9uZSB9ID0gb3B0aW9ucywgc3RhdGVzID0ge307XG4gIGZvciAoY29uc3Qgc3RhdGUgb2YgVEhFTUVfQ09MT1JfU1RBVEVTKVxuICAgIHN0YXRlc1tzdGF0ZV0gPSBidWlsZFNlbGVjdGFibGVTdGF0ZUNvbG9yVGhlbWUoeyB0b25lLCBzY2hlbWUsIHN0YXRlIH0sIGNvbmZpZyk7XG4gIHJldHVybiBzdGF0ZXM7XG59XG5mdW5jdGlvbiBidWlsZFNlbGVjdGFibGVTdGF0ZUNvbG9yVGhlbWUob3B0aW9ucywgY29uZmlnKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pLCBfaiwgX2ssIF9sLCBfbSwgX247XG4gIGNvbnN0IHsgc2NoZW1lLCBzdGF0ZSwgdG9uZSB9ID0gb3B0aW9ucywgdG9rZW5zID0gKF9jID0gKF9iID0gKF9hID0gY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcuY29sb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zZWxlY3RhYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX2JbdG9uZV0pID09IG51bGwgPyB2b2lkIDAgOiBfY1tzdGF0ZV0sIGh1ZSA9ICh0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5faHVlKSB8fCBcImdyYXlcIiwgYmxlbmRNb2RlID0gKHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLl9ibGVuZCkgfHwgW1wic2NyZWVuXCIsIFwibXVsdGlwbHlcIl0sIGNvbnRleHQgPSB7IGh1ZSwgc2NoZW1lIH07XG4gIHJldHVybiB7XG4gICAgX2JsZW5kOiBibGVuZE1vZGVbc2NoZW1lID09PSBcImxpZ2h0XCIgPyAwIDogMV0sXG4gICAgYWNjZW50OiB7XG4gICAgICBmZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX2QgPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5hY2NlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZC5mZylcbiAgICB9LFxuICAgIGF2YXRhcjogYnVpbGRBdmF0YXJDb2xvclRoZW1lKHsgc2NoZW1lIH0sIHRva2VucyksXG4gICAgYmFkZ2U6IGJ1aWxkQmFkZ2VDb2xvclRoZW1lKHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmJhZGdlLCB7IHNjaGVtZSB9LCBjb25maWcpLFxuICAgIGJnOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmJnKSxcbiAgICBib3JkZXI6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuYm9yZGVyKSxcbiAgICBjb2RlOiB7XG4gICAgICBiZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX2UgPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5jb2RlKSA9PSBudWxsID8gdm9pZCAwIDogX2UuYmcpLFxuICAgICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9mID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuY29kZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmZnKVxuICAgIH0sXG4gICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuZmcpLFxuICAgIGljb246IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuaWNvbiksXG4gICAgbXV0ZWQ6IHtcbiAgICAgIGJnOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIChfZyA9IHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLm11dGVkKSA9PSBudWxsID8gdm9pZCAwIDogX2cuYmcpLFxuICAgICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9oID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMubXV0ZWQpID09IG51bGwgPyB2b2lkIDAgOiBfaC5mZylcbiAgICB9LFxuICAgIGtiZDoge1xuICAgICAgYmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9pID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMua2JkKSA9PSBudWxsID8gdm9pZCAwIDogX2kuYmcpLFxuICAgICAgZmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgKF9qID0gdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMua2JkKSA9PSBudWxsID8gdm9pZCAwIDogX2ouZmcpLFxuICAgICAgYm9yZGVyOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIChfayA9IHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmtiZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9rLmJvcmRlcilcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIGZnOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIChfbCA9IHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmxpbmspID09IG51bGwgPyB2b2lkIDAgOiBfbC5mZylcbiAgICB9LFxuICAgIHNrZWxldG9uOiB7XG4gICAgICBmcm9tOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIChfbSA9IHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLnNrZWxldG9uKSA9PSBudWxsID8gdm9pZCAwIDogX20uZnJvbSksXG4gICAgICB0bzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCAoX24gPSB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5za2VsZXRvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9uLnRvKVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkU3ludGF4Q29sb3JUaGVtZShvcHRpb25zLCBjb25maWcpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7IHNjaGVtZSB9ID0gb3B0aW9ucywgdG9rZW5zID0gKF9hID0gY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcuY29sb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zeW50YXgsIGNvbnRleHQgPSB7IGh1ZTogXCJncmF5XCIsIHNjaGVtZSB9O1xuICByZXR1cm4ge1xuICAgIGF0cnVsZTogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5hdHJ1bGUpLFxuICAgIGF0dHJOYW1lOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmF0dHJOYW1lKSxcbiAgICBhdHRyVmFsdWU6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuYXR0clZhbHVlKSxcbiAgICBhdHRyaWJ1dGU6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuYXR0cmlidXRlKSxcbiAgICBib29sZWFuOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmJvb2xlYW4pLFxuICAgIGJ1aWx0aW46IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuYnVpbHRpbiksXG4gICAgY2RhdGE6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuY2RhdGEpLFxuICAgIGNoYXI6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuY2hhciksXG4gICAgY2xhc3M6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuY2xhc3MpLFxuICAgIGNsYXNzTmFtZTogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5jbGFzc05hbWUpLFxuICAgIGNvbW1lbnQ6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuY29tbWVudCksXG4gICAgY29uc3RhbnQ6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuY29uc3RhbnQpLFxuICAgIGRlbGV0ZWQ6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuZGVsZXRlZCksXG4gICAgZG9jdHlwZTogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5kb2N0eXBlKSxcbiAgICBlbnRpdHk6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuZW50aXR5KSxcbiAgICBmdW5jdGlvbjogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5mdW5jdGlvbiksXG4gICAgaGV4Y29kZTogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5oZXhjb2RlKSxcbiAgICBpZDogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5pZCksXG4gICAgaW1wb3J0YW50OiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLmltcG9ydGFudCksXG4gICAgaW5zZXJ0ZWQ6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuaW5zZXJ0ZWQpLFxuICAgIGtleXdvcmQ6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMua2V5d29yZCksXG4gICAgbnVtYmVyOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLm51bWJlciksXG4gICAgb3BlcmF0b3I6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMub3BlcmF0b3IpLFxuICAgIHByb2xvZzogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5wcm9sb2cpLFxuICAgIHByb3BlcnR5OiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLnByb3BlcnR5KSxcbiAgICBwc2V1ZG9DbGFzczogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5wc2V1ZG9DbGFzcyksXG4gICAgcHNldWRvRWxlbWVudDogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5wc2V1ZG9FbGVtZW50KSxcbiAgICBwdW5jdHVhdGlvbjogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy5wdW5jdHVhdGlvbiksXG4gICAgcmVnZXg6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMucmVnZXgpLFxuICAgIHNlbGVjdG9yOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLnNlbGVjdG9yKSxcbiAgICBzdHJpbmc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuc3RyaW5nKSxcbiAgICBzeW1ib2w6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMuc3ltYm9sKSxcbiAgICB0YWc6IHJlc29sdmVDb2xvclRva2VuVmFsdWUoY29udGV4dCwgdG9rZW5zID09IG51bGwgPyB2b2lkIDAgOiB0b2tlbnMudGFnKSxcbiAgICB1bml0OiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLnVuaXQpLFxuICAgIHVybDogcmVzb2x2ZUNvbG9yVG9rZW5WYWx1ZShjb250ZXh0LCB0b2tlbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRva2Vucy51cmwpLFxuICAgIHZhcmlhYmxlOiByZXNvbHZlQ29sb3JUb2tlblZhbHVlKGNvbnRleHQsIHRva2VucyA9PSBudWxsID8gdm9pZCAwIDogdG9rZW5zLnZhcmlhYmxlKVxuICB9O1xufVxuY29uc3QgZGVmYXVsdENvbG9yUGFsZXR0ZSA9IGNvbG9yO1xuZnVuY3Rpb24gbWl4Q2hhbm5lbChiLCBzLCB3ZWlnaHQpIHtcbiAgY29uc3QgZGVsdGEgPSAocyAtIGIpICogd2VpZ2h0O1xuICByZXR1cm4gYiArIGRlbHRhO1xufVxuZnVuY3Rpb24gbWl4KGIsIHMsIHdlaWdodCkge1xuICByZXR1cm4ge1xuICAgIHI6IG1peENoYW5uZWwoYi5yLCBzLnIsIHdlaWdodCksXG4gICAgZzogbWl4Q2hhbm5lbChiLmcsIHMuZywgd2VpZ2h0KSxcbiAgICBiOiBtaXhDaGFubmVsKGIuYiwgcy5iLCB3ZWlnaHQpXG4gIH07XG59XG5mdW5jdGlvbiBtdWx0aXBseUNoYW5uZWwoYiwgcykge1xuICByZXR1cm4gYiAqIHM7XG59XG5mdW5jdGlvbiBtdWx0aXBseShiLCBzKSB7XG4gIHJldHVybiB7XG4gICAgcjogbXVsdGlwbHlDaGFubmVsKGIuciAvIDI1NSwgcy5yIC8gMjU1KSAqIDI1NSxcbiAgICBnOiBtdWx0aXBseUNoYW5uZWwoYi5nIC8gMjU1LCBzLmcgLyAyNTUpICogMjU1LFxuICAgIGI6IG11bHRpcGx5Q2hhbm5lbChiLmIgLyAyNTUsIHMuYiAvIDI1NSkgKiAyNTVcbiAgfTtcbn1cbmZ1bmN0aW9uIHNjcmVlbkNoYW5uZWwoYiwgcykge1xuICByZXR1cm4gYiArIHMgLSBiICogcztcbn1cbmZ1bmN0aW9uIHNjcmVlbihiLCBzKSB7XG4gIHJldHVybiB7XG4gICAgcjogc2NyZWVuQ2hhbm5lbChiLnIgLyAyNTUsIHMuciAvIDI1NSkgKiAyNTUsXG4gICAgZzogc2NyZWVuQ2hhbm5lbChiLmcgLyAyNTUsIHMuZyAvIDI1NSkgKiAyNTUsXG4gICAgYjogc2NyZWVuQ2hhbm5lbChiLmIgLyAyNTUsIHMuYiAvIDI1NSkgKiAyNTVcbiAgfTtcbn1cbmZ1bmN0aW9uIGxlcnAoeCwgeSwgYSkge1xuICByZXR1cm4geCAqICgxIC0gYSkgKyB5ICogYTtcbn1cbmZ1bmN0aW9uIGludmxlcnAoeCwgeSwgYSkge1xuICByZXR1cm4gY2xhbXAoKGEgLSB4KSAvICh5IC0geCkpO1xufVxuZnVuY3Rpb24gY2xhbXAoYSwgbWluID0gMCwgbWF4ID0gMSkge1xuICByZXR1cm4gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIGEpKTtcbn1cbmZ1bmN0aW9uIHJhbmdlKHgxLCB5MSwgeDIsIHkyLCBhKSB7XG4gIHJldHVybiBsZXJwKHgyLCB5MiwgaW52bGVycCh4MSwgeTEsIGEpKTtcbn1cbmZ1bmN0aW9uIHJvdW5kKHZhbHVlKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGhleFRvUmdiKGhleCkge1xuICBpZiAoaGV4Lmxlbmd0aCA9PT0gNCkge1xuICAgIGNvbnN0IGhleFIgPSBoZXguc2xpY2UoMSwgMiksIGhleEcgPSBoZXguc2xpY2UoMiwgMyksIGhleEIgPSBoZXguc2xpY2UoMywgNCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHI6IHBhcnNlSW50KGhleFIgKyBoZXhSLCAxNiksXG4gICAgICBnOiBwYXJzZUludChoZXhHICsgaGV4RywgMTYpLFxuICAgICAgYjogcGFyc2VJbnQoaGV4QiArIGhleEIsIDE2KVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByOiBwYXJzZUludChoZXguc2xpY2UoMSwgMyksIDE2KSxcbiAgICBnOiBwYXJzZUludChoZXguc2xpY2UoMywgNSksIDE2KSxcbiAgICBiOiBwYXJzZUludChoZXguc2xpY2UoNSwgNyksIDE2KVxuICB9O1xufVxuZnVuY3Rpb24gcmdiYVRvUkdCQShyZ2JhMikge1xuICBjb25zdCB2YWx1ZXMgPSByZ2JhMi5yZXBsYWNlKC9yZ2JhXFwofFxcKS9nLCBcIlwiKS5zcGxpdChcIixcIik7XG4gIHJldHVybiB7XG4gICAgcjogcGFyc2VJbnQodmFsdWVzWzBdKSxcbiAgICBnOiBwYXJzZUludCh2YWx1ZXNbMV0pLFxuICAgIGI6IHBhcnNlSW50KHZhbHVlc1syXSksXG4gICAgYTogcGFyc2VGbG9hdCh2YWx1ZXNbM10pXG4gIH07XG59XG5mdW5jdGlvbiByZ2JUb0hleChjb2xvcjIpIHtcbiAgY29uc3QgciA9IHJvdW5kKGNsYW1wKE1hdGgucm91bmQoY29sb3IyLnIpLCAwLCAyNTUpKSwgZyA9IHJvdW5kKGNsYW1wKE1hdGgucm91bmQoY29sb3IyLmcpLCAwLCAyNTUpKSwgYiA9IHJvdW5kKGNsYW1wKE1hdGgucm91bmQoY29sb3IyLmIpLCAwLCAyNTUpKTtcbiAgcmV0dXJuIFwiYVwiIGluIGNvbG9yMiA/IGByZ2JhKCR7cn0sJHtnfSwke2J9LCR7Y29sb3IyLmF9KWAgOiBcIiNcIiArICgoMSA8PCAyNCkgKyAociA8PCAxNikgKyAoZyA8PCA4KSArIGIpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTtcbn1cbmZ1bmN0aW9uIHJnYlRvSHNsKHsgciwgZywgYiB9KSB7XG4gIHIgLz0gMjU1LCBnIC89IDI1NSwgYiAvPSAyNTU7XG4gIGNvbnN0IGNtaW4gPSBNYXRoLm1pbihyLCBnLCBiKSwgY21heCA9IE1hdGgubWF4KHIsIGcsIGIpLCBkZWx0YSA9IGNtYXggLSBjbWluO1xuICBsZXQgaCA9IDAsIHMgPSAwLCBsID0gMDtcbiAgcmV0dXJuIGRlbHRhID09IDAgPyBoID0gMCA6IGNtYXggPT0gciA/IGggPSAoZyAtIGIpIC8gZGVsdGEgJSA2IDogY21heCA9PSBnID8gaCA9IChiIC0gcikgLyBkZWx0YSArIDIgOiBoID0gKHIgLSBnKSAvIGRlbHRhICsgNCwgaCA9IE1hdGgucm91bmQoaCAqIDYwKSwgaCA8IDAgJiYgKGggKz0gMzYwKSwgbCA9IChjbWF4ICsgY21pbikgLyAyLCBzID0gZGVsdGEgPT0gMCA/IDAgOiBkZWx0YSAvICgxIC0gTWF0aC5hYnMoMiAqIGwgLSAxKSksIHMgPSArKHMgKiAxMDApLnRvRml4ZWQoMSksIGwgPSArKGwgKiAxMDApLnRvRml4ZWQoMSksIHsgaCwgcywgbCB9O1xufVxuZnVuY3Rpb24gaHNsVG9SZ2IoaHNsKSB7XG4gIGNvbnN0IHMgPSBoc2wucyAvIDEwMCwgbCA9IGhzbC5sIC8gMTAwLCBjID0gKDEgLSBNYXRoLmFicygyICogbCAtIDEpKSAqIHMsIHggPSBjICogKDEgLSBNYXRoLmFicyhoc2wuaCAvIDYwICUgMiAtIDEpKSwgbSA9IGwgLSBjIC8gMjtcbiAgbGV0IHIgPSAwLCBnID0gMCwgYiA9IDA7XG4gIHJldHVybiAwIDw9IGhzbC5oICYmIGhzbC5oIDwgNjAgPyAociA9IGMsIGcgPSB4LCBiID0gMCkgOiA2MCA8PSBoc2wuaCAmJiBoc2wuaCA8IDEyMCA/IChyID0geCwgZyA9IGMsIGIgPSAwKSA6IDEyMCA8PSBoc2wuaCAmJiBoc2wuaCA8IDE4MCA/IChyID0gMCwgZyA9IGMsIGIgPSB4KSA6IDE4MCA8PSBoc2wuaCAmJiBoc2wuaCA8IDI0MCA/IChyID0gMCwgZyA9IHgsIGIgPSBjKSA6IDI0MCA8PSBoc2wuaCAmJiBoc2wuaCA8IDMwMCA/IChyID0geCwgZyA9IDAsIGIgPSBjKSA6IDMwMCA8PSBoc2wuaCAmJiBoc2wuaCA8IDM2MCAmJiAociA9IGMsIGcgPSAwLCBiID0geCksIHtcbiAgICByOiBNYXRoLnJvdW5kKChyICsgbSkgKiAyNTUpLFxuICAgIGc6IE1hdGgucm91bmQoKGcgKyBtKSAqIDI1NSksXG4gICAgYjogTWF0aC5yb3VuZCgoYiArIG0pICogMjU1KVxuICB9O1xufVxuY29uc3QgSEVYX0NIQVJTID0gXCIwMTIzNDU2Nzg5QUJDREVGYWJjZGVmXCIsIEhTTF9SRSA9IC9oc2xcXChcXHMqKFxcZCspXFxzKixcXHMqKChcXGQrKD86XFwuXFxkKyk/KSUpXFxzKixcXHMqKChcXGQrKD86XFwuXFxkKyk/KSUpXFxzKlxcKS9pO1xuZnVuY3Rpb24gaXNIZXhDaGFycyhzdHIpIHtcbiAgZm9yIChjb25zdCBjIG9mIHN0cilcbiAgICBpZiAoSEVYX0NIQVJTLmluZGV4T2YoYykgPT09IC0xKVxuICAgICAgcmV0dXJuICExO1xuICByZXR1cm4gITA7XG59XG5mdW5jdGlvbiBpc0hleChzdHIpIHtcbiAgcmV0dXJuIHN0clswXSAhPT0gXCIjXCIgfHwgIShzdHIubGVuZ3RoID09PSA0IHx8IHN0ci5sZW5ndGggPT09IDcpID8gITEgOiBpc0hleENoYXJzKHN0ci5zbGljZSgxKSk7XG59XG5mdW5jdGlvbiBwYXJzZUhzbChzdHIpIHtcbiAgY29uc3QgcmVzID0gSFNMX1JFLmV4ZWMoc3RyKTtcbiAgaWYgKCFyZXMpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBwYXJzZUhzbDogc3RyaW5nIGlzIG5vdCBhIEhTTCBjb2xvcjogXCIke3N0cn1cImApO1xuICByZXR1cm4geyBoOiBwYXJzZUludChyZXNbMV0pLCBzOiBwYXJzZUZsb2F0KHJlc1szXSksIGw6IHBhcnNlRmxvYXQocmVzWzVdKSB9O1xufVxuZnVuY3Rpb24gcGFyc2VDb2xvcihjb2xvcjIpIHtcbiAgaWYgKCFjb2xvcjIpIHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcbiAgaWYgKHR5cGVvZiBjb2xvcjIgIT0gXCJzdHJpbmdcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZUNvbG9yOiBleHBlY3RlZCBhIHN0cmluZ1wiKTtcbiAgaWYgKGlzSGV4KGNvbG9yMikpXG4gICAgcmV0dXJuIGhleFRvUmdiKGNvbG9yMik7XG4gIGlmIChjb2xvcjIuc3RhcnRzV2l0aChcImhzbChcIikpXG4gICAgcmV0dXJuIGhzbFRvUmdiKHBhcnNlSHNsKGNvbG9yMikpO1xuICBpZiAoY29sb3IyLnN0YXJ0c1dpdGgoXCJyZ2JhKFwiKSlcbiAgICByZXR1cm4gcmdiYVRvUkdCQShjb2xvcjIpO1xuICB0aHJvdyBuZXcgRXJyb3IoYHBhcnNlQ29sb3I6IHVuZXhwZWN0ZWQgY29sb3IgZm9ybWF0OiBcIiR7Y29sb3IyfVwiYCk7XG59XG5mdW5jdGlvbiBnZXRDb250cmFzdFJhdGlvKGJnLCBmZykge1xuICBjb25zdCByZ2IxID0gcGFyc2VDb2xvcihiZyksIHJnYjIgPSBwYXJzZUNvbG9yKGZnKSwgYzEgPSByZ2JfbHJnYihyZ2IxKSwgYzIgPSByZ2JfbHJnYihyZ2IyKSwgbDEgPSBscmdiX2x1bWluYW5jZShjMSksIGwyID0gbHJnYl9sdW1pbmFuY2UoYzIpO1xuICByZXR1cm4gKE1hdGgubWF4KGwxLCBsMikgKyAwLjA1KSAvIChNYXRoLm1pbihsMSwgbDIpICsgMC4wNSk7XG59XG5mdW5jdGlvbiByZ2JfbHJnYih7IHIsIGcsIGIgfSkge1xuICByZXR1cm4gW3JnYl9scmdiMShyIC8gMjU1KSwgcmdiX2xyZ2IxKGcgLyAyNTUpLCByZ2JfbHJnYjEoYiAvIDI1NSldO1xufVxuZnVuY3Rpb24gcmdiX2xyZ2IxKHYpIHtcbiAgcmV0dXJuIHYgPD0gMC4wNDA0NSA/IHYgLyAxMi45MiA6ICgodiArIDAuMDU1KSAvIDEuMDU1KSAqKiAyLjQ7XG59XG5mdW5jdGlvbiBscmdiX2x1bWluYW5jZShbciwgZywgYl0pIHtcbiAgcmV0dXJuIDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYjtcbn1cbmZ1bmN0aW9uIHJnYmEoY29sb3IyLCBhKSB7XG4gIGNvbnN0IHJnYiA9IHBhcnNlQ29sb3IoY29sb3IyKTtcbiAgcmV0dXJuIGByZ2JhKCR7cmdiLnJ9LCR7cmdiLmd9LCR7cmdiLmJ9LCR7YX0pYDtcbn1cbmNvbnN0IFJHQl9SQU5HRSA9IFswLCAyNTVdO1xuZnVuY3Rpb24gbWl4VGhlbWVDb2xvcih2YWx1ZSwgb3B0aW9ucykge1xuICBjb25zdCB7IGJsZW5kTW9kZSB9ID0gb3B0aW9ucywgY29sb3IyID0gcGFyc2VDb2xvcih2YWx1ZSksIGJsYWNrMiA9IHBhcnNlQ29sb3Iob3B0aW9ucy5ibGFjayksIHdoaXRlMiA9IHBhcnNlQ29sb3Iob3B0aW9ucy53aGl0ZSksIGJnID0gb3B0aW9ucy5iZyA/IHBhcnNlQ29sb3Iob3B0aW9ucy5iZykgOiBibGVuZE1vZGUgPT09IFwibXVsdGlwbHlcIiA/IHdoaXRlMiA6IGJsYWNrMiwgcGFsZXR0ZVJhbmdlID0ge1xuICAgIHI6IFtibGFjazIuciwgd2hpdGUyLnJdLFxuICAgIGc6IFtibGFjazIuZywgd2hpdGUyLmddLFxuICAgIGI6IFtibGFjazIuYiwgd2hpdGUyLmJdXG4gIH0sIGNvbnZlcnRlZEJnQ29sb3IgPSB7XG4gICAgcjogY2xhbXAocmFuZ2UoLi4ucGFsZXR0ZVJhbmdlLnIsIC4uLlJHQl9SQU5HRSwgYmcuciksIC4uLlJHQl9SQU5HRSksXG4gICAgZzogY2xhbXAocmFuZ2UoLi4ucGFsZXR0ZVJhbmdlLmcsIC4uLlJHQl9SQU5HRSwgYmcuZyksIC4uLlJHQl9SQU5HRSksXG4gICAgYjogY2xhbXAocmFuZ2UoLi4ucGFsZXR0ZVJhbmdlLmIsIC4uLlJHQl9SQU5HRSwgYmcuYiksIC4uLlJHQl9SQU5HRSlcbiAgfSwgY29udmVydGVkQ29sb3IgPSB7XG4gICAgcjogY2xhbXAocmFuZ2UoLi4ucGFsZXR0ZVJhbmdlLnIsIC4uLlJHQl9SQU5HRSwgY29sb3IyLnIpLCAuLi5SR0JfUkFOR0UpLFxuICAgIGc6IGNsYW1wKHJhbmdlKC4uLnBhbGV0dGVSYW5nZS5nLCAuLi5SR0JfUkFOR0UsIGNvbG9yMi5nKSwgLi4uUkdCX1JBTkdFKSxcbiAgICBiOiBjbGFtcChyYW5nZSguLi5wYWxldHRlUmFuZ2UuYiwgLi4uUkdCX1JBTkdFLCBjb2xvcjIuYiksIC4uLlJHQl9SQU5HRSlcbiAgfSwgcmVzdWx0Q29sb3IgPSBibGVuZE1vZGUgPT09IFwibXVsdGlwbHlcIiA/IG11bHRpcGx5KGNvbnZlcnRlZEJnQ29sb3IsIGNvbnZlcnRlZENvbG9yKSA6IHNjcmVlbihjb252ZXJ0ZWRCZ0NvbG9yLCBjb252ZXJ0ZWRDb2xvciksIHYgPSB7XG4gICAgcjogY2xhbXAocmFuZ2UoLi4uUkdCX1JBTkdFLCAuLi5wYWxldHRlUmFuZ2UuciwgcmVzdWx0Q29sb3IuciksIC4uLnBhbGV0dGVSYW5nZS5yKSxcbiAgICBnOiBjbGFtcChyYW5nZSguLi5SR0JfUkFOR0UsIC4uLnBhbGV0dGVSYW5nZS5nLCByZXN1bHRDb2xvci5nKSwgLi4ucGFsZXR0ZVJhbmdlLmcpLFxuICAgIGI6IGNsYW1wKHJhbmdlKC4uLlJHQl9SQU5HRSwgLi4ucGFsZXR0ZVJhbmdlLmIsIHJlc3VsdENvbG9yLmIpLCAuLi5wYWxldHRlUmFuZ2UuYilcbiAgfTtcbiAgcmV0dXJuIHJnYlRvSGV4KHYpO1xufVxuZnVuY3Rpb24gcmVuZGVyQ29sb3JWYWx1ZShzdHIsIG9wdGlvbnMpIHtcbiAgY29uc3QgeyBiZywgYmxlbmRNb2RlLCBjb2xvclBhbGV0dGUgfSA9IG9wdGlvbnM7XG4gIGlmIChiZyA9PT0gXCJ3aGl0ZVwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBibGVuZCB3aXRoIHdoaXRlIGJhY2tncm91bmRcIik7XG4gIGNvbnN0IG5vZGUgPSBwYXJzZVRva2VuVmFsdWUoc3RyKTtcbiAgaWYgKCFub2RlIHx8IG5vZGUudHlwZSAhPT0gXCJjb2xvclwiKVxuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjb2xvciB0b2tlbiB2YWx1ZTogJHtzdHJ9YCk7XG4gIGxldCBoZXggPSBcIlwiO1xuICBpZiAobm9kZS5rZXkgPT09IFwiYmxhY2tcIiAmJiAoaGV4ID0gcmVuZGVyQ29sb3JIZXgoY29sb3JQYWxldHRlLmJsYWNrKSksIG5vZGUua2V5ID09PSBcIndoaXRlXCIgJiYgKGhleCA9IHJlbmRlckNvbG9ySGV4KGNvbG9yUGFsZXR0ZS53aGl0ZSkpLCBub2RlLmh1ZSAmJiBub2RlLnRpbnQgJiYgKGhleCA9IHJlbmRlckNvbG9ySGV4KGNvbG9yUGFsZXR0ZVtub2RlLmh1ZV1bbm9kZS50aW50XSkpLCAhaGV4KVxuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjb2xvciB0b2tlbiB2YWx1ZTogJHtzdHJ9YCk7XG4gIGNvbnN0IGhleEJlZm9yZU1peCA9IGhleCwgbWl4T3B0aW9ucyA9IHtcbiAgICBibGVuZE1vZGUsXG4gICAgYmcsXG4gICAgYmxhY2s6IHJlbmRlckNvbG9ySGV4KGNvbG9yUGFsZXR0ZS5ibGFjayksXG4gICAgLy8gb3BhY2l0eTogbm9kZS5vcGFjaXR5LFxuICAgIHdoaXRlOiByZW5kZXJDb2xvckhleChjb2xvclBhbGV0dGUud2hpdGUpXG4gIH07XG4gIHRyeSB7XG4gICAgaWYgKGhleCA9IG1peFRoZW1lQ29sb3IoaGV4LCBtaXhPcHRpb25zKSwgYmcgJiYgbm9kZS5taXggIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgZnJvbSA9IGhleFRvUmdiKGJnKSwgdG8gPSBoZXhUb1JnYihoZXgpO1xuICAgICAgaGV4ID0gcmdiVG9IZXgobWl4KGZyb20sIHRvLCBub2RlLm1peCkpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3cgY29uc29sZS53YXJuKFwiY291bGQgbm90IGJsZW5kXCIsIGhleCwgbWl4T3B0aW9ucyksIGVycjtcbiAgfVxuICByZXR1cm4gaGV4ID09PSBcIiNhTlwiICYmIChjb25zb2xlLndhcm4oYGludmFsaWQgY29sb3IgdG9rZW4gdmFsdWU6ICR7c3RyfWApLCBoZXggPSBoZXhCZWZvcmVNaXgpLCBub2RlLm9wYWNpdHkgIT09IHZvaWQgMCAmJiAoaGV4ID0gcmdiYShoZXgsIG5vZGUub3BhY2l0eSkpLCBoZXg7XG59XG5mdW5jdGlvbiByZW5kZXJDb2xvckhleChjb2xvcjIpIHtcbiAgcmV0dXJuIHR5cGVvZiBjb2xvcjIgPT0gXCJzdHJpbmdcIiA/IGNvbG9yMiA6IGNvbG9yMi5oZXg7XG59XG5mdW5jdGlvbiByZW5kZXJUaGVtZUNvbG9yU2NoZW1lcyh2YWx1ZSwgY29uZmlnKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgY29sb3JQYWxldHRlID0gKF9hID0gY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcucGFsZXR0ZSkgIT0gbnVsbCA/IF9hIDogZGVmYXVsdENvbG9yUGFsZXR0ZTtcbiAgcmV0dXJuIHtcbiAgICBsaWdodDogcmVuZGVyVGhlbWVDb2xvclNjaGVtZShjb2xvclBhbGV0dGUsIHZhbHVlLmxpZ2h0KSxcbiAgICBkYXJrOiByZW5kZXJUaGVtZUNvbG9yU2NoZW1lKGNvbG9yUGFsZXR0ZSwgdmFsdWUuZGFyaylcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlbmRlclRoZW1lQ29sb3JTY2hlbWUoY29sb3JQYWxldHRlLCB2YWx1ZSkge1xuICBjb25zdCB0b25lRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHZhbHVlKSwgWywgdHJhbnNwYXJlbnRUb25lXSA9IHRvbmVFbnRyaWVzLmZpbmQoKFtrXSkgPT4gayA9PT0gXCJ0cmFuc3BhcmVudFwiKSwgWywgZGVmYXVsdFRvbmVdID0gdG9uZUVudHJpZXMuZmluZCgoW2tdKSA9PiBrID09PSBcImRlZmF1bHRcIiksIHJlbmRlcmVkVHJhbnNwYXJlbnRUb25lID0gcmVuZGVyVGhlbWVDb2xvcih0cmFuc3BhcmVudFRvbmUsIHsgY29sb3JQYWxldHRlIH0pLCByZW5kZXJlZERlZmF1bHRUb25lID0gcmVuZGVyVGhlbWVDb2xvcihkZWZhdWx0VG9uZSwgeyBjb2xvclBhbGV0dGUgfSksIGJnID0gcmVuZGVyZWREZWZhdWx0VG9uZS5iZztcbiAgaWYgKGJnID09PSBcIndoaXRlXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGJsZW5kIHdpdGggd2hpdGUgYmFja2dyb3VuZFwiKTtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhbXG4gICAgW1widHJhbnNwYXJlbnRcIiwgcmVuZGVyZWRUcmFuc3BhcmVudFRvbmVdLFxuICAgIFtcImRlZmF1bHRcIiwgcmVuZGVyZWREZWZhdWx0VG9uZV0sXG4gICAgLi4udG9uZUVudHJpZXMuZmlsdGVyKChba10pID0+IGsgIT09IFwiZGVmYXVsdFwiICYmIGsgIT09IFwidHJhbnNwYXJlbnRcIikubWFwKChbaywgdl0pID0+IFtrLCByZW5kZXJUaGVtZUNvbG9yKHYsIHsgYmcsIGNvbG9yUGFsZXR0ZSB9KV0pXG4gIF0pO1xufVxuZnVuY3Rpb24gcmVuZGVyVGhlbWVDb2xvcih2YWx1ZSwgb3B0aW9ucykge1xuICBjb25zdCB7IGNvbG9yUGFsZXR0ZSwgYmcgfSA9IG9wdGlvbnMsIGJsZW5kTW9kZSA9IHZhbHVlLl9ibGVuZCB8fCBcIm11bHRpcGx5XCIsIGJhc2VCZyA9IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuYmcsIHsgY29sb3JQYWxldHRlLCBiZywgYmxlbmRNb2RlIH0pLCBjb2xvck9wdGlvbnMgPSB7IGNvbG9yUGFsZXR0ZSwgYmc6IGJhc2VCZywgYmxlbmRNb2RlIH0sIGJ1dHRvbiA9IHJlbmRlclRoZW1lQ29sb3JCdXR0b24odmFsdWUuYnV0dG9uLCB7XG4gICAgYmFzZUJnLFxuICAgIGJsZW5kTW9kZSxcbiAgICBjb2xvclBhbGV0dGVcbiAgfSksIHNlbGVjdGFibGUgPSByZW5kZXJUaGVtZUNvbG9yU2VsZWN0YWJsZSh2YWx1ZS5zZWxlY3RhYmxlLCB7XG4gICAgY29sb3JQYWxldHRlLFxuICAgIGJhc2VCZyxcbiAgICBibGVuZE1vZGVcbiAgfSksIHNoYWRvdyA9IHtcbiAgICBvdXRsaW5lOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLnNoYWRvdy5vdXRsaW5lLCBjb2xvck9wdGlvbnMpLFxuICAgIHVtYnJhOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLnNoYWRvdy51bWJyYSwge1xuICAgICAgLi4uY29sb3JPcHRpb25zLFxuICAgICAgYmc6IHZvaWQgMCxcbiAgICAgIGNvbG9yUGFsZXR0ZTogeyAuLi5jb2xvclBhbGV0dGUsIGJsYWNrOiBcIiMwMDAwMDBcIiB9XG4gICAgfSksXG4gICAgcGVudW1icmE6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuc2hhZG93LnBlbnVtYnJhLCB7XG4gICAgICAuLi5jb2xvck9wdGlvbnMsXG4gICAgICBiZzogdm9pZCAwLFxuICAgICAgY29sb3JQYWxldHRlOiB7IC4uLmNvbG9yUGFsZXR0ZSwgYmxhY2s6IFwiIzAwMDAwMFwiIH1cbiAgICB9KSxcbiAgICBhbWJpZW50OiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLnNoYWRvdy5hbWJpZW50LCB7XG4gICAgICAuLi5jb2xvck9wdGlvbnMsXG4gICAgICBiZzogdm9pZCAwLFxuICAgICAgY29sb3JQYWxldHRlOiB7IC4uLmNvbG9yUGFsZXR0ZSwgYmxhY2s6IFwiIzAwMDAwMFwiIH1cbiAgICB9KVxuICB9O1xuICByZXR1cm4ge1xuICAgIF9ibGVuZDogYmxlbmRNb2RlLFxuICAgIF9kYXJrOiB2YWx1ZS5fZGFyayxcbiAgICBhY2NlbnQ6IHtcbiAgICAgIGZnOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmFjY2VudC5mZywgY29sb3JPcHRpb25zKVxuICAgIH0sXG4gICAgYXZhdGFyOiByZW5kZXJUaGVtZUNvbG9yQXZhdGFyKHZhbHVlLmF2YXRhciwgeyBiYXNlQmcsIGNvbG9yUGFsZXR0ZSwgYmxlbmRNb2RlIH0pLFxuICAgIGJhY2tkcm9wOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmJhY2tkcm9wLCBjb2xvck9wdGlvbnMpLFxuICAgIGJhZGdlOiByZW5kZXJUaGVtZUNvbG9yQmFkZ2UodmFsdWUuYmFkZ2UsIHsgYmFzZUJnLCBjb2xvclBhbGV0dGUsIGJsZW5kTW9kZSB9KSxcbiAgICBiZzogYmFzZUJnLFxuICAgIGJvcmRlcjogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5ib3JkZXIsIGNvbG9yT3B0aW9ucyksXG4gICAgYnV0dG9uLFxuICAgIGNvZGU6IHtcbiAgICAgIGJnOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmNvZGUuYmcsIGNvbG9yT3B0aW9ucyksXG4gICAgICBmZzogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5jb2RlLmZnLCBjb2xvck9wdGlvbnMpXG4gICAgfSxcbiAgICBmZzogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5mZywgY29sb3JPcHRpb25zKSxcbiAgICBmb2N1c1Jpbmc6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuZm9jdXNSaW5nLCBjb2xvck9wdGlvbnMpLFxuICAgIGljb246IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuaWNvbiwgY29sb3JPcHRpb25zKSxcbiAgICBpbnB1dDogcmVuZGVyVGhlbWVDb2xvcklucHV0KHZhbHVlLmlucHV0LCB7IGJhc2VCZywgY29sb3JQYWxldHRlLCBibGVuZE1vZGUgfSksXG4gICAga2JkOiByZW5kZXJUaGVtZUNvbG9yS0JEKHZhbHVlLmtiZCwgeyBiYXNlQmcsIGNvbG9yUGFsZXR0ZSwgYmxlbmRNb2RlIH0pLFxuICAgIGxpbms6IHtcbiAgICAgIGZnOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmxpbmsuZmcsIGNvbG9yT3B0aW9ucylcbiAgICB9LFxuICAgIG11dGVkOiB7XG4gICAgICBiZzogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5tdXRlZC5iZywgY29sb3JPcHRpb25zKSxcbiAgICAgIGZnOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLm11dGVkLmZnLCBjb2xvck9wdGlvbnMpXG4gICAgfSxcbiAgICBzaGFkb3csXG4gICAgc2tlbGV0b246IHtcbiAgICAgIGZyb206IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuc2tlbGV0b24uZnJvbSwgY29sb3JPcHRpb25zKSxcbiAgICAgIHRvOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLnNrZWxldG9uLnRvLCBjb2xvck9wdGlvbnMpXG4gICAgfSxcbiAgICBzeW50YXg6IHJlbmRlclN5bnRheENvbG9yVGhlbWUodmFsdWUuc3ludGF4LCB7IGJhc2VCZywgY29sb3JQYWxldHRlLCBibGVuZE1vZGUgfSksXG4gICAgc2VsZWN0YWJsZVxuICB9O1xufVxuZnVuY3Rpb24gcmVuZGVyVGhlbWVDb2xvcktCRCh2YWx1ZSwgb3B0aW9ucykge1xuICBjb25zdCB7IGJhc2VCZywgYmxlbmRNb2RlLCBjb2xvclBhbGV0dGUgfSA9IG9wdGlvbnMsIHJvb3RPcHRpb25zID0ge1xuICAgIGJnOiBiYXNlQmcsXG4gICAgYmxlbmRNb2RlLFxuICAgIGNvbG9yUGFsZXR0ZVxuICB9LCBiZyA9IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuYmcsIHJvb3RPcHRpb25zKSwgY29sb3JPcHRpb25zID0ge1xuICAgIGJnLFxuICAgIGJsZW5kTW9kZSxcbiAgICBjb2xvclBhbGV0dGVcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBiZyxcbiAgICBmZzogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5mZywgY29sb3JPcHRpb25zKSxcbiAgICBib3JkZXI6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuYm9yZGVyLCBjb2xvck9wdGlvbnMpXG4gIH07XG59XG5mdW5jdGlvbiByZW5kZXJUaGVtZUNvbG9yQXZhdGFyKHZhbHVlLCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgZ3JheTogcmVuZGVyVGhlbWVDb2xvckF2YXRhckNvbG9yKHZhbHVlLmdyYXksIG9wdGlvbnMpLFxuICAgIGJsdWU6IHJlbmRlclRoZW1lQ29sb3JBdmF0YXJDb2xvcih2YWx1ZS5ibHVlLCBvcHRpb25zKSxcbiAgICBwdXJwbGU6IHJlbmRlclRoZW1lQ29sb3JBdmF0YXJDb2xvcih2YWx1ZS5wdXJwbGUsIG9wdGlvbnMpLFxuICAgIG1hZ2VudGE6IHJlbmRlclRoZW1lQ29sb3JBdmF0YXJDb2xvcih2YWx1ZS5tYWdlbnRhLCBvcHRpb25zKSxcbiAgICByZWQ6IHJlbmRlclRoZW1lQ29sb3JBdmF0YXJDb2xvcih2YWx1ZS5yZWQsIG9wdGlvbnMpLFxuICAgIG9yYW5nZTogcmVuZGVyVGhlbWVDb2xvckF2YXRhckNvbG9yKHZhbHVlLm9yYW5nZSwgb3B0aW9ucyksXG4gICAgeWVsbG93OiByZW5kZXJUaGVtZUNvbG9yQXZhdGFyQ29sb3IodmFsdWUueWVsbG93LCBvcHRpb25zKSxcbiAgICBncmVlbjogcmVuZGVyVGhlbWVDb2xvckF2YXRhckNvbG9yKHZhbHVlLmdyZWVuLCBvcHRpb25zKSxcbiAgICBjeWFuOiByZW5kZXJUaGVtZUNvbG9yQXZhdGFyQ29sb3IodmFsdWUuY3lhbiwgb3B0aW9ucylcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlbmRlclRoZW1lQ29sb3JBdmF0YXJDb2xvcih2YWx1ZSwgb3B0aW9ucykge1xuICBjb25zdCB7IGJhc2VCZywgYmxlbmRNb2RlOiByb290QmxlbmRNb2RlLCBjb2xvclBhbGV0dGUgfSA9IG9wdGlvbnMsIGJsZW5kTW9kZSA9IHZhbHVlLl9ibGVuZCB8fCBcIm11bHRpcGx5XCIsIHJvb3RPcHRpb25zID0ge1xuICAgIGJnOiBiYXNlQmcsXG4gICAgYmxlbmRNb2RlOiByb290QmxlbmRNb2RlLFxuICAgIGNvbG9yUGFsZXR0ZVxuICB9LCBiZyA9IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuYmcsIHJvb3RPcHRpb25zKSwgY29sb3JPcHRpb25zID0ge1xuICAgIGJnLFxuICAgIGJsZW5kTW9kZSxcbiAgICBjb2xvclBhbGV0dGVcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBfYmxlbmQ6IGJsZW5kTW9kZSxcbiAgICBiZyxcbiAgICBmZzogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5mZywgY29sb3JPcHRpb25zKVxuICB9O1xufVxuZnVuY3Rpb24gcmVuZGVyVGhlbWVDb2xvckJhZGdlKHZhbHVlLCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgZGVmYXVsdDogcmVuZGVyVGhlbWVDb2xvckJhZGdlQ29sb3IodmFsdWUuZGVmYXVsdCwgb3B0aW9ucyksXG4gICAgcHJpbWFyeTogcmVuZGVyVGhlbWVDb2xvckJhZGdlQ29sb3IodmFsdWUucHJpbWFyeSwgb3B0aW9ucyksXG4gICAgcG9zaXRpdmU6IHJlbmRlclRoZW1lQ29sb3JCYWRnZUNvbG9yKHZhbHVlLnBvc2l0aXZlLCBvcHRpb25zKSxcbiAgICBjYXV0aW9uOiByZW5kZXJUaGVtZUNvbG9yQmFkZ2VDb2xvcih2YWx1ZS5jYXV0aW9uLCBvcHRpb25zKSxcbiAgICBjcml0aWNhbDogcmVuZGVyVGhlbWVDb2xvckJhZGdlQ29sb3IodmFsdWUuY3JpdGljYWwsIG9wdGlvbnMpXG4gIH07XG59XG5mdW5jdGlvbiByZW5kZXJUaGVtZUNvbG9yQmFkZ2VDb2xvcih2YWx1ZSwgb3B0aW9ucykge1xuICBjb25zdCB7IGJhc2VCZywgYmxlbmRNb2RlOiByb290QmxlbmRNb2RlLCBjb2xvclBhbGV0dGUgfSA9IG9wdGlvbnMsIGJsZW5kTW9kZSA9IHJvb3RCbGVuZE1vZGUsIHJvb3RPcHRpb25zID0ge1xuICAgIGJnOiBiYXNlQmcsXG4gICAgYmxlbmRNb2RlOiByb290QmxlbmRNb2RlLFxuICAgIGNvbG9yUGFsZXR0ZVxuICB9LCBiZyA9IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuYmcsIHJvb3RPcHRpb25zKSwgY29sb3JPcHRpb25zID0ge1xuICAgIGJnLFxuICAgIGJsZW5kTW9kZSxcbiAgICBjb2xvclBhbGV0dGVcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBiZyxcbiAgICBkb3Q6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuZG90LCBjb2xvck9wdGlvbnMpLFxuICAgIGZnOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmZnLCBjb2xvck9wdGlvbnMpLFxuICAgIGljb246IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuaWNvbiwgY29sb3JPcHRpb25zKVxuICB9O1xufVxuZnVuY3Rpb24gcmVuZGVyVGhlbWVDb2xvckJ1dHRvbih2YWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIGRlZmF1bHQ6IHJlbmRlclRoZW1lQ29sb3JCdXR0b25Ub25lcyh2YWx1ZS5kZWZhdWx0LCBvcHRpb25zKSxcbiAgICBnaG9zdDogcmVuZGVyVGhlbWVDb2xvckJ1dHRvblRvbmVzKHZhbHVlLmdob3N0LCBvcHRpb25zKSxcbiAgICBibGVlZDogcmVuZGVyVGhlbWVDb2xvckJ1dHRvblRvbmVzKHZhbHVlLmJsZWVkLCBvcHRpb25zKVxuICB9O1xufVxuZnVuY3Rpb24gcmVuZGVyVGhlbWVDb2xvckJ1dHRvblRvbmVzKHZhbHVlLCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgZGVmYXVsdDogcmVuZGVyVGhlbWVDb2xvckJ1dHRvblN0YXRlcyh2YWx1ZS5kZWZhdWx0LCBvcHRpb25zKSxcbiAgICBwcmltYXJ5OiByZW5kZXJUaGVtZUNvbG9yQnV0dG9uU3RhdGVzKHZhbHVlLnByaW1hcnksIG9wdGlvbnMpLFxuICAgIHBvc2l0aXZlOiByZW5kZXJUaGVtZUNvbG9yQnV0dG9uU3RhdGVzKHZhbHVlLnBvc2l0aXZlLCBvcHRpb25zKSxcbiAgICBjYXV0aW9uOiByZW5kZXJUaGVtZUNvbG9yQnV0dG9uU3RhdGVzKHZhbHVlLmNhdXRpb24sIG9wdGlvbnMpLFxuICAgIGNyaXRpY2FsOiByZW5kZXJUaGVtZUNvbG9yQnV0dG9uU3RhdGVzKHZhbHVlLmNyaXRpY2FsLCBvcHRpb25zKVxuICB9O1xufVxuZnVuY3Rpb24gcmVuZGVyVGhlbWVDb2xvckJ1dHRvblN0YXRlcyh2YWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIGVuYWJsZWQ6IHJlbmRlclRoZW1lQ29sb3JTdGF0ZSh2YWx1ZS5lbmFibGVkLCBvcHRpb25zKSxcbiAgICBob3ZlcmVkOiByZW5kZXJUaGVtZUNvbG9yU3RhdGUodmFsdWUuaG92ZXJlZCwgb3B0aW9ucyksXG4gICAgcHJlc3NlZDogcmVuZGVyVGhlbWVDb2xvclN0YXRlKHZhbHVlLnByZXNzZWQsIG9wdGlvbnMpLFxuICAgIHNlbGVjdGVkOiByZW5kZXJUaGVtZUNvbG9yU3RhdGUodmFsdWUuc2VsZWN0ZWQsIG9wdGlvbnMpLFxuICAgIGRpc2FibGVkOiByZW5kZXJUaGVtZUNvbG9yU3RhdGUodmFsdWUuZGlzYWJsZWQsIG9wdGlvbnMpXG4gIH07XG59XG5mdW5jdGlvbiByZW5kZXJUaGVtZUNvbG9yU3RhdGUodmFsdWUsIG9wdGlvbnMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgeyBiYXNlQmcsIGJsZW5kTW9kZTogcm9vdEJsZW5kTW9kZSwgY29sb3JQYWxldHRlIH0gPSBvcHRpb25zLCBibGVuZE1vZGUgPSB2YWx1ZS5fYmxlbmQgfHwgXCJtdWx0aXBseVwiLCByb290T3B0aW9ucyA9IHtcbiAgICBiZzogYmFzZUJnLFxuICAgIGJsZW5kTW9kZTogcm9vdEJsZW5kTW9kZSxcbiAgICBjb2xvclBhbGV0dGVcbiAgfSwgYmcgPSByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmJnLCByb290T3B0aW9ucyksIGNvbG9yT3B0aW9ucyA9IHtcbiAgICBiZyxcbiAgICBibGVuZE1vZGUsXG4gICAgY29sb3JQYWxldHRlXG4gIH07XG4gIHJldHVybiB7XG4gICAgX2JsZW5kOiBibGVuZE1vZGUsXG4gICAgYWNjZW50OiB7XG4gICAgICBmZzogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5hY2NlbnQuZmcsIGNvbG9yT3B0aW9ucylcbiAgICB9LFxuICAgIGF2YXRhcjogcmVuZGVyVGhlbWVDb2xvckF2YXRhcih2YWx1ZS5hdmF0YXIsIHsgYmFzZUJnOiBiZywgY29sb3JQYWxldHRlLCBibGVuZE1vZGUgfSksXG4gICAgYmFkZ2U6IHJlbmRlclRoZW1lQ29sb3JCYWRnZSh2YWx1ZS5iYWRnZSwgeyBiYXNlQmc6IGJnLCBjb2xvclBhbGV0dGUsIGJsZW5kTW9kZSB9KSxcbiAgICBiZyxcbiAgICBib3JkZXI6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuYm9yZGVyLCBjb2xvck9wdGlvbnMpLFxuICAgIGNvZGU6IHtcbiAgICAgIGJnOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmNvZGUuYmcsIGNvbG9yT3B0aW9ucyksXG4gICAgICBmZzogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5jb2RlLmZnLCBjb2xvck9wdGlvbnMpXG4gICAgfSxcbiAgICBmZzogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5mZywgY29sb3JPcHRpb25zKSxcbiAgICBpY29uOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmljb24sIGNvbG9yT3B0aW9ucyksXG4gICAgbGluazoge1xuICAgICAgZmc6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUubGluay5mZywgY29sb3JPcHRpb25zKVxuICAgIH0sXG4gICAgbXV0ZWQ6IHtcbiAgICAgIGJnOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLm11dGVkLmJnLCBjb2xvck9wdGlvbnMpLFxuICAgICAgZmc6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUubXV0ZWQuZmcsIGNvbG9yT3B0aW9ucylcbiAgICB9LFxuICAgIGtiZDoge1xuICAgICAgYmc6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUua2JkLmJnLCBjb2xvck9wdGlvbnMpLFxuICAgICAgZmc6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUua2JkLmZnLCBjb2xvck9wdGlvbnMpLFxuICAgICAgYm9yZGVyOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmtiZC5ib3JkZXIsIGNvbG9yT3B0aW9ucylcbiAgICB9LFxuICAgIHNrZWxldG9uOiB7XG4gICAgICBmcm9tOiByZW5kZXJDb2xvclZhbHVlKChfYSA9IHZhbHVlLnNrZWxldG9uKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZnJvbSwgY29sb3JPcHRpb25zKSxcbiAgICAgIHRvOiByZW5kZXJDb2xvclZhbHVlKChfYiA9IHZhbHVlLnNrZWxldG9uKSA9PSBudWxsID8gdm9pZCAwIDogX2IudG8sIGNvbG9yT3B0aW9ucylcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiByZW5kZXJUaGVtZUNvbG9ySW5wdXQodmFsdWUsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICBkZWZhdWx0OiByZW5kZXJJbnB1dFN0YXRlc0NvbG9yVGhlbWUodmFsdWUuZGVmYXVsdCwgb3B0aW9ucyksXG4gICAgaW52YWxpZDogcmVuZGVySW5wdXRTdGF0ZXNDb2xvclRoZW1lKHZhbHVlLmludmFsaWQsIG9wdGlvbnMpXG4gIH07XG59XG5mdW5jdGlvbiByZW5kZXJJbnB1dFN0YXRlc0NvbG9yVGhlbWUodmFsdWUsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICBlbmFibGVkOiByZW5kZXJJbnB1dFN0YXRlQ29sb3JUaGVtZSh2YWx1ZS5lbmFibGVkLCBvcHRpb25zKSxcbiAgICBob3ZlcmVkOiByZW5kZXJJbnB1dFN0YXRlQ29sb3JUaGVtZSh2YWx1ZS5ob3ZlcmVkLCBvcHRpb25zKSxcbiAgICByZWFkT25seTogcmVuZGVySW5wdXRTdGF0ZUNvbG9yVGhlbWUodmFsdWUucmVhZE9ubHksIG9wdGlvbnMpLFxuICAgIGRpc2FibGVkOiByZW5kZXJJbnB1dFN0YXRlQ29sb3JUaGVtZSh2YWx1ZS5kaXNhYmxlZCwgb3B0aW9ucylcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlbmRlcklucHV0U3RhdGVDb2xvclRoZW1lKHZhbHVlLCBvcHRpb25zKSB7XG4gIGNvbnN0IHsgYmFzZUJnLCBibGVuZE1vZGU6IHJvb3RCbGVuZE1vZGUsIGNvbG9yUGFsZXR0ZSB9ID0gb3B0aW9ucywgYmxlbmRNb2RlID0gdmFsdWUuX2JsZW5kIHx8IFwibXVsdGlwbHlcIiwgcm9vdE9wdGlvbnMgPSB7IGNvbG9yUGFsZXR0ZSwgYmc6IGJhc2VCZywgYmxlbmRNb2RlOiByb290QmxlbmRNb2RlIH0sIGJnID0gcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5iZywgcm9vdE9wdGlvbnMpLCBjb2xvck9wdGlvbnMgPSB7IGNvbG9yUGFsZXR0ZSwgYmcsIGJsZW5kTW9kZSB9O1xuICByZXR1cm4ge1xuICAgIF9ibGVuZDogYmxlbmRNb2RlLFxuICAgIGJnLFxuICAgIGJvcmRlcjogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5ib3JkZXIsIGNvbG9yT3B0aW9ucyksXG4gICAgZmc6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuZmcsIGNvbG9yT3B0aW9ucyksXG4gICAgbXV0ZWQ6IHtcbiAgICAgIGJnOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLm11dGVkLmJnLCBjb2xvck9wdGlvbnMpXG4gICAgfSxcbiAgICBwbGFjZWhvbGRlcjogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5wbGFjZWhvbGRlciwgY29sb3JPcHRpb25zKVxuICB9O1xufVxuZnVuY3Rpb24gcmVuZGVyVGhlbWVDb2xvclNlbGVjdGFibGUodmFsdWUsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICBkZWZhdWx0OiByZW5kZXJUaGVtZUNvbG9yU2VsZWN0YWJsZVN0YXRlcyh2YWx1ZS5kZWZhdWx0LCBvcHRpb25zKSxcbiAgICBwcmltYXJ5OiByZW5kZXJUaGVtZUNvbG9yU2VsZWN0YWJsZVN0YXRlcyh2YWx1ZS5wcmltYXJ5LCBvcHRpb25zKSxcbiAgICBwb3NpdGl2ZTogcmVuZGVyVGhlbWVDb2xvclNlbGVjdGFibGVTdGF0ZXModmFsdWUucG9zaXRpdmUsIG9wdGlvbnMpLFxuICAgIGNhdXRpb246IHJlbmRlclRoZW1lQ29sb3JTZWxlY3RhYmxlU3RhdGVzKHZhbHVlLmNhdXRpb24sIG9wdGlvbnMpLFxuICAgIGNyaXRpY2FsOiByZW5kZXJUaGVtZUNvbG9yU2VsZWN0YWJsZVN0YXRlcyh2YWx1ZS5jcml0aWNhbCwgb3B0aW9ucylcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlbmRlclRoZW1lQ29sb3JTZWxlY3RhYmxlU3RhdGVzKHZhbHVlLCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgZW5hYmxlZDogcmVuZGVyVGhlbWVDb2xvclN0YXRlKHZhbHVlLmVuYWJsZWQsIG9wdGlvbnMpLFxuICAgIGhvdmVyZWQ6IHJlbmRlclRoZW1lQ29sb3JTdGF0ZSh2YWx1ZS5ob3ZlcmVkLCBvcHRpb25zKSxcbiAgICBwcmVzc2VkOiByZW5kZXJUaGVtZUNvbG9yU3RhdGUodmFsdWUucHJlc3NlZCwgb3B0aW9ucyksXG4gICAgc2VsZWN0ZWQ6IHJlbmRlclRoZW1lQ29sb3JTdGF0ZSh2YWx1ZS5zZWxlY3RlZCwgb3B0aW9ucyksXG4gICAgZGlzYWJsZWQ6IHJlbmRlclRoZW1lQ29sb3JTdGF0ZSh2YWx1ZS5kaXNhYmxlZCwgb3B0aW9ucylcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlbmRlclN5bnRheENvbG9yVGhlbWUodmFsdWUsIG9wdGlvbnMpIHtcbiAgY29uc3QgeyBjb2xvclBhbGV0dGUsIGJhc2VCZywgYmxlbmRNb2RlIH0gPSBvcHRpb25zLCBjb2xvck9wdGlvbnMgPSB7IGNvbG9yUGFsZXR0ZSwgYmc6IGJhc2VCZywgYmxlbmRNb2RlIH07XG4gIHJldHVybiB7XG4gICAgYXRydWxlOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmF0cnVsZSwgY29sb3JPcHRpb25zKSxcbiAgICBhdHRyTmFtZTogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5hdHRyTmFtZSwgY29sb3JPcHRpb25zKSxcbiAgICBhdHRyVmFsdWU6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuYXR0clZhbHVlLCBjb2xvck9wdGlvbnMpLFxuICAgIGF0dHJpYnV0ZTogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5hdHRyaWJ1dGUsIGNvbG9yT3B0aW9ucyksXG4gICAgYm9vbGVhbjogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5ib29sZWFuLCBjb2xvck9wdGlvbnMpLFxuICAgIGJ1aWx0aW46IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuYnVpbHRpbiwgY29sb3JPcHRpb25zKSxcbiAgICBjZGF0YTogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5jZGF0YSwgY29sb3JPcHRpb25zKSxcbiAgICBjaGFyOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmNoYXIsIGNvbG9yT3B0aW9ucyksXG4gICAgY2xhc3M6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuY2xhc3MsIGNvbG9yT3B0aW9ucyksXG4gICAgY2xhc3NOYW1lOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmNsYXNzTmFtZSwgY29sb3JPcHRpb25zKSxcbiAgICBjb21tZW50OiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmNvbW1lbnQsIGNvbG9yT3B0aW9ucyksXG4gICAgY29uc3RhbnQ6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuY29uc3RhbnQsIGNvbG9yT3B0aW9ucyksXG4gICAgZGVsZXRlZDogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5kZWxldGVkLCBjb2xvck9wdGlvbnMpLFxuICAgIGRvY3R5cGU6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuZG9jdHlwZSwgY29sb3JPcHRpb25zKSxcbiAgICBlbnRpdHk6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuZW50aXR5LCBjb2xvck9wdGlvbnMpLFxuICAgIGZ1bmN0aW9uOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmZ1bmN0aW9uLCBjb2xvck9wdGlvbnMpLFxuICAgIGhleGNvZGU6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuaGV4Y29kZSwgY29sb3JPcHRpb25zKSxcbiAgICBpZDogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5pZCwgY29sb3JPcHRpb25zKSxcbiAgICBpbXBvcnRhbnQ6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUuaW1wb3J0YW50LCBjb2xvck9wdGlvbnMpLFxuICAgIGluc2VydGVkOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLmluc2VydGVkLCBjb2xvck9wdGlvbnMpLFxuICAgIGtleXdvcmQ6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUua2V5d29yZCwgY29sb3JPcHRpb25zKSxcbiAgICBudW1iZXI6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUubnVtYmVyLCBjb2xvck9wdGlvbnMpLFxuICAgIG9wZXJhdG9yOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLm9wZXJhdG9yLCBjb2xvck9wdGlvbnMpLFxuICAgIHByb2xvZzogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5wcm9sb2csIGNvbG9yT3B0aW9ucyksXG4gICAgcHJvcGVydHk6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUucHJvcGVydHksIGNvbG9yT3B0aW9ucyksXG4gICAgcHNldWRvQ2xhc3M6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUucHNldWRvQ2xhc3MsIGNvbG9yT3B0aW9ucyksXG4gICAgcHNldWRvRWxlbWVudDogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5wc2V1ZG9FbGVtZW50LCBjb2xvck9wdGlvbnMpLFxuICAgIHB1bmN0dWF0aW9uOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLnB1bmN0dWF0aW9uLCBjb2xvck9wdGlvbnMpLFxuICAgIHJlZ2V4OiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLnJlZ2V4LCBjb2xvck9wdGlvbnMpLFxuICAgIHNlbGVjdG9yOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLnNlbGVjdG9yLCBjb2xvck9wdGlvbnMpLFxuICAgIHN0cmluZzogcmVuZGVyQ29sb3JWYWx1ZSh2YWx1ZS5zdHJpbmcsIGNvbG9yT3B0aW9ucyksXG4gICAgc3ltYm9sOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLnN5bWJvbCwgY29sb3JPcHRpb25zKSxcbiAgICB0YWc6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUudGFnLCBjb2xvck9wdGlvbnMpLFxuICAgIHVuaXQ6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUudW5pdCwgY29sb3JPcHRpb25zKSxcbiAgICB1cmw6IHJlbmRlckNvbG9yVmFsdWUodmFsdWUudXJsLCBjb2xvck9wdGlvbnMpLFxuICAgIHZhcmlhYmxlOiByZW5kZXJDb2xvclZhbHVlKHZhbHVlLnZhcmlhYmxlLCBjb2xvck9wdGlvbnMpXG4gIH07XG59XG5mdW5jdGlvbiBidWlsZFRoZW1lKGNvbmZpZykge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2osIF9rLCBfbDtcbiAgY29uc3QgY29sb3JUaGVtZSA9IGJ1aWxkQ29sb3JUaGVtZShjb25maWcpLCB2MiA9IHtcbiAgICBfdmVyc2lvbjogMixcbiAgICBhdmF0YXI6IChfYSA9IGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLmF2YXRhcikgIT0gbnVsbCA/IF9hIDogZGVmYXVsdFRoZW1lQ29uZmlnLmF2YXRhcixcbiAgICBidXR0b246IChfYiA9IGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLmJ1dHRvbikgIT0gbnVsbCA/IF9iIDogZGVmYXVsdFRoZW1lQ29uZmlnLmJ1dHRvbixcbiAgICBjYXJkOiAoX2MgPSBjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5jYXJkKSAhPSBudWxsID8gX2MgOiBkZWZhdWx0VGhlbWVDb25maWcuY2FyZCxcbiAgICAvLyBIb3cgY29sb3JzIGFyZSBnZW5lcmF0ZWQ6XG4gICAgLy8gMS4gTWVyZ2UgY3VzdG9tIHRva2VucyB3aXRoIGRlZmF1bHQgdG9rZW5zXG4gICAgLy8gMi4gR2VuZXJhdGUgdHJlZSBvZiBjb2xvciBrZXlzIChncmF5LzUwMCwgYmxhY2ssIHdoaXRlLCBldGMuKVxuICAgIC8vIDMuIEFwcGx5IG1peGluZyBhbmQgcmVuZGVyIHRvIGhleCB2YWx1ZXNcbiAgICAvLyByZW5kZXIoYnVpbGQobWVyZ2VXaXRoRGVmYXVsdHMoKSkpXG4gICAgY29sb3I6IHJlbmRlclRoZW1lQ29sb3JTY2hlbWVzKGNvbG9yVGhlbWUsIGNvbmZpZyksXG4gICAgY29udGFpbmVyOiAoX2QgPSBjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5jb250YWluZXIpICE9IG51bGwgPyBfZCA6IGRlZmF1bHRUaGVtZUNvbmZpZy5jb250YWluZXIsXG4gICAgZm9udDogKF9lID0gY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcuZm9udCkgIT0gbnVsbCA/IF9lIDogZGVmYXVsdFRoZW1lRm9udHMsXG4gICAgaW5wdXQ6IChfZiA9IGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLmlucHV0KSAhPSBudWxsID8gX2YgOiBkZWZhdWx0VGhlbWVDb25maWcuaW5wdXQsXG4gICAgbGF5ZXI6IChfZyA9IGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLmxheWVyKSAhPSBudWxsID8gX2cgOiBkZWZhdWx0VGhlbWVDb25maWcubGF5ZXIsXG4gICAgbWVkaWE6IChfaCA9IGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLm1lZGlhKSAhPSBudWxsID8gX2ggOiBkZWZhdWx0VGhlbWVDb25maWcubWVkaWEsXG4gICAgcmFkaXVzOiAoX2kgPSBjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5yYWRpdXMpICE9IG51bGwgPyBfaSA6IGRlZmF1bHRUaGVtZUNvbmZpZy5yYWRpdXMsXG4gICAgc2hhZG93OiAoX2ogPSBjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5zaGFkb3cpICE9IG51bGwgPyBfaiA6IGRlZmF1bHRUaGVtZUNvbmZpZy5zaGFkb3csXG4gICAgc3BhY2U6IChfayA9IGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLnNwYWNlKSAhPSBudWxsID8gX2sgOiBkZWZhdWx0VGhlbWVDb25maWcuc3BhY2UsXG4gICAgc3R5bGU6IChfbCA9IGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLnN0eWxlKSAhPSBudWxsID8gX2wgOiBkZWZhdWx0VGhlbWVDb25maWcuc3R5bGVcbiAgfTtcbiAgcmV0dXJuIHYyX3YwKHYyKTtcbn1cbmNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldFNjb3BlZFRoZW1lKHRoZW1lUHJvcCwgc2NoZW1lLCB0b25lKSB7XG4gIGNvbnN0IGNhY2hlZFRoZW1lID0gX2dldENhY2hlZFRoZW1lKHRoZW1lUHJvcCwgc2NoZW1lLCB0b25lKTtcbiAgaWYgKGNhY2hlZFRoZW1lKSByZXR1cm4gY2FjaGVkVGhlbWU7XG4gIGNvbnN0IHYwID0gaXNfdjIodGhlbWVQcm9wKSA/IHYyX3YwKHRoZW1lUHJvcCkgOiB0aGVtZVByb3AsIHYyID0gaXNfdjIodGhlbWVQcm9wKSA/IHRoZW1lUHJvcCA6IHYwX3YyKHRoZW1lUHJvcCksIGNvbG9yU2NoZW1lX3YwID0gdjAuY29sb3Jbc2NoZW1lXSB8fCB2MC5jb2xvci5saWdodCwgY29sb3JfdjAgPSBjb2xvclNjaGVtZV92MFt0b25lXSB8fCBjb2xvclNjaGVtZV92MC5kZWZhdWx0LCBsYXllcl92MCA9IHYwLmxheWVyIHx8IGRlZmF1bHRUaGVtZUNvbmZpZy5sYXllciwgY29sb3JTY2hlbWVfdjIgPSB2Mi5jb2xvcltzY2hlbWVdIHx8IHYyLmNvbG9yLmxpZ2h0LCBjb2xvcl92MiA9IGNvbG9yU2NoZW1lX3YyW3RvbmVdIHx8IGNvbG9yU2NoZW1lX3YyLmRlZmF1bHQsIGxheWVyX3YyID0gdjIubGF5ZXIgfHwgZGVmYXVsdFRoZW1lQ29uZmlnLmxheWVyLCB0aGVtZSA9IHtcbiAgICBzYW5pdHk6IHtcbiAgICAgIC4uLnYwLFxuICAgICAgY29sb3I6IGNvbG9yX3YwLFxuICAgICAgbGF5ZXI6IGxheWVyX3YwLFxuICAgICAgdjI6IHtcbiAgICAgICAgLi4udjIsXG4gICAgICAgIF9yZXNvbHZlZDogITAsXG4gICAgICAgIGNvbG9yOiBjb2xvcl92MixcbiAgICAgICAgbGF5ZXI6IGxheWVyX3YyXG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gX3NldENhY2hlZFRoZW1lKHRoZW1lUHJvcCwgc2NoZW1lLCB0b25lLCB0aGVtZSksIHRoZW1lO1xufVxuZnVuY3Rpb24gX2dldENhY2hlZFRoZW1lKHJvb3RUaGVtZSwgc2NoZW1lLCB0b25lKSB7XG4gIGNvbnN0IHNjaGVtZUNhY2hlID0gY2FjaGUuZ2V0KHNjaGVtZSk7XG4gIGlmICghc2NoZW1lQ2FjaGUpIHJldHVybjtcbiAgY29uc3QgdG9uZUNhY2hlID0gc2NoZW1lQ2FjaGUuZ2V0KHRvbmUpO1xuICBpZiAodG9uZUNhY2hlKVxuICAgIHJldHVybiB0b25lQ2FjaGUuZ2V0KHJvb3RUaGVtZSk7XG59XG5mdW5jdGlvbiBfc2V0Q2FjaGVkVGhlbWUocm9vdFRoZW1lLCBzY2hlbWUsIHRvbmUsIHRoZW1lKSB7XG4gIGNhY2hlLmhhcyhzY2hlbWUpIHx8IGNhY2hlLnNldChzY2hlbWUsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICBjb25zdCBzY2hlbWVDYWNoZSA9IGNhY2hlLmdldChzY2hlbWUpO1xuICBzY2hlbWVDYWNoZS5oYXModG9uZSkgfHwgc2NoZW1lQ2FjaGUuc2V0KHRvbmUsIC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpKSwgc2NoZW1lQ2FjaGUuZ2V0KHRvbmUpLnNldChyb290VGhlbWUsIHRoZW1lKTtcbn1cbmV4cG9ydCB7XG4gIENPTE9SX0NPTkZJR19BVkFUQVJfQ09MT1JTLFxuICBDT0xPUl9DT05GSUdfQkxFTkRfS0VZUyxcbiAgQ09MT1JfQ09ORklHX0NBUkRfS0VZUyxcbiAgQ09MT1JfQ09ORklHX0NBUkRfVE9ORVMsXG4gIENPTE9SX0NPTkZJR19JTlBVVF9NT0RFUyxcbiAgQ09MT1JfQ09ORklHX0lOUFVUX1NUQVRFUyxcbiAgQ09MT1JfQ09ORklHX1NUQVRFUyxcbiAgQ09MT1JfQ09ORklHX1NUQVRFX0tFWVMsXG4gIENPTE9SX0NPTkZJR19TVEFURV9UT05FUyxcbiAgVEhFTUVfQ09MT1JfQVZBVEFSX0NPTE9SUyxcbiAgVEhFTUVfQ09MT1JfQkxFTkRfTU9ERVMsXG4gIFRIRU1FX0NPTE9SX0JVVFRPTl9NT0RFUyxcbiAgVEhFTUVfQ09MT1JfQ0FSRF9UT05FUyxcbiAgVEhFTUVfQ09MT1JfSU5QVVRfTU9ERVMsXG4gIFRIRU1FX0NPTE9SX0lOUFVUX1NUQVRFUyxcbiAgVEhFTUVfQ09MT1JfU0NIRU1FUyxcbiAgVEhFTUVfQ09MT1JfU1RBVEVTLFxuICBUSEVNRV9DT0xPUl9TVEFURV9UT05FUyxcbiAgYnVpbGRUaGVtZSxcbiAgY3JlYXRlQ29sb3JUaGVtZSxcbiAgZ2V0Q29udHJhc3RSYXRpbyxcbiAgZ2V0U2NvcGVkVGhlbWUsXG4gIGdldFRoZW1lX3YyLFxuICBoZXhUb1JnYixcbiAgaHNsVG9SZ2IsXG4gIGlzQ29sb3JCbGVuZE1vZGVWYWx1ZSxcbiAgaXNDb2xvckJ1dHRvbk1vZGUsXG4gIGlzQ29sb3JDb25maWdCYXNlS2V5LFxuICBpc0NvbG9yQ29uZmlnQmFzZVRvbmUsXG4gIGlzQ29sb3JDb25maWdCbGVuZEtleSxcbiAgaXNDb2xvckNvbmZpZ1N0YXRlS2V5LFxuICBpc0NvbG9yQ29uZmlnU3RhdGVUb25lLFxuICBpc0NvbG9ySHVlS2V5LFxuICBpc0NvbG9yT3BhY2l0eVZhbHVlLFxuICBpc0NvbG9yVGludEtleSxcbiAgaXNDb2xvclRva2VuVmFsdWUsXG4gIGlzQ29sb3JWYWx1ZSxcbiAgaXNfdjAsXG4gIGlzX3YyLFxuICBtaXgsXG4gIG11bHRpcGx5LFxuICBwYXJzZUNvbG9yLFxuICBwYXJzZVRva2VuS2V5LFxuICBwYXJzZVRva2VuVmFsdWUsXG4gIHJnYlRvSGV4LFxuICByZ2JUb0hzbCxcbiAgcmdiYSxcbiAgcmdiYVRvUkdCQSxcbiAgc2NyZWVuLFxuICB2MF92MixcbiAgdjJfdjBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aGVtZS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/ui/dist/theme.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/util/lib/client.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/util/lib/client.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClientConcurrencyLimiter: () => (/* binding */ createClientConcurrencyLimiter)\n/* harmony export */ });\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/finalize.js\");\n/* harmony import */ var _concurrency_limiter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./concurrency-limiter.mjs */ \"(ssr)/./node_modules/@sanity/util/lib/concurrency-limiter.mjs\");\n\n\nfunction createClientConcurrencyLimiter(maxConcurrency) {\n  const limiter = new _concurrency_limiter_mjs__WEBPACK_IMPORTED_MODULE_0__.ConcurrencyLimiter(maxConcurrency);\n  function wrapClient(client) {\n    return new Proxy(client, {\n      get: (target, property) => {\n        switch (property) {\n          case \"fetch\":\n            return async (...args) => {\n              await limiter.ready();\n              try {\n                return await target.fetch(...args);\n              } finally {\n                limiter.release();\n              }\n            };\n          case \"clone\":\n            return (...args) => wrapClient(target.clone(...args));\n          case \"config\":\n            return (...args) => {\n              const result = target.config(...args);\n              return args[0] ? wrapClient(result) : result;\n            };\n          case \"withConfig\":\n            return (...args) => wrapClient(target.withConfig(...args));\n          case \"observable\":\n            return wrapObservableClient(target.observable);\n          default:\n            return target[property];\n        }\n      }\n    });\n  }\n  function wrapObservableClient(observableSanityClient) {\n    return new Proxy(observableSanityClient, {\n      get: (target, property) => {\n        switch (property) {\n          case \"fetch\":\n            return (...args) => (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.from)(limiter.ready()).pipe(\n              (0,rxjs__WEBPACK_IMPORTED_MODULE_2__.switchMap)(() => target.fetch(...args)),\n              (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.finalize)(() => limiter.release())\n            );\n          case \"clone\":\n            return (...args) => wrapObservableClient(target.clone(...args));\n          case \"config\":\n            return (...args) => {\n              const result = target.config(...args);\n              return args[0] ? wrapObservableClient(result) : result;\n            };\n          case \"withConfig\":\n            return (...args) => wrapObservableClient(target.withConfig(...args));\n          default:\n            return target[property];\n        }\n      }\n    });\n  }\n  return wrapClient;\n}\n\n//# sourceMappingURL=client.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS91dGlsL2xpYi9jbGllbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlEO0FBQ2M7QUFDL0Q7QUFDQSxzQkFBc0Isd0VBQWtCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDBDQUFJO0FBQ3BDLGNBQWMsK0NBQVM7QUFDdkIsY0FBYyw4Q0FBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvdXRpbC9saWIvY2xpZW50Lm1qcz9jMWQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyb20sIHN3aXRjaE1hcCwgZmluYWxpemUgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgQ29uY3VycmVuY3lMaW1pdGVyIH0gZnJvbSBcIi4vY29uY3VycmVuY3ktbGltaXRlci5tanNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUNsaWVudENvbmN1cnJlbmN5TGltaXRlcihtYXhDb25jdXJyZW5jeSkge1xuICBjb25zdCBsaW1pdGVyID0gbmV3IENvbmN1cnJlbmN5TGltaXRlcihtYXhDb25jdXJyZW5jeSk7XG4gIGZ1bmN0aW9uIHdyYXBDbGllbnQoY2xpZW50KSB7XG4gICAgcmV0dXJuIG5ldyBQcm94eShjbGllbnQsIHtcbiAgICAgIGdldDogKHRhcmdldCwgcHJvcGVydHkpID0+IHtcbiAgICAgICAgc3dpdGNoIChwcm9wZXJ0eSkge1xuICAgICAgICAgIGNhc2UgXCJmZXRjaFwiOlxuICAgICAgICAgICAgcmV0dXJuIGFzeW5jICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgIGF3YWl0IGxpbWl0ZXIucmVhZHkoKTtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGFyZ2V0LmZldGNoKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGxpbWl0ZXIucmVsZWFzZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIGNhc2UgXCJjbG9uZVwiOlxuICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB3cmFwQ2xpZW50KHRhcmdldC5jbG9uZSguLi5hcmdzKSk7XG4gICAgICAgICAgY2FzZSBcImNvbmZpZ1wiOlxuICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5jb25maWcoLi4uYXJncyk7XG4gICAgICAgICAgICAgIHJldHVybiBhcmdzWzBdID8gd3JhcENsaWVudChyZXN1bHQpIDogcmVzdWx0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICBjYXNlIFwid2l0aENvbmZpZ1wiOlxuICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB3cmFwQ2xpZW50KHRhcmdldC53aXRoQ29uZmlnKC4uLmFyZ3MpKTtcbiAgICAgICAgICBjYXNlIFwib2JzZXJ2YWJsZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHdyYXBPYnNlcnZhYmxlQ2xpZW50KHRhcmdldC5vYnNlcnZhYmxlKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB3cmFwT2JzZXJ2YWJsZUNsaWVudChvYnNlcnZhYmxlU2FuaXR5Q2xpZW50KSB7XG4gICAgcmV0dXJuIG5ldyBQcm94eShvYnNlcnZhYmxlU2FuaXR5Q2xpZW50LCB7XG4gICAgICBnZXQ6ICh0YXJnZXQsIHByb3BlcnR5KSA9PiB7XG4gICAgICAgIHN3aXRjaCAocHJvcGVydHkpIHtcbiAgICAgICAgICBjYXNlIFwiZmV0Y2hcIjpcbiAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4gZnJvbShsaW1pdGVyLnJlYWR5KCkpLnBpcGUoXG4gICAgICAgICAgICAgIHN3aXRjaE1hcCgoKSA9PiB0YXJnZXQuZmV0Y2goLi4uYXJncykpLFxuICAgICAgICAgICAgICBmaW5hbGl6ZSgoKSA9PiBsaW1pdGVyLnJlbGVhc2UoKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBcImNsb25lXCI6XG4gICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHdyYXBPYnNlcnZhYmxlQ2xpZW50KHRhcmdldC5jbG9uZSguLi5hcmdzKSk7XG4gICAgICAgICAgY2FzZSBcImNvbmZpZ1wiOlxuICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5jb25maWcoLi4uYXJncyk7XG4gICAgICAgICAgICAgIHJldHVybiBhcmdzWzBdID8gd3JhcE9ic2VydmFibGVDbGllbnQocmVzdWx0KSA6IHJlc3VsdDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgY2FzZSBcIndpdGhDb25maWdcIjpcbiAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4gd3JhcE9ic2VydmFibGVDbGllbnQodGFyZ2V0LndpdGhDb25maWcoLi4uYXJncykpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BlcnR5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiB3cmFwQ2xpZW50O1xufVxuZXhwb3J0IHtcbiAgY3JlYXRlQ2xpZW50Q29uY3VycmVuY3lMaW1pdGVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/util/lib/client.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/util/lib/concurrency-limiter.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@sanity/util/lib/concurrency-limiter.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConcurrencyLimiter: () => (/* binding */ ConcurrencyLimiter)\n/* harmony export */ });\nvar __defProp = Object.defineProperty, __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField = (obj, key, value) => __defNormalProp(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass ConcurrencyLimiter {\n  constructor(max) {\n    this.max = max, __publicField(this, \"current\", 0), __publicField(this, \"resolvers\", []), __publicField(this, \"ready\", () => this.max === 1 / 0 ? Promise.resolve() : this.current < this.max ? (this.current++, Promise.resolve()) : new Promise((resolve) => {\n      this.resolvers.push(resolve);\n    })), __publicField(this, \"release\", () => {\n      if (this.max === 1 / 0) return;\n      const nextResolver = this.resolvers.shift();\n      if (nextResolver) {\n        nextResolver();\n        return;\n      }\n      this.current = Math.max(0, this.current - 1);\n    });\n  }\n}\n\n//# sourceMappingURL=concurrency-limiter.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS91dGlsL2xpYi9jb25jdXJyZW5jeS1saW1pdGVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUhBQWlILHVEQUF1RDtBQUN4SztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS91dGlsL2xpYi9jb25jdXJyZW5jeS1saW1pdGVyLm1qcz9lZGZiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgQ29uY3VycmVuY3lMaW1pdGVyIHtcbiAgY29uc3RydWN0b3IobWF4KSB7XG4gICAgdGhpcy5tYXggPSBtYXgsIF9fcHVibGljRmllbGQodGhpcywgXCJjdXJyZW50XCIsIDApLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicmVzb2x2ZXJzXCIsIFtdKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJlYWR5XCIsICgpID0+IHRoaXMubWF4ID09PSAxIC8gMCA/IFByb21pc2UucmVzb2x2ZSgpIDogdGhpcy5jdXJyZW50IDwgdGhpcy5tYXggPyAodGhpcy5jdXJyZW50KyssIFByb21pc2UucmVzb2x2ZSgpKSA6IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLnJlc29sdmVycy5wdXNoKHJlc29sdmUpO1xuICAgIH0pKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJlbGVhc2VcIiwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMubWF4ID09PSAxIC8gMCkgcmV0dXJuO1xuICAgICAgY29uc3QgbmV4dFJlc29sdmVyID0gdGhpcy5yZXNvbHZlcnMuc2hpZnQoKTtcbiAgICAgIGlmIChuZXh0UmVzb2x2ZXIpIHtcbiAgICAgICAgbmV4dFJlc29sdmVyKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuY3VycmVudCA9IE1hdGgubWF4KDAsIHRoaXMuY3VycmVudCAtIDEpO1xuICAgIH0pO1xuICB9XG59XG5leHBvcnQge1xuICBDb25jdXJyZW5jeUxpbWl0ZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jdXJyZW5jeS1saW1pdGVyLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/util/lib/concurrency-limiter.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/util/lib/content.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@sanity/util/lib/content.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isDeepEmpty: () => (/* binding */ isDeepEmpty),\n/* harmony export */   isEmpty: () => (/* binding */ isEmpty),\n/* harmony export */   isEmptyArray: () => (/* binding */ isEmptyArray),\n/* harmony export */   isEmptyObject: () => (/* binding */ isEmptyObject),\n/* harmony export */   isShallowEmptyObject: () => (/* binding */ isShallowEmptyObject),\n/* harmony export */   randomKey: () => (/* binding */ randomKey),\n/* harmony export */   resolveTypeName: () => (/* binding */ resolveTypeName)\n/* harmony export */ });\n/* harmony import */ var get_random_values_esm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! get-random-values-esm */ \"(ssr)/./node_modules/get-random-values-esm/index.mjs\");\n\nvar hasOwn = Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);\nfunction isDeepEmptyObject(value) {\n  for (const key in value)\n    if (!(key === \"_type\" || key === \"_key\") && hasOwn(value, key) && !isDeepEmpty(value[key]))\n      return !1;\n  return !0;\n}\nfunction isDeepEmptyArray(value) {\n  for (let i = 0; i < value.length; i++)\n    if (!isDeepEmpty(value[i]))\n      return !1;\n  return !0;\n}\nfunction isDeepEmpty(value) {\n  if (value == null)\n    return !0;\n  const type = typeof value;\n  return Array.isArray(value) ? isDeepEmptyArray(value) : type === \"object\" ? isDeepEmptyObject(value) : !1;\n}\nconst isEmptyArray = isDeepEmptyArray, isEmpty = isDeepEmpty, isEmptyObject = isDeepEmptyObject;\nfunction isShallowEmptyObject(value) {\n  for (const key in value)\n    if (!(key === \"_type\" || key === \"_key\") && hasOwn(value, key) && value[key] !== void 0)\n      return !1;\n  return !0;\n}\nconst getByteHexTable = /* @__PURE__ */ (() => {\n  let table;\n  return () => {\n    if (table)\n      return table;\n    table = [];\n    for (let i = 0; i < 256; ++i)\n      table[i] = (i + 256).toString(16).slice(1);\n    return table;\n  };\n})();\nfunction whatwgRNG(length = 16) {\n  const rnds8 = new Uint8Array(length);\n  return (0,get_random_values_esm__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(rnds8), rnds8;\n}\nfunction randomKey(length) {\n  const table = getByteHexTable();\n  return whatwgRNG(length).reduce((str, n) => str + table[n], \"\").slice(0, length);\n}\nconst toString = Object.prototype.toString;\nfunction resolveJSType(val) {\n  switch (toString.call(val)) {\n    case \"[object Function]\":\n      return \"function\";\n    case \"[object Date]\":\n      return \"date\";\n    case \"[object RegExp]\":\n      return \"regexp\";\n    case \"[object Arguments]\":\n      return \"arguments\";\n    case \"[object Array]\":\n      return \"array\";\n    case \"[object String]\":\n      return \"string\";\n  }\n  if (typeof val == \"object\" && val && typeof val.length == \"number\")\n    try {\n      if (typeof val.callee == \"function\")\n        return \"arguments\";\n    } catch (ex) {\n      if (ex instanceof TypeError)\n        return \"arguments\";\n    }\n  return val === null ? \"null\" : val === void 0 ? \"undefined\" : val && val.nodeType === 1 ? \"element\" : val === Object(val) ? \"object\" : typeof val;\n}\nfunction resolveTypeName(value) {\n  const jsType = resolveJSType(value);\n  if (jsType !== \"object\")\n    return jsType;\n  const obj = value;\n  return \"_type\" in obj && obj._type || jsType;\n}\n\n//# sourceMappingURL=content.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS91dGlsL2xpYi9jb250ZW50Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxTQUFTLGlFQUFlO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvdXRpbC9saWIvY29udGVudC5tanM/ZWE5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ2V0UmFuZG9tVmFsdWVzIGZyb20gXCJnZXQtcmFuZG9tLXZhbHVlcy1lc21cIjtcbnZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwuYmluZChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KTtcbmZ1bmN0aW9uIGlzRGVlcEVtcHR5T2JqZWN0KHZhbHVlKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKVxuICAgIGlmICghKGtleSA9PT0gXCJfdHlwZVwiIHx8IGtleSA9PT0gXCJfa2V5XCIpICYmIGhhc093bih2YWx1ZSwga2V5KSAmJiAhaXNEZWVwRW1wdHkodmFsdWVba2V5XSkpXG4gICAgICByZXR1cm4gITE7XG4gIHJldHVybiAhMDtcbn1cbmZ1bmN0aW9uIGlzRGVlcEVtcHR5QXJyYXkodmFsdWUpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKylcbiAgICBpZiAoIWlzRGVlcEVtcHR5KHZhbHVlW2ldKSlcbiAgICAgIHJldHVybiAhMTtcbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gaXNEZWVwRW1wdHkodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgcmV0dXJuICEwO1xuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBpc0RlZXBFbXB0eUFycmF5KHZhbHVlKSA6IHR5cGUgPT09IFwib2JqZWN0XCIgPyBpc0RlZXBFbXB0eU9iamVjdCh2YWx1ZSkgOiAhMTtcbn1cbmNvbnN0IGlzRW1wdHlBcnJheSA9IGlzRGVlcEVtcHR5QXJyYXksIGlzRW1wdHkgPSBpc0RlZXBFbXB0eSwgaXNFbXB0eU9iamVjdCA9IGlzRGVlcEVtcHR5T2JqZWN0O1xuZnVuY3Rpb24gaXNTaGFsbG93RW1wdHlPYmplY3QodmFsdWUpIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpXG4gICAgaWYgKCEoa2V5ID09PSBcIl90eXBlXCIgfHwga2V5ID09PSBcIl9rZXlcIikgJiYgaGFzT3duKHZhbHVlLCBrZXkpICYmIHZhbHVlW2tleV0gIT09IHZvaWQgMClcbiAgICAgIHJldHVybiAhMTtcbiAgcmV0dXJuICEwO1xufVxuY29uc3QgZ2V0Qnl0ZUhleFRhYmxlID0gLyogQF9fUFVSRV9fICovICgoKSA9PiB7XG4gIGxldCB0YWJsZTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAodGFibGUpXG4gICAgICByZXR1cm4gdGFibGU7XG4gICAgdGFibGUgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKVxuICAgICAgdGFibGVbaV0gPSAoaSArIDI1NikudG9TdHJpbmcoMTYpLnNsaWNlKDEpO1xuICAgIHJldHVybiB0YWJsZTtcbiAgfTtcbn0pKCk7XG5mdW5jdGlvbiB3aGF0d2dSTkcobGVuZ3RoID0gMTYpIHtcbiAgY29uc3Qgcm5kczggPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KSwgcm5kczg7XG59XG5mdW5jdGlvbiByYW5kb21LZXkobGVuZ3RoKSB7XG4gIGNvbnN0IHRhYmxlID0gZ2V0Qnl0ZUhleFRhYmxlKCk7XG4gIHJldHVybiB3aGF0d2dSTkcobGVuZ3RoKS5yZWR1Y2UoKHN0ciwgbikgPT4gc3RyICsgdGFibGVbbl0sIFwiXCIpLnNsaWNlKDAsIGxlbmd0aCk7XG59XG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5mdW5jdGlvbiByZXNvbHZlSlNUeXBlKHZhbCkge1xuICBzd2l0Y2ggKHRvU3RyaW5nLmNhbGwodmFsKSkge1xuICAgIGNhc2UgXCJbb2JqZWN0IEZ1bmN0aW9uXVwiOlxuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIjtcbiAgICBjYXNlIFwiW29iamVjdCBEYXRlXVwiOlxuICAgICAgcmV0dXJuIFwiZGF0ZVwiO1xuICAgIGNhc2UgXCJbb2JqZWN0IFJlZ0V4cF1cIjpcbiAgICAgIHJldHVybiBcInJlZ2V4cFwiO1xuICAgIGNhc2UgXCJbb2JqZWN0IEFyZ3VtZW50c11cIjpcbiAgICAgIHJldHVybiBcImFyZ3VtZW50c1wiO1xuICAgIGNhc2UgXCJbb2JqZWN0IEFycmF5XVwiOlxuICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICBjYXNlIFwiW29iamVjdCBTdHJpbmddXCI6XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbCA9PSBcIm9iamVjdFwiICYmIHZhbCAmJiB0eXBlb2YgdmFsLmxlbmd0aCA9PSBcIm51bWJlclwiKVxuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHZhbC5jYWxsZWUgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICByZXR1cm4gXCJhcmd1bWVudHNcIjtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgaWYgKGV4IGluc3RhbmNlb2YgVHlwZUVycm9yKVxuICAgICAgICByZXR1cm4gXCJhcmd1bWVudHNcIjtcbiAgICB9XG4gIHJldHVybiB2YWwgPT09IG51bGwgPyBcIm51bGxcIiA6IHZhbCA9PT0gdm9pZCAwID8gXCJ1bmRlZmluZWRcIiA6IHZhbCAmJiB2YWwubm9kZVR5cGUgPT09IDEgPyBcImVsZW1lbnRcIiA6IHZhbCA9PT0gT2JqZWN0KHZhbCkgPyBcIm9iamVjdFwiIDogdHlwZW9mIHZhbDtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUeXBlTmFtZSh2YWx1ZSkge1xuICBjb25zdCBqc1R5cGUgPSByZXNvbHZlSlNUeXBlKHZhbHVlKTtcbiAgaWYgKGpzVHlwZSAhPT0gXCJvYmplY3RcIilcbiAgICByZXR1cm4ganNUeXBlO1xuICBjb25zdCBvYmogPSB2YWx1ZTtcbiAgcmV0dXJuIFwiX3R5cGVcIiBpbiBvYmogJiYgb2JqLl90eXBlIHx8IGpzVHlwZTtcbn1cbmV4cG9ydCB7XG4gIGlzRGVlcEVtcHR5LFxuICBpc0VtcHR5LFxuICBpc0VtcHR5QXJyYXksXG4gIGlzRW1wdHlPYmplY3QsXG4gIGlzU2hhbGxvd0VtcHR5T2JqZWN0LFxuICByYW5kb21LZXksXG4gIHJlc29sdmVUeXBlTmFtZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRlbnQubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/util/lib/content.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/util/lib/legacyDateFormat.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@sanity/util/lib/legacyDateFormat.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_DATE_FORMAT: () => (/* binding */ DEFAULT_DATE_FORMAT),\n/* harmony export */   DEFAULT_TIME_FORMAT: () => (/* binding */ DEFAULT_TIME_FORMAT),\n/* harmony export */   format: () => (/* binding */ format),\n/* harmony export */   parse: () => (/* binding */ parse)\n/* harmony export */ });\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ \"(ssr)/./node_modules/moment/moment.js\");\n\nconst DEFAULT_DATE_FORMAT = \"YYYY-MM-DD\", DEFAULT_TIME_FORMAT = \"HH:mm\";\nfunction format(input, format2, useUTC = !1) {\n  return useUTC ? moment__WEBPACK_IMPORTED_MODULE_0__.utc(input).format(format2) : moment__WEBPACK_IMPORTED_MODULE_0__(input).format(format2);\n}\nfunction parse(dateString, format2) {\n  const parsed = moment__WEBPACK_IMPORTED_MODULE_0__(dateString, format2, !0);\n  return parsed.isValid() ? { isValid: !0, date: parsed.toDate() } : { isValid: !1, error: `Invalid date. Must be on the format \"${format2}\"` };\n}\n\n//# sourceMappingURL=legacyDateFormat.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS91dGlsL2xpYi9sZWdhY3lEYXRlRm9ybWF0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE0QjtBQUM1QjtBQUNBO0FBQ0Esa0JBQWtCLHVDQUFVLDBCQUEwQixtQ0FBTTtBQUM1RDtBQUNBO0FBQ0EsaUJBQWlCLG1DQUFNO0FBQ3ZCLDhCQUE4QixxQ0FBcUMsSUFBSSw0REFBNEQsUUFBUTtBQUMzSTtBQU1FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvdXRpbC9saWIvbGVnYWN5RGF0ZUZvcm1hdC5tanM/N2ZmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcbmNvbnN0IERFRkFVTFRfREFURV9GT1JNQVQgPSBcIllZWVktTU0tRERcIiwgREVGQVVMVF9USU1FX0ZPUk1BVCA9IFwiSEg6bW1cIjtcbmZ1bmN0aW9uIGZvcm1hdChpbnB1dCwgZm9ybWF0MiwgdXNlVVRDID0gITEpIHtcbiAgcmV0dXJuIHVzZVVUQyA/IG1vbWVudC51dGMoaW5wdXQpLmZvcm1hdChmb3JtYXQyKSA6IG1vbWVudChpbnB1dCkuZm9ybWF0KGZvcm1hdDIpO1xufVxuZnVuY3Rpb24gcGFyc2UoZGF0ZVN0cmluZywgZm9ybWF0Mikge1xuICBjb25zdCBwYXJzZWQgPSBtb21lbnQoZGF0ZVN0cmluZywgZm9ybWF0MiwgITApO1xuICByZXR1cm4gcGFyc2VkLmlzVmFsaWQoKSA/IHsgaXNWYWxpZDogITAsIGRhdGU6IHBhcnNlZC50b0RhdGUoKSB9IDogeyBpc1ZhbGlkOiAhMSwgZXJyb3I6IGBJbnZhbGlkIGRhdGUuIE11c3QgYmUgb24gdGhlIGZvcm1hdCBcIiR7Zm9ybWF0Mn1cImAgfTtcbn1cbmV4cG9ydCB7XG4gIERFRkFVTFRfREFURV9GT1JNQVQsXG4gIERFRkFVTFRfVElNRV9GT1JNQVQsXG4gIGZvcm1hdCxcbiAgcGFyc2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZWdhY3lEYXRlRm9ybWF0Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/util/lib/legacyDateFormat.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/util/lib/paths.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@sanity/util/lib/paths.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FOCUS_TERMINATOR: () => (/* binding */ FOCUS_TERMINATOR),\n/* harmony export */   _resolveKeyedPath: () => (/* binding */ _resolveKeyedPath),\n/* harmony export */   fromString: () => (/* binding */ fromString),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   hasFocus: () => (/* binding */ hasFocus),\n/* harmony export */   hasItemFocus: () => (/* binding */ hasItemFocus),\n/* harmony export */   isEqual: () => (/* binding */ isEqual),\n/* harmony export */   isExpanded: () => (/* binding */ isExpanded),\n/* harmony export */   isSegmentEqual: () => (/* binding */ isSegmentEqual),\n/* harmony export */   numEqualSegments: () => (/* binding */ numEqualSegments),\n/* harmony export */   pathFor: () => (/* binding */ pathFor),\n/* harmony export */   resolveKeyedPath: () => (/* binding */ resolveKeyedPath),\n/* harmony export */   startsWith: () => (/* binding */ startsWith),\n/* harmony export */   toString: () => (/* binding */ toString),\n/* harmony export */   trimChildPath: () => (/* binding */ trimChildPath),\n/* harmony export */   trimLeft: () => (/* binding */ trimLeft),\n/* harmony export */   trimRight: () => (/* binding */ trimRight)\n/* harmony export */ });\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sanity/types */ \"(ssr)/./node_modules/@sanity/types/lib/index.mjs\");\n\nconst rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g, reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/, EMPTY_PATH = [], FOCUS_TERMINATOR = \"$\", GROQ_DATA_TYPE_VALUES = [\"true\", \"false\", \"null\"];\nfunction get(obj, path, defaultVal) {\n  const select = typeof path == \"string\" ? fromString(path) : path;\n  if (!Array.isArray(select))\n    throw new Error(\"Path must be an array or a string\");\n  let acc = obj;\n  for (let i = 0; i < select.length; i++) {\n    const segment = select[i];\n    if ((0,_sanity_types__WEBPACK_IMPORTED_MODULE_0__.isIndexSegment)(segment)) {\n      if (!Array.isArray(acc))\n        return defaultVal;\n      acc = acc[segment];\n    }\n    if ((0,_sanity_types__WEBPACK_IMPORTED_MODULE_0__.isKeySegment)(segment)) {\n      if (!Array.isArray(acc))\n        return defaultVal;\n      acc = acc.find((item) => item._key === segment._key);\n    }\n    if (typeof segment == \"string\" && (acc = typeof acc == \"object\" && acc !== null ? acc[segment] : void 0), typeof acc > \"u\")\n      return defaultVal;\n  }\n  return acc;\n}\nconst pathsMemo = /* @__PURE__ */ new Map();\nfunction pathFor(path) {\n  if (path.length === 0)\n    return EMPTY_PATH;\n  const asString = toString(path);\n  return pathsMemo.has(asString) ? pathsMemo.get(asString) : (pathsMemo.set(asString, path), Object.freeze(path), path);\n}\nfunction isEqual(path, otherPath) {\n  return path.length === otherPath.length && path.every((segment, i) => isSegmentEqual(segment, otherPath[i]));\n}\nfunction numEqualSegments(path, otherPath) {\n  const length = Math.min(path.length, otherPath.length);\n  for (let i = 0; i < length; i++)\n    if (!isSegmentEqual(path[i], otherPath[i]))\n      return i;\n  return length;\n}\nfunction isSegmentEqual(segmentA, segmentB) {\n  return (0,_sanity_types__WEBPACK_IMPORTED_MODULE_0__.isKeySegment)(segmentA) && (0,_sanity_types__WEBPACK_IMPORTED_MODULE_0__.isKeySegment)(segmentB) ? segmentA._key === segmentB._key : (0,_sanity_types__WEBPACK_IMPORTED_MODULE_0__.isIndexSegment)(segmentA) ? Number(segmentA) === Number(segmentB) : (0,_sanity_types__WEBPACK_IMPORTED_MODULE_0__.isIndexTuple)(segmentA) && (0,_sanity_types__WEBPACK_IMPORTED_MODULE_0__.isIndexTuple)(segmentB) ? segmentA[0] === segmentB[0] && segmentA[1] === segmentB[1] : segmentA === segmentB;\n}\nfunction hasFocus(focusPath, path) {\n  const withoutTerminator = focusPath[focusPath.length - 1] === FOCUS_TERMINATOR ? focusPath.slice(0, -1) : focusPath;\n  return isEqual(withoutTerminator, path);\n}\nfunction hasItemFocus(focusPath, item) {\n  return focusPath.length === 1 && isSegmentEqual(focusPath[0], item);\n}\nfunction isExpanded(segment, focusPath) {\n  const [head, ...tail] = focusPath;\n  return tail.length > 0 && isSegmentEqual(segment, head);\n}\nfunction startsWith(prefix, path) {\n  return prefix.every((segment, i) => isSegmentEqual(segment, path[i]));\n}\nfunction trimLeft(prefix, path) {\n  if (prefix.length === 0 || path.length === 0)\n    return path;\n  const [prefixHead, ...prefixTail] = prefix, [pathHead, ...pathTail] = path;\n  return isSegmentEqual(prefixHead, pathHead) ? pathFor(trimLeft(prefixTail, pathTail)) : path;\n}\nfunction trimRight(suffix, path) {\n  const sufLen = suffix.length, pathLen = path.length;\n  if (sufLen === 0 || pathLen === 0)\n    return path;\n  let i = 0;\n  for (; i < sufLen && i < pathLen && isSegmentEqual(path[pathLen - i - 1], suffix[sufLen - i - 1]); )\n    i++;\n  return pathFor(path.slice(0, pathLen - i));\n}\nfunction trimChildPath(path, childPath) {\n  return startsWith(path, childPath) ? trimLeft(path, childPath) : EMPTY_PATH;\n}\nfunction toString(path) {\n  if (!Array.isArray(path))\n    throw new Error(\"Path is not an array\");\n  return path.reduce((target, segment, i) => {\n    const isHead = i === 0;\n    if (typeof segment == \"number\")\n      return `${target}[${segment}]`;\n    if (typeof segment == \"string\")\n      return isHead ? segment : GROQ_DATA_TYPE_VALUES.includes(segment) ? `${target}[\"${segment}\"]` : `${target}.${segment}`;\n    if ((0,_sanity_types__WEBPACK_IMPORTED_MODULE_0__.isKeySegment)(segment) && segment._key)\n      return `${target}[_key==\"${segment._key}\"]`;\n    if (Array.isArray(segment)) {\n      const [from, to] = segment;\n      return `${target}[${from}:${to}]`;\n    }\n    throw new Error(`Unsupported path segment \\`${JSON.stringify(segment)}\\``);\n  }, \"\");\n}\nfunction _resolveKeyedPath(value, path) {\n  if (path.length === 0)\n    return path;\n  const [next, ...rest] = path;\n  if (typeof next == \"number\") {\n    if (!Array.isArray(value) || !(next in value))\n      return [];\n    const item = value[next];\n    return [typeof (item == null ? void 0 : item._key) == \"string\" ? { _key: item._key } : next, ..._resolveKeyedPath(item, rest)];\n  }\n  const nextVal = get(value, [next]);\n  return [next, ..._resolveKeyedPath(nextVal, rest)];\n}\nfunction resolveKeyedPath(value, path) {\n  if (!Array.isArray(path))\n    throw new Error(\"Path is not an array\");\n  return pathFor(_resolveKeyedPath(value, path));\n}\nfunction fromString(path) {\n  if (typeof path != \"string\")\n    throw new Error(\"Path is not a string\");\n  const segments = path.match(rePropName);\n  if (!segments)\n    throw new Error(\"Invalid path string\");\n  return segments.map(normalizePathSegment);\n}\nfunction normalizePathSegment(segment) {\n  return (0,_sanity_types__WEBPACK_IMPORTED_MODULE_0__.isIndexSegment)(segment) ? normalizeIndexSegment(segment) : (0,_sanity_types__WEBPACK_IMPORTED_MODULE_0__.isKeySegment)(segment) ? normalizeKeySegment(segment) : (0,_sanity_types__WEBPACK_IMPORTED_MODULE_0__.isIndexTuple)(segment) ? normalizeIndexTupleSegment(segment) : segment;\n}\nfunction normalizeIndexSegment(segment) {\n  return Number(segment.replace(/[^\\d]/g, \"\"));\n}\nfunction normalizeKeySegment(segment) {\n  return { _key: segment.match(reKeySegment)[1] };\n}\nfunction normalizeIndexTupleSegment(segment) {\n  const [from, to] = segment.split(\":\").map((seg) => seg === \"\" ? seg : Number(seg));\n  return [from, to];\n}\n\n//# sourceMappingURL=paths.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS91dGlsL2xpYi9wYXRocy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJFO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQSxRQUFRLDZEQUFjO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywyREFBWSxjQUFjLDJEQUFZLCtDQUErQyw2REFBYyxxREFBcUQsMkRBQVksY0FBYywyREFBWTtBQUN2TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0RkFBNEY7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU8sR0FBRyxRQUFRO0FBQ2xDO0FBQ0EsNkVBQTZFLE9BQU8sSUFBSSxRQUFRLFNBQVMsT0FBTyxHQUFHLFFBQVE7QUFDM0gsUUFBUSwyREFBWTtBQUNwQixnQkFBZ0IsT0FBTyxVQUFVLGFBQWE7QUFDOUM7QUFDQTtBQUNBLGdCQUFnQixPQUFPLEdBQUcsS0FBSyxHQUFHLEdBQUc7QUFDckM7QUFDQSxrREFBa0Qsd0JBQXdCO0FBQzFFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsa0JBQWtCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkRBQWMsNkNBQTZDLDJEQUFZLDJDQUEyQywyREFBWTtBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtQkU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS91dGlsL2xpYi9wYXRocy5tanM/M2M0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0luZGV4U2VnbWVudCwgaXNLZXlTZWdtZW50LCBpc0luZGV4VHVwbGUgfSBmcm9tIFwiQHNhbml0eS90eXBlc1wiO1xuY29uc3QgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZywgcmVLZXlTZWdtZW50ID0gL19rZXlcXHMqPT1cXHMqWydcIl0oLiopWydcIl0vLCBFTVBUWV9QQVRIID0gW10sIEZPQ1VTX1RFUk1JTkFUT1IgPSBcIiRcIiwgR1JPUV9EQVRBX1RZUEVfVkFMVUVTID0gW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwibnVsbFwiXTtcbmZ1bmN0aW9uIGdldChvYmosIHBhdGgsIGRlZmF1bHRWYWwpIHtcbiAgY29uc3Qgc2VsZWN0ID0gdHlwZW9mIHBhdGggPT0gXCJzdHJpbmdcIiA/IGZyb21TdHJpbmcocGF0aCkgOiBwYXRoO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoc2VsZWN0KSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoIG11c3QgYmUgYW4gYXJyYXkgb3IgYSBzdHJpbmdcIik7XG4gIGxldCBhY2MgPSBvYmo7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc2VnbWVudCA9IHNlbGVjdFtpXTtcbiAgICBpZiAoaXNJbmRleFNlZ21lbnQoc2VnbWVudCkpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShhY2MpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbDtcbiAgICAgIGFjYyA9IGFjY1tzZWdtZW50XTtcbiAgICB9XG4gICAgaWYgKGlzS2V5U2VnbWVudChzZWdtZW50KSkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFjYykpXG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsO1xuICAgICAgYWNjID0gYWNjLmZpbmQoKGl0ZW0pID0+IGl0ZW0uX2tleSA9PT0gc2VnbWVudC5fa2V5KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgJiYgKGFjYyA9IHR5cGVvZiBhY2MgPT0gXCJvYmplY3RcIiAmJiBhY2MgIT09IG51bGwgPyBhY2Nbc2VnbWVudF0gOiB2b2lkIDApLCB0eXBlb2YgYWNjID4gXCJ1XCIpXG4gICAgICByZXR1cm4gZGVmYXVsdFZhbDtcbiAgfVxuICByZXR1cm4gYWNjO1xufVxuY29uc3QgcGF0aHNNZW1vID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHBhdGhGb3IocGF0aCkge1xuICBpZiAocGF0aC5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuIEVNUFRZX1BBVEg7XG4gIGNvbnN0IGFzU3RyaW5nID0gdG9TdHJpbmcocGF0aCk7XG4gIHJldHVybiBwYXRoc01lbW8uaGFzKGFzU3RyaW5nKSA/IHBhdGhzTWVtby5nZXQoYXNTdHJpbmcpIDogKHBhdGhzTWVtby5zZXQoYXNTdHJpbmcsIHBhdGgpLCBPYmplY3QuZnJlZXplKHBhdGgpLCBwYXRoKTtcbn1cbmZ1bmN0aW9uIGlzRXF1YWwocGF0aCwgb3RoZXJQYXRoKSB7XG4gIHJldHVybiBwYXRoLmxlbmd0aCA9PT0gb3RoZXJQYXRoLmxlbmd0aCAmJiBwYXRoLmV2ZXJ5KChzZWdtZW50LCBpKSA9PiBpc1NlZ21lbnRFcXVhbChzZWdtZW50LCBvdGhlclBhdGhbaV0pKTtcbn1cbmZ1bmN0aW9uIG51bUVxdWFsU2VnbWVudHMocGF0aCwgb3RoZXJQYXRoKSB7XG4gIGNvbnN0IGxlbmd0aCA9IE1hdGgubWluKHBhdGgubGVuZ3RoLCBvdGhlclBhdGgubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICBpZiAoIWlzU2VnbWVudEVxdWFsKHBhdGhbaV0sIG90aGVyUGF0aFtpXSkpXG4gICAgICByZXR1cm4gaTtcbiAgcmV0dXJuIGxlbmd0aDtcbn1cbmZ1bmN0aW9uIGlzU2VnbWVudEVxdWFsKHNlZ21lbnRBLCBzZWdtZW50Qikge1xuICByZXR1cm4gaXNLZXlTZWdtZW50KHNlZ21lbnRBKSAmJiBpc0tleVNlZ21lbnQoc2VnbWVudEIpID8gc2VnbWVudEEuX2tleSA9PT0gc2VnbWVudEIuX2tleSA6IGlzSW5kZXhTZWdtZW50KHNlZ21lbnRBKSA/IE51bWJlcihzZWdtZW50QSkgPT09IE51bWJlcihzZWdtZW50QikgOiBpc0luZGV4VHVwbGUoc2VnbWVudEEpICYmIGlzSW5kZXhUdXBsZShzZWdtZW50QikgPyBzZWdtZW50QVswXSA9PT0gc2VnbWVudEJbMF0gJiYgc2VnbWVudEFbMV0gPT09IHNlZ21lbnRCWzFdIDogc2VnbWVudEEgPT09IHNlZ21lbnRCO1xufVxuZnVuY3Rpb24gaGFzRm9jdXMoZm9jdXNQYXRoLCBwYXRoKSB7XG4gIGNvbnN0IHdpdGhvdXRUZXJtaW5hdG9yID0gZm9jdXNQYXRoW2ZvY3VzUGF0aC5sZW5ndGggLSAxXSA9PT0gRk9DVVNfVEVSTUlOQVRPUiA/IGZvY3VzUGF0aC5zbGljZSgwLCAtMSkgOiBmb2N1c1BhdGg7XG4gIHJldHVybiBpc0VxdWFsKHdpdGhvdXRUZXJtaW5hdG9yLCBwYXRoKTtcbn1cbmZ1bmN0aW9uIGhhc0l0ZW1Gb2N1cyhmb2N1c1BhdGgsIGl0ZW0pIHtcbiAgcmV0dXJuIGZvY3VzUGF0aC5sZW5ndGggPT09IDEgJiYgaXNTZWdtZW50RXF1YWwoZm9jdXNQYXRoWzBdLCBpdGVtKTtcbn1cbmZ1bmN0aW9uIGlzRXhwYW5kZWQoc2VnbWVudCwgZm9jdXNQYXRoKSB7XG4gIGNvbnN0IFtoZWFkLCAuLi50YWlsXSA9IGZvY3VzUGF0aDtcbiAgcmV0dXJuIHRhaWwubGVuZ3RoID4gMCAmJiBpc1NlZ21lbnRFcXVhbChzZWdtZW50LCBoZWFkKTtcbn1cbmZ1bmN0aW9uIHN0YXJ0c1dpdGgocHJlZml4LCBwYXRoKSB7XG4gIHJldHVybiBwcmVmaXguZXZlcnkoKHNlZ21lbnQsIGkpID0+IGlzU2VnbWVudEVxdWFsKHNlZ21lbnQsIHBhdGhbaV0pKTtcbn1cbmZ1bmN0aW9uIHRyaW1MZWZ0KHByZWZpeCwgcGF0aCkge1xuICBpZiAocHJlZml4Lmxlbmd0aCA9PT0gMCB8fCBwYXRoLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm4gcGF0aDtcbiAgY29uc3QgW3ByZWZpeEhlYWQsIC4uLnByZWZpeFRhaWxdID0gcHJlZml4LCBbcGF0aEhlYWQsIC4uLnBhdGhUYWlsXSA9IHBhdGg7XG4gIHJldHVybiBpc1NlZ21lbnRFcXVhbChwcmVmaXhIZWFkLCBwYXRoSGVhZCkgPyBwYXRoRm9yKHRyaW1MZWZ0KHByZWZpeFRhaWwsIHBhdGhUYWlsKSkgOiBwYXRoO1xufVxuZnVuY3Rpb24gdHJpbVJpZ2h0KHN1ZmZpeCwgcGF0aCkge1xuICBjb25zdCBzdWZMZW4gPSBzdWZmaXgubGVuZ3RoLCBwYXRoTGVuID0gcGF0aC5sZW5ndGg7XG4gIGlmIChzdWZMZW4gPT09IDAgfHwgcGF0aExlbiA9PT0gMClcbiAgICByZXR1cm4gcGF0aDtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKDsgaSA8IHN1ZkxlbiAmJiBpIDwgcGF0aExlbiAmJiBpc1NlZ21lbnRFcXVhbChwYXRoW3BhdGhMZW4gLSBpIC0gMV0sIHN1ZmZpeFtzdWZMZW4gLSBpIC0gMV0pOyApXG4gICAgaSsrO1xuICByZXR1cm4gcGF0aEZvcihwYXRoLnNsaWNlKDAsIHBhdGhMZW4gLSBpKSk7XG59XG5mdW5jdGlvbiB0cmltQ2hpbGRQYXRoKHBhdGgsIGNoaWxkUGF0aCkge1xuICByZXR1cm4gc3RhcnRzV2l0aChwYXRoLCBjaGlsZFBhdGgpID8gdHJpbUxlZnQocGF0aCwgY2hpbGRQYXRoKSA6IEVNUFRZX1BBVEg7XG59XG5mdW5jdGlvbiB0b1N0cmluZyhwYXRoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShwYXRoKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoIGlzIG5vdCBhbiBhcnJheVwiKTtcbiAgcmV0dXJuIHBhdGgucmVkdWNlKCh0YXJnZXQsIHNlZ21lbnQsIGkpID0+IHtcbiAgICBjb25zdCBpc0hlYWQgPSBpID09PSAwO1xuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PSBcIm51bWJlclwiKVxuICAgICAgcmV0dXJuIGAke3RhcmdldH1bJHtzZWdtZW50fV1gO1xuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PSBcInN0cmluZ1wiKVxuICAgICAgcmV0dXJuIGlzSGVhZCA/IHNlZ21lbnQgOiBHUk9RX0RBVEFfVFlQRV9WQUxVRVMuaW5jbHVkZXMoc2VnbWVudCkgPyBgJHt0YXJnZXR9W1wiJHtzZWdtZW50fVwiXWAgOiBgJHt0YXJnZXR9LiR7c2VnbWVudH1gO1xuICAgIGlmIChpc0tleVNlZ21lbnQoc2VnbWVudCkgJiYgc2VnbWVudC5fa2V5KVxuICAgICAgcmV0dXJuIGAke3RhcmdldH1bX2tleT09XCIke3NlZ21lbnQuX2tleX1cIl1gO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNlZ21lbnQpKSB7XG4gICAgICBjb25zdCBbZnJvbSwgdG9dID0gc2VnbWVudDtcbiAgICAgIHJldHVybiBgJHt0YXJnZXR9WyR7ZnJvbX06JHt0b31dYDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwYXRoIHNlZ21lbnQgXFxgJHtKU09OLnN0cmluZ2lmeShzZWdtZW50KX1cXGBgKTtcbiAgfSwgXCJcIik7XG59XG5mdW5jdGlvbiBfcmVzb2x2ZUtleWVkUGF0aCh2YWx1ZSwgcGF0aCkge1xuICBpZiAocGF0aC5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuIHBhdGg7XG4gIGNvbnN0IFtuZXh0LCAuLi5yZXN0XSA9IHBhdGg7XG4gIGlmICh0eXBlb2YgbmV4dCA9PSBcIm51bWJlclwiKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSB8fCAhKG5leHQgaW4gdmFsdWUpKVxuICAgICAgcmV0dXJuIFtdO1xuICAgIGNvbnN0IGl0ZW0gPSB2YWx1ZVtuZXh0XTtcbiAgICByZXR1cm4gW3R5cGVvZiAoaXRlbSA9PSBudWxsID8gdm9pZCAwIDogaXRlbS5fa2V5KSA9PSBcInN0cmluZ1wiID8geyBfa2V5OiBpdGVtLl9rZXkgfSA6IG5leHQsIC4uLl9yZXNvbHZlS2V5ZWRQYXRoKGl0ZW0sIHJlc3QpXTtcbiAgfVxuICBjb25zdCBuZXh0VmFsID0gZ2V0KHZhbHVlLCBbbmV4dF0pO1xuICByZXR1cm4gW25leHQsIC4uLl9yZXNvbHZlS2V5ZWRQYXRoKG5leHRWYWwsIHJlc3QpXTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVLZXllZFBhdGgodmFsdWUsIHBhdGgpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHBhdGgpKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlBhdGggaXMgbm90IGFuIGFycmF5XCIpO1xuICByZXR1cm4gcGF0aEZvcihfcmVzb2x2ZUtleWVkUGF0aCh2YWx1ZSwgcGF0aCkpO1xufVxuZnVuY3Rpb24gZnJvbVN0cmluZyhwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCAhPSBcInN0cmluZ1wiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlBhdGggaXMgbm90IGEgc3RyaW5nXCIpO1xuICBjb25zdCBzZWdtZW50cyA9IHBhdGgubWF0Y2gocmVQcm9wTmFtZSk7XG4gIGlmICghc2VnbWVudHMpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXRoIHN0cmluZ1wiKTtcbiAgcmV0dXJuIHNlZ21lbnRzLm1hcChub3JtYWxpemVQYXRoU2VnbWVudCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQYXRoU2VnbWVudChzZWdtZW50KSB7XG4gIHJldHVybiBpc0luZGV4U2VnbWVudChzZWdtZW50KSA/IG5vcm1hbGl6ZUluZGV4U2VnbWVudChzZWdtZW50KSA6IGlzS2V5U2VnbWVudChzZWdtZW50KSA/IG5vcm1hbGl6ZUtleVNlZ21lbnQoc2VnbWVudCkgOiBpc0luZGV4VHVwbGUoc2VnbWVudCkgPyBub3JtYWxpemVJbmRleFR1cGxlU2VnbWVudChzZWdtZW50KSA6IHNlZ21lbnQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVJbmRleFNlZ21lbnQoc2VnbWVudCkge1xuICByZXR1cm4gTnVtYmVyKHNlZ21lbnQucmVwbGFjZSgvW15cXGRdL2csIFwiXCIpKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleVNlZ21lbnQoc2VnbWVudCkge1xuICByZXR1cm4geyBfa2V5OiBzZWdtZW50Lm1hdGNoKHJlS2V5U2VnbWVudClbMV0gfTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUluZGV4VHVwbGVTZWdtZW50KHNlZ21lbnQpIHtcbiAgY29uc3QgW2Zyb20sIHRvXSA9IHNlZ21lbnQuc3BsaXQoXCI6XCIpLm1hcCgoc2VnKSA9PiBzZWcgPT09IFwiXCIgPyBzZWcgOiBOdW1iZXIoc2VnKSk7XG4gIHJldHVybiBbZnJvbSwgdG9dO1xufVxuZXhwb3J0IHtcbiAgRk9DVVNfVEVSTUlOQVRPUixcbiAgX3Jlc29sdmVLZXllZFBhdGgsXG4gIGZyb21TdHJpbmcsXG4gIGdldCxcbiAgaGFzRm9jdXMsXG4gIGhhc0l0ZW1Gb2N1cyxcbiAgaXNFcXVhbCxcbiAgaXNFeHBhbmRlZCxcbiAgaXNTZWdtZW50RXF1YWwsXG4gIG51bUVxdWFsU2VnbWVudHMsXG4gIHBhdGhGb3IsXG4gIHJlc29sdmVLZXllZFBhdGgsXG4gIHN0YXJ0c1dpdGgsXG4gIHRvU3RyaW5nLFxuICB0cmltQ2hpbGRQYXRoLFxuICB0cmltTGVmdCxcbiAgdHJpbVJpZ2h0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF0aHMubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/util/lib/paths.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/vision/lib/_chunks-es/SanityVision.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@sanity/vision/lib/_chunks-es/SanityVision.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SanityVision)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! sanity */ \"(ssr)/./node_modules/sanity/lib/index.mjs\");\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sanity/ui */ \"(ssr)/./node_modules/@sanity/ui/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _rexxars_react_split_pane__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @rexxars/react-split-pane */ \"(ssr)/./node_modules/@rexxars/react-split-pane/dist/index.esm.js\");\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @sanity/icons */ \"(ssr)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! is-hotkey-esm */ \"(ssr)/./node_modules/is-hotkey-esm/dist/index.js\");\n/* harmony import */ var _uiw_react_codemirror__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uiw/react-codemirror */ \"(ssr)/./node_modules/@uiw/react-codemirror/esm/index.js\");\n/* harmony import */ var _codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @codemirror/autocomplete */ \"(ssr)/./node_modules/@codemirror/autocomplete/dist/index.js\");\n/* harmony import */ var _codemirror_commands__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @codemirror/commands */ \"(ssr)/./node_modules/@codemirror/commands/dist/index.js\");\n/* harmony import */ var _codemirror_lang_javascript__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @codemirror/lang-javascript */ \"(ssr)/./node_modules/@codemirror/lang-javascript/dist/index.js\");\n/* harmony import */ var _codemirror_language__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @codemirror/language */ \"(ssr)/./node_modules/@codemirror/language/dist/index.js\");\n/* harmony import */ var _codemirror_search__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @codemirror/search */ \"(ssr)/./node_modules/@codemirror/search/dist/index.js\");\n/* harmony import */ var _codemirror_view__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @codemirror/view */ \"(ssr)/./node_modules/@codemirror/view/dist/index.js\");\n/* harmony import */ var _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lezer/highlight */ \"(ssr)/./node_modules/@lezer/highlight/dist/index.js\");\n/* harmony import */ var _sanity_color__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @sanity/color */ \"(ssr)/./node_modules/@sanity/color/dist/index.js\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! styled-components */ \"(ssr)/./node_modules/styled-components/dist/styled-components.esm.js\");\n/* harmony import */ var json_2_csv__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! json-2-csv */ \"(ssr)/./node_modules/json-2-csv/lib/converter.js\");\n/* harmony import */ var _juggle_resize_observer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @juggle/resize-observer */ \"(ssr)/./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n/* harmony import */ var json5__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! json5 */ \"(ssr)/./node_modules/@sanity/vision/node_modules/json5/dist/index.mjs\");\n/* harmony import */ var lodash_debounce_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/debounce.js */ \"(ssr)/./node_modules/lodash/debounce.js\");\n/* harmony import */ var _index_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./index.mjs */ \"(ssr)/./node_modules/@sanity/vision/lib/_chunks-es/index.mjs\");\n/* harmony import */ var _rexxars_react_json_inspector__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @rexxars/react-json-inspector */ \"(ssr)/./node_modules/@rexxars/react-json-inspector/json-inspector.js\");\n/* harmony import */ var quick_lru__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! quick-lru */ \"(ssr)/./node_modules/quick-lru/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst API_VERSIONS = [\"v1\", \"vX\", \"v2021-03-25\", \"v2021-10-21\", \"v2022-03-07\"], [DEFAULT_API_VERSION] = API_VERSIONS.slice(-1);\nfunction DelayedSpinner(props) {\n  const [show, setShow] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const timer = setTimeout(() => setShow(!0), props.delay || 500);\n    return () => clearTimeout(timer);\n  }, [props.delay]), show ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Spinner, { muted: !0, size: 4 }) : null;\n}\nconst codemirrorExtensions = [\n  [_codemirror_lang_javascript__WEBPACK_IMPORTED_MODULE_12__.javascriptLanguage],\n  (0,_codemirror_view__WEBPACK_IMPORTED_MODULE_13__.lineNumbers)(),\n  (0,_codemirror_view__WEBPACK_IMPORTED_MODULE_13__.highlightActiveLine)(),\n  (0,_codemirror_view__WEBPACK_IMPORTED_MODULE_13__.highlightActiveLineGutter)(),\n  (0,_codemirror_search__WEBPACK_IMPORTED_MODULE_14__.highlightSelectionMatches)(),\n  (0,_codemirror_view__WEBPACK_IMPORTED_MODULE_13__.highlightSpecialChars)(),\n  (0,_codemirror_language__WEBPACK_IMPORTED_MODULE_15__.indentOnInput)(),\n  (0,_codemirror_language__WEBPACK_IMPORTED_MODULE_15__.bracketMatching)(),\n  (0,_codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_16__.closeBrackets)(),\n  (0,_codemirror_commands__WEBPACK_IMPORTED_MODULE_17__.history)(),\n  (0,_codemirror_view__WEBPACK_IMPORTED_MODULE_13__.drawSelection)(),\n  (0,_codemirror_language__WEBPACK_IMPORTED_MODULE_15__.syntaxHighlighting)(_codemirror_language__WEBPACK_IMPORTED_MODULE_15__.defaultHighlightStyle, { fallback: !0 }),\n  _codemirror_view__WEBPACK_IMPORTED_MODULE_13__.keymap.of(\n    [\n      // Override the default keymap for Mod-Enter to not insert a new line, we have a custom event handler for executing queries\n      { key: \"Mod-Enter\", run: () => !0 },\n      // Add the default keymap and history keymap\n      _codemirror_commands__WEBPACK_IMPORTED_MODULE_17__.defaultKeymap,\n      _codemirror_commands__WEBPACK_IMPORTED_MODULE_17__.historyKeymap\n    ].flat().filter(Boolean)\n  )\n];\nfunction useCodemirrorTheme(theme) {\n  const cmTheme = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => createTheme(theme), [theme]), cmHighlight = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (0,_codemirror_language__WEBPACK_IMPORTED_MODULE_15__.syntaxHighlighting)(createHighlight(theme)), [theme]);\n  return [cmTheme, cmHighlight];\n}\nfunction createTheme(theme) {\n  const { color, fonts } = theme.sanity, card = color.card.enabled, cursor = _sanity_color__WEBPACK_IMPORTED_MODULE_18__.hues.blue[color.dark ? 400 : 500].hex, selection = _sanity_color__WEBPACK_IMPORTED_MODULE_18__.hues.gray[theme.sanity.color.dark ? 900 : 100].hex;\n  return _codemirror_view__WEBPACK_IMPORTED_MODULE_13__.EditorView.theme(\n    {\n      \"&\": {\n        color: card.fg,\n        backgroundColor: card.bg\n      },\n      \".cm-content\": {\n        caretColor: cursor\n      },\n      \".cm-editor\": {\n        fontFamily: fonts.code.family,\n        fontSize: (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.rem)(fonts.code.sizes[1].fontSize),\n        lineHeight: \"inherit\"\n      },\n      \".cm-cursor, .cm-dropCursor\": { borderLeftColor: cursor },\n      \"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection\": {\n        backgroundColor: selection\n      },\n      \".cm-panels\": { backgroundColor: card.bg, color: card.fg },\n      \".cm-panels.cm-panels-top\": { borderBottom: `2px solid ${card.border}` },\n      \".cm-panels.cm-panels-bottom\": { borderTop: `2px solid ${card.border}` }\n    },\n    { dark: color.dark }\n  );\n}\nfunction createHighlight(theme) {\n  const c = theme.sanity.color.base, s = theme.sanity.color.syntax;\n  return _codemirror_language__WEBPACK_IMPORTED_MODULE_15__.HighlightStyle.define([\n    { tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.keyword, color: s.keyword },\n    { tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.propertyName, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.name, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.deleted, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.character, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.macroName], color: s.property },\n    { tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.function(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.variableName), _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.labelName], color: s.function },\n    { tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.color, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.constant(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.name), _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.standard(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.name)], color: s.variable },\n    { tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.definition(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.name), _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.separator], color: s.constant },\n    {\n      tag: [\n        _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.typeName,\n        _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.className,\n        _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.number,\n        _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.changed,\n        _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.annotation,\n        _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.modifier,\n        _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.self,\n        _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.namespace\n      ],\n      color: s.number\n    },\n    {\n      tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.operator, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.operatorKeyword, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.url, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.escape, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.regexp, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.link, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.special(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.string)],\n      color: s.operator\n    },\n    { tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.meta, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.comment], color: s.comment },\n    { tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.strong, fontWeight: \"bold\" },\n    { tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.emphasis, fontStyle: \"italic\" },\n    { tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.strikethrough, textDecoration: \"line-through\" },\n    { tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.heading, fontWeight: \"bold\", color: s.property },\n    { tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.atom, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.bool, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.special(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.variableName)], color: s.boolean },\n    { tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.processingInstruction, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.string, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.inserted], color: s.string },\n    { tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.invalid, color: c.fg }\n  ]);\n}\nconst EditorRoot = styled_components__WEBPACK_IMPORTED_MODULE_19__.styled.div`\n  width: 100%;\n  box-sizing: border-box;\n  height: 100%;\n  overflow: hidden;\n  overflow: clip;\n  position: relative;\n  display: flex;\n\n  & .cm-theme {\n    width: 100%;\n  }\n\n  & .cm-editor {\n    height: 100%;\n\n    font-size: 16px;\n    line-height: 21px;\n  }\n\n  & .cm-line {\n    padding-left: ${({ theme }) => (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.rem)(theme.sanity.space[3])};\n  }\n\n  & .cm-content {\n    border-right-width: ${({ theme }) => (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.rem)(theme.sanity.space[4])} !important;\n    padding-top: ${({ theme }) => (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.rem)(theme.sanity.space[5])};\n  }\n`;\nfunction VisionCodeMirror(props) {\n  const sanityTheme = (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.useTheme)(), theme = useCodemirrorTheme(sanityTheme);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EditorRoot, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_uiw_react_codemirror__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { basicSetup: !1, theme, extensions: codemirrorExtensions, ...props }) });\n}\nconst PERSPECTIVES = [\"raw\", \"previewDrafts\", \"published\"], DEFAULT_PERSPECTIVE = PERSPECTIVES[0];\nfunction isPerspective(p) {\n  return PERSPECTIVES.includes(p);\n}\nfunction encodeQueryString(query, params = {}, options = {}) {\n  const searchParams = new URLSearchParams();\n  searchParams.set(\"query\", query);\n  for (const [key, value] of Object.entries(params))\n    searchParams.set(`$${key}`, JSON.stringify(value));\n  for (const [key, value] of Object.entries(options))\n    value && searchParams.set(key, `${value}`);\n  return `?${searchParams}`;\n}\nfunction getBlobUrl(content, mimeType) {\n  return URL.createObjectURL(\n    new Blob([content], {\n      type: mimeType\n    })\n  );\n}\nfunction getMemoizedBlobUrlResolver(mimeType, stringEncoder) {\n  return /* @__PURE__ */ (() => {\n    let prevResult = \"\", prevContent = \"\";\n    return (input) => {\n      const content = stringEncoder(input);\n      if (!(typeof content != \"string\" || content === \"\"))\n        return content === prevContent || (prevContent = content, prevResult && URL.revokeObjectURL(prevResult), prevResult = getBlobUrl(content, mimeType)), prevResult;\n    };\n  })();\n}\nconst getJsonBlobUrl = getMemoizedBlobUrlResolver(\n  \"application/json\",\n  (input) => JSON.stringify(input, null, 2)\n), getCsvBlobUrl = getMemoizedBlobUrlResolver(\"text/csv\", (input) => (0,json_2_csv__WEBPACK_IMPORTED_MODULE_5__.json2csv)(Array.isArray(input) ? input : [input]).trim());\nfunction isPlainObject(obj) {\n  return !!obj && typeof obj == \"object\" && Object.prototype.toString.call(obj) === \"[object Object]\";\n}\nconst hasLocalStorage = supportsLocalStorage(), keyPrefix = \"sanityVision:\";\nfunction clearLocalStorage() {\n  if (hasLocalStorage)\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      key != null && key.startsWith(keyPrefix) && localStorage.removeItem(key);\n    }\n}\nfunction getLocalStorage(namespace) {\n  const storageKey = `${keyPrefix}${namespace}`;\n  let loadedState = null;\n  return { get, set, merge };\n  function get(key, defaultVal) {\n    const state = ensureState();\n    return typeof state[key] > \"u\" ? defaultVal : state[key];\n  }\n  function set(key, value) {\n    const state = ensureState();\n    return state[key] = value, localStorage.setItem(storageKey, JSON.stringify(loadedState)), value;\n  }\n  function merge(props) {\n    const state = { ...ensureState(), ...props };\n    return localStorage.setItem(storageKey, JSON.stringify(state)), state;\n  }\n  function ensureState() {\n    return loadedState === null && (loadedState = loadState()), loadedState;\n  }\n  function loadState() {\n    if (!hasLocalStorage)\n      return {};\n    try {\n      const stored = JSON.parse(localStorage.getItem(storageKey) || \"{}\");\n      return isPlainObject(stored) ? stored : {};\n    } catch {\n      return {};\n    }\n  }\n}\nfunction supportsLocalStorage() {\n  const mod = \"lsCheck\";\n  try {\n    return localStorage.setItem(mod, mod), localStorage.removeItem(mod), !0;\n  } catch {\n    return !1;\n  }\n}\nfunction parseApiQueryString(qs) {\n  const params = {}, options = {};\n  for (const [key, value] of qs.entries()) {\n    if (key[0] === \"$\") {\n      params[key.slice(1)] = JSON.parse(value);\n      continue;\n    }\n    if (key === \"perspective\") {\n      options[key] = value;\n      continue;\n    }\n  }\n  return { query: qs.get(\"query\") || \"\", params, options };\n}\nfunction prefixApiVersion(version) {\n  return version[0] !== \"v\" && version !== \"other\" ? `v${version}` : version;\n}\nconst RO = typeof document > \"u\" ? _juggle_resize_observer__WEBPACK_IMPORTED_MODULE_6__.ResizeObserver : window.ResizeObserver;\nfunction tryParseParams(val, t) {\n  try {\n    const parsed = val ? json5__WEBPACK_IMPORTED_MODULE_7__[\"default\"].parse(val) : {};\n    return typeof parsed == \"object\" && parsed && !Array.isArray(parsed) ? parsed : {};\n  } catch (err) {\n    return err.message = `${t(\"params.error.params-invalid-json\")}:\n\n${err.message.replace(\n      \"JSON5:\",\n      \"\"\n    )}`, err;\n  }\n}\nfunction validateApiVersion(apiVersion) {\n  const parseableApiVersion = apiVersion.replace(/^v/, \"\").trim().toUpperCase();\n  return parseableApiVersion.length > 0 && (parseableApiVersion === \"X\" || parseableApiVersion === \"1\" || /^\\d{4}-\\d{2}-\\d{2}$/.test(parseableApiVersion) && !isNaN(Date.parse(parseableApiVersion)));\n}\nconst defaultValue = `{\n  \n}`;\nfunction ParamsEditor(props) {\n  const { onChange } = props, { t } = (0,sanity__WEBPACK_IMPORTED_MODULE_20__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_21__.visionLocaleNamespace), { raw: value, error, parsed, valid } = eventFromValue(props.value, t), [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(valid), [init, setInit] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    init || (onChange({ parsed, raw: value, valid: isValid, error }), setInit(!0));\n  }, [error, init, isValid, onChange, parsed, value]);\n  const handleChangeRaw = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (newValue) => {\n      const event = eventFromValue(newValue, t);\n      setValid(event.valid), onChange(event);\n    },\n    [onChange, t]\n  ), handleChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => lodash_debounce_js__WEBPACK_IMPORTED_MODULE_8__(handleChangeRaw, 333), [handleChangeRaw]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionCodeMirror, { value: props.value || defaultValue, onChange: handleChange });\n}\nfunction eventFromValue(value, t) {\n  const parsedParams = tryParseParams(value, t), params = parsedParams instanceof Error ? {} : parsedParams, validationError = parsedParams instanceof Error ? parsedParams.message : void 0;\n  return {\n    parsed: params,\n    raw: value,\n    valid: !validationError,\n    error: validationError\n  };\n}\nconst PerspectivePopoverContent = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box))`\n  /* This limits the width of the popover content */\n  max-width: 240px;\n`, PerspectivePopoverLink = styled_components__WEBPACK_IMPORTED_MODULE_19__.styled.a`\n  cursor: pointer;\n  margin-right: auto;\n`;\nfunction PerspectivePopover() {\n  const [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1), [buttonEl, setButtonEl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), [popoverEl, setPopoverEl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => setOpen((o) => !o), []), handleClickOutside = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => setOpen(!1), []), { t } = (0,sanity__WEBPACK_IMPORTED_MODULE_20__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_21__.visionLocaleNamespace);\n  return (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.useClickOutside)(handleClickOutside, [buttonEl, popoverEl]), /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Popover,\n    {\n      content: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PerspectivePopoverContent, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Stack, { space: 4, children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Inline, { space: 2, children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Text, { weight: \"medium\", children: t(\"settings.perspectives.title\") }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Badge, { tone: \"primary\", children: t(\"label.new\") })\n        ] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Text, { muted: !0, children: t(\"settings.perspectives.description\") }) }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Text, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(PerspectivePopoverLink, { href: \"https://sanity.io/docs/perspectives\", target: \"_blank\", children: [\n          t(\"settings.perspectives.action.docs-link\"),\n          \" \\u2192\"\n        ] }) }) })\n      ] }) }),\n      placement: \"bottom-start\",\n      portal: !0,\n      padding: 3,\n      ref: setPopoverEl,\n      open,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Button,\n        {\n          icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_22__.HelpCircleIcon,\n          mode: \"bleed\",\n          padding: 2,\n          tone: \"primary\",\n          fontSize: 1,\n          ref: setButtonEl,\n          onClick: handleClick,\n          selected: open\n        }\n      )\n    }\n  );\n}\nconst ErrorCode = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Code))`\n  color: ${({ theme }) => theme.sanity.color.muted.critical.enabled.fg};\n`;\nfunction QueryErrorDetails({ error }) {\n  const { t } = (0,sanity__WEBPACK_IMPORTED_MODULE_20__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_21__.visionLocaleNamespace);\n  if (!(\"details\" in error))\n    return null;\n  const details = { ...error.details, ...mapToLegacyDetails(error.details) };\n  return details.line ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorCode, { size: 1, children: `${details.line}\n${dashLine(\n      details.column,\n      details.columnEnd\n    )}` }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { marginTop: 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorCode, { size: 1, children: `${t(\"query.error.line\")}:   ${details.lineNumber}\n${t(\n      \"query.error.column\"\n    )}: ${details.column}` }) })\n  ] }) : null;\n}\nfunction mapToLegacyDetails(details) {\n  if (!details || typeof details.query != \"string\" || typeof details.start != \"number\")\n    return {};\n  const { query, start, end } = details, lineStart = query.slice(0, start).lastIndexOf(`\n`) + 1, lineNumber = (query.slice(0, lineStart).match(/\\n/g) || []).length, line = query.slice(lineStart, query.indexOf(`\n`, lineStart)), column = start - lineStart, columnEnd = typeof end == \"number\" ? end - lineStart : void 0;\n  return { line, lineNumber, column, columnEnd };\n}\nfunction dashLine(column, columnEnd) {\n  const line = \"-\".repeat(column), hats = \"^\".repeat(columnEnd ? columnEnd - column : 1);\n  return `${line}${hats}`;\n}\nfunction QueryErrorDialog(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Stack, { space: 5, marginTop: 2, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorCode, { size: 1, children: props.error.message }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(QueryErrorDetails, { error: props.error })\n  ] });\n}\nconst ResultViewWrapper = styled_components__WEBPACK_IMPORTED_MODULE_19__.styled.div(({ theme }) => {\n  const { color, fonts, space } = theme.sanity;\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.css)`\n    & .json-inspector,\n    & .json-inspector .json-inspector__selection {\n      font-family: ${fonts.code.family};\n      font-size: ${fonts.code.sizes[2].fontSize}px;\n      line-height: ${fonts.code.sizes[2].lineHeight}px;\n      color: var(--card-code-fg-color);\n    }\n\n    & .json-inspector .json-inspector__leaf {\n      padding-left: ${(0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.rem)(space[4])};\n    }\n\n    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {\n      padding-top: ${(0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.rem)(space[0])};\n      padding-left: 0;\n    }\n\n    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {\n      display: none;\n    }\n\n    & .json-inspector .json-inspector__line {\n      display: block;\n      position: relative;\n      cursor: default;\n    }\n\n    & .json-inspector .json-inspector__line::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: -200px;\n      right: -50px;\n      bottom: 0;\n      z-index: -1;\n      pointer-events: none;\n    }\n\n    & .json-inspector .json-inspector__line:hover::after {\n      background: var(--card-code-bg-color);\n    }\n\n    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {\n      cursor: pointer;\n    }\n\n    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {\n      content: '▸ ';\n      margin-left: calc(0px - ${(0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.rem)(space[4])});\n      font-size: ${fonts.code.sizes[2].fontSize}px;\n      line-height: ${fonts.code.sizes[2].lineHeight}px;\n    }\n\n    &\n      .json-inspector\n      .json-inspector__leaf_expanded.json-inspector__leaf_composite\n      > .json-inspector__line::before {\n      content: '▾ ';\n      font-size: ${fonts.code.sizes[2].fontSize}px;\n      line-height: ${fonts.code.sizes[2].lineHeight}px;\n    }\n\n    & .json-inspector .json-inspector__radio,\n    & .json-inspector .json-inspector__flatpath {\n      display: none;\n    }\n\n    & .json-inspector .json-inspector__value {\n      margin-left: ${(0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.rem)(space[4] / 2)};\n    }\n\n    &\n      .json-inspector\n      > .json-inspector__leaf_root\n      > .json-inspector__line\n      > .json-inspector__key\n      + .json-inspector__value {\n      margin: 0;\n    }\n\n    & .json-inspector .json-inspector__key {\n      color: ${color.syntax.property};\n    }\n\n    & .json-inspector .json-inspector__value_helper,\n    & .json-inspector .json-inspector__value_null {\n      color: ${color.syntax.constant};\n    }\n\n    & .json-inspector .json-inspector__not-found {\n      padding-top: ${(0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.rem)(space[2])};\n    }\n\n    & .json-inspector .json-inspector__value_string {\n      color: ${color.syntax.string};\n      word-break: break-word;\n    }\n\n    & .json-inspector .json-inspector__value_boolean {\n      color: ${color.syntax.boolean};\n    }\n\n    & .json-inspector .json-inspector__value_number {\n      color: ${color.syntax.number};\n    }\n\n    & .json-inspector .json-inspector__show-original {\n      display: inline-block;\n      padding: 0 6px;\n      cursor: pointer;\n    }\n\n    & .json-inspector .json-inspector__show-original:hover {\n      color: inherit;\n    }\n\n    & .json-inspector .json-inspector__show-original::before {\n      content: '↔';\n    }\n\n    & .json-inspector .json-inspector__show-original:hover::after {\n      content: ' expand';\n    }\n  `;\n}), lru = new quick_lru__WEBPACK_IMPORTED_MODULE_10__({ maxSize: 5e4 });\nfunction ResultView(props) {\n  const { data } = props;\n  return isRecord(data) || Array.isArray(data) ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResultViewWrapper, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    _rexxars_react_json_inspector__WEBPACK_IMPORTED_MODULE_9__,\n    {\n      data,\n      search: !1,\n      isExpanded,\n      onClick: toggleExpanded\n    }\n  ) }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Code, { language: \"json\", children: JSON.stringify(data) });\n}\nfunction isExpanded(keyPath, value) {\n  const cached = lru.get(keyPath);\n  if (typeof cached == \"boolean\")\n    return cached;\n  const segments = keyPath.split(\".\", 4);\n  return segments.length === 4 ? !1 : Array.isArray(value) ? !0 : isRecord(value) && !segments.some((key) => isArrayKeyOverLimit(key));\n}\nfunction toggleExpanded(event) {\n  const { path } = event, current = lru.get(path);\n  current !== void 0 && lru.set(path, !current);\n}\nfunction isRecord(value) {\n  return value !== null && typeof value == \"object\" && !Array.isArray(value);\n}\nconst numeric = /^\\d+$/;\nfunction isArrayKeyOverLimit(segment, limit = 10) {\n  return numeric.test(segment) && parseInt(segment, 10) > limit;\n}\nfunction preventSave(evt) {\n  return evt.preventDefault();\n}\nfunction SaveCsvButton({ blobUrl }) {\n  const { t } = (0,sanity__WEBPACK_IMPORTED_MODULE_20__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_21__.visionLocaleNamespace), isDisabled = !blobUrl, button = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Button,\n    {\n      as: \"a\",\n      disabled: isDisabled,\n      download: isDisabled ? void 0 : \"query-result.csv\",\n      href: blobUrl,\n      icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_22__.DocumentSheetIcon,\n      mode: \"ghost\",\n      onClick: isDisabled ? preventSave : void 0,\n      text: \"CSV\",\n      tone: \"default\"\n    }\n  );\n  return isDisabled ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Tooltip, { content: t(\"result.save-result-as-csv.not-csv-encodable\"), placement: \"top\", children: button }) : button;\n}\nfunction SaveJsonButton({ blobUrl }) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Button,\n    {\n      as: \"a\",\n      download: \"query-result.json\",\n      href: blobUrl,\n      icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_22__.DocumentSheetIcon,\n      mode: \"ghost\",\n      text: \"JSON\",\n      tone: \"default\"\n    }\n  );\n}\nconst Root = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Flex))`\n  .sidebarPanes .Pane {\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n\n  & .Resizer {\n    background: var(--card-border-color);\n    opacity: 1;\n    z-index: 1;\n    box-sizing: border-box;\n    background-clip: padding-box;\n    border: solid transparent;\n  }\n\n  & .Resizer:hover {\n    border-color: var(--card-shadow-ambient-color);\n  }\n\n  & .Resizer.horizontal {\n    height: 11px;\n    margin: -5px 0;\n    border-width: 5px 0;\n    cursor: row-resize;\n    width: 100%;\n    z-index: 4;\n  }\n\n  & .Resizer.vertical {\n    width: 11px;\n    margin: 0 -5px;\n    border-width: 0 5px;\n    cursor: col-resize;\n    z-index: 2; /* To prevent the resizer from being hidden behind CodeMirror scroll area */\n  }\n\n  .Resizer.disabled {\n    cursor: not-allowed;\n  }\n\n  .Resizer.disabled:hover {\n    border-color: transparent;\n  }\n`;\nRoot.displayName = \"Root\";\nconst Header = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card))`\n  border-bottom: 1px solid var(--card-border-color);\n`, StyledLabel = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Label))`\n  flex: 1;\n`, SplitpaneContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box))`\n  position: relative;\n`, QueryCopyLink = styled_components__WEBPACK_IMPORTED_MODULE_19__.styled.a`\n  cursor: pointer;\n  margin-right: auto;\n`, InputBackgroundContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box))`\n  position: absolute;\n  top: 1rem;\n  left: 0;\n  padding: 0;\n  margin: 0;\n  z-index: 10;\n  right: 0;\n\n  ${StyledLabel} {\n    user-select: none;\n  }\n`, InputBackgroundContainerLeft = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)(InputBackgroundContainer)`\n  // This is so its aligned with the gutters of CodeMirror\n  left: 33px;\n`, InputContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card))`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  flex-direction: column;\n`, ResultOuterContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Flex))`\n  height: 100%;\n`, ResultInnerContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box))`\n  position: relative;\n`, ResultContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card))`\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  max-width: 100%;\n\n  ${({ $isInvalid }) => $isInvalid && (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.css)`\n      &:after {\n        background-color: var(--card-bg-color);\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n      }\n    `}\n`, Result = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box))`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 20;\n`, ResultFooter = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Flex))`\n  border-top: 1px solid var(--card-border-color);\n`, TimingsCard = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card))`\n  position: relative;\n`;\n(0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box))`\n  width: 100%;\n  height: 100%;\n`;\nconst TimingsTextContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Flex))`\n  height: 100%;\n  min-height: ${({ theme }) => (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.rem)(\n  theme.sanity.space[3] * 2 + theme.sanity.fonts.text.sizes[2].lineHeight - theme.sanity.fonts.text.sizes[2].ascenderHeight - theme.sanity.fonts.text.sizes[2].descenderHeight\n)};\n`, DownloadsCard = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card))`\n  position: relative;\n`, SaveResultLabel = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Text))`\n  transform: initial;\n  &:before,\n  &:after {\n    content: none;\n  }\n  > span {\n    display: flex !important;\n    gap: ${({ theme }) => (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.rem)(theme.sanity.space[3])};\n    align-items: center;\n  }\n`, ControlsContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_19__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box))`\n  border-top: 1px solid var(--card-border-color);\n`;\nvar __defProp$1 = Object.defineProperty, __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField$1 = (obj, key, value) => __defNormalProp$1(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nfunction nodeContains(node, other) {\n  return !node || !other ? !1 : node === other || !!(node.compareDocumentPosition(other) & 16);\n}\nconst sanityUrl = /\\.(?:api|apicdn)\\.sanity\\.io\\/(vX|v1|v\\d{4}-\\d\\d-\\d\\d)\\/.*?(?:query|listen)\\/(.*?)\\?(.*)/, isRunHotkey = (event) => (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"ctrl+enter\", event) || (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_23__.isHotkey)(\"mod+enter\", event);\nfunction narrowBreakpoint() {\n  return typeof window < \"u\" && window.innerWidth > 600;\n}\nfunction calculatePaneSizeOptions(rootHeight) {\n  return {\n    defaultSize: rootHeight / (narrowBreakpoint() ? 2 : 1),\n    size: rootHeight > 550 ? void 0 : rootHeight * 0.4,\n    allowResize: rootHeight > 550,\n    minSize: Math.min(170, Math.max(170, rootHeight / 2)),\n    maxSize: rootHeight > 650 ? rootHeight * 0.7 : rootHeight * 0.6\n  };\n}\nclass VisionGui extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {\n  constructor(props) {\n    super(props), __publicField$1(this, \"_visionRoot\"), __publicField$1(this, \"_queryEditorContainer\"), __publicField$1(this, \"_paramsEditorContainer\"), __publicField$1(this, \"_operationUrlElement\"), __publicField$1(this, \"_customApiVersionElement\"), __publicField$1(this, \"_resizeListener\"), __publicField$1(this, \"_querySubscription\"), __publicField$1(this, \"_listenSubscription\"), __publicField$1(this, \"_client\"), __publicField$1(this, \"_localStorage\");\n    const { client, datasets, config } = props;\n    this._localStorage = getLocalStorage(client.config().projectId || \"default\");\n    const defaultDataset = config.defaultDataset || client.config().dataset || datasets[0], defaultApiVersion = prefixApiVersion(`${config.defaultApiVersion}`), defaultPerspective = DEFAULT_PERSPECTIVE;\n    let dataset = this._localStorage.get(\"dataset\", defaultDataset), apiVersion = this._localStorage.get(\"apiVersion\", defaultApiVersion), lastQuery = this._localStorage.get(\"query\", \"\"), lastParams = this._localStorage.get(\"params\", `{\n  \n}`);\n    const customApiVersion = API_VERSIONS.includes(apiVersion) ? !1 : apiVersion;\n    let perspective = this._localStorage.get(\"perspective\", defaultPerspective);\n    datasets.includes(dataset) || (dataset = datasets.includes(defaultDataset) ? defaultDataset : datasets[0]), API_VERSIONS.includes(apiVersion) || (apiVersion = DEFAULT_API_VERSION), PERSPECTIVES.includes(perspective) || (perspective = DEFAULT_PERSPECTIVE), typeof lastQuery != \"string\" && (lastQuery = \"\"), typeof lastParams != \"string\" && (lastParams = `{\n  \n}`), this._visionRoot = (0,react__WEBPACK_IMPORTED_MODULE_1__.createRef)(), this._operationUrlElement = (0,react__WEBPACK_IMPORTED_MODULE_1__.createRef)(), this._queryEditorContainer = (0,react__WEBPACK_IMPORTED_MODULE_1__.createRef)(), this._paramsEditorContainer = (0,react__WEBPACK_IMPORTED_MODULE_1__.createRef)(), this._customApiVersionElement = (0,react__WEBPACK_IMPORTED_MODULE_1__.createRef)(), this._client = props.client.withConfig({\n      apiVersion: customApiVersion || apiVersion,\n      dataset,\n      perspective,\n      allowReconfigure: !0\n    });\n    const bodyHeight = typeof window < \"u\" && typeof document < \"u\" ? document.body.getBoundingClientRect().height - 60 : 0, params = lastParams ? tryParseParams(lastParams, this.props.t) : void 0;\n    this.state = {\n      // Selected options\n      dataset,\n      apiVersion,\n      customApiVersion,\n      perspective,\n      // Selected options validation state\n      isValidApiVersion: customApiVersion ? validateApiVersion(customApiVersion) : !1,\n      // Inputs\n      query: lastQuery,\n      rawParams: lastParams,\n      // Parsed input\n      params,\n      hasValidParams: !(params instanceof Error),\n      // Query/listen results\n      listenMutations: [],\n      // Operation state\n      queryInProgress: !1,\n      listenInProgress: !1,\n      // UI drawing state\n      paneSizeOptions: calculatePaneSizeOptions(bodyHeight)\n    }, this.handleChangeDataset = this.handleChangeDataset.bind(this), this.handleChangeApiVersion = this.handleChangeApiVersion.bind(this), this.handleCustomApiVersionChange = this.handleCustomApiVersionChange.bind(this), this.handleChangePerspective = this.handleChangePerspective.bind(this), this.handleListenExecution = this.handleListenExecution.bind(this), this.handleListenerEvent = this.handleListenerEvent.bind(this), this.handleQueryExecution = this.handleQueryExecution.bind(this), this.handleQueryChange = this.handleQueryChange.bind(this), this.handleParamsChange = this.handleParamsChange.bind(this), this.handleCopyUrl = this.handleCopyUrl.bind(this), this.handlePaste = this.handlePaste.bind(this), this.handleKeyDown = this.handleKeyDown.bind(this), this.handleResize = this.handleResize.bind(this);\n  }\n  componentDidMount() {\n    window.document.addEventListener(\"paste\", this.handlePaste), window.document.addEventListener(\"keydown\", this.handleKeyDown), this.handleResizeListen();\n  }\n  componentWillUnmount() {\n    this.cancelQuery(), this.cancelListener(), this.cancelEventListener(), this.cancelResizeListener();\n  }\n  handleResizeListen() {\n    this._visionRoot.current && (this._resizeListener = new RO(this.handleResize), this._resizeListener.observe(this._visionRoot.current));\n  }\n  handleResize(entries) {\n    const entry = entries == null ? void 0 : entries[0];\n    this.setState((prevState) => ({\n      ...prevState,\n      paneSizeOptions: calculatePaneSizeOptions(entry.contentRect.height)\n    }));\n  }\n  cancelResizeListener() {\n    this._resizeListener && this._resizeListener.disconnect();\n  }\n  handlePaste(evt) {\n    if (!evt.clipboardData)\n      return;\n    const match = evt.clipboardData.getData(\"text/plain\").match(sanityUrl);\n    if (!match)\n      return;\n    const [, usedApiVersion, usedDataset, urlQuery] = match;\n    let parts;\n    try {\n      const qs = new URLSearchParams(urlQuery);\n      parts = parseApiQueryString(qs);\n    } catch (err) {\n      console.warn(\"Error while trying to parse API URL: \", err.message);\n      return;\n    }\n    let apiVersion, customApiVersion;\n    validateApiVersion(usedApiVersion) && (API_VERSIONS.includes(usedApiVersion) ? (apiVersion = usedApiVersion, customApiVersion = !1) : customApiVersion = usedApiVersion);\n    const perspective = PERSPECTIVES.includes(parts.options.perspective) ? parts.options.perspective : void 0;\n    evt.preventDefault(), this.setState(\n      (prevState) => ({\n        dataset: this.props.datasets.includes(usedDataset) ? usedDataset : prevState.dataset,\n        query: parts.query,\n        params: parts.params,\n        rawParams: JSON.stringify(parts.params, null, 2),\n        apiVersion: typeof apiVersion > \"u\" ? prevState.apiVersion : apiVersion,\n        customApiVersion: typeof customApiVersion > \"u\" ? prevState.customApiVersion : customApiVersion,\n        perspective: typeof perspective > \"u\" ? prevState.perspective : perspective\n      }),\n      () => {\n        this._localStorage.merge({\n          query: this.state.query,\n          params: this.state.rawParams,\n          dataset: this.state.dataset,\n          apiVersion: customApiVersion || apiVersion,\n          perspective: this.state.perspective\n        }), this._client.config({\n          dataset: this.state.dataset,\n          apiVersion: customApiVersion || apiVersion,\n          perspective: this.state.perspective\n        }), this.handleQueryExecution(), this.props.toast.push({\n          closable: !0,\n          id: \"vision-paste\",\n          status: \"info\",\n          title: \"Parsed URL to query\"\n        });\n      }\n    );\n  }\n  cancelQuery() {\n    this._querySubscription && (this._querySubscription.unsubscribe(), this._querySubscription = void 0);\n  }\n  cancelListener() {\n    this._listenSubscription && (this._listenSubscription.unsubscribe(), this._listenSubscription = void 0);\n  }\n  cancelEventListener() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleChangeDataset(evt) {\n    const dataset = evt.target.value;\n    this._localStorage.set(\"dataset\", dataset), this.setState({ dataset }), this._client.config({ dataset }), this.handleQueryExecution();\n  }\n  handleChangeApiVersion(evt) {\n    const apiVersion = evt.target.value;\n    if ((apiVersion == null ? void 0 : apiVersion.toLowerCase()) === \"other\") {\n      this.setState({ customApiVersion: \"v\" }, () => {\n        var _a;\n        (_a = this._customApiVersionElement.current) == null || _a.focus();\n      });\n      return;\n    }\n    this.setState({ apiVersion, customApiVersion: !1 }, () => {\n      this._localStorage.set(\"apiVersion\", this.state.apiVersion), this._client.config({\n        apiVersion: this.state.apiVersion\n      }), this.handleQueryExecution();\n    });\n  }\n  handleCustomApiVersionChange(evt) {\n    const customApiVersion = evt.target.value || \"\", isValidApiVersion = validateApiVersion(customApiVersion);\n    this.setState(\n      (prevState) => ({\n        apiVersion: isValidApiVersion ? customApiVersion : prevState.apiVersion,\n        customApiVersion: customApiVersion || \"v\",\n        isValidApiVersion\n      }),\n      () => {\n        !this.state.isValidApiVersion || typeof this.state.customApiVersion != \"string\" || (this._localStorage.set(\"apiVersion\", this.state.customApiVersion), this._client.config({ apiVersion: this.state.customApiVersion }));\n      }\n    );\n  }\n  handleChangePerspective(evt) {\n    const perspective = evt.target.value;\n    isPerspective(perspective) && this.setState({ perspective }, () => {\n      this._localStorage.set(\"perspective\", this.state.perspective), this._client.config({\n        perspective: this.state.perspective\n      }), this.handleQueryExecution();\n    });\n  }\n  handleListenerEvent(evt) {\n    if (evt.type !== \"mutation\") {\n      this.props.toast.push({\n        closable: !0,\n        id: \"vision-listen\",\n        status: \"success\",\n        title: \"Listening for mutations\\u2026\"\n      });\n      return;\n    }\n    this.setState(({ listenMutations }) => ({\n      listenMutations: listenMutations.length === 50 ? [evt, ...listenMutations.slice(0, 49)] : [evt, ...listenMutations]\n    }));\n  }\n  handleKeyDown(event) {\n    const { hasValidParams } = this.state, isWithinRoot = this._visionRoot.current && nodeContains(this._visionRoot.current, event.target);\n    isRunHotkey(event) && isWithinRoot && hasValidParams && (this.handleQueryExecution(), event.preventDefault(), event.stopPropagation());\n  }\n  ensureSelectedApiVersion() {\n    const { apiVersion, customApiVersion } = this.state, wantedApiVersion = customApiVersion || apiVersion;\n    this._client.config().apiVersion !== wantedApiVersion && this._client.config({ apiVersion: wantedApiVersion });\n  }\n  handleListenExecution() {\n    const { query, params, rawParams, listenInProgress } = this.state;\n    if (listenInProgress) {\n      this.cancelListener(), this.setState({ listenInProgress: !1 });\n      return;\n    }\n    this.ensureSelectedApiVersion();\n    const paramsError = params instanceof Error ? params : void 0, encodeParams = params instanceof Error ? {} : params || {}, url = this._client.getDataUrl(\"listen\", encodeQueryString(query, encodeParams, {})), shouldExecute = !paramsError && query.trim().length > 0;\n    this._localStorage.set(\"query\", query), this._localStorage.set(\"params\", rawParams), this.cancelQuery(), this.setState({\n      url,\n      listenMutations: [],\n      queryInProgress: !1,\n      queryResult: void 0,\n      listenInProgress: shouldExecute,\n      error: paramsError,\n      queryTime: void 0,\n      e2eTime: void 0\n    }), shouldExecute && (this._listenSubscription = this._client.listen(query, params, { events: [\"mutation\", \"welcome\"] }).subscribe({\n      next: this.handleListenerEvent,\n      error: (error) => this.setState({\n        error,\n        query,\n        listenInProgress: !1\n      })\n    }));\n  }\n  handleQueryExecution() {\n    const { query, params, rawParams, queryInProgress } = this.state;\n    if (queryInProgress)\n      return this.cancelQuery(), this.cancelListener(), this.setState({ queryInProgress: !1 }), !0;\n    const paramsError = params instanceof Error && params;\n    if (this._localStorage.set(\"query\", query), this._localStorage.set(\"params\", rawParams), this.cancelListener(), this.setState({\n      queryInProgress: !paramsError && !!query,\n      listenInProgress: !1,\n      listenMutations: [],\n      error: paramsError || void 0,\n      queryResult: void 0,\n      queryTime: void 0,\n      e2eTime: void 0\n    }), !query || paramsError)\n      return !0;\n    this.ensureSelectedApiVersion();\n    const urlQueryOpts = {};\n    this.state.perspective !== \"raw\" && (urlQueryOpts.perspective = this.state.perspective);\n    const url = this._client.getUrl(\n      this._client.getDataUrl(\"query\", encodeQueryString(query, params, urlQueryOpts))\n    );\n    this.setState({ url });\n    const queryStart = Date.now();\n    return this._querySubscription = this._client.observable.fetch(query, params, { filterResponse: !1, tag: \"vision\" }).subscribe({\n      next: (res) => this.setState({\n        queryTime: res.ms,\n        e2eTime: Date.now() - queryStart,\n        queryResult: res.result,\n        queryInProgress: !1,\n        error: void 0\n      }),\n      error: (error) => this.setState({\n        error,\n        query,\n        queryInProgress: !1\n      })\n    }), !0;\n  }\n  handleQueryChange(query) {\n    this.setState({ query });\n  }\n  handleParamsChange({ raw, parsed, valid, error }) {\n    this.setState(\n      {\n        rawParams: raw,\n        params: parsed,\n        hasValidParams: valid,\n        paramsError: error\n      },\n      () => this._localStorage.set(\"params\", raw)\n    );\n  }\n  handleCopyUrl() {\n    const el = this._operationUrlElement.current;\n    if (el)\n      try {\n        el.select(), document.execCommand(\"copy\"), this.props.toast.push({\n          closable: !0,\n          title: \"Copied to clipboard\",\n          status: \"info\",\n          id: \"vision-copy\"\n        });\n      } catch {\n        console.error(\"Unable to copy to clipboard :(\");\n      }\n  }\n  render() {\n    const { datasets, t } = this.props, {\n      apiVersion,\n      customApiVersion,\n      dataset,\n      e2eTime,\n      error,\n      hasValidParams,\n      isValidApiVersion,\n      listenInProgress,\n      listenMutations,\n      paneSizeOptions,\n      paramsError,\n      perspective,\n      query,\n      queryInProgress,\n      queryResult,\n      queryTime,\n      rawParams,\n      url\n    } = this.state, hasResult = !error && !queryInProgress && typeof queryResult < \"u\", jsonUrl = hasResult ? getJsonBlobUrl(queryResult) : \"\", csvUrl = hasResult ? getCsvBlobUrl(queryResult) : \"\";\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n      Root,\n      {\n        direction: \"column\",\n        height: \"fill\",\n        ref: this._visionRoot,\n        sizing: \"border\",\n        overflow: \"hidden\",\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Header, { paddingX: 3, paddingY: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Grid, { columns: [1, 4, 8, 12], children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { padding: 1, column: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Stack, { children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { paddingTop: 2, paddingBottom: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { children: t(\"settings.dataset-label\") }) }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Select, { value: dataset, onChange: this.handleChangeDataset, children: datasets.map((ds) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", { children: ds }, ds)) })\n            ] }) }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { padding: 1, column: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Stack, { children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { paddingTop: 2, paddingBottom: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { children: t(\"settings.api-version-label\") }) }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n                _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Select,\n                {\n                  value: customApiVersion === !1 ? apiVersion : \"other\",\n                  onChange: this.handleChangeApiVersion,\n                  children: [\n                    API_VERSIONS.map((version) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", { children: version }, version)),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", { value: \"other\", children: t(\"settings.other-api-version-label\") }, \"other\")\n                  ]\n                }\n              )\n            ] }) }),\n            customApiVersion !== !1 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { padding: 1, column: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Stack, { children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { paddingTop: 2, paddingBottom: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { textOverflow: \"ellipsis\", children: t(\"settings.custom-api-version-label\") }) }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n                _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.TextInput,\n                {\n                  ref: this._customApiVersionElement,\n                  value: customApiVersion,\n                  onChange: this.handleCustomApiVersionChange,\n                  customValidity: isValidApiVersion ? void 0 : t(\"settings.error.invalid-api-version\"),\n                  maxLength: 11\n                }\n              )\n            ] }) }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { padding: 1, column: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Stack, { children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { paddingBottom: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Inline, { space: 1, children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { children: t(\"settings.perspective-label\") }) }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PerspectivePopover, {}) })\n              ] }) }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Select, { value: perspective, onChange: this.handleChangePerspective, children: PERSPECTIVES.map((p) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", { children: p }, p)) })\n            ] }) }),\n            typeof url == \"string\" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { padding: 1, flex: 1, column: customApiVersion === !1 ? 6 : 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Stack, { children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { paddingTop: 2, paddingBottom: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(StyledLabel, { children: [\n                t(\"query.url\"),\n                \"\\xA0\",\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(QueryCopyLink, { onClick: this.handleCopyUrl, children: [\n                  \"[\",\n                  t(\"action.copy-url-to-clipboard\"),\n                  \"]\"\n                ] })\n              ] }) }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Flex, { flex: 1, gap: 1, children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.TextInput, { readOnly: !0, type: \"url\", ref: this._operationUrlElement, value: url }) }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Tooltip, { content: t(\"action.copy-url-to-clipboard\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n                  _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Button,\n                  {\n                    \"aria-label\": t(\"action.copy-url-to-clipboard\"),\n                    type: \"button\",\n                    mode: \"ghost\",\n                    icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_22__.CopyIcon,\n                    onClick: this.handleCopyUrl\n                  }\n                ) })\n              ] })\n            ] }) }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { flex: 1 })\n          ] }) }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SplitpaneContainer, { flex: \"auto\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n            _rexxars_react_split_pane__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n            {\n              split: narrowBreakpoint() ? \"vertical\" : \"horizontal\",\n              minSize: 280,\n              defaultSize: 400,\n              maxSize: -400,\n              children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { height: \"stretch\", flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n                  _rexxars_react_split_pane__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n                  {\n                    className: \"sidebarPanes\",\n                    split: \"horizontal\",\n                    defaultSize: narrowBreakpoint() ? paneSizeOptions.defaultSize : paneSizeOptions.minSize,\n                    size: paneSizeOptions.size,\n                    allowResize: paneSizeOptions.allowResize,\n                    minSize: narrowBreakpoint() ? paneSizeOptions.minSize : 100,\n                    maxSize: paneSizeOptions.maxSize,\n                    primary: \"first\",\n                    children: [\n                      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InputContainer, { display: \"flex\", ref: this._queryEditorContainer, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { flex: 1, children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InputBackgroundContainerLeft, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Flex, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { muted: !0, children: t(\"query.label\") }) }) }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionCodeMirror, { value: query, onChange: this.handleQueryChange })\n                      ] }) }),\n                      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(InputContainer, { display: \"flex\", ref: this._paramsEditorContainer, children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { flex: 1, tone: hasValidParams ? \"default\" : \"critical\", children: [\n                          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InputBackgroundContainerLeft, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Flex, { children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { muted: !0, children: t(\"params.label\") }),\n                            paramsError && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Tooltip, { placement: \"top-end\", portal: !0, content: paramsError, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { padding: 1, marginX: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Text, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_22__.ErrorOutlineIcon, {}) }) }) })\n                          ] }) }),\n                          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ParamsEditor, { value: rawParams, onChange: this.handleParamsChange })\n                        ] }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ControlsContainer, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { padding: 3, paddingX: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n                          _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Tooltip,\n                          {\n                            content: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { radius: 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Text, { size: 1, muted: !0, children: t(\"params.error.params-invalid-json\") }) }),\n                            placement: \"top\",\n                            disabled: hasValidParams,\n                            portal: !0,\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Flex, { justify: \"space-evenly\", children: [\n                              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n                                _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Tooltip,\n                                {\n                                  content: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { radius: 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Hotkeys, { keys: [\"Ctrl\", \"Enter\"] }) }),\n                                  placement: \"top\",\n                                  portal: !0,\n                                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n                                    _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Button,\n                                    {\n                                      width: \"fill\",\n                                      onClick: this.handleQueryExecution,\n                                      type: \"button\",\n                                      icon: queryInProgress ? _sanity_icons__WEBPACK_IMPORTED_MODULE_22__.StopIcon : _sanity_icons__WEBPACK_IMPORTED_MODULE_22__.PlayIcon,\n                                      disabled: listenInProgress || !hasValidParams,\n                                      tone: queryInProgress ? \"positive\" : \"primary\",\n                                      text: t(queryInProgress ? \"action.query-cancel\" : \"action.query-execute\")\n                                    }\n                                  )\n                                }\n                              ) }),\n                              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { flex: 1, marginLeft: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n                                _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Button,\n                                {\n                                  width: \"fill\",\n                                  onClick: this.handleListenExecution,\n                                  type: \"button\",\n                                  icon: listenInProgress ? _sanity_icons__WEBPACK_IMPORTED_MODULE_22__.StopIcon : _sanity_icons__WEBPACK_IMPORTED_MODULE_22__.PlayIcon,\n                                  text: t(listenInProgress ? \"action.listen-cancel\" : \"action.listen-execute\"),\n                                  mode: \"ghost\",\n                                  disabled: !hasValidParams,\n                                  tone: listenInProgress ? \"positive\" : \"default\"\n                                }\n                              ) })\n                            ] })\n                          }\n                        ) }) })\n                      ] })\n                    ]\n                  }\n                ) }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ResultOuterContainer, { direction: \"column\", children: [\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResultInnerContainer, { flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n                    ResultContainer,\n                    {\n                      flex: 1,\n                      overflow: \"hidden\",\n                      tone: error ? \"critical\" : \"default\",\n                      $isInvalid: !!error,\n                      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Result, { overflow: \"auto\", children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InputBackgroundContainer, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { marginLeft: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { muted: !0, children: t(\"result.label\") }) }) }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { padding: 3, paddingTop: 5, children: [\n                          (queryInProgress || listenInProgress && listenMutations.length === 0) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { marginTop: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DelayedSpinner, {}) }),\n                          error && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(QueryErrorDialog, { error }),\n                          hasResult && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResultView, { data: queryResult }),\n                          listenInProgress && listenMutations.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResultView, { data: listenMutations })\n                        ] })\n                      ] })\n                    }\n                  ) }),\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ResultFooter, { justify: \"space-between\", direction: [\"column\", \"column\", \"row\"], children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TimingsCard, { paddingX: 4, paddingY: 3, sizing: \"border\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(TimingsTextContainer, { align: \"center\", children: [\n                      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Text, { muted: !0, children: [\n                        t(\"result.execution-time-label\"),\n                        \":\",\n                        \" \",\n                        typeof queryTime == \"number\" ? `${queryTime}ms` : t(\"result.timing-not-applicable\")\n                      ] }) }),\n                      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Box, { marginLeft: 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Text, { muted: !0, children: [\n                        t(\"result.end-to-end-time-label\"),\n                        \":\",\n                        \" \",\n                        typeof e2eTime == \"number\" ? `${e2eTime}ms` : t(\"result.timing-not-applicable\")\n                      ] }) })\n                    ] }) }),\n                    hasResult && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DownloadsCard, { paddingX: 4, paddingY: 3, sizing: \"border\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SaveResultLabel, { muted: !0, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n                      sanity__WEBPACK_IMPORTED_MODULE_20__.Translate,\n                      {\n                        components: {\n                          SaveResultButtons: () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SaveJsonButton, { blobUrl: jsonUrl }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SaveCsvButton, { blobUrl: csvUrl })\n                          ] })\n                        },\n                        i18nKey: \"result.save-result-as-format\",\n                        t\n                      }\n                    ) }) })\n                  ] })\n                ] })\n              ]\n            }\n          ) })\n        ]\n      }\n    );\n  }\n}\nfunction useDatasets(client) {\n  const projectId = client.config().projectId, [datasets, setDatasets] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const datasets$ = client.observable.datasets.list().subscribe({\n      next: (result) => setDatasets(result.map((ds) => ds.name)),\n      error: (err) => setDatasets(err)\n    });\n    return () => datasets$.unsubscribe();\n  }, [client, projectId]), datasets || void 0;\n}\nfunction VisionContainer(props) {\n  const toast = (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.useToast)(), loadedDatasets = useDatasets(props.client), { t } = (0,sanity__WEBPACK_IMPORTED_MODULE_20__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_21__.visionLocaleNamespace);\n  if (!loadedDatasets)\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Flex, { align: \"center\", height: \"fill\", justify: \"center\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DelayedSpinner, {}) });\n  const datasets = loadedDatasets instanceof Error ? (\n    // On error, use the clients configured dataset\n    [props.client.config().dataset || \"production\"]\n  ) : (\n    // Otherwise use the loaded list, obviously\n    loadedDatasets\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionGui, { ...props, datasets, toast, t });\n}\nvar __defProp = Object.defineProperty, __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: !0, configurable: !0, writable: !0, value }) : obj[key] = value, __publicField = (obj, key, value) => __defNormalProp(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass VisionErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_1__.Component {\n  constructor(props) {\n    super(props), __publicField(this, \"handleRetryRender\", () => this.setState((prev) => ({ error: null, numRetries: prev.numRetries + 1 }))), __publicField(this, \"handleRetryWithCacheClear\", () => {\n      clearLocalStorage(), this.handleRetryRender();\n    }), this.state = { error: null, numRetries: 0 };\n  }\n  static getDerivedStateFromError(error) {\n    return { error: error instanceof Error ? error.message : `${error}` };\n  }\n  render() {\n    if (!this.state.error)\n      return this.props.children;\n    const message = this.state.error, withCacheClear = this.state.numRetries > 0;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card,\n      {\n        height: \"fill\",\n        overflow: \"auto\",\n        paddingY: [4, 5, 6, 7],\n        paddingX: 4,\n        sizing: \"border\",\n        tone: \"critical\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Container, { width: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Stack, { space: 4, children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n            _sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Button,\n            {\n              onClick: withCacheClear ? this.handleRetryWithCacheClear : this.handleRetryRender,\n              text: withCacheClear ? \"Clear cache and retry\" : \"Retry\",\n              tone: \"default\"\n            }\n          ) }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Heading, { children: \"An error occured\" }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Card, { border: !0, radius: 2, overflow: \"auto\", padding: 4, tone: \"inherit\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Stack, { space: 4, children: message && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_11__.Code, { size: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"strong\", { children: [\n            \"Error: \",\n            message\n          ] }) }) }) })\n        ] }) })\n      }\n    );\n  }\n}\nfunction SanityVision(props) {\n  const client = (0,sanity__WEBPACK_IMPORTED_MODULE_20__.useClient)({ apiVersion: \"1\" }), config = {\n    defaultApiVersion: DEFAULT_API_VERSION,\n    ...props.tool.options\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionContainer, { client, config }) });\n}\n\n//# sourceMappingURL=SanityVision.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS92aXNpb24vbGliL19jaHVua3MtZXMvU2FuaXR5VmlzaW9uLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdEO0FBQ007QUFDMko7QUFDbEg7QUFDckQ7QUFDZ0U7QUFDekU7QUFDTTtBQUNVO0FBQ29CO0FBQ1o7QUFDZ0U7QUFDbEU7QUFDMEY7QUFDakg7QUFDSDtBQUNXO0FBQ1Y7QUFDbUI7QUFDL0I7QUFDZ0I7QUFDVTtBQUNNO0FBQzlCO0FBQzVCO0FBQ0E7QUFDQSwwQkFBMEIsK0NBQVE7QUFDbEMsU0FBUyxnREFBUztBQUNsQjtBQUNBO0FBQ0EsR0FBRyx5Q0FBeUMsc0RBQUcsQ0FBQyxnREFBTyxJQUFJLG9CQUFvQjtBQUMvRTtBQUNBO0FBQ0EsR0FBRyw0RUFBa0I7QUFDckIsRUFBRSw4REFBVztBQUNiLEVBQUUsc0VBQW1CO0FBQ3JCLEVBQUUsNEVBQXlCO0FBQzNCLEVBQUUsOEVBQXlCO0FBQzNCLEVBQUUsd0VBQXFCO0FBQ3ZCLEVBQUUsb0VBQWE7QUFDZixFQUFFLHNFQUFlO0FBQ2pCLEVBQUUsd0VBQWE7QUFDZixFQUFFLDhEQUFPO0FBQ1QsRUFBRSxnRUFBYTtBQUNmLEVBQUUseUVBQWtCLENBQUMsd0VBQXFCLElBQUksY0FBYztBQUM1RCxFQUFFLHFEQUFNO0FBQ1I7QUFDQTtBQUNBLFFBQVEsaUNBQWlDO0FBQ3pDO0FBQ0EsTUFBTSxnRUFBYTtBQUNuQixNQUFNLGdFQUFhO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDhDQUFPLG1EQUFtRCw4Q0FBTyxPQUFPLHlFQUFrQjtBQUM1RztBQUNBO0FBQ0E7QUFDQSxVQUFVLGVBQWUsb0RBQW9ELGdEQUFJLCtDQUErQyxnREFBSTtBQUNwSSxTQUFTLHlEQUFVO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLGtCQUFrQixn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RztBQUNwRSxZQUFZLCtDQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsMEJBQTBCLHNEQUFHLENBQUMsZ0RBQU8sSUFBSSw4QkFBOEI7QUFDdkUsMEJBQTBCLHNEQUFHLENBQUMsNkNBQUksSUFBSSxnR0FBZ0csc0RBQUcsQ0FBQyw4Q0FBSyxJQUFJLCtDQUErQyxzREFBRyxDQUFDLDZDQUFJLElBQUksbUNBQW1DLHVEQUFJLGFBQWE7QUFDbFE7QUFDQTtBQUNBLGFBQWEsR0FBRyxHQUFHLEdBQUc7QUFDdEIsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrREFBUyxHQUFHLGlCQUFpQjtBQUM5QztBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQUcsd0JBQXdCLDBCQUEwQixzREFBRyxvQkFBb0IsZ0JBQWdCLEdBQUc7QUFDeEg7QUFHRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWwtbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L3Zpc2lvbi9saWIvX2NodW5rcy1lcy9TYW5pdHlWaXNpb24ubWpzPzQ2YWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4LCBqc3hzLCBGcmFnbWVudCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24sIFRyYW5zbGF0ZSwgdXNlQ2xpZW50IH0gZnJvbSBcInNhbml0eVwiO1xuaW1wb3J0IHsgU3Bpbm5lciwgcmVtLCB1c2VUaGVtZSwgQm94LCB1c2VDbGlja091dHNpZGUsIFBvcG92ZXIsIFN0YWNrLCBJbmxpbmUsIFRleHQsIEJhZGdlLCBDYXJkLCBCdXR0b24sIENvZGUsIFRvb2x0aXAsIEZsZXgsIExhYmVsLCBHcmlkLCBTZWxlY3QsIFRleHRJbnB1dCwgSG90a2V5cywgdXNlVG9hc3QsIENvbnRhaW5lciwgSGVhZGluZyB9IGZyb20gXCJAc2FuaXR5L3VpXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VDYWxsYmFjaywgUHVyZUNvbXBvbmVudCwgY3JlYXRlUmVmLCBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBTcGxpdFBhbmUgZnJvbSBcIkByZXh4YXJzL3JlYWN0LXNwbGl0LXBhbmVcIjtcbmltcG9ydCB7IEhlbHBDaXJjbGVJY29uLCBEb2N1bWVudFNoZWV0SWNvbiwgQ29weUljb24sIEVycm9yT3V0bGluZUljb24sIFN0b3BJY29uLCBQbGF5SWNvbiB9IGZyb20gXCJAc2FuaXR5L2ljb25zXCI7XG5pbXBvcnQgeyBpc0hvdGtleSB9IGZyb20gXCJpcy1ob3RrZXktZXNtXCI7XG5pbXBvcnQgQ29kZU1pcnJvciBmcm9tIFwiQHVpdy9yZWFjdC1jb2RlbWlycm9yXCI7XG5pbXBvcnQgeyBjbG9zZUJyYWNrZXRzIH0gZnJvbSBcIkBjb2RlbWlycm9yL2F1dG9jb21wbGV0ZVwiO1xuaW1wb3J0IHsgaGlzdG9yeSwgZGVmYXVsdEtleW1hcCwgaGlzdG9yeUtleW1hcCB9IGZyb20gXCJAY29kZW1pcnJvci9jb21tYW5kc1wiO1xuaW1wb3J0IHsgamF2YXNjcmlwdExhbmd1YWdlIH0gZnJvbSBcIkBjb2RlbWlycm9yL2xhbmctamF2YXNjcmlwdFwiO1xuaW1wb3J0IHsgaW5kZW50T25JbnB1dCwgYnJhY2tldE1hdGNoaW5nLCBzeW50YXhIaWdobGlnaHRpbmcsIGRlZmF1bHRIaWdobGlnaHRTdHlsZSwgSGlnaGxpZ2h0U3R5bGUgfSBmcm9tIFwiQGNvZGVtaXJyb3IvbGFuZ3VhZ2VcIjtcbmltcG9ydCB7IGhpZ2hsaWdodFNlbGVjdGlvbk1hdGNoZXMgfSBmcm9tIFwiQGNvZGVtaXJyb3Ivc2VhcmNoXCI7XG5pbXBvcnQgeyBsaW5lTnVtYmVycywgaGlnaGxpZ2h0QWN0aXZlTGluZSwgaGlnaGxpZ2h0QWN0aXZlTGluZUd1dHRlciwgaGlnaGxpZ2h0U3BlY2lhbENoYXJzLCBkcmF3U2VsZWN0aW9uLCBrZXltYXAsIEVkaXRvclZpZXcgfSBmcm9tIFwiQGNvZGVtaXJyb3Ivdmlld1wiO1xuaW1wb3J0IHsgdGFncyB9IGZyb20gXCJAbGV6ZXIvaGlnaGxpZ2h0XCI7XG5pbXBvcnQgeyBodWVzIH0gZnJvbSBcIkBzYW5pdHkvY29sb3JcIjtcbmltcG9ydCB7IHN0eWxlZCwgY3NzIH0gZnJvbSBcInN0eWxlZC1jb21wb25lbnRzXCI7XG5pbXBvcnQgeyBqc29uMmNzdiB9IGZyb20gXCJqc29uLTItY3N2XCI7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlciB9IGZyb20gXCJAanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlclwiO1xuaW1wb3J0IEpTT041IGZyb20gXCJqc29uNVwiO1xuaW1wb3J0IGRlYm91bmNlIGZyb20gXCJsb2Rhc2gvZGVib3VuY2UuanNcIjtcbmltcG9ydCB7IHZpc2lvbkxvY2FsZU5hbWVzcGFjZSB9IGZyb20gXCIuL2luZGV4Lm1qc1wiO1xuaW1wb3J0IEpTT05JbnNwZWN0b3IgZnJvbSBcIkByZXh4YXJzL3JlYWN0LWpzb24taW5zcGVjdG9yXCI7XG5pbXBvcnQgTFJVIGZyb20gXCJxdWljay1scnVcIjtcbmNvbnN0IEFQSV9WRVJTSU9OUyA9IFtcInYxXCIsIFwidlhcIiwgXCJ2MjAyMS0wMy0yNVwiLCBcInYyMDIxLTEwLTIxXCIsIFwidjIwMjItMDMtMDdcIl0sIFtERUZBVUxUX0FQSV9WRVJTSU9OXSA9IEFQSV9WRVJTSU9OUy5zbGljZSgtMSk7XG5mdW5jdGlvbiBEZWxheWVkU3Bpbm5lcihwcm9wcykge1xuICBjb25zdCBbc2hvdywgc2V0U2hvd10gPSB1c2VTdGF0ZSghMSk7XG4gIHJldHVybiB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBzZXRTaG93KCEwKSwgcHJvcHMuZGVsYXkgfHwgNTAwKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgfSwgW3Byb3BzLmRlbGF5XSksIHNob3cgPyAvKiBAX19QVVJFX18gKi8ganN4KFNwaW5uZXIsIHsgbXV0ZWQ6ICEwLCBzaXplOiA0IH0pIDogbnVsbDtcbn1cbmNvbnN0IGNvZGVtaXJyb3JFeHRlbnNpb25zID0gW1xuICBbamF2YXNjcmlwdExhbmd1YWdlXSxcbiAgbGluZU51bWJlcnMoKSxcbiAgaGlnaGxpZ2h0QWN0aXZlTGluZSgpLFxuICBoaWdobGlnaHRBY3RpdmVMaW5lR3V0dGVyKCksXG4gIGhpZ2hsaWdodFNlbGVjdGlvbk1hdGNoZXMoKSxcbiAgaGlnaGxpZ2h0U3BlY2lhbENoYXJzKCksXG4gIGluZGVudE9uSW5wdXQoKSxcbiAgYnJhY2tldE1hdGNoaW5nKCksXG4gIGNsb3NlQnJhY2tldHMoKSxcbiAgaGlzdG9yeSgpLFxuICBkcmF3U2VsZWN0aW9uKCksXG4gIHN5bnRheEhpZ2hsaWdodGluZyhkZWZhdWx0SGlnaGxpZ2h0U3R5bGUsIHsgZmFsbGJhY2s6ICEwIH0pLFxuICBrZXltYXAub2YoXG4gICAgW1xuICAgICAgLy8gT3ZlcnJpZGUgdGhlIGRlZmF1bHQga2V5bWFwIGZvciBNb2QtRW50ZXIgdG8gbm90IGluc2VydCBhIG5ldyBsaW5lLCB3ZSBoYXZlIGEgY3VzdG9tIGV2ZW50IGhhbmRsZXIgZm9yIGV4ZWN1dGluZyBxdWVyaWVzXG4gICAgICB7IGtleTogXCJNb2QtRW50ZXJcIiwgcnVuOiAoKSA9PiAhMCB9LFxuICAgICAgLy8gQWRkIHRoZSBkZWZhdWx0IGtleW1hcCBhbmQgaGlzdG9yeSBrZXltYXBcbiAgICAgIGRlZmF1bHRLZXltYXAsXG4gICAgICBoaXN0b3J5S2V5bWFwXG4gICAgXS5mbGF0KCkuZmlsdGVyKEJvb2xlYW4pXG4gIClcbl07XG5mdW5jdGlvbiB1c2VDb2RlbWlycm9yVGhlbWUodGhlbWUpIHtcbiAgY29uc3QgY21UaGVtZSA9IHVzZU1lbW8oKCkgPT4gY3JlYXRlVGhlbWUodGhlbWUpLCBbdGhlbWVdKSwgY21IaWdobGlnaHQgPSB1c2VNZW1vKCgpID0+IHN5bnRheEhpZ2hsaWdodGluZyhjcmVhdGVIaWdobGlnaHQodGhlbWUpKSwgW3RoZW1lXSk7XG4gIHJldHVybiBbY21UaGVtZSwgY21IaWdobGlnaHRdO1xufVxuZnVuY3Rpb24gY3JlYXRlVGhlbWUodGhlbWUpIHtcbiAgY29uc3QgeyBjb2xvciwgZm9udHMgfSA9IHRoZW1lLnNhbml0eSwgY2FyZCA9IGNvbG9yLmNhcmQuZW5hYmxlZCwgY3Vyc29yID0gaHVlcy5ibHVlW2NvbG9yLmRhcmsgPyA0MDAgOiA1MDBdLmhleCwgc2VsZWN0aW9uID0gaHVlcy5ncmF5W3RoZW1lLnNhbml0eS5jb2xvci5kYXJrID8gOTAwIDogMTAwXS5oZXg7XG4gIHJldHVybiBFZGl0b3JWaWV3LnRoZW1lKFxuICAgIHtcbiAgICAgIFwiJlwiOiB7XG4gICAgICAgIGNvbG9yOiBjYXJkLmZnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNhcmQuYmdcbiAgICAgIH0sXG4gICAgICBcIi5jbS1jb250ZW50XCI6IHtcbiAgICAgICAgY2FyZXRDb2xvcjogY3Vyc29yXG4gICAgICB9LFxuICAgICAgXCIuY20tZWRpdG9yXCI6IHtcbiAgICAgICAgZm9udEZhbWlseTogZm9udHMuY29kZS5mYW1pbHksXG4gICAgICAgIGZvbnRTaXplOiByZW0oZm9udHMuY29kZS5zaXplc1sxXS5mb250U2l6ZSksXG4gICAgICAgIGxpbmVIZWlnaHQ6IFwiaW5oZXJpdFwiXG4gICAgICB9LFxuICAgICAgXCIuY20tY3Vyc29yLCAuY20tZHJvcEN1cnNvclwiOiB7IGJvcmRlckxlZnRDb2xvcjogY3Vyc29yIH0sXG4gICAgICBcIiYuY20tZm9jdXNlZCAuY20tc2VsZWN0aW9uQmFja2dyb3VuZCwgLmNtLXNlbGVjdGlvbkJhY2tncm91bmQsIC5jbS1jb250ZW50IDo6c2VsZWN0aW9uXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzZWxlY3Rpb25cbiAgICAgIH0sXG4gICAgICBcIi5jbS1wYW5lbHNcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IGNhcmQuYmcsIGNvbG9yOiBjYXJkLmZnIH0sXG4gICAgICBcIi5jbS1wYW5lbHMuY20tcGFuZWxzLXRvcFwiOiB7IGJvcmRlckJvdHRvbTogYDJweCBzb2xpZCAke2NhcmQuYm9yZGVyfWAgfSxcbiAgICAgIFwiLmNtLXBhbmVscy5jbS1wYW5lbHMtYm90dG9tXCI6IHsgYm9yZGVyVG9wOiBgMnB4IHNvbGlkICR7Y2FyZC5ib3JkZXJ9YCB9XG4gICAgfSxcbiAgICB7IGRhcms6IGNvbG9yLmRhcmsgfVxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlSGlnaGxpZ2h0KHRoZW1lKSB7XG4gIGNvbnN0IGMgPSB0aGVtZS5zYW5pdHkuY29sb3IuYmFzZSwgcyA9IHRoZW1lLnNhbml0eS5jb2xvci5zeW50YXg7XG4gIHJldHVybiBIaWdobGlnaHRTdHlsZS5kZWZpbmUoW1xuICAgIHsgdGFnOiB0YWdzLmtleXdvcmQsIGNvbG9yOiBzLmtleXdvcmQgfSxcbiAgICB7IHRhZzogW3RhZ3MucHJvcGVydHlOYW1lLCB0YWdzLm5hbWUsIHRhZ3MuZGVsZXRlZCwgdGFncy5jaGFyYWN0ZXIsIHRhZ3MubWFjcm9OYW1lXSwgY29sb3I6IHMucHJvcGVydHkgfSxcbiAgICB7IHRhZzogW3RhZ3MuZnVuY3Rpb24odGFncy52YXJpYWJsZU5hbWUpLCB0YWdzLmxhYmVsTmFtZV0sIGNvbG9yOiBzLmZ1bmN0aW9uIH0sXG4gICAgeyB0YWc6IFt0YWdzLmNvbG9yLCB0YWdzLmNvbnN0YW50KHRhZ3MubmFtZSksIHRhZ3Muc3RhbmRhcmQodGFncy5uYW1lKV0sIGNvbG9yOiBzLnZhcmlhYmxlIH0sXG4gICAgeyB0YWc6IFt0YWdzLmRlZmluaXRpb24odGFncy5uYW1lKSwgdGFncy5zZXBhcmF0b3JdLCBjb2xvcjogcy5jb25zdGFudCB9LFxuICAgIHtcbiAgICAgIHRhZzogW1xuICAgICAgICB0YWdzLnR5cGVOYW1lLFxuICAgICAgICB0YWdzLmNsYXNzTmFtZSxcbiAgICAgICAgdGFncy5udW1iZXIsXG4gICAgICAgIHRhZ3MuY2hhbmdlZCxcbiAgICAgICAgdGFncy5hbm5vdGF0aW9uLFxuICAgICAgICB0YWdzLm1vZGlmaWVyLFxuICAgICAgICB0YWdzLnNlbGYsXG4gICAgICAgIHRhZ3MubmFtZXNwYWNlXG4gICAgICBdLFxuICAgICAgY29sb3I6IHMubnVtYmVyXG4gICAgfSxcbiAgICB7XG4gICAgICB0YWc6IFt0YWdzLm9wZXJhdG9yLCB0YWdzLm9wZXJhdG9yS2V5d29yZCwgdGFncy51cmwsIHRhZ3MuZXNjYXBlLCB0YWdzLnJlZ2V4cCwgdGFncy5saW5rLCB0YWdzLnNwZWNpYWwodGFncy5zdHJpbmcpXSxcbiAgICAgIGNvbG9yOiBzLm9wZXJhdG9yXG4gICAgfSxcbiAgICB7IHRhZzogW3RhZ3MubWV0YSwgdGFncy5jb21tZW50XSwgY29sb3I6IHMuY29tbWVudCB9LFxuICAgIHsgdGFnOiB0YWdzLnN0cm9uZywgZm9udFdlaWdodDogXCJib2xkXCIgfSxcbiAgICB7IHRhZzogdGFncy5lbXBoYXNpcywgZm9udFN0eWxlOiBcIml0YWxpY1wiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3RyaWtldGhyb3VnaCwgdGV4dERlY29yYXRpb246IFwibGluZS10aHJvdWdoXCIgfSxcbiAgICB7IHRhZzogdGFncy5oZWFkaW5nLCBmb250V2VpZ2h0OiBcImJvbGRcIiwgY29sb3I6IHMucHJvcGVydHkgfSxcbiAgICB7IHRhZzogW3RhZ3MuYXRvbSwgdGFncy5ib29sLCB0YWdzLnNwZWNpYWwodGFncy52YXJpYWJsZU5hbWUpXSwgY29sb3I6IHMuYm9vbGVhbiB9LFxuICAgIHsgdGFnOiBbdGFncy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sIHRhZ3Muc3RyaW5nLCB0YWdzLmluc2VydGVkXSwgY29sb3I6IHMuc3RyaW5nIH0sXG4gICAgeyB0YWc6IHRhZ3MuaW52YWxpZCwgY29sb3I6IGMuZmcgfVxuICBdKTtcbn1cbmNvbnN0IEVkaXRvclJvb3QgPSBzdHlsZWQuZGl2YFxuICB3aWR0aDogMTAwJTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBvdmVyZmxvdzogY2xpcDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBmbGV4O1xuXG4gICYgLmNtLXRoZW1lIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gICYgLmNtLWVkaXRvciB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyMXB4O1xuICB9XG5cbiAgJiAuY20tbGluZSB7XG4gICAgcGFkZGluZy1sZWZ0OiAkeyh7IHRoZW1lIH0pID0+IHJlbSh0aGVtZS5zYW5pdHkuc3BhY2VbM10pfTtcbiAgfVxuXG4gICYgLmNtLWNvbnRlbnQge1xuICAgIGJvcmRlci1yaWdodC13aWR0aDogJHsoeyB0aGVtZSB9KSA9PiByZW0odGhlbWUuc2FuaXR5LnNwYWNlWzRdKX0gIWltcG9ydGFudDtcbiAgICBwYWRkaW5nLXRvcDogJHsoeyB0aGVtZSB9KSA9PiByZW0odGhlbWUuc2FuaXR5LnNwYWNlWzVdKX07XG4gIH1cbmA7XG5mdW5jdGlvbiBWaXNpb25Db2RlTWlycm9yKHByb3BzKSB7XG4gIGNvbnN0IHNhbml0eVRoZW1lID0gdXNlVGhlbWUoKSwgdGhlbWUgPSB1c2VDb2RlbWlycm9yVGhlbWUoc2FuaXR5VGhlbWUpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChFZGl0b3JSb290LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENvZGVNaXJyb3IsIHsgYmFzaWNTZXR1cDogITEsIHRoZW1lLCBleHRlbnNpb25zOiBjb2RlbWlycm9yRXh0ZW5zaW9ucywgLi4ucHJvcHMgfSkgfSk7XG59XG5jb25zdCBQRVJTUEVDVElWRVMgPSBbXCJyYXdcIiwgXCJwcmV2aWV3RHJhZnRzXCIsIFwicHVibGlzaGVkXCJdLCBERUZBVUxUX1BFUlNQRUNUSVZFID0gUEVSU1BFQ1RJVkVTWzBdO1xuZnVuY3Rpb24gaXNQZXJzcGVjdGl2ZShwKSB7XG4gIHJldHVybiBQRVJTUEVDVElWRVMuaW5jbHVkZXMocCk7XG59XG5mdW5jdGlvbiBlbmNvZGVRdWVyeVN0cmluZyhxdWVyeSwgcGFyYW1zID0ge30sIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gIHNlYXJjaFBhcmFtcy5zZXQoXCJxdWVyeVwiLCBxdWVyeSk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtcykpXG4gICAgc2VhcmNoUGFyYW1zLnNldChgJCR7a2V5fWAsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMpKVxuICAgIHZhbHVlICYmIHNlYXJjaFBhcmFtcy5zZXQoa2V5LCBgJHt2YWx1ZX1gKTtcbiAgcmV0dXJuIGA/JHtzZWFyY2hQYXJhbXN9YDtcbn1cbmZ1bmN0aW9uIGdldEJsb2JVcmwoY29udGVudCwgbWltZVR5cGUpIHtcbiAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwoXG4gICAgbmV3IEJsb2IoW2NvbnRlbnRdLCB7XG4gICAgICB0eXBlOiBtaW1lVHlwZVxuICAgIH0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRNZW1vaXplZEJsb2JVcmxSZXNvbHZlcihtaW1lVHlwZSwgc3RyaW5nRW5jb2Rlcikge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovICgoKSA9PiB7XG4gICAgbGV0IHByZXZSZXN1bHQgPSBcIlwiLCBwcmV2Q29udGVudCA9IFwiXCI7XG4gICAgcmV0dXJuIChpbnB1dCkgPT4ge1xuICAgICAgY29uc3QgY29udGVudCA9IHN0cmluZ0VuY29kZXIoaW5wdXQpO1xuICAgICAgaWYgKCEodHlwZW9mIGNvbnRlbnQgIT0gXCJzdHJpbmdcIiB8fCBjb250ZW50ID09PSBcIlwiKSlcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQgPT09IHByZXZDb250ZW50IHx8IChwcmV2Q29udGVudCA9IGNvbnRlbnQsIHByZXZSZXN1bHQgJiYgVVJMLnJldm9rZU9iamVjdFVSTChwcmV2UmVzdWx0KSwgcHJldlJlc3VsdCA9IGdldEJsb2JVcmwoY29udGVudCwgbWltZVR5cGUpKSwgcHJldlJlc3VsdDtcbiAgICB9O1xuICB9KSgpO1xufVxuY29uc3QgZ2V0SnNvbkJsb2JVcmwgPSBnZXRNZW1vaXplZEJsb2JVcmxSZXNvbHZlcihcbiAgXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIChpbnB1dCkgPT4gSlNPTi5zdHJpbmdpZnkoaW5wdXQsIG51bGwsIDIpXG4pLCBnZXRDc3ZCbG9iVXJsID0gZ2V0TWVtb2l6ZWRCbG9iVXJsUmVzb2x2ZXIoXCJ0ZXh0L2NzdlwiLCAoaW5wdXQpID0+IGpzb24yY3N2KEFycmF5LmlzQXJyYXkoaW5wdXQpID8gaW5wdXQgOiBbaW5wdXRdKS50cmltKCkpO1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgcmV0dXJuICEhb2JqICYmIHR5cGVvZiBvYmogPT0gXCJvYmplY3RcIiAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbn1cbmNvbnN0IGhhc0xvY2FsU3RvcmFnZSA9IHN1cHBvcnRzTG9jYWxTdG9yYWdlKCksIGtleVByZWZpeCA9IFwic2FuaXR5VmlzaW9uOlwiO1xuZnVuY3Rpb24gY2xlYXJMb2NhbFN0b3JhZ2UoKSB7XG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XG4gICAgICBrZXkgIT0gbnVsbCAmJiBrZXkuc3RhcnRzV2l0aChrZXlQcmVmaXgpICYmIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlKG5hbWVzcGFjZSkge1xuICBjb25zdCBzdG9yYWdlS2V5ID0gYCR7a2V5UHJlZml4fSR7bmFtZXNwYWNlfWA7XG4gIGxldCBsb2FkZWRTdGF0ZSA9IG51bGw7XG4gIHJldHVybiB7IGdldCwgc2V0LCBtZXJnZSB9O1xuICBmdW5jdGlvbiBnZXQoa2V5LCBkZWZhdWx0VmFsKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBlbnN1cmVTdGF0ZSgpO1xuICAgIHJldHVybiB0eXBlb2Ygc3RhdGVba2V5XSA+IFwidVwiID8gZGVmYXVsdFZhbCA6IHN0YXRlW2tleV07XG4gIH1cbiAgZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGVuc3VyZVN0YXRlKCk7XG4gICAgcmV0dXJuIHN0YXRlW2tleV0gPSB2YWx1ZSwgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkobG9hZGVkU3RhdGUpKSwgdmFsdWU7XG4gIH1cbiAgZnVuY3Rpb24gbWVyZ2UocHJvcHMpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHsgLi4uZW5zdXJlU3RhdGUoKSwgLi4ucHJvcHMgfTtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkoc3RhdGUpKSwgc3RhdGU7XG4gIH1cbiAgZnVuY3Rpb24gZW5zdXJlU3RhdGUoKSB7XG4gICAgcmV0dXJuIGxvYWRlZFN0YXRlID09PSBudWxsICYmIChsb2FkZWRTdGF0ZSA9IGxvYWRTdGF0ZSgpKSwgbG9hZGVkU3RhdGU7XG4gIH1cbiAgZnVuY3Rpb24gbG9hZFN0YXRlKCkge1xuICAgIGlmICghaGFzTG9jYWxTdG9yYWdlKVxuICAgICAgcmV0dXJuIHt9O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yZWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpIHx8IFwie31cIik7XG4gICAgICByZXR1cm4gaXNQbGFpbk9iamVjdChzdG9yZWQpID8gc3RvcmVkIDoge307XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzdXBwb3J0c0xvY2FsU3RvcmFnZSgpIHtcbiAgY29uc3QgbW9kID0gXCJsc0NoZWNrXCI7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKG1vZCwgbW9kKSwgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obW9kKSwgITA7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiAhMTtcbiAgfVxufVxuZnVuY3Rpb24gcGFyc2VBcGlRdWVyeVN0cmluZyhxcykge1xuICBjb25zdCBwYXJhbXMgPSB7fSwgb3B0aW9ucyA9IHt9O1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBxcy5lbnRyaWVzKCkpIHtcbiAgICBpZiAoa2V5WzBdID09PSBcIiRcIikge1xuICAgICAgcGFyYW1zW2tleS5zbGljZSgxKV0gPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcInBlcnNwZWN0aXZlXCIpIHtcbiAgICAgIG9wdGlvbnNba2V5XSA9IHZhbHVlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB7IHF1ZXJ5OiBxcy5nZXQoXCJxdWVyeVwiKSB8fCBcIlwiLCBwYXJhbXMsIG9wdGlvbnMgfTtcbn1cbmZ1bmN0aW9uIHByZWZpeEFwaVZlcnNpb24odmVyc2lvbikge1xuICByZXR1cm4gdmVyc2lvblswXSAhPT0gXCJ2XCIgJiYgdmVyc2lvbiAhPT0gXCJvdGhlclwiID8gYHYke3ZlcnNpb259YCA6IHZlcnNpb247XG59XG5jb25zdCBSTyA9IHR5cGVvZiBkb2N1bWVudCA+IFwidVwiID8gUmVzaXplT2JzZXJ2ZXIgOiB3aW5kb3cuUmVzaXplT2JzZXJ2ZXI7XG5mdW5jdGlvbiB0cnlQYXJzZVBhcmFtcyh2YWwsIHQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJzZWQgPSB2YWwgPyBKU09ONS5wYXJzZSh2YWwpIDoge307XG4gICAgcmV0dXJuIHR5cGVvZiBwYXJzZWQgPT0gXCJvYmplY3RcIiAmJiBwYXJzZWQgJiYgIUFycmF5LmlzQXJyYXkocGFyc2VkKSA/IHBhcnNlZCA6IHt9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZXJyLm1lc3NhZ2UgPSBgJHt0KFwicGFyYW1zLmVycm9yLnBhcmFtcy1pbnZhbGlkLWpzb25cIil9OlxuXG4ke2Vyci5tZXNzYWdlLnJlcGxhY2UoXG4gICAgICBcIkpTT041OlwiLFxuICAgICAgXCJcIlxuICAgICl9YCwgZXJyO1xuICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUFwaVZlcnNpb24oYXBpVmVyc2lvbikge1xuICBjb25zdCBwYXJzZWFibGVBcGlWZXJzaW9uID0gYXBpVmVyc2lvbi5yZXBsYWNlKC9edi8sIFwiXCIpLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICByZXR1cm4gcGFyc2VhYmxlQXBpVmVyc2lvbi5sZW5ndGggPiAwICYmIChwYXJzZWFibGVBcGlWZXJzaW9uID09PSBcIlhcIiB8fCBwYXJzZWFibGVBcGlWZXJzaW9uID09PSBcIjFcIiB8fCAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9JC8udGVzdChwYXJzZWFibGVBcGlWZXJzaW9uKSAmJiAhaXNOYU4oRGF0ZS5wYXJzZShwYXJzZWFibGVBcGlWZXJzaW9uKSkpO1xufVxuY29uc3QgZGVmYXVsdFZhbHVlID0gYHtcbiAgXG59YDtcbmZ1bmN0aW9uIFBhcmFtc0VkaXRvcihwcm9wcykge1xuICBjb25zdCB7IG9uQ2hhbmdlIH0gPSBwcm9wcywgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbih2aXNpb25Mb2NhbGVOYW1lc3BhY2UpLCB7IHJhdzogdmFsdWUsIGVycm9yLCBwYXJzZWQsIHZhbGlkIH0gPSBldmVudEZyb21WYWx1ZShwcm9wcy52YWx1ZSwgdCksIFtpc1ZhbGlkLCBzZXRWYWxpZF0gPSB1c2VTdGF0ZSh2YWxpZCksIFtpbml0LCBzZXRJbml0XSA9IHVzZVN0YXRlKCExKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpbml0IHx8IChvbkNoYW5nZSh7IHBhcnNlZCwgcmF3OiB2YWx1ZSwgdmFsaWQ6IGlzVmFsaWQsIGVycm9yIH0pLCBzZXRJbml0KCEwKSk7XG4gIH0sIFtlcnJvciwgaW5pdCwgaXNWYWxpZCwgb25DaGFuZ2UsIHBhcnNlZCwgdmFsdWVdKTtcbiAgY29uc3QgaGFuZGxlQ2hhbmdlUmF3ID0gdXNlQ2FsbGJhY2soXG4gICAgKG5ld1ZhbHVlKSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IGV2ZW50RnJvbVZhbHVlKG5ld1ZhbHVlLCB0KTtcbiAgICAgIHNldFZhbGlkKGV2ZW50LnZhbGlkKSwgb25DaGFuZ2UoZXZlbnQpO1xuICAgIH0sXG4gICAgW29uQ2hhbmdlLCB0XVxuICApLCBoYW5kbGVDaGFuZ2UgPSB1c2VNZW1vKCgpID0+IGRlYm91bmNlKGhhbmRsZUNoYW5nZVJhdywgMzMzKSwgW2hhbmRsZUNoYW5nZVJhd10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChWaXNpb25Db2RlTWlycm9yLCB7IHZhbHVlOiBwcm9wcy52YWx1ZSB8fCBkZWZhdWx0VmFsdWUsIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UgfSk7XG59XG5mdW5jdGlvbiBldmVudEZyb21WYWx1ZSh2YWx1ZSwgdCkge1xuICBjb25zdCBwYXJzZWRQYXJhbXMgPSB0cnlQYXJzZVBhcmFtcyh2YWx1ZSwgdCksIHBhcmFtcyA9IHBhcnNlZFBhcmFtcyBpbnN0YW5jZW9mIEVycm9yID8ge30gOiBwYXJzZWRQYXJhbXMsIHZhbGlkYXRpb25FcnJvciA9IHBhcnNlZFBhcmFtcyBpbnN0YW5jZW9mIEVycm9yID8gcGFyc2VkUGFyYW1zLm1lc3NhZ2UgOiB2b2lkIDA7XG4gIHJldHVybiB7XG4gICAgcGFyc2VkOiBwYXJhbXMsXG4gICAgcmF3OiB2YWx1ZSxcbiAgICB2YWxpZDogIXZhbGlkYXRpb25FcnJvcixcbiAgICBlcnJvcjogdmFsaWRhdGlvbkVycm9yXG4gIH07XG59XG5jb25zdCBQZXJzcGVjdGl2ZVBvcG92ZXJDb250ZW50ID0gc3R5bGVkKEJveClgXG4gIC8qIFRoaXMgbGltaXRzIHRoZSB3aWR0aCBvZiB0aGUgcG9wb3ZlciBjb250ZW50ICovXG4gIG1heC13aWR0aDogMjQwcHg7XG5gLCBQZXJzcGVjdGl2ZVBvcG92ZXJMaW5rID0gc3R5bGVkLmFgXG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuYDtcbmZ1bmN0aW9uIFBlcnNwZWN0aXZlUG9wb3ZlcigpIHtcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gdXNlU3RhdGUoITEpLCBbYnV0dG9uRWwsIHNldEJ1dHRvbkVsXSA9IHVzZVN0YXRlKG51bGwpLCBbcG9wb3ZlckVsLCBzZXRQb3BvdmVyRWxdID0gdXNlU3RhdGUobnVsbCksIGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0T3BlbigobykgPT4gIW8pLCBbXSksIGhhbmRsZUNsaWNrT3V0c2lkZSA9IHVzZUNhbGxiYWNrKCgpID0+IHNldE9wZW4oITEpLCBbXSksIHsgdCB9ID0gdXNlVHJhbnNsYXRpb24odmlzaW9uTG9jYWxlTmFtZXNwYWNlKTtcbiAgcmV0dXJuIHVzZUNsaWNrT3V0c2lkZShoYW5kbGVDbGlja091dHNpZGUsIFtidXR0b25FbCwgcG9wb3ZlckVsXSksIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgUG9wb3ZlcixcbiAgICB7XG4gICAgICBjb250ZW50OiAvKiBAX19QVVJFX18gKi8ganN4KFBlcnNwZWN0aXZlUG9wb3ZlckNvbnRlbnQsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFN0YWNrLCB7IHNwYWNlOiA0LCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhJbmxpbmUsIHsgc3BhY2U6IDIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IHdlaWdodDogXCJtZWRpdW1cIiwgY2hpbGRyZW46IHQoXCJzZXR0aW5ncy5wZXJzcGVjdGl2ZXMudGl0bGVcIikgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChCYWRnZSwgeyB0b25lOiBcInByaW1hcnlcIiwgY2hpbGRyZW46IHQoXCJsYWJlbC5uZXdcIikgfSlcbiAgICAgICAgXSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChDYXJkLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFRleHQsIHsgbXV0ZWQ6ICEwLCBjaGlsZHJlbjogdChcInNldHRpbmdzLnBlcnNwZWN0aXZlcy5kZXNjcmlwdGlvblwiKSB9KSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChDYXJkLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFRleHQsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFBlcnNwZWN0aXZlUG9wb3ZlckxpbmssIHsgaHJlZjogXCJodHRwczovL3Nhbml0eS5pby9kb2NzL3BlcnNwZWN0aXZlc1wiLCB0YXJnZXQ6IFwiX2JsYW5rXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgdChcInNldHRpbmdzLnBlcnNwZWN0aXZlcy5hY3Rpb24uZG9jcy1saW5rXCIpLFxuICAgICAgICAgIFwiIFxcdTIxOTJcIlxuICAgICAgICBdIH0pIH0pIH0pXG4gICAgICBdIH0pIH0pLFxuICAgICAgcGxhY2VtZW50OiBcImJvdHRvbS1zdGFydFwiLFxuICAgICAgcG9ydGFsOiAhMCxcbiAgICAgIHBhZGRpbmc6IDMsXG4gICAgICByZWY6IHNldFBvcG92ZXJFbCxcbiAgICAgIG9wZW4sXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgQnV0dG9uLFxuICAgICAgICB7XG4gICAgICAgICAgaWNvbjogSGVscENpcmNsZUljb24sXG4gICAgICAgICAgbW9kZTogXCJibGVlZFwiLFxuICAgICAgICAgIHBhZGRpbmc6IDIsXG4gICAgICAgICAgdG9uZTogXCJwcmltYXJ5XCIsXG4gICAgICAgICAgZm9udFNpemU6IDEsXG4gICAgICAgICAgcmVmOiBzZXRCdXR0b25FbCxcbiAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVDbGljayxcbiAgICAgICAgICBzZWxlY3RlZDogb3BlblxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufVxuY29uc3QgRXJyb3JDb2RlID0gc3R5bGVkKENvZGUpYFxuICBjb2xvcjogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5zYW5pdHkuY29sb3IubXV0ZWQuY3JpdGljYWwuZW5hYmxlZC5mZ307XG5gO1xuZnVuY3Rpb24gUXVlcnlFcnJvckRldGFpbHMoeyBlcnJvciB9KSB7XG4gIGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24odmlzaW9uTG9jYWxlTmFtZXNwYWNlKTtcbiAgaWYgKCEoXCJkZXRhaWxzXCIgaW4gZXJyb3IpKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCBkZXRhaWxzID0geyAuLi5lcnJvci5kZXRhaWxzLCAuLi5tYXBUb0xlZ2FjeURldGFpbHMoZXJyb3IuZGV0YWlscykgfTtcbiAgcmV0dXJuIGRldGFpbHMubGluZSA/IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQ29kZSwgeyBzaXplOiAxLCBjaGlsZHJlbjogYCR7ZGV0YWlscy5saW5lfVxuJHtkYXNoTGluZShcbiAgICAgIGRldGFpbHMuY29sdW1uLFxuICAgICAgZGV0YWlscy5jb2x1bW5FbmRcbiAgICApfWAgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgbWFyZ2luVG9wOiA0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFcnJvckNvZGUsIHsgc2l6ZTogMSwgY2hpbGRyZW46IGAke3QoXCJxdWVyeS5lcnJvci5saW5lXCIpfTogICAke2RldGFpbHMubGluZU51bWJlcn1cbiR7dChcbiAgICAgIFwicXVlcnkuZXJyb3IuY29sdW1uXCJcbiAgICApfTogJHtkZXRhaWxzLmNvbHVtbn1gIH0pIH0pXG4gIF0gfSkgOiBudWxsO1xufVxuZnVuY3Rpb24gbWFwVG9MZWdhY3lEZXRhaWxzKGRldGFpbHMpIHtcbiAgaWYgKCFkZXRhaWxzIHx8IHR5cGVvZiBkZXRhaWxzLnF1ZXJ5ICE9IFwic3RyaW5nXCIgfHwgdHlwZW9mIGRldGFpbHMuc3RhcnQgIT0gXCJudW1iZXJcIilcbiAgICByZXR1cm4ge307XG4gIGNvbnN0IHsgcXVlcnksIHN0YXJ0LCBlbmQgfSA9IGRldGFpbHMsIGxpbmVTdGFydCA9IHF1ZXJ5LnNsaWNlKDAsIHN0YXJ0KS5sYXN0SW5kZXhPZihgXG5gKSArIDEsIGxpbmVOdW1iZXIgPSAocXVlcnkuc2xpY2UoMCwgbGluZVN0YXJ0KS5tYXRjaCgvXFxuL2cpIHx8IFtdKS5sZW5ndGgsIGxpbmUgPSBxdWVyeS5zbGljZShsaW5lU3RhcnQsIHF1ZXJ5LmluZGV4T2YoYFxuYCwgbGluZVN0YXJ0KSksIGNvbHVtbiA9IHN0YXJ0IC0gbGluZVN0YXJ0LCBjb2x1bW5FbmQgPSB0eXBlb2YgZW5kID09IFwibnVtYmVyXCIgPyBlbmQgLSBsaW5lU3RhcnQgOiB2b2lkIDA7XG4gIHJldHVybiB7IGxpbmUsIGxpbmVOdW1iZXIsIGNvbHVtbiwgY29sdW1uRW5kIH07XG59XG5mdW5jdGlvbiBkYXNoTGluZShjb2x1bW4sIGNvbHVtbkVuZCkge1xuICBjb25zdCBsaW5lID0gXCItXCIucmVwZWF0KGNvbHVtbiksIGhhdHMgPSBcIl5cIi5yZXBlYXQoY29sdW1uRW5kID8gY29sdW1uRW5kIC0gY29sdW1uIDogMSk7XG4gIHJldHVybiBgJHtsaW5lfSR7aGF0c31gO1xufVxuZnVuY3Rpb24gUXVlcnlFcnJvckRpYWxvZyhwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoU3RhY2ssIHsgc3BhY2U6IDUsIG1hcmdpblRvcDogMiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yQ29kZSwgeyBzaXplOiAxLCBjaGlsZHJlbjogcHJvcHMuZXJyb3IubWVzc2FnZSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KFF1ZXJ5RXJyb3JEZXRhaWxzLCB7IGVycm9yOiBwcm9wcy5lcnJvciB9KVxuICBdIH0pO1xufVxuY29uc3QgUmVzdWx0Vmlld1dyYXBwZXIgPSBzdHlsZWQuZGl2KCh7IHRoZW1lIH0pID0+IHtcbiAgY29uc3QgeyBjb2xvciwgZm9udHMsIHNwYWNlIH0gPSB0aGVtZS5zYW5pdHk7XG4gIHJldHVybiBjc3NgXG4gICAgJiAuanNvbi1pbnNwZWN0b3IsXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX19zZWxlY3Rpb24ge1xuICAgICAgZm9udC1mYW1pbHk6ICR7Zm9udHMuY29kZS5mYW1pbHl9O1xuICAgICAgZm9udC1zaXplOiAke2ZvbnRzLmNvZGUuc2l6ZXNbMl0uZm9udFNpemV9cHg7XG4gICAgICBsaW5lLWhlaWdodDogJHtmb250cy5jb2RlLnNpemVzWzJdLmxpbmVIZWlnaHR9cHg7XG4gICAgICBjb2xvcjogdmFyKC0tY2FyZC1jb2RlLWZnLWNvbG9yKTtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX2xlYWYge1xuICAgICAgcGFkZGluZy1sZWZ0OiAke3JlbShzcGFjZVs0XSl9O1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fbGVhZi5qc29uLWluc3BlY3Rvcl9fbGVhZl9yb290IHtcbiAgICAgIHBhZGRpbmctdG9wOiAke3JlbShzcGFjZVswXSl9O1xuICAgICAgcGFkZGluZy1sZWZ0OiAwO1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yID4gLmpzb24taW5zcGVjdG9yX19sZWFmX3Jvb3QgPiAuanNvbi1pbnNwZWN0b3JfX2xpbmUgPiAuanNvbi1pbnNwZWN0b3JfX2tleSB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fbGluZSB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX2xpbmU6OmFmdGVyIHtcbiAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAwO1xuICAgICAgbGVmdDogLTIwMHB4O1xuICAgICAgcmlnaHQ6IC01MHB4O1xuICAgICAgYm90dG9tOiAwO1xuICAgICAgei1pbmRleDogLTE7XG4gICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX2xpbmU6aG92ZXI6OmFmdGVyIHtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtY29kZS1iZy1jb2xvcik7XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX19sZWFmX2NvbXBvc2l0ZSA+IC5qc29uLWluc3BlY3Rvcl9fbGluZSB7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX19sZWFmX2NvbXBvc2l0ZSA+IC5qc29uLWluc3BlY3Rvcl9fbGluZTo6YmVmb3JlIHtcbiAgICAgIGNvbnRlbnQ6ICfilrggJztcbiAgICAgIG1hcmdpbi1sZWZ0OiBjYWxjKDBweCAtICR7cmVtKHNwYWNlWzRdKX0pO1xuICAgICAgZm9udC1zaXplOiAke2ZvbnRzLmNvZGUuc2l6ZXNbMl0uZm9udFNpemV9cHg7XG4gICAgICBsaW5lLWhlaWdodDogJHtmb250cy5jb2RlLnNpemVzWzJdLmxpbmVIZWlnaHR9cHg7XG4gICAgfVxuXG4gICAgJlxuICAgICAgLmpzb24taW5zcGVjdG9yXG4gICAgICAuanNvbi1pbnNwZWN0b3JfX2xlYWZfZXhwYW5kZWQuanNvbi1pbnNwZWN0b3JfX2xlYWZfY29tcG9zaXRlXG4gICAgICA+IC5qc29uLWluc3BlY3Rvcl9fbGluZTo6YmVmb3JlIHtcbiAgICAgIGNvbnRlbnQ6ICfilr4gJztcbiAgICAgIGZvbnQtc2l6ZTogJHtmb250cy5jb2RlLnNpemVzWzJdLmZvbnRTaXplfXB4O1xuICAgICAgbGluZS1oZWlnaHQ6ICR7Zm9udHMuY29kZS5zaXplc1syXS5saW5lSGVpZ2h0fXB4O1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fcmFkaW8sXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX19mbGF0cGF0aCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fdmFsdWUge1xuICAgICAgbWFyZ2luLWxlZnQ6ICR7cmVtKHNwYWNlWzRdIC8gMil9O1xuICAgIH1cblxuICAgICZcbiAgICAgIC5qc29uLWluc3BlY3RvclxuICAgICAgPiAuanNvbi1pbnNwZWN0b3JfX2xlYWZfcm9vdFxuICAgICAgPiAuanNvbi1pbnNwZWN0b3JfX2xpbmVcbiAgICAgID4gLmpzb24taW5zcGVjdG9yX19rZXlcbiAgICAgICsgLmpzb24taW5zcGVjdG9yX192YWx1ZSB7XG4gICAgICBtYXJnaW46IDA7XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX19rZXkge1xuICAgICAgY29sb3I6ICR7Y29sb3Iuc3ludGF4LnByb3BlcnR5fTtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX3ZhbHVlX2hlbHBlcixcbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX3ZhbHVlX251bGwge1xuICAgICAgY29sb3I6ICR7Y29sb3Iuc3ludGF4LmNvbnN0YW50fTtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX25vdC1mb3VuZCB7XG4gICAgICBwYWRkaW5nLXRvcDogJHtyZW0oc3BhY2VbMl0pfTtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX3ZhbHVlX3N0cmluZyB7XG4gICAgICBjb2xvcjogJHtjb2xvci5zeW50YXguc3RyaW5nfTtcbiAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX192YWx1ZV9ib29sZWFuIHtcbiAgICAgIGNvbG9yOiAke2NvbG9yLnN5bnRheC5ib29sZWFufTtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX3ZhbHVlX251bWJlciB7XG4gICAgICBjb2xvcjogJHtjb2xvci5zeW50YXgubnVtYmVyfTtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX3Nob3ctb3JpZ2luYWwge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgcGFkZGluZzogMCA2cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX19zaG93LW9yaWdpbmFsOmhvdmVyIHtcbiAgICAgIGNvbG9yOiBpbmhlcml0O1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fc2hvdy1vcmlnaW5hbDo6YmVmb3JlIHtcbiAgICAgIGNvbnRlbnQ6ICfihpQnO1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fc2hvdy1vcmlnaW5hbDpob3Zlcjo6YWZ0ZXIge1xuICAgICAgY29udGVudDogJyBleHBhbmQnO1xuICAgIH1cbiAgYDtcbn0pLCBscnUgPSBuZXcgTFJVKHsgbWF4U2l6ZTogNWU0IH0pO1xuZnVuY3Rpb24gUmVzdWx0Vmlldyhwcm9wcykge1xuICBjb25zdCB7IGRhdGEgfSA9IHByb3BzO1xuICByZXR1cm4gaXNSZWNvcmQoZGF0YSkgfHwgQXJyYXkuaXNBcnJheShkYXRhKSA/IC8qIEBfX1BVUkVfXyAqLyBqc3goUmVzdWx0Vmlld1dyYXBwZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgSlNPTkluc3BlY3RvcixcbiAgICB7XG4gICAgICBkYXRhLFxuICAgICAgc2VhcmNoOiAhMSxcbiAgICAgIGlzRXhwYW5kZWQsXG4gICAgICBvbkNsaWNrOiB0b2dnbGVFeHBhbmRlZFxuICAgIH1cbiAgKSB9KSA6IC8qIEBfX1BVUkVfXyAqLyBqc3goQ29kZSwgeyBsYW5ndWFnZTogXCJqc29uXCIsIGNoaWxkcmVuOiBKU09OLnN0cmluZ2lmeShkYXRhKSB9KTtcbn1cbmZ1bmN0aW9uIGlzRXhwYW5kZWQoa2V5UGF0aCwgdmFsdWUpIHtcbiAgY29uc3QgY2FjaGVkID0gbHJ1LmdldChrZXlQYXRoKTtcbiAgaWYgKHR5cGVvZiBjYWNoZWQgPT0gXCJib29sZWFuXCIpXG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgY29uc3Qgc2VnbWVudHMgPSBrZXlQYXRoLnNwbGl0KFwiLlwiLCA0KTtcbiAgcmV0dXJuIHNlZ21lbnRzLmxlbmd0aCA9PT0gNCA/ICExIDogQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyAhMCA6IGlzUmVjb3JkKHZhbHVlKSAmJiAhc2VnbWVudHMuc29tZSgoa2V5KSA9PiBpc0FycmF5S2V5T3ZlckxpbWl0KGtleSkpO1xufVxuZnVuY3Rpb24gdG9nZ2xlRXhwYW5kZWQoZXZlbnQpIHtcbiAgY29uc3QgeyBwYXRoIH0gPSBldmVudCwgY3VycmVudCA9IGxydS5nZXQocGF0aCk7XG4gIGN1cnJlbnQgIT09IHZvaWQgMCAmJiBscnUuc2V0KHBhdGgsICFjdXJyZW50KTtcbn1cbmZ1bmN0aW9uIGlzUmVjb3JkKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG5jb25zdCBudW1lcmljID0gL15cXGQrJC87XG5mdW5jdGlvbiBpc0FycmF5S2V5T3ZlckxpbWl0KHNlZ21lbnQsIGxpbWl0ID0gMTApIHtcbiAgcmV0dXJuIG51bWVyaWMudGVzdChzZWdtZW50KSAmJiBwYXJzZUludChzZWdtZW50LCAxMCkgPiBsaW1pdDtcbn1cbmZ1bmN0aW9uIHByZXZlbnRTYXZlKGV2dCkge1xuICByZXR1cm4gZXZ0LnByZXZlbnREZWZhdWx0KCk7XG59XG5mdW5jdGlvbiBTYXZlQ3N2QnV0dG9uKHsgYmxvYlVybCB9KSB7XG4gIGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24odmlzaW9uTG9jYWxlTmFtZXNwYWNlKSwgaXNEaXNhYmxlZCA9ICFibG9iVXJsLCBidXR0b24gPSAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIEJ1dHRvbixcbiAgICB7XG4gICAgICBhczogXCJhXCIsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgIGRvd25sb2FkOiBpc0Rpc2FibGVkID8gdm9pZCAwIDogXCJxdWVyeS1yZXN1bHQuY3N2XCIsXG4gICAgICBocmVmOiBibG9iVXJsLFxuICAgICAgaWNvbjogRG9jdW1lbnRTaGVldEljb24sXG4gICAgICBtb2RlOiBcImdob3N0XCIsXG4gICAgICBvbkNsaWNrOiBpc0Rpc2FibGVkID8gcHJldmVudFNhdmUgOiB2b2lkIDAsXG4gICAgICB0ZXh0OiBcIkNTVlwiLFxuICAgICAgdG9uZTogXCJkZWZhdWx0XCJcbiAgICB9XG4gICk7XG4gIHJldHVybiBpc0Rpc2FibGVkID8gLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwLCB7IGNvbnRlbnQ6IHQoXCJyZXN1bHQuc2F2ZS1yZXN1bHQtYXMtY3N2Lm5vdC1jc3YtZW5jb2RhYmxlXCIpLCBwbGFjZW1lbnQ6IFwidG9wXCIsIGNoaWxkcmVuOiBidXR0b24gfSkgOiBidXR0b247XG59XG5mdW5jdGlvbiBTYXZlSnNvbkJ1dHRvbih7IGJsb2JVcmwgfSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBCdXR0b24sXG4gICAge1xuICAgICAgYXM6IFwiYVwiLFxuICAgICAgZG93bmxvYWQ6IFwicXVlcnktcmVzdWx0Lmpzb25cIixcbiAgICAgIGhyZWY6IGJsb2JVcmwsXG4gICAgICBpY29uOiBEb2N1bWVudFNoZWV0SWNvbixcbiAgICAgIG1vZGU6IFwiZ2hvc3RcIixcbiAgICAgIHRleHQ6IFwiSlNPTlwiLFxuICAgICAgdG9uZTogXCJkZWZhdWx0XCJcbiAgICB9XG4gICk7XG59XG5jb25zdCBSb290ID0gc3R5bGVkKEZsZXgpYFxuICAuc2lkZWJhclBhbmVzIC5QYW5lIHtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgfVxuXG4gICYgLlJlc2l6ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYm9yZGVyLWNvbG9yKTtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHotaW5kZXg6IDE7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94O1xuICAgIGJvcmRlcjogc29saWQgdHJhbnNwYXJlbnQ7XG4gIH1cblxuICAmIC5SZXNpemVyOmhvdmVyIHtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWNhcmQtc2hhZG93LWFtYmllbnQtY29sb3IpO1xuICB9XG5cbiAgJiAuUmVzaXplci5ob3Jpem9udGFsIHtcbiAgICBoZWlnaHQ6IDExcHg7XG4gICAgbWFyZ2luOiAtNXB4IDA7XG4gICAgYm9yZGVyLXdpZHRoOiA1cHggMDtcbiAgICBjdXJzb3I6IHJvdy1yZXNpemU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgei1pbmRleDogNDtcbiAgfVxuXG4gICYgLlJlc2l6ZXIudmVydGljYWwge1xuICAgIHdpZHRoOiAxMXB4O1xuICAgIG1hcmdpbjogMCAtNXB4O1xuICAgIGJvcmRlci13aWR0aDogMCA1cHg7XG4gICAgY3Vyc29yOiBjb2wtcmVzaXplO1xuICAgIHotaW5kZXg6IDI7IC8qIFRvIHByZXZlbnQgdGhlIHJlc2l6ZXIgZnJvbSBiZWluZyBoaWRkZW4gYmVoaW5kIENvZGVNaXJyb3Igc2Nyb2xsIGFyZWEgKi9cbiAgfVxuXG4gIC5SZXNpemVyLmRpc2FibGVkIHtcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICB9XG5cbiAgLlJlc2l6ZXIuZGlzYWJsZWQ6aG92ZXIge1xuICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIH1cbmA7XG5Sb290LmRpc3BsYXlOYW1lID0gXCJSb290XCI7XG5jb25zdCBIZWFkZXIgPSBzdHlsZWQoQ2FyZClgXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1jYXJkLWJvcmRlci1jb2xvcik7XG5gLCBTdHlsZWRMYWJlbCA9IHN0eWxlZChMYWJlbClgXG4gIGZsZXg6IDE7XG5gLCBTcGxpdHBhbmVDb250YWluZXIgPSBzdHlsZWQoQm94KWBcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuYCwgUXVlcnlDb3B5TGluayA9IHN0eWxlZC5hYFxuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbmAsIElucHV0QmFja2dyb3VuZENvbnRhaW5lciA9IHN0eWxlZChCb3gpYFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMXJlbTtcbiAgbGVmdDogMDtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luOiAwO1xuICB6LWluZGV4OiAxMDtcbiAgcmlnaHQ6IDA7XG5cbiAgJHtTdHlsZWRMYWJlbH0ge1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuICB9XG5gLCBJbnB1dEJhY2tncm91bmRDb250YWluZXJMZWZ0ID0gc3R5bGVkKElucHV0QmFja2dyb3VuZENvbnRhaW5lcilgXG4gIC8vIFRoaXMgaXMgc28gaXRzIGFsaWduZWQgd2l0aCB0aGUgZ3V0dGVycyBvZiBDb2RlTWlycm9yXG4gIGxlZnQ6IDMzcHg7XG5gLCBJbnB1dENvbnRhaW5lciA9IHN0eWxlZChDYXJkKWBcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuYCwgUmVzdWx0T3V0ZXJDb250YWluZXIgPSBzdHlsZWQoRmxleClgXG4gIGhlaWdodDogMTAwJTtcbmAsIFJlc3VsdElubmVyQ29udGFpbmVyID0gc3R5bGVkKEJveClgXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbmAsIFJlc3VsdENvbnRhaW5lciA9IHN0eWxlZChDYXJkKWBcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBtYXgtd2lkdGg6IDEwMCU7XG5cbiAgJHsoeyAkaXNJbnZhbGlkIH0pID0+ICRpc0ludmFsaWQgJiYgY3NzYFxuICAgICAgJjphZnRlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQtYmctY29sb3IpO1xuICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB9XG4gICAgYH1cbmAsIFJlc3VsdCA9IHN0eWxlZChCb3gpYFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHotaW5kZXg6IDIwO1xuYCwgUmVzdWx0Rm9vdGVyID0gc3R5bGVkKEZsZXgpYFxuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tY2FyZC1ib3JkZXItY29sb3IpO1xuYCwgVGltaW5nc0NhcmQgPSBzdHlsZWQoQ2FyZClgXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbmA7XG5zdHlsZWQoQm94KWBcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbmA7XG5jb25zdCBUaW1pbmdzVGV4dENvbnRhaW5lciA9IHN0eWxlZChGbGV4KWBcbiAgaGVpZ2h0OiAxMDAlO1xuICBtaW4taGVpZ2h0OiAkeyh7IHRoZW1lIH0pID0+IHJlbShcbiAgdGhlbWUuc2FuaXR5LnNwYWNlWzNdICogMiArIHRoZW1lLnNhbml0eS5mb250cy50ZXh0LnNpemVzWzJdLmxpbmVIZWlnaHQgLSB0aGVtZS5zYW5pdHkuZm9udHMudGV4dC5zaXplc1syXS5hc2NlbmRlckhlaWdodCAtIHRoZW1lLnNhbml0eS5mb250cy50ZXh0LnNpemVzWzJdLmRlc2NlbmRlckhlaWdodFxuKX07XG5gLCBEb3dubG9hZHNDYXJkID0gc3R5bGVkKENhcmQpYFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XG5gLCBTYXZlUmVzdWx0TGFiZWwgPSBzdHlsZWQoVGV4dClgXG4gIHRyYW5zZm9ybTogaW5pdGlhbDtcbiAgJjpiZWZvcmUsXG4gICY6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6IG5vbmU7XG4gIH1cbiAgPiBzcGFuIHtcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG4gICAgZ2FwOiAkeyh7IHRoZW1lIH0pID0+IHJlbSh0aGVtZS5zYW5pdHkuc3BhY2VbM10pfTtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB9XG5gLCBDb250cm9sc0NvbnRhaW5lciA9IHN0eWxlZChCb3gpYFxuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tY2FyZC1ib3JkZXItY29sb3IpO1xuYDtcbnZhciBfX2RlZlByb3AkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgX19kZWZOb3JtYWxQcm9wJDEgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDEob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkJDEgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3AkMShvYmosIHR5cGVvZiBrZXkgIT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmZ1bmN0aW9uIG5vZGVDb250YWlucyhub2RlLCBvdGhlcikge1xuICByZXR1cm4gIW5vZGUgfHwgIW90aGVyID8gITEgOiBub2RlID09PSBvdGhlciB8fCAhIShub2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG90aGVyKSAmIDE2KTtcbn1cbmNvbnN0IHNhbml0eVVybCA9IC9cXC4oPzphcGl8YXBpY2RuKVxcLnNhbml0eVxcLmlvXFwvKHZYfHYxfHZcXGR7NH0tXFxkXFxkLVxcZFxcZClcXC8uKj8oPzpxdWVyeXxsaXN0ZW4pXFwvKC4qPylcXD8oLiopLywgaXNSdW5Ib3RrZXkgPSAoZXZlbnQpID0+IGlzSG90a2V5KFwiY3RybCtlbnRlclwiLCBldmVudCkgfHwgaXNIb3RrZXkoXCJtb2QrZW50ZXJcIiwgZXZlbnQpO1xuZnVuY3Rpb24gbmFycm93QnJlYWtwb2ludCgpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDYwMDtcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZVBhbmVTaXplT3B0aW9ucyhyb290SGVpZ2h0KSB7XG4gIHJldHVybiB7XG4gICAgZGVmYXVsdFNpemU6IHJvb3RIZWlnaHQgLyAobmFycm93QnJlYWtwb2ludCgpID8gMiA6IDEpLFxuICAgIHNpemU6IHJvb3RIZWlnaHQgPiA1NTAgPyB2b2lkIDAgOiByb290SGVpZ2h0ICogMC40LFxuICAgIGFsbG93UmVzaXplOiByb290SGVpZ2h0ID4gNTUwLFxuICAgIG1pblNpemU6IE1hdGgubWluKDE3MCwgTWF0aC5tYXgoMTcwLCByb290SGVpZ2h0IC8gMikpLFxuICAgIG1heFNpemU6IHJvb3RIZWlnaHQgPiA2NTAgPyByb290SGVpZ2h0ICogMC43IDogcm9vdEhlaWdodCAqIDAuNlxuICB9O1xufVxuY2xhc3MgVmlzaW9uR3VpIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpLCBfX3B1YmxpY0ZpZWxkJDEodGhpcywgXCJfdmlzaW9uUm9vdFwiKSwgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwiX3F1ZXJ5RWRpdG9yQ29udGFpbmVyXCIpLCBfX3B1YmxpY0ZpZWxkJDEodGhpcywgXCJfcGFyYW1zRWRpdG9yQ29udGFpbmVyXCIpLCBfX3B1YmxpY0ZpZWxkJDEodGhpcywgXCJfb3BlcmF0aW9uVXJsRWxlbWVudFwiKSwgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwiX2N1c3RvbUFwaVZlcnNpb25FbGVtZW50XCIpLCBfX3B1YmxpY0ZpZWxkJDEodGhpcywgXCJfcmVzaXplTGlzdGVuZXJcIiksIF9fcHVibGljRmllbGQkMSh0aGlzLCBcIl9xdWVyeVN1YnNjcmlwdGlvblwiKSwgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwiX2xpc3RlblN1YnNjcmlwdGlvblwiKSwgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwiX2NsaWVudFwiKSwgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwiX2xvY2FsU3RvcmFnZVwiKTtcbiAgICBjb25zdCB7IGNsaWVudCwgZGF0YXNldHMsIGNvbmZpZyB9ID0gcHJvcHM7XG4gICAgdGhpcy5fbG9jYWxTdG9yYWdlID0gZ2V0TG9jYWxTdG9yYWdlKGNsaWVudC5jb25maWcoKS5wcm9qZWN0SWQgfHwgXCJkZWZhdWx0XCIpO1xuICAgIGNvbnN0IGRlZmF1bHREYXRhc2V0ID0gY29uZmlnLmRlZmF1bHREYXRhc2V0IHx8IGNsaWVudC5jb25maWcoKS5kYXRhc2V0IHx8IGRhdGFzZXRzWzBdLCBkZWZhdWx0QXBpVmVyc2lvbiA9IHByZWZpeEFwaVZlcnNpb24oYCR7Y29uZmlnLmRlZmF1bHRBcGlWZXJzaW9ufWApLCBkZWZhdWx0UGVyc3BlY3RpdmUgPSBERUZBVUxUX1BFUlNQRUNUSVZFO1xuICAgIGxldCBkYXRhc2V0ID0gdGhpcy5fbG9jYWxTdG9yYWdlLmdldChcImRhdGFzZXRcIiwgZGVmYXVsdERhdGFzZXQpLCBhcGlWZXJzaW9uID0gdGhpcy5fbG9jYWxTdG9yYWdlLmdldChcImFwaVZlcnNpb25cIiwgZGVmYXVsdEFwaVZlcnNpb24pLCBsYXN0UXVlcnkgPSB0aGlzLl9sb2NhbFN0b3JhZ2UuZ2V0KFwicXVlcnlcIiwgXCJcIiksIGxhc3RQYXJhbXMgPSB0aGlzLl9sb2NhbFN0b3JhZ2UuZ2V0KFwicGFyYW1zXCIsIGB7XG4gIFxufWApO1xuICAgIGNvbnN0IGN1c3RvbUFwaVZlcnNpb24gPSBBUElfVkVSU0lPTlMuaW5jbHVkZXMoYXBpVmVyc2lvbikgPyAhMSA6IGFwaVZlcnNpb247XG4gICAgbGV0IHBlcnNwZWN0aXZlID0gdGhpcy5fbG9jYWxTdG9yYWdlLmdldChcInBlcnNwZWN0aXZlXCIsIGRlZmF1bHRQZXJzcGVjdGl2ZSk7XG4gICAgZGF0YXNldHMuaW5jbHVkZXMoZGF0YXNldCkgfHwgKGRhdGFzZXQgPSBkYXRhc2V0cy5pbmNsdWRlcyhkZWZhdWx0RGF0YXNldCkgPyBkZWZhdWx0RGF0YXNldCA6IGRhdGFzZXRzWzBdKSwgQVBJX1ZFUlNJT05TLmluY2x1ZGVzKGFwaVZlcnNpb24pIHx8IChhcGlWZXJzaW9uID0gREVGQVVMVF9BUElfVkVSU0lPTiksIFBFUlNQRUNUSVZFUy5pbmNsdWRlcyhwZXJzcGVjdGl2ZSkgfHwgKHBlcnNwZWN0aXZlID0gREVGQVVMVF9QRVJTUEVDVElWRSksIHR5cGVvZiBsYXN0UXVlcnkgIT0gXCJzdHJpbmdcIiAmJiAobGFzdFF1ZXJ5ID0gXCJcIiksIHR5cGVvZiBsYXN0UGFyYW1zICE9IFwic3RyaW5nXCIgJiYgKGxhc3RQYXJhbXMgPSBge1xuICBcbn1gKSwgdGhpcy5fdmlzaW9uUm9vdCA9IGNyZWF0ZVJlZigpLCB0aGlzLl9vcGVyYXRpb25VcmxFbGVtZW50ID0gY3JlYXRlUmVmKCksIHRoaXMuX3F1ZXJ5RWRpdG9yQ29udGFpbmVyID0gY3JlYXRlUmVmKCksIHRoaXMuX3BhcmFtc0VkaXRvckNvbnRhaW5lciA9IGNyZWF0ZVJlZigpLCB0aGlzLl9jdXN0b21BcGlWZXJzaW9uRWxlbWVudCA9IGNyZWF0ZVJlZigpLCB0aGlzLl9jbGllbnQgPSBwcm9wcy5jbGllbnQud2l0aENvbmZpZyh7XG4gICAgICBhcGlWZXJzaW9uOiBjdXN0b21BcGlWZXJzaW9uIHx8IGFwaVZlcnNpb24sXG4gICAgICBkYXRhc2V0LFxuICAgICAgcGVyc3BlY3RpdmUsXG4gICAgICBhbGxvd1JlY29uZmlndXJlOiAhMFxuICAgIH0pO1xuICAgIGNvbnN0IGJvZHlIZWlnaHQgPSB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgdHlwZW9mIGRvY3VtZW50IDwgXCJ1XCIgPyBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCAtIDYwIDogMCwgcGFyYW1zID0gbGFzdFBhcmFtcyA/IHRyeVBhcnNlUGFyYW1zKGxhc3RQYXJhbXMsIHRoaXMucHJvcHMudCkgOiB2b2lkIDA7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIC8vIFNlbGVjdGVkIG9wdGlvbnNcbiAgICAgIGRhdGFzZXQsXG4gICAgICBhcGlWZXJzaW9uLFxuICAgICAgY3VzdG9tQXBpVmVyc2lvbixcbiAgICAgIHBlcnNwZWN0aXZlLFxuICAgICAgLy8gU2VsZWN0ZWQgb3B0aW9ucyB2YWxpZGF0aW9uIHN0YXRlXG4gICAgICBpc1ZhbGlkQXBpVmVyc2lvbjogY3VzdG9tQXBpVmVyc2lvbiA/IHZhbGlkYXRlQXBpVmVyc2lvbihjdXN0b21BcGlWZXJzaW9uKSA6ICExLFxuICAgICAgLy8gSW5wdXRzXG4gICAgICBxdWVyeTogbGFzdFF1ZXJ5LFxuICAgICAgcmF3UGFyYW1zOiBsYXN0UGFyYW1zLFxuICAgICAgLy8gUGFyc2VkIGlucHV0XG4gICAgICBwYXJhbXMsXG4gICAgICBoYXNWYWxpZFBhcmFtczogIShwYXJhbXMgaW5zdGFuY2VvZiBFcnJvciksXG4gICAgICAvLyBRdWVyeS9saXN0ZW4gcmVzdWx0c1xuICAgICAgbGlzdGVuTXV0YXRpb25zOiBbXSxcbiAgICAgIC8vIE9wZXJhdGlvbiBzdGF0ZVxuICAgICAgcXVlcnlJblByb2dyZXNzOiAhMSxcbiAgICAgIGxpc3RlbkluUHJvZ3Jlc3M6ICExLFxuICAgICAgLy8gVUkgZHJhd2luZyBzdGF0ZVxuICAgICAgcGFuZVNpemVPcHRpb25zOiBjYWxjdWxhdGVQYW5lU2l6ZU9wdGlvbnMoYm9keUhlaWdodClcbiAgICB9LCB0aGlzLmhhbmRsZUNoYW5nZURhdGFzZXQgPSB0aGlzLmhhbmRsZUNoYW5nZURhdGFzZXQuYmluZCh0aGlzKSwgdGhpcy5oYW5kbGVDaGFuZ2VBcGlWZXJzaW9uID0gdGhpcy5oYW5kbGVDaGFuZ2VBcGlWZXJzaW9uLmJpbmQodGhpcyksIHRoaXMuaGFuZGxlQ3VzdG9tQXBpVmVyc2lvbkNoYW5nZSA9IHRoaXMuaGFuZGxlQ3VzdG9tQXBpVmVyc2lvbkNoYW5nZS5iaW5kKHRoaXMpLCB0aGlzLmhhbmRsZUNoYW5nZVBlcnNwZWN0aXZlID0gdGhpcy5oYW5kbGVDaGFuZ2VQZXJzcGVjdGl2ZS5iaW5kKHRoaXMpLCB0aGlzLmhhbmRsZUxpc3RlbkV4ZWN1dGlvbiA9IHRoaXMuaGFuZGxlTGlzdGVuRXhlY3V0aW9uLmJpbmQodGhpcyksIHRoaXMuaGFuZGxlTGlzdGVuZXJFdmVudCA9IHRoaXMuaGFuZGxlTGlzdGVuZXJFdmVudC5iaW5kKHRoaXMpLCB0aGlzLmhhbmRsZVF1ZXJ5RXhlY3V0aW9uID0gdGhpcy5oYW5kbGVRdWVyeUV4ZWN1dGlvbi5iaW5kKHRoaXMpLCB0aGlzLmhhbmRsZVF1ZXJ5Q2hhbmdlID0gdGhpcy5oYW5kbGVRdWVyeUNoYW5nZS5iaW5kKHRoaXMpLCB0aGlzLmhhbmRsZVBhcmFtc0NoYW5nZSA9IHRoaXMuaGFuZGxlUGFyYW1zQ2hhbmdlLmJpbmQodGhpcyksIHRoaXMuaGFuZGxlQ29weVVybCA9IHRoaXMuaGFuZGxlQ29weVVybC5iaW5kKHRoaXMpLCB0aGlzLmhhbmRsZVBhc3RlID0gdGhpcy5oYW5kbGVQYXN0ZS5iaW5kKHRoaXMpLCB0aGlzLmhhbmRsZUtleURvd24gPSB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKSwgdGhpcy5oYW5kbGVSZXNpemUgPSB0aGlzLmhhbmRsZVJlc2l6ZS5iaW5kKHRoaXMpO1xuICB9XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicGFzdGVcIiwgdGhpcy5oYW5kbGVQYXN0ZSksIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUtleURvd24pLCB0aGlzLmhhbmRsZVJlc2l6ZUxpc3RlbigpO1xuICB9XG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuY2FuY2VsUXVlcnkoKSwgdGhpcy5jYW5jZWxMaXN0ZW5lcigpLCB0aGlzLmNhbmNlbEV2ZW50TGlzdGVuZXIoKSwgdGhpcy5jYW5jZWxSZXNpemVMaXN0ZW5lcigpO1xuICB9XG4gIGhhbmRsZVJlc2l6ZUxpc3RlbigpIHtcbiAgICB0aGlzLl92aXNpb25Sb290LmN1cnJlbnQgJiYgKHRoaXMuX3Jlc2l6ZUxpc3RlbmVyID0gbmV3IFJPKHRoaXMuaGFuZGxlUmVzaXplKSwgdGhpcy5fcmVzaXplTGlzdGVuZXIub2JzZXJ2ZSh0aGlzLl92aXNpb25Sb290LmN1cnJlbnQpKTtcbiAgfVxuICBoYW5kbGVSZXNpemUoZW50cmllcykge1xuICAgIGNvbnN0IGVudHJ5ID0gZW50cmllcyA9PSBudWxsID8gdm9pZCAwIDogZW50cmllc1swXTtcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XG4gICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICBwYW5lU2l6ZU9wdGlvbnM6IGNhbGN1bGF0ZVBhbmVTaXplT3B0aW9ucyhlbnRyeS5jb250ZW50UmVjdC5oZWlnaHQpXG4gICAgfSkpO1xuICB9XG4gIGNhbmNlbFJlc2l6ZUxpc3RlbmVyKCkge1xuICAgIHRoaXMuX3Jlc2l6ZUxpc3RlbmVyICYmIHRoaXMuX3Jlc2l6ZUxpc3RlbmVyLmRpc2Nvbm5lY3QoKTtcbiAgfVxuICBoYW5kbGVQYXN0ZShldnQpIHtcbiAgICBpZiAoIWV2dC5jbGlwYm9hcmREYXRhKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG1hdGNoID0gZXZ0LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIikubWF0Y2goc2FuaXR5VXJsKTtcbiAgICBpZiAoIW1hdGNoKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IFssIHVzZWRBcGlWZXJzaW9uLCB1c2VkRGF0YXNldCwgdXJsUXVlcnldID0gbWF0Y2g7XG4gICAgbGV0IHBhcnRzO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBxcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXModXJsUXVlcnkpO1xuICAgICAgcGFydHMgPSBwYXJzZUFwaVF1ZXJ5U3RyaW5nKHFzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIHdoaWxlIHRyeWluZyB0byBwYXJzZSBBUEkgVVJMOiBcIiwgZXJyLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgYXBpVmVyc2lvbiwgY3VzdG9tQXBpVmVyc2lvbjtcbiAgICB2YWxpZGF0ZUFwaVZlcnNpb24odXNlZEFwaVZlcnNpb24pICYmIChBUElfVkVSU0lPTlMuaW5jbHVkZXModXNlZEFwaVZlcnNpb24pID8gKGFwaVZlcnNpb24gPSB1c2VkQXBpVmVyc2lvbiwgY3VzdG9tQXBpVmVyc2lvbiA9ICExKSA6IGN1c3RvbUFwaVZlcnNpb24gPSB1c2VkQXBpVmVyc2lvbik7XG4gICAgY29uc3QgcGVyc3BlY3RpdmUgPSBQRVJTUEVDVElWRVMuaW5jbHVkZXMocGFydHMub3B0aW9ucy5wZXJzcGVjdGl2ZSkgPyBwYXJ0cy5vcHRpb25zLnBlcnNwZWN0aXZlIDogdm9pZCAwO1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnNldFN0YXRlKFxuICAgICAgKHByZXZTdGF0ZSkgPT4gKHtcbiAgICAgICAgZGF0YXNldDogdGhpcy5wcm9wcy5kYXRhc2V0cy5pbmNsdWRlcyh1c2VkRGF0YXNldCkgPyB1c2VkRGF0YXNldCA6IHByZXZTdGF0ZS5kYXRhc2V0LFxuICAgICAgICBxdWVyeTogcGFydHMucXVlcnksXG4gICAgICAgIHBhcmFtczogcGFydHMucGFyYW1zLFxuICAgICAgICByYXdQYXJhbXM6IEpTT04uc3RyaW5naWZ5KHBhcnRzLnBhcmFtcywgbnVsbCwgMiksXG4gICAgICAgIGFwaVZlcnNpb246IHR5cGVvZiBhcGlWZXJzaW9uID4gXCJ1XCIgPyBwcmV2U3RhdGUuYXBpVmVyc2lvbiA6IGFwaVZlcnNpb24sXG4gICAgICAgIGN1c3RvbUFwaVZlcnNpb246IHR5cGVvZiBjdXN0b21BcGlWZXJzaW9uID4gXCJ1XCIgPyBwcmV2U3RhdGUuY3VzdG9tQXBpVmVyc2lvbiA6IGN1c3RvbUFwaVZlcnNpb24sXG4gICAgICAgIHBlcnNwZWN0aXZlOiB0eXBlb2YgcGVyc3BlY3RpdmUgPiBcInVcIiA/IHByZXZTdGF0ZS5wZXJzcGVjdGl2ZSA6IHBlcnNwZWN0aXZlXG4gICAgICB9KSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5fbG9jYWxTdG9yYWdlLm1lcmdlKHtcbiAgICAgICAgICBxdWVyeTogdGhpcy5zdGF0ZS5xdWVyeSxcbiAgICAgICAgICBwYXJhbXM6IHRoaXMuc3RhdGUucmF3UGFyYW1zLFxuICAgICAgICAgIGRhdGFzZXQ6IHRoaXMuc3RhdGUuZGF0YXNldCxcbiAgICAgICAgICBhcGlWZXJzaW9uOiBjdXN0b21BcGlWZXJzaW9uIHx8IGFwaVZlcnNpb24sXG4gICAgICAgICAgcGVyc3BlY3RpdmU6IHRoaXMuc3RhdGUucGVyc3BlY3RpdmVcbiAgICAgICAgfSksIHRoaXMuX2NsaWVudC5jb25maWcoe1xuICAgICAgICAgIGRhdGFzZXQ6IHRoaXMuc3RhdGUuZGF0YXNldCxcbiAgICAgICAgICBhcGlWZXJzaW9uOiBjdXN0b21BcGlWZXJzaW9uIHx8IGFwaVZlcnNpb24sXG4gICAgICAgICAgcGVyc3BlY3RpdmU6IHRoaXMuc3RhdGUucGVyc3BlY3RpdmVcbiAgICAgICAgfSksIHRoaXMuaGFuZGxlUXVlcnlFeGVjdXRpb24oKSwgdGhpcy5wcm9wcy50b2FzdC5wdXNoKHtcbiAgICAgICAgICBjbG9zYWJsZTogITAsXG4gICAgICAgICAgaWQ6IFwidmlzaW9uLXBhc3RlXCIsXG4gICAgICAgICAgc3RhdHVzOiBcImluZm9cIixcbiAgICAgICAgICB0aXRsZTogXCJQYXJzZWQgVVJMIHRvIHF1ZXJ5XCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuICBjYW5jZWxRdWVyeSgpIHtcbiAgICB0aGlzLl9xdWVyeVN1YnNjcmlwdGlvbiAmJiAodGhpcy5fcXVlcnlTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSwgdGhpcy5fcXVlcnlTdWJzY3JpcHRpb24gPSB2b2lkIDApO1xuICB9XG4gIGNhbmNlbExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2xpc3RlblN1YnNjcmlwdGlvbiAmJiAodGhpcy5fbGlzdGVuU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksIHRoaXMuX2xpc3RlblN1YnNjcmlwdGlvbiA9IHZvaWQgMCk7XG4gIH1cbiAgY2FuY2VsRXZlbnRMaXN0ZW5lcigpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVLZXlEb3duKTtcbiAgfVxuICBoYW5kbGVDaGFuZ2VEYXRhc2V0KGV2dCkge1xuICAgIGNvbnN0IGRhdGFzZXQgPSBldnQudGFyZ2V0LnZhbHVlO1xuICAgIHRoaXMuX2xvY2FsU3RvcmFnZS5zZXQoXCJkYXRhc2V0XCIsIGRhdGFzZXQpLCB0aGlzLnNldFN0YXRlKHsgZGF0YXNldCB9KSwgdGhpcy5fY2xpZW50LmNvbmZpZyh7IGRhdGFzZXQgfSksIHRoaXMuaGFuZGxlUXVlcnlFeGVjdXRpb24oKTtcbiAgfVxuICBoYW5kbGVDaGFuZ2VBcGlWZXJzaW9uKGV2dCkge1xuICAgIGNvbnN0IGFwaVZlcnNpb24gPSBldnQudGFyZ2V0LnZhbHVlO1xuICAgIGlmICgoYXBpVmVyc2lvbiA9PSBudWxsID8gdm9pZCAwIDogYXBpVmVyc2lvbi50b0xvd2VyQ2FzZSgpKSA9PT0gXCJvdGhlclwiKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgY3VzdG9tQXBpVmVyc2lvbjogXCJ2XCIgfSwgKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuX2N1c3RvbUFwaVZlcnNpb25FbGVtZW50LmN1cnJlbnQpID09IG51bGwgfHwgX2EuZm9jdXMoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHsgYXBpVmVyc2lvbiwgY3VzdG9tQXBpVmVyc2lvbjogITEgfSwgKCkgPT4ge1xuICAgICAgdGhpcy5fbG9jYWxTdG9yYWdlLnNldChcImFwaVZlcnNpb25cIiwgdGhpcy5zdGF0ZS5hcGlWZXJzaW9uKSwgdGhpcy5fY2xpZW50LmNvbmZpZyh7XG4gICAgICAgIGFwaVZlcnNpb246IHRoaXMuc3RhdGUuYXBpVmVyc2lvblxuICAgICAgfSksIHRoaXMuaGFuZGxlUXVlcnlFeGVjdXRpb24oKTtcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVDdXN0b21BcGlWZXJzaW9uQ2hhbmdlKGV2dCkge1xuICAgIGNvbnN0IGN1c3RvbUFwaVZlcnNpb24gPSBldnQudGFyZ2V0LnZhbHVlIHx8IFwiXCIsIGlzVmFsaWRBcGlWZXJzaW9uID0gdmFsaWRhdGVBcGlWZXJzaW9uKGN1c3RvbUFwaVZlcnNpb24pO1xuICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICAocHJldlN0YXRlKSA9PiAoe1xuICAgICAgICBhcGlWZXJzaW9uOiBpc1ZhbGlkQXBpVmVyc2lvbiA/IGN1c3RvbUFwaVZlcnNpb24gOiBwcmV2U3RhdGUuYXBpVmVyc2lvbixcbiAgICAgICAgY3VzdG9tQXBpVmVyc2lvbjogY3VzdG9tQXBpVmVyc2lvbiB8fCBcInZcIixcbiAgICAgICAgaXNWYWxpZEFwaVZlcnNpb25cbiAgICAgIH0pLFxuICAgICAgKCkgPT4ge1xuICAgICAgICAhdGhpcy5zdGF0ZS5pc1ZhbGlkQXBpVmVyc2lvbiB8fCB0eXBlb2YgdGhpcy5zdGF0ZS5jdXN0b21BcGlWZXJzaW9uICE9IFwic3RyaW5nXCIgfHwgKHRoaXMuX2xvY2FsU3RvcmFnZS5zZXQoXCJhcGlWZXJzaW9uXCIsIHRoaXMuc3RhdGUuY3VzdG9tQXBpVmVyc2lvbiksIHRoaXMuX2NsaWVudC5jb25maWcoeyBhcGlWZXJzaW9uOiB0aGlzLnN0YXRlLmN1c3RvbUFwaVZlcnNpb24gfSkpO1xuICAgICAgfVxuICAgICk7XG4gIH1cbiAgaGFuZGxlQ2hhbmdlUGVyc3BlY3RpdmUoZXZ0KSB7XG4gICAgY29uc3QgcGVyc3BlY3RpdmUgPSBldnQudGFyZ2V0LnZhbHVlO1xuICAgIGlzUGVyc3BlY3RpdmUocGVyc3BlY3RpdmUpICYmIHRoaXMuc2V0U3RhdGUoeyBwZXJzcGVjdGl2ZSB9LCAoKSA9PiB7XG4gICAgICB0aGlzLl9sb2NhbFN0b3JhZ2Uuc2V0KFwicGVyc3BlY3RpdmVcIiwgdGhpcy5zdGF0ZS5wZXJzcGVjdGl2ZSksIHRoaXMuX2NsaWVudC5jb25maWcoe1xuICAgICAgICBwZXJzcGVjdGl2ZTogdGhpcy5zdGF0ZS5wZXJzcGVjdGl2ZVxuICAgICAgfSksIHRoaXMuaGFuZGxlUXVlcnlFeGVjdXRpb24oKTtcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVMaXN0ZW5lckV2ZW50KGV2dCkge1xuICAgIGlmIChldnQudHlwZSAhPT0gXCJtdXRhdGlvblwiKSB7XG4gICAgICB0aGlzLnByb3BzLnRvYXN0LnB1c2goe1xuICAgICAgICBjbG9zYWJsZTogITAsXG4gICAgICAgIGlkOiBcInZpc2lvbi1saXN0ZW5cIixcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgdGl0bGU6IFwiTGlzdGVuaW5nIGZvciBtdXRhdGlvbnNcXHUyMDI2XCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKCh7IGxpc3Rlbk11dGF0aW9ucyB9KSA9PiAoe1xuICAgICAgbGlzdGVuTXV0YXRpb25zOiBsaXN0ZW5NdXRhdGlvbnMubGVuZ3RoID09PSA1MCA/IFtldnQsIC4uLmxpc3Rlbk11dGF0aW9ucy5zbGljZSgwLCA0OSldIDogW2V2dCwgLi4ubGlzdGVuTXV0YXRpb25zXVxuICAgIH0pKTtcbiAgfVxuICBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgY29uc3QgeyBoYXNWYWxpZFBhcmFtcyB9ID0gdGhpcy5zdGF0ZSwgaXNXaXRoaW5Sb290ID0gdGhpcy5fdmlzaW9uUm9vdC5jdXJyZW50ICYmIG5vZGVDb250YWlucyh0aGlzLl92aXNpb25Sb290LmN1cnJlbnQsIGV2ZW50LnRhcmdldCk7XG4gICAgaXNSdW5Ib3RrZXkoZXZlbnQpICYmIGlzV2l0aGluUm9vdCAmJiBoYXNWYWxpZFBhcmFtcyAmJiAodGhpcy5oYW5kbGVRdWVyeUV4ZWN1dGlvbigpLCBldmVudC5wcmV2ZW50RGVmYXVsdCgpLCBldmVudC5zdG9wUHJvcGFnYXRpb24oKSk7XG4gIH1cbiAgZW5zdXJlU2VsZWN0ZWRBcGlWZXJzaW9uKCkge1xuICAgIGNvbnN0IHsgYXBpVmVyc2lvbiwgY3VzdG9tQXBpVmVyc2lvbiB9ID0gdGhpcy5zdGF0ZSwgd2FudGVkQXBpVmVyc2lvbiA9IGN1c3RvbUFwaVZlcnNpb24gfHwgYXBpVmVyc2lvbjtcbiAgICB0aGlzLl9jbGllbnQuY29uZmlnKCkuYXBpVmVyc2lvbiAhPT0gd2FudGVkQXBpVmVyc2lvbiAmJiB0aGlzLl9jbGllbnQuY29uZmlnKHsgYXBpVmVyc2lvbjogd2FudGVkQXBpVmVyc2lvbiB9KTtcbiAgfVxuICBoYW5kbGVMaXN0ZW5FeGVjdXRpb24oKSB7XG4gICAgY29uc3QgeyBxdWVyeSwgcGFyYW1zLCByYXdQYXJhbXMsIGxpc3RlbkluUHJvZ3Jlc3MgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKGxpc3RlbkluUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuY2FuY2VsTGlzdGVuZXIoKSwgdGhpcy5zZXRTdGF0ZSh7IGxpc3RlbkluUHJvZ3Jlc3M6ICExIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmVuc3VyZVNlbGVjdGVkQXBpVmVyc2lvbigpO1xuICAgIGNvbnN0IHBhcmFtc0Vycm9yID0gcGFyYW1zIGluc3RhbmNlb2YgRXJyb3IgPyBwYXJhbXMgOiB2b2lkIDAsIGVuY29kZVBhcmFtcyA9IHBhcmFtcyBpbnN0YW5jZW9mIEVycm9yID8ge30gOiBwYXJhbXMgfHwge30sIHVybCA9IHRoaXMuX2NsaWVudC5nZXREYXRhVXJsKFwibGlzdGVuXCIsIGVuY29kZVF1ZXJ5U3RyaW5nKHF1ZXJ5LCBlbmNvZGVQYXJhbXMsIHt9KSksIHNob3VsZEV4ZWN1dGUgPSAhcGFyYW1zRXJyb3IgJiYgcXVlcnkudHJpbSgpLmxlbmd0aCA+IDA7XG4gICAgdGhpcy5fbG9jYWxTdG9yYWdlLnNldChcInF1ZXJ5XCIsIHF1ZXJ5KSwgdGhpcy5fbG9jYWxTdG9yYWdlLnNldChcInBhcmFtc1wiLCByYXdQYXJhbXMpLCB0aGlzLmNhbmNlbFF1ZXJ5KCksIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdXJsLFxuICAgICAgbGlzdGVuTXV0YXRpb25zOiBbXSxcbiAgICAgIHF1ZXJ5SW5Qcm9ncmVzczogITEsXG4gICAgICBxdWVyeVJlc3VsdDogdm9pZCAwLFxuICAgICAgbGlzdGVuSW5Qcm9ncmVzczogc2hvdWxkRXhlY3V0ZSxcbiAgICAgIGVycm9yOiBwYXJhbXNFcnJvcixcbiAgICAgIHF1ZXJ5VGltZTogdm9pZCAwLFxuICAgICAgZTJlVGltZTogdm9pZCAwXG4gICAgfSksIHNob3VsZEV4ZWN1dGUgJiYgKHRoaXMuX2xpc3RlblN1YnNjcmlwdGlvbiA9IHRoaXMuX2NsaWVudC5saXN0ZW4ocXVlcnksIHBhcmFtcywgeyBldmVudHM6IFtcIm11dGF0aW9uXCIsIFwid2VsY29tZVwiXSB9KS5zdWJzY3JpYmUoe1xuICAgICAgbmV4dDogdGhpcy5oYW5kbGVMaXN0ZW5lckV2ZW50LFxuICAgICAgZXJyb3I6IChlcnJvcikgPT4gdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgbGlzdGVuSW5Qcm9ncmVzczogITFcbiAgICAgIH0pXG4gICAgfSkpO1xuICB9XG4gIGhhbmRsZVF1ZXJ5RXhlY3V0aW9uKCkge1xuICAgIGNvbnN0IHsgcXVlcnksIHBhcmFtcywgcmF3UGFyYW1zLCBxdWVyeUluUHJvZ3Jlc3MgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKHF1ZXJ5SW5Qcm9ncmVzcylcbiAgICAgIHJldHVybiB0aGlzLmNhbmNlbFF1ZXJ5KCksIHRoaXMuY2FuY2VsTGlzdGVuZXIoKSwgdGhpcy5zZXRTdGF0ZSh7IHF1ZXJ5SW5Qcm9ncmVzczogITEgfSksICEwO1xuICAgIGNvbnN0IHBhcmFtc0Vycm9yID0gcGFyYW1zIGluc3RhbmNlb2YgRXJyb3IgJiYgcGFyYW1zO1xuICAgIGlmICh0aGlzLl9sb2NhbFN0b3JhZ2Uuc2V0KFwicXVlcnlcIiwgcXVlcnkpLCB0aGlzLl9sb2NhbFN0b3JhZ2Uuc2V0KFwicGFyYW1zXCIsIHJhd1BhcmFtcyksIHRoaXMuY2FuY2VsTGlzdGVuZXIoKSwgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBxdWVyeUluUHJvZ3Jlc3M6ICFwYXJhbXNFcnJvciAmJiAhIXF1ZXJ5LFxuICAgICAgbGlzdGVuSW5Qcm9ncmVzczogITEsXG4gICAgICBsaXN0ZW5NdXRhdGlvbnM6IFtdLFxuICAgICAgZXJyb3I6IHBhcmFtc0Vycm9yIHx8IHZvaWQgMCxcbiAgICAgIHF1ZXJ5UmVzdWx0OiB2b2lkIDAsXG4gICAgICBxdWVyeVRpbWU6IHZvaWQgMCxcbiAgICAgIGUyZVRpbWU6IHZvaWQgMFxuICAgIH0pLCAhcXVlcnkgfHwgcGFyYW1zRXJyb3IpXG4gICAgICByZXR1cm4gITA7XG4gICAgdGhpcy5lbnN1cmVTZWxlY3RlZEFwaVZlcnNpb24oKTtcbiAgICBjb25zdCB1cmxRdWVyeU9wdHMgPSB7fTtcbiAgICB0aGlzLnN0YXRlLnBlcnNwZWN0aXZlICE9PSBcInJhd1wiICYmICh1cmxRdWVyeU9wdHMucGVyc3BlY3RpdmUgPSB0aGlzLnN0YXRlLnBlcnNwZWN0aXZlKTtcbiAgICBjb25zdCB1cmwgPSB0aGlzLl9jbGllbnQuZ2V0VXJsKFxuICAgICAgdGhpcy5fY2xpZW50LmdldERhdGFVcmwoXCJxdWVyeVwiLCBlbmNvZGVRdWVyeVN0cmluZyhxdWVyeSwgcGFyYW1zLCB1cmxRdWVyeU9wdHMpKVxuICAgICk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHVybCB9KTtcbiAgICBjb25zdCBxdWVyeVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gdGhpcy5fcXVlcnlTdWJzY3JpcHRpb24gPSB0aGlzLl9jbGllbnQub2JzZXJ2YWJsZS5mZXRjaChxdWVyeSwgcGFyYW1zLCB7IGZpbHRlclJlc3BvbnNlOiAhMSwgdGFnOiBcInZpc2lvblwiIH0pLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAocmVzKSA9PiB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcXVlcnlUaW1lOiByZXMubXMsXG4gICAgICAgIGUyZVRpbWU6IERhdGUubm93KCkgLSBxdWVyeVN0YXJ0LFxuICAgICAgICBxdWVyeVJlc3VsdDogcmVzLnJlc3VsdCxcbiAgICAgICAgcXVlcnlJblByb2dyZXNzOiAhMSxcbiAgICAgICAgZXJyb3I6IHZvaWQgMFxuICAgICAgfSksXG4gICAgICBlcnJvcjogKGVycm9yKSA9PiB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBxdWVyeUluUHJvZ3Jlc3M6ICExXG4gICAgICB9KVxuICAgIH0pLCAhMDtcbiAgfVxuICBoYW5kbGVRdWVyeUNoYW5nZShxdWVyeSkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBxdWVyeSB9KTtcbiAgfVxuICBoYW5kbGVQYXJhbXNDaGFuZ2UoeyByYXcsIHBhcnNlZCwgdmFsaWQsIGVycm9yIH0pIHtcbiAgICB0aGlzLnNldFN0YXRlKFxuICAgICAge1xuICAgICAgICByYXdQYXJhbXM6IHJhdyxcbiAgICAgICAgcGFyYW1zOiBwYXJzZWQsXG4gICAgICAgIGhhc1ZhbGlkUGFyYW1zOiB2YWxpZCxcbiAgICAgICAgcGFyYW1zRXJyb3I6IGVycm9yXG4gICAgICB9LFxuICAgICAgKCkgPT4gdGhpcy5fbG9jYWxTdG9yYWdlLnNldChcInBhcmFtc1wiLCByYXcpXG4gICAgKTtcbiAgfVxuICBoYW5kbGVDb3B5VXJsKCkge1xuICAgIGNvbnN0IGVsID0gdGhpcy5fb3BlcmF0aW9uVXJsRWxlbWVudC5jdXJyZW50O1xuICAgIGlmIChlbClcbiAgICAgIHRyeSB7XG4gICAgICAgIGVsLnNlbGVjdCgpLCBkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIiksIHRoaXMucHJvcHMudG9hc3QucHVzaCh7XG4gICAgICAgICAgY2xvc2FibGU6ICEwLFxuICAgICAgICAgIHRpdGxlOiBcIkNvcGllZCB0byBjbGlwYm9hcmRcIixcbiAgICAgICAgICBzdGF0dXM6IFwiaW5mb1wiLFxuICAgICAgICAgIGlkOiBcInZpc2lvbi1jb3B5XCJcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBjb3B5IHRvIGNsaXBib2FyZCA6KFwiKTtcbiAgICAgIH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkYXRhc2V0cywgdCB9ID0gdGhpcy5wcm9wcywge1xuICAgICAgYXBpVmVyc2lvbixcbiAgICAgIGN1c3RvbUFwaVZlcnNpb24sXG4gICAgICBkYXRhc2V0LFxuICAgICAgZTJlVGltZSxcbiAgICAgIGVycm9yLFxuICAgICAgaGFzVmFsaWRQYXJhbXMsXG4gICAgICBpc1ZhbGlkQXBpVmVyc2lvbixcbiAgICAgIGxpc3RlbkluUHJvZ3Jlc3MsXG4gICAgICBsaXN0ZW5NdXRhdGlvbnMsXG4gICAgICBwYW5lU2l6ZU9wdGlvbnMsXG4gICAgICBwYXJhbXNFcnJvcixcbiAgICAgIHBlcnNwZWN0aXZlLFxuICAgICAgcXVlcnksXG4gICAgICBxdWVyeUluUHJvZ3Jlc3MsXG4gICAgICBxdWVyeVJlc3VsdCxcbiAgICAgIHF1ZXJ5VGltZSxcbiAgICAgIHJhd1BhcmFtcyxcbiAgICAgIHVybFxuICAgIH0gPSB0aGlzLnN0YXRlLCBoYXNSZXN1bHQgPSAhZXJyb3IgJiYgIXF1ZXJ5SW5Qcm9ncmVzcyAmJiB0eXBlb2YgcXVlcnlSZXN1bHQgPCBcInVcIiwganNvblVybCA9IGhhc1Jlc3VsdCA/IGdldEpzb25CbG9iVXJsKHF1ZXJ5UmVzdWx0KSA6IFwiXCIsIGNzdlVybCA9IGhhc1Jlc3VsdCA/IGdldENzdkJsb2JVcmwocXVlcnlSZXN1bHQpIDogXCJcIjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgICBSb290LFxuICAgICAge1xuICAgICAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGhlaWdodDogXCJmaWxsXCIsXG4gICAgICAgIHJlZjogdGhpcy5fdmlzaW9uUm9vdCxcbiAgICAgICAgc2l6aW5nOiBcImJvcmRlclwiLFxuICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KEhlYWRlciwgeyBwYWRkaW5nWDogMywgcGFkZGluZ1k6IDIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhHcmlkLCB7IGNvbHVtbnM6IFsxLCA0LCA4LCAxMl0sIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBwYWRkaW5nOiAxLCBjb2x1bW46IDIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhTdGFjaywgeyBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KENhcmQsIHsgcGFkZGluZ1RvcDogMiwgcGFkZGluZ0JvdHRvbTogMywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU3R5bGVkTGFiZWwsIHsgY2hpbGRyZW46IHQoXCJzZXR0aW5ncy5kYXRhc2V0LWxhYmVsXCIpIH0pIH0pLFxuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFNlbGVjdCwgeyB2YWx1ZTogZGF0YXNldCwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlRGF0YXNldCwgY2hpbGRyZW46IGRhdGFzZXRzLm1hcCgoZHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJvcHRpb25cIiwgeyBjaGlsZHJlbjogZHMgfSwgZHMpKSB9KVxuICAgICAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IHBhZGRpbmc6IDEsIGNvbHVtbjogMiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFN0YWNrLCB7IGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyBwYWRkaW5nVG9wOiAyLCBwYWRkaW5nQm90dG9tOiAzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTdHlsZWRMYWJlbCwgeyBjaGlsZHJlbjogdChcInNldHRpbmdzLmFwaS12ZXJzaW9uLWxhYmVsXCIpIH0pIH0pLFxuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgICAgICAgICBTZWxlY3QsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1c3RvbUFwaVZlcnNpb24gPT09ICExID8gYXBpVmVyc2lvbiA6IFwib3RoZXJcIixcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZUFwaVZlcnNpb24sXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICBBUElfVkVSU0lPTlMubWFwKCh2ZXJzaW9uKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFwib3B0aW9uXCIsIHsgY2hpbGRyZW46IHZlcnNpb24gfSwgdmVyc2lvbikpLFxuICAgICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwib3B0aW9uXCIsIHsgdmFsdWU6IFwib3RoZXJcIiwgY2hpbGRyZW46IHQoXCJzZXR0aW5ncy5vdGhlci1hcGktdmVyc2lvbi1sYWJlbFwiKSB9LCBcIm90aGVyXCIpXG4gICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdIH0pIH0pLFxuICAgICAgICAgICAgY3VzdG9tQXBpVmVyc2lvbiAhPT0gITEgJiYgLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgcGFkZGluZzogMSwgY29sdW1uOiAyLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoU3RhY2ssIHsgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChDYXJkLCB7IHBhZGRpbmdUb3A6IDIsIHBhZGRpbmdCb3R0b206IDMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFN0eWxlZExhYmVsLCB7IHRleHRPdmVyZmxvdzogXCJlbGxpcHNpc1wiLCBjaGlsZHJlbjogdChcInNldHRpbmdzLmN1c3RvbS1hcGktdmVyc2lvbi1sYWJlbFwiKSB9KSB9KSxcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgICBUZXh0SW5wdXQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVmOiB0aGlzLl9jdXN0b21BcGlWZXJzaW9uRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdXN0b21BcGlWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ3VzdG9tQXBpVmVyc2lvbkNoYW5nZSxcbiAgICAgICAgICAgICAgICAgIGN1c3RvbVZhbGlkaXR5OiBpc1ZhbGlkQXBpVmVyc2lvbiA/IHZvaWQgMCA6IHQoXCJzZXR0aW5ncy5lcnJvci5pbnZhbGlkLWFwaS12ZXJzaW9uXCIpLFxuICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAxMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IHBhZGRpbmc6IDEsIGNvbHVtbjogMiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFN0YWNrLCB7IGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyBwYWRkaW5nQm90dG9tOiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoSW5saW5lLCB7IHNwYWNlOiAxLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFN0eWxlZExhYmVsLCB7IGNoaWxkcmVuOiB0KFwic2V0dGluZ3MucGVyc3BlY3RpdmUtbGFiZWxcIikgfSkgfSksXG4gICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUGVyc3BlY3RpdmVQb3BvdmVyLCB7fSkgfSlcbiAgICAgICAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3QsIHsgdmFsdWU6IHBlcnNwZWN0aXZlLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VQZXJzcGVjdGl2ZSwgY2hpbGRyZW46IFBFUlNQRUNUSVZFUy5tYXAoKHApID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJvcHRpb25cIiwgeyBjaGlsZHJlbjogcCB9LCBwKSkgfSlcbiAgICAgICAgICAgIF0gfSkgfSksXG4gICAgICAgICAgICB0eXBlb2YgdXJsID09IFwic3RyaW5nXCIgPyAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBwYWRkaW5nOiAxLCBmbGV4OiAxLCBjb2x1bW46IGN1c3RvbUFwaVZlcnNpb24gPT09ICExID8gNiA6IDQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhTdGFjaywgeyBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KENhcmQsIHsgcGFkZGluZ1RvcDogMiwgcGFkZGluZ0JvdHRvbTogMywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFN0eWxlZExhYmVsLCB7IGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgdChcInF1ZXJ5LnVybFwiKSxcbiAgICAgICAgICAgICAgICBcIlxceEEwXCIsXG4gICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMoUXVlcnlDb3B5TGluaywgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZUNvcHlVcmwsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICBcIltcIixcbiAgICAgICAgICAgICAgICAgIHQoXCJhY3Rpb24uY29weS11cmwtdG8tY2xpcGJvYXJkXCIpLFxuICAgICAgICAgICAgICAgICAgXCJdXCJcbiAgICAgICAgICAgICAgICBdIH0pXG4gICAgICAgICAgICAgIF0gfSkgfSksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZsZXgsIHsgZmxleDogMSwgZ2FwOiAxLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGZsZXg6IDEsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFRleHRJbnB1dCwgeyByZWFkT25seTogITAsIHR5cGU6IFwidXJsXCIsIHJlZjogdGhpcy5fb3BlcmF0aW9uVXJsRWxlbWVudCwgdmFsdWU6IHVybCB9KSB9KSxcbiAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFRvb2x0aXAsIHsgY29udGVudDogdChcImFjdGlvbi5jb3B5LXVybC10by1jbGlwYm9hcmRcIiksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICAgICAgQnV0dG9uLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogdChcImFjdGlvbi5jb3B5LXVybC10by1jbGlwYm9hcmRcIiksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiZ2hvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogQ29weUljb24sXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ29weVVybFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICkgfSlcbiAgICAgICAgICAgICAgXSB9KVxuICAgICAgICAgICAgXSB9KSB9KSA6IC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGZsZXg6IDEgfSlcbiAgICAgICAgICBdIH0pIH0pLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goU3BsaXRwYW5lQ29udGFpbmVyLCB7IGZsZXg6IFwiYXV0b1wiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgICAgICAgICBTcGxpdFBhbmUsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNwbGl0OiBuYXJyb3dCcmVha3BvaW50KCkgPyBcInZlcnRpY2FsXCIgOiBcImhvcml6b250YWxcIixcbiAgICAgICAgICAgICAgbWluU2l6ZTogMjgwLFxuICAgICAgICAgICAgICBkZWZhdWx0U2l6ZTogNDAwLFxuICAgICAgICAgICAgICBtYXhTaXplOiAtNDAwLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGhlaWdodDogXCJzdHJldGNoXCIsIGZsZXg6IDEsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgICAgICAgICAgIFNwbGl0UGFuZSxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcInNpZGViYXJQYW5lc1wiLFxuICAgICAgICAgICAgICAgICAgICBzcGxpdDogXCJob3Jpem9udGFsXCIsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaXplOiBuYXJyb3dCcmVha3BvaW50KCkgPyBwYW5lU2l6ZU9wdGlvbnMuZGVmYXVsdFNpemUgOiBwYW5lU2l6ZU9wdGlvbnMubWluU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogcGFuZVNpemVPcHRpb25zLnNpemUsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93UmVzaXplOiBwYW5lU2l6ZU9wdGlvbnMuYWxsb3dSZXNpemUsXG4gICAgICAgICAgICAgICAgICAgIG1pblNpemU6IG5hcnJvd0JyZWFrcG9pbnQoKSA/IHBhbmVTaXplT3B0aW9ucy5taW5TaXplIDogMTAwLFxuICAgICAgICAgICAgICAgICAgICBtYXhTaXplOiBwYW5lU2l6ZU9wdGlvbnMubWF4U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeTogXCJmaXJzdFwiLFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goSW5wdXRDb250YWluZXIsIHsgZGlzcGxheTogXCJmbGV4XCIsIHJlZjogdGhpcy5fcXVlcnlFZGl0b3JDb250YWluZXIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhCb3gsIHsgZmxleDogMSwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goSW5wdXRCYWNrZ3JvdW5kQ29udGFpbmVyTGVmdCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChGbGV4LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFN0eWxlZExhYmVsLCB7IG11dGVkOiAhMCwgY2hpbGRyZW46IHQoXCJxdWVyeS5sYWJlbFwiKSB9KSB9KSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVmlzaW9uQ29kZU1pcnJvciwgeyB2YWx1ZTogcXVlcnksIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVF1ZXJ5Q2hhbmdlIH0pXG4gICAgICAgICAgICAgICAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhJbnB1dENvbnRhaW5lciwgeyBkaXNwbGF5OiBcImZsZXhcIiwgcmVmOiB0aGlzLl9wYXJhbXNFZGl0b3JDb250YWluZXIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhDYXJkLCB7IGZsZXg6IDEsIHRvbmU6IGhhc1ZhbGlkUGFyYW1zID8gXCJkZWZhdWx0XCIgOiBcImNyaXRpY2FsXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goSW5wdXRCYWNrZ3JvdW5kQ29udGFpbmVyTGVmdCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoRmxleCwgeyBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goU3R5bGVkTGFiZWwsIHsgbXV0ZWQ6ICEwLCBjaGlsZHJlbjogdChcInBhcmFtcy5sYWJlbFwiKSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNFcnJvciAmJiAvKiBAX19QVVJFX18gKi8ganN4KFRvb2x0aXAsIHsgcGxhY2VtZW50OiBcInRvcC1lbmRcIiwgcG9ydGFsOiAhMCwgY29udGVudDogcGFyYW1zRXJyb3IsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBwYWRkaW5nOiAxLCBtYXJnaW5YOiAyLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEVycm9yT3V0bGluZUljb24sIHt9KSB9KSB9KSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdIH0pIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFBhcmFtc0VkaXRvciwgeyB2YWx1ZTogcmF3UGFyYW1zLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVQYXJhbXNDaGFuZ2UgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0gfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KENvbnRyb2xzQ29udGFpbmVyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENhcmQsIHsgcGFkZGluZzogMywgcGFkZGluZ1g6IDMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBUb29sdGlwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogLyogQF9fUFVSRV9fICovIGpzeChDYXJkLCB7IHJhZGl1czogNCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyBzaXplOiAxLCBtdXRlZDogITAsIGNoaWxkcmVuOiB0KFwicGFyYW1zLmVycm9yLnBhcmFtcy1pbnZhbGlkLWpzb25cIikgfSkgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBcInRvcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBoYXNWYWxpZFBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWw6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhGbGV4LCB7IGp1c3RpZnk6IFwic3BhY2UtZXZlbmx5XCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBmbGV4OiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9vbHRpcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyByYWRpdXM6IDQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEhvdGtleXMsIHsga2V5czogW1wiQ3RybFwiLCBcIkVudGVyXCJdIH0pIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogXCJ0b3BcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWw6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCJmaWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlUXVlcnlFeGVjdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IHF1ZXJ5SW5Qcm9ncmVzcyA/IFN0b3BJY29uIDogUGxheUljb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBsaXN0ZW5JblByb2dyZXNzIHx8ICFoYXNWYWxpZFBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9uZTogcXVlcnlJblByb2dyZXNzID8gXCJwb3NpdGl2ZVwiIDogXCJwcmltYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHQocXVlcnlJblByb2dyZXNzID8gXCJhY3Rpb24ucXVlcnktY2FuY2VsXCIgOiBcImFjdGlvbi5xdWVyeS1leGVjdXRlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgZmxleDogMSwgbWFyZ2luTGVmdDogMywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ1dHRvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcImZpbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUxpc3RlbkV4ZWN1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGxpc3RlbkluUHJvZ3Jlc3MgPyBTdG9wSWNvbiA6IFBsYXlJY29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHQobGlzdGVuSW5Qcm9ncmVzcyA/IFwiYWN0aW9uLmxpc3Rlbi1jYW5jZWxcIiA6IFwiYWN0aW9uLmxpc3Rlbi1leGVjdXRlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiZ2hvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogIWhhc1ZhbGlkUGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvbmU6IGxpc3RlbkluUHJvZ3Jlc3MgPyBcInBvc2l0aXZlXCIgOiBcImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICApIH0pIH0pXG4gICAgICAgICAgICAgICAgICAgICAgXSB9KVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSB9KSxcbiAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhSZXN1bHRPdXRlckNvbnRhaW5lciwgeyBkaXJlY3Rpb246IFwiY29sdW1uXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFJlc3VsdElubmVyQ29udGFpbmVyLCB7IGZsZXg6IDEsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICAgICAgICBSZXN1bHRDb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRvbmU6IGVycm9yID8gXCJjcml0aWNhbFwiIDogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgJGlzSW52YWxpZDogISFlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoUmVzdWx0LCB7IG92ZXJmbG93OiBcImF1dG9cIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goSW5wdXRCYWNrZ3JvdW5kQ29udGFpbmVyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBtYXJnaW5MZWZ0OiAzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTdHlsZWRMYWJlbCwgeyBtdXRlZDogITAsIGNoaWxkcmVuOiB0KFwicmVzdWx0LmxhYmVsXCIpIH0pIH0pIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMoQm94LCB7IHBhZGRpbmc6IDMsIHBhZGRpbmdUb3A6IDUsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChxdWVyeUluUHJvZ3Jlc3MgfHwgbGlzdGVuSW5Qcm9ncmVzcyAmJiBsaXN0ZW5NdXRhdGlvbnMubGVuZ3RoID09PSAwKSAmJiAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBtYXJnaW5Ub3A6IDMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KERlbGF5ZWRTcGlubmVyLCB7fSkgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goUXVlcnlFcnJvckRpYWxvZywgeyBlcnJvciB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzUmVzdWx0ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goUmVzdWx0VmlldywgeyBkYXRhOiBxdWVyeVJlc3VsdCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuSW5Qcm9ncmVzcyAmJiBsaXN0ZW5NdXRhdGlvbnMubGVuZ3RoID4gMCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFJlc3VsdFZpZXcsIHsgZGF0YTogbGlzdGVuTXV0YXRpb25zIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdIH0pXG4gICAgICAgICAgICAgICAgICAgICAgXSB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICApIH0pLFxuICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMoUmVzdWx0Rm9vdGVyLCB7IGp1c3RpZnk6IFwic3BhY2UtYmV0d2VlblwiLCBkaXJlY3Rpb246IFtcImNvbHVtblwiLCBcImNvbHVtblwiLCBcInJvd1wiXSwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChUaW1pbmdzQ2FyZCwgeyBwYWRkaW5nWDogNCwgcGFkZGluZ1k6IDMsIHNpemluZzogXCJib3JkZXJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFRpbWluZ3NUZXh0Q29udGFpbmVyLCB7IGFsaWduOiBcImNlbnRlclwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhUZXh0LCB7IG11dGVkOiAhMCwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQoXCJyZXN1bHQuZXhlY3V0aW9uLXRpbWUtbGFiZWxcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjpcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHF1ZXJ5VGltZSA9PSBcIm51bWJlclwiID8gYCR7cXVlcnlUaW1lfW1zYCA6IHQoXCJyZXN1bHQudGltaW5nLW5vdC1hcHBsaWNhYmxlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBtYXJnaW5MZWZ0OiA0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoVGV4dCwgeyBtdXRlZDogITAsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB0KFwicmVzdWx0LmVuZC10by1lbmQtdGltZS1sYWJlbFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiOlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZTJlVGltZSA9PSBcIm51bWJlclwiID8gYCR7ZTJlVGltZX1tc2AgOiB0KFwicmVzdWx0LnRpbWluZy1ub3QtYXBwbGljYWJsZVwiKVxuICAgICAgICAgICAgICAgICAgICAgIF0gfSkgfSlcbiAgICAgICAgICAgICAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgICAgICAgICAgICAgaGFzUmVzdWx0ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goRG93bmxvYWRzQ2FyZCwgeyBwYWRkaW5nWDogNCwgcGFkZGluZ1k6IDMsIHNpemluZzogXCJib3JkZXJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU2F2ZVJlc3VsdExhYmVsLCB7IG11dGVkOiAhMCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRlLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgU2F2ZVJlc3VsdEJ1dHRvbnM6ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChTYXZlSnNvbkJ1dHRvbiwgeyBibG9iVXJsOiBqc29uVXJsIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goU2F2ZUNzdkJ1dHRvbiwgeyBibG9iVXJsOiBjc3ZVcmwgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGkxOG5LZXk6IFwicmVzdWx0LnNhdmUtcmVzdWx0LWFzLWZvcm1hdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKSB9KSB9KVxuICAgICAgICAgICAgICAgICAgXSB9KVxuICAgICAgICAgICAgICAgIF0gfSlcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICkgfSlcbiAgICAgICAgXVxuICAgICAgfVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZURhdGFzZXRzKGNsaWVudCkge1xuICBjb25zdCBwcm9qZWN0SWQgPSBjbGllbnQuY29uZmlnKCkucHJvamVjdElkLCBbZGF0YXNldHMsIHNldERhdGFzZXRzXSA9IHVzZVN0YXRlKCk7XG4gIHJldHVybiB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGRhdGFzZXRzJCA9IGNsaWVudC5vYnNlcnZhYmxlLmRhdGFzZXRzLmxpc3QoKS5zdWJzY3JpYmUoe1xuICAgICAgbmV4dDogKHJlc3VsdCkgPT4gc2V0RGF0YXNldHMocmVzdWx0Lm1hcCgoZHMpID0+IGRzLm5hbWUpKSxcbiAgICAgIGVycm9yOiAoZXJyKSA9PiBzZXREYXRhc2V0cyhlcnIpXG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IGRhdGFzZXRzJC51bnN1YnNjcmliZSgpO1xuICB9LCBbY2xpZW50LCBwcm9qZWN0SWRdKSwgZGF0YXNldHMgfHwgdm9pZCAwO1xufVxuZnVuY3Rpb24gVmlzaW9uQ29udGFpbmVyKHByb3BzKSB7XG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKSwgbG9hZGVkRGF0YXNldHMgPSB1c2VEYXRhc2V0cyhwcm9wcy5jbGllbnQpLCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKHZpc2lvbkxvY2FsZU5hbWVzcGFjZSk7XG4gIGlmICghbG9hZGVkRGF0YXNldHMpXG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRmxleCwgeyBhbGlnbjogXCJjZW50ZXJcIiwgaGVpZ2h0OiBcImZpbGxcIiwganVzdGlmeTogXCJjZW50ZXJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRGVsYXllZFNwaW5uZXIsIHt9KSB9KTtcbiAgY29uc3QgZGF0YXNldHMgPSBsb2FkZWREYXRhc2V0cyBpbnN0YW5jZW9mIEVycm9yID8gKFxuICAgIC8vIE9uIGVycm9yLCB1c2UgdGhlIGNsaWVudHMgY29uZmlndXJlZCBkYXRhc2V0XG4gICAgW3Byb3BzLmNsaWVudC5jb25maWcoKS5kYXRhc2V0IHx8IFwicHJvZHVjdGlvblwiXVxuICApIDogKFxuICAgIC8vIE90aGVyd2lzZSB1c2UgdGhlIGxvYWRlZCBsaXN0LCBvYnZpb3VzbHlcbiAgICBsb2FkZWREYXRhc2V0c1xuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChWaXNpb25HdWksIHsgLi4ucHJvcHMsIGRhdGFzZXRzLCB0b2FzdCwgdCB9KTtcbn1cbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgVmlzaW9uRXJyb3JCb3VuZGFyeSBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaGFuZGxlUmV0cnlSZW5kZXJcIiwgKCkgPT4gdGhpcy5zZXRTdGF0ZSgocHJldikgPT4gKHsgZXJyb3I6IG51bGwsIG51bVJldHJpZXM6IHByZXYubnVtUmV0cmllcyArIDEgfSkpKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcImhhbmRsZVJldHJ5V2l0aENhY2hlQ2xlYXJcIiwgKCkgPT4ge1xuICAgICAgY2xlYXJMb2NhbFN0b3JhZ2UoKSwgdGhpcy5oYW5kbGVSZXRyeVJlbmRlcigpO1xuICAgIH0pLCB0aGlzLnN0YXRlID0geyBlcnJvcjogbnVsbCwgbnVtUmV0cmllczogMCB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBgJHtlcnJvcn1gIH07XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5lcnJvcilcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLnN0YXRlLmVycm9yLCB3aXRoQ2FjaGVDbGVhciA9IHRoaXMuc3RhdGUubnVtUmV0cmllcyA+IDA7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBDYXJkLFxuICAgICAge1xuICAgICAgICBoZWlnaHQ6IFwiZmlsbFwiLFxuICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgICAgIHBhZGRpbmdZOiBbNCwgNSwgNiwgN10sXG4gICAgICAgIHBhZGRpbmdYOiA0LFxuICAgICAgICBzaXppbmc6IFwiYm9yZGVyXCIsXG4gICAgICAgIHRvbmU6IFwiY3JpdGljYWxcIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ29udGFpbmVyLCB7IHdpZHRoOiAzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoU3RhY2ssIHsgc3BhY2U6IDQsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgQnV0dG9uLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvbkNsaWNrOiB3aXRoQ2FjaGVDbGVhciA/IHRoaXMuaGFuZGxlUmV0cnlXaXRoQ2FjaGVDbGVhciA6IHRoaXMuaGFuZGxlUmV0cnlSZW5kZXIsXG4gICAgICAgICAgICAgIHRleHQ6IHdpdGhDYWNoZUNsZWFyID8gXCJDbGVhciBjYWNoZSBhbmQgcmV0cnlcIiA6IFwiUmV0cnlcIixcbiAgICAgICAgICAgICAgdG9uZTogXCJkZWZhdWx0XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApIH0pLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goSGVhZGluZywgeyBjaGlsZHJlbjogXCJBbiBlcnJvciBvY2N1cmVkXCIgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChDYXJkLCB7IGJvcmRlcjogITAsIHJhZGl1czogMiwgb3ZlcmZsb3c6IFwiYXV0b1wiLCBwYWRkaW5nOiA0LCB0b25lOiBcImluaGVyaXRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU3RhY2ssIHsgc3BhY2U6IDQsIGNoaWxkcmVuOiBtZXNzYWdlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goQ29kZSwgeyBzaXplOiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoXCJzdHJvbmdcIiwgeyBjaGlsZHJlbjogW1xuICAgICAgICAgICAgXCJFcnJvcjogXCIsXG4gICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgXSB9KSB9KSB9KSB9KVxuICAgICAgICBdIH0pIH0pXG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gU2FuaXR5VmlzaW9uKHByb3BzKSB7XG4gIGNvbnN0IGNsaWVudCA9IHVzZUNsaWVudCh7IGFwaVZlcnNpb246IFwiMVwiIH0pLCBjb25maWcgPSB7XG4gICAgZGVmYXVsdEFwaVZlcnNpb246IERFRkFVTFRfQVBJX1ZFUlNJT04sXG4gICAgLi4ucHJvcHMudG9vbC5vcHRpb25zXG4gIH07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFZpc2lvbkVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVmlzaW9uQ29udGFpbmVyLCB7IGNsaWVudCwgY29uZmlnIH0pIH0pO1xufVxuZXhwb3J0IHtcbiAgU2FuaXR5VmlzaW9uIGFzIGRlZmF1bHRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TYW5pdHlWaXNpb24ubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/vision/lib/_chunks-es/SanityVision.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/vision/lib/_chunks-es/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@sanity/vision/lib/_chunks-es/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   visionLocaleNamespace: () => (/* binding */ visionLocaleNamespace),\n/* harmony export */   visionTool: () => (/* binding */ visionTool)\n/* harmony export */ });\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sanity/icons */ \"(ssr)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sanity */ \"(ssr)/./node_modules/sanity/lib/index.mjs\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sanity/router */ \"(ssr)/./node_modules/sanity/lib/router.mjs\");\n\n\n\n\nconst visionLocaleNamespace = \"vision\", visionUsEnglishLocaleBundle = (0,sanity__WEBPACK_IMPORTED_MODULE_1__.defineLocaleResourceBundle)({\n  locale: \"en-US\",\n  namespace: visionLocaleNamespace,\n  resources: () => __webpack_require__.e(/*! import() */ \"vendor-chunks/@sanity\").then(__webpack_require__.bind(__webpack_require__, /*! ./resources.mjs */ \"(ssr)/./node_modules/@sanity/vision/lib/_chunks-es/resources.mjs\"))\n}), visionTool = (0,sanity__WEBPACK_IMPORTED_MODULE_1__.definePlugin)((options) => {\n  const { name, title, icon, ...config } = options || {};\n  return {\n    name: \"@sanity/vision\",\n    tools: [\n      {\n        name: name || \"vision\",\n        title: title || \"Vision\",\n        icon: icon || _sanity_icons__WEBPACK_IMPORTED_MODULE_2__.EyeOpenIcon,\n        component: (0,react__WEBPACK_IMPORTED_MODULE_0__.lazy)(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity\"), __webpack_require__.e(\"vendor-chunks/@rexxars\"), __webpack_require__.e(\"vendor-chunks/@babel\"), __webpack_require__.e(\"vendor-chunks/@codemirror\"), __webpack_require__.e(\"vendor-chunks/@uiw\"), __webpack_require__.e(\"vendor-chunks/json-2-csv\"), __webpack_require__.e(\"vendor-chunks/@lezer\"), __webpack_require__.e(\"vendor-chunks/deeks\"), __webpack_require__.e(\"vendor-chunks/react-style-proptype\"), __webpack_require__.e(\"vendor-chunks/w3c-keyname\"), __webpack_require__.e(\"vendor-chunks/style-mod\"), __webpack_require__.e(\"vendor-chunks/crelt\"), __webpack_require__.e(\"vendor-chunks/react-lifecycles-compat\"), __webpack_require__.e(\"vendor-chunks/doc-path\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./SanityVision.mjs */ \"(ssr)/./node_modules/@sanity/vision/lib/_chunks-es/SanityVision.mjs\"))),\n        options: config,\n        router: sanity_router__WEBPACK_IMPORTED_MODULE_3__.route.create(\"/*\")\n      }\n    ],\n    i18n: {\n      bundles: [visionUsEnglishLocaleBundle]\n    }\n  };\n});\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS92aXNpb24vbGliL19jaHVua3MtZXMvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE0QztBQUNmO0FBQ3FDO0FBQzVCO0FBQ3RDLHNFQUFzRSxrRUFBMEI7QUFDaEc7QUFDQTtBQUNBLG1CQUFtQiw2TUFBeUI7QUFDNUMsQ0FBQyxnQkFBZ0Isb0RBQVk7QUFDN0IsVUFBVSwrQkFBK0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFXO0FBQ2pDLG1CQUFtQiwyQ0FBSSxPQUFPLG8zQkFBNEI7QUFDMUQ7QUFDQSxnQkFBZ0IsZ0RBQUs7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUlDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvdmlzaW9uL2xpYi9fY2h1bmtzLWVzL2luZGV4Lm1qcz82N2FmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV5ZU9wZW5JY29uIH0gZnJvbSBcIkBzYW5pdHkvaWNvbnNcIjtcbmltcG9ydCB7IGxhenkgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGRlZmluZUxvY2FsZVJlc291cmNlQnVuZGxlLCBkZWZpbmVQbHVnaW4gfSBmcm9tIFwic2FuaXR5XCI7XG5pbXBvcnQgeyByb3V0ZSB9IGZyb20gXCJzYW5pdHkvcm91dGVyXCI7XG5jb25zdCB2aXNpb25Mb2NhbGVOYW1lc3BhY2UgPSBcInZpc2lvblwiLCB2aXNpb25Vc0VuZ2xpc2hMb2NhbGVCdW5kbGUgPSBkZWZpbmVMb2NhbGVSZXNvdXJjZUJ1bmRsZSh7XG4gIGxvY2FsZTogXCJlbi1VU1wiLFxuICBuYW1lc3BhY2U6IHZpc2lvbkxvY2FsZU5hbWVzcGFjZSxcbiAgcmVzb3VyY2VzOiAoKSA9PiBpbXBvcnQoXCIuL3Jlc291cmNlcy5tanNcIilcbn0pLCB2aXNpb25Ub29sID0gZGVmaW5lUGx1Z2luKChvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHsgbmFtZSwgdGl0bGUsIGljb24sIC4uLmNvbmZpZyB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcIkBzYW5pdHkvdmlzaW9uXCIsXG4gICAgdG9vbHM6IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogbmFtZSB8fCBcInZpc2lvblwiLFxuICAgICAgICB0aXRsZTogdGl0bGUgfHwgXCJWaXNpb25cIixcbiAgICAgICAgaWNvbjogaWNvbiB8fCBFeWVPcGVuSWNvbixcbiAgICAgICAgY29tcG9uZW50OiBsYXp5KCgpID0+IGltcG9ydChcIi4vU2FuaXR5VmlzaW9uLm1qc1wiKSksXG4gICAgICAgIG9wdGlvbnM6IGNvbmZpZyxcbiAgICAgICAgcm91dGVyOiByb3V0ZS5jcmVhdGUoXCIvKlwiKVxuICAgICAgfVxuICAgIF0sXG4gICAgaTE4bjoge1xuICAgICAgYnVuZGxlczogW3Zpc2lvblVzRW5nbGlzaExvY2FsZUJ1bmRsZV1cbiAgICB9XG4gIH07XG59KTtcbmV4cG9ydCB7XG4gIHZpc2lvbkxvY2FsZU5hbWVzcGFjZSxcbiAgdmlzaW9uVG9vbFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/vision/lib/_chunks-es/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/vision/lib/_chunks-es/resources.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@sanity/vision/lib/_chunks-es/resources.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ visionLocaleStrings)\n/* harmony export */ });\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sanity */ \"(ssr)/./node_modules/sanity/lib/index.mjs\");\n\nconst visionLocaleStrings = (0,sanity__WEBPACK_IMPORTED_MODULE_0__.defineLocalesResources)(\"vision\", {\n  /** Label for action \"Copy to clipboard\", tied to the \"Query URL\" field. Also used for accessibility purposes on button */\n  \"action.copy-url-to-clipboard\": \"Copy to clipboard\",\n  /** Label for stopping an ongoing listen operation */\n  \"action.listen-cancel\": \"Stop\",\n  /** Label for setting up a listener */\n  \"action.listen-execute\": \"Listen\",\n  /** Label for cancelling an ongoing query */\n  \"action.query-cancel\": \"Cancel\",\n  /** Label for executing the query, eg doing a fetch */\n  \"action.query-execute\": \"Fetch\",\n  /**\n   * Some features has a \"New\" label indicating that the feature was recently introduced.\n   * This defines what the text of that label is. Keep it short and sweet.\n   */\n  \"label.new\": \"New\",\n  /** Error message for when the \"Params\" input are not a valid json */\n  \"params.error.params-invalid-json\": \"Parameters are not valid JSON\",\n  /** Label for \"Params\" (parameters) editor/input */\n  \"params.label\": \"Params\",\n  /** Label for 'Column' indicator when there is an error within the query */\n  \"query.error.column\": \"Column\",\n  /** Label for 'Line' indicator when there is an error within the query */\n  \"query.error.line\": \"Line\",\n  /** Label for \"Query\" editor/input */\n  \"query.label\": \"Query\",\n  /** Label for the \"Query URL\" field, shown after executing a query, and allows for copying */\n  \"query.url\": \"Query URL\",\n  /** Label for \"End to End time\" information of the fetched query */\n  \"result.end-to-end-time-label\": \"End-to-end\",\n  /** Label for \"Execution time\" information of the fetched query */\n  \"result.execution-time-label\": \"Execution\",\n  /** Label for \"Result\" explorer/view */\n  \"result.label\": \"Result\",\n  /** Tooltip text shown when the query result is not encodable as CSV */\n  \"result.save-result-as-csv.not-csv-encodable\": \"Result cannot be encoded as CSV\",\n  /** Label for \"Save result as\" result action */\n  \"result.save-result-as-format\": \"Save result as <SaveResultButtons/>\",\n  /**\n   * \"Not applicable\" message for when there is no Execution time or End to End time information\n   * available for the query (eg when the query has not been executed, or errored)\n   */\n  \"result.timing-not-applicable\": \"n/a\",\n  /** Label for the \"API version\" dropdown in settings */\n  \"settings.api-version-label\": \"API version\",\n  /** Label for the \"Custom API version\" input in settings, shown when \"other\" is chosen as API version */\n  \"settings.custom-api-version-label\": \"Custom API version\",\n  /** Label for the \"Dataset\" dropdown in vision settings */\n  \"settings.dataset-label\": \"Dataset\",\n  /** Error label for when the API version in 'Custom API version' input is invalid */\n  \"settings.error.invalid-api-version\": \"Invalid API version\",\n  /** Label for the \"other\" versions within the \"API version\" dropdown */\n  \"settings.other-api-version-label\": \"Other\",\n  /**\n   * Label for the \"Perspective\" dropdown in vision settings\n   * @see {@link https://www.sanity.io/docs/perspectives}\n   */\n  \"settings.perspective-label\": \"Perspective\",\n  /** Call to action to read the docs related to \"Perspectives\" */\n  \"settings.perspectives.action.docs-link\": \"Read docs\",\n  /** Description for popover that explains what \"Perspectives\" are */\n  \"settings.perspectives.description\": 'Perspectives allow your query to run against different \"views\" of the content in your dataset',\n  /** Title for popover that explains what \"Perspectives\" are */\n  \"settings.perspectives.title\": \"Perspectives\"\n});\n\n//# sourceMappingURL=resources.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS92aXNpb24vbGliL19jaHVua3MtZXMvcmVzb3VyY2VzLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRDtBQUNoRCw0QkFBNEIsOERBQXNCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUdDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbC1tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvdmlzaW9uL2xpYi9fY2h1bmtzLWVzL3Jlc291cmNlcy5tanM/ZWZjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZpbmVMb2NhbGVzUmVzb3VyY2VzIH0gZnJvbSBcInNhbml0eVwiO1xuY29uc3QgdmlzaW9uTG9jYWxlU3RyaW5ncyA9IGRlZmluZUxvY2FsZXNSZXNvdXJjZXMoXCJ2aXNpb25cIiwge1xuICAvKiogTGFiZWwgZm9yIGFjdGlvbiBcIkNvcHkgdG8gY2xpcGJvYXJkXCIsIHRpZWQgdG8gdGhlIFwiUXVlcnkgVVJMXCIgZmllbGQuIEFsc28gdXNlZCBmb3IgYWNjZXNzaWJpbGl0eSBwdXJwb3NlcyBvbiBidXR0b24gKi9cbiAgXCJhY3Rpb24uY29weS11cmwtdG8tY2xpcGJvYXJkXCI6IFwiQ29weSB0byBjbGlwYm9hcmRcIixcbiAgLyoqIExhYmVsIGZvciBzdG9wcGluZyBhbiBvbmdvaW5nIGxpc3RlbiBvcGVyYXRpb24gKi9cbiAgXCJhY3Rpb24ubGlzdGVuLWNhbmNlbFwiOiBcIlN0b3BcIixcbiAgLyoqIExhYmVsIGZvciBzZXR0aW5nIHVwIGEgbGlzdGVuZXIgKi9cbiAgXCJhY3Rpb24ubGlzdGVuLWV4ZWN1dGVcIjogXCJMaXN0ZW5cIixcbiAgLyoqIExhYmVsIGZvciBjYW5jZWxsaW5nIGFuIG9uZ29pbmcgcXVlcnkgKi9cbiAgXCJhY3Rpb24ucXVlcnktY2FuY2VsXCI6IFwiQ2FuY2VsXCIsXG4gIC8qKiBMYWJlbCBmb3IgZXhlY3V0aW5nIHRoZSBxdWVyeSwgZWcgZG9pbmcgYSBmZXRjaCAqL1xuICBcImFjdGlvbi5xdWVyeS1leGVjdXRlXCI6IFwiRmV0Y2hcIixcbiAgLyoqXG4gICAqIFNvbWUgZmVhdHVyZXMgaGFzIGEgXCJOZXdcIiBsYWJlbCBpbmRpY2F0aW5nIHRoYXQgdGhlIGZlYXR1cmUgd2FzIHJlY2VudGx5IGludHJvZHVjZWQuXG4gICAqIFRoaXMgZGVmaW5lcyB3aGF0IHRoZSB0ZXh0IG9mIHRoYXQgbGFiZWwgaXMuIEtlZXAgaXQgc2hvcnQgYW5kIHN3ZWV0LlxuICAgKi9cbiAgXCJsYWJlbC5uZXdcIjogXCJOZXdcIixcbiAgLyoqIEVycm9yIG1lc3NhZ2UgZm9yIHdoZW4gdGhlIFwiUGFyYW1zXCIgaW5wdXQgYXJlIG5vdCBhIHZhbGlkIGpzb24gKi9cbiAgXCJwYXJhbXMuZXJyb3IucGFyYW1zLWludmFsaWQtanNvblwiOiBcIlBhcmFtZXRlcnMgYXJlIG5vdCB2YWxpZCBKU09OXCIsXG4gIC8qKiBMYWJlbCBmb3IgXCJQYXJhbXNcIiAocGFyYW1ldGVycykgZWRpdG9yL2lucHV0ICovXG4gIFwicGFyYW1zLmxhYmVsXCI6IFwiUGFyYW1zXCIsXG4gIC8qKiBMYWJlbCBmb3IgJ0NvbHVtbicgaW5kaWNhdG9yIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3Igd2l0aGluIHRoZSBxdWVyeSAqL1xuICBcInF1ZXJ5LmVycm9yLmNvbHVtblwiOiBcIkNvbHVtblwiLFxuICAvKiogTGFiZWwgZm9yICdMaW5lJyBpbmRpY2F0b3Igd2hlbiB0aGVyZSBpcyBhbiBlcnJvciB3aXRoaW4gdGhlIHF1ZXJ5ICovXG4gIFwicXVlcnkuZXJyb3IubGluZVwiOiBcIkxpbmVcIixcbiAgLyoqIExhYmVsIGZvciBcIlF1ZXJ5XCIgZWRpdG9yL2lucHV0ICovXG4gIFwicXVlcnkubGFiZWxcIjogXCJRdWVyeVwiLFxuICAvKiogTGFiZWwgZm9yIHRoZSBcIlF1ZXJ5IFVSTFwiIGZpZWxkLCBzaG93biBhZnRlciBleGVjdXRpbmcgYSBxdWVyeSwgYW5kIGFsbG93cyBmb3IgY29weWluZyAqL1xuICBcInF1ZXJ5LnVybFwiOiBcIlF1ZXJ5IFVSTFwiLFxuICAvKiogTGFiZWwgZm9yIFwiRW5kIHRvIEVuZCB0aW1lXCIgaW5mb3JtYXRpb24gb2YgdGhlIGZldGNoZWQgcXVlcnkgKi9cbiAgXCJyZXN1bHQuZW5kLXRvLWVuZC10aW1lLWxhYmVsXCI6IFwiRW5kLXRvLWVuZFwiLFxuICAvKiogTGFiZWwgZm9yIFwiRXhlY3V0aW9uIHRpbWVcIiBpbmZvcm1hdGlvbiBvZiB0aGUgZmV0Y2hlZCBxdWVyeSAqL1xuICBcInJlc3VsdC5leGVjdXRpb24tdGltZS1sYWJlbFwiOiBcIkV4ZWN1dGlvblwiLFxuICAvKiogTGFiZWwgZm9yIFwiUmVzdWx0XCIgZXhwbG9yZXIvdmlldyAqL1xuICBcInJlc3VsdC5sYWJlbFwiOiBcIlJlc3VsdFwiLFxuICAvKiogVG9vbHRpcCB0ZXh0IHNob3duIHdoZW4gdGhlIHF1ZXJ5IHJlc3VsdCBpcyBub3QgZW5jb2RhYmxlIGFzIENTViAqL1xuICBcInJlc3VsdC5zYXZlLXJlc3VsdC1hcy1jc3Yubm90LWNzdi1lbmNvZGFibGVcIjogXCJSZXN1bHQgY2Fubm90IGJlIGVuY29kZWQgYXMgQ1NWXCIsXG4gIC8qKiBMYWJlbCBmb3IgXCJTYXZlIHJlc3VsdCBhc1wiIHJlc3VsdCBhY3Rpb24gKi9cbiAgXCJyZXN1bHQuc2F2ZS1yZXN1bHQtYXMtZm9ybWF0XCI6IFwiU2F2ZSByZXN1bHQgYXMgPFNhdmVSZXN1bHRCdXR0b25zLz5cIixcbiAgLyoqXG4gICAqIFwiTm90IGFwcGxpY2FibGVcIiBtZXNzYWdlIGZvciB3aGVuIHRoZXJlIGlzIG5vIEV4ZWN1dGlvbiB0aW1lIG9yIEVuZCB0byBFbmQgdGltZSBpbmZvcm1hdGlvblxuICAgKiBhdmFpbGFibGUgZm9yIHRoZSBxdWVyeSAoZWcgd2hlbiB0aGUgcXVlcnkgaGFzIG5vdCBiZWVuIGV4ZWN1dGVkLCBvciBlcnJvcmVkKVxuICAgKi9cbiAgXCJyZXN1bHQudGltaW5nLW5vdC1hcHBsaWNhYmxlXCI6IFwibi9hXCIsXG4gIC8qKiBMYWJlbCBmb3IgdGhlIFwiQVBJIHZlcnNpb25cIiBkcm9wZG93biBpbiBzZXR0aW5ncyAqL1xuICBcInNldHRpbmdzLmFwaS12ZXJzaW9uLWxhYmVsXCI6IFwiQVBJIHZlcnNpb25cIixcbiAgLyoqIExhYmVsIGZvciB0aGUgXCJDdXN0b20gQVBJIHZlcnNpb25cIiBpbnB1dCBpbiBzZXR0aW5ncywgc2hvd24gd2hlbiBcIm90aGVyXCIgaXMgY2hvc2VuIGFzIEFQSSB2ZXJzaW9uICovXG4gIFwic2V0dGluZ3MuY3VzdG9tLWFwaS12ZXJzaW9uLWxhYmVsXCI6IFwiQ3VzdG9tIEFQSSB2ZXJzaW9uXCIsXG4gIC8qKiBMYWJlbCBmb3IgdGhlIFwiRGF0YXNldFwiIGRyb3Bkb3duIGluIHZpc2lvbiBzZXR0aW5ncyAqL1xuICBcInNldHRpbmdzLmRhdGFzZXQtbGFiZWxcIjogXCJEYXRhc2V0XCIsXG4gIC8qKiBFcnJvciBsYWJlbCBmb3Igd2hlbiB0aGUgQVBJIHZlcnNpb24gaW4gJ0N1c3RvbSBBUEkgdmVyc2lvbicgaW5wdXQgaXMgaW52YWxpZCAqL1xuICBcInNldHRpbmdzLmVycm9yLmludmFsaWQtYXBpLXZlcnNpb25cIjogXCJJbnZhbGlkIEFQSSB2ZXJzaW9uXCIsXG4gIC8qKiBMYWJlbCBmb3IgdGhlIFwib3RoZXJcIiB2ZXJzaW9ucyB3aXRoaW4gdGhlIFwiQVBJIHZlcnNpb25cIiBkcm9wZG93biAqL1xuICBcInNldHRpbmdzLm90aGVyLWFwaS12ZXJzaW9uLWxhYmVsXCI6IFwiT3RoZXJcIixcbiAgLyoqXG4gICAqIExhYmVsIGZvciB0aGUgXCJQZXJzcGVjdGl2ZVwiIGRyb3Bkb3duIGluIHZpc2lvbiBzZXR0aW5nc1xuICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5zYW5pdHkuaW8vZG9jcy9wZXJzcGVjdGl2ZXN9XG4gICAqL1xuICBcInNldHRpbmdzLnBlcnNwZWN0aXZlLWxhYmVsXCI6IFwiUGVyc3BlY3RpdmVcIixcbiAgLyoqIENhbGwgdG8gYWN0aW9uIHRvIHJlYWQgdGhlIGRvY3MgcmVsYXRlZCB0byBcIlBlcnNwZWN0aXZlc1wiICovXG4gIFwic2V0dGluZ3MucGVyc3BlY3RpdmVzLmFjdGlvbi5kb2NzLWxpbmtcIjogXCJSZWFkIGRvY3NcIixcbiAgLyoqIERlc2NyaXB0aW9uIGZvciBwb3BvdmVyIHRoYXQgZXhwbGFpbnMgd2hhdCBcIlBlcnNwZWN0aXZlc1wiIGFyZSAqL1xuICBcInNldHRpbmdzLnBlcnNwZWN0aXZlcy5kZXNjcmlwdGlvblwiOiAnUGVyc3BlY3RpdmVzIGFsbG93IHlvdXIgcXVlcnkgdG8gcnVuIGFnYWluc3QgZGlmZmVyZW50IFwidmlld3NcIiBvZiB0aGUgY29udGVudCBpbiB5b3VyIGRhdGFzZXQnLFxuICAvKiogVGl0bGUgZm9yIHBvcG92ZXIgdGhhdCBleHBsYWlucyB3aGF0IFwiUGVyc3BlY3RpdmVzXCIgYXJlICovXG4gIFwic2V0dGluZ3MucGVyc3BlY3RpdmVzLnRpdGxlXCI6IFwiUGVyc3BlY3RpdmVzXCJcbn0pO1xuZXhwb3J0IHtcbiAgdmlzaW9uTG9jYWxlU3RyaW5ncyBhcyBkZWZhdWx0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2VzLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/vision/lib/_chunks-es/resources.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/vision/node_modules/json5/dist/index.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@sanity/vision/node_modules/json5/dist/index.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// This is a generated file. Do not edit.\nvar Space_Separator = /[\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\nvar ID_Start = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE83\\uDE86-\\uDE89\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]/;\nvar ID_Continue = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u08D4-\\u08E1\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u09FC\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9-\\u0AFF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C80-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D00-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D54-\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1CD0-\\u1CD2\\u1CD4-\\u1CF9\\u1D00-\\u1DF9\\u1DFB-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE3E\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC00-\\uDC4A\\uDC50-\\uDC59\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDE00-\\uDE3E\\uDE47\\uDE50-\\uDE83\\uDE86-\\uDE99\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC36\\uDC38-\\uDC40\\uDC50-\\uDC59\\uDC72-\\uDC8F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD47\\uDD50-\\uDD59]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6\\uDD00-\\uDD4A\\uDD50-\\uDD59]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nvar unicode = {\n\tSpace_Separator: Space_Separator,\n\tID_Start: ID_Start,\n\tID_Continue: ID_Continue\n};\n\nvar util = {\n    isSpaceSeparator (c) {\n        return typeof c === 'string' && unicode.Space_Separator.test(c)\n    },\n\n    isIdStartChar (c) {\n        return typeof c === 'string' && (\n            (c >= 'a' && c <= 'z') ||\n        (c >= 'A' && c <= 'Z') ||\n        (c === '$') || (c === '_') ||\n        unicode.ID_Start.test(c)\n        )\n    },\n\n    isIdContinueChar (c) {\n        return typeof c === 'string' && (\n            (c >= 'a' && c <= 'z') ||\n        (c >= 'A' && c <= 'Z') ||\n        (c >= '0' && c <= '9') ||\n        (c === '$') || (c === '_') ||\n        (c === '\\u200C') || (c === '\\u200D') ||\n        unicode.ID_Continue.test(c)\n        )\n    },\n\n    isDigit (c) {\n        return typeof c === 'string' && /[0-9]/.test(c)\n    },\n\n    isHexDigit (c) {\n        return typeof c === 'string' && /[0-9A-Fa-f]/.test(c)\n    },\n};\n\nlet source;\nlet parseState;\nlet stack;\nlet pos;\nlet line;\nlet column;\nlet token;\nlet key;\nlet root;\n\nvar parse = function parse (text, reviver) {\n    source = String(text);\n    parseState = 'start';\n    stack = [];\n    pos = 0;\n    line = 1;\n    column = 0;\n    token = undefined;\n    key = undefined;\n    root = undefined;\n\n    do {\n        token = lex();\n\n        // This code is unreachable.\n        // if (!parseStates[parseState]) {\n        //     throw invalidParseState()\n        // }\n\n        parseStates[parseState]();\n    } while (token.type !== 'eof')\n\n    if (typeof reviver === 'function') {\n        return internalize({'': root}, '', reviver)\n    }\n\n    return root\n};\n\nfunction internalize (holder, name, reviver) {\n    const value = holder[name];\n    if (value != null && typeof value === 'object') {\n        if (Array.isArray(value)) {\n            for (let i = 0; i < value.length; i++) {\n                const key = String(i);\n                const replacement = internalize(value, key, reviver);\n                if (replacement === undefined) {\n                    delete value[key];\n                } else {\n                    Object.defineProperty(value, key, {\n                        value: replacement,\n                        writable: true,\n                        enumerable: true,\n                        configurable: true,\n                    });\n                }\n            }\n        } else {\n            for (const key in value) {\n                const replacement = internalize(value, key, reviver);\n                if (replacement === undefined) {\n                    delete value[key];\n                } else {\n                    Object.defineProperty(value, key, {\n                        value: replacement,\n                        writable: true,\n                        enumerable: true,\n                        configurable: true,\n                    });\n                }\n            }\n        }\n    }\n\n    return reviver.call(holder, name, value)\n}\n\nlet lexState;\nlet buffer;\nlet doubleQuote;\nlet sign;\nlet c;\n\nfunction lex () {\n    lexState = 'default';\n    buffer = '';\n    doubleQuote = false;\n    sign = 1;\n\n    for (;;) {\n        c = peek();\n\n        // This code is unreachable.\n        // if (!lexStates[lexState]) {\n        //     throw invalidLexState(lexState)\n        // }\n\n        const token = lexStates[lexState]();\n        if (token) {\n            return token\n        }\n    }\n}\n\nfunction peek () {\n    if (source[pos]) {\n        return String.fromCodePoint(source.codePointAt(pos))\n    }\n}\n\nfunction read () {\n    const c = peek();\n\n    if (c === '\\n') {\n        line++;\n        column = 0;\n    } else if (c) {\n        column += c.length;\n    } else {\n        column++;\n    }\n\n    if (c) {\n        pos += c.length;\n    }\n\n    return c\n}\n\nconst lexStates = {\n    default () {\n        switch (c) {\n        case '\\t':\n        case '\\v':\n        case '\\f':\n        case ' ':\n        case '\\u00A0':\n        case '\\uFEFF':\n        case '\\n':\n        case '\\r':\n        case '\\u2028':\n        case '\\u2029':\n            read();\n            return\n\n        case '/':\n            read();\n            lexState = 'comment';\n            return\n\n        case undefined:\n            read();\n            return newToken('eof')\n        }\n\n        if (util.isSpaceSeparator(c)) {\n            read();\n            return\n        }\n\n        // This code is unreachable.\n        // if (!lexStates[parseState]) {\n        //     throw invalidLexState(parseState)\n        // }\n\n        return lexStates[parseState]()\n    },\n\n    comment () {\n        switch (c) {\n        case '*':\n            read();\n            lexState = 'multiLineComment';\n            return\n\n        case '/':\n            read();\n            lexState = 'singleLineComment';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    multiLineComment () {\n        switch (c) {\n        case '*':\n            read();\n            lexState = 'multiLineCommentAsterisk';\n            return\n\n        case undefined:\n            throw invalidChar(read())\n        }\n\n        read();\n    },\n\n    multiLineCommentAsterisk () {\n        switch (c) {\n        case '*':\n            read();\n            return\n\n        case '/':\n            read();\n            lexState = 'default';\n            return\n\n        case undefined:\n            throw invalidChar(read())\n        }\n\n        read();\n        lexState = 'multiLineComment';\n    },\n\n    singleLineComment () {\n        switch (c) {\n        case '\\n':\n        case '\\r':\n        case '\\u2028':\n        case '\\u2029':\n            read();\n            lexState = 'default';\n            return\n\n        case undefined:\n            read();\n            return newToken('eof')\n        }\n\n        read();\n    },\n\n    value () {\n        switch (c) {\n        case '{':\n        case '[':\n            return newToken('punctuator', read())\n\n        case 'n':\n            read();\n            literal('ull');\n            return newToken('null', null)\n\n        case 't':\n            read();\n            literal('rue');\n            return newToken('boolean', true)\n\n        case 'f':\n            read();\n            literal('alse');\n            return newToken('boolean', false)\n\n        case '-':\n        case '+':\n            if (read() === '-') {\n                sign = -1;\n            }\n\n            lexState = 'sign';\n            return\n\n        case '.':\n            buffer = read();\n            lexState = 'decimalPointLeading';\n            return\n\n        case '0':\n            buffer = read();\n            lexState = 'zero';\n            return\n\n        case '1':\n        case '2':\n        case '3':\n        case '4':\n        case '5':\n        case '6':\n        case '7':\n        case '8':\n        case '9':\n            buffer = read();\n            lexState = 'decimalInteger';\n            return\n\n        case 'I':\n            read();\n            literal('nfinity');\n            return newToken('numeric', Infinity)\n\n        case 'N':\n            read();\n            literal('aN');\n            return newToken('numeric', NaN)\n\n        case '\"':\n        case \"'\":\n            doubleQuote = (read() === '\"');\n            buffer = '';\n            lexState = 'string';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    identifierNameStartEscape () {\n        if (c !== 'u') {\n            throw invalidChar(read())\n        }\n\n        read();\n        const u = unicodeEscape();\n        switch (u) {\n        case '$':\n        case '_':\n            break\n\n        default:\n            if (!util.isIdStartChar(u)) {\n                throw invalidIdentifier()\n            }\n\n            break\n        }\n\n        buffer += u;\n        lexState = 'identifierName';\n    },\n\n    identifierName () {\n        switch (c) {\n        case '$':\n        case '_':\n        case '\\u200C':\n        case '\\u200D':\n            buffer += read();\n            return\n\n        case '\\\\':\n            read();\n            lexState = 'identifierNameEscape';\n            return\n        }\n\n        if (util.isIdContinueChar(c)) {\n            buffer += read();\n            return\n        }\n\n        return newToken('identifier', buffer)\n    },\n\n    identifierNameEscape () {\n        if (c !== 'u') {\n            throw invalidChar(read())\n        }\n\n        read();\n        const u = unicodeEscape();\n        switch (u) {\n        case '$':\n        case '_':\n        case '\\u200C':\n        case '\\u200D':\n            break\n\n        default:\n            if (!util.isIdContinueChar(u)) {\n                throw invalidIdentifier()\n            }\n\n            break\n        }\n\n        buffer += u;\n        lexState = 'identifierName';\n    },\n\n    sign () {\n        switch (c) {\n        case '.':\n            buffer = read();\n            lexState = 'decimalPointLeading';\n            return\n\n        case '0':\n            buffer = read();\n            lexState = 'zero';\n            return\n\n        case '1':\n        case '2':\n        case '3':\n        case '4':\n        case '5':\n        case '6':\n        case '7':\n        case '8':\n        case '9':\n            buffer = read();\n            lexState = 'decimalInteger';\n            return\n\n        case 'I':\n            read();\n            literal('nfinity');\n            return newToken('numeric', sign * Infinity)\n\n        case 'N':\n            read();\n            literal('aN');\n            return newToken('numeric', NaN)\n        }\n\n        throw invalidChar(read())\n    },\n\n    zero () {\n        switch (c) {\n        case '.':\n            buffer += read();\n            lexState = 'decimalPoint';\n            return\n\n        case 'e':\n        case 'E':\n            buffer += read();\n            lexState = 'decimalExponent';\n            return\n\n        case 'x':\n        case 'X':\n            buffer += read();\n            lexState = 'hexadecimal';\n            return\n        }\n\n        return newToken('numeric', sign * 0)\n    },\n\n    decimalInteger () {\n        switch (c) {\n        case '.':\n            buffer += read();\n            lexState = 'decimalPoint';\n            return\n\n        case 'e':\n        case 'E':\n            buffer += read();\n            lexState = 'decimalExponent';\n            return\n        }\n\n        if (util.isDigit(c)) {\n            buffer += read();\n            return\n        }\n\n        return newToken('numeric', sign * Number(buffer))\n    },\n\n    decimalPointLeading () {\n        if (util.isDigit(c)) {\n            buffer += read();\n            lexState = 'decimalFraction';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    decimalPoint () {\n        switch (c) {\n        case 'e':\n        case 'E':\n            buffer += read();\n            lexState = 'decimalExponent';\n            return\n        }\n\n        if (util.isDigit(c)) {\n            buffer += read();\n            lexState = 'decimalFraction';\n            return\n        }\n\n        return newToken('numeric', sign * Number(buffer))\n    },\n\n    decimalFraction () {\n        switch (c) {\n        case 'e':\n        case 'E':\n            buffer += read();\n            lexState = 'decimalExponent';\n            return\n        }\n\n        if (util.isDigit(c)) {\n            buffer += read();\n            return\n        }\n\n        return newToken('numeric', sign * Number(buffer))\n    },\n\n    decimalExponent () {\n        switch (c) {\n        case '+':\n        case '-':\n            buffer += read();\n            lexState = 'decimalExponentSign';\n            return\n        }\n\n        if (util.isDigit(c)) {\n            buffer += read();\n            lexState = 'decimalExponentInteger';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    decimalExponentSign () {\n        if (util.isDigit(c)) {\n            buffer += read();\n            lexState = 'decimalExponentInteger';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    decimalExponentInteger () {\n        if (util.isDigit(c)) {\n            buffer += read();\n            return\n        }\n\n        return newToken('numeric', sign * Number(buffer))\n    },\n\n    hexadecimal () {\n        if (util.isHexDigit(c)) {\n            buffer += read();\n            lexState = 'hexadecimalInteger';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    hexadecimalInteger () {\n        if (util.isHexDigit(c)) {\n            buffer += read();\n            return\n        }\n\n        return newToken('numeric', sign * Number(buffer))\n    },\n\n    string () {\n        switch (c) {\n        case '\\\\':\n            read();\n            buffer += escape();\n            return\n\n        case '\"':\n            if (doubleQuote) {\n                read();\n                return newToken('string', buffer)\n            }\n\n            buffer += read();\n            return\n\n        case \"'\":\n            if (!doubleQuote) {\n                read();\n                return newToken('string', buffer)\n            }\n\n            buffer += read();\n            return\n\n        case '\\n':\n        case '\\r':\n            throw invalidChar(read())\n\n        case '\\u2028':\n        case '\\u2029':\n            separatorChar(c);\n            break\n\n        case undefined:\n            throw invalidChar(read())\n        }\n\n        buffer += read();\n    },\n\n    start () {\n        switch (c) {\n        case '{':\n        case '[':\n            return newToken('punctuator', read())\n\n        // This code is unreachable since the default lexState handles eof.\n        // case undefined:\n        //     return newToken('eof')\n        }\n\n        lexState = 'value';\n    },\n\n    beforePropertyName () {\n        switch (c) {\n        case '$':\n        case '_':\n            buffer = read();\n            lexState = 'identifierName';\n            return\n\n        case '\\\\':\n            read();\n            lexState = 'identifierNameStartEscape';\n            return\n\n        case '}':\n            return newToken('punctuator', read())\n\n        case '\"':\n        case \"'\":\n            doubleQuote = (read() === '\"');\n            lexState = 'string';\n            return\n        }\n\n        if (util.isIdStartChar(c)) {\n            buffer += read();\n            lexState = 'identifierName';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    afterPropertyName () {\n        if (c === ':') {\n            return newToken('punctuator', read())\n        }\n\n        throw invalidChar(read())\n    },\n\n    beforePropertyValue () {\n        lexState = 'value';\n    },\n\n    afterPropertyValue () {\n        switch (c) {\n        case ',':\n        case '}':\n            return newToken('punctuator', read())\n        }\n\n        throw invalidChar(read())\n    },\n\n    beforeArrayValue () {\n        if (c === ']') {\n            return newToken('punctuator', read())\n        }\n\n        lexState = 'value';\n    },\n\n    afterArrayValue () {\n        switch (c) {\n        case ',':\n        case ']':\n            return newToken('punctuator', read())\n        }\n\n        throw invalidChar(read())\n    },\n\n    end () {\n        // This code is unreachable since it's handled by the default lexState.\n        // if (c === undefined) {\n        //     read()\n        //     return newToken('eof')\n        // }\n\n        throw invalidChar(read())\n    },\n};\n\nfunction newToken (type, value) {\n    return {\n        type,\n        value,\n        line,\n        column,\n    }\n}\n\nfunction literal (s) {\n    for (const c of s) {\n        const p = peek();\n\n        if (p !== c) {\n            throw invalidChar(read())\n        }\n\n        read();\n    }\n}\n\nfunction escape () {\n    const c = peek();\n    switch (c) {\n    case 'b':\n        read();\n        return '\\b'\n\n    case 'f':\n        read();\n        return '\\f'\n\n    case 'n':\n        read();\n        return '\\n'\n\n    case 'r':\n        read();\n        return '\\r'\n\n    case 't':\n        read();\n        return '\\t'\n\n    case 'v':\n        read();\n        return '\\v'\n\n    case '0':\n        read();\n        if (util.isDigit(peek())) {\n            throw invalidChar(read())\n        }\n\n        return '\\0'\n\n    case 'x':\n        read();\n        return hexEscape()\n\n    case 'u':\n        read();\n        return unicodeEscape()\n\n    case '\\n':\n    case '\\u2028':\n    case '\\u2029':\n        read();\n        return ''\n\n    case '\\r':\n        read();\n        if (peek() === '\\n') {\n            read();\n        }\n\n        return ''\n\n    case '1':\n    case '2':\n    case '3':\n    case '4':\n    case '5':\n    case '6':\n    case '7':\n    case '8':\n    case '9':\n        throw invalidChar(read())\n\n    case undefined:\n        throw invalidChar(read())\n    }\n\n    return read()\n}\n\nfunction hexEscape () {\n    let buffer = '';\n    let c = peek();\n\n    if (!util.isHexDigit(c)) {\n        throw invalidChar(read())\n    }\n\n    buffer += read();\n\n    c = peek();\n    if (!util.isHexDigit(c)) {\n        throw invalidChar(read())\n    }\n\n    buffer += read();\n\n    return String.fromCodePoint(parseInt(buffer, 16))\n}\n\nfunction unicodeEscape () {\n    let buffer = '';\n    let count = 4;\n\n    while (count-- > 0) {\n        const c = peek();\n        if (!util.isHexDigit(c)) {\n            throw invalidChar(read())\n        }\n\n        buffer += read();\n    }\n\n    return String.fromCodePoint(parseInt(buffer, 16))\n}\n\nconst parseStates = {\n    start () {\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        push();\n    },\n\n    beforePropertyName () {\n        switch (token.type) {\n        case 'identifier':\n        case 'string':\n            key = token.value;\n            parseState = 'afterPropertyName';\n            return\n\n        case 'punctuator':\n            // This code is unreachable since it's handled by the lexState.\n            // if (token.value !== '}') {\n            //     throw invalidToken()\n            // }\n\n            pop();\n            return\n\n        case 'eof':\n            throw invalidEOF()\n        }\n\n        // This code is unreachable since it's handled by the lexState.\n        // throw invalidToken()\n    },\n\n    afterPropertyName () {\n        // This code is unreachable since it's handled by the lexState.\n        // if (token.type !== 'punctuator' || token.value !== ':') {\n        //     throw invalidToken()\n        // }\n\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        parseState = 'beforePropertyValue';\n    },\n\n    beforePropertyValue () {\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        push();\n    },\n\n    beforeArrayValue () {\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        if (token.type === 'punctuator' && token.value === ']') {\n            pop();\n            return\n        }\n\n        push();\n    },\n\n    afterPropertyValue () {\n        // This code is unreachable since it's handled by the lexState.\n        // if (token.type !== 'punctuator') {\n        //     throw invalidToken()\n        // }\n\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        switch (token.value) {\n        case ',':\n            parseState = 'beforePropertyName';\n            return\n\n        case '}':\n            pop();\n        }\n\n        // This code is unreachable since it's handled by the lexState.\n        // throw invalidToken()\n    },\n\n    afterArrayValue () {\n        // This code is unreachable since it's handled by the lexState.\n        // if (token.type !== 'punctuator') {\n        //     throw invalidToken()\n        // }\n\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        switch (token.value) {\n        case ',':\n            parseState = 'beforeArrayValue';\n            return\n\n        case ']':\n            pop();\n        }\n\n        // This code is unreachable since it's handled by the lexState.\n        // throw invalidToken()\n    },\n\n    end () {\n        // This code is unreachable since it's handled by the lexState.\n        // if (token.type !== 'eof') {\n        //     throw invalidToken()\n        // }\n    },\n};\n\nfunction push () {\n    let value;\n\n    switch (token.type) {\n    case 'punctuator':\n        switch (token.value) {\n        case '{':\n            value = {};\n            break\n\n        case '[':\n            value = [];\n            break\n        }\n\n        break\n\n    case 'null':\n    case 'boolean':\n    case 'numeric':\n    case 'string':\n        value = token.value;\n        break\n\n    // This code is unreachable.\n    // default:\n    //     throw invalidToken()\n    }\n\n    if (root === undefined) {\n        root = value;\n    } else {\n        const parent = stack[stack.length - 1];\n        if (Array.isArray(parent)) {\n            parent.push(value);\n        } else {\n            Object.defineProperty(parent, key, {\n                value,\n                writable: true,\n                enumerable: true,\n                configurable: true,\n            });\n        }\n    }\n\n    if (value !== null && typeof value === 'object') {\n        stack.push(value);\n\n        if (Array.isArray(value)) {\n            parseState = 'beforeArrayValue';\n        } else {\n            parseState = 'beforePropertyName';\n        }\n    } else {\n        const current = stack[stack.length - 1];\n        if (current == null) {\n            parseState = 'end';\n        } else if (Array.isArray(current)) {\n            parseState = 'afterArrayValue';\n        } else {\n            parseState = 'afterPropertyValue';\n        }\n    }\n}\n\nfunction pop () {\n    stack.pop();\n\n    const current = stack[stack.length - 1];\n    if (current == null) {\n        parseState = 'end';\n    } else if (Array.isArray(current)) {\n        parseState = 'afterArrayValue';\n    } else {\n        parseState = 'afterPropertyValue';\n    }\n}\n\n// This code is unreachable.\n// function invalidParseState () {\n//     return new Error(`JSON5: invalid parse state '${parseState}'`)\n// }\n\n// This code is unreachable.\n// function invalidLexState (state) {\n//     return new Error(`JSON5: invalid lex state '${state}'`)\n// }\n\nfunction invalidChar (c) {\n    if (c === undefined) {\n        return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\n    }\n\n    return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)\n}\n\nfunction invalidEOF () {\n    return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\n}\n\n// This code is unreachable.\n// function invalidToken () {\n//     if (token.type === 'eof') {\n//         return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\n//     }\n\n//     const c = String.fromCodePoint(token.value.codePointAt(0))\n//     return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)\n// }\n\nfunction invalidIdentifier () {\n    column -= 5;\n    return syntaxError(`JSON5: invalid identifier character at ${line}:${column}`)\n}\n\nfunction separatorChar (c) {\n    console.warn(`JSON5: '${formatChar(c)}' in strings is not valid ECMAScript; consider escaping`);\n}\n\nfunction formatChar (c) {\n    const replacements = {\n        \"'\": \"\\\\'\",\n        '\"': '\\\\\"',\n        '\\\\': '\\\\\\\\',\n        '\\b': '\\\\b',\n        '\\f': '\\\\f',\n        '\\n': '\\\\n',\n        '\\r': '\\\\r',\n        '\\t': '\\\\t',\n        '\\v': '\\\\v',\n        '\\0': '\\\\0',\n        '\\u2028': '\\\\u2028',\n        '\\u2029': '\\\\u2029',\n    };\n\n    if (replacements[c]) {\n        return replacements[c]\n    }\n\n    if (c < ' ') {\n        const hexString = c.charCodeAt(0).toString(16);\n        return '\\\\x' + ('00' + hexString).substring(hexString.length)\n    }\n\n    return c\n}\n\nfunction syntaxError (message) {\n    const err = new SyntaxError(message);\n    err.lineNumber = line;\n    err.columnNumber = column;\n    return err\n}\n\nvar stringify = function stringify (value, replacer, space) {\n    const stack = [];\n    let indent = '';\n    let propertyList;\n    let replacerFunc;\n    let gap = '';\n    let quote;\n\n    if (\n        replacer != null &&\n        typeof replacer === 'object' &&\n        !Array.isArray(replacer)\n    ) {\n        space = replacer.space;\n        quote = replacer.quote;\n        replacer = replacer.replacer;\n    }\n\n    if (typeof replacer === 'function') {\n        replacerFunc = replacer;\n    } else if (Array.isArray(replacer)) {\n        propertyList = [];\n        for (const v of replacer) {\n            let item;\n\n            if (typeof v === 'string') {\n                item = v;\n            } else if (\n                typeof v === 'number' ||\n                v instanceof String ||\n                v instanceof Number\n            ) {\n                item = String(v);\n            }\n\n            if (item !== undefined && propertyList.indexOf(item) < 0) {\n                propertyList.push(item);\n            }\n        }\n    }\n\n    if (space instanceof Number) {\n        space = Number(space);\n    } else if (space instanceof String) {\n        space = String(space);\n    }\n\n    if (typeof space === 'number') {\n        if (space > 0) {\n            space = Math.min(10, Math.floor(space));\n            gap = '          '.substr(0, space);\n        }\n    } else if (typeof space === 'string') {\n        gap = space.substr(0, 10);\n    }\n\n    return serializeProperty('', {'': value})\n\n    function serializeProperty (key, holder) {\n        let value = holder[key];\n        if (value != null) {\n            if (typeof value.toJSON5 === 'function') {\n                value = value.toJSON5(key);\n            } else if (typeof value.toJSON === 'function') {\n                value = value.toJSON(key);\n            }\n        }\n\n        if (replacerFunc) {\n            value = replacerFunc.call(holder, key, value);\n        }\n\n        if (value instanceof Number) {\n            value = Number(value);\n        } else if (value instanceof String) {\n            value = String(value);\n        } else if (value instanceof Boolean) {\n            value = value.valueOf();\n        }\n\n        switch (value) {\n        case null: return 'null'\n        case true: return 'true'\n        case false: return 'false'\n        }\n\n        if (typeof value === 'string') {\n            return quoteString(value, false)\n        }\n\n        if (typeof value === 'number') {\n            return String(value)\n        }\n\n        if (typeof value === 'object') {\n            return Array.isArray(value) ? serializeArray(value) : serializeObject(value)\n        }\n\n        return undefined\n    }\n\n    function quoteString (value) {\n        const quotes = {\n            \"'\": 0.1,\n            '\"': 0.2,\n        };\n\n        const replacements = {\n            \"'\": \"\\\\'\",\n            '\"': '\\\\\"',\n            '\\\\': '\\\\\\\\',\n            '\\b': '\\\\b',\n            '\\f': '\\\\f',\n            '\\n': '\\\\n',\n            '\\r': '\\\\r',\n            '\\t': '\\\\t',\n            '\\v': '\\\\v',\n            '\\0': '\\\\0',\n            '\\u2028': '\\\\u2028',\n            '\\u2029': '\\\\u2029',\n        };\n\n        let product = '';\n\n        for (let i = 0; i < value.length; i++) {\n            const c = value[i];\n            switch (c) {\n            case \"'\":\n            case '\"':\n                quotes[c]++;\n                product += c;\n                continue\n\n            case '\\0':\n                if (util.isDigit(value[i + 1])) {\n                    product += '\\\\x00';\n                    continue\n                }\n            }\n\n            if (replacements[c]) {\n                product += replacements[c];\n                continue\n            }\n\n            if (c < ' ') {\n                let hexString = c.charCodeAt(0).toString(16);\n                product += '\\\\x' + ('00' + hexString).substring(hexString.length);\n                continue\n            }\n\n            product += c;\n        }\n\n        const quoteChar = quote || Object.keys(quotes).reduce((a, b) => (quotes[a] < quotes[b]) ? a : b);\n\n        product = product.replace(new RegExp(quoteChar, 'g'), replacements[quoteChar]);\n\n        return quoteChar + product + quoteChar\n    }\n\n    function serializeObject (value) {\n        if (stack.indexOf(value) >= 0) {\n            throw TypeError('Converting circular structure to JSON5')\n        }\n\n        stack.push(value);\n\n        let stepback = indent;\n        indent = indent + gap;\n\n        let keys = propertyList || Object.keys(value);\n        let partial = [];\n        for (const key of keys) {\n            const propertyString = serializeProperty(key, value);\n            if (propertyString !== undefined) {\n                let member = serializeKey(key) + ':';\n                if (gap !== '') {\n                    member += ' ';\n                }\n                member += propertyString;\n                partial.push(member);\n            }\n        }\n\n        let final;\n        if (partial.length === 0) {\n            final = '{}';\n        } else {\n            let properties;\n            if (gap === '') {\n                properties = partial.join(',');\n                final = '{' + properties + '}';\n            } else {\n                let separator = ',\\n' + indent;\n                properties = partial.join(separator);\n                final = '{\\n' + indent + properties + ',\\n' + stepback + '}';\n            }\n        }\n\n        stack.pop();\n        indent = stepback;\n        return final\n    }\n\n    function serializeKey (key) {\n        if (key.length === 0) {\n            return quoteString(key, true)\n        }\n\n        const firstChar = String.fromCodePoint(key.codePointAt(0));\n        if (!util.isIdStartChar(firstChar)) {\n            return quoteString(key, true)\n        }\n\n        for (let i = firstChar.length; i < key.length; i++) {\n            if (!util.isIdContinueChar(String.fromCodePoint(key.codePointAt(i)))) {\n                return quoteString(key, true)\n            }\n        }\n\n        return key\n    }\n\n    function serializeArray (value) {\n        if (stack.indexOf(value) >= 0) {\n            throw TypeError('Converting circular structure to JSON5')\n        }\n\n        stack.push(value);\n\n        let stepback = indent;\n        indent = indent + gap;\n\n        let partial = [];\n        for (let i = 0; i < value.length; i++) {\n            const propertyString = serializeProperty(String(i), value);\n            partial.push((propertyString !== undefined) ? propertyString : 'null');\n        }\n\n        let final;\n        if (partial.length === 0) {\n            final = '[]';\n        } else {\n            if (gap === '') {\n                let properties = partial.join(',');\n                final = '[' + properties + ']';\n            } else {\n                let separator = ',\\n' + indent;\n                let properties = partial.join(separator);\n                final = '[\\n' + indent + properties + ',\\n' + stepback + ']';\n            }\n        }\n\n        stack.pop();\n        indent = stepback;\n        return final\n    }\n};\n\nconst JSON5 = {\n    parse,\n    stringify,\n};\n\nvar lib = JSON5;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (lib);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS92aXNpb24vbm9kZV9tb2R1bGVzL2pzb241L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07O0FBRU47QUFDQSw0QkFBNEIsU0FBUztBQUNyQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtCQUFrQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFD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QUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1CQUFtQjtBQUM3QyxjQUFjO0FBQ2Q7QUFDQTtBQUNBLDBCQUEwQixpREFBaUQ7QUFDM0U7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1Q0FBdUMsZ0JBQWdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixrQkFBa0I7QUFDMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGlFQUFlLEdBQUcsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsLW1hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS92aXNpb24vbm9kZV9tb2R1bGVzL2pzb241L2Rpc3QvaW5kZXgubWpzPzhkMGQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBpcyBhIGdlbmVyYXRlZCBmaWxlLiBEbyBub3QgZWRpdC5cbnZhciBTcGFjZV9TZXBhcmF0b3IgPSAvW1xcdTE2ODBcXHUyMDAwLVxcdTIwMEFcXHUyMDJGXFx1MjA1RlxcdTMwMDBdLztcbnZhciBJRF9TdGFydCA9IC9bXFx4QUFcXHhCNVxceEJBXFx4QzAtXFx4RDZcXHhEOC1cXHhGNlxceEY4LVxcdTAyQzFcXHUwMkM2LVxcdTAyRDFcXHUwMkUwLVxcdTAyRTRcXHUwMkVDXFx1MDJFRVxcdTAzNzAtXFx1MDM3NFxcdTAzNzZcXHUwMzc3XFx1MDM3QS1cXHUwMzdEXFx1MDM3RlxcdTAzODZcXHUwMzg4LVxcdTAzOEFcXHUwMzhDXFx1MDM4RS1cXHUwM0ExXFx1MDNBMy1cXHUwM0Y1XFx1MDNGNy1cXHUwNDgxXFx1MDQ4QS1cXHUwNTJGXFx1MDUzMS1cXHUwNTU2XFx1MDU1OVxcdTA1NjEtXFx1MDU4N1xcdTA1RDAtXFx1MDVFQVxcdTA1RjAtXFx1MDVGMlxcdTA2MjAtXFx1MDY0QVxcdTA2NkVcXHUwNjZGXFx1MDY3MS1cXHUwNkQzXFx1MDZENVxcdTA2RTVcXHUwNkU2XFx1MDZFRVxcdTA2RUZcXHUwNkZBLVxcdTA2RkNcXHUwNkZGXFx1MDcxMFxcdTA3MTItXFx1MDcyRlxcdTA3NEQtXFx1MDdBNVxcdTA3QjFcXHUwN0NBLVxcdTA3RUFcXHUwN0Y0XFx1MDdGNVxcdTA3RkFcXHUwODAwLVxcdTA4MTVcXHUwODFBXFx1MDgyNFxcdTA4MjhcXHUwODQwLVxcdTA4NThcXHUwODYwLVxcdTA4NkFcXHUwOEEwLVxcdTA4QjRcXHUwOEI2LVxcdTA4QkRcXHUwOTA0LVxcdTA5MzlcXHUwOTNEXFx1MDk1MFxcdTA5NTgtXFx1MDk2MVxcdTA5NzEtXFx1MDk4MFxcdTA5ODUtXFx1MDk4Q1xcdTA5OEZcXHUwOTkwXFx1MDk5My1cXHUwOUE4XFx1MDlBQS1cXHUwOUIwXFx1MDlCMlxcdTA5QjYtXFx1MDlCOVxcdTA5QkRcXHUwOUNFXFx1MDlEQ1xcdTA5RERcXHUwOURGLVxcdTA5RTFcXHUwOUYwXFx1MDlGMVxcdTA5RkNcXHUwQTA1LVxcdTBBMEFcXHUwQTBGXFx1MEExMFxcdTBBMTMtXFx1MEEyOFxcdTBBMkEtXFx1MEEzMFxcdTBBMzJcXHUwQTMzXFx1MEEzNVxcdTBBMzZcXHUwQTM4XFx1MEEzOVxcdTBBNTktXFx1MEE1Q1xcdTBBNUVcXHUwQTcyLVxcdTBBNzRcXHUwQTg1LVxcdTBBOERcXHUwQThGLVxcdTBBOTFcXHUwQTkzLVxcdTBBQThcXHUwQUFBLVxcdTBBQjBcXHUwQUIyXFx1MEFCM1xcdTBBQjUtXFx1MEFCOVxcdTBBQkRcXHUwQUQwXFx1MEFFMFxcdTBBRTFcXHUwQUY5XFx1MEIwNS1cXHUwQjBDXFx1MEIwRlxcdTBCMTBcXHUwQjEzLVxcdTBCMjhcXHUwQjJBLVxcdTBCMzBcXHUwQjMyXFx1MEIzM1xcdTBCMzUtXFx1MEIzOVxcdTBCM0RcXHUwQjVDXFx1MEI1RFxcdTBCNUYtXFx1MEI2MVxcdTBCNzFcXHUwQjgzXFx1MEI4NS1cXHUwQjhBXFx1MEI4RS1cXHUwQjkwXFx1MEI5Mi1cXHUwQjk1XFx1MEI5OVxcdTBCOUFcXHUwQjlDXFx1MEI5RVxcdTBCOUZcXHUwQkEzXFx1MEJBNFxcdTBCQTgtXFx1MEJBQVxcdTBCQUUtXFx1MEJCOVxcdTBCRDBcXHUwQzA1LVxcdTBDMENcXHUwQzBFLVxcdTBDMTBcXHUwQzEyLVxcdTBDMjhcXHUwQzJBLVxcdTBDMzlcXHUwQzNEXFx1MEM1OC1cXHUwQzVBXFx1MEM2MFxcdTBDNjFcXHUwQzgwXFx1MEM4NS1cXHUwQzhDXFx1MEM4RS1cXHUwQzkwXFx1MEM5Mi1cXHUwQ0E4XFx1MENBQS1cXHUwQ0IzXFx1MENCNS1cXHUwQ0I5XFx1MENCRFxcdTBDREVcXHUwQ0UwXFx1MENFMVxcdTBDRjFcXHUwQ0YyXFx1MEQwNS1cXHUwRDBDXFx1MEQwRS1cXHUwRDEwXFx1MEQxMi1cXHUwRDNBXFx1MEQzRFxcdTBENEVcXHUwRDU0LVxcdTBENTZcXHUwRDVGLVxcdTBENjFcXHUwRDdBLVxcdTBEN0ZcXHUwRDg1LVxcdTBEOTZcXHUwRDlBLVxcdTBEQjFcXHUwREIzLVxcdTBEQkJcXHUwREJEXFx1MERDMC1cXHUwREM2XFx1MEUwMS1cXHUwRTMwXFx1MEUzMlxcdTBFMzNcXHUwRTQwLVxcdTBFNDZcXHUwRTgxXFx1MEU4MlxcdTBFODRcXHUwRTg3XFx1MEU4OFxcdTBFOEFcXHUwRThEXFx1MEU5NC1cXHUwRTk3XFx1MEU5OS1cXHUwRTlGXFx1MEVBMS1cXHUwRUEzXFx1MEVBNVxcdTBFQTdcXHUwRUFBXFx1MEVBQlxcdTBFQUQtXFx1MEVCMFxcdTBFQjJcXHUwRUIzXFx1MEVCRFxcdTBFQzAtXFx1MEVDNFxcdTBFQzZcXHUwRURDLVxcdTBFREZcXHUwRjAwXFx1MEY0MC1cXHUwRjQ3XFx1MEY0OS1cXHUwRjZDXFx1MEY4OC1cXHUwRjhDXFx1MTAwMC1cXHUxMDJBXFx1MTAzRlxcdTEwNTAtXFx1MTA1NVxcdTEwNUEtXFx1MTA1RFxcdTEwNjFcXHUxMDY1XFx1MTA2NlxcdTEwNkUtXFx1MTA3MFxcdTEwNzUtXFx1MTA4MVxcdTEwOEVcXHUxMEEwLVxcdTEwQzVcXHUxMEM3XFx1MTBDRFxcdTEwRDAtXFx1MTBGQVxcdTEwRkMtXFx1MTI0OFxcdTEyNEEtXFx1MTI0RFxcdTEyNTAtXFx1MTI1NlxcdTEyNThcXHUxMjVBLVxcdTEyNURcXHUxMjYwLVxcdTEyODhcXHUxMjhBLVxcdTEyOERcXHUxMjkwLVxcdTEyQjBcXHUxMkIyLVxcdTEyQjVcXHUxMkI4LVxcdTEyQkVcXHUxMkMwXFx1MTJDMi1cXHUxMkM1XFx1MTJDOC1cXHUxMkQ2XFx1MTJEOC1cXHUxMzEwXFx1MTMxMi1cXHUxMzE1XFx1MTMxOC1cXHUxMzVBXFx1MTM4MC1cXHUxMzhGXFx1MTNBMC1cXHUxM0Y1XFx1MTNGOC1cXHUxM0ZEXFx1MTQwMS1cXHUxNjZDXFx1MTY2Ri1cXHUxNjdGXFx1MTY4MS1cXHUxNjlBXFx1MTZBMC1cXHUxNkVBXFx1MTZFRS1cXHUxNkY4XFx1MTcwMC1cXHUxNzBDXFx1MTcwRS1cXHUxNzExXFx1MTcyMC1cXHUxNzMxXFx1MTc0MC1cXHUxNzUxXFx1MTc2MC1cXHUxNzZDXFx1MTc2RS1cXHUxNzcwXFx1MTc4MC1cXHUxN0IzXFx1MTdEN1xcdTE3RENcXHUxODIwLVxcdTE4NzdcXHUxODgwLVxcdTE4ODRcXHUxODg3LVxcdTE4QThcXHUxOEFBXFx1MThCMC1cXHUxOEY1XFx1MTkwMC1cXHUxOTFFXFx1MTk1MC1cXHUxOTZEXFx1MTk3MC1cXHUxOTc0XFx1MTk4MC1cXHUxOUFCXFx1MTlCMC1cXHUxOUM5XFx1MUEwMC1cXHUxQTE2XFx1MUEyMC1cXHUxQTU0XFx1MUFBN1xcdTFCMDUtXFx1MUIzM1xcdTFCNDUtXFx1MUI0QlxcdTFCODMtXFx1MUJBMFxcdTFCQUVcXHUxQkFGXFx1MUJCQS1cXHUxQkU1XFx1MUMwMC1cXHUxQzIzXFx1MUM0RC1cXHUxQzRGXFx1MUM1QS1cXHUxQzdEXFx1MUM4MC1cXHUxQzg4XFx1MUNFOS1cXHUxQ0VDXFx1MUNFRS1cXHUxQ0YxXFx1MUNGNVxcdTFDRjZcXHUxRDAwLVxcdTFEQkZcXHUxRTAwLVxcdTFGMTVcXHUxRjE4LVxcdTFGMURcXHUxRjIwLVxcdTFGNDVcXHUxRjQ4LVxcdTFGNERcXHUxRjUwLVxcdTFGNTdcXHUxRjU5XFx1MUY1QlxcdTFGNURcXHUxRjVGLVxcdTFGN0RcXHUxRjgwLVxcdTFGQjRcXHUxRkI2LVxcdTFGQkNcXHUxRkJFXFx1MUZDMi1cXHUxRkM0XFx1MUZDNi1cXHUxRkNDXFx1MUZEMC1cXHUxRkQzXFx1MUZENi1cXHUxRkRCXFx1MUZFMC1cXHUxRkVDXFx1MUZGMi1cXHUxRkY0XFx1MUZGNi1cXHUxRkZDXFx1MjA3MVxcdTIwN0ZcXHUyMDkwLVxcdTIwOUNcXHUyMTAyXFx1MjEwN1xcdTIxMEEtXFx1MjExM1xcdTIxMTVcXHUyMTE5LVxcdTIxMURcXHUyMTI0XFx1MjEyNlxcdTIxMjhcXHUyMTJBLVxcdTIxMkRcXHUyMTJGLVxcdTIxMzlcXHUyMTNDLVxcdTIxM0ZcXHUyMTQ1LVxcdTIxNDlcXHUyMTRFXFx1MjE2MC1cXHUyMTg4XFx1MkMwMC1cXHUyQzJFXFx1MkMzMC1cXHUyQzVFXFx1MkM2MC1cXHUyQ0U0XFx1MkNFQi1cXHUyQ0VFXFx1MkNGMlxcdTJDRjNcXHUyRDAwLVxcdTJEMjVcXHUyRDI3XFx1MkQyRFxcdTJEMzAtXFx1MkQ2N1xcdTJENkZcXHUyRDgwLVxcdTJEOTZcXHUyREEwLVxcdTJEQTZcXHUyREE4LVxcdTJEQUVcXHUyREIwLVxcdTJEQjZcXHUyREI4LVxcdTJEQkVcXHUyREMwLVxcdTJEQzZcXHUyREM4LVxcdTJEQ0VcXHUyREQwLVxcdTJERDZcXHUyREQ4LVxcdTJEREVcXHUyRTJGXFx1MzAwNS1cXHUzMDA3XFx1MzAyMS1cXHUzMDI5XFx1MzAzMS1cXHUzMDM1XFx1MzAzOC1cXHUzMDNDXFx1MzA0MS1cXHUzMDk2XFx1MzA5RC1cXHUzMDlGXFx1MzBBMS1cXHUzMEZBXFx1MzBGQy1cXHUzMEZGXFx1MzEwNS1cXHUzMTJFXFx1MzEzMS1cXHUzMThFXFx1MzFBMC1cXHUzMUJBXFx1MzFGMC1cXHUzMUZGXFx1MzQwMC1cXHU0REI1XFx1NEUwMC1cXHU5RkVBXFx1QTAwMC1cXHVBNDhDXFx1QTREMC1cXHVBNEZEXFx1QTUwMC1cXHVBNjBDXFx1QTYxMC1cXHVBNjFGXFx1QTYyQVxcdUE2MkJcXHVBNjQwLVxcdUE2NkVcXHVBNjdGLVxcdUE2OURcXHVBNkEwLVxcdUE2RUZcXHVBNzE3LVxcdUE3MUZcXHVBNzIyLVxcdUE3ODhcXHVBNzhCLVxcdUE3QUVcXHVBN0IwLVxcdUE3QjdcXHVBN0Y3LVxcdUE4MDFcXHVBODAzLVxcdUE4MDVcXHVBODA3LVxcdUE4MEFcXHVBODBDLVxcdUE4MjJcXHVBODQwLVxcdUE4NzNcXHVBODgyLVxcdUE4QjNcXHVBOEYyLVxcdUE4RjdcXHVBOEZCXFx1QThGRFxcdUE5MEEtXFx1QTkyNVxcdUE5MzAtXFx1QTk0NlxcdUE5NjAtXFx1QTk3Q1xcdUE5ODQtXFx1QTlCMlxcdUE5Q0ZcXHVBOUUwLVxcdUE5RTRcXHVBOUU2LVxcdUE5RUZcXHVBOUZBLVxcdUE5RkVcXHVBQTAwLVxcdUFBMjhcXHVBQTQwLVxcdUFBNDJcXHVBQTQ0LVxcdUFBNEJcXHVBQTYwLVxcdUFBNzZcXHVBQTdBXFx1QUE3RS1cXHVBQUFGXFx1QUFCMVxcdUFBQjVcXHVBQUI2XFx1QUFCOS1cXHVBQUJEXFx1QUFDMFxcdUFBQzJcXHVBQURCLVxcdUFBRERcXHVBQUUwLVxcdUFBRUFcXHVBQUYyLVxcdUFBRjRcXHVBQjAxLVxcdUFCMDZcXHVBQjA5LVxcdUFCMEVcXHVBQjExLVxcdUFCMTZcXHVBQjIwLVxcdUFCMjZcXHVBQjI4LVxcdUFCMkVcXHVBQjMwLVxcdUFCNUFcXHVBQjVDLVxcdUFCNjVcXHVBQjcwLVxcdUFCRTJcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBNkRcXHVGQTcwLVxcdUZBRDlcXHVGQjAwLVxcdUZCMDZcXHVGQjEzLVxcdUZCMTdcXHVGQjFEXFx1RkIxRi1cXHVGQjI4XFx1RkIyQS1cXHVGQjM2XFx1RkIzOC1cXHVGQjNDXFx1RkIzRVxcdUZCNDBcXHVGQjQxXFx1RkI0M1xcdUZCNDRcXHVGQjQ2LVxcdUZCQjFcXHVGQkQzLVxcdUZEM0RcXHVGRDUwLVxcdUZEOEZcXHVGRDkyLVxcdUZEQzdcXHVGREYwLVxcdUZERkJcXHVGRTcwLVxcdUZFNzRcXHVGRTc2LVxcdUZFRkNcXHVGRjIxLVxcdUZGM0FcXHVGRjQxLVxcdUZGNUFcXHVGRjY2LVxcdUZGQkVcXHVGRkMyLVxcdUZGQzdcXHVGRkNBLVxcdUZGQ0ZcXHVGRkQyLVxcdUZGRDdcXHVGRkRBLVxcdUZGRENdfFxcdUQ4MDBbXFx1REMwMC1cXHVEQzBCXFx1REMwRC1cXHVEQzI2XFx1REMyOC1cXHVEQzNBXFx1REMzQ1xcdURDM0RcXHVEQzNGLVxcdURDNERcXHVEQzUwLVxcdURDNURcXHVEQzgwLVxcdURDRkFcXHVERDQwLVxcdURENzRcXHVERTgwLVxcdURFOUNcXHVERUEwLVxcdURFRDBcXHVERjAwLVxcdURGMUZcXHVERjJELVxcdURGNEFcXHVERjUwLVxcdURGNzVcXHVERjgwLVxcdURGOURcXHVERkEwLVxcdURGQzNcXHVERkM4LVxcdURGQ0ZcXHVERkQxLVxcdURGRDVdfFxcdUQ4MDFbXFx1REMwMC1cXHVEQzlEXFx1RENCMC1cXHVEQ0QzXFx1RENEOC1cXHVEQ0ZCXFx1REQwMC1cXHVERDI3XFx1REQzMC1cXHVERDYzXFx1REUwMC1cXHVERjM2XFx1REY0MC1cXHVERjU1XFx1REY2MC1cXHVERjY3XXxcXHVEODAyW1xcdURDMDAtXFx1REMwNVxcdURDMDhcXHVEQzBBLVxcdURDMzVcXHVEQzM3XFx1REMzOFxcdURDM0NcXHVEQzNGLVxcdURDNTVcXHVEQzYwLVxcdURDNzZcXHVEQzgwLVxcdURDOUVcXHVEQ0UwLVxcdURDRjJcXHVEQ0Y0XFx1RENGNVxcdUREMDAtXFx1REQxNVxcdUREMjAtXFx1REQzOVxcdUREODAtXFx1RERCN1xcdUREQkVcXHVEREJGXFx1REUwMFxcdURFMTAtXFx1REUxM1xcdURFMTUtXFx1REUxN1xcdURFMTktXFx1REUzM1xcdURFNjAtXFx1REU3Q1xcdURFODAtXFx1REU5Q1xcdURFQzAtXFx1REVDN1xcdURFQzktXFx1REVFNFxcdURGMDAtXFx1REYzNVxcdURGNDAtXFx1REY1NVxcdURGNjAtXFx1REY3MlxcdURGODAtXFx1REY5MV18XFx1RDgwM1tcXHVEQzAwLVxcdURDNDhcXHVEQzgwLVxcdURDQjJcXHVEQ0MwLVxcdURDRjJdfFxcdUQ4MDRbXFx1REMwMy1cXHVEQzM3XFx1REM4My1cXHVEQ0FGXFx1RENEMC1cXHVEQ0U4XFx1REQwMy1cXHVERDI2XFx1REQ1MC1cXHVERDcyXFx1REQ3NlxcdUREODMtXFx1RERCMlxcdUREQzEtXFx1RERDNFxcdUREREFcXHVERERDXFx1REUwMC1cXHVERTExXFx1REUxMy1cXHVERTJCXFx1REU4MC1cXHVERTg2XFx1REU4OFxcdURFOEEtXFx1REU4RFxcdURFOEYtXFx1REU5RFxcdURFOUYtXFx1REVBOFxcdURFQjAtXFx1REVERVxcdURGMDUtXFx1REYwQ1xcdURGMEZcXHVERjEwXFx1REYxMy1cXHVERjI4XFx1REYyQS1cXHVERjMwXFx1REYzMlxcdURGMzNcXHVERjM1LVxcdURGMzlcXHVERjNEXFx1REY1MFxcdURGNUQtXFx1REY2MV18XFx1RDgwNVtcXHVEQzAwLVxcdURDMzRcXHVEQzQ3LVxcdURDNEFcXHVEQzgwLVxcdURDQUZcXHVEQ0M0XFx1RENDNVxcdURDQzdcXHVERDgwLVxcdUREQUVcXHVEREQ4LVxcdUREREJcXHVERTAwLVxcdURFMkZcXHVERTQ0XFx1REU4MC1cXHVERUFBXFx1REYwMC1cXHVERjE5XXxcXHVEODA2W1xcdURDQTAtXFx1RENERlxcdURDRkZcXHVERTAwXFx1REUwQi1cXHVERTMyXFx1REUzQVxcdURFNTBcXHVERTVDLVxcdURFODNcXHVERTg2LVxcdURFODlcXHVERUMwLVxcdURFRjhdfFxcdUQ4MDdbXFx1REMwMC1cXHVEQzA4XFx1REMwQS1cXHVEQzJFXFx1REM0MFxcdURDNzItXFx1REM4RlxcdUREMDAtXFx1REQwNlxcdUREMDhcXHVERDA5XFx1REQwQi1cXHVERDMwXFx1REQ0Nl18XFx1RDgwOFtcXHVEQzAwLVxcdURGOTldfFxcdUQ4MDlbXFx1REMwMC1cXHVEQzZFXFx1REM4MC1cXHVERDQzXXxbXFx1RDgwQ1xcdUQ4MUMtXFx1RDgyMFxcdUQ4NDAtXFx1RDg2OFxcdUQ4NkEtXFx1RDg2Q1xcdUQ4NkYtXFx1RDg3MlxcdUQ4NzQtXFx1RDg3OV1bXFx1REMwMC1cXHVERkZGXXxcXHVEODBEW1xcdURDMDAtXFx1REMyRV18XFx1RDgxMVtcXHVEQzAwLVxcdURFNDZdfFxcdUQ4MUFbXFx1REMwMC1cXHVERTM4XFx1REU0MC1cXHVERTVFXFx1REVEMC1cXHVERUVEXFx1REYwMC1cXHVERjJGXFx1REY0MC1cXHVERjQzXFx1REY2My1cXHVERjc3XFx1REY3RC1cXHVERjhGXXxcXHVEODFCW1xcdURGMDAtXFx1REY0NFxcdURGNTBcXHVERjkzLVxcdURGOUZcXHVERkUwXFx1REZFMV18XFx1RDgyMVtcXHVEQzAwLVxcdURGRUNdfFxcdUQ4MjJbXFx1REMwMC1cXHVERUYyXXxcXHVEODJDW1xcdURDMDAtXFx1REQxRVxcdURENzAtXFx1REVGQl18XFx1RDgyRltcXHVEQzAwLVxcdURDNkFcXHVEQzcwLVxcdURDN0NcXHVEQzgwLVxcdURDODhcXHVEQzkwLVxcdURDOTldfFxcdUQ4MzVbXFx1REMwMC1cXHVEQzU0XFx1REM1Ni1cXHVEQzlDXFx1REM5RVxcdURDOUZcXHVEQ0EyXFx1RENBNVxcdURDQTZcXHVEQ0E5LVxcdURDQUNcXHVEQ0FFLVxcdURDQjlcXHVEQ0JCXFx1RENCRC1cXHVEQ0MzXFx1RENDNS1cXHVERDA1XFx1REQwNy1cXHVERDBBXFx1REQwRC1cXHVERDE0XFx1REQxNi1cXHVERDFDXFx1REQxRS1cXHVERDM5XFx1REQzQi1cXHVERDNFXFx1REQ0MC1cXHVERDQ0XFx1REQ0NlxcdURENEEtXFx1REQ1MFxcdURENTItXFx1REVBNVxcdURFQTgtXFx1REVDMFxcdURFQzItXFx1REVEQVxcdURFREMtXFx1REVGQVxcdURFRkMtXFx1REYxNFxcdURGMTYtXFx1REYzNFxcdURGMzYtXFx1REY0RVxcdURGNTAtXFx1REY2RVxcdURGNzAtXFx1REY4OFxcdURGOEEtXFx1REZBOFxcdURGQUEtXFx1REZDMlxcdURGQzQtXFx1REZDQl18XFx1RDgzQVtcXHVEQzAwLVxcdURDQzRcXHVERDAwLVxcdURENDNdfFxcdUQ4M0JbXFx1REUwMC1cXHVERTAzXFx1REUwNS1cXHVERTFGXFx1REUyMVxcdURFMjJcXHVERTI0XFx1REUyN1xcdURFMjktXFx1REUzMlxcdURFMzQtXFx1REUzN1xcdURFMzlcXHVERTNCXFx1REU0MlxcdURFNDdcXHVERTQ5XFx1REU0QlxcdURFNEQtXFx1REU0RlxcdURFNTFcXHVERTUyXFx1REU1NFxcdURFNTdcXHVERTU5XFx1REU1QlxcdURFNURcXHVERTVGXFx1REU2MVxcdURFNjJcXHVERTY0XFx1REU2Ny1cXHVERTZBXFx1REU2Qy1cXHVERTcyXFx1REU3NC1cXHVERTc3XFx1REU3OS1cXHVERTdDXFx1REU3RVxcdURFODAtXFx1REU4OVxcdURFOEItXFx1REU5QlxcdURFQTEtXFx1REVBM1xcdURFQTUtXFx1REVBOVxcdURFQUItXFx1REVCQl18XFx1RDg2OVtcXHVEQzAwLVxcdURFRDZcXHVERjAwLVxcdURGRkZdfFxcdUQ4NkRbXFx1REMwMC1cXHVERjM0XFx1REY0MC1cXHVERkZGXXxcXHVEODZFW1xcdURDMDAtXFx1REMxRFxcdURDMjAtXFx1REZGRl18XFx1RDg3M1tcXHVEQzAwLVxcdURFQTFcXHVERUIwLVxcdURGRkZdfFxcdUQ4N0FbXFx1REMwMC1cXHVERkUwXXxcXHVEODdFW1xcdURDMDAtXFx1REUxRF0vO1xudmFyIElEX0NvbnRpbnVlID0gL1tcXHhBQVxceEI1XFx4QkFcXHhDMC1cXHhENlxceEQ4LVxceEY2XFx4RjgtXFx1MDJDMVxcdTAyQzYtXFx1MDJEMVxcdTAyRTAtXFx1MDJFNFxcdTAyRUNcXHUwMkVFXFx1MDMwMC1cXHUwMzc0XFx1MDM3NlxcdTAzNzdcXHUwMzdBLVxcdTAzN0RcXHUwMzdGXFx1MDM4NlxcdTAzODgtXFx1MDM4QVxcdTAzOENcXHUwMzhFLVxcdTAzQTFcXHUwM0EzLVxcdTAzRjVcXHUwM0Y3LVxcdTA0ODFcXHUwNDgzLVxcdTA0ODdcXHUwNDhBLVxcdTA1MkZcXHUwNTMxLVxcdTA1NTZcXHUwNTU5XFx1MDU2MS1cXHUwNTg3XFx1MDU5MS1cXHUwNUJEXFx1MDVCRlxcdTA1QzFcXHUwNUMyXFx1MDVDNFxcdTA1QzVcXHUwNUM3XFx1MDVEMC1cXHUwNUVBXFx1MDVGMC1cXHUwNUYyXFx1MDYxMC1cXHUwNjFBXFx1MDYyMC1cXHUwNjY5XFx1MDY2RS1cXHUwNkQzXFx1MDZENS1cXHUwNkRDXFx1MDZERi1cXHUwNkU4XFx1MDZFQS1cXHUwNkZDXFx1MDZGRlxcdTA3MTAtXFx1MDc0QVxcdTA3NEQtXFx1MDdCMVxcdTA3QzAtXFx1MDdGNVxcdTA3RkFcXHUwODAwLVxcdTA4MkRcXHUwODQwLVxcdTA4NUJcXHUwODYwLVxcdTA4NkFcXHUwOEEwLVxcdTA4QjRcXHUwOEI2LVxcdTA4QkRcXHUwOEQ0LVxcdTA4RTFcXHUwOEUzLVxcdTA5NjNcXHUwOTY2LVxcdTA5NkZcXHUwOTcxLVxcdTA5ODNcXHUwOTg1LVxcdTA5OENcXHUwOThGXFx1MDk5MFxcdTA5OTMtXFx1MDlBOFxcdTA5QUEtXFx1MDlCMFxcdTA5QjJcXHUwOUI2LVxcdTA5QjlcXHUwOUJDLVxcdTA5QzRcXHUwOUM3XFx1MDlDOFxcdTA5Q0ItXFx1MDlDRVxcdTA5RDdcXHUwOURDXFx1MDlERFxcdTA5REYtXFx1MDlFM1xcdTA5RTYtXFx1MDlGMVxcdTA5RkNcXHUwQTAxLVxcdTBBMDNcXHUwQTA1LVxcdTBBMEFcXHUwQTBGXFx1MEExMFxcdTBBMTMtXFx1MEEyOFxcdTBBMkEtXFx1MEEzMFxcdTBBMzJcXHUwQTMzXFx1MEEzNVxcdTBBMzZcXHUwQTM4XFx1MEEzOVxcdTBBM0NcXHUwQTNFLVxcdTBBNDJcXHUwQTQ3XFx1MEE0OFxcdTBBNEItXFx1MEE0RFxcdTBBNTFcXHUwQTU5LVxcdTBBNUNcXHUwQTVFXFx1MEE2Ni1cXHUwQTc1XFx1MEE4MS1cXHUwQTgzXFx1MEE4NS1cXHUwQThEXFx1MEE4Ri1cXHUwQTkxXFx1MEE5My1cXHUwQUE4XFx1MEFBQS1cXHUwQUIwXFx1MEFCMlxcdTBBQjNcXHUwQUI1LVxcdTBBQjlcXHUwQUJDLVxcdTBBQzVcXHUwQUM3LVxcdTBBQzlcXHUwQUNCLVxcdTBBQ0RcXHUwQUQwXFx1MEFFMC1cXHUwQUUzXFx1MEFFNi1cXHUwQUVGXFx1MEFGOS1cXHUwQUZGXFx1MEIwMS1cXHUwQjAzXFx1MEIwNS1cXHUwQjBDXFx1MEIwRlxcdTBCMTBcXHUwQjEzLVxcdTBCMjhcXHUwQjJBLVxcdTBCMzBcXHUwQjMyXFx1MEIzM1xcdTBCMzUtXFx1MEIzOVxcdTBCM0MtXFx1MEI0NFxcdTBCNDdcXHUwQjQ4XFx1MEI0Qi1cXHUwQjREXFx1MEI1NlxcdTBCNTdcXHUwQjVDXFx1MEI1RFxcdTBCNUYtXFx1MEI2M1xcdTBCNjYtXFx1MEI2RlxcdTBCNzFcXHUwQjgyXFx1MEI4M1xcdTBCODUtXFx1MEI4QVxcdTBCOEUtXFx1MEI5MFxcdTBCOTItXFx1MEI5NVxcdTBCOTlcXHUwQjlBXFx1MEI5Q1xcdTBCOUVcXHUwQjlGXFx1MEJBM1xcdTBCQTRcXHUwQkE4LVxcdTBCQUFcXHUwQkFFLVxcdTBCQjlcXHUwQkJFLVxcdTBCQzJcXHUwQkM2LVxcdTBCQzhcXHUwQkNBLVxcdTBCQ0RcXHUwQkQwXFx1MEJEN1xcdTBCRTYtXFx1MEJFRlxcdTBDMDAtXFx1MEMwM1xcdTBDMDUtXFx1MEMwQ1xcdTBDMEUtXFx1MEMxMFxcdTBDMTItXFx1MEMyOFxcdTBDMkEtXFx1MEMzOVxcdTBDM0QtXFx1MEM0NFxcdTBDNDYtXFx1MEM0OFxcdTBDNEEtXFx1MEM0RFxcdTBDNTVcXHUwQzU2XFx1MEM1OC1cXHUwQzVBXFx1MEM2MC1cXHUwQzYzXFx1MEM2Ni1cXHUwQzZGXFx1MEM4MC1cXHUwQzgzXFx1MEM4NS1cXHUwQzhDXFx1MEM4RS1cXHUwQzkwXFx1MEM5Mi1cXHUwQ0E4XFx1MENBQS1cXHUwQ0IzXFx1MENCNS1cXHUwQ0I5XFx1MENCQy1cXHUwQ0M0XFx1MENDNi1cXHUwQ0M4XFx1MENDQS1cXHUwQ0NEXFx1MENENVxcdTBDRDZcXHUwQ0RFXFx1MENFMC1cXHUwQ0UzXFx1MENFNi1cXHUwQ0VGXFx1MENGMVxcdTBDRjJcXHUwRDAwLVxcdTBEMDNcXHUwRDA1LVxcdTBEMENcXHUwRDBFLVxcdTBEMTBcXHUwRDEyLVxcdTBENDRcXHUwRDQ2LVxcdTBENDhcXHUwRDRBLVxcdTBENEVcXHUwRDU0LVxcdTBENTdcXHUwRDVGLVxcdTBENjNcXHUwRDY2LVxcdTBENkZcXHUwRDdBLVxcdTBEN0ZcXHUwRDgyXFx1MEQ4M1xcdTBEODUtXFx1MEQ5NlxcdTBEOUEtXFx1MERCMVxcdTBEQjMtXFx1MERCQlxcdTBEQkRcXHUwREMwLVxcdTBEQzZcXHUwRENBXFx1MERDRi1cXHUwREQ0XFx1MERENlxcdTBERDgtXFx1MERERlxcdTBERTYtXFx1MERFRlxcdTBERjJcXHUwREYzXFx1MEUwMS1cXHUwRTNBXFx1MEU0MC1cXHUwRTRFXFx1MEU1MC1cXHUwRTU5XFx1MEU4MVxcdTBFODJcXHUwRTg0XFx1MEU4N1xcdTBFODhcXHUwRThBXFx1MEU4RFxcdTBFOTQtXFx1MEU5N1xcdTBFOTktXFx1MEU5RlxcdTBFQTEtXFx1MEVBM1xcdTBFQTVcXHUwRUE3XFx1MEVBQVxcdTBFQUJcXHUwRUFELVxcdTBFQjlcXHUwRUJCLVxcdTBFQkRcXHUwRUMwLVxcdTBFQzRcXHUwRUM2XFx1MEVDOC1cXHUwRUNEXFx1MEVEMC1cXHUwRUQ5XFx1MEVEQy1cXHUwRURGXFx1MEYwMFxcdTBGMThcXHUwRjE5XFx1MEYyMC1cXHUwRjI5XFx1MEYzNVxcdTBGMzdcXHUwRjM5XFx1MEYzRS1cXHUwRjQ3XFx1MEY0OS1cXHUwRjZDXFx1MEY3MS1cXHUwRjg0XFx1MEY4Ni1cXHUwRjk3XFx1MEY5OS1cXHUwRkJDXFx1MEZDNlxcdTEwMDAtXFx1MTA0OVxcdTEwNTAtXFx1MTA5RFxcdTEwQTAtXFx1MTBDNVxcdTEwQzdcXHUxMENEXFx1MTBEMC1cXHUxMEZBXFx1MTBGQy1cXHUxMjQ4XFx1MTI0QS1cXHUxMjREXFx1MTI1MC1cXHUxMjU2XFx1MTI1OFxcdTEyNUEtXFx1MTI1RFxcdTEyNjAtXFx1MTI4OFxcdTEyOEEtXFx1MTI4RFxcdTEyOTAtXFx1MTJCMFxcdTEyQjItXFx1MTJCNVxcdTEyQjgtXFx1MTJCRVxcdTEyQzBcXHUxMkMyLVxcdTEyQzVcXHUxMkM4LVxcdTEyRDZcXHUxMkQ4LVxcdTEzMTBcXHUxMzEyLVxcdTEzMTVcXHUxMzE4LVxcdTEzNUFcXHUxMzVELVxcdTEzNUZcXHUxMzgwLVxcdTEzOEZcXHUxM0EwLVxcdTEzRjVcXHUxM0Y4LVxcdTEzRkRcXHUxNDAxLVxcdTE2NkNcXHUxNjZGLVxcdTE2N0ZcXHUxNjgxLVxcdTE2OUFcXHUxNkEwLVxcdTE2RUFcXHUxNkVFLVxcdTE2RjhcXHUxNzAwLVxcdTE3MENcXHUxNzBFLVxcdTE3MTRcXHUxNzIwLVxcdTE3MzRcXHUxNzQwLVxcdTE3NTNcXHUxNzYwLVxcdTE3NkNcXHUxNzZFLVxcdTE3NzBcXHUxNzcyXFx1MTc3M1xcdTE3ODAtXFx1MTdEM1xcdTE3RDdcXHUxN0RDXFx1MTdERFxcdTE3RTAtXFx1MTdFOVxcdTE4MEItXFx1MTgwRFxcdTE4MTAtXFx1MTgxOVxcdTE4MjAtXFx1MTg3N1xcdTE4ODAtXFx1MThBQVxcdTE4QjAtXFx1MThGNVxcdTE5MDAtXFx1MTkxRVxcdTE5MjAtXFx1MTkyQlxcdTE5MzAtXFx1MTkzQlxcdTE5NDYtXFx1MTk2RFxcdTE5NzAtXFx1MTk3NFxcdTE5ODAtXFx1MTlBQlxcdTE5QjAtXFx1MTlDOVxcdTE5RDAtXFx1MTlEOVxcdTFBMDAtXFx1MUExQlxcdTFBMjAtXFx1MUE1RVxcdTFBNjAtXFx1MUE3Q1xcdTFBN0YtXFx1MUE4OVxcdTFBOTAtXFx1MUE5OVxcdTFBQTdcXHUxQUIwLVxcdTFBQkRcXHUxQjAwLVxcdTFCNEJcXHUxQjUwLVxcdTFCNTlcXHUxQjZCLVxcdTFCNzNcXHUxQjgwLVxcdTFCRjNcXHUxQzAwLVxcdTFDMzdcXHUxQzQwLVxcdTFDNDlcXHUxQzRELVxcdTFDN0RcXHUxQzgwLVxcdTFDODhcXHUxQ0QwLVxcdTFDRDJcXHUxQ0Q0LVxcdTFDRjlcXHUxRDAwLVxcdTFERjlcXHUxREZCLVxcdTFGMTVcXHUxRjE4LVxcdTFGMURcXHUxRjIwLVxcdTFGNDVcXHUxRjQ4LVxcdTFGNERcXHUxRjUwLVxcdTFGNTdcXHUxRjU5XFx1MUY1QlxcdTFGNURcXHUxRjVGLVxcdTFGN0RcXHUxRjgwLVxcdTFGQjRcXHUxRkI2LVxcdTFGQkNcXHUxRkJFXFx1MUZDMi1cXHUxRkM0XFx1MUZDNi1cXHUxRkNDXFx1MUZEMC1cXHUxRkQzXFx1MUZENi1cXHUxRkRCXFx1MUZFMC1cXHUxRkVDXFx1MUZGMi1cXHUxRkY0XFx1MUZGNi1cXHUxRkZDXFx1MjAzRlxcdTIwNDBcXHUyMDU0XFx1MjA3MVxcdTIwN0ZcXHUyMDkwLVxcdTIwOUNcXHUyMEQwLVxcdTIwRENcXHUyMEUxXFx1MjBFNS1cXHUyMEYwXFx1MjEwMlxcdTIxMDdcXHUyMTBBLVxcdTIxMTNcXHUyMTE1XFx1MjExOS1cXHUyMTFEXFx1MjEyNFxcdTIxMjZcXHUyMTI4XFx1MjEyQS1cXHUyMTJEXFx1MjEyRi1cXHUyMTM5XFx1MjEzQy1cXHUyMTNGXFx1MjE0NS1cXHUyMTQ5XFx1MjE0RVxcdTIxNjAtXFx1MjE4OFxcdTJDMDAtXFx1MkMyRVxcdTJDMzAtXFx1MkM1RVxcdTJDNjAtXFx1MkNFNFxcdTJDRUItXFx1MkNGM1xcdTJEMDAtXFx1MkQyNVxcdTJEMjdcXHUyRDJEXFx1MkQzMC1cXHUyRDY3XFx1MkQ2RlxcdTJEN0YtXFx1MkQ5NlxcdTJEQTAtXFx1MkRBNlxcdTJEQTgtXFx1MkRBRVxcdTJEQjAtXFx1MkRCNlxcdTJEQjgtXFx1MkRCRVxcdTJEQzAtXFx1MkRDNlxcdTJEQzgtXFx1MkRDRVxcdTJERDAtXFx1MkRENlxcdTJERDgtXFx1MkRERVxcdTJERTAtXFx1MkRGRlxcdTJFMkZcXHUzMDA1LVxcdTMwMDdcXHUzMDIxLVxcdTMwMkZcXHUzMDMxLVxcdTMwMzVcXHUzMDM4LVxcdTMwM0NcXHUzMDQxLVxcdTMwOTZcXHUzMDk5XFx1MzA5QVxcdTMwOUQtXFx1MzA5RlxcdTMwQTEtXFx1MzBGQVxcdTMwRkMtXFx1MzBGRlxcdTMxMDUtXFx1MzEyRVxcdTMxMzEtXFx1MzE4RVxcdTMxQTAtXFx1MzFCQVxcdTMxRjAtXFx1MzFGRlxcdTM0MDAtXFx1NERCNVxcdTRFMDAtXFx1OUZFQVxcdUEwMDAtXFx1QTQ4Q1xcdUE0RDAtXFx1QTRGRFxcdUE1MDAtXFx1QTYwQ1xcdUE2MTAtXFx1QTYyQlxcdUE2NDAtXFx1QTY2RlxcdUE2NzQtXFx1QTY3RFxcdUE2N0YtXFx1QTZGMVxcdUE3MTctXFx1QTcxRlxcdUE3MjItXFx1QTc4OFxcdUE3OEItXFx1QTdBRVxcdUE3QjAtXFx1QTdCN1xcdUE3RjctXFx1QTgyN1xcdUE4NDAtXFx1QTg3M1xcdUE4ODAtXFx1QThDNVxcdUE4RDAtXFx1QThEOVxcdUE4RTAtXFx1QThGN1xcdUE4RkJcXHVBOEZEXFx1QTkwMC1cXHVBOTJEXFx1QTkzMC1cXHVBOTUzXFx1QTk2MC1cXHVBOTdDXFx1QTk4MC1cXHVBOUMwXFx1QTlDRi1cXHVBOUQ5XFx1QTlFMC1cXHVBOUZFXFx1QUEwMC1cXHVBQTM2XFx1QUE0MC1cXHVBQTREXFx1QUE1MC1cXHVBQTU5XFx1QUE2MC1cXHVBQTc2XFx1QUE3QS1cXHVBQUMyXFx1QUFEQi1cXHVBQUREXFx1QUFFMC1cXHVBQUVGXFx1QUFGMi1cXHVBQUY2XFx1QUIwMS1cXHVBQjA2XFx1QUIwOS1cXHVBQjBFXFx1QUIxMS1cXHVBQjE2XFx1QUIyMC1cXHVBQjI2XFx1QUIyOC1cXHVBQjJFXFx1QUIzMC1cXHVBQjVBXFx1QUI1Qy1cXHVBQjY1XFx1QUI3MC1cXHVBQkVBXFx1QUJFQ1xcdUFCRURcXHVBQkYwLVxcdUFCRjlcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBNkRcXHVGQTcwLVxcdUZBRDlcXHVGQjAwLVxcdUZCMDZcXHVGQjEzLVxcdUZCMTdcXHVGQjFELVxcdUZCMjhcXHVGQjJBLVxcdUZCMzZcXHVGQjM4LVxcdUZCM0NcXHVGQjNFXFx1RkI0MFxcdUZCNDFcXHVGQjQzXFx1RkI0NFxcdUZCNDYtXFx1RkJCMVxcdUZCRDMtXFx1RkQzRFxcdUZENTAtXFx1RkQ4RlxcdUZEOTItXFx1RkRDN1xcdUZERjAtXFx1RkRGQlxcdUZFMDAtXFx1RkUwRlxcdUZFMjAtXFx1RkUyRlxcdUZFMzNcXHVGRTM0XFx1RkU0RC1cXHVGRTRGXFx1RkU3MC1cXHVGRTc0XFx1RkU3Ni1cXHVGRUZDXFx1RkYxMC1cXHVGRjE5XFx1RkYyMS1cXHVGRjNBXFx1RkYzRlxcdUZGNDEtXFx1RkY1QVxcdUZGNjYtXFx1RkZCRVxcdUZGQzItXFx1RkZDN1xcdUZGQ0EtXFx1RkZDRlxcdUZGRDItXFx1RkZEN1xcdUZGREEtXFx1RkZEQ118XFx1RDgwMFtcXHVEQzAwLVxcdURDMEJcXHVEQzBELVxcdURDMjZcXHVEQzI4LVxcdURDM0FcXHVEQzNDXFx1REMzRFxcdURDM0YtXFx1REM0RFxcdURDNTAtXFx1REM1RFxcdURDODAtXFx1RENGQVxcdURENDAtXFx1REQ3NFxcdURERkRcXHVERTgwLVxcdURFOUNcXHVERUEwLVxcdURFRDBcXHVERUUwXFx1REYwMC1cXHVERjFGXFx1REYyRC1cXHVERjRBXFx1REY1MC1cXHVERjdBXFx1REY4MC1cXHVERjlEXFx1REZBMC1cXHVERkMzXFx1REZDOC1cXHVERkNGXFx1REZEMS1cXHVERkQ1XXxcXHVEODAxW1xcdURDMDAtXFx1REM5RFxcdURDQTAtXFx1RENBOVxcdURDQjAtXFx1RENEM1xcdURDRDgtXFx1RENGQlxcdUREMDAtXFx1REQyN1xcdUREMzAtXFx1REQ2M1xcdURFMDAtXFx1REYzNlxcdURGNDAtXFx1REY1NVxcdURGNjAtXFx1REY2N118XFx1RDgwMltcXHVEQzAwLVxcdURDMDVcXHVEQzA4XFx1REMwQS1cXHVEQzM1XFx1REMzN1xcdURDMzhcXHVEQzNDXFx1REMzRi1cXHVEQzU1XFx1REM2MC1cXHVEQzc2XFx1REM4MC1cXHVEQzlFXFx1RENFMC1cXHVEQ0YyXFx1RENGNFxcdURDRjVcXHVERDAwLVxcdUREMTVcXHVERDIwLVxcdUREMzlcXHVERDgwLVxcdUREQjdcXHVEREJFXFx1RERCRlxcdURFMDAtXFx1REUwM1xcdURFMDVcXHVERTA2XFx1REUwQy1cXHVERTEzXFx1REUxNS1cXHVERTE3XFx1REUxOS1cXHVERTMzXFx1REUzOC1cXHVERTNBXFx1REUzRlxcdURFNjAtXFx1REU3Q1xcdURFODAtXFx1REU5Q1xcdURFQzAtXFx1REVDN1xcdURFQzktXFx1REVFNlxcdURGMDAtXFx1REYzNVxcdURGNDAtXFx1REY1NVxcdURGNjAtXFx1REY3MlxcdURGODAtXFx1REY5MV18XFx1RDgwM1tcXHVEQzAwLVxcdURDNDhcXHVEQzgwLVxcdURDQjJcXHVEQ0MwLVxcdURDRjJdfFxcdUQ4MDRbXFx1REMwMC1cXHVEQzQ2XFx1REM2Ni1cXHVEQzZGXFx1REM3Ri1cXHVEQ0JBXFx1RENEMC1cXHVEQ0U4XFx1RENGMC1cXHVEQ0Y5XFx1REQwMC1cXHVERDM0XFx1REQzNi1cXHVERDNGXFx1REQ1MC1cXHVERDczXFx1REQ3NlxcdUREODAtXFx1RERDNFxcdUREQ0EtXFx1RERDQ1xcdURERDAtXFx1REREQVxcdURERENcXHVERTAwLVxcdURFMTFcXHVERTEzLVxcdURFMzdcXHVERTNFXFx1REU4MC1cXHVERTg2XFx1REU4OFxcdURFOEEtXFx1REU4RFxcdURFOEYtXFx1REU5RFxcdURFOUYtXFx1REVBOFxcdURFQjAtXFx1REVFQVxcdURFRjAtXFx1REVGOVxcdURGMDAtXFx1REYwM1xcdURGMDUtXFx1REYwQ1xcdURGMEZcXHVERjEwXFx1REYxMy1cXHVERjI4XFx1REYyQS1cXHVERjMwXFx1REYzMlxcdURGMzNcXHVERjM1LVxcdURGMzlcXHVERjNDLVxcdURGNDRcXHVERjQ3XFx1REY0OFxcdURGNEItXFx1REY0RFxcdURGNTBcXHVERjU3XFx1REY1RC1cXHVERjYzXFx1REY2Ni1cXHVERjZDXFx1REY3MC1cXHVERjc0XXxcXHVEODA1W1xcdURDMDAtXFx1REM0QVxcdURDNTAtXFx1REM1OVxcdURDODAtXFx1RENDNVxcdURDQzdcXHVEQ0QwLVxcdURDRDlcXHVERDgwLVxcdUREQjVcXHVEREI4LVxcdUREQzBcXHVEREQ4LVxcdURERERcXHVERTAwLVxcdURFNDBcXHVERTQ0XFx1REU1MC1cXHVERTU5XFx1REU4MC1cXHVERUI3XFx1REVDMC1cXHVERUM5XFx1REYwMC1cXHVERjE5XFx1REYxRC1cXHVERjJCXFx1REYzMC1cXHVERjM5XXxcXHVEODA2W1xcdURDQTAtXFx1RENFOVxcdURDRkZcXHVERTAwLVxcdURFM0VcXHVERTQ3XFx1REU1MC1cXHVERTgzXFx1REU4Ni1cXHVERTk5XFx1REVDMC1cXHVERUY4XXxcXHVEODA3W1xcdURDMDAtXFx1REMwOFxcdURDMEEtXFx1REMzNlxcdURDMzgtXFx1REM0MFxcdURDNTAtXFx1REM1OVxcdURDNzItXFx1REM4RlxcdURDOTItXFx1RENBN1xcdURDQTktXFx1RENCNlxcdUREMDAtXFx1REQwNlxcdUREMDhcXHVERDA5XFx1REQwQi1cXHVERDM2XFx1REQzQVxcdUREM0NcXHVERDNEXFx1REQzRi1cXHVERDQ3XFx1REQ1MC1cXHVERDU5XXxcXHVEODA4W1xcdURDMDAtXFx1REY5OV18XFx1RDgwOVtcXHVEQzAwLVxcdURDNkVcXHVEQzgwLVxcdURENDNdfFtcXHVEODBDXFx1RDgxQy1cXHVEODIwXFx1RDg0MC1cXHVEODY4XFx1RDg2QS1cXHVEODZDXFx1RDg2Ri1cXHVEODcyXFx1RDg3NC1cXHVEODc5XVtcXHVEQzAwLVxcdURGRkZdfFxcdUQ4MERbXFx1REMwMC1cXHVEQzJFXXxcXHVEODExW1xcdURDMDAtXFx1REU0Nl18XFx1RDgxQVtcXHVEQzAwLVxcdURFMzhcXHVERTQwLVxcdURFNUVcXHVERTYwLVxcdURFNjlcXHVERUQwLVxcdURFRURcXHVERUYwLVxcdURFRjRcXHVERjAwLVxcdURGMzZcXHVERjQwLVxcdURGNDNcXHVERjUwLVxcdURGNTlcXHVERjYzLVxcdURGNzdcXHVERjdELVxcdURGOEZdfFxcdUQ4MUJbXFx1REYwMC1cXHVERjQ0XFx1REY1MC1cXHVERjdFXFx1REY4Ri1cXHVERjlGXFx1REZFMFxcdURGRTFdfFxcdUQ4MjFbXFx1REMwMC1cXHVERkVDXXxcXHVEODIyW1xcdURDMDAtXFx1REVGMl18XFx1RDgyQ1tcXHVEQzAwLVxcdUREMUVcXHVERDcwLVxcdURFRkJdfFxcdUQ4MkZbXFx1REMwMC1cXHVEQzZBXFx1REM3MC1cXHVEQzdDXFx1REM4MC1cXHVEQzg4XFx1REM5MC1cXHVEQzk5XFx1REM5RFxcdURDOUVdfFxcdUQ4MzRbXFx1REQ2NS1cXHVERDY5XFx1REQ2RC1cXHVERDcyXFx1REQ3Qi1cXHVERDgyXFx1REQ4NS1cXHVERDhCXFx1RERBQS1cXHVEREFEXFx1REU0Mi1cXHVERTQ0XXxcXHVEODM1W1xcdURDMDAtXFx1REM1NFxcdURDNTYtXFx1REM5Q1xcdURDOUVcXHVEQzlGXFx1RENBMlxcdURDQTVcXHVEQ0E2XFx1RENBOS1cXHVEQ0FDXFx1RENBRS1cXHVEQ0I5XFx1RENCQlxcdURDQkQtXFx1RENDM1xcdURDQzUtXFx1REQwNVxcdUREMDctXFx1REQwQVxcdUREMEQtXFx1REQxNFxcdUREMTYtXFx1REQxQ1xcdUREMUUtXFx1REQzOVxcdUREM0ItXFx1REQzRVxcdURENDAtXFx1REQ0NFxcdURENDZcXHVERDRBLVxcdURENTBcXHVERDUyLVxcdURFQTVcXHVERUE4LVxcdURFQzBcXHVERUMyLVxcdURFREFcXHVERURDLVxcdURFRkFcXHVERUZDLVxcdURGMTRcXHVERjE2LVxcdURGMzRcXHVERjM2LVxcdURGNEVcXHVERjUwLVxcdURGNkVcXHVERjcwLVxcdURGODhcXHVERjhBLVxcdURGQThcXHVERkFBLVxcdURGQzJcXHVERkM0LVxcdURGQ0JcXHVERkNFLVxcdURGRkZdfFxcdUQ4MzZbXFx1REUwMC1cXHVERTM2XFx1REUzQi1cXHVERTZDXFx1REU3NVxcdURFODRcXHVERTlCLVxcdURFOUZcXHVERUExLVxcdURFQUZdfFxcdUQ4MzhbXFx1REMwMC1cXHVEQzA2XFx1REMwOC1cXHVEQzE4XFx1REMxQi1cXHVEQzIxXFx1REMyM1xcdURDMjRcXHVEQzI2LVxcdURDMkFdfFxcdUQ4M0FbXFx1REMwMC1cXHVEQ0M0XFx1RENEMC1cXHVEQ0Q2XFx1REQwMC1cXHVERDRBXFx1REQ1MC1cXHVERDU5XXxcXHVEODNCW1xcdURFMDAtXFx1REUwM1xcdURFMDUtXFx1REUxRlxcdURFMjFcXHVERTIyXFx1REUyNFxcdURFMjdcXHVERTI5LVxcdURFMzJcXHVERTM0LVxcdURFMzdcXHVERTM5XFx1REUzQlxcdURFNDJcXHVERTQ3XFx1REU0OVxcdURFNEJcXHVERTRELVxcdURFNEZcXHVERTUxXFx1REU1MlxcdURFNTRcXHVERTU3XFx1REU1OVxcdURFNUJcXHVERTVEXFx1REU1RlxcdURFNjFcXHVERTYyXFx1REU2NFxcdURFNjctXFx1REU2QVxcdURFNkMtXFx1REU3MlxcdURFNzQtXFx1REU3N1xcdURFNzktXFx1REU3Q1xcdURFN0VcXHVERTgwLVxcdURFODlcXHVERThCLVxcdURFOUJcXHVERUExLVxcdURFQTNcXHVERUE1LVxcdURFQTlcXHVERUFCLVxcdURFQkJdfFxcdUQ4NjlbXFx1REMwMC1cXHVERUQ2XFx1REYwMC1cXHVERkZGXXxcXHVEODZEW1xcdURDMDAtXFx1REYzNFxcdURGNDAtXFx1REZGRl18XFx1RDg2RVtcXHVEQzAwLVxcdURDMURcXHVEQzIwLVxcdURGRkZdfFxcdUQ4NzNbXFx1REMwMC1cXHVERUExXFx1REVCMC1cXHVERkZGXXxcXHVEODdBW1xcdURDMDAtXFx1REZFMF18XFx1RDg3RVtcXHVEQzAwLVxcdURFMURdfFxcdURCNDBbXFx1REQwMC1cXHVEREVGXS87XG5cbnZhciB1bmljb2RlID0ge1xuXHRTcGFjZV9TZXBhcmF0b3I6IFNwYWNlX1NlcGFyYXRvcixcblx0SURfU3RhcnQ6IElEX1N0YXJ0LFxuXHRJRF9Db250aW51ZTogSURfQ29udGludWVcbn07XG5cbnZhciB1dGlsID0ge1xuICAgIGlzU3BhY2VTZXBhcmF0b3IgKGMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjID09PSAnc3RyaW5nJyAmJiB1bmljb2RlLlNwYWNlX1NlcGFyYXRvci50ZXN0KGMpXG4gICAgfSxcblxuICAgIGlzSWRTdGFydENoYXIgKGMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjID09PSAnc3RyaW5nJyAmJiAoXG4gICAgICAgICAgICAoYyA+PSAnYScgJiYgYyA8PSAneicpIHx8XG4gICAgICAgIChjID49ICdBJyAmJiBjIDw9ICdaJykgfHxcbiAgICAgICAgKGMgPT09ICckJykgfHwgKGMgPT09ICdfJykgfHxcbiAgICAgICAgdW5pY29kZS5JRF9TdGFydC50ZXN0KGMpXG4gICAgICAgIClcbiAgICB9LFxuXG4gICAgaXNJZENvbnRpbnVlQ2hhciAoYykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGMgPT09ICdzdHJpbmcnICYmIChcbiAgICAgICAgICAgIChjID49ICdhJyAmJiBjIDw9ICd6JykgfHxcbiAgICAgICAgKGMgPj0gJ0EnICYmIGMgPD0gJ1onKSB8fFxuICAgICAgICAoYyA+PSAnMCcgJiYgYyA8PSAnOScpIHx8XG4gICAgICAgIChjID09PSAnJCcpIHx8IChjID09PSAnXycpIHx8XG4gICAgICAgIChjID09PSAnXFx1MjAwQycpIHx8IChjID09PSAnXFx1MjAwRCcpIHx8XG4gICAgICAgIHVuaWNvZGUuSURfQ29udGludWUudGVzdChjKVxuICAgICAgICApXG4gICAgfSxcblxuICAgIGlzRGlnaXQgKGMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjID09PSAnc3RyaW5nJyAmJiAvWzAtOV0vLnRlc3QoYylcbiAgICB9LFxuXG4gICAgaXNIZXhEaWdpdCAoYykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGMgPT09ICdzdHJpbmcnICYmIC9bMC05QS1GYS1mXS8udGVzdChjKVxuICAgIH0sXG59O1xuXG5sZXQgc291cmNlO1xubGV0IHBhcnNlU3RhdGU7XG5sZXQgc3RhY2s7XG5sZXQgcG9zO1xubGV0IGxpbmU7XG5sZXQgY29sdW1uO1xubGV0IHRva2VuO1xubGV0IGtleTtcbmxldCByb290O1xuXG52YXIgcGFyc2UgPSBmdW5jdGlvbiBwYXJzZSAodGV4dCwgcmV2aXZlcikge1xuICAgIHNvdXJjZSA9IFN0cmluZyh0ZXh0KTtcbiAgICBwYXJzZVN0YXRlID0gJ3N0YXJ0JztcbiAgICBzdGFjayA9IFtdO1xuICAgIHBvcyA9IDA7XG4gICAgbGluZSA9IDE7XG4gICAgY29sdW1uID0gMDtcbiAgICB0b2tlbiA9IHVuZGVmaW5lZDtcbiAgICBrZXkgPSB1bmRlZmluZWQ7XG4gICAgcm9vdCA9IHVuZGVmaW5lZDtcblxuICAgIGRvIHtcbiAgICAgICAgdG9rZW4gPSBsZXgoKTtcblxuICAgICAgICAvLyBUaGlzIGNvZGUgaXMgdW5yZWFjaGFibGUuXG4gICAgICAgIC8vIGlmICghcGFyc2VTdGF0ZXNbcGFyc2VTdGF0ZV0pIHtcbiAgICAgICAgLy8gICAgIHRocm93IGludmFsaWRQYXJzZVN0YXRlKClcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHBhcnNlU3RhdGVzW3BhcnNlU3RhdGVdKCk7XG4gICAgfSB3aGlsZSAodG9rZW4udHlwZSAhPT0gJ2VvZicpXG5cbiAgICBpZiAodHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGludGVybmFsaXplKHsnJzogcm9vdH0sICcnLCByZXZpdmVyKVxuICAgIH1cblxuICAgIHJldHVybiByb290XG59O1xuXG5mdW5jdGlvbiBpbnRlcm5hbGl6ZSAoaG9sZGVyLCBuYW1lLCByZXZpdmVyKSB7XG4gICAgY29uc3QgdmFsdWUgPSBob2xkZXJbbmFtZV07XG4gICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBTdHJpbmcoaSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBpbnRlcm5hbGl6ZSh2YWx1ZSwga2V5LCByZXZpdmVyKTtcbiAgICAgICAgICAgICAgICBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFsdWUsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlcGxhY2VtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gaW50ZXJuYWxpemUodmFsdWUsIGtleSwgcmV2aXZlcik7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbHVlLCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXBsYWNlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldml2ZXIuY2FsbChob2xkZXIsIG5hbWUsIHZhbHVlKVxufVxuXG5sZXQgbGV4U3RhdGU7XG5sZXQgYnVmZmVyO1xubGV0IGRvdWJsZVF1b3RlO1xubGV0IHNpZ247XG5sZXQgYztcblxuZnVuY3Rpb24gbGV4ICgpIHtcbiAgICBsZXhTdGF0ZSA9ICdkZWZhdWx0JztcbiAgICBidWZmZXIgPSAnJztcbiAgICBkb3VibGVRdW90ZSA9IGZhbHNlO1xuICAgIHNpZ24gPSAxO1xuXG4gICAgZm9yICg7Oykge1xuICAgICAgICBjID0gcGVlaygpO1xuXG4gICAgICAgIC8vIFRoaXMgY29kZSBpcyB1bnJlYWNoYWJsZS5cbiAgICAgICAgLy8gaWYgKCFsZXhTdGF0ZXNbbGV4U3RhdGVdKSB7XG4gICAgICAgIC8vICAgICB0aHJvdyBpbnZhbGlkTGV4U3RhdGUobGV4U3RhdGUpXG4gICAgICAgIC8vIH1cblxuICAgICAgICBjb25zdCB0b2tlbiA9IGxleFN0YXRlc1tsZXhTdGF0ZV0oKTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcGVlayAoKSB7XG4gICAgaWYgKHNvdXJjZVtwb3NdKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludChzb3VyY2UuY29kZVBvaW50QXQocG9zKSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlYWQgKCkge1xuICAgIGNvbnN0IGMgPSBwZWVrKCk7XG5cbiAgICBpZiAoYyA9PT0gJ1xcbicpIHtcbiAgICAgICAgbGluZSsrO1xuICAgICAgICBjb2x1bW4gPSAwO1xuICAgIH0gZWxzZSBpZiAoYykge1xuICAgICAgICBjb2x1bW4gKz0gYy5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29sdW1uKys7XG4gICAgfVxuXG4gICAgaWYgKGMpIHtcbiAgICAgICAgcG9zICs9IGMubGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiBjXG59XG5cbmNvbnN0IGxleFN0YXRlcyA9IHtcbiAgICBkZWZhdWx0ICgpIHtcbiAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgIGNhc2UgJ1xcdic6XG4gICAgICAgIGNhc2UgJ1xcZic6XG4gICAgICAgIGNhc2UgJyAnOlxuICAgICAgICBjYXNlICdcXHUwMEEwJzpcbiAgICAgICAgY2FzZSAnXFx1RkVGRic6XG4gICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgIGNhc2UgJ1xcdTIwMjgnOlxuICAgICAgICBjYXNlICdcXHUyMDI5JzpcbiAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGNhc2UgJy8nOlxuICAgICAgICAgICAgcmVhZCgpO1xuICAgICAgICAgICAgbGV4U3RhdGUgPSAnY29tbWVudCc7XG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdUb2tlbignZW9mJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlsLmlzU3BhY2VTZXBhcmF0b3IoYykpIHtcbiAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhpcyBjb2RlIGlzIHVucmVhY2hhYmxlLlxuICAgICAgICAvLyBpZiAoIWxleFN0YXRlc1twYXJzZVN0YXRlXSkge1xuICAgICAgICAvLyAgICAgdGhyb3cgaW52YWxpZExleFN0YXRlKHBhcnNlU3RhdGUpXG4gICAgICAgIC8vIH1cblxuICAgICAgICByZXR1cm4gbGV4U3RhdGVzW3BhcnNlU3RhdGVdKClcbiAgICB9LFxuXG4gICAgY29tbWVudCAoKSB7XG4gICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICBjYXNlICcqJzpcbiAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgIGxleFN0YXRlID0gJ211bHRpTGluZUNvbW1lbnQnO1xuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgY2FzZSAnLyc6XG4gICAgICAgICAgICByZWFkKCk7XG4gICAgICAgICAgICBsZXhTdGF0ZSA9ICdzaW5nbGVMaW5lQ29tbWVudCc7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcbiAgICB9LFxuXG4gICAgbXVsdGlMaW5lQ29tbWVudCAoKSB7XG4gICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICBjYXNlICcqJzpcbiAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgIGxleFN0YXRlID0gJ211bHRpTGluZUNvbW1lbnRBc3Rlcmlzayc7XG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJlYWQoKTtcbiAgICB9LFxuXG4gICAgbXVsdGlMaW5lQ29tbWVudEFzdGVyaXNrICgpIHtcbiAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgIGNhc2UgJyonOlxuICAgICAgICAgICAgcmVhZCgpO1xuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgY2FzZSAnLyc6XG4gICAgICAgICAgICByZWFkKCk7XG4gICAgICAgICAgICBsZXhTdGF0ZSA9ICdkZWZhdWx0JztcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgdGhyb3cgaW52YWxpZENoYXIocmVhZCgpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmVhZCgpO1xuICAgICAgICBsZXhTdGF0ZSA9ICdtdWx0aUxpbmVDb21tZW50JztcbiAgICB9LFxuXG4gICAgc2luZ2xlTGluZUNvbW1lbnQgKCkge1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgY2FzZSAnXFx1MjAyOCc6XG4gICAgICAgIGNhc2UgJ1xcdTIwMjknOlxuICAgICAgICAgICAgcmVhZCgpO1xuICAgICAgICAgICAgbGV4U3RhdGUgPSAnZGVmYXVsdCc7XG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdUb2tlbignZW9mJylcbiAgICAgICAgfVxuXG4gICAgICAgIHJlYWQoKTtcbiAgICB9LFxuXG4gICAgdmFsdWUgKCkge1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgY2FzZSAneyc6XG4gICAgICAgIGNhc2UgJ1snOlxuICAgICAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdwdW5jdHVhdG9yJywgcmVhZCgpKVxuXG4gICAgICAgIGNhc2UgJ24nOlxuICAgICAgICAgICAgcmVhZCgpO1xuICAgICAgICAgICAgbGl0ZXJhbCgndWxsJyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3VG9rZW4oJ251bGwnLCBudWxsKVxuXG4gICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICAgICAgcmVhZCgpO1xuICAgICAgICAgICAgbGl0ZXJhbCgncnVlJyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3VG9rZW4oJ2Jvb2xlYW4nLCB0cnVlKVxuXG4gICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgICAgcmVhZCgpO1xuICAgICAgICAgICAgbGl0ZXJhbCgnYWxzZScpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdib29sZWFuJywgZmFsc2UpXG5cbiAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgICAgaWYgKHJlYWQoKSA9PT0gJy0nKSB7XG4gICAgICAgICAgICAgICAgc2lnbiA9IC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXhTdGF0ZSA9ICdzaWduJztcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGNhc2UgJy4nOlxuICAgICAgICAgICAgYnVmZmVyID0gcmVhZCgpO1xuICAgICAgICAgICAgbGV4U3RhdGUgPSAnZGVjaW1hbFBvaW50TGVhZGluZyc7XG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBjYXNlICcwJzpcbiAgICAgICAgICAgIGJ1ZmZlciA9IHJlYWQoKTtcbiAgICAgICAgICAgIGxleFN0YXRlID0gJ3plcm8nO1xuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgY2FzZSAnMSc6XG4gICAgICAgIGNhc2UgJzInOlxuICAgICAgICBjYXNlICczJzpcbiAgICAgICAgY2FzZSAnNCc6XG4gICAgICAgIGNhc2UgJzUnOlxuICAgICAgICBjYXNlICc2JzpcbiAgICAgICAgY2FzZSAnNyc6XG4gICAgICAgIGNhc2UgJzgnOlxuICAgICAgICBjYXNlICc5JzpcbiAgICAgICAgICAgIGJ1ZmZlciA9IHJlYWQoKTtcbiAgICAgICAgICAgIGxleFN0YXRlID0gJ2RlY2ltYWxJbnRlZ2VyJztcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGNhc2UgJ0knOlxuICAgICAgICAgICAgcmVhZCgpO1xuICAgICAgICAgICAgbGl0ZXJhbCgnbmZpbml0eScpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdudW1lcmljJywgSW5maW5pdHkpXG5cbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgICByZWFkKCk7XG4gICAgICAgICAgICBsaXRlcmFsKCdhTicpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdudW1lcmljJywgTmFOKVxuXG4gICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgY2FzZSBcIidcIjpcbiAgICAgICAgICAgIGRvdWJsZVF1b3RlID0gKHJlYWQoKSA9PT0gJ1wiJyk7XG4gICAgICAgICAgICBidWZmZXIgPSAnJztcbiAgICAgICAgICAgIGxleFN0YXRlID0gJ3N0cmluZyc7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcbiAgICB9LFxuXG4gICAgaWRlbnRpZmllck5hbWVTdGFydEVzY2FwZSAoKSB7XG4gICAgICAgIGlmIChjICE9PSAndScpIHtcbiAgICAgICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJlYWQoKTtcbiAgICAgICAgY29uc3QgdSA9IHVuaWNvZGVFc2NhcGUoKTtcbiAgICAgICAgc3dpdGNoICh1KSB7XG4gICAgICAgIGNhc2UgJyQnOlxuICAgICAgICBjYXNlICdfJzpcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICghdXRpbC5pc0lkU3RhcnRDaGFyKHUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgaW52YWxpZElkZW50aWZpZXIoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmZmVyICs9IHU7XG4gICAgICAgIGxleFN0YXRlID0gJ2lkZW50aWZpZXJOYW1lJztcbiAgICB9LFxuXG4gICAgaWRlbnRpZmllck5hbWUgKCkge1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgY2FzZSAnJCc6XG4gICAgICAgIGNhc2UgJ18nOlxuICAgICAgICBjYXNlICdcXHUyMDBDJzpcbiAgICAgICAgY2FzZSAnXFx1MjAwRCc6XG4gICAgICAgICAgICBidWZmZXIgKz0gcmVhZCgpO1xuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgY2FzZSAnXFxcXCc6XG4gICAgICAgICAgICByZWFkKCk7XG4gICAgICAgICAgICBsZXhTdGF0ZSA9ICdpZGVudGlmaWVyTmFtZUVzY2FwZSc7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlsLmlzSWRDb250aW51ZUNoYXIoYykpIHtcbiAgICAgICAgICAgIGJ1ZmZlciArPSByZWFkKCk7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdUb2tlbignaWRlbnRpZmllcicsIGJ1ZmZlcilcbiAgICB9LFxuXG4gICAgaWRlbnRpZmllck5hbWVFc2NhcGUgKCkge1xuICAgICAgICBpZiAoYyAhPT0gJ3UnKSB7XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkQ2hhcihyZWFkKCkpXG4gICAgICAgIH1cblxuICAgICAgICByZWFkKCk7XG4gICAgICAgIGNvbnN0IHUgPSB1bmljb2RlRXNjYXBlKCk7XG4gICAgICAgIHN3aXRjaCAodSkge1xuICAgICAgICBjYXNlICckJzpcbiAgICAgICAgY2FzZSAnXyc6XG4gICAgICAgIGNhc2UgJ1xcdTIwMEMnOlxuICAgICAgICBjYXNlICdcXHUyMDBEJzpcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICghdXRpbC5pc0lkQ29udGludWVDaGFyKHUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgaW52YWxpZElkZW50aWZpZXIoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmZmVyICs9IHU7XG4gICAgICAgIGxleFN0YXRlID0gJ2lkZW50aWZpZXJOYW1lJztcbiAgICB9LFxuXG4gICAgc2lnbiAoKSB7XG4gICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICBjYXNlICcuJzpcbiAgICAgICAgICAgIGJ1ZmZlciA9IHJlYWQoKTtcbiAgICAgICAgICAgIGxleFN0YXRlID0gJ2RlY2ltYWxQb2ludExlYWRpbmcnO1xuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgY2FzZSAnMCc6XG4gICAgICAgICAgICBidWZmZXIgPSByZWFkKCk7XG4gICAgICAgICAgICBsZXhTdGF0ZSA9ICd6ZXJvJztcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGNhc2UgJzEnOlxuICAgICAgICBjYXNlICcyJzpcbiAgICAgICAgY2FzZSAnMyc6XG4gICAgICAgIGNhc2UgJzQnOlxuICAgICAgICBjYXNlICc1JzpcbiAgICAgICAgY2FzZSAnNic6XG4gICAgICAgIGNhc2UgJzcnOlxuICAgICAgICBjYXNlICc4JzpcbiAgICAgICAgY2FzZSAnOSc6XG4gICAgICAgICAgICBidWZmZXIgPSByZWFkKCk7XG4gICAgICAgICAgICBsZXhTdGF0ZSA9ICdkZWNpbWFsSW50ZWdlcic7XG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBjYXNlICdJJzpcbiAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgIGxpdGVyYWwoJ25maW5pdHknKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdUb2tlbignbnVtZXJpYycsIHNpZ24gKiBJbmZpbml0eSlcblxuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgIGxpdGVyYWwoJ2FOJyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3VG9rZW4oJ251bWVyaWMnLCBOYU4pXG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBpbnZhbGlkQ2hhcihyZWFkKCkpXG4gICAgfSxcblxuICAgIHplcm8gKCkge1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgY2FzZSAnLic6XG4gICAgICAgICAgICBidWZmZXIgKz0gcmVhZCgpO1xuICAgICAgICAgICAgbGV4U3RhdGUgPSAnZGVjaW1hbFBvaW50JztcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGNhc2UgJ2UnOlxuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgIGJ1ZmZlciArPSByZWFkKCk7XG4gICAgICAgICAgICBsZXhTdGF0ZSA9ICdkZWNpbWFsRXhwb25lbnQnO1xuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgY2FzZSAneCc6XG4gICAgICAgIGNhc2UgJ1gnOlxuICAgICAgICAgICAgYnVmZmVyICs9IHJlYWQoKTtcbiAgICAgICAgICAgIGxleFN0YXRlID0gJ2hleGFkZWNpbWFsJztcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdudW1lcmljJywgc2lnbiAqIDApXG4gICAgfSxcblxuICAgIGRlY2ltYWxJbnRlZ2VyICgpIHtcbiAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgIGNhc2UgJy4nOlxuICAgICAgICAgICAgYnVmZmVyICs9IHJlYWQoKTtcbiAgICAgICAgICAgIGxleFN0YXRlID0gJ2RlY2ltYWxQb2ludCc7XG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBjYXNlICdlJzpcbiAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgICBidWZmZXIgKz0gcmVhZCgpO1xuICAgICAgICAgICAgbGV4U3RhdGUgPSAnZGVjaW1hbEV4cG9uZW50JztcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWwuaXNEaWdpdChjKSkge1xuICAgICAgICAgICAgYnVmZmVyICs9IHJlYWQoKTtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdudW1lcmljJywgc2lnbiAqIE51bWJlcihidWZmZXIpKVxuICAgIH0sXG5cbiAgICBkZWNpbWFsUG9pbnRMZWFkaW5nICgpIHtcbiAgICAgICAgaWYgKHV0aWwuaXNEaWdpdChjKSkge1xuICAgICAgICAgICAgYnVmZmVyICs9IHJlYWQoKTtcbiAgICAgICAgICAgIGxleFN0YXRlID0gJ2RlY2ltYWxGcmFjdGlvbic7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcbiAgICB9LFxuXG4gICAgZGVjaW1hbFBvaW50ICgpIHtcbiAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgIGNhc2UgJ2UnOlxuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgIGJ1ZmZlciArPSByZWFkKCk7XG4gICAgICAgICAgICBsZXhTdGF0ZSA9ICdkZWNpbWFsRXhwb25lbnQnO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbC5pc0RpZ2l0KGMpKSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gcmVhZCgpO1xuICAgICAgICAgICAgbGV4U3RhdGUgPSAnZGVjaW1hbEZyYWN0aW9uJztcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdudW1lcmljJywgc2lnbiAqIE51bWJlcihidWZmZXIpKVxuICAgIH0sXG5cbiAgICBkZWNpbWFsRnJhY3Rpb24gKCkge1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgY2FzZSAnZSc6XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgICAgYnVmZmVyICs9IHJlYWQoKTtcbiAgICAgICAgICAgIGxleFN0YXRlID0gJ2RlY2ltYWxFeHBvbmVudCc7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlsLmlzRGlnaXQoYykpIHtcbiAgICAgICAgICAgIGJ1ZmZlciArPSByZWFkKCk7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdUb2tlbignbnVtZXJpYycsIHNpZ24gKiBOdW1iZXIoYnVmZmVyKSlcbiAgICB9LFxuXG4gICAgZGVjaW1hbEV4cG9uZW50ICgpIHtcbiAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgIGNhc2UgJysnOlxuICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICAgIGJ1ZmZlciArPSByZWFkKCk7XG4gICAgICAgICAgICBsZXhTdGF0ZSA9ICdkZWNpbWFsRXhwb25lbnRTaWduJztcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWwuaXNEaWdpdChjKSkge1xuICAgICAgICAgICAgYnVmZmVyICs9IHJlYWQoKTtcbiAgICAgICAgICAgIGxleFN0YXRlID0gJ2RlY2ltYWxFeHBvbmVudEludGVnZXInO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBpbnZhbGlkQ2hhcihyZWFkKCkpXG4gICAgfSxcblxuICAgIGRlY2ltYWxFeHBvbmVudFNpZ24gKCkge1xuICAgICAgICBpZiAodXRpbC5pc0RpZ2l0KGMpKSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gcmVhZCgpO1xuICAgICAgICAgICAgbGV4U3RhdGUgPSAnZGVjaW1hbEV4cG9uZW50SW50ZWdlcic7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcbiAgICB9LFxuXG4gICAgZGVjaW1hbEV4cG9uZW50SW50ZWdlciAoKSB7XG4gICAgICAgIGlmICh1dGlsLmlzRGlnaXQoYykpIHtcbiAgICAgICAgICAgIGJ1ZmZlciArPSByZWFkKCk7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdUb2tlbignbnVtZXJpYycsIHNpZ24gKiBOdW1iZXIoYnVmZmVyKSlcbiAgICB9LFxuXG4gICAgaGV4YWRlY2ltYWwgKCkge1xuICAgICAgICBpZiAodXRpbC5pc0hleERpZ2l0KGMpKSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gcmVhZCgpO1xuICAgICAgICAgICAgbGV4U3RhdGUgPSAnaGV4YWRlY2ltYWxJbnRlZ2VyJztcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgaW52YWxpZENoYXIocmVhZCgpKVxuICAgIH0sXG5cbiAgICBoZXhhZGVjaW1hbEludGVnZXIgKCkge1xuICAgICAgICBpZiAodXRpbC5pc0hleERpZ2l0KGMpKSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gcmVhZCgpO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3VG9rZW4oJ251bWVyaWMnLCBzaWduICogTnVtYmVyKGJ1ZmZlcikpXG4gICAgfSxcblxuICAgIHN0cmluZyAoKSB7XG4gICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICBjYXNlICdcXFxcJzpcbiAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgIGJ1ZmZlciArPSBlc2NhcGUoKTtcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICAgIGlmIChkb3VibGVRdW90ZSkge1xuICAgICAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3VG9rZW4oJ3N0cmluZycsIGJ1ZmZlcilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnVmZmVyICs9IHJlYWQoKTtcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGNhc2UgXCInXCI6XG4gICAgICAgICAgICBpZiAoIWRvdWJsZVF1b3RlKSB7XG4gICAgICAgICAgICAgICAgcmVhZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdUb2tlbignc3RyaW5nJywgYnVmZmVyKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBidWZmZXIgKz0gcmVhZCgpO1xuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcblxuICAgICAgICBjYXNlICdcXHUyMDI4JzpcbiAgICAgICAgY2FzZSAnXFx1MjAyOSc6XG4gICAgICAgICAgICBzZXBhcmF0b3JDaGFyKGMpO1xuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlciArPSByZWFkKCk7XG4gICAgfSxcblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgIGNhc2UgJ3snOlxuICAgICAgICBjYXNlICdbJzpcbiAgICAgICAgICAgIHJldHVybiBuZXdUb2tlbigncHVuY3R1YXRvcicsIHJlYWQoKSlcblxuICAgICAgICAvLyBUaGlzIGNvZGUgaXMgdW5yZWFjaGFibGUgc2luY2UgdGhlIGRlZmF1bHQgbGV4U3RhdGUgaGFuZGxlcyBlb2YuXG4gICAgICAgIC8vIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAvLyAgICAgcmV0dXJuIG5ld1Rva2VuKCdlb2YnKVxuICAgICAgICB9XG5cbiAgICAgICAgbGV4U3RhdGUgPSAndmFsdWUnO1xuICAgIH0sXG5cbiAgICBiZWZvcmVQcm9wZXJ0eU5hbWUgKCkge1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgY2FzZSAnJCc6XG4gICAgICAgIGNhc2UgJ18nOlxuICAgICAgICAgICAgYnVmZmVyID0gcmVhZCgpO1xuICAgICAgICAgICAgbGV4U3RhdGUgPSAnaWRlbnRpZmllck5hbWUnO1xuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgY2FzZSAnXFxcXCc6XG4gICAgICAgICAgICByZWFkKCk7XG4gICAgICAgICAgICBsZXhTdGF0ZSA9ICdpZGVudGlmaWVyTmFtZVN0YXJ0RXNjYXBlJztcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGNhc2UgJ30nOlxuICAgICAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdwdW5jdHVhdG9yJywgcmVhZCgpKVxuXG4gICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgY2FzZSBcIidcIjpcbiAgICAgICAgICAgIGRvdWJsZVF1b3RlID0gKHJlYWQoKSA9PT0gJ1wiJyk7XG4gICAgICAgICAgICBsZXhTdGF0ZSA9ICdzdHJpbmcnO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbC5pc0lkU3RhcnRDaGFyKGMpKSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gcmVhZCgpO1xuICAgICAgICAgICAgbGV4U3RhdGUgPSAnaWRlbnRpZmllck5hbWUnO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBpbnZhbGlkQ2hhcihyZWFkKCkpXG4gICAgfSxcblxuICAgIGFmdGVyUHJvcGVydHlOYW1lICgpIHtcbiAgICAgICAgaWYgKGMgPT09ICc6Jykge1xuICAgICAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdwdW5jdHVhdG9yJywgcmVhZCgpKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgaW52YWxpZENoYXIocmVhZCgpKVxuICAgIH0sXG5cbiAgICBiZWZvcmVQcm9wZXJ0eVZhbHVlICgpIHtcbiAgICAgICAgbGV4U3RhdGUgPSAndmFsdWUnO1xuICAgIH0sXG5cbiAgICBhZnRlclByb3BlcnR5VmFsdWUgKCkge1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgY2FzZSAnLCc6XG4gICAgICAgIGNhc2UgJ30nOlxuICAgICAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdwdW5jdHVhdG9yJywgcmVhZCgpKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgaW52YWxpZENoYXIocmVhZCgpKVxuICAgIH0sXG5cbiAgICBiZWZvcmVBcnJheVZhbHVlICgpIHtcbiAgICAgICAgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdwdW5jdHVhdG9yJywgcmVhZCgpKVxuICAgICAgICB9XG5cbiAgICAgICAgbGV4U3RhdGUgPSAndmFsdWUnO1xuICAgIH0sXG5cbiAgICBhZnRlckFycmF5VmFsdWUgKCkge1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgY2FzZSAnLCc6XG4gICAgICAgIGNhc2UgJ10nOlxuICAgICAgICAgICAgcmV0dXJuIG5ld1Rva2VuKCdwdW5jdHVhdG9yJywgcmVhZCgpKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgaW52YWxpZENoYXIocmVhZCgpKVxuICAgIH0sXG5cbiAgICBlbmQgKCkge1xuICAgICAgICAvLyBUaGlzIGNvZGUgaXMgdW5yZWFjaGFibGUgc2luY2UgaXQncyBoYW5kbGVkIGJ5IHRoZSBkZWZhdWx0IGxleFN0YXRlLlxuICAgICAgICAvLyBpZiAoYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vICAgICByZWFkKClcbiAgICAgICAgLy8gICAgIHJldHVybiBuZXdUb2tlbignZW9mJylcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcbiAgICB9LFxufTtcblxuZnVuY3Rpb24gbmV3VG9rZW4gKHR5cGUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGxpbmUsXG4gICAgICAgIGNvbHVtbixcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxpdGVyYWwgKHMpIHtcbiAgICBmb3IgKGNvbnN0IGMgb2Ygcykge1xuICAgICAgICBjb25zdCBwID0gcGVlaygpO1xuXG4gICAgICAgIGlmIChwICE9PSBjKSB7XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkQ2hhcihyZWFkKCkpXG4gICAgICAgIH1cblxuICAgICAgICByZWFkKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBlc2NhcGUgKCkge1xuICAgIGNvbnN0IGMgPSBwZWVrKCk7XG4gICAgc3dpdGNoIChjKSB7XG4gICAgY2FzZSAnYic6XG4gICAgICAgIHJlYWQoKTtcbiAgICAgICAgcmV0dXJuICdcXGInXG5cbiAgICBjYXNlICdmJzpcbiAgICAgICAgcmVhZCgpO1xuICAgICAgICByZXR1cm4gJ1xcZidcblxuICAgIGNhc2UgJ24nOlxuICAgICAgICByZWFkKCk7XG4gICAgICAgIHJldHVybiAnXFxuJ1xuXG4gICAgY2FzZSAncic6XG4gICAgICAgIHJlYWQoKTtcbiAgICAgICAgcmV0dXJuICdcXHInXG5cbiAgICBjYXNlICd0JzpcbiAgICAgICAgcmVhZCgpO1xuICAgICAgICByZXR1cm4gJ1xcdCdcblxuICAgIGNhc2UgJ3YnOlxuICAgICAgICByZWFkKCk7XG4gICAgICAgIHJldHVybiAnXFx2J1xuXG4gICAgY2FzZSAnMCc6XG4gICAgICAgIHJlYWQoKTtcbiAgICAgICAgaWYgKHV0aWwuaXNEaWdpdChwZWVrKCkpKSB7XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkQ2hhcihyZWFkKCkpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ1xcMCdcblxuICAgIGNhc2UgJ3gnOlxuICAgICAgICByZWFkKCk7XG4gICAgICAgIHJldHVybiBoZXhFc2NhcGUoKVxuXG4gICAgY2FzZSAndSc6XG4gICAgICAgIHJlYWQoKTtcbiAgICAgICAgcmV0dXJuIHVuaWNvZGVFc2NhcGUoKVxuXG4gICAgY2FzZSAnXFxuJzpcbiAgICBjYXNlICdcXHUyMDI4JzpcbiAgICBjYXNlICdcXHUyMDI5JzpcbiAgICAgICAgcmVhZCgpO1xuICAgICAgICByZXR1cm4gJydcblxuICAgIGNhc2UgJ1xccic6XG4gICAgICAgIHJlYWQoKTtcbiAgICAgICAgaWYgKHBlZWsoKSA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJ1xuXG4gICAgY2FzZSAnMSc6XG4gICAgY2FzZSAnMic6XG4gICAgY2FzZSAnMyc6XG4gICAgY2FzZSAnNCc6XG4gICAgY2FzZSAnNSc6XG4gICAgY2FzZSAnNic6XG4gICAgY2FzZSAnNyc6XG4gICAgY2FzZSAnOCc6XG4gICAgY2FzZSAnOSc6XG4gICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcblxuICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICB0aHJvdyBpbnZhbGlkQ2hhcihyZWFkKCkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlYWQoKVxufVxuXG5mdW5jdGlvbiBoZXhFc2NhcGUgKCkge1xuICAgIGxldCBidWZmZXIgPSAnJztcbiAgICBsZXQgYyA9IHBlZWsoKTtcblxuICAgIGlmICghdXRpbC5pc0hleERpZ2l0KGMpKSB7XG4gICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcbiAgICB9XG5cbiAgICBidWZmZXIgKz0gcmVhZCgpO1xuXG4gICAgYyA9IHBlZWsoKTtcbiAgICBpZiAoIXV0aWwuaXNIZXhEaWdpdChjKSkge1xuICAgICAgICB0aHJvdyBpbnZhbGlkQ2hhcihyZWFkKCkpXG4gICAgfVxuXG4gICAgYnVmZmVyICs9IHJlYWQoKTtcblxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludChwYXJzZUludChidWZmZXIsIDE2KSlcbn1cblxuZnVuY3Rpb24gdW5pY29kZUVzY2FwZSAoKSB7XG4gICAgbGV0IGJ1ZmZlciA9ICcnO1xuICAgIGxldCBjb3VudCA9IDQ7XG5cbiAgICB3aGlsZSAoY291bnQtLSA+IDApIHtcbiAgICAgICAgY29uc3QgYyA9IHBlZWsoKTtcbiAgICAgICAgaWYgKCF1dGlsLmlzSGV4RGlnaXQoYykpIHtcbiAgICAgICAgICAgIHRocm93IGludmFsaWRDaGFyKHJlYWQoKSlcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlciArPSByZWFkKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KHBhcnNlSW50KGJ1ZmZlciwgMTYpKVxufVxuXG5jb25zdCBwYXJzZVN0YXRlcyA9IHtcbiAgICBzdGFydCAoKSB7XG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSAnZW9mJykge1xuICAgICAgICAgICAgdGhyb3cgaW52YWxpZEVPRigpXG4gICAgICAgIH1cblxuICAgICAgICBwdXNoKCk7XG4gICAgfSxcblxuICAgIGJlZm9yZVByb3BlcnR5TmFtZSAoKSB7XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICBjYXNlICdpZGVudGlmaWVyJzpcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIGtleSA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgcGFyc2VTdGF0ZSA9ICdhZnRlclByb3BlcnR5TmFtZSc7XG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBjYXNlICdwdW5jdHVhdG9yJzpcbiAgICAgICAgICAgIC8vIFRoaXMgY29kZSBpcyB1bnJlYWNoYWJsZSBzaW5jZSBpdCdzIGhhbmRsZWQgYnkgdGhlIGxleFN0YXRlLlxuICAgICAgICAgICAgLy8gaWYgKHRva2VuLnZhbHVlICE9PSAnfScpIHtcbiAgICAgICAgICAgIC8vICAgICB0aHJvdyBpbnZhbGlkVG9rZW4oKVxuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICBwb3AoKTtcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGNhc2UgJ2VvZic6XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkRU9GKClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgY29kZSBpcyB1bnJlYWNoYWJsZSBzaW5jZSBpdCdzIGhhbmRsZWQgYnkgdGhlIGxleFN0YXRlLlxuICAgICAgICAvLyB0aHJvdyBpbnZhbGlkVG9rZW4oKVxuICAgIH0sXG5cbiAgICBhZnRlclByb3BlcnR5TmFtZSAoKSB7XG4gICAgICAgIC8vIFRoaXMgY29kZSBpcyB1bnJlYWNoYWJsZSBzaW5jZSBpdCdzIGhhbmRsZWQgYnkgdGhlIGxleFN0YXRlLlxuICAgICAgICAvLyBpZiAodG9rZW4udHlwZSAhPT0gJ3B1bmN0dWF0b3InIHx8IHRva2VuLnZhbHVlICE9PSAnOicpIHtcbiAgICAgICAgLy8gICAgIHRocm93IGludmFsaWRUb2tlbigpXG4gICAgICAgIC8vIH1cblxuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gJ2VvZicpIHtcbiAgICAgICAgICAgIHRocm93IGludmFsaWRFT0YoKVxuICAgICAgICB9XG5cbiAgICAgICAgcGFyc2VTdGF0ZSA9ICdiZWZvcmVQcm9wZXJ0eVZhbHVlJztcbiAgICB9LFxuXG4gICAgYmVmb3JlUHJvcGVydHlWYWx1ZSAoKSB7XG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSAnZW9mJykge1xuICAgICAgICAgICAgdGhyb3cgaW52YWxpZEVPRigpXG4gICAgICAgIH1cblxuICAgICAgICBwdXNoKCk7XG4gICAgfSxcblxuICAgIGJlZm9yZUFycmF5VmFsdWUgKCkge1xuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gJ2VvZicpIHtcbiAgICAgICAgICAgIHRocm93IGludmFsaWRFT0YoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09ICdwdW5jdHVhdG9yJyAmJiB0b2tlbi52YWx1ZSA9PT0gJ10nKSB7XG4gICAgICAgICAgICBwb3AoKTtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgcHVzaCgpO1xuICAgIH0sXG5cbiAgICBhZnRlclByb3BlcnR5VmFsdWUgKCkge1xuICAgICAgICAvLyBUaGlzIGNvZGUgaXMgdW5yZWFjaGFibGUgc2luY2UgaXQncyBoYW5kbGVkIGJ5IHRoZSBsZXhTdGF0ZS5cbiAgICAgICAgLy8gaWYgKHRva2VuLnR5cGUgIT09ICdwdW5jdHVhdG9yJykge1xuICAgICAgICAvLyAgICAgdGhyb3cgaW52YWxpZFRva2VuKClcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSAnZW9mJykge1xuICAgICAgICAgICAgdGhyb3cgaW52YWxpZEVPRigpXG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XG4gICAgICAgIGNhc2UgJywnOlxuICAgICAgICAgICAgcGFyc2VTdGF0ZSA9ICdiZWZvcmVQcm9wZXJ0eU5hbWUnO1xuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgY2FzZSAnfSc6XG4gICAgICAgICAgICBwb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgY29kZSBpcyB1bnJlYWNoYWJsZSBzaW5jZSBpdCdzIGhhbmRsZWQgYnkgdGhlIGxleFN0YXRlLlxuICAgICAgICAvLyB0aHJvdyBpbnZhbGlkVG9rZW4oKVxuICAgIH0sXG5cbiAgICBhZnRlckFycmF5VmFsdWUgKCkge1xuICAgICAgICAvLyBUaGlzIGNvZGUgaXMgdW5yZWFjaGFibGUgc2luY2UgaXQncyBoYW5kbGVkIGJ5IHRoZSBsZXhTdGF0ZS5cbiAgICAgICAgLy8gaWYgKHRva2VuLnR5cGUgIT09ICdwdW5jdHVhdG9yJykge1xuICAgICAgICAvLyAgICAgdGhyb3cgaW52YWxpZFRva2VuKClcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSAnZW9mJykge1xuICAgICAgICAgICAgdGhyb3cgaW52YWxpZEVPRigpXG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XG4gICAgICAgIGNhc2UgJywnOlxuICAgICAgICAgICAgcGFyc2VTdGF0ZSA9ICdiZWZvcmVBcnJheVZhbHVlJztcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGNhc2UgJ10nOlxuICAgICAgICAgICAgcG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGlzIGNvZGUgaXMgdW5yZWFjaGFibGUgc2luY2UgaXQncyBoYW5kbGVkIGJ5IHRoZSBsZXhTdGF0ZS5cbiAgICAgICAgLy8gdGhyb3cgaW52YWxpZFRva2VuKClcbiAgICB9LFxuXG4gICAgZW5kICgpIHtcbiAgICAgICAgLy8gVGhpcyBjb2RlIGlzIHVucmVhY2hhYmxlIHNpbmNlIGl0J3MgaGFuZGxlZCBieSB0aGUgbGV4U3RhdGUuXG4gICAgICAgIC8vIGlmICh0b2tlbi50eXBlICE9PSAnZW9mJykge1xuICAgICAgICAvLyAgICAgdGhyb3cgaW52YWxpZFRva2VuKClcbiAgICAgICAgLy8gfVxuICAgIH0sXG59O1xuXG5mdW5jdGlvbiBwdXNoICgpIHtcbiAgICBsZXQgdmFsdWU7XG5cbiAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICBjYXNlICdwdW5jdHVhdG9yJzpcbiAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xuICAgICAgICBjYXNlICd7JzpcbiAgICAgICAgICAgIHZhbHVlID0ge307XG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgJ1snOlxuICAgICAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBicmVha1xuXG4gICAgY2FzZSAnbnVsbCc6XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgY2FzZSAnbnVtZXJpYyc6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgdmFsdWUgPSB0b2tlbi52YWx1ZTtcbiAgICAgICAgYnJlYWtcblxuICAgIC8vIFRoaXMgY29kZSBpcyB1bnJlYWNoYWJsZS5cbiAgICAvLyBkZWZhdWx0OlxuICAgIC8vICAgICB0aHJvdyBpbnZhbGlkVG9rZW4oKVxuICAgIH1cblxuICAgIGlmIChyb290ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcm9vdCA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJlbnQpKSB7XG4gICAgICAgICAgICBwYXJlbnQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFyZW50LCBrZXksIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgc3RhY2sucHVzaCh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBwYXJzZVN0YXRlID0gJ2JlZm9yZUFycmF5VmFsdWUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VTdGF0ZSA9ICdiZWZvcmVQcm9wZXJ0eU5hbWUnO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICBwYXJzZVN0YXRlID0gJ2VuZCc7XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50KSkge1xuICAgICAgICAgICAgcGFyc2VTdGF0ZSA9ICdhZnRlckFycmF5VmFsdWUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VTdGF0ZSA9ICdhZnRlclByb3BlcnR5VmFsdWUnO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwb3AgKCkge1xuICAgIHN0YWNrLnBvcCgpO1xuXG4gICAgY29uc3QgY3VycmVudCA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICAgICAgcGFyc2VTdGF0ZSA9ICdlbmQnO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50KSkge1xuICAgICAgICBwYXJzZVN0YXRlID0gJ2FmdGVyQXJyYXlWYWx1ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VTdGF0ZSA9ICdhZnRlclByb3BlcnR5VmFsdWUnO1xuICAgIH1cbn1cblxuLy8gVGhpcyBjb2RlIGlzIHVucmVhY2hhYmxlLlxuLy8gZnVuY3Rpb24gaW52YWxpZFBhcnNlU3RhdGUgKCkge1xuLy8gICAgIHJldHVybiBuZXcgRXJyb3IoYEpTT041OiBpbnZhbGlkIHBhcnNlIHN0YXRlICcke3BhcnNlU3RhdGV9J2ApXG4vLyB9XG5cbi8vIFRoaXMgY29kZSBpcyB1bnJlYWNoYWJsZS5cbi8vIGZ1bmN0aW9uIGludmFsaWRMZXhTdGF0ZSAoc3RhdGUpIHtcbi8vICAgICByZXR1cm4gbmV3IEVycm9yKGBKU09ONTogaW52YWxpZCBsZXggc3RhdGUgJyR7c3RhdGV9J2ApXG4vLyB9XG5cbmZ1bmN0aW9uIGludmFsaWRDaGFyIChjKSB7XG4gICAgaWYgKGMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3ludGF4RXJyb3IoYEpTT041OiBpbnZhbGlkIGVuZCBvZiBpbnB1dCBhdCAke2xpbmV9OiR7Y29sdW1ufWApXG4gICAgfVxuXG4gICAgcmV0dXJuIHN5bnRheEVycm9yKGBKU09ONTogaW52YWxpZCBjaGFyYWN0ZXIgJyR7Zm9ybWF0Q2hhcihjKX0nIGF0ICR7bGluZX06JHtjb2x1bW59YClcbn1cblxuZnVuY3Rpb24gaW52YWxpZEVPRiAoKSB7XG4gICAgcmV0dXJuIHN5bnRheEVycm9yKGBKU09ONTogaW52YWxpZCBlbmQgb2YgaW5wdXQgYXQgJHtsaW5lfToke2NvbHVtbn1gKVxufVxuXG4vLyBUaGlzIGNvZGUgaXMgdW5yZWFjaGFibGUuXG4vLyBmdW5jdGlvbiBpbnZhbGlkVG9rZW4gKCkge1xuLy8gICAgIGlmICh0b2tlbi50eXBlID09PSAnZW9mJykge1xuLy8gICAgICAgICByZXR1cm4gc3ludGF4RXJyb3IoYEpTT041OiBpbnZhbGlkIGVuZCBvZiBpbnB1dCBhdCAke2xpbmV9OiR7Y29sdW1ufWApXG4vLyAgICAgfVxuXG4vLyAgICAgY29uc3QgYyA9IFN0cmluZy5mcm9tQ29kZVBvaW50KHRva2VuLnZhbHVlLmNvZGVQb2ludEF0KDApKVxuLy8gICAgIHJldHVybiBzeW50YXhFcnJvcihgSlNPTjU6IGludmFsaWQgY2hhcmFjdGVyICcke2Zvcm1hdENoYXIoYyl9JyBhdCAke2xpbmV9OiR7Y29sdW1ufWApXG4vLyB9XG5cbmZ1bmN0aW9uIGludmFsaWRJZGVudGlmaWVyICgpIHtcbiAgICBjb2x1bW4gLT0gNTtcbiAgICByZXR1cm4gc3ludGF4RXJyb3IoYEpTT041OiBpbnZhbGlkIGlkZW50aWZpZXIgY2hhcmFjdGVyIGF0ICR7bGluZX06JHtjb2x1bW59YClcbn1cblxuZnVuY3Rpb24gc2VwYXJhdG9yQ2hhciAoYykge1xuICAgIGNvbnNvbGUud2FybihgSlNPTjU6ICcke2Zvcm1hdENoYXIoYyl9JyBpbiBzdHJpbmdzIGlzIG5vdCB2YWxpZCBFQ01BU2NyaXB0OyBjb25zaWRlciBlc2NhcGluZ2ApO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRDaGFyIChjKSB7XG4gICAgY29uc3QgcmVwbGFjZW1lbnRzID0ge1xuICAgICAgICBcIidcIjogXCJcXFxcJ1wiLFxuICAgICAgICAnXCInOiAnXFxcXFwiJyxcbiAgICAgICAgJ1xcXFwnOiAnXFxcXFxcXFwnLFxuICAgICAgICAnXFxiJzogJ1xcXFxiJyxcbiAgICAgICAgJ1xcZic6ICdcXFxcZicsXG4gICAgICAgICdcXG4nOiAnXFxcXG4nLFxuICAgICAgICAnXFxyJzogJ1xcXFxyJyxcbiAgICAgICAgJ1xcdCc6ICdcXFxcdCcsXG4gICAgICAgICdcXHYnOiAnXFxcXHYnLFxuICAgICAgICAnXFwwJzogJ1xcXFwwJyxcbiAgICAgICAgJ1xcdTIwMjgnOiAnXFxcXHUyMDI4JyxcbiAgICAgICAgJ1xcdTIwMjknOiAnXFxcXHUyMDI5JyxcbiAgICB9O1xuXG4gICAgaWYgKHJlcGxhY2VtZW50c1tjXSkge1xuICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnRzW2NdXG4gICAgfVxuXG4gICAgaWYgKGMgPCAnICcpIHtcbiAgICAgICAgY29uc3QgaGV4U3RyaW5nID0gYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgcmV0dXJuICdcXFxceCcgKyAoJzAwJyArIGhleFN0cmluZykuc3Vic3RyaW5nKGhleFN0cmluZy5sZW5ndGgpXG4gICAgfVxuXG4gICAgcmV0dXJuIGNcbn1cblxuZnVuY3Rpb24gc3ludGF4RXJyb3IgKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnIgPSBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSk7XG4gICAgZXJyLmxpbmVOdW1iZXIgPSBsaW5lO1xuICAgIGVyci5jb2x1bW5OdW1iZXIgPSBjb2x1bW47XG4gICAgcmV0dXJuIGVyclxufVxuXG52YXIgc3RyaW5naWZ5ID0gZnVuY3Rpb24gc3RyaW5naWZ5ICh2YWx1ZSwgcmVwbGFjZXIsIHNwYWNlKSB7XG4gICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICBsZXQgaW5kZW50ID0gJyc7XG4gICAgbGV0IHByb3BlcnR5TGlzdDtcbiAgICBsZXQgcmVwbGFjZXJGdW5jO1xuICAgIGxldCBnYXAgPSAnJztcbiAgICBsZXQgcXVvdGU7XG5cbiAgICBpZiAoXG4gICAgICAgIHJlcGxhY2VyICE9IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIHJlcGxhY2VyID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAhQXJyYXkuaXNBcnJheShyZXBsYWNlcilcbiAgICApIHtcbiAgICAgICAgc3BhY2UgPSByZXBsYWNlci5zcGFjZTtcbiAgICAgICAgcXVvdGUgPSByZXBsYWNlci5xdW90ZTtcbiAgICAgICAgcmVwbGFjZXIgPSByZXBsYWNlci5yZXBsYWNlcjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJlcGxhY2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlcGxhY2VyRnVuYyA9IHJlcGxhY2VyO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZXBsYWNlcikpIHtcbiAgICAgICAgcHJvcGVydHlMaXN0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiByZXBsYWNlcikge1xuICAgICAgICAgICAgbGV0IGl0ZW07XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gdjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgdHlwZW9mIHYgPT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgdiBpbnN0YW5jZW9mIFN0cmluZyB8fFxuICAgICAgICAgICAgICAgIHYgaW5zdGFuY2VvZiBOdW1iZXJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBTdHJpbmcodik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpdGVtICE9PSB1bmRlZmluZWQgJiYgcHJvcGVydHlMaXN0LmluZGV4T2YoaXRlbSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHlMaXN0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3BhY2UgaW5zdGFuY2VvZiBOdW1iZXIpIHtcbiAgICAgICAgc3BhY2UgPSBOdW1iZXIoc3BhY2UpO1xuICAgIH0gZWxzZSBpZiAoc3BhY2UgaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgICAgc3BhY2UgPSBTdHJpbmcoc3BhY2UpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc3BhY2UgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChzcGFjZSA+IDApIHtcbiAgICAgICAgICAgIHNwYWNlID0gTWF0aC5taW4oMTAsIE1hdGguZmxvb3Ioc3BhY2UpKTtcbiAgICAgICAgICAgIGdhcCA9ICcgICAgICAgICAgJy5zdWJzdHIoMCwgc3BhY2UpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3BhY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGdhcCA9IHNwYWNlLnN1YnN0cigwLCAxMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlcmlhbGl6ZVByb3BlcnR5KCcnLCB7Jyc6IHZhbHVlfSlcblxuICAgIGZ1bmN0aW9uIHNlcmlhbGl6ZVByb3BlcnR5IChrZXksIGhvbGRlcikge1xuICAgICAgICBsZXQgdmFsdWUgPSBob2xkZXJba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUudG9KU09ONSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9KU09ONShrZXkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0pTT04oa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXBsYWNlckZ1bmMpIHtcbiAgICAgICAgICAgIHZhbHVlID0gcmVwbGFjZXJGdW5jLmNhbGwoaG9sZGVyLCBrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE51bWJlcikge1xuICAgICAgICAgICAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBCb29sZWFuKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnZhbHVlT2YoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgY2FzZSBudWxsOiByZXR1cm4gJ251bGwnXG4gICAgICAgIGNhc2UgdHJ1ZTogcmV0dXJuICd0cnVlJ1xuICAgICAgICBjYXNlIGZhbHNlOiByZXR1cm4gJ2ZhbHNlJ1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBxdW90ZVN0cmluZyh2YWx1ZSwgZmFsc2UpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBzZXJpYWxpemVBcnJheSh2YWx1ZSkgOiBzZXJpYWxpemVPYmplY3QodmFsdWUpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcXVvdGVTdHJpbmcgKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHF1b3RlcyA9IHtcbiAgICAgICAgICAgIFwiJ1wiOiAwLjEsXG4gICAgICAgICAgICAnXCInOiAwLjIsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVwbGFjZW1lbnRzID0ge1xuICAgICAgICAgICAgXCInXCI6IFwiXFxcXCdcIixcbiAgICAgICAgICAgICdcIic6ICdcXFxcXCInLFxuICAgICAgICAgICAgJ1xcXFwnOiAnXFxcXFxcXFwnLFxuICAgICAgICAgICAgJ1xcYic6ICdcXFxcYicsXG4gICAgICAgICAgICAnXFxmJzogJ1xcXFxmJyxcbiAgICAgICAgICAgICdcXG4nOiAnXFxcXG4nLFxuICAgICAgICAgICAgJ1xccic6ICdcXFxccicsXG4gICAgICAgICAgICAnXFx0JzogJ1xcXFx0JyxcbiAgICAgICAgICAgICdcXHYnOiAnXFxcXHYnLFxuICAgICAgICAgICAgJ1xcMCc6ICdcXFxcMCcsXG4gICAgICAgICAgICAnXFx1MjAyOCc6ICdcXFxcdTIwMjgnLFxuICAgICAgICAgICAgJ1xcdTIwMjknOiAnXFxcXHUyMDI5JyxcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgcHJvZHVjdCA9ICcnO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSB2YWx1ZVtpXTtcbiAgICAgICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgY2FzZSBcIidcIjpcbiAgICAgICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICAgICAgICBxdW90ZXNbY10rKztcbiAgICAgICAgICAgICAgICBwcm9kdWN0ICs9IGM7XG4gICAgICAgICAgICAgICAgY29udGludWVcblxuICAgICAgICAgICAgY2FzZSAnXFwwJzpcbiAgICAgICAgICAgICAgICBpZiAodXRpbC5pc0RpZ2l0KHZhbHVlW2kgKyAxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdCArPSAnXFxcXHgwMCc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVwbGFjZW1lbnRzW2NdKSB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdCArPSByZXBsYWNlbWVudHNbY107XG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGMgPCAnICcpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGV4U3RyaW5nID0gYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICBwcm9kdWN0ICs9ICdcXFxceCcgKyAoJzAwJyArIGhleFN0cmluZykuc3Vic3RyaW5nKGhleFN0cmluZy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByb2R1Y3QgKz0gYztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHF1b3RlQ2hhciA9IHF1b3RlIHx8IE9iamVjdC5rZXlzKHF1b3RlcykucmVkdWNlKChhLCBiKSA9PiAocXVvdGVzW2FdIDwgcXVvdGVzW2JdKSA/IGEgOiBiKTtcblxuICAgICAgICBwcm9kdWN0ID0gcHJvZHVjdC5yZXBsYWNlKG5ldyBSZWdFeHAocXVvdGVDaGFyLCAnZycpLCByZXBsYWNlbWVudHNbcXVvdGVDaGFyXSk7XG5cbiAgICAgICAgcmV0dXJuIHF1b3RlQ2hhciArIHByb2R1Y3QgKyBxdW90ZUNoYXJcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXJpYWxpemVPYmplY3QgKHZhbHVlKSB7XG4gICAgICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ0NvbnZlcnRpbmcgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEpTT041JylcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YWNrLnB1c2godmFsdWUpO1xuXG4gICAgICAgIGxldCBzdGVwYmFjayA9IGluZGVudDtcbiAgICAgICAgaW5kZW50ID0gaW5kZW50ICsgZ2FwO1xuXG4gICAgICAgIGxldCBrZXlzID0gcHJvcGVydHlMaXN0IHx8IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgICAgICAgbGV0IHBhcnRpYWwgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlTdHJpbmcgPSBzZXJpYWxpemVQcm9wZXJ0eShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eVN0cmluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1lbWJlciA9IHNlcmlhbGl6ZUtleShrZXkpICsgJzonO1xuICAgICAgICAgICAgICAgIGlmIChnYXAgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlciArPSAnICc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lbWJlciArPSBwcm9wZXJ0eVN0cmluZztcbiAgICAgICAgICAgICAgICBwYXJ0aWFsLnB1c2gobWVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmaW5hbDtcbiAgICAgICAgaWYgKHBhcnRpYWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBmaW5hbCA9ICd7fSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcHJvcGVydGllcztcbiAgICAgICAgICAgIGlmIChnYXAgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllcyA9IHBhcnRpYWwuam9pbignLCcpO1xuICAgICAgICAgICAgICAgIGZpbmFsID0gJ3snICsgcHJvcGVydGllcyArICd9JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlcGFyYXRvciA9ICcsXFxuJyArIGluZGVudDtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzID0gcGFydGlhbC5qb2luKHNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgZmluYWwgPSAne1xcbicgKyBpbmRlbnQgKyBwcm9wZXJ0aWVzICsgJyxcXG4nICsgc3RlcGJhY2sgKyAnfSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgaW5kZW50ID0gc3RlcGJhY2s7XG4gICAgICAgIHJldHVybiBmaW5hbFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlcmlhbGl6ZUtleSAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVvdGVTdHJpbmcoa2V5LCB0cnVlKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3RDaGFyID0gU3RyaW5nLmZyb21Db2RlUG9pbnQoa2V5LmNvZGVQb2ludEF0KDApKTtcbiAgICAgICAgaWYgKCF1dGlsLmlzSWRTdGFydENoYXIoZmlyc3RDaGFyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHF1b3RlU3RyaW5nKGtleSwgdHJ1ZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSBmaXJzdENoYXIubGVuZ3RoOyBpIDwga2V5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXV0aWwuaXNJZENvbnRpbnVlQ2hhcihTdHJpbmcuZnJvbUNvZGVQb2ludChrZXkuY29kZVBvaW50QXQoaSkpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxdW90ZVN0cmluZyhrZXksIHRydWUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ga2V5XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VyaWFsaXplQXJyYXkgKHZhbHVlKSB7XG4gICAgICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ0NvbnZlcnRpbmcgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEpTT041JylcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YWNrLnB1c2godmFsdWUpO1xuXG4gICAgICAgIGxldCBzdGVwYmFjayA9IGluZGVudDtcbiAgICAgICAgaW5kZW50ID0gaW5kZW50ICsgZ2FwO1xuXG4gICAgICAgIGxldCBwYXJ0aWFsID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5U3RyaW5nID0gc2VyaWFsaXplUHJvcGVydHkoU3RyaW5nKGkpLCB2YWx1ZSk7XG4gICAgICAgICAgICBwYXJ0aWFsLnB1c2goKHByb3BlcnR5U3RyaW5nICE9PSB1bmRlZmluZWQpID8gcHJvcGVydHlTdHJpbmcgOiAnbnVsbCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZpbmFsO1xuICAgICAgICBpZiAocGFydGlhbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZpbmFsID0gJ1tdJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChnYXAgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb3BlcnRpZXMgPSBwYXJ0aWFsLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgICBmaW5hbCA9ICdbJyArIHByb3BlcnRpZXMgKyAnXSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBzZXBhcmF0b3IgPSAnLFxcbicgKyBpbmRlbnQ7XG4gICAgICAgICAgICAgICAgbGV0IHByb3BlcnRpZXMgPSBwYXJ0aWFsLmpvaW4oc2VwYXJhdG9yKTtcbiAgICAgICAgICAgICAgICBmaW5hbCA9ICdbXFxuJyArIGluZGVudCArIHByb3BlcnRpZXMgKyAnLFxcbicgKyBzdGVwYmFjayArICddJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBpbmRlbnQgPSBzdGVwYmFjaztcbiAgICAgICAgcmV0dXJuIGZpbmFsXG4gICAgfVxufTtcblxuY29uc3QgSlNPTjUgPSB7XG4gICAgcGFyc2UsXG4gICAgc3RyaW5naWZ5LFxufTtcblxudmFyIGxpYiA9IEpTT041O1xuXG5leHBvcnQgZGVmYXVsdCBsaWI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/vision/node_modules/json5/dist/index.mjs\n");

/***/ })

};
;